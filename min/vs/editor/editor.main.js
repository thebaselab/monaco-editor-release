/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.0.0(c509fe564cf755705abebce648bf5e29ef98eb62)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var re=["exports","require","vs/base/common/lifecycle","vs/nls","vs/base/browser/dom","vs/editor/common/core/range","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/base/common/strings","vs/platform/contextkey/common/contextkey","vs/base/common/arrays","vs/base/common/async","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/types","vs/editor/common/editorContextKeys","vs/base/common/observable","vs/base/common/uri","vs/editor/common/core/selection","vs/platform/commands/common/commands","vs/platform/theme/common/themeService","vs/base/common/codicons","vs/editor/common/languages","vs/platform/configuration/common/configuration","vs/platform/actions/common/actions","vs/base/common/themables","vs/platform/keybinding/common/keybinding","vs/platform/theme/common/colorRegistry","vs/base/common/color","vs/editor/common/languages/languageConfigurationRegistry","vs/editor/browser/services/codeEditorService","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/base/browser/fastDomNode","vs/base/common/actions","vs/editor/common/model","vs/editor/common/languages/language","vs/base/browser/ui/hover/hoverDelegateFactory","vs/base/common/map","vs/base/browser/keyboardEvent","vs/base/common/network","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/platform/notification/common/notification","vs/base/common/resources","vs/editor/common/services/model","vs/base/browser/window","vs/base/common/iterator","vs/base/common/objects","vs/base/common/htmlContent","vs/editor/common/core/lineRange","vs/editor/browser/view/viewPart","vs/platform/contextview/browser/contextView","vs/base/common/stopwatch","vs/platform/accessibility/common/accessibility","vs/platform/log/common/log","vs/platform/opener/common/opener","vs/platform/quickinput/common/quickInput","vs/platform/telemetry/common/telemetry","vs/base/browser/browser","vs/editor/common/core/offsetRange","vs/base/common/arraysFind","vs/base/browser/touch","vs/editor/contrib/hover/browser/hoverTypes","vs/base/common/keyCodes","vs/base/common/linkedList","vs/base/common/observableInternal/derived","vs/base/browser/mouseEvent","vs/editor/browser/config/domFontInfo","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/editor/common/services/resolverService","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/platform/theme/common/iconRegistry","vs/editor/common/core/editorColorRegistry","vs/base/browser/ui/hover/hoverDelegate2","vs/base/common/filters","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/browser/widget/diffEditor/utils","vs/base/browser/ui/actionbar/actionbar","vs/platform/theme/common/colorUtils","vs/base/common/assert","vs/base/common/hierarchicalKind","vs/base/common/observableInternal/base","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/tokens/lineTokens","vs/editor/common/viewModel","vs/platform/progress/common/progress","vs/platform/theme/common/theme","vs/base/common/lazy","vs/base/common/path","vs/platform/storage/common/storage","vs/base/common/equals","vs/base/browser/trustedTypes","vs/editor/common/core/textEdit","vs/editor/common/diff/rangeMapping","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/platform/theme/browser/defaultStyles","vs/base/common/severity","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/list/listWidget","vs/editor/common/core/stringBuilder","vs/editor/common/core/textLength","vs/editor/common/services/editorWorker","vs/platform/clipboard/common/clipboardService","vs/platform/hover/browser/hover","vs/platform/layout/browser/layoutService","vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/common/colors/baseColors","vs/platform/actions/browser/menuEntryActionViewItem","vs/base/common/decorators","vs/base/common/functional","vs/base/common/mime","vs/base/common/hash","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/platform/theme/common/colors/editorColors","vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget","vs/base/common/keybindings","vs/base/common/numbers","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/editorFeatures","vs/editor/common/encodedTokenAttributes","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/logging","vs/base/common/hotReloadHelpers","vs/base/common/scrollable","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/toggle/toggle","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/browser/observableCodeEditor","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/languages/supports","vs/editor/common/viewEventHandler","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/tree/abstractTree","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/contextkey/common/contextkeys","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/common/commands/shiftCommand","vs/editor/contrib/message/browser/messageController","vs/editor/browser/editorDom","vs/editor/browser/widget/diffEditor/registrations.contribution","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/codiconsUtil","vs/base/common/uint","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/editor/contrib/hover/browser/hoverActionIds","vs/editor/common/services/textResourceConfiguration","vs/editor/browser/controller/textAreaInput","vs/editor/common/cursor/cursorTypeEditOperations","vs/editor/browser/coreCommands","vs/platform/list/browser/listService","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/toolbar","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/browser/canIUse","vs/base/common/observableInternal/utils","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/ternarySearchTree","vs/base/common/marshalling","vs/base/browser/pixelRatio","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/mouseCursor/mouseCursor","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/list/listView","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/browser/view/viewLayer","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/common/languages/supports/indentationLineProcessor","vs/editor/common/languages/autoIndent","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/base/common/keybindingLabels","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/environment/common/environment","vs/platform/quickinput/browser/quickInput","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/enterAction","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/platform/theme/common/colors/miscColors","vs/platform/theme/common/colors/listColors","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/inlineEdit/browser/inlineEditController","vs/editor/browser/widget/diffEditor/diffEditorWidget","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/hover/browser/hoverController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/observableInternal/autorun","vs/base/browser/fonts","vs/base/common/process","vs/base/common/hotReload","vs/base/common/ime","vs/base/common/symbols","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/splitview/splitview","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/widget/diffEditor/components/diffEditorSash","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/core/textChange","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/languageSelector","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/indentation/common/indentUtils","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/contrib/placeholderText/browser/placeholderTextContribution","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/errorMessage","vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/editor/browser/widget/multiDiffEditor/utils","vs/editor/browser/config/fontMeasurements","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/model/editStack","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/viewModel/viewModelDecorations","vs/platform/accessibility/browser/accessibleViewRegistry","vs/platform/action/common/action","vs/platform/files/common/files","vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/inlineEdits/browser/consts","vs/editor/contrib/hover/browser/contentHoverStatusBar","vs/editor/contrib/hover/browser/contentHoverWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/contextview/browser/contextViewService","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/observable/common/platformObservableUtils","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/platform/actions/common/menuService","vs/editor/browser/widget/diffEditor/diffProviderFactoryService","vs/editor/browser/widget/diffEditor/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/platform/theme/common/colors/inputColors","vs/platform/theme/common/colors/minimapColors","vs/editor/browser/controller/mouseTarget","vs/editor/browser/widget/diffEditor/features/overviewRulerFeature","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineEdits/browser/inlineEditsWidget","vs/editor/contrib/inlineEdits/browser/inlineEditsController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/naturalLanguage/korean","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/lazyObservableValue","vs/base/common/observableInternal/api","vs/base/common/observableInternal/promise","vs/base/browser/ui/list/rangeMap","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/common/search","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/tfIdf","vs/base/common/codiconsLibrary","vs/base/browser/domObservable","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hoverWidget","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/services/hoverService/hover","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/codeEditor/editor","vs/css!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/css!vs/editor/browser/widget/diffEditor/style","vs/css!vs/editor/browser/widget/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/browser/widget/multiDiffEditor/style","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEdit","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/css!vs/editor/contrib/inlineEdits/browser/inlineEditsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/placeholderText/browser/placeholderText","vs/css!vs/editor/contrib/rename/browser/renameWidget","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/codeEditor/codeEditorContributions","vs/editor/browser/widget/diffEditor/delegatingEditorImpl","vs/editor/browser/widget/multiDiffEditor/objectPool","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/browser/widget/diffEditor/utils/editorGutter","vs/editor/common/core/positionToOffset","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/tokenization","vs/editor/common/languageFeatureRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelText","vs/editor/common/services/findSectionHeaders","vs/editor/common/services/semanticTokensDto","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/browser/view/domLineBreaksComputer","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/glyphLanesModel","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/hover/browser/contentHoverComputer","vs/editor/contrib/hover/browser/contentHoverTypes","vs/editor/contrib/hover/browser/marginHoverComputer","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsAccessibleView","vs/editor/contrib/inlineEdit/browser/commandIds","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/editor/browser/services/hoverService/updatableHoverWidget","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/renderLines","vs/editor/contrib/hover/browser/hoverAccessibleViews","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineEdit/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/editor/browser/widget/diffEditor/diffEditorOptions","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/platform/observable/common/wrapInReloadableClass","vs/editor/browser/services/openerService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/hoverService/hoverWidget","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/browser/marginHoverWidget","vs/editor/contrib/indentation/common/indentation","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/quickInputActions","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/platform/theme/common/colors/menuColors","vs/platform/theme/common/colors/chartsColors","vs/platform/theme/common/colors/quickpickColors","vs/platform/theme/common/colors/searchColors","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/multiDiffEditor/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/services/hoverService/hoverService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/placeholderText/browser/placeholderText.contribution","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameWidget","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/editor/browser/widget/diffEditor/features/gutterFeature","vs/editor/contrib/inlineEdit/browser/commands","vs/editor/contrib/inlineEdit/browser/hoverParticipant","vs/editor/contrib/inlineEdit/browser/inlineEdit.contribution","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputTree","vs/platform/quickinput/browser/quickInputController","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditor/components/diffEditorDecorations","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/diffEditorViewZones","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditor/commands","vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidget","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/sectionHeaders/browser/sectionHeaders","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/hover/browser/contentHoverRendered","vs/editor/contrib/hover/browser/contentHoverController","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/hover/browser/hoverActions","vs/editor/contrib/hover/browser/hoverContribution","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/inlineEdits/browser/inlineEditsModel","vs/editor/contrib/inlineEdits/browser/commands","vs/editor/contrib/inlineEdits/browser/inlineEdits.contribution","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ae=function(le){for(var e=[],f=0,k=le.length;f<k;f++)e[f]=re[le[f]];return e};define(re[865],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=f;function f(m,w,b,v){if(v=v||{},(v["vs/css"]||{}).disabled){b({});return}const o=w.toUrl(m+".css");k(m,o,()=>{b({})},t=>{typeof b.error=="function"&&b.error("Could not find "+o+".")})}function k(m,w,b,v){if(E(m,w)){b();return}I(m,w,b,v)}function E(m,w){const b=window.document.getElementsByTagName("link");for(let v=0,s=b.length;v<s;v++){const o=b[v].getAttribute("data-name"),t=b[v].getAttribute("href");if(o===m||t===w)return!0}return!1}function I(m,w,b,v){const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("data-name",m),y(m,s,b,v),s.setAttribute("href",w),(window.document.head||window.document.getElementsByTagName("head")[0]).appendChild(s)}function y(m,w,b,v){const s=()=>{w.removeEventListener("load",o),w.removeEventListener("error",t)},o=i=>{s(),b()},t=i=>{s(),v(i)};w.addEventListener("load",o),w.addEventListener("error",t)}});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Ht,setPrototypeOf:Vt,isFrozen:Xt,getPrototypeOf:Jt,getOwnPropertyDescriptor:ei}=Object;let{freeze:mt,seal:wt,create:ti}=Object,{apply:Rt,construct:Pt}=typeof Reflect<"u"&&Reflect;Rt||(Rt=function(e,f,k){return e.apply(f,k)}),mt||(mt=function(e){return e}),wt||(wt=function(e){return e}),Pt||(Pt=function(e,f){return new e(...f)});const ii=St(Array.prototype.forEach),zt=St(Array.prototype.pop),kt=St(Array.prototype.push),Mt=St(String.prototype.toLowerCase),Ot=St(String.prototype.toString),ni=St(String.prototype.match),yt=St(String.prototype.replace),si=St(String.prototype.indexOf),oi=St(String.prototype.trim),bt=St(RegExp.prototype.test),Tt=ri(TypeError);function St(le){return function(e){for(var f=arguments.length,k=new Array(f>1?f-1:0),E=1;E<f;E++)k[E-1]=arguments[E];return Rt(le,e,k)}}function ri(le){return function(){for(var e=arguments.length,f=new Array(e),k=0;k<e;k++)f[k]=arguments[k];return Pt(le,f)}}function Qe(le,e,f){var k;f=(k=f)!==null&&k!==void 0?k:Mt,Vt&&Vt(le,null);let E=e.length;for(;E--;){let I=e[E];if(typeof I=="string"){const y=f(I);y!==I&&(Xt(e)||(e[E]=y),I=y)}le[I]=!0}return le}function Dt(le){const e=ti(null);for(const[f,k]of Ht(le))e[f]=k;return e}function Nt(le,e){for(;le!==null;){const k=ei(le,e);if(k){if(k.get)return St(k.get);if(typeof k.value=="function")return St(k.value)}le=Jt(le)}function f(k){return console.warn("fallback value for",k),null}return f}const Kt=mt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ft=mt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xt=mt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ai=mt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wt=mt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),li=mt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qt=mt(["#text"]),Ut=mt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bt=mt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jt=mt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),At=mt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),di=wt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ci=wt(/<%[\w\W]*|[\w\W]*%>/gm),ui=wt(/\${[\w\W]*}/gm),hi=wt(/^data-[\-\w.\u00B7-\uFFFF]/),gi=wt(/^aria-[\-\w]+$/),Gt=wt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fi=wt(/^(?:\w+script|data):/i),mi=wt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$t=wt(/^html$/i);var Yt=Object.freeze({__proto__:null,MUSTACHE_EXPR:di,ERB_EXPR:ci,TMPLIT_EXPR:ui,DATA_ATTR:hi,ARIA_ATTR:gi,IS_ALLOWED_URI:Gt,IS_SCRIPT_OR_DATA:fi,ATTR_WHITESPACE:mi,DOCTYPE_NAME:$t});const pi=()=>typeof window>"u"?null:window,vi=function(e,f){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const E="data-tt-policy-suffix";f&&f.hasAttribute(E)&&(k=f.getAttribute(E));const I="dompurify"+(k?"#"+k:"");try{return e.createPolicy(I,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+I+" could not be created."),null}};function Zt(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pi();const e=Se=>Zt(Se);if(e.version="3.0.5",e.removed=[],!le||!le.document||le.document.nodeType!==9)return e.isSupported=!1,e;const f=le.document,k=f.currentScript;let{document:E}=le;const{DocumentFragment:I,HTMLTemplateElement:y,Node:m,Element:w,NodeFilter:b,NamedNodeMap:v=le.NamedNodeMap||le.MozNamedAttrMap,HTMLFormElement:s,DOMParser:o,trustedTypes:t}=le,i=w.prototype,n=Nt(i,"cloneNode"),c=Nt(i,"nextSibling"),u=Nt(i,"childNodes"),r=Nt(i,"parentNode");if(typeof y=="function"){const Se=E.createElement("template");Se.content&&Se.content.ownerDocument&&(E=Se.content.ownerDocument)}let a,l="";const{implementation:d,createNodeIterator:p,createDocumentFragment:h,getElementsByTagName:g}=E,{importNode:C}=f;let S={};e.isSupported=typeof Ht=="function"&&typeof r=="function"&&d&&d.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_,ERB_EXPR:L,TMPLIT_EXPR:D,DATA_ATTR:T,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:R}=Yt;let{IS_ALLOWED_URI:M}=Yt,P=null;const x=Qe({},[...Kt,...Ft,...xt,...Wt,...qt]);let O=null;const B=Qe({},[...Ut,...Bt,...jt,...At]);let H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,V=null,j=!0,U=!0,Y=!1,Q=!0,Z=!1,G=!1,F=!1,J=!1,te=!1,de=!1,he=!1,pe=!0,ue=!1;const ie="user-content-";let se=!0,ne=!1,W={},q=null;const z=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $=null;const X=Qe({},["audio","video","img","source","image","track"]);let ee=null;const oe=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ce="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let _e=ve,Ie=!1,Ce=null;const Ee=Qe({},[ce,fe,ve],Ot);let Le;const Te=["application/xhtml+xml","text/html"],Ae="text/html";let Pe,Re=null;const We=E.createElement("form"),De=function(be){return be instanceof RegExp||be instanceof Function},Ne=function(be){if(!(Re&&Re===be)){if((!be||typeof be!="object")&&(be={}),be=Dt(be),Le=Te.indexOf(be.PARSER_MEDIA_TYPE)===-1?Le=Ae:Le=be.PARSER_MEDIA_TYPE,Pe=Le==="application/xhtml+xml"?Ot:Mt,P="ALLOWED_TAGS"in be?Qe({},be.ALLOWED_TAGS,Pe):x,O="ALLOWED_ATTR"in be?Qe({},be.ALLOWED_ATTR,Pe):B,Ce="ALLOWED_NAMESPACES"in be?Qe({},be.ALLOWED_NAMESPACES,Ot):Ee,ee="ADD_URI_SAFE_ATTR"in be?Qe(Dt(oe),be.ADD_URI_SAFE_ATTR,Pe):oe,$="ADD_DATA_URI_TAGS"in be?Qe(Dt(X),be.ADD_DATA_URI_TAGS,Pe):X,q="FORBID_CONTENTS"in be?Qe({},be.FORBID_CONTENTS,Pe):z,K="FORBID_TAGS"in be?Qe({},be.FORBID_TAGS,Pe):{},V="FORBID_ATTR"in be?Qe({},be.FORBID_ATTR,Pe):{},W="USE_PROFILES"in be?be.USE_PROFILES:!1,j=be.ALLOW_ARIA_ATTR!==!1,U=be.ALLOW_DATA_ATTR!==!1,Y=be.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Z=be.SAFE_FOR_TEMPLATES||!1,G=be.WHOLE_DOCUMENT||!1,te=be.RETURN_DOM||!1,de=be.RETURN_DOM_FRAGMENT||!1,he=be.RETURN_TRUSTED_TYPE||!1,J=be.FORCE_BODY||!1,pe=be.SANITIZE_DOM!==!1,ue=be.SANITIZE_NAMED_PROPS||!1,se=be.KEEP_CONTENT!==!1,ne=be.IN_PLACE||!1,M=be.ALLOWED_URI_REGEXP||Gt,_e=be.NAMESPACE||ve,H=be.CUSTOM_ELEMENT_HANDLING||{},be.CUSTOM_ELEMENT_HANDLING&&De(be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),be.CUSTOM_ELEMENT_HANDLING&&De(be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),be.CUSTOM_ELEMENT_HANDLING&&typeof be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(U=!1),de&&(te=!0),W&&(P=Qe({},[...qt]),O=[],W.html===!0&&(Qe(P,Kt),Qe(O,Ut)),W.svg===!0&&(Qe(P,Ft),Qe(O,Bt),Qe(O,At)),W.svgFilters===!0&&(Qe(P,xt),Qe(O,Bt),Qe(O,At)),W.mathMl===!0&&(Qe(P,Wt),Qe(O,jt),Qe(O,At))),be.ADD_TAGS&&(P===x&&(P=Dt(P)),Qe(P,be.ADD_TAGS,Pe)),be.ADD_ATTR&&(O===B&&(O=Dt(O)),Qe(O,be.ADD_ATTR,Pe)),be.ADD_URI_SAFE_ATTR&&Qe(ee,be.ADD_URI_SAFE_ATTR,Pe),be.FORBID_CONTENTS&&(q===z&&(q=Dt(q)),Qe(q,be.FORBID_CONTENTS,Pe)),se&&(P["#text"]=!0),G&&Qe(P,["html","head","body"]),P.table&&(Qe(P,["tbody"]),delete K.tbody),be.TRUSTED_TYPES_POLICY){if(typeof be.TRUSTED_TYPES_POLICY.createHTML!="function")throw Tt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Tt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');a=be.TRUSTED_TYPES_POLICY,l=a.createHTML("")}else a===void 0&&(a=vi(t,k)),a!==null&&typeof l=="string"&&(l=a.createHTML(""));mt&&mt(be),Re=be}},me=Qe({},["mi","mo","mn","ms","mtext"]),we=Qe({},["foreignobject","desc","title","annotation-xml"]),Fe=Qe({},["title","style","font","a","script"]),xe=Qe({},Ft);Qe(xe,xt),Qe(xe,ai);const je=Qe({},Wt);Qe(je,li);const Ze=function(be){let ye=r(be);(!ye||!ye.tagName)&&(ye={namespaceURI:_e,tagName:"template"});const Me=Mt(be.tagName),Be=Mt(ye.tagName);return Ce[be.namespaceURI]?be.namespaceURI===fe?ye.namespaceURI===ve?Me==="svg":ye.namespaceURI===ce?Me==="svg"&&(Be==="annotation-xml"||me[Be]):!!xe[Me]:be.namespaceURI===ce?ye.namespaceURI===ve?Me==="math":ye.namespaceURI===fe?Me==="math"&&we[Be]:!!je[Me]:be.namespaceURI===ve?ye.namespaceURI===fe&&!we[Be]||ye.namespaceURI===ce&&!me[Be]?!1:!je[Me]&&(Fe[Me]||!xe[Me]):!!(Le==="application/xhtml+xml"&&Ce[be.namespaceURI]):!1},Ye=function(be){kt(e.removed,{element:be});try{be.parentNode.removeChild(be)}catch{be.remove()}},tt=function(be,ye){try{kt(e.removed,{attribute:ye.getAttributeNode(be),from:ye})}catch{kt(e.removed,{attribute:null,from:ye})}if(ye.removeAttribute(be),be==="is"&&!O[be])if(te||de)try{Ye(ye)}catch{}else try{ye.setAttribute(be,"")}catch{}},nt=function(be){let ye,Me;if(J)be="<remove></remove>"+be;else{const He=ni(be,/^[\r\n\t ]+/);Me=He&&He[0]}Le==="application/xhtml+xml"&&_e===ve&&(be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+be+"</body></html>");const Be=a?a.createHTML(be):be;if(_e===ve)try{ye=new o().parseFromString(Be,Le)}catch{}if(!ye||!ye.documentElement){ye=d.createDocument(_e,"template",null);try{ye.documentElement.innerHTML=Ie?l:Be}catch{}}const Ue=ye.body||ye.documentElement;return be&&Me&&Ue.insertBefore(E.createTextNode(Me),Ue.childNodes[0]||null),_e===ve?g.call(ye,G?"html":"body")[0]:G?ye.documentElement:Ue},dt=function(be){return p.call(be.ownerDocument||be,be,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},ct=function(be){return be instanceof s&&(typeof be.nodeName!="string"||typeof be.textContent!="string"||typeof be.removeChild!="function"||!(be.attributes instanceof v)||typeof be.removeAttribute!="function"||typeof be.setAttribute!="function"||typeof be.namespaceURI!="string"||typeof be.insertBefore!="function"||typeof be.hasChildNodes!="function")},st=function(be){return typeof m=="object"?be instanceof m:be&&typeof be=="object"&&typeof be.nodeType=="number"&&typeof be.nodeName=="string"},Je=function(be,ye,Me){S[be]&&ii(S[be],Be=>{Be.call(e,ye,Me,Re)})},ht=function(be){let ye;if(Je("beforeSanitizeElements",be,null),ct(be))return Ye(be),!0;const Me=Pe(be.nodeName);if(Je("uponSanitizeElement",be,{tagName:Me,allowedTags:P}),be.hasChildNodes()&&!st(be.firstElementChild)&&(!st(be.content)||!st(be.content.firstElementChild))&&bt(/<[/\w]/g,be.innerHTML)&&bt(/<[/\w]/g,be.textContent))return Ye(be),!0;if(!P[Me]||K[Me]){if(!K[Me]&&Lt(Me)&&(H.tagNameCheck instanceof RegExp&&bt(H.tagNameCheck,Me)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Me)))return!1;if(se&&!q[Me]){const Be=r(be)||be.parentNode,Ue=u(be)||be.childNodes;if(Ue&&Be){const He=Ue.length;for(let Ke=He-1;Ke>=0;--Ke)Be.insertBefore(n(Ue[Ke],!0),c(be))}}return Ye(be),!0}return be instanceof w&&!Ze(be)||(Me==="noscript"||Me==="noembed"||Me==="noframes")&&bt(/<\/no(script|embed|frames)/i,be.innerHTML)?(Ye(be),!0):(Z&&be.nodeType===3&&(ye=be.textContent,ye=yt(ye,_," "),ye=yt(ye,L," "),ye=yt(ye,D," "),be.textContent!==ye&&(kt(e.removed,{element:be.cloneNode()}),be.textContent=ye)),Je("afterSanitizeElements",be,null),!1)},_t=function(be,ye,Me){if(pe&&(ye==="id"||ye==="name")&&(Me in E||Me in We))return!1;if(!(U&&!V[ye]&&bt(T,ye))){if(!(j&&bt(N,ye))){if(!O[ye]||V[ye]){if(!(Lt(be)&&(H.tagNameCheck instanceof RegExp&&bt(H.tagNameCheck,be)||H.tagNameCheck instanceof Function&&H.tagNameCheck(be))&&(H.attributeNameCheck instanceof RegExp&&bt(H.attributeNameCheck,ye)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(ye))||ye==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&bt(H.tagNameCheck,Me)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Me))))return!1}else if(!ee[ye]){if(!bt(M,yt(Me,R,""))){if(!((ye==="src"||ye==="xlink:href"||ye==="href")&&be!=="script"&&si(Me,"data:")===0&&$[be])){if(!(Y&&!bt(A,yt(Me,R,"")))){if(Me)return!1}}}}}}return!0},Lt=function(be){return be.indexOf("-")>0},ut=function(be){let ye,Me,Be,Ue;Je("beforeSanitizeAttributes",be,null);const{attributes:He}=be;if(!He)return;const Ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(Ue=He.length;Ue--;){ye=He[Ue];const{name:Ge,namespaceURI:ze}=ye;if(Me=Ge==="value"?ye.value:oi(ye.value),Be=Pe(Ge),Ke.attrName=Be,Ke.attrValue=Me,Ke.keepAttr=!0,Ke.forceKeepAttr=void 0,Je("uponSanitizeAttribute",be,Ke),Me=Ke.attrValue,Ke.forceKeepAttr||(tt(Ge,be),!Ke.keepAttr))continue;if(!Q&&bt(/\/>/i,Me)){tt(Ge,be);continue}Z&&(Me=yt(Me,_," "),Me=yt(Me,L," "),Me=yt(Me,D," "));const Oe=Pe(be.nodeName);if(_t(Oe,Be,Me)){if(ue&&(Be==="id"||Be==="name")&&(tt(Ge,be),Me=ie+Me),a&&typeof t=="object"&&typeof t.getAttributeType=="function"&&!ze)switch(t.getAttributeType(Oe,Be)){case"TrustedHTML":{Me=a.createHTML(Me);break}case"TrustedScriptURL":{Me=a.createScriptURL(Me);break}}try{ze?be.setAttributeNS(ze,Ge,Me):be.setAttribute(Ge,Me),zt(e.removed)}catch{}}}Je("afterSanitizeAttributes",be,null)},pt=function Se(be){let ye;const Me=dt(be);for(Je("beforeSanitizeShadowDOM",be,null);ye=Me.nextNode();)Je("uponSanitizeShadowNode",ye,null),!ht(ye)&&(ye.content instanceof I&&Se(ye.content),ut(ye));Je("afterSanitizeShadowDOM",be,null)};return e.sanitize=function(Se){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye,Me,Be,Ue;if(Ie=!Se,Ie&&(Se="<!-->"),typeof Se!="string"&&!st(Se))if(typeof Se.toString=="function"){if(Se=Se.toString(),typeof Se!="string")throw Tt("dirty is not a string, aborting")}else throw Tt("toString is not a function");if(!e.isSupported)return Se;if(F||Ne(be),e.removed=[],typeof Se=="string"&&(ne=!1),ne){if(Se.nodeName){const Ge=Pe(Se.nodeName);if(!P[Ge]||K[Ge])throw Tt("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof m)ye=nt("<!---->"),Me=ye.ownerDocument.importNode(Se,!0),Me.nodeType===1&&Me.nodeName==="BODY"||Me.nodeName==="HTML"?ye=Me:ye.appendChild(Me);else{if(!te&&!Z&&!G&&Se.indexOf("<")===-1)return a&&he?a.createHTML(Se):Se;if(ye=nt(Se),!ye)return te?null:he?l:""}ye&&J&&Ye(ye.firstChild);const He=dt(ne?Se:ye);for(;Be=He.nextNode();)ht(Be)||(Be.content instanceof I&&pt(Be.content),ut(Be));if(ne)return Se;if(te){if(de)for(Ue=h.call(ye.ownerDocument);ye.firstChild;)Ue.appendChild(ye.firstChild);else Ue=ye;return(O.shadowroot||O.shadowrootmode)&&(Ue=C.call(f,Ue,!0)),Ue}let Ke=G?ye.outerHTML:ye.innerHTML;return G&&P["!doctype"]&&ye.ownerDocument&&ye.ownerDocument.doctype&&ye.ownerDocument.doctype.name&&bt($t,ye.ownerDocument.doctype.name)&&(Ke="<!DOCTYPE "+ye.ownerDocument.doctype.name+`>
`+Ke),Z&&(Ke=yt(Ke,_," "),Ke=yt(Ke,L," "),Ke=yt(Ke,D," ")),a&&he?a.createHTML(Ke):Ke},e.setConfig=function(Se){Ne(Se),F=!0},e.clearConfig=function(){Re=null,F=!1},e.isValidAttribute=function(Se,be,ye){Re||Ne({});const Me=Pe(Se),Be=Pe(be);return _t(Me,Be,ye)},e.addHook=function(Se,be){typeof be=="function"&&(S[Se]=S[Se]||[],kt(S[Se],be))},e.removeHook=function(Se){if(S[Se])return zt(S[Se])},e.removeHooks=function(Se){S[Se]&&(S[Se]=[])},e.removeAllHooks=function(){S={}},e}var bi=Zt();define("vs/base/browser/dompurify/dompurify",function(){return bi}),define(re[39],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastDomNode=void 0,e.createFastDomNode=E;class f{constructor(y){this.domNode=y,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){const m=k(y);this._maxWidth!==m&&(this._maxWidth=m,this.domNode.style.maxWidth=this._maxWidth)}setWidth(y){const m=k(y);this._width!==m&&(this._width=m,this.domNode.style.width=this._width)}setHeight(y){const m=k(y);this._height!==m&&(this._height=m,this.domNode.style.height=this._height)}setTop(y){const m=k(y);this._top!==m&&(this._top=m,this.domNode.style.top=this._top)}setLeft(y){const m=k(y);this._left!==m&&(this._left=m,this.domNode.style.left=this._left)}setBottom(y){const m=k(y);this._bottom!==m&&(this._bottom=m,this.domNode.style.bottom=this._bottom)}setRight(y){const m=k(y);this._right!==m&&(this._right=m,this.domNode.style.right=this._right)}setPaddingLeft(y){const m=k(y);this._paddingLeft!==m&&(this._paddingLeft=m,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){const m=k(y);this._fontSize!==m&&(this._fontSize=m,this.domNode.style.fontSize=this._fontSize)}setFontStyle(y){this._fontStyle!==y&&(this._fontStyle=y,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(y){this._fontVariationSettings!==y&&(this._fontVariationSettings=y,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(y){this._textDecoration!==y&&(this._textDecoration=y,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(y){const m=k(y);this._lineHeight!==m&&(this._lineHeight=m,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(y){const m=k(y);this._letterSpacing!==m&&(this._letterSpacing=m,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,m){this.domNode.classList.toggle(y,m),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setColor(y){this._color!==y&&(this._color=y,this.domNode.style.color=this._color)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,m){this.domNode.setAttribute(y,m)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=f;function k(I){return typeof I=="number"?`${I}px`:I}function E(I){return new f(I)}}),define(re[438],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;const f=new WeakMap;function k(I){if(!I.parent||I.parent===I)return null;try{const y=I.location,m=I.parent.location;if(y.origin!=="null"&&m.origin!=="null"&&y.origin!==m.origin)return null}catch{return null}return I.parent}class E{static getSameOriginWindowChain(y){let m=f.get(y);if(!m){m=[],f.set(y,m);let w=y,b;do b=k(w),b?m.push({window:new WeakRef(w),iframeElement:w.frameElement||null}):m.push({window:new WeakRef(w),iframeElement:null}),w=b;while(w)}return m.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(y,m){var w,b;if(!m||y===m)return{top:0,left:0};let v=0,s=0;const o=this.getSameOriginWindowChain(y);for(const t of o){const i=t.window.deref();if(v+=(w=i?.scrollY)!==null&&w!==void 0?w:0,s+=(b=i?.scrollX)!==null&&b!==void 0?b:0,i===m||!t.iframeElement)break;const n=t.iframeElement.getBoundingClientRect();v+=n.top,s+=n.left}return{top:v,left:s}}}e.IframeUtils=E}),define(re[294],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var f;(function(k){const E={total:0,min:Number.MAX_VALUE,max:0},I={...E},y={...E},m={...E};let w=0;const b={keydown:0,input:0,render:0};function v(){l(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),b.keydown=1,queueMicrotask(s)}k.onKeyDown=v;function s(){b.keydown===1&&(performance.mark("keydown/end"),b.keydown=2)}function o(){performance.mark("input/start"),b.input=1,a()}k.onBeforeInput=o;function t(){b.input===0&&o(),queueMicrotask(i)}k.onInput=t;function i(){b.input===1&&(performance.mark("input/end"),b.input=2)}function n(){l()}k.onKeyUp=n;function c(){l()}k.onSelectionChange=c;function u(){b.keydown===2&&b.input===2&&b.render===0&&(performance.mark("render/start"),b.render=1,queueMicrotask(r),a())}k.onRenderStart=u;function r(){b.render===1&&(performance.mark("render/end"),b.render=2)}function a(){setTimeout(l)}function l(){b.keydown===2&&b.input===2&&b.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),d("keydown",E),d("input",I),d("render",y),d("inputlatency",m),w++,p())}function d(S,_){const L=performance.getEntriesByName(S)[0].duration;_.total+=L,_.min=Math.min(_.min,L),_.max=Math.max(_.max,L)}function p(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),b.keydown=0,b.input=0,b.render=0}function h(){if(w===0)return;const S={keydown:g(E),input:g(I),render:g(y),total:g(m),sampleCount:w};return C(E),C(I),C(y),C(m),w=0,S}k.getAndClearMeasurements=h;function g(S){return{average:S.total/w,max:S.max,min:S.min}}function C(S){S.total=0,S.min=Number.MAX_VALUE,S.max=0}})(f||(e.inputLatency=f={}))}),define(re[82],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setBaseLayerHoverDelegate=k,e.getBaseLayerHoverDelegate=E;let f={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function k(I){f=I}function E(){return f}}),define(re[439],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class f extends Error{constructor(E,I){super(`ListError [${E}] ${I}`)}}e.ListError=f}),define(re[440],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class f{constructor(E){this.spliceables=E}splice(E,I,y){this.spliceables.forEach(m=>m.splice(E,I,y))}}e.CombinedSpliceable=f}),define(re[220],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const f=20;class k{constructor(I,y,m,w,b,v){this._scrollbarSize=Math.round(y),this._oppositeScrollbarSize=Math.round(m),this._arrowSize=Math.round(I),this._visibleSize=w,this._scrollSize=b,this._scrollPosition=v,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const y=Math.round(I);return this._visibleSize!==y?(this._visibleSize=y,this._refreshComputedValues(),!0):!1}setScrollSize(I){const y=Math.round(I);return this._scrollSize!==y?(this._scrollSize=y,this._refreshComputedValues(),!0):!1}setScrollPosition(I){const y=Math.round(I);return this._scrollPosition!==y?(this._scrollPosition=y,this._refreshComputedValues(),!0):!1}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,y,m,w,b){const v=Math.max(0,m-I),s=Math.max(0,v-2*y),o=w>0&&w>m;if(!o)return{computedAvailableSize:Math.round(v),computedIsNeeded:o,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const t=Math.round(Math.max(f,Math.floor(m*s/w))),i=(s-t)/(w-m),n=b*i;return{computedAvailableSize:Math.round(v),computedIsNeeded:o,computedSliderSize:Math.round(t),computedSliderRatio:i,computedSliderPosition:Math.round(n)}}_refreshComputedValues(){const I=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const y=I-this._arrowSize-this._computedSliderSize/2;return Math.round(y/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const y=I-this._arrowSize;let m=this._scrollPosition;return y<this._computedSliderPosition?m-=this._visibleSize:m+=this._visibleSize,m}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const y=this._computedSliderPosition+I;return Math.round(y/this._computedSliderRatio)}}e.ScrollbarState=k}),define(re[155],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var f;(function(y){y[y.Expanded=0]="Expanded",y[y.Collapsed=1]="Collapsed",y[y.PreserveOrExpanded=2]="PreserveOrExpanded",y[y.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(f||(e.ObjectTreeElementCollapseState=f={}));var k;(function(y){y[y.Unknown=0]="Unknown",y[y.Twistie=1]="Twistie",y[y.Element=2]="Element",y[y.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class E extends Error{constructor(m,w){super(`TreeError [${m}] ${w}`)}}e.TreeError=E;class I{constructor(m){this.fn=m,this._map=new WeakMap}map(m){let w=this._map.get(m);return w||(w=this.fn(m),this._map.set(m,w)),w}}e.WeakMapper=I}),define(re[52],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainWindow=void 0,e.ensureCodeWindow=f;function f(k,E){const I=k;typeof I.vscodeWindowId!="number"&&Object.defineProperty(I,"vscodeWindowId",{get:()=>E})}e.mainWindow=window}),define(re[65],ae([1,0,52]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=void 0,e.addMatchMediaChangeListener=E,e.getZoomFactor=I,e.isStandalone=w;class k{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(v){var s;return(s=this.mapWindowIdToZoomFactor.get(this.getWindowId(v)))!==null&&s!==void 0?s:1}getWindowId(v){return v.vscodeWindowId}}k.INSTANCE=new k;function E(b,v,s){typeof v=="string"&&(v=b.matchMedia(v)),v.addEventListener("change",s)}function I(b){return k.INSTANCE.getZoomFactor(b)}const y=navigator.userAgent;e.isFirefox=y.indexOf("Firefox")>=0,e.isWebKit=y.indexOf("AppleWebKit")>=0,e.isChrome=y.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&y.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=y.indexOf("Electron/")>=0,e.isAndroid=y.indexOf("Android")>=0;let m=!1;if(typeof f.mainWindow.matchMedia=="function"){const b=f.mainWindow.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),v=f.mainWindow.matchMedia("(display-mode: fullscreen)");m=b.matches,E(f.mainWindow,b,({matches:s})=>{m&&v.matches||(m=s)})}function w(){return m}}),define(re[13],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Permutation=e.CallbackIterable=e.ArrayQueue=e.booleanComparator=e.numberComparator=e.CompareResult=void 0,e.tail=f,e.tail2=k,e.equals=E,e.removeFastWithoutKeepingOrder=I,e.binarySearch=y,e.binarySearch2=m,e.quickSelect=w,e.groupBy=b,e.groupAdjacentBy=v,e.forEachAdjacent=s,e.forEachWithNeighbors=o,e.coalesce=t,e.coalesceInPlace=i,e.isFalsyOrEmpty=n,e.isNonEmptyArray=c,e.distinct=u,e.firstOrDefault=r,e.range=a,e.arrayInsert=l,e.pushToStart=d,e.pushToEnd=p,e.pushMany=h,e.asArray=g,e.insertInto=C,e.splice=S,e.compareBy=D,e.tieBreakComparators=T,e.reverseOrder=R;function f(O,B=0){return O[O.length-(1+B)]}function k(O){if(O.length===0)throw new Error("Invalid tail call");return[O.slice(0,O.length-1),O[O.length-1]]}function E(O,B,H=(K,V)=>K===V){if(O===B)return!0;if(!O||!B||O.length!==B.length)return!1;for(let K=0,V=O.length;K<V;K++)if(!H(O[K],B[K]))return!1;return!0}function I(O,B){const H=O.length-1;B<H&&(O[B]=O[H]),O.pop()}function y(O,B,H){return m(O.length,K=>H(O[K],B))}function m(O,B){let H=0,K=O-1;for(;H<=K;){const V=(H+K)/2|0,j=B(V);if(j<0)H=V+1;else if(j>0)K=V-1;else return V}return-(H+1)}function w(O,B,H){if(O=O|0,O>=B.length)throw new TypeError("invalid index");const K=B[Math.floor(B.length*Math.random())],V=[],j=[],U=[];for(const Y of B){const Q=H(Y,K);Q<0?V.push(Y):Q>0?j.push(Y):U.push(Y)}return O<V.length?w(O,V,H):O<V.length+U.length?U[0]:w(O-(V.length+U.length),j,H)}function b(O,B){const H=[];let K;for(const V of O.slice(0).sort(B))!K||B(K[0],V)!==0?(K=[V],H.push(K)):K.push(V);return H}function*v(O,B){let H,K;for(const V of O)K!==void 0&&B(K,V)?H.push(V):(H&&(yield H),H=[V]),K=V;H&&(yield H)}function s(O,B){for(let H=0;H<=O.length;H++)B(H===0?void 0:O[H-1],H===O.length?void 0:O[H])}function o(O,B){for(let H=0;H<O.length;H++)B(H===0?void 0:O[H-1],O[H],H+1===O.length?void 0:O[H+1])}function t(O){return O.filter(B=>!!B)}function i(O){let B=0;for(let H=0;H<O.length;H++)O[H]&&(O[B]=O[H],B+=1);O.length=B}function n(O){return!Array.isArray(O)||O.length===0}function c(O){return Array.isArray(O)&&O.length>0}function u(O,B=H=>H){const H=new Set;return O.filter(K=>{const V=B(K);return H.has(V)?!1:(H.add(V),!0)})}function r(O,B){return O.length>0?O[0]:B}function a(O,B){let H=typeof B=="number"?O:0;typeof B=="number"?H=O:(H=0,B=O);const K=[];if(H<=B)for(let V=H;V<B;V++)K.push(V);else for(let V=H;V>B;V--)K.push(V);return K}function l(O,B,H){const K=O.slice(0,B),V=O.slice(B);return K.concat(H,V)}function d(O,B){const H=O.indexOf(B);H>-1&&(O.splice(H,1),O.unshift(B))}function p(O,B){const H=O.indexOf(B);H>-1&&(O.splice(H,1),O.push(B))}function h(O,B){for(const H of B)O.push(H)}function g(O){return Array.isArray(O)?O:[O]}function C(O,B,H){const K=_(O,B),V=O.length,j=H.length;O.length=V+j;for(let U=V-1;U>=K;U--)O[U+j]=O[U];for(let U=0;U<j;U++)O[U+K]=H[U]}function S(O,B,H,K){const V=_(O,B);let j=O.splice(V,H);return j===void 0&&(j=[]),C(O,V,K),j}function _(O,B){return B<0?Math.max(B+O.length,0):Math.min(B,O.length)}var L;(function(O){function B(j){return j<0}O.isLessThan=B;function H(j){return j<=0}O.isLessThanOrEqual=H;function K(j){return j>0}O.isGreaterThan=K;function V(j){return j===0}O.isNeitherLessOrGreaterThan=V,O.greaterThan=1,O.lessThan=-1,O.neitherLessOrGreaterThan=0})(L||(e.CompareResult=L={}));function D(O,B){return(H,K)=>B(O(H),O(K))}function T(...O){return(B,H)=>{for(const K of O){const V=K(B,H);if(!L.isNeitherLessOrGreaterThan(V))return V}return L.neitherLessOrGreaterThan}}const N=(O,B)=>O-B;e.numberComparator=N;const A=(O,B)=>(0,e.numberComparator)(O?1:0,B?1:0);e.booleanComparator=A;function R(O){return(B,H)=>-O(B,H)}class M{constructor(B){this.items=B,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(B){let H=this.firstIdx;for(;H<this.items.length&&B(this.items[H]);)H++;const K=H===this.firstIdx?null:this.items.slice(this.firstIdx,H);return this.firstIdx=H,K}takeFromEndWhile(B){let H=this.lastIdx;for(;H>=0&&B(this.items[H]);)H--;const K=H===this.lastIdx?null:this.items.slice(H+1,this.lastIdx+1);return this.lastIdx=H,K}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const B=this.items[this.firstIdx];return this.firstIdx++,B}takeCount(B){const H=this.items.slice(this.firstIdx,this.firstIdx+B);return this.firstIdx+=B,H}}e.ArrayQueue=M;class P{constructor(B){this.iterate=B}toArray(){const B=[];return this.iterate(H=>(B.push(H),!0)),B}filter(B){return new P(H=>this.iterate(K=>B(K)?H(K):!0))}map(B){return new P(H=>this.iterate(K=>H(B(K))))}findLast(B){let H;return this.iterate(K=>(B(K)&&(H=K),!0)),H}findLastMaxBy(B){let H,K=!0;return this.iterate(V=>((K||L.isGreaterThan(B(V,H)))&&(K=!1,H=V),!0)),H}}e.CallbackIterable=P,P.empty=new P(O=>{});class x{constructor(B){this._indexMap=B}static createSortPermutation(B,H){const K=Array.from(B.keys()).sort((V,j)=>H(B[V],B[j]));return new x(K)}apply(B){return B.map((H,K)=>B[this._indexMap[K]])}inverse(){const B=this._indexMap.slice();for(let H=0;H<this._indexMap.length;H++)B[this._indexMap[H]]=H;return new x(B)}}e.Permutation=x}),define(re[67],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonotonousArray=void 0,e.findLast=f,e.findLastIdx=k,e.findLastMonotonous=E,e.findLastIdxMonotonous=I,e.findFirstMonotonous=y,e.findFirstIdxMonotonousOrArrLen=m,e.findFirstMax=b,e.findLastMax=v,e.findFirstMin=s,e.findMaxIdx=o,e.mapFindFirst=t;function f(i,n){const c=k(i,n);if(c!==-1)return i[c]}function k(i,n,c=i.length-1){for(let u=c;u>=0;u--){const r=i[u];if(n(r))return u}return-1}function E(i,n){const c=I(i,n);return c===-1?void 0:i[c]}function I(i,n,c=0,u=i.length){let r=c,a=u;for(;r<a;){const l=Math.floor((r+a)/2);n(i[l])?r=l+1:a=l}return r-1}function y(i,n){const c=m(i,n);return c===i.length?void 0:i[c]}function m(i,n,c=0,u=i.length){let r=c,a=u;for(;r<a;){const l=Math.floor((r+a)/2);n(i[l])?a=l:r=l+1}return r}class w{constructor(n){this._array=n,this._findLastMonotonousLastIdx=0}findLastMonotonous(n){if(w.assertInvariants){if(this._prevFindLastPredicate){for(const u of this._array)if(this._prevFindLastPredicate(u)&&!n(u))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=n}const c=I(this._array,n,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=c+1,c===-1?void 0:this._array[c]}}e.MonotonousArray=w,w.assertInvariants=!1;function b(i,n){if(i.length===0)return;let c=i[0];for(let u=1;u<i.length;u++){const r=i[u];n(r,c)>0&&(c=r)}return c}function v(i,n){if(i.length===0)return;let c=i[0];for(let u=1;u<i.length;u++){const r=i[u];n(r,c)>=0&&(c=r)}return c}function s(i,n){return b(i,(c,u)=>-n(c,u))}function o(i,n){if(i.length===0)return-1;let c=0;for(let u=1;u<i.length;u++){const r=i[u];n(r,i[c])>0&&(c=u)}return c}function t(i,n){for(const c of i){const u=n(c);if(u!==void 0)return u}}}),define(re[295],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0,e.identity=f;function f(I){return I}class k{constructor(y,m){this.lastCache=void 0,this.lastArgKey=void 0,typeof y=="function"?(this._fn=y,this._computeKey=f):(this._fn=m,this._computeKey=y.getCacheKey)}get(y){const m=this._computeKey(y);return this.lastArgKey!==m&&(this.lastArgKey=m,this.lastCache=this._fn(y)),this.lastCache}}e.LRUCachedFunction=k;class E{get cachedValues(){return this._map}constructor(y,m){this._map=new Map,this._map2=new Map,typeof y=="function"?(this._fn=y,this._computeKey=f):(this._fn=m,this._computeKey=y.getCacheKey)}get(y){const m=this._computeKey(y);if(this._map2.has(m))return this._map2.get(m);const w=this._fn(y);return this._map.set(y,w),this._map2.set(m,w),w}}e.CachedFunction=E}),define(re[296],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffSets=f,e.intersection=k;function f(E,I){const y=[],m=[];for(const w of E)I.has(w)||y.push(w);for(const w of I)E.has(w)||m.push(w);return{removed:y,added:m}}function k(E,I){const y=new Set;for(const m of I)E.has(m)&&y.add(m);return y}}),define(re[33],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function f(m,w){const b=Math.pow(10,w);return Math.round(m*b)/b}class k{constructor(w,b,v,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,w))|0,this.g=Math.min(255,Math.max(0,b))|0,this.b=Math.min(255,Math.max(0,v))|0,this.a=f(Math.max(Math.min(1,s),0),3)}static equals(w,b){return w.r===b.r&&w.g===b.g&&w.b===b.b&&w.a===b.a}}e.RGBA=k;class E{constructor(w,b,v,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,b),0),3),this.l=f(Math.max(Math.min(1,v),0),3),this.a=f(Math.max(Math.min(1,s),0),3)}static equals(w,b){return w.h===b.h&&w.s===b.s&&w.l===b.l&&w.a===b.a}static fromRGBA(w){const b=w.r/255,v=w.g/255,s=w.b/255,o=w.a,t=Math.max(b,v,s),i=Math.min(b,v,s);let n=0,c=0;const u=(i+t)/2,r=t-i;if(r>0){switch(c=Math.min(u<=.5?r/(2*u):r/(2-2*u),1),t){case b:n=(v-s)/r+(v<s?6:0);break;case v:n=(s-b)/r+2;break;case s:n=(b-v)/r+4;break}n*=60,n=Math.round(n)}return new E(n,c,u,o)}static _hue2rgb(w,b,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?w+(b-w)*6*v:v<1/2?b:v<2/3?w+(b-w)*(2/3-v)*6:w}static toRGBA(w){const b=w.h/360,{s:v,l:s,a:o}=w;let t,i,n;if(v===0)t=i=n=s;else{const c=s<.5?s*(1+v):s+v-s*v,u=2*s-c;t=E._hue2rgb(u,c,b+1/3),i=E._hue2rgb(u,c,b),n=E._hue2rgb(u,c,b-1/3)}return new k(Math.round(t*255),Math.round(i*255),Math.round(n*255),o)}}e.HSLA=E;class I{constructor(w,b,v,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,b),0),3),this.v=f(Math.max(Math.min(1,v),0),3),this.a=f(Math.max(Math.min(1,s),0),3)}static equals(w,b){return w.h===b.h&&w.s===b.s&&w.v===b.v&&w.a===b.a}static fromRGBA(w){const b=w.r/255,v=w.g/255,s=w.b/255,o=Math.max(b,v,s),t=Math.min(b,v,s),i=o-t,n=o===0?0:i/o;let c;return i===0?c=0:o===b?c=((v-s)/i%6+6)%6:o===v?c=(s-b)/i+2:c=(b-v)/i+4,new I(Math.round(c*60),n,o,w.a)}static toRGBA(w){const{h:b,s:v,v:s,a:o}=w,t=s*v,i=t*(1-Math.abs(b/60%2-1)),n=s-t;let[c,u,r]=[0,0,0];return b<60?(c=t,u=i):b<120?(c=i,u=t):b<180?(u=t,r=i):b<240?(u=i,r=t):b<300?(c=i,r=t):b<=360&&(c=t,r=i),c=Math.round((c+n)*255),u=Math.round((u+n)*255),r=Math.round((r+n)*255),new k(c,u,r,o)}}e.HSVA=I;class y{static fromHex(w){return y.Format.CSS.parseHex(w)||y.red}static equals(w,b){return!w&&!b?!0:!w||!b?!1:w.equals(b)}get hsla(){return this._hsla?this._hsla:E.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:I.fromRGBA(this.rgba)}constructor(w){if(w)if(w instanceof k)this.rgba=w;else if(w instanceof E)this._hsla=w,this.rgba=E.toRGBA(w);else if(w instanceof I)this._hsva=w,this.rgba=I.toRGBA(w);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(w){return!!w&&k.equals(this.rgba,w.rgba)&&E.equals(this.hsla,w.hsla)&&I.equals(this.hsva,w.hsva)}getRelativeLuminance(){const w=y._relativeLuminanceForComponent(this.rgba.r),b=y._relativeLuminanceForComponent(this.rgba.g),v=y._relativeLuminanceForComponent(this.rgba.b),s=.2126*w+.7152*b+.0722*v;return f(s,4)}static _relativeLuminanceForComponent(w){const b=w/255;return b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(w){const b=this.getRelativeLuminance(),v=w.getRelativeLuminance();return b>v}isDarkerThan(w){const b=this.getRelativeLuminance(),v=w.getRelativeLuminance();return b<v}lighten(w){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*w,this.hsla.a))}darken(w){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*w,this.hsla.a))}transparent(w){const{r:b,g:v,b:s,a:o}=this.rgba;return new y(new k(b,v,s,o*w))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(w){if(this.isOpaque()||w.rgba.a!==1)return this;const{r:b,g:v,b:s,a:o}=this.rgba;return new y(new k(w.rgba.r-o*(w.rgba.r-b),w.rgba.g-o*(w.rgba.g-v),w.rgba.b-o*(w.rgba.b-s),1))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(w,b,v){if(w.isLighterThan(b))return w;v=v||.5;const s=w.getRelativeLuminance(),o=b.getRelativeLuminance();return v=v*(o-s)/o,w.lighten(v)}static getDarkerColor(w,b,v){if(w.isDarkerThan(b))return w;v=v||.5;const s=w.getRelativeLuminance(),o=b.getRelativeLuminance();return v=v*(s-o)/s,w.darken(v)}}e.Color=y,y.white=new y(new k(255,255,255,1)),y.black=new y(new k(0,0,0,1)),y.red=new y(new k(255,0,0,1)),y.blue=new y(new k(0,0,255,1)),y.green=new y(new k(0,255,0,1)),y.cyan=new y(new k(0,255,255,1)),y.lightgrey=new y(new k(211,211,211,1)),y.transparent=new y(new k(0,0,0,0)),function(m){let w;(function(b){let v;(function(s){function o(p){return p.rgba.a===1?`rgb(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b})`:m.Format.CSS.formatRGBA(p)}s.formatRGB=o;function t(p){return`rgba(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b}, ${+p.rgba.a.toFixed(2)})`}s.formatRGBA=t;function i(p){return p.hsla.a===1?`hsl(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%)`:m.Format.CSS.formatHSLA(p)}s.formatHSL=i;function n(p){return`hsla(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%, ${p.hsla.a.toFixed(2)})`}s.formatHSLA=n;function c(p){const h=p.toString(16);return h.length!==2?"0"+h:h}function u(p){return`#${c(p.rgba.r)}${c(p.rgba.g)}${c(p.rgba.b)}`}s.formatHex=u;function r(p,h=!1){return h&&p.rgba.a===1?m.Format.CSS.formatHex(p):`#${c(p.rgba.r)}${c(p.rgba.g)}${c(p.rgba.b)}${c(Math.round(p.rgba.a*255))}`}s.formatHexA=r;function a(p){return p.isOpaque()?m.Format.CSS.formatHex(p):m.Format.CSS.formatRGBA(p)}s.format=a;function l(p){const h=p.length;if(h===0||p.charCodeAt(0)!==35)return null;if(h===7){const g=16*d(p.charCodeAt(1))+d(p.charCodeAt(2)),C=16*d(p.charCodeAt(3))+d(p.charCodeAt(4)),S=16*d(p.charCodeAt(5))+d(p.charCodeAt(6));return new m(new k(g,C,S,1))}if(h===9){const g=16*d(p.charCodeAt(1))+d(p.charCodeAt(2)),C=16*d(p.charCodeAt(3))+d(p.charCodeAt(4)),S=16*d(p.charCodeAt(5))+d(p.charCodeAt(6)),_=16*d(p.charCodeAt(7))+d(p.charCodeAt(8));return new m(new k(g,C,S,_/255))}if(h===4){const g=d(p.charCodeAt(1)),C=d(p.charCodeAt(2)),S=d(p.charCodeAt(3));return new m(new k(16*g+g,16*C+C,16*S+S))}if(h===5){const g=d(p.charCodeAt(1)),C=d(p.charCodeAt(2)),S=d(p.charCodeAt(3)),_=d(p.charCodeAt(4));return new m(new k(16*g+g,16*C+C,16*S+S,(16*_+_)/255))}return null}s.parseHex=l;function d(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(v=b.CSS||(b.CSS={}))})(w=m.Format||(m.Format={}))}(y||(e.Color=y={}))}),define(re[124],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=f;function f(k,E,I){let y=null,m=null;if(typeof I.value=="function"?(y="value",m=I.value,m.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof I.get=="function"&&(y="get",m=I.get),!m)throw new Error("not supported");const w=`$memoize$${E}`;I[y]=function(...b){return this.hasOwnProperty(w)||Object.defineProperty(this,w,{configurable:!1,enumerable:!1,writable:!1,value:m.apply(this,b)}),this[w]}}}),define(re[441],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class f{constructor(E,I,y,m){this.originalStart=E,this.originalLength=I,this.modifiedStart=y,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=f}),define(re[101],ae([1,0,13]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strictEquals=void 0,e.itemsEquals=E,e.itemEquals=I,e.equalsIfDefined=y,e.structuralEquals=m;const k=(b,v)=>b===v;e.strictEquals=k;function E(b=e.strictEquals){return(v,s)=>f.equals(v,s,b)}function I(){return(b,v)=>b.equals(v)}function y(b,v,s){if(s!==void 0){const o=b;return o==null||v===void 0||v===null?v===o:s(o,v)}else{const o=b;return(t,i)=>t==null||i===void 0||i===null?i===t:o(t,i)}}function m(b,v){if(b===v)return!0;if(Array.isArray(b)&&Array.isArray(v)){if(b.length!==v.length)return!1;for(let s=0;s<b.length;s++)if(!m(b[s],v[s]))return!1;return!0}if(b&&typeof b=="object"&&v&&typeof v=="object"&&Object.getPrototypeOf(b)===Object.prototype&&Object.getPrototypeOf(v)===Object.prototype){const s=b,o=v,t=Object.keys(s),i=Object.keys(o),n=new Set(i);if(t.length!==i.length)return!1;for(const c of t)if(!n.has(c)||!m(s[c],o[c]))return!1;return!0}return!1}const w=new WeakMap}),define(re[8],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.CancellationError=e.errorHandler=e.ErrorHandler=void 0,e.onUnexpectedError=k,e.onUnexpectedExternalError=E,e.transformErrorForSerialization=I,e.isCancellationError=m,e.canceled=b,e.illegalArgument=v,e.illegalState=s;class f{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(c){setTimeout(()=>{throw c.stack?t.isErrorNoTelemetry(c)?new t(c.message+`

`+c.stack):new Error(c.message+`

`+c.stack):c},0)}}emit(c){this.listeners.forEach(u=>{u(c)})}onUnexpectedError(c){this.unexpectedErrorHandler(c),this.emit(c)}onUnexpectedExternalError(c){this.unexpectedErrorHandler(c)}}e.ErrorHandler=f,e.errorHandler=new f;function k(n){m(n)||e.errorHandler.onUnexpectedError(n)}function E(n){m(n)||e.errorHandler.onUnexpectedExternalError(n)}function I(n){if(n instanceof Error){const{name:c,message:u}=n,r=n.stacktrace||n.stack;return{$isError:!0,name:c,message:u,stack:r,noTelemetry:t.isErrorNoTelemetry(n)}}return n}const y="Canceled";function m(n){return n instanceof w?!0:n instanceof Error&&n.name===y&&n.message===y}class w extends Error{constructor(){super(y),this.name=this.message}}e.CancellationError=w;function b(){const n=new Error(y);return n.name=n.message,n}function v(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function s(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class o extends Error{constructor(c){super("NotSupported"),c&&(this.message=c)}}e.NotSupportedError=o;class t extends Error{constructor(c){super(c),this.name="CodeExpectedError"}static fromError(c){if(c instanceof t)return c;const u=new t;return u.message=c.message,u.stack=c.stack,u}static isErrorNoTelemetry(c){return c.name==="CodeExpectedError"}}e.ErrorNoTelemetry=t;class i extends Error{constructor(c){super(c||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype)}}e.BugIndicatingError=i}),define(re[102],ae([1,0,8]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=k;function k(E,I){var y;const m=globalThis.MonacoEnvironment;if(m?.createTrustedTypesPolicy)try{return m.createTrustedTypesPolicy(E,I)}catch(w){(0,f.onUnexpectedError)(w);return}try{return(y=globalThis.trustedTypes)===null||y===void 0?void 0:y.createPolicy(E,I)}catch(w){(0,f.onUnexpectedError)(w);return}}}),define(re[89],ae([1,0,8]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=k,e.assertNever=E,e.softAssert=I,e.assertFn=y,e.checkAdjacentItems=m;function k(w,b){if(!w)throw new Error(b?`Assertion failed (${b})`:"Assertion Failed")}function E(w,b="Unreachable"){throw new Error(b)}function I(w){w||(0,f.onUnexpectedError)(new f.BugIndicatingError("Soft Assertion Failed"))}function y(w){if(!w()){debugger;w(),(0,f.onUnexpectedError)(new f.BugIndicatingError("Assertion Failed"))}}function m(w,b){let v=0;for(;v<w.length-1;){const s=w[v],o=w[v+1];if(!b(s,o))return!1;v++}return!0}}),define(re[125],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSingleCallFunction=f;function f(k,E){const I=this;let y=!1,m;return function(){if(y)return m;if(y=!0,E)try{m=k.apply(I,arguments)}finally{E()}else m=k.apply(I,arguments);return m}}}),define(re[90],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HierarchicalKind=void 0;class f{constructor(E){this.value=E}equals(E){return this.value===E.value}contains(E){return this.equals(E)||this.value===""||E.value.startsWith(this.value+f.sep)}intersects(E){return this.contains(E)||E.contains(this)}append(...E){return new f((this.value?[this.value,...E]:E).join(f.sep))}}e.HierarchicalKind=f,f.sep=".",f.None=new f("@@none@@"),f.Empty=new f("")}),define(re[187],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class f{constructor(E){this._prefix=E,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=f,e.defaultGenerator=new f("id#")}),define(re[53],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var f;(function(k){function E(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}k.is=E;const I=Object.freeze([]);function y(){return I}k.empty=y;function*m(h){yield h}k.single=m;function w(h){return E(h)?h:m(h)}k.wrap=w;function b(h){return h||I}k.from=b;function*v(h){for(let g=h.length-1;g>=0;g--)yield h[g]}k.reverse=v;function s(h){return!h||h[Symbol.iterator]().next().done===!0}k.isEmpty=s;function o(h){return h[Symbol.iterator]().next().value}k.first=o;function t(h,g){let C=0;for(const S of h)if(g(S,C++))return!0;return!1}k.some=t;function i(h,g){for(const C of h)if(g(C))return C}k.find=i;function*n(h,g){for(const C of h)g(C)&&(yield C)}k.filter=n;function*c(h,g){let C=0;for(const S of h)yield g(S,C++)}k.map=c;function*u(h,g){let C=0;for(const S of h)yield*g(S,C++)}k.flatMap=u;function*r(...h){for(const g of h)yield*g}k.concat=r;function a(h,g,C){let S=C;for(const _ of h)S=g(S,_);return S}k.reduce=a;function*l(h,g,C=h.length){for(g<0&&(g+=h.length),C<0?C+=h.length:C>h.length&&(C=h.length);g<C;g++)yield h[g]}k.slice=l;function d(h,g=Number.POSITIVE_INFINITY){const C=[];if(g===0)return[C,h];const S=h[Symbol.iterator]();for(let _=0;_<g;_++){const L=S.next();if(L.done)return[C,k.empty()];C.push(L.value)}return[C,{[Symbol.iterator](){return S}}]}k.consume=d;async function p(h){const g=[];for await(const C of h)g.push(C);return Promise.resolve(g)}k.asyncToArray=p})(f||(e.Iterable=f={}))}),define(re[70],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0,e.KeyChord=v;class f{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(o,t){this._keyCodeToStr[o]=t,this._strToKeyCode[t.toLowerCase()]=o}keyCodeToStr(o){return this._keyCodeToStr[o]}strToKeyCode(o){return this._strToKeyCode[o.toLowerCase()]||0}}const k=new f,E=new f,I=new f;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const y=[],m=Object.create(null),w=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let s=0;s<=193;s++)e.IMMUTABLE_CODE_TO_KEY_CODE[s]=-1;for(let s=0;s<=132;s++)e.IMMUTABLE_KEY_CODE_TO_CODE[s]=-1;(function(){const s="",o=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[1,1,"Hyper",0,s,0,s,s,s],[1,2,"Super",0,s,0,s,s,s],[1,3,"Fn",0,s,0,s,s,s],[1,4,"FnLock",0,s,0,s,s,s],[1,5,"Suspend",0,s,0,s,s,s],[1,6,"Resume",0,s,0,s,s,s],[1,7,"Turbo",0,s,0,s,s,s],[1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[1,9,"WakeUp",0,s,0,s,s,s],[0,10,"KeyA",31,"A",65,"VK_A",s,s],[0,11,"KeyB",32,"B",66,"VK_B",s,s],[0,12,"KeyC",33,"C",67,"VK_C",s,s],[0,13,"KeyD",34,"D",68,"VK_D",s,s],[0,14,"KeyE",35,"E",69,"VK_E",s,s],[0,15,"KeyF",36,"F",70,"VK_F",s,s],[0,16,"KeyG",37,"G",71,"VK_G",s,s],[0,17,"KeyH",38,"H",72,"VK_H",s,s],[0,18,"KeyI",39,"I",73,"VK_I",s,s],[0,19,"KeyJ",40,"J",74,"VK_J",s,s],[0,20,"KeyK",41,"K",75,"VK_K",s,s],[0,21,"KeyL",42,"L",76,"VK_L",s,s],[0,22,"KeyM",43,"M",77,"VK_M",s,s],[0,23,"KeyN",44,"N",78,"VK_N",s,s],[0,24,"KeyO",45,"O",79,"VK_O",s,s],[0,25,"KeyP",46,"P",80,"VK_P",s,s],[0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[0,27,"KeyR",48,"R",82,"VK_R",s,s],[0,28,"KeyS",49,"S",83,"VK_S",s,s],[0,29,"KeyT",50,"T",84,"VK_T",s,s],[0,30,"KeyU",51,"U",85,"VK_U",s,s],[0,31,"KeyV",52,"V",86,"VK_V",s,s],[0,32,"KeyW",53,"W",87,"VK_W",s,s],[0,33,"KeyX",54,"X",88,"VK_X",s,s],[0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[0,36,"Digit1",22,"1",49,"VK_1",s,s],[0,37,"Digit2",23,"2",50,"VK_2",s,s],[0,38,"Digit3",24,"3",51,"VK_3",s,s],[0,39,"Digit4",25,"4",52,"VK_4",s,s],[0,40,"Digit5",26,"5",53,"VK_5",s,s],[0,41,"Digit6",27,"6",54,"VK_6",s,s],[0,42,"Digit7",28,"7",55,"VK_7",s,s],[0,43,"Digit8",29,"8",56,"VK_8",s,s],[0,44,"Digit9",30,"9",57,"VK_9",s,s],[0,45,"Digit0",21,"0",48,"VK_0",s,s],[1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,s,0,s,s,s],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[1,64,"F1",59,"F1",112,"VK_F1",s,s],[1,65,"F2",60,"F2",113,"VK_F2",s,s],[1,66,"F3",61,"F3",114,"VK_F3",s,s],[1,67,"F4",62,"F4",115,"VK_F4",s,s],[1,68,"F5",63,"F5",116,"VK_F5",s,s],[1,69,"F6",64,"F6",117,"VK_F6",s,s],[1,70,"F7",65,"F7",118,"VK_F7",s,s],[1,71,"F8",66,"F8",119,"VK_F8",s,s],[1,72,"F9",67,"F9",120,"VK_F9",s,s],[1,73,"F10",68,"F10",121,"VK_F10",s,s],[1,74,"F11",69,"F11",122,"VK_F11",s,s],[1,75,"F12",70,"F12",123,"VK_F12",s,s],[1,76,"PrintScreen",0,s,0,s,s,s],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",s,s],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[1,80,"Home",14,"Home",36,"VK_HOME",s,s],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[1,83,"End",13,"End",35,"VK_END",s,s],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",s,s],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",s,s],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",s,s],[1,94,"NumpadEnter",3,s,0,s,s,s],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",s,s],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",s,s],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",s,s],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",s,s],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",s,s],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",s,s],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",s,s],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",s,s],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",s,s],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",s,s],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",s,s],[1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[1,108,"Power",0,s,0,s,s,s],[1,109,"NumpadEqual",0,s,0,s,s,s],[1,110,"F13",71,"F13",124,"VK_F13",s,s],[1,111,"F14",72,"F14",125,"VK_F14",s,s],[1,112,"F15",73,"F15",126,"VK_F15",s,s],[1,113,"F16",74,"F16",127,"VK_F16",s,s],[1,114,"F17",75,"F17",128,"VK_F17",s,s],[1,115,"F18",76,"F18",129,"VK_F18",s,s],[1,116,"F19",77,"F19",130,"VK_F19",s,s],[1,117,"F20",78,"F20",131,"VK_F20",s,s],[1,118,"F21",79,"F21",132,"VK_F21",s,s],[1,119,"F22",80,"F22",133,"VK_F22",s,s],[1,120,"F23",81,"F23",134,"VK_F23",s,s],[1,121,"F24",82,"F24",135,"VK_F24",s,s],[1,122,"Open",0,s,0,s,s,s],[1,123,"Help",0,s,0,s,s,s],[1,124,"Select",0,s,0,s,s,s],[1,125,"Again",0,s,0,s,s,s],[1,126,"Undo",0,s,0,s,s,s],[1,127,"Cut",0,s,0,s,s,s],[1,128,"Copy",0,s,0,s,s,s],[1,129,"Paste",0,s,0,s,s,s],[1,130,"Find",0,s,0,s,s,s],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",s,s],[1,136,"KanaMode",0,s,0,s,s,s],[0,137,"IntlYen",0,s,0,s,s,s],[1,138,"Convert",0,s,0,s,s,s],[1,139,"NonConvert",0,s,0,s,s,s],[1,140,"Lang1",0,s,0,s,s,s],[1,141,"Lang2",0,s,0,s,s,s],[1,142,"Lang3",0,s,0,s,s,s],[1,143,"Lang4",0,s,0,s,s,s],[1,144,"Lang5",0,s,0,s,s,s],[1,145,"Abort",0,s,0,s,s,s],[1,146,"Props",0,s,0,s,s,s],[1,147,"NumpadParenLeft",0,s,0,s,s,s],[1,148,"NumpadParenRight",0,s,0,s,s,s],[1,149,"NumpadBackspace",0,s,0,s,s,s],[1,150,"NumpadMemoryStore",0,s,0,s,s,s],[1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[1,152,"NumpadMemoryClear",0,s,0,s,s,s],[1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",s,s],[1,156,"NumpadClearEntry",0,s,0,s,s,s],[1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[1,0,s,6,"Alt",18,"VK_MENU",s,s],[1,0,s,57,"Meta",91,"VK_COMMAND",s,s],[1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[1,165,"BrightnessUp",0,s,0,s,s,s],[1,166,"BrightnessDown",0,s,0,s,s,s],[1,167,"MediaPlay",0,s,0,s,s,s],[1,168,"MediaRecord",0,s,0,s,s,s],[1,169,"MediaFastForward",0,s,0,s,s,s],[1,170,"MediaRewind",0,s,0,s,s,s],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",s,s],[1,174,"Eject",0,s,0,s,s,s],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[1,180,"SelectTask",0,s,0,s,s,s],[1,181,"LaunchScreenSaver",0,s,0,s,s,s],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[1,189,"ZoomToggle",0,s,0,s,s,s],[1,190,"MailReply",0,s,0,s,s,s],[1,191,"MailForward",0,s,0,s,s,s],[1,192,"MailSend",0,s,0,s,s,s],[1,0,s,114,"KeyInComposition",229,s,s,s],[1,0,s,116,"ABNT_C2",194,"VK_ABNT_C2",s,s],[1,0,s,96,"OEM_8",223,"VK_OEM_8",s,s],[1,0,s,0,s,0,"VK_KANA",s,s],[1,0,s,0,s,0,"VK_HANGUL",s,s],[1,0,s,0,s,0,"VK_JUNJA",s,s],[1,0,s,0,s,0,"VK_FINAL",s,s],[1,0,s,0,s,0,"VK_HANJA",s,s],[1,0,s,0,s,0,"VK_KANJI",s,s],[1,0,s,0,s,0,"VK_CONVERT",s,s],[1,0,s,0,s,0,"VK_NONCONVERT",s,s],[1,0,s,0,s,0,"VK_ACCEPT",s,s],[1,0,s,0,s,0,"VK_MODECHANGE",s,s],[1,0,s,0,s,0,"VK_SELECT",s,s],[1,0,s,0,s,0,"VK_PRINT",s,s],[1,0,s,0,s,0,"VK_EXECUTE",s,s],[1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[1,0,s,0,s,0,"VK_HELP",s,s],[1,0,s,0,s,0,"VK_APPS",s,s],[1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[1,0,s,0,s,0,"VK_PACKET",s,s],[1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[1,0,s,0,s,0,"VK_ATTN",s,s],[1,0,s,0,s,0,"VK_CRSEL",s,s],[1,0,s,0,s,0,"VK_EXSEL",s,s],[1,0,s,0,s,0,"VK_EREOF",s,s],[1,0,s,0,s,0,"VK_PLAY",s,s],[1,0,s,0,s,0,"VK_ZOOM",s,s],[1,0,s,0,s,0,"VK_NONAME",s,s],[1,0,s,0,s,0,"VK_PA1",s,s],[1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],t=[],i=[];for(const n of o){const[c,u,r,a,l,d,p,h,g]=n;if(i[u]||(i[u]=!0,y[u]=r,m[r]=u,w[r.toLowerCase()]=u,c&&(e.IMMUTABLE_CODE_TO_KEY_CODE[u]=a,a!==0&&a!==3&&a!==5&&a!==4&&a!==6&&a!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[a]=u))),!t[a]){if(t[a]=!0,!l)throw new Error(`String representation missing for key code ${a} around scan code ${r}`);k.define(a,l),E.define(a,h||l),I.define(a,g||h||l)}d&&(e.EVENT_KEY_CODE_MAP[d]=a),p&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[p]=a)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var b;(function(s){function o(r){return k.keyCodeToStr(r)}s.toString=o;function t(r){return k.strToKeyCode(r)}s.fromString=t;function i(r){return E.keyCodeToStr(r)}s.toUserSettingsUS=i;function n(r){return I.keyCodeToStr(r)}s.toUserSettingsGeneral=n;function c(r){return E.strToKeyCode(r)||I.strToKeyCode(r)}s.fromUserSettings=c;function u(r){if(r>=98&&r<=113)return null;switch(r){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(r)}s.toElectronAccelerator=u})(b||(e.KeyCodeUtils=b={}));function v(s,o){const t=(o&65535)<<16>>>0;return(s|t)>>>0}}),define(re[137],ae([1,0,8]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=void 0,e.decodeKeybinding=k,e.createSimpleKeybinding=E;function k(v,s){if(typeof v=="number"){if(v===0)return null;const o=(v&65535)>>>0,t=(v&4294901760)>>>16;return t!==0?new m([E(o,s),E(t,s)]):new m([E(o,s)])}else{const o=[];for(let t=0;t<v.length;t++)o.push(E(v[t],s));return new m(o)}}function E(v,s){const o=!!(v&2048),t=!!(v&256),i=s===2?t:o,n=!!(v&1024),c=!!(v&512),u=s===2?o:t,r=v&255;return new I(i,n,c,u,r)}class I{constructor(s,o,t,i,n){this.ctrlKey=s,this.shiftKey=o,this.altKey=t,this.metaKey=i,this.keyCode=n}equals(s){return s instanceof I&&this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=I;class y{constructor(s,o,t,i,n){this.ctrlKey=s,this.shiftKey=o,this.altKey=t,this.metaKey=i,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=y;class m{constructor(s){if(s.length===0)throw(0,f.illegalArgument)("chords");this.chords=s}}e.Keybinding=m;class w{constructor(s,o,t,i,n,c){this.ctrlKey=s,this.shiftKey=o,this.altKey=t,this.metaKey=i,this.keyLabel=n,this.keyAriaLabel=c}}e.ResolvedChord=w;class b{}e.ResolvedKeybinding=b}),define(re[98],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class f{constructor(E){this.executor=E,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(E){this._error=E}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=f}),define(re[43],ae([1,0,98]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHoverDelegateFactory=m,e.getDefaultHoverDelegate=w,e.createInstantHoverDelegate=b;let E=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const I=new f.Lazy(()=>E("mouse",!1)),y=new f.Lazy(()=>E("element",!1));function m(v){E=v}function w(v){return v==="element"?y.value:I.value}function b(){return E("element",!0)}}),define(re[156],ae([1,0,98]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSBuffer=void 0,e.readUInt16LE=m,e.writeUInt16LE=w,e.readUInt32BE=b,e.writeUInt32BE=v,e.readUInt8=s,e.writeUInt8=o;const k=typeof Buffer<"u",E=new f.Lazy(()=>new Uint8Array(256));let I;class y{static wrap(i){return k&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new y(i)}constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(I||(I=new TextDecoder),I.decode(this.buffer))}}e.VSBuffer=y;function m(t,i){return t[i+0]<<0>>>0|t[i+1]<<8>>>0}function w(t,i,n){t[n+0]=i&255,i=i>>>8,t[n+1]=i&255}function b(t,i){return t[i]*2**24+t[i+1]*2**16+t[i+2]*2**8+t[i+3]}function v(t,i,n){t[n+3]=i,i=i>>>8,t[n+2]=i,i=i>>>8,t[n+1]=i,i=i>>>8,t[n]=i}function s(t,i){return t[i]}function o(t,i,n){t[n]=i}}),define(re[442],ae([1,0,98]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareFileNames=y,e.compareAnything=m,e.compareByPrefix=w;const k=new f.Lazy(()=>{const b=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:b,collatorIsNumeric:b.resolvedOptions().numeric}}),E=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),I=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function y(b,v,s=!1){const o=b||"",t=v||"",i=k.value.collator.compare(o,t);return k.value.collatorIsNumeric&&i===0&&o!==t?o<t?-1:1:i}function m(b,v,s){const o=b.toLowerCase(),t=v.toLowerCase(),i=w(b,v,s);if(i)return i;const n=o.endsWith(s),c=t.endsWith(s);if(n!==c)return n?-1:1;const u=y(o,t);return u!==0?u:o.localeCompare(t)}function w(b,v,s){const o=b.toLowerCase(),t=v.toLowerCase(),i=o.startsWith(s),n=t.startsWith(s);if(i!==n)return i?-1:1;if(i&&n){if(o.length<t.length)return-1;if(o.length>t.length)return 1}return 0}}),define(re[2],ae([1,0,125,53]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=void 0,e.setDisposableTracker=y,e.trackDisposable=m,e.markAsDisposed=w,e.markAsSingleton=s,e.isDisposable=o,e.dispose=t,e.combinedDisposable=i,e.toDisposable=n;const E=!1;let I=null;function y(p){I=p}if(E){const p="__is_disposable_tracked__";y(new class{trackDisposable(h){const g=new Error("Potentially leaked disposable").stack;setTimeout(()=>{h[p]||console.log(g)},3e3)}setParent(h,g){if(h&&h!==u.None)try{h[p]=!0}catch{}}markAsDisposed(h){if(h&&h!==u.None)try{h[p]=!0}catch{}}markAsSingleton(h){}})}function m(p){return I?.trackDisposable(p),p}function w(p){I?.markAsDisposed(p)}function b(p,h){I?.setParent(p,h)}function v(p,h){if(I)for(const g of p)I.setParent(g,h)}function s(p){return I?.markAsSingleton(p),p}function o(p){return typeof p=="object"&&p!==null&&typeof p.dispose=="function"&&p.dispose.length===0}function t(p){if(k.Iterable.is(p)){const h=[];for(const g of p)if(g)try{g.dispose()}catch(C){h.push(C)}if(h.length===1)throw h[0];if(h.length>1)throw new AggregateError(h,"Encountered errors while disposing of store");return Array.isArray(p)?[]:p}else if(p)return p.dispose(),p}function i(...p){const h=n(()=>t(p));return v(p,h),h}function n(p){const h=m({dispose:(0,f.createSingleCallFunction)(()=>{w(h),p()})});return h}class c{constructor(){this._toDispose=new Set,this._isDisposed=!1,m(this)}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{t(this._toDispose)}finally{this._toDispose.clear()}}add(h){if(!h)return h;if(h===this)throw new Error("Cannot register a disposable on itself!");return b(h,this),this._isDisposed?c.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(h),h}deleteAndLeak(h){h&&this._toDispose.has(h)&&(this._toDispose.delete(h),b(h,null))}}e.DisposableStore=c,c.DISABLE_DISPOSED_WARNING=!1;class u{constructor(){this._store=new c,m(this),b(this._store,this)}dispose(){w(this),this._store.dispose()}_register(h){if(h===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(h)}}e.Disposable=u,u.None=Object.freeze({dispose(){}});class r{constructor(){this._isDisposed=!1,m(this)}get value(){return this._isDisposed?void 0:this._value}set value(h){var g;this._isDisposed||h===this._value||((g=this._value)===null||g===void 0||g.dispose(),h&&b(h,this),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,w(this),(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}}e.MutableDisposable=r;class a{constructor(h){this._disposable=h,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=a;class l{constructor(h){this.object=h}dispose(){}}e.ImmortalReference=l;class d{constructor(){this._store=new Map,this._isDisposed=!1,m(this)}dispose(){w(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{t(this._store.values())}finally{this._store.clear()}}get(h){return this._store.get(h)}set(h,g,C=!1){var S;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),C||(S=this._store.get(h))===null||S===void 0||S.dispose(),this._store.set(h,g)}deleteAndDispose(h){var g;(g=this._store.get(h))===null||g===void 0||g.dispose(),this._store.delete(h)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=d}),define(re[71],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class f{constructor(I){this.element=I,this.next=f.Undefined,this.prev=f.Undefined}}f.Undefined=new f(void 0);class k{constructor(){this._first=f.Undefined,this._last=f.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f.Undefined}clear(){let I=this._first;for(;I!==f.Undefined;){const y=I.next;I.prev=f.Undefined,I.next=f.Undefined,I=y}this._first=f.Undefined,this._last=f.Undefined,this._size=0}unshift(I){return this._insert(I,!1)}push(I){return this._insert(I,!0)}_insert(I,y){const m=new f(I);if(this._first===f.Undefined)this._first=m,this._last=m;else if(y){const b=this._last;this._last=m,m.prev=b,b.next=m}else{const b=this._first;this._first=m,m.next=b,b.prev=m}this._size+=1;let w=!1;return()=>{w||(w=!0,this._remove(m))}}shift(){if(this._first!==f.Undefined){const I=this._first.element;return this._remove(this._first),I}}pop(){if(this._last!==f.Undefined){const I=this._last.element;return this._remove(this._last),I}}_remove(I){if(I.prev!==f.Undefined&&I.next!==f.Undefined){const y=I.prev;y.next=I.next,I.next.prev=y}else I.prev===f.Undefined&&I.next===f.Undefined?(this._first=f.Undefined,this._last=f.Undefined):I.next===f.Undefined?(this._last=this._last.prev,this._last.next=f.Undefined):I.prev===f.Undefined&&(this._first=this._first.next,this._first.prev=f.Undefined);this._size-=1}*[Symbol.iterator](){let I=this._first;for(;I!==f.Undefined;)yield I.element,I=I.next}}e.LinkedList=k});var ke=this&&this.__decorate||function(le,e,f,k){var E=arguments.length,I=E<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,f):k,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(le,e,f,k);else for(var m=le.length-1;m>=0;m--)(y=le[m])&&(I=(E<3?y(I):E>3?y(e,f,I):y(e,f))||I);return E>3&&I&&Object.defineProperty(e,f,I),I};define(re[443],ae([1,0,124]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedText=void 0,e.parseLinkedText=I;class k{constructor(m){this.nodes=m}toString(){return this.nodes.map(m=>typeof m=="string"?m:m.label).join("")}}e.LinkedText=k,ke([f.memoize],k.prototype,"toString",null);const E=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function I(y){const m=[];let w=0,b;for(;b=E.exec(y);){b.index-w>0&&m.push(y.substring(w,b.index));const[,v,s,,o]=b;o?m.push({label:v,href:s,title:o}):m.push({label:v,href:s}),w=b.index+b[0].length}return w<y.length&&m.push(y.substring(w)),new k(m)}}),define(re[44],ae([1,0]),function(le,e){"use strict";var f,k;Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class E{constructor(t,i){this.uri=t,this.value=i}}function I(o){return Array.isArray(o)}class y{constructor(t,i){if(this[f]="ResourceMap",t instanceof y)this.map=new Map(t.map),this.toKey=i??y.defaultToKey;else if(I(t)){this.map=new Map,this.toKey=i??y.defaultToKey;for(const[n,c]of t)this.set(n,c)}else this.map=new Map,this.toKey=t??y.defaultToKey}set(t,i){return this.map.set(this.toKey(t),new E(t,i)),this}get(t){var i;return(i=this.map.get(this.toKey(t)))===null||i===void 0?void 0:i.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,i){typeof i<"u"&&(t=t.bind(i));for(const[n,c]of this.map)t(c.value,c.uri,this)}*values(){for(const t of this.map.values())yield t.value}*keys(){for(const t of this.map.values())yield t.uri}*entries(){for(const t of this.map.values())yield[t.uri,t.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(const[,t]of this.map)yield[t.uri,t.value]}}e.ResourceMap=y,y.defaultToKey=o=>o.toString();class m{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)===null||t===void 0?void 0:t.value}get last(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value}has(t){return this._map.has(t)}get(t,i=0){const n=this._map.get(t);if(n)return i!==0&&this.touch(n,i),n.value}set(t,i,n=0){let c=this._map.get(t);if(c)c.value=i,n!==0&&this.touch(c,n);else{switch(c={key:t,value:i,next:void 0,previous:void 0},n){case 0:this.addItemLast(c);break;case 1:this.addItemFirst(c);break;case 2:this.addItemLast(c);break;default:this.addItemLast(c);break}this._map.set(t,c),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const i=this._map.get(t);if(i)return this._map.delete(t),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,i){const n=this._state;let c=this._head;for(;c;){if(i?t.bind(i)(c.value,c.key,this):t(c.value,c.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");c=c.next}}keys(){const t=this,i=this._state;let n=this._head;const c={[Symbol.iterator](){return c},next(){if(t._state!==i)throw new Error("LinkedMap got modified during iteration.");if(n){const u={value:n.key,done:!1};return n=n.next,u}else return{value:void 0,done:!0}}};return c}values(){const t=this,i=this._state;let n=this._head;const c={[Symbol.iterator](){return c},next(){if(t._state!==i)throw new Error("LinkedMap got modified during iteration.");if(n){const u={value:n.value,done:!1};return n=n.next,u}else return{value:void 0,done:!0}}};return c}entries(){const t=this,i=this._state;let n=this._head;const c={[Symbol.iterator](){return c},next(){if(t._state!==i)throw new Error("LinkedMap got modified during iteration.");if(n){const u={value:[n.key,n.value],done:!1};return n=n.next,u}else return{value:void 0,done:!0}}};return c}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let i=this._head,n=this.size;for(;i&&n>t;)this._map.delete(i.key),i=i.next,n--;this._head=i,this._size=n,i&&(i.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let i=this._tail,n=this.size;for(;i&&n>t;)this._map.delete(i.key),i=i.previous,n--;this._tail=i,this._size=n,i&&(i.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const i=t.next,n=t.previous;if(!i||!n)throw new Error("Invalid list");i.previous=n,n.next=i}t.next=void 0,t.previous=void 0,this._state++}touch(t,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==1&&i!==2)){if(i===1){if(t===this._head)return;const n=t.next,c=t.previous;t===this._tail?(c.next=void 0,this._tail=c):(n.previous=c,c.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(i===2){if(t===this._tail)return;const n=t.next,c=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=c,c.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((i,n)=>{t.push([n,i])}),t}fromJSON(t){this.clear();for(const[i,n]of t)this.set(i,n)}}e.LinkedMap=m;class w extends m{constructor(t,i=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get(t,i=2){return super.get(t,i)}peek(t){return super.get(t,0)}set(t,i){return super.set(t,i,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class b extends w{constructor(t,i=1){super(t,i)}trim(t){this.trimOld(t)}set(t,i){return super.set(t,i),this.checkTrim(),this}}e.LRUCache=b;class v{constructor(t){if(this._m1=new Map,this._m2=new Map,t)for(const[i,n]of t)this.set(i,n)}clear(){this._m1.clear(),this._m2.clear()}set(t,i){this._m1.set(t,i),this._m2.set(i,t)}get(t){return this._m1.get(t)}getKey(t){return this._m2.get(t)}delete(t){const i=this._m1.get(t);return i===void 0?!1:(this._m1.delete(t),this._m2.delete(i),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=v;class s{constructor(){this.map=new Map}add(t,i){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(i)}delete(t,i){const n=this.map.get(t);n&&(n.delete(i),n.size===0&&this.map.delete(t))}forEach(t,i){const n=this.map.get(t);n&&n.forEach(i)}get(t){const i=this.map.get(t);return i||new Set}}e.SetMap=s}),function(le,e){typeof define=="function"&&define.amd?define(re[444],ae([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(le=typeof globalThis<"u"?globalThis:le||self,e(le.marked={}))}(this,function(le){"use strict";function e(ie,se){for(var ne=0;ne<se.length;ne++){var W=se[ne];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(ie,W.key,W)}}function f(ie,se,ne){return se&&e(ie.prototype,se),ne&&e(ie,ne),Object.defineProperty(ie,"prototype",{writable:!1}),ie}function k(ie,se){if(ie){if(typeof ie=="string")return E(ie,se);var ne=Object.prototype.toString.call(ie).slice(8,-1);if(ne==="Object"&&ie.constructor&&(ne=ie.constructor.name),ne==="Map"||ne==="Set")return Array.from(ie);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return E(ie,se)}}function E(ie,se){(se==null||se>ie.length)&&(se=ie.length);for(var ne=0,W=new Array(se);ne<se;ne++)W[ne]=ie[ne];return W}function I(ie,se){var ne=typeof Symbol<"u"&&ie[Symbol.iterator]||ie["@@iterator"];if(ne)return(ne=ne.call(ie)).next.bind(ne);if(Array.isArray(ie)||(ne=k(ie))||se&&ie&&typeof ie.length=="number"){ne&&(ie=ne);var W=0;return function(){return W>=ie.length?{done:!0}:{done:!1,value:ie[W++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}le.defaults=y();function m(ie){le.defaults=ie}var w=/[&<>"']/,b=/[&<>"']/g,v=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function(se){return o[se]};function i(ie,se){if(se){if(w.test(ie))return ie.replace(b,t)}else if(v.test(ie))return ie.replace(s,t);return ie}var n=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c(ie){return ie.replace(n,function(se,ne){return ne=ne.toLowerCase(),ne==="colon"?":":ne.charAt(0)==="#"?ne.charAt(1)==="x"?String.fromCharCode(parseInt(ne.substring(2),16)):String.fromCharCode(+ne.substring(1)):""})}var u=/(^|[^\[])\^/g;function r(ie,se){ie=typeof ie=="string"?ie:ie.source,se=se||"";var ne={replace:function(q,z){return z=z.source||z,z=z.replace(u,"$1"),ie=ie.replace(q,z),ne},getRegex:function(){return new RegExp(ie,se)}};return ne}var a=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(ie,se,ne){if(ie){var W;try{W=decodeURIComponent(c(ne)).replace(a,"").toLowerCase()}catch{return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}se&&!l.test(ne)&&(ne=S(se,ne));try{ne=encodeURI(ne).replace(/%25/g,"%")}catch{return null}return ne}var p={},h=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function S(ie,se){p[" "+ie]||(h.test(ie)?p[" "+ie]=ie+"/":p[" "+ie]=T(ie,"/",!0)),ie=p[" "+ie];var ne=ie.indexOf(":")===-1;return se.substring(0,2)==="//"?ne?se:ie.replace(g,"$1")+se:se.charAt(0)==="/"?ne?se:ie.replace(C,"$1")+se:ie+se}var _={exec:function(){}};function L(ie){for(var se=1,ne,W;se<arguments.length;se++){ne=arguments[se];for(W in ne)Object.prototype.hasOwnProperty.call(ne,W)&&(ie[W]=ne[W])}return ie}function D(ie,se){var ne=ie.replace(/\|/g,function(z,$,X){for(var ee=!1,oe=$;--oe>=0&&X[oe]==="\\";)ee=!ee;return ee?"|":" |"}),W=ne.split(/ \|/),q=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),W.length>se)W.splice(se);else for(;W.length<se;)W.push("");for(;q<W.length;q++)W[q]=W[q].trim().replace(/\\\|/g,"|");return W}function T(ie,se,ne){var W=ie.length;if(W===0)return"";for(var q=0;q<W;){var z=ie.charAt(W-q-1);if(z===se&&!ne)q++;else if(z!==se&&ne)q++;else break}return ie.slice(0,W-q)}function N(ie,se){if(ie.indexOf(se[1])===-1)return-1;for(var ne=ie.length,W=0,q=0;q<ne;q++)if(ie[q]==="\\")q++;else if(ie[q]===se[0])W++;else if(ie[q]===se[1]&&(W--,W<0))return q;return-1}function A(ie){ie&&ie.sanitize&&!ie.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function R(ie,se){if(se<1)return"";for(var ne="";se>1;)se&1&&(ne+=ie),se>>=1,ie+=ie;return ne+ie}function M(ie,se,ne,W){var q=se.href,z=se.title?i(se.title):null,$=ie[1].replace(/\\([\[\]])/g,"$1");if(ie[0].charAt(0)!=="!"){W.state.inLink=!0;var X={type:"link",raw:ne,href:q,title:z,text:$,tokens:W.inlineTokens($)};return W.state.inLink=!1,X}return{type:"image",raw:ne,href:q,title:z,text:i($)}}function P(ie,se){var ne=ie.match(/^(\s+)(?:```)/);if(ne===null)return se;var W=ne[1];return se.split(`
`).map(function(q){var z=q.match(/^\s+/);if(z===null)return q;var $=z[0];return $.length>=W.length?q.slice(W.length):q}).join(`
`)}var x=function(){function ie(ne){this.options=ne||le.defaults}var se=ie.prototype;return se.space=function(W){var q=this.rules.block.newline.exec(W);if(q&&q[0].length>0)return{type:"space",raw:q[0]}},se.code=function(W){var q=this.rules.block.code.exec(W);if(q){var z=q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:q[0],codeBlockStyle:"indented",text:this.options.pedantic?z:T(z,`
`)}}},se.fences=function(W){var q=this.rules.block.fences.exec(W);if(q){var z=q[0],$=P(z,q[3]||"");return{type:"code",raw:z,lang:q[2]?q[2].trim():q[2],text:$}}},se.heading=function(W){var q=this.rules.block.heading.exec(W);if(q){var z=q[2].trim();if(/#$/.test(z)){var $=T(z,"#");(this.options.pedantic||!$||/ $/.test($))&&(z=$.trim())}return{type:"heading",raw:q[0],depth:q[1].length,text:z,tokens:this.lexer.inline(z)}}},se.hr=function(W){var q=this.rules.block.hr.exec(W);if(q)return{type:"hr",raw:q[0]}},se.blockquote=function(W){var q=this.rules.block.blockquote.exec(W);if(q){var z=q[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:q[0],tokens:this.lexer.blockTokens(z,[]),text:z}}},se.list=function(W){var q=this.rules.block.list.exec(W);if(q){var z,$,X,ee,oe,ce,fe,ve,_e,Ie,Ce,Ee,Le=q[1].trim(),Te=Le.length>1,Ae={type:"list",raw:"",ordered:Te,start:Te?+Le.slice(0,-1):"",loose:!1,items:[]};Le=Te?"\\d{1,9}\\"+Le.slice(-1):"\\"+Le,this.options.pedantic&&(Le=Te?Le:"[*+-]");for(var Pe=new RegExp("^( {0,3}"+Le+")((?:[	 ][^\\n]*)?(?:\\n|$))");W&&(Ee=!1,!(!(q=Pe.exec(W))||this.rules.block.hr.test(W)));){if(z=q[0],W=W.substring(z.length),ve=q[2].split(`
`,1)[0],_e=W.split(`
`,1)[0],this.options.pedantic?(ee=2,Ce=ve.trimLeft()):(ee=q[2].search(/[^ ]/),ee=ee>4?1:ee,Ce=ve.slice(ee),ee+=q[1].length),ce=!1,!ve&&/^ *$/.test(_e)&&(z+=_e+`
`,W=W.substring(_e.length+1),Ee=!0),!Ee)for(var Re=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),We=new RegExp("^ {0,"+Math.min(3,ee-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),De=new RegExp("^ {0,"+Math.min(3,ee-1)+"}(?:```|~~~)"),Ne=new RegExp("^ {0,"+Math.min(3,ee-1)+"}#");W&&(Ie=W.split(`
`,1)[0],ve=Ie,this.options.pedantic&&(ve=ve.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(De.test(ve)||Ne.test(ve)||Re.test(ve)||We.test(W)));){if(ve.search(/[^ ]/)>=ee||!ve.trim())Ce+=`
`+ve.slice(ee);else if(!ce)Ce+=`
`+ve;else break;!ce&&!ve.trim()&&(ce=!0),z+=Ie+`
`,W=W.substring(Ie.length+1)}Ae.loose||(fe?Ae.loose=!0:/\n *\n *$/.test(z)&&(fe=!0)),this.options.gfm&&($=/^\[[ xX]\] /.exec(Ce),$&&(X=$[0]!=="[ ] ",Ce=Ce.replace(/^\[[ xX]\] +/,""))),Ae.items.push({type:"list_item",raw:z,task:!!$,checked:X,loose:!1,text:Ce}),Ae.raw+=z}Ae.items[Ae.items.length-1].raw=z.trimRight(),Ae.items[Ae.items.length-1].text=Ce.trimRight(),Ae.raw=Ae.raw.trimRight();var me=Ae.items.length;for(oe=0;oe<me;oe++){this.lexer.state.top=!1,Ae.items[oe].tokens=this.lexer.blockTokens(Ae.items[oe].text,[]);var we=Ae.items[oe].tokens.filter(function(xe){return xe.type==="space"}),Fe=we.every(function(xe){for(var je=xe.raw.split(""),Ze=0,Ye=I(je),tt;!(tt=Ye()).done;){var nt=tt.value;if(nt===`
`&&(Ze+=1),Ze>1)return!0}return!1});!Ae.loose&&we.length&&Fe&&(Ae.loose=!0,Ae.items[oe].loose=!0)}return Ae}},se.html=function(W){var q=this.rules.block.html.exec(W);if(q){var z={type:"html",raw:q[0],pre:!this.options.sanitizer&&(q[1]==="pre"||q[1]==="script"||q[1]==="style"),text:q[0]};if(this.options.sanitize){var $=this.options.sanitizer?this.options.sanitizer(q[0]):i(q[0]);z.type="paragraph",z.text=$,z.tokens=this.lexer.inline($)}return z}},se.def=function(W){var q=this.rules.block.def.exec(W);if(q){q[3]&&(q[3]=q[3].substring(1,q[3].length-1));var z=q[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:z,raw:q[0],href:q[2],title:q[3]}}},se.table=function(W){var q=this.rules.block.table.exec(W);if(q){var z={type:"table",header:D(q[1]).map(function(fe){return{text:fe}}),align:q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:q[3]&&q[3].trim()?q[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(z.header.length===z.align.length){z.raw=q[0];var $=z.align.length,X,ee,oe,ce;for(X=0;X<$;X++)/^ *-+: *$/.test(z.align[X])?z.align[X]="right":/^ *:-+: *$/.test(z.align[X])?z.align[X]="center":/^ *:-+ *$/.test(z.align[X])?z.align[X]="left":z.align[X]=null;for($=z.rows.length,X=0;X<$;X++)z.rows[X]=D(z.rows[X],z.header.length).map(function(fe){return{text:fe}});for($=z.header.length,ee=0;ee<$;ee++)z.header[ee].tokens=this.lexer.inline(z.header[ee].text);for($=z.rows.length,ee=0;ee<$;ee++)for(ce=z.rows[ee],oe=0;oe<ce.length;oe++)ce[oe].tokens=this.lexer.inline(ce[oe].text);return z}}},se.lheading=function(W){var q=this.rules.block.lheading.exec(W);if(q)return{type:"heading",raw:q[0],depth:q[2].charAt(0)==="="?1:2,text:q[1],tokens:this.lexer.inline(q[1])}},se.paragraph=function(W){var q=this.rules.block.paragraph.exec(W);if(q){var z=q[1].charAt(q[1].length-1)===`
`?q[1].slice(0,-1):q[1];return{type:"paragraph",raw:q[0],text:z,tokens:this.lexer.inline(z)}}},se.text=function(W){var q=this.rules.block.text.exec(W);if(q)return{type:"text",raw:q[0],text:q[0],tokens:this.lexer.inline(q[0])}},se.escape=function(W){var q=this.rules.inline.escape.exec(W);if(q)return{type:"escape",raw:q[0],text:i(q[1])}},se.tag=function(W){var q=this.rules.inline.tag.exec(W);if(q)return!this.lexer.state.inLink&&/^<a /i.test(q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):i(q[0]):q[0]}},se.link=function(W){var q=this.rules.inline.link.exec(W);if(q){var z=q[2].trim();if(!this.options.pedantic&&/^</.test(z)){if(!/>$/.test(z))return;var $=T(z.slice(0,-1),"\\");if((z.length-$.length)%2===0)return}else{var X=N(q[2],"()");if(X>-1){var ee=q[0].indexOf("!")===0?5:4,oe=ee+q[1].length+X;q[2]=q[2].substring(0,X),q[0]=q[0].substring(0,oe).trim(),q[3]=""}}var ce=q[2],fe="";if(this.options.pedantic){var ve=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ce);ve&&(ce=ve[1],fe=ve[3])}else fe=q[3]?q[3].slice(1,-1):"";return ce=ce.trim(),/^</.test(ce)&&(this.options.pedantic&&!/>$/.test(z)?ce=ce.slice(1):ce=ce.slice(1,-1)),M(q,{href:ce&&ce.replace(this.rules.inline._escapes,"$1"),title:fe&&fe.replace(this.rules.inline._escapes,"$1")},q[0],this.lexer)}},se.reflink=function(W,q){var z;if((z=this.rules.inline.reflink.exec(W))||(z=this.rules.inline.nolink.exec(W))){var $=(z[2]||z[1]).replace(/\s+/g," ");if($=q[$.toLowerCase()],!$||!$.href){var X=z[0].charAt(0);return{type:"text",raw:X,text:X}}return M(z,$,z[0],this.lexer)}},se.emStrong=function(W,q,z){z===void 0&&(z="");var $=this.rules.inline.emStrong.lDelim.exec(W);if($&&!($[3]&&z.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var X=$[1]||$[2]||"";if(!X||X&&(z===""||this.rules.inline.punctuation.exec(z))){var ee=$[0].length-1,oe,ce,fe=ee,ve=0,_e=$[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_e.lastIndex=0,q=q.slice(-1*W.length+ee);($=_e.exec(q))!=null;)if(oe=$[1]||$[2]||$[3]||$[4]||$[5]||$[6],!!oe){if(ce=oe.length,$[3]||$[4]){fe+=ce;continue}else if(($[5]||$[6])&&ee%3&&!((ee+ce)%3)){ve+=ce;continue}if(fe-=ce,!(fe>0)){if(ce=Math.min(ce,ce+fe+ve),Math.min(ee,ce)%2){var Ie=W.slice(1,ee+$.index+ce);return{type:"em",raw:W.slice(0,ee+$.index+ce+1),text:Ie,tokens:this.lexer.inlineTokens(Ie)}}var Ce=W.slice(2,ee+$.index+ce-1);return{type:"strong",raw:W.slice(0,ee+$.index+ce+1),text:Ce,tokens:this.lexer.inlineTokens(Ce)}}}}}},se.codespan=function(W){var q=this.rules.inline.code.exec(W);if(q){var z=q[2].replace(/\n/g," "),$=/[^ ]/.test(z),X=/^ /.test(z)&&/ $/.test(z);return $&&X&&(z=z.substring(1,z.length-1)),z=i(z,!0),{type:"codespan",raw:q[0],text:z}}},se.br=function(W){var q=this.rules.inline.br.exec(W);if(q)return{type:"br",raw:q[0]}},se.del=function(W){var q=this.rules.inline.del.exec(W);if(q)return{type:"del",raw:q[0],text:q[2],tokens:this.lexer.inlineTokens(q[2])}},se.autolink=function(W,q){var z=this.rules.inline.autolink.exec(W);if(z){var $,X;return z[2]==="@"?($=i(this.options.mangle?q(z[1]):z[1]),X="mailto:"+$):($=i(z[1]),X=$),{type:"link",raw:z[0],text:$,href:X,tokens:[{type:"text",raw:$,text:$}]}}},se.url=function(W,q){var z;if(z=this.rules.inline.url.exec(W)){var $,X;if(z[2]==="@")$=i(this.options.mangle?q(z[0]):z[0]),X="mailto:"+$;else{var ee;do ee=z[0],z[0]=this.rules.inline._backpedal.exec(z[0])[0];while(ee!==z[0]);$=i(z[0]),z[1]==="www."?X="http://"+$:X=$}return{type:"link",raw:z[0],text:$,href:X,tokens:[{type:"text",raw:$,text:$}]}}},se.inlineText=function(W,q){var z=this.rules.inline.text.exec(W);if(z){var $;return this.lexer.state.inRawBlock?$=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(z[0]):i(z[0]):z[0]:$=i(this.options.smartypants?q(z[0]):z[0]),{type:"text",raw:z[0],text:$}}},ie}(),O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:_,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};O._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,O.def=r(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.listItemStart=r(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=r(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=r(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=r(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=r(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=L({},O),O.gfm=L({},O.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.table=r(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.paragraph=r(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=L({},O.normal,{html:r(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_,paragraph:r(O.normal._paragraph).replace("hr",O.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var B={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};B._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",B.punctuation=r(B.punctuation).replace(/punctuation/g,B._punctuation).getRegex(),B.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,B.escapedEmSt=/\\\*|\\_/g,B._comment=r(O._comment).replace("(?:-->|$)","-->").getRegex(),B.emStrong.lDelim=r(B.emStrong.lDelim).replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimAst=r(B.emStrong.rDelimAst,"g").replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimUnd=r(B.emStrong.rDelimUnd,"g").replace(/punct/g,B._punctuation).getRegex(),B._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,B._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,B._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,B.autolink=r(B.autolink).replace("scheme",B._scheme).replace("email",B._email).getRegex(),B._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,B.tag=r(B.tag).replace("comment",B._comment).replace("attribute",B._attribute).getRegex(),B._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,B._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,B.link=r(B.link).replace("label",B._label).replace("href",B._href).replace("title",B._title).getRegex(),B.reflink=r(B.reflink).replace("label",B._label).replace("ref",O._label).getRegex(),B.nolink=r(B.nolink).replace("ref",O._label).getRegex(),B.reflinkSearch=r(B.reflinkSearch,"g").replace("reflink",B.reflink).replace("nolink",B.nolink).getRegex(),B.normal=L({},B),B.pedantic=L({},B.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:r(/^!?\[(label)\]\((.*?)\)/).replace("label",B._label).getRegex(),reflink:r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B._label).getRegex()}),B.gfm=L({},B.normal,{escape:r(B.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),B.gfm.url=r(B.gfm.url,"i").replace("email",B.gfm._extended_email).getRegex(),B.breaks=L({},B.gfm,{br:r(B.br).replace("{2,}","*").getRegex(),text:r(B.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function H(ie){return ie.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function K(ie){var se="",ne,W,q=ie.length;for(ne=0;ne<q;ne++)W=ie.charCodeAt(ne),Math.random()>.5&&(W="x"+W.toString(16)),se+="&#"+W+";";return se}var V=function(){function ie(ne){this.tokens=[],this.tokens.links=Object.create(null),this.options=ne||le.defaults,this.options.tokenizer=this.options.tokenizer||new x,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var W={block:O.normal,inline:B.normal};this.options.pedantic?(W.block=O.pedantic,W.inline=B.pedantic):this.options.gfm&&(W.block=O.gfm,this.options.breaks?W.inline=B.breaks:W.inline=B.gfm),this.tokenizer.rules=W}ie.lex=function(W,q){var z=new ie(q);return z.lex(W)},ie.lexInline=function(W,q){var z=new ie(q);return z.inlineTokens(W)};var se=ie.prototype;return se.lex=function(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);for(var q;q=this.inlineQueue.shift();)this.inlineTokens(q.src,q.tokens);return this.tokens},se.blockTokens=function(W,q){var z=this;q===void 0&&(q=[]),this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,function(fe,ve,_e){return ve+"    ".repeat(_e.length)});for(var $,X,ee,oe;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(fe){return($=fe.call({lexer:z},W,q))?(W=W.substring($.raw.length),q.push($),!0):!1}))){if($=this.tokenizer.space(W)){W=W.substring($.raw.length),$.raw.length===1&&q.length>0?q[q.length-1].raw+=`
`:q.push($);continue}if($=this.tokenizer.code(W)){W=W.substring($.raw.length),X=q[q.length-1],X&&(X.type==="paragraph"||X.type==="text")?(X.raw+=`
`+$.raw,X.text+=`
`+$.text,this.inlineQueue[this.inlineQueue.length-1].src=X.text):q.push($);continue}if($=this.tokenizer.fences(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.heading(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.hr(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.blockquote(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.list(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.html(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.def(W)){W=W.substring($.raw.length),X=q[q.length-1],X&&(X.type==="paragraph"||X.type==="text")?(X.raw+=`
`+$.raw,X.text+=`
`+$.raw,this.inlineQueue[this.inlineQueue.length-1].src=X.text):this.tokens.links[$.tag]||(this.tokens.links[$.tag]={href:$.href,title:$.title});continue}if($=this.tokenizer.table(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.lheading(W)){W=W.substring($.raw.length),q.push($);continue}if(ee=W,this.options.extensions&&this.options.extensions.startBlock&&function(){var fe=1/0,ve=W.slice(1),_e=void 0;z.options.extensions.startBlock.forEach(function(Ie){_e=Ie.call({lexer:this},ve),typeof _e=="number"&&_e>=0&&(fe=Math.min(fe,_e))}),fe<1/0&&fe>=0&&(ee=W.substring(0,fe+1))}(),this.state.top&&($=this.tokenizer.paragraph(ee))){X=q[q.length-1],oe&&X.type==="paragraph"?(X.raw+=`
`+$.raw,X.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=X.text):q.push($),oe=ee.length!==W.length,W=W.substring($.raw.length);continue}if($=this.tokenizer.text(W)){W=W.substring($.raw.length),X=q[q.length-1],X&&X.type==="text"?(X.raw+=`
`+$.raw,X.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=X.text):q.push($);continue}if(W){var ce="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(ce);break}else throw new Error(ce)}}return this.state.top=!0,q},se.inline=function(W,q){return q===void 0&&(q=[]),this.inlineQueue.push({src:W,tokens:q}),q},se.inlineTokens=function(W,q){var z=this;q===void 0&&(q=[]);var $,X,ee,oe=W,ce,fe,ve;if(this.tokens.links){var _e=Object.keys(this.tokens.links);if(_e.length>0)for(;(ce=this.tokenizer.rules.inline.reflinkSearch.exec(oe))!=null;)_e.includes(ce[0].slice(ce[0].lastIndexOf("[")+1,-1))&&(oe=oe.slice(0,ce.index)+"["+R("a",ce[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ce=this.tokenizer.rules.inline.blockSkip.exec(oe))!=null;)oe=oe.slice(0,ce.index)+"["+R("a",ce[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ce=this.tokenizer.rules.inline.escapedEmSt.exec(oe))!=null;)oe=oe.slice(0,ce.index)+"++"+oe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;W;)if(fe||(ve=""),fe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ce){return($=Ce.call({lexer:z},W,q))?(W=W.substring($.raw.length),q.push($),!0):!1}))){if($=this.tokenizer.escape(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.tag(W)){W=W.substring($.raw.length),X=q[q.length-1],X&&$.type==="text"&&X.type==="text"?(X.raw+=$.raw,X.text+=$.text):q.push($);continue}if($=this.tokenizer.link(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring($.raw.length),X=q[q.length-1],X&&$.type==="text"&&X.type==="text"?(X.raw+=$.raw,X.text+=$.text):q.push($);continue}if($=this.tokenizer.emStrong(W,oe,ve)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.codespan(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.br(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.del(W)){W=W.substring($.raw.length),q.push($);continue}if($=this.tokenizer.autolink(W,K)){W=W.substring($.raw.length),q.push($);continue}if(!this.state.inLink&&($=this.tokenizer.url(W,K))){W=W.substring($.raw.length),q.push($);continue}if(ee=W,this.options.extensions&&this.options.extensions.startInline&&function(){var Ce=1/0,Ee=W.slice(1),Le=void 0;z.options.extensions.startInline.forEach(function(Te){Le=Te.call({lexer:this},Ee),typeof Le=="number"&&Le>=0&&(Ce=Math.min(Ce,Le))}),Ce<1/0&&Ce>=0&&(ee=W.substring(0,Ce+1))}(),$=this.tokenizer.inlineText(ee,H)){W=W.substring($.raw.length),$.raw.slice(-1)!=="_"&&(ve=$.raw.slice(-1)),fe=!0,X=q[q.length-1],X&&X.type==="text"?(X.raw+=$.raw,X.text+=$.text):q.push($);continue}if(W){var Ie="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Ie);break}else throw new Error(Ie)}}return q},f(ie,null,[{key:"rules",get:function(){return{block:O,inline:B}}}]),ie}(),j=function(){function ie(ne){this.options=ne||le.defaults}var se=ie.prototype;return se.code=function(W,q,z){var $=(q||"").match(/\S*/)[0];if(this.options.highlight){var X=this.options.highlight(W,$);X!=null&&X!==W&&(z=!0,W=X)}return W=W.replace(/\n$/,"")+`
`,$?'<pre><code class="'+this.options.langPrefix+i($,!0)+'">'+(z?W:i(W,!0))+`</code></pre>
`:"<pre><code>"+(z?W:i(W,!0))+`</code></pre>
`},se.blockquote=function(W){return`<blockquote>
`+W+`</blockquote>
`},se.html=function(W){return W},se.heading=function(W,q,z,$){if(this.options.headerIds){var X=this.options.headerPrefix+$.slug(z);return"<h"+q+' id="'+X+'">'+W+"</h"+q+`>
`}return"<h"+q+">"+W+"</h"+q+`>
`},se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},se.list=function(W,q,z){var $=q?"ol":"ul",X=q&&z!==1?' start="'+z+'"':"";return"<"+$+X+`>
`+W+"</"+$+`>
`},se.listitem=function(W){return"<li>"+W+`</li>
`},se.checkbox=function(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},se.paragraph=function(W){return"<p>"+W+`</p>
`},se.table=function(W,q){return q&&(q="<tbody>"+q+"</tbody>"),`<table>
<thead>
`+W+`</thead>
`+q+`</table>
`},se.tablerow=function(W){return`<tr>
`+W+`</tr>
`},se.tablecell=function(W,q){var z=q.header?"th":"td",$=q.align?"<"+z+' align="'+q.align+'">':"<"+z+">";return $+W+("</"+z+`>
`)},se.strong=function(W){return"<strong>"+W+"</strong>"},se.em=function(W){return"<em>"+W+"</em>"},se.codespan=function(W){return"<code>"+W+"</code>"},se.br=function(){return this.options.xhtml?"<br/>":"<br>"},se.del=function(W){return"<del>"+W+"</del>"},se.link=function(W,q,z){if(W=d(this.options.sanitize,this.options.baseUrl,W),W===null)return z;var $='<a href="'+i(W)+'"';return q&&($+=' title="'+q+'"'),$+=">"+z+"</a>",$},se.image=function(W,q,z){if(W=d(this.options.sanitize,this.options.baseUrl,W),W===null)return z;var $='<img src="'+W+'" alt="'+z+'"';return q&&($+=' title="'+q+'"'),$+=this.options.xhtml?"/>":">",$},se.text=function(W){return W},ie}(),U=function(){function ie(){}var se=ie.prototype;return se.strong=function(W){return W},se.em=function(W){return W},se.codespan=function(W){return W},se.del=function(W){return W},se.html=function(W){return W},se.text=function(W){return W},se.link=function(W,q,z){return""+z},se.image=function(W,q,z){return""+z},se.br=function(){return""},ie}(),Y=function(){function ie(){this.seen={}}var se=ie.prototype;return se.serialize=function(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},se.getNextSafeSlug=function(W,q){var z=W,$=0;if(this.seen.hasOwnProperty(z)){$=this.seen[W];do $++,z=W+"-"+$;while(this.seen.hasOwnProperty(z))}return q||(this.seen[W]=$,this.seen[z]=0),z},se.slug=function(W,q){q===void 0&&(q={});var z=this.serialize(W);return this.getNextSafeSlug(z,q.dryrun)},ie}(),Q=function(){function ie(ne){this.options=ne||le.defaults,this.options.renderer=this.options.renderer||new j,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new U,this.slugger=new Y}ie.parse=function(W,q){var z=new ie(q);return z.parse(W)},ie.parseInline=function(W,q){var z=new ie(q);return z.parseInline(W)};var se=ie.prototype;return se.parse=function(W,q){q===void 0&&(q=!0);var z="",$,X,ee,oe,ce,fe,ve,_e,Ie,Ce,Ee,Le,Te,Ae,Pe,Re,We,De,Ne,me=W.length;for($=0;$<me;$++){if(Ce=W[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ce.type]&&(Ne=this.options.extensions.renderers[Ce.type].call({parser:this},Ce),Ne!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ce.type))){z+=Ne||"";continue}switch(Ce.type){case"space":continue;case"hr":{z+=this.renderer.hr();continue}case"heading":{z+=this.renderer.heading(this.parseInline(Ce.tokens),Ce.depth,c(this.parseInline(Ce.tokens,this.textRenderer)),this.slugger);continue}case"code":{z+=this.renderer.code(Ce.text,Ce.lang,Ce.escaped);continue}case"table":{for(_e="",ve="",oe=Ce.header.length,X=0;X<oe;X++)ve+=this.renderer.tablecell(this.parseInline(Ce.header[X].tokens),{header:!0,align:Ce.align[X]});for(_e+=this.renderer.tablerow(ve),Ie="",oe=Ce.rows.length,X=0;X<oe;X++){for(fe=Ce.rows[X],ve="",ce=fe.length,ee=0;ee<ce;ee++)ve+=this.renderer.tablecell(this.parseInline(fe[ee].tokens),{header:!1,align:Ce.align[ee]});Ie+=this.renderer.tablerow(ve)}z+=this.renderer.table(_e,Ie);continue}case"blockquote":{Ie=this.parse(Ce.tokens),z+=this.renderer.blockquote(Ie);continue}case"list":{for(Ee=Ce.ordered,Le=Ce.start,Te=Ce.loose,oe=Ce.items.length,Ie="",X=0;X<oe;X++)Pe=Ce.items[X],Re=Pe.checked,We=Pe.task,Ae="",Pe.task&&(De=this.renderer.checkbox(Re),Te?Pe.tokens.length>0&&Pe.tokens[0].type==="paragraph"?(Pe.tokens[0].text=De+" "+Pe.tokens[0].text,Pe.tokens[0].tokens&&Pe.tokens[0].tokens.length>0&&Pe.tokens[0].tokens[0].type==="text"&&(Pe.tokens[0].tokens[0].text=De+" "+Pe.tokens[0].tokens[0].text)):Pe.tokens.unshift({type:"text",text:De}):Ae+=De),Ae+=this.parse(Pe.tokens,Te),Ie+=this.renderer.listitem(Ae,We,Re);z+=this.renderer.list(Ie,Ee,Le);continue}case"html":{z+=this.renderer.html(Ce.text);continue}case"paragraph":{z+=this.renderer.paragraph(this.parseInline(Ce.tokens));continue}case"text":{for(Ie=Ce.tokens?this.parseInline(Ce.tokens):Ce.text;$+1<me&&W[$+1].type==="text";)Ce=W[++$],Ie+=`
`+(Ce.tokens?this.parseInline(Ce.tokens):Ce.text);z+=q?this.renderer.paragraph(Ie):Ie;continue}default:{var we='Token with "'+Ce.type+'" type was not found.';if(this.options.silent){console.error(we);return}else throw new Error(we)}}}return z},se.parseInline=function(W,q){q=q||this.renderer;var z="",$,X,ee,oe=W.length;for($=0;$<oe;$++){if(X=W[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[X.type]&&(ee=this.options.extensions.renderers[X.type].call({parser:this},X),ee!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(X.type))){z+=ee||"";continue}switch(X.type){case"escape":{z+=q.text(X.text);break}case"html":{z+=q.html(X.text);break}case"link":{z+=q.link(X.href,X.title,this.parseInline(X.tokens,q));break}case"image":{z+=q.image(X.href,X.title,X.text);break}case"strong":{z+=q.strong(this.parseInline(X.tokens,q));break}case"em":{z+=q.em(this.parseInline(X.tokens,q));break}case"codespan":{z+=q.codespan(X.text);break}case"br":{z+=q.br();break}case"del":{z+=q.del(this.parseInline(X.tokens,q));break}case"text":{z+=q.text(X.text);break}default:{var ce='Token with "'+X.type+'" type was not found.';if(this.options.silent){console.error(ce);return}else throw new Error(ce)}}}return z},ie}();function Z(ie,se,ne){if(typeof ie>"u"||ie===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ie!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ie)+", string expected");if(typeof se=="function"&&(ne=se,se=null),se=L({},Z.defaults,se||{}),A(se),ne){var W=se.highlight,q;try{q=V.lex(ie,se)}catch(oe){return ne(oe)}var z=function(ce){var fe;if(!ce)try{se.walkTokens&&Z.walkTokens(q,se.walkTokens),fe=Q.parse(q,se)}catch(ve){ce=ve}return se.highlight=W,ce?ne(ce):ne(null,fe)};if(!W||W.length<3||(delete se.highlight,!q.length))return z();var $=0;Z.walkTokens(q,function(oe){oe.type==="code"&&($++,setTimeout(function(){W(oe.text,oe.lang,function(ce,fe){if(ce)return z(ce);fe!=null&&fe!==oe.text&&(oe.text=fe,oe.escaped=!0),$--,$===0&&z()})},0))}),$===0&&z();return}function X(oe){if(oe.message+=`
Please report this to https://github.com/markedjs/marked.`,se.silent)return"<p>An error occurred:</p><pre>"+i(oe.message+"",!0)+"</pre>";throw oe}try{var ee=V.lex(ie,se);if(se.walkTokens){if(se.async)return Promise.all(Z.walkTokens(ee,se.walkTokens)).then(function(){return Q.parse(ee,se)}).catch(X);Z.walkTokens(ee,se.walkTokens)}return Q.parse(ee,se)}catch(oe){X(oe)}}Z.options=Z.setOptions=function(ie){return L(Z.defaults,ie),m(Z.defaults),Z},Z.getDefaults=y,Z.defaults=le.defaults,Z.use=function(){for(var ie=arguments.length,se=new Array(ie),ne=0;ne<ie;ne++)se[ne]=arguments[ne];var W=L.apply(void 0,[{}].concat(se)),q=Z.defaults.extensions||{renderers:{},childTokens:{}},z;se.forEach(function($){if($.extensions&&(z=!0,$.extensions.forEach(function(ee){if(!ee.name)throw new Error("extension name required");if(ee.renderer){var oe=q.renderers?q.renderers[ee.name]:null;oe?q.renderers[ee.name]=function(){for(var ce=arguments.length,fe=new Array(ce),ve=0;ve<ce;ve++)fe[ve]=arguments[ve];var _e=ee.renderer.apply(this,fe);return _e===!1&&(_e=oe.apply(this,fe)),_e}:q.renderers[ee.name]=ee.renderer}if(ee.tokenizer){if(!ee.level||ee.level!=="block"&&ee.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");q[ee.level]?q[ee.level].unshift(ee.tokenizer):q[ee.level]=[ee.tokenizer],ee.start&&(ee.level==="block"?q.startBlock?q.startBlock.push(ee.start):q.startBlock=[ee.start]:ee.level==="inline"&&(q.startInline?q.startInline.push(ee.start):q.startInline=[ee.start]))}ee.childTokens&&(q.childTokens[ee.name]=ee.childTokens)})),$.renderer&&function(){var ee=Z.defaults.renderer||new j,oe=function(ve){var _e=ee[ve];ee[ve]=function(){for(var Ie=arguments.length,Ce=new Array(Ie),Ee=0;Ee<Ie;Ee++)Ce[Ee]=arguments[Ee];var Le=$.renderer[ve].apply(ee,Ce);return Le===!1&&(Le=_e.apply(ee,Ce)),Le}};for(var ce in $.renderer)oe(ce);W.renderer=ee}(),$.tokenizer&&function(){var ee=Z.defaults.tokenizer||new x,oe=function(ve){var _e=ee[ve];ee[ve]=function(){for(var Ie=arguments.length,Ce=new Array(Ie),Ee=0;Ee<Ie;Ee++)Ce[Ee]=arguments[Ee];var Le=$.tokenizer[ve].apply(ee,Ce);return Le===!1&&(Le=_e.apply(ee,Ce)),Le}};for(var ce in $.tokenizer)oe(ce);W.tokenizer=ee}(),$.walkTokens){var X=Z.defaults.walkTokens;W.walkTokens=function(ee){var oe=[];return oe.push($.walkTokens.call(this,ee)),X&&(oe=oe.concat(X.call(this,ee))),oe}}z&&(W.extensions=q),Z.setOptions(W)})},Z.walkTokens=function(ie,se){for(var ne=[],W=function(){var X=z.value;switch(ne=ne.concat(se.call(Z,X)),X.type){case"table":{for(var ee=I(X.header),oe;!(oe=ee()).done;){var ce=oe.value;ne=ne.concat(Z.walkTokens(ce.tokens,se))}for(var fe=I(X.rows),ve;!(ve=fe()).done;)for(var _e=ve.value,Ie=I(_e),Ce;!(Ce=Ie()).done;){var Ee=Ce.value;ne=ne.concat(Z.walkTokens(Ee.tokens,se))}break}case"list":{ne=ne.concat(Z.walkTokens(X.items,se));break}default:Z.defaults.extensions&&Z.defaults.extensions.childTokens&&Z.defaults.extensions.childTokens[X.type]?Z.defaults.extensions.childTokens[X.type].forEach(function(Le){ne=ne.concat(Z.walkTokens(X[Le],se))}):X.tokens&&(ne=ne.concat(Z.walkTokens(X.tokens,se)))}},q=I(ie),z;!(z=q()).done;)W();return ne},Z.parseInline=function(ie,se){if(typeof ie>"u"||ie===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ie!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ie)+", string expected");se=L({},Z.defaults,se||{}),A(se);try{var ne=V.lexInline(ie,se);return se.walkTokens&&Z.walkTokens(ne,se.walkTokens),Q.parseInline(ne,se)}catch(W){if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,se.silent)return"<p>An error occurred:</p><pre>"+i(W.message+"",!0)+"</pre>";throw W}},Z.Parser=Q,Z.parser=Q.parse,Z.Renderer=j,Z.TextRenderer=U,Z.Lexer=V,Z.lexer=V.lex,Z.Tokenizer=x,Z.Slugger=Y,Z.parse=Z;var G=Z.options,F=Z.setOptions,J=Z.use,te=Z.walkTokens,de=Z.parseInline,he=Z,pe=Q.parse,ue=V.lex;le.Lexer=V,le.Parser=Q,le.Renderer=j,le.Slugger=Y,le.TextRenderer=U,le.Tokenizer=x,le.getDefaults=y,le.lexer=ue,le.marked=Z,le.options=G,le.parse=he,le.parseInline=de,le.parser=pe,le.setOptions=F,le.use=J,le.walkTokens=te,Object.defineProperty(le,"__esModule",{value:!0})}),define(re[126],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(re[221],ae([1,0,126]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:f.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(re[445],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKoreanAltChars=f;function f(o){const t=I(o);if(t&&t.length>0)return new Uint32Array(t)}let k=0;const E=new Uint32Array(10);function I(o){if(k=0,y(o,w,4352),k>0||(y(o,b,4449),k>0)||(y(o,v,4520),k>0)||(y(o,s,12593),k))return E.subarray(0,k);if(o>=44032&&o<=55203){const t=o-44032,i=t%588,n=Math.floor(t/588),c=Math.floor(i/28),u=i%28-1;if(n<w.length?y(n,w,0):4352+n-12593<s.length&&y(4352+n,s,12593),c<b.length?y(c,b,0):4449+c-12593<s.length&&y(4449+c-12593,s,12593),u>=0&&(u<v.length?y(u,v,0):4520+u-12593<s.length&&y(4520+u-12593,s,12593)),k>0)return E.subarray(0,k)}}function y(o,t,i){o>=i&&o<i+t.length&&m(t[o-i])}function m(o){o!==0&&(E[k++]=o&255,o>>8&&(E[k++]=o>>8&255),o>>16&&(E[k++]=o>>16&255))}const w=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),b=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),v=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),s=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])}),define(re[446],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class f{constructor(E,I=0,y=E.length,m=I-1){this.items=E,this.start=I,this.end=y,this.index=m}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=f}),define(re[447],ae([1,0,446]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(I=[],y=10){this._initialize(I),this._limit=y,this._onChange()}getHistory(){return this._elements}add(I){this._history.delete(I),this._history.add(I),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(I){return this._history.has(I)}_onChange(){this._reduceToLimit();const I=this._elements;this._navigator=new f.ArrayNavigator(I,0,I.length,I.length)}_reduceToLimit(){const I=this._elements;I.length>this._limit&&this._initialize(I.slice(I.length-this._limit))}_currentPosition(){const I=this._navigator.current();return I?this._elements.indexOf(I):-1}_initialize(I){this._history=new Set;for(const y of I)this._history.add(y)}get _elements(){const I=[];return this._history.forEach(y=>I.push(y)),I}}e.HistoryNavigator=k}),define(re[138],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=void 0,e.clamp=f;function f(I,y,m){return Math.min(Math.max(I,y),m)}class k{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class E{constructor(y){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(y),this._values.fill(0,0,y)}update(y){const m=this._values[this._index];return this._values[this._index]=y,this._index=(this._index+1)%this._values.length,this._sum-=m,this._sum+=y,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=E}),define(re[157],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebugNameData=void 0,e.getDebugName=I,e.getFunctionName=o;class f{constructor(i,n,c){this.owner=i,this.debugNameSource=n,this.referenceFn=c}getDebugName(i){return I(i,this)}}e.DebugNameData=f;const k=new Map,E=new WeakMap;function I(t,i){var n;const c=E.get(t);if(c)return c;const u=y(t,i);if(u){let r=(n=k.get(u))!==null&&n!==void 0?n:0;r++,k.set(u,r);const a=r===1?u:`${u}#${r}`;return E.set(t,a),a}}function y(t,i){const n=E.get(t);if(n)return n;const c=i.owner?v(i.owner)+".":"";let u;const r=i.debugNameSource;if(r!==void 0)if(typeof r=="function"){if(u=r(),u!==void 0)return c+u}else return c+r;const a=i.referenceFn;if(a!==void 0&&(u=o(a),u!==void 0))return c+u;if(i.owner!==void 0){const l=m(i.owner,t);if(l!==void 0)return c+l}}function m(t,i){for(const n in t)if(t[n]===i)return n}const w=new Map,b=new WeakMap;function v(t){var i;const n=b.get(t);if(n)return n;const c=s(t);let u=(i=w.get(c))!==null&&i!==void 0?i:0;u++,w.set(c,u);const r=u===1?c:`${c}#${u}`;return b.set(t,r),r}function s(t){const i=t.constructor;return i?i.name:"Object"}function o(t){const i=t.toString(),c=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(i),u=c?c[1]:void 0;return u?.trim()}}),define(re[158],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=void 0,e.setLogger=k,e.getLogger=E;let f;function k(n){f=n}function E(){return f}class I{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(c){return y([m(t("|  ",this.indentation)),c])}formatInfo(c){return c.hadValue?c.didChange?[m(" "),b(v(c.oldValue,70),{color:"red",strikeThrough:!0}),m(" "),b(v(c.newValue,60),{color:"green"})]:[m(" (unchanged)")]:[m(" "),b(v(c.newValue,60),{color:"green"}),m(" (initial)")]}handleObservableChanged(c,u){console.log(...this.textToConsoleArgs([w("observable value changed"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(u)]))}formatChanges(c){if(c.size!==0)return b(" (changed deps: "+[...c].map(u=>u.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(c){const u=c.handleChange;this.changedObservablesSets.set(c,new Set),c.handleChange=(r,a)=>(this.changedObservablesSets.get(c).add(r),u.apply(c,[r,a]))}handleDerivedRecomputed(c,u){var r;const a=this.changedObservablesSets.get(c);console.log(...this.textToConsoleArgs([w("derived recomputed"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(u),this.formatChanges(a),{data:[{fn:(r=c._debugNameData.referenceFn)!==null&&r!==void 0?r:c._computeFn}]}])),a.clear()}handleFromEventObservableTriggered(c,u){console.log(...this.textToConsoleArgs([w("observable from event triggered"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(u),{data:[{fn:c._getValue}]}]))}handleAutorunCreated(c){const u=c.handleChange;this.changedObservablesSets.set(c,new Set),c.handleChange=(r,a)=>(this.changedObservablesSets.get(c).add(r),u.apply(c,[r,a]))}handleAutorunTriggered(c){var u;const r=this.changedObservablesSets.get(c);console.log(...this.textToConsoleArgs([w("autorun"),b(c.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:(u=c._debugNameData.referenceFn)!==null&&u!==void 0?u:c._runFn}]}])),r.clear(),this.indentation++}handleAutorunFinished(c){this.indentation--}handleBeginTransaction(c){let u=c.getDebugName();u===void 0&&(u=""),console.log(...this.textToConsoleArgs([w("transaction"),b(u,{color:"BlueViolet"}),{data:[{fn:c._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=I;function y(n){const c=new Array,u=[];let r="";function a(d){if("length"in d)for(const p of d)p&&a(p);else"text"in d?(r+=`%c${d.text}`,c.push(d.style),d.data&&u.push(...d.data)):"data"in d&&u.push(...d.data)}a(n);const l=[r,...c];return l.push(...u),l}function m(n){return b(n,{color:"black"})}function w(n){return b(i(`${n}: `,10),{color:"black",bold:!0})}function b(n,c={color:"black"}){function u(a){return Object.entries(a).reduce((l,[d,p])=>`${l}${d}:${p};`,"")}const r={color:c.color};return c.strikeThrough&&(r["text-decoration"]="line-through"),c.bold&&(r["font-weight"]="bold"),{text:n,style:u(r)}}function v(n,c){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=c?`"${n}"`:`"${n.substr(0,c-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?s(n,c):o(n,c);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function s(n,c){let u="[ ",r=!0;for(const a of n){if(r||(u+=", "),u.length-5>c){u+="...";break}r=!1,u+=`${v(a,c-u.length)}`}return u+=" ]",u}function o(n,c){let u="{ ",r=!0;for(const[a,l]of Object.entries(n)){if(r||(u+=", "),u.length-5>c){u+="...";break}r=!1,u+=`${a}: ${v(l,c-u.length)}`}return u+=" }",u}function t(n,c){let u="";for(let r=1;r<=c;r++)u+=n;return u}function i(n,c){for(;n.length<c;)n+=" ";return n}}),define(re[297],ae([1,0,89,2,157,158]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=void 0,e.autorun=y,e.autorunOpts=m,e.autorunHandleChanges=w,e.autorunWithStoreHandleChanges=b,e.autorunWithStore=v;function y(o){return new s(new E.DebugNameData(void 0,void 0,o),o,void 0,void 0)}function m(o,t){var i;return new s(new E.DebugNameData(o.owner,o.debugName,(i=o.debugReferenceFn)!==null&&i!==void 0?i:t),t,void 0,void 0)}function w(o,t){var i;return new s(new E.DebugNameData(o.owner,o.debugName,(i=o.debugReferenceFn)!==null&&i!==void 0?i:t),t,o.createEmptyChangeSummary,o.handleChange)}function b(o,t){var i;const n=new k.DisposableStore,c=w({owner:o.owner,debugName:o.debugName,debugReferenceFn:(i=o.debugReferenceFn)!==null&&i!==void 0?i:t,createEmptyChangeSummary:o.createEmptyChangeSummary,handleChange:o.handleChange},(u,r)=>{n.clear(),t(u,r,n)});return(0,k.toDisposable)(()=>{c.dispose(),n.dispose()})}function v(o){const t=new k.DisposableStore,i=m({owner:void 0,debugName:void 0,debugReferenceFn:o},n=>{t.clear(),o(n,t)});return(0,k.toDisposable)(()=>{i.dispose(),t.dispose()})}class s{get debugName(){var t;return(t=this._debugNameData.getDebugName(this))!==null&&t!==void 0?t:"(anonymous)"}constructor(t,i,n,c){var u,r;this._debugNameData=t,this._runFn=i,this.createChangeSummary=n,this._handleChange=c,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this),(r=(0,I.getLogger)())===null||r===void 0||r.handleAutorunCreated(this),this._runIfNeeded(),(0,k.trackDisposable)(this)}dispose(){this.disposed=!0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(0,k.markAsDisposed)(this)}_runIfNeeded(){var t,i,n;if(this.state===3)return;const c=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=c,this.state=3;const u=this.disposed;try{if(!u){(t=(0,I.getLogger)())===null||t===void 0||t.handleAutorunTriggered(this);const r=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,r)}}finally{u||(n=(0,I.getLogger)())===null||n===void 0||n.handleAutorunFinished(this);for(const r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)&&(this.state=1)}handleChange(t,i){this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)&&(!this._handleChange||this._handleChange({changedObservable:t,change:i,didChange:c=>c===t},this.changeSummary))&&(this.state=2)}readObservable(t){if(this.disposed)return t.get();t.addObserver(this);const i=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),i}}e.AutorunObserver=s,function(o){o.Observer=s}(y||(e.autorun=y={}))}),define(re[91],ae([1,0,101,157,158]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.ObservableValue=e.TransactionImpl=e.BaseObservable=e.ConvenientObservable=void 0,e._setRecomputeInitiallyAndOnChange=y,e._setKeepObserved=w,e._setDerivedOpts=v,e.transaction=t,e.globalTransaction=n,e.asyncTransaction=c,e.subtransaction=u,e.observableValue=a,e.disposableObservableValue=d;let I;function y(h){I=h}let m;function w(h){m=h}let b;function v(h){b=h}class s{get TChange(){return null}reportChanges(){this.get()}read(g){return g?g.readObservable(this):this.get()}map(g,C){const S=C===void 0?void 0:g,_=C===void 0?g:C;return b({owner:S,debugName:()=>{const L=(0,k.getFunctionName)(_);if(L!==void 0)return L;const T=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(_.toString());if(T)return`${this.debugName}.${T[2]}`;if(!S)return`${this.debugName} (mapped)`},debugReferenceFn:_},L=>_(this.read(L),L))}recomputeInitiallyAndOnChange(g,C){return g.add(I(this,C)),this}keepObserved(g){return g.add(m(this)),this}}e.ConvenientObservable=s;class o extends s{constructor(){super(...arguments),this.observers=new Set}addObserver(g){const C=this.observers.size;this.observers.add(g),C===0&&this.onFirstObserverAdded()}removeObserver(g){this.observers.delete(g)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=o;function t(h,g){const C=new r(h,g);try{h(C)}finally{C.finish()}}let i;function n(h){if(i)h(i);else{const g=new r(h,void 0);i=g;try{h(g)}finally{g.finish(),i=void 0}}}async function c(h,g){const C=new r(h,g);try{await h(C)}finally{C.finish()}}function u(h,g,C){h?g(h):t(g,C)}class r{constructor(g,C){var S;this._fn=g,this._getDebugName=C,this.updatingObservers=[],(S=(0,E.getLogger)())===null||S===void 0||S.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,k.getFunctionName)(this._fn)}updateObserver(g,C){this.updatingObservers.push({observer:g,observable:C}),g.beginUpdate(C)}finish(){var g;const C=this.updatingObservers;for(let S=0;S<C.length;S++){const{observer:_,observable:L}=C[S];_.endUpdate(L)}this.updatingObservers=null,(g=(0,E.getLogger)())===null||g===void 0||g.handleEndTransaction()}}e.TransactionImpl=r;function a(h,g){let C;return typeof h=="string"?C=new k.DebugNameData(void 0,h,void 0):C=new k.DebugNameData(h,void 0,void 0),new l(C,g,f.strictEquals)}class l extends o{get debugName(){var g;return(g=this._debugNameData.getDebugName(this))!==null&&g!==void 0?g:"ObservableValue"}constructor(g,C,S){super(),this._debugNameData=g,this._equalityComparator=S,this._value=C}get(){return this._value}set(g,C,S){var _;if(S===void 0&&this._equalityComparator(this._value,g))return;let L;C||(C=L=new r(()=>{},()=>`Setting ${this.debugName}`));try{const D=this._value;this._setValue(g),(_=(0,E.getLogger)())===null||_===void 0||_.handleObservableChanged(this,{oldValue:D,newValue:g,change:S,didChange:!0,hadValue:!0});for(const T of this.observers)C.updateObserver(T,this),T.handleChange(this,S)}finally{L&&L.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(g){this._value=g}}e.ObservableValue=l;function d(h,g){let C;return typeof h=="string"?C=new k.DebugNameData(void 0,h,void 0):C=new k.DebugNameData(h,void 0,void 0),new p(C,g,f.strictEquals)}class p extends l{_setValue(g){this._value!==g&&(this._value&&this._value.dispose(),this._value=g)}dispose(){var g;(g=this._value)===null||g===void 0||g.dispose()}}e.DisposableObservableValue=p}),define(re[72],ae([1,0,89,101,2,91,157,158]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DerivedWithSetter=e.Derived=void 0,e.derived=w,e.derivedWithSetter=b,e.derivedOpts=v,e.derivedHandleChanges=s,e.derivedWithStore=o,e.derivedDisposable=t;function w(c,u){return u!==void 0?new i(new y.DebugNameData(c,void 0,u),u,void 0,void 0,void 0,k.strictEquals):new i(new y.DebugNameData(void 0,void 0,c),c,void 0,void 0,void 0,k.strictEquals)}function b(c,u,r){return new n(new y.DebugNameData(c,void 0,u),u,void 0,void 0,void 0,k.strictEquals,r)}function v(c,u){var r;return new i(new y.DebugNameData(c.owner,c.debugName,c.debugReferenceFn),u,void 0,void 0,c.onLastObserverRemoved,(r=c.equalsFn)!==null&&r!==void 0?r:k.strictEquals)}(0,I._setDerivedOpts)(v);function s(c,u){var r;return new i(new y.DebugNameData(c.owner,c.debugName,void 0),u,c.createEmptyChangeSummary,c.handleChange,void 0,(r=c.equalityComparer)!==null&&r!==void 0?r:k.strictEquals)}function o(c,u){let r,a;u===void 0?(r=c,a=void 0):(a=c,r=u);const l=new E.DisposableStore;return new i(new y.DebugNameData(a,void 0,r),d=>(l.clear(),r(d,l)),void 0,void 0,()=>l.dispose(),k.strictEquals)}function t(c,u){let r,a;u===void 0?(r=c,a=void 0):(a=c,r=u);let l;return new i(new y.DebugNameData(a,void 0,r),d=>{l?l.clear():l=new E.DisposableStore;const p=r(d);return p&&l.add(p),p},void 0,void 0,()=>{l&&(l.dispose(),l=void 0)},k.strictEquals)}class i extends I.BaseObservable{get debugName(){var u;return(u=this._debugNameData.getDebugName(this))!==null&&u!==void 0?u:"(anonymous)"}constructor(u,r,a,l,d=void 0,p){var h,g;super(),this._debugNameData=u,this._computeFn=r,this.createChangeSummary=a,this._handleChange=l,this._handleLastObserverRemoved=d,this._equalityComparator=p,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(h=this.createChangeSummary)===null||h===void 0?void 0:h.call(this),(g=(0,m.getLogger)())===null||g===void 0||g.handleDerivedCreated(this)}onLastObserverRemoved(){var u;this.state=0,this.value=void 0;for(const r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),(u=this._handleLastObserverRemoved)===null||u===void 0||u.call(this)}get(){var u;if(this.observers.size===0){const r=this._computeFn(this,(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this));return this.onLastObserverRemoved(),r}else{do{if(this.state===1){for(const r of this.dependencies)if(r.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var u,r;if(this.state===3)return;const a=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=a;const l=this.state!==0,d=this.value;this.state=3;const p=this.changeSummary;this.changeSummary=(u=this.createChangeSummary)===null||u===void 0?void 0:u.call(this);try{this.value=this._computeFn(this,p)}finally{for(const g of this.dependenciesToBeRemoved)g.removeObserver(this);this.dependenciesToBeRemoved.clear()}const h=l&&!this._equalityComparator(d,this.value);if((r=(0,m.getLogger)())===null||r===void 0||r.handleDerivedRecomputed(this,{oldValue:d,newValue:this.value,change:void 0,didChange:h,hadValue:l}),h)for(const g of this.observers)g.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(u){this.updateCount++;const r=this.updateCount===1;if(this.state===3&&(this.state=1,!r))for(const a of this.observers)a.handlePossibleChange(this);if(r)for(const a of this.observers)a.beginUpdate(this)}endUpdate(u){if(this.updateCount--,this.updateCount===0){const r=[...this.observers];for(const a of r)a.endUpdate(this)}(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(u){if(this.state===3&&this.dependencies.has(u)&&!this.dependenciesToBeRemoved.has(u)){this.state=1;for(const r of this.observers)r.handlePossibleChange(this)}}handleChange(u,r){if(this.dependencies.has(u)&&!this.dependenciesToBeRemoved.has(u)){const a=this._handleChange?this._handleChange({changedObservable:u,change:r,didChange:d=>d===u},this.changeSummary):!0,l=this.state===3;if(a&&(this.state===1||l)&&(this.state=2,l))for(const d of this.observers)d.handlePossibleChange(this)}}readObservable(u){u.addObserver(this);const r=u.get();return this.dependencies.add(u),this.dependenciesToBeRemoved.delete(u),r}addObserver(u){const r=!this.observers.has(u)&&this.updateCount>0;super.addObserver(u),r&&u.beginUpdate(this)}removeObserver(u){const r=this.observers.has(u)&&this.updateCount>0;super.removeObserver(u),r&&u.endUpdate(this)}}e.Derived=i;class n extends i{constructor(u,r,a,l,d=void 0,p,h){super(u,r,a,l,d,p),this.set=h}}e.DerivedWithSetter=n}),define(re[448],ae([1,0,91]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LazyObservableValue=void 0;class k extends f.BaseObservable{get debugName(){var I;return(I=this._debugNameData.getDebugName(this))!==null&&I!==void 0?I:"LazyObservableValue"}constructor(I,y,m){super(),this._debugNameData=I,this._equalityComparator=m,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=y}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const I of this.observers)for(const y of this._deltas)I.handleChange(this,y);this._deltas.length=0}else for(const I of this.observers)I.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const I of this.observers)I.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const I=[...this.observers];for(const y of I)y.endUpdate(this)}}addObserver(I){const y=!this.observers.has(I)&&this._updateCounter>0;super.addObserver(I),y&&I.beginUpdate(this)}removeObserver(I){const y=this.observers.has(I)&&this._updateCounter>0;super.removeObserver(I),y&&I.endUpdate(this)}set(I,y,m){if(m===void 0&&this._equalityComparator(this._value,I))return;let w;y||(y=w=new f.TransactionImpl(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(I),m!==void 0&&this._deltas.push(m),y.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(b,v)=>{},handlePossibleChange:b=>{}},this),this._updateCounter>1)for(const b of this.observers)b.handlePossibleChange(this)}finally{w&&w.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(I){this._value=I}}e.LazyObservableValue=k}),define(re[449],ae([1,0,101,91,157,448]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableValueOpts=y;function y(m,w){var b,v;return m.lazy?new I.LazyObservableValue(new E.DebugNameData(m.owner,m.debugName,void 0),w,(b=m.equalsFn)!==null&&b!==void 0?b:f.strictEquals):new k.ObservableValue(new E.DebugNameData(m.owner,m.debugName,void 0),w,(v=m.equalsFn)!==null&&v!==void 0?v:f.strictEquals)}}),define(re[450],ae([1,0,297,91,8]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseResult=e.ObservablePromise=void 0,e.waitForState=m;class I{static fromFn(b){return new I(b())}constructor(b){this._value=(0,k.observableValue)(this,void 0),this.promiseResult=this._value,this.promise=b.then(v=>((0,k.transaction)(s=>{this._value.set(new y(v,void 0),s)}),v),v=>{throw(0,k.transaction)(s=>{this._value.set(new y(void 0,v),s)}),v})}}e.ObservablePromise=I;class y{constructor(b,v){this.data=b,this.error=v}}e.PromiseResult=y;function m(w,b,v,s){return b||(b=o=>o!=null),new Promise((o,t)=>{let i=!0,n=!1;const c=w.map(r=>({isFinished:b(r),error:v?v(r):!1,state:r})),u=(0,f.autorun)(r=>{const{isFinished:a,error:l,state:d}=c.read(r);(a||l)&&(i?n=!0:u.dispose(),l?t(l===!0?d:l):o(d))});if(s){const r=s.onCancellationRequested(()=>{u.dispose(),r.dispose(),t(new E.CancellationError)});if(s.isCancellationRequested){u.dispose(),r.dispose(),t(new E.CancellationError);return}}i=!1,n&&u.dispose()})}}),define(re[16],ae([1,0]),function(le,e){"use strict";var f,k,E;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.webWorkerOrigin=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.LANGUAGE_DEFAULT=void 0,e.isLittleEndian=_,e.LANGUAGE_DEFAULT="en";let I=!1,y=!1,m=!1,w=!1,b=!1,v=!1,s=!1,o=!1,t=!1,i=!1,n,c=e.LANGUAGE_DEFAULT,u=e.LANGUAGE_DEFAULT,r,a;const l=globalThis;let d;typeof l.vscode<"u"&&typeof l.vscode.process<"u"?d=l.vscode.process:typeof process<"u"&&typeof((f=process==null?void 0:process.versions)===null||f===void 0?void 0:f.node)=="string"&&(d=process);const p=typeof((k=d?.versions)===null||k===void 0?void 0:k.electron)=="string",h=p&&d?.type==="renderer";if(typeof d=="object"){I=d.platform==="win32",y=d.platform==="darwin",m=d.platform==="linux",w=m&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,s=p,t=!!d.env.CI||!!d.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=e.LANGUAGE_DEFAULT,c=e.LANGUAGE_DEFAULT;const L=d.env.VSCODE_NLS_CONFIG;if(L)try{const D=JSON.parse(L);n=D.userLocale,u=D.osLocale,c=D.resolvedLanguage||e.LANGUAGE_DEFAULT,r=(E=D.languagePack)===null||E===void 0?void 0:E.translationsConfigFile}catch{}b=!0}else typeof navigator=="object"&&!h?(a=navigator.userAgent,I=a.indexOf("Windows")>=0,y=a.indexOf("Macintosh")>=0,o=(a.indexOf("Macintosh")>=0||a.indexOf("iPad")>=0||a.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,m=a.indexOf("Linux")>=0,i=a?.indexOf("Mobi")>=0,v=!0,c=globalThis._VSCODE_NLS_LANGUAGE||e.LANGUAGE_DEFAULT,n=navigator.language.toLowerCase(),u=n):console.error("Unable to resolve platform.");let g=0;y?g=1:I?g=3:m&&(g=2),e.isWindows=I,e.isMacintosh=y,e.isLinux=m,e.isNative=b,e.isWeb=v,e.isWebWorker=v&&typeof l.importScripts=="function",e.webWorkerOrigin=e.isWebWorker?l.origin:void 0,e.isIOS=o,e.isMobile=i,e.userAgent=a,e.language=c,e.setTimeout0IsFaster=typeof l.postMessage=="function"&&!l.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const L=[];l.addEventListener("message",T=>{if(T.data&&T.data.vscodeScheduleAsyncWork)for(let N=0,A=L.length;N<A;N++){const R=L[N];if(R.id===T.data.vscodeScheduleAsyncWork){L.splice(N,1),R.callback();return}}});let D=0;return T=>{const N=++D;L.push({id:N,callback:T}),l.postMessage({vscodeScheduleAsyncWork:N},"*")}}return L=>setTimeout(L)})(),e.OS=y||o?2:I?1:3;let C=!0,S=!1;function _(){if(!S){S=!0;const L=new Uint8Array(2);L[0]=1,L[1]=2,C=new Uint16Array(L.buffer)[0]===513}return C}e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(re[222],ae([1,0,65,52,16]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:E.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:E.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:E.isNative||f.isStandalone()?0:navigator.keyboard||f.isSafari?1:2,touch:"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0,pointerEvents:k.mainWindow.PointerEvent&&("ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0)}}),define(re[298],ae([1,0,16]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FONT_FAMILY=void 0,e.DEFAULT_FONT_FAMILY=f.isWindows?'"Segoe WPC", "Segoe UI", sans-serif':f.isMacintosh?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif'}),define(re[45],ae([1,0,65,70,137,16]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function y(o){if(o.charCode){const i=String.fromCharCode(o.charCode).toUpperCase();return k.KeyCodeUtils.fromString(i)}const t=o.keyCode;if(t===3)return 7;if(f.isFirefox)switch(t){case 59:return 85;case 60:if(I.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(I.isMacintosh)return 57;break}else if(f.isWebKit){if(I.isMacintosh&&t===93)return 57;if(!I.isMacintosh&&t===92)return 57}return k.EVENT_KEY_CODE_MAP[t]||0}const m=I.isMacintosh?256:2048,w=512,b=1024,v=I.isMacintosh?2048:256;class s{constructor(t){var i;this._standardKeyboardEventBrand=!0;const n=t;this.browserEvent=n,this.target=n.target,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.metaKey=n.metaKey,this.altGraphKey=(i=n.getModifierState)===null||i===void 0?void 0:i.call(n,"AltGraph"),this.keyCode=y(n),this.code=n.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let i=0;return this.ctrlKey&&(i|=m),this.altKey&&(i|=w),this.shiftKey&&(i|=b),this.metaKey&&(i|=v),i|=t,i}_computeKeyCodeChord(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new E.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}e.StandardKeyboardEvent=s}),define(re[73],ae([1,0,65,438,16]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class I{constructor(w,b){this.timestamp=Date.now(),this.browserEvent=b,this.leftButton=b.button===0,this.middleButton=b.button===1,this.rightButton=b.button===2,this.buttons=b.buttons,this.target=b.target,this.detail=b.detail||1,b.type==="dblclick"&&(this.detail=2),this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,typeof b.pageX=="number"?(this.posx=b.pageX,this.posy=b.pageY):(this.posx=b.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=b.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const v=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(w,b.view);this.posx-=v.left,this.posy-=v.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=I;class y{constructor(w,b=0,v=0){var s;this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=v,this.deltaX=b;let o=!1;if(f.isChrome){const t=navigator.userAgent.match(/Chrome\/(\d+)/);o=(t?parseInt(t[1]):123)<=122}if(w){const t=w,i=w,n=((s=w.view)===null||s===void 0?void 0:s.devicePixelRatio)||1;if(typeof t.wheelDeltaY<"u")o?this.deltaY=t.wheelDeltaY/(120*n):this.deltaY=t.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(w.type==="wheel"){const c=w;c.deltaMode===c.DOM_DELTA_LINE?f.isFirefox&&!E.isMacintosh?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(typeof t.wheelDeltaX<"u")f.isSafari&&E.isWindows?this.deltaX=-(t.wheelDeltaX/120):o?this.deltaX=t.wheelDeltaX/(120*n):this.deltaX=t.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const c=w;c.deltaMode===c.DOM_DELTA_LINE?f.isFirefox&&!E.isMacintosh?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(o?this.deltaY=w.wheelDelta/(120*n):this.deltaY=w.wheelDelta/120)}}preventDefault(){var w;(w=this.browserEvent)===null||w===void 0||w.preventDefault()}stopPropagation(){var w;(w=this.browserEvent)===null||w===void 0||w.stopPropagation()}}e.StandardWheelEvent=y}),define(re[299],ae([1,0,16]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;const E=globalThis.vscode;if(typeof E<"u"&&typeof E.process<"u"){const I=E.process;k={get platform(){return I.platform},get arch(){return I.arch},get env(){return I.env},cwd(){return I.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return f.isWindows?"win32":f.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(re[300],ae([1,0,299]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHotReloadEnabled=k,e.registerHotReloadHandler=E;function k(){return f.env&&!!f.env.VSCODE_DEV}function E(m){if(k()){const w=I();return w.add(m),{dispose(){w.delete(m)}}}else return{dispose(){}}}function I(){y||(y=new Set);const m=globalThis;return m.$hotReload_applyNewExports||(m.$hotReload_applyNewExports=w=>{const b={config:{mode:void 0},...w},v=[];for(const s of y){const o=s(b);o&&v.push(o)}if(v.length>0)return s=>{let o=!1;for(const t of v)t(s)&&(o=!0);return o}}),y}let y;k()&&E(({oldExports:m,newSrc:w,config:b})=>{if(b.mode==="patch-prototype")return v=>{var s,o;for(const t in v){const i=v[t];if(console.log(`[hot-reload] Patching prototype methods of '${t}'`,{exportedItem:i}),typeof i=="function"&&i.prototype){const n=m[t];if(n){for(const c of Object.getOwnPropertyNames(i.prototype)){const u=Object.getOwnPropertyDescriptor(i.prototype,c),r=Object.getOwnPropertyDescriptor(n.prototype,c);((s=u?.value)===null||s===void 0?void 0:s.toString())!==((o=r?.value)===null||o===void 0?void 0:o.toString())&&console.log(`[hot-reload] Patching prototype method '${t}.${c}'`),Object.defineProperty(n.prototype,c,u)}v[t]=n}}}return!0}})}),define(re[99],ae([1,0,299]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,E=97,I=90,y=122,m=46,w=47,b=92,v=58,s=63;class o extends Error{constructor(g,C,S){let _;typeof C=="string"&&C.indexOf("not ")===0?(_="must not be",C=C.replace(/^not /,"")):_="must be";const L=g.indexOf(".")!==-1?"property":"argument";let D=`The "${g}" ${L} ${_} of type ${C}`;D+=`. Received type ${typeof S}`,super(D),this.code="ERR_INVALID_ARG_TYPE"}}function t(h,g){if(h===null||typeof h!="object")throw new o(g,"Object",h)}function i(h,g){if(typeof h!="string")throw new o(g,"string",h)}const n=f.platform==="win32";function c(h){return h===w||h===b}function u(h){return h===w}function r(h){return h>=k&&h<=I||h>=E&&h<=y}function a(h,g,C,S){let _="",L=0,D=-1,T=0,N=0;for(let A=0;A<=h.length;++A){if(A<h.length)N=h.charCodeAt(A);else{if(S(N))break;N=w}if(S(N)){if(!(D===A-1||T===1))if(T===2){if(_.length<2||L!==2||_.charCodeAt(_.length-1)!==m||_.charCodeAt(_.length-2)!==m){if(_.length>2){const R=_.lastIndexOf(C);R===-1?(_="",L=0):(_=_.slice(0,R),L=_.length-1-_.lastIndexOf(C)),D=A,T=0;continue}else if(_.length!==0){_="",L=0,D=A,T=0;continue}}g&&(_+=_.length>0?`${C}..`:"..",L=2)}else _.length>0?_+=`${C}${h.slice(D+1,A)}`:_=h.slice(D+1,A),L=A-D-1;D=A,T=0}else N===m&&T!==-1?++T:T=-1}return _}function l(h){return h?`${h[0]==="."?"":"."}${h}`:""}function d(h,g){t(g,"pathObject");const C=g.dir||g.root,S=g.base||`${g.name||""}${l(g.ext)}`;return C?C===g.root?`${C}${S}`:`${C}${h}${S}`:S}e.win32={resolve(...h){let g="",C="",S=!1;for(let _=h.length-1;_>=-1;_--){let L;if(_>=0){if(L=h[_],i(L,`paths[${_}]`),L.length===0)continue}else g.length===0?L=f.cwd():(L=f.env[`=${g}`]||f.cwd(),(L===void 0||L.slice(0,2).toLowerCase()!==g.toLowerCase()&&L.charCodeAt(2)===b)&&(L=`${g}\\`));const D=L.length;let T=0,N="",A=!1;const R=L.charCodeAt(0);if(D===1)c(R)&&(T=1,A=!0);else if(c(R))if(A=!0,c(L.charCodeAt(1))){let M=2,P=M;for(;M<D&&!c(L.charCodeAt(M));)M++;if(M<D&&M!==P){const x=L.slice(P,M);for(P=M;M<D&&c(L.charCodeAt(M));)M++;if(M<D&&M!==P){for(P=M;M<D&&!c(L.charCodeAt(M));)M++;(M===D||M!==P)&&(N=`\\\\${x}\\${L.slice(P,M)}`,T=M)}}}else T=1;else r(R)&&L.charCodeAt(1)===v&&(N=L.slice(0,2),T=2,D>2&&c(L.charCodeAt(2))&&(A=!0,T=3));if(N.length>0)if(g.length>0){if(N.toLowerCase()!==g.toLowerCase())continue}else g=N;if(S){if(g.length>0)break}else if(C=`${L.slice(T)}\\${C}`,S=A,A&&g.length>0)break}return C=a(C,!S,"\\",c),S?`${g}\\${C}`:`${g}${C}`||"."},normalize(h){i(h,"path");const g=h.length;if(g===0)return".";let C=0,S,_=!1;const L=h.charCodeAt(0);if(g===1)return u(L)?"\\":h;if(c(L))if(_=!0,c(h.charCodeAt(1))){let T=2,N=T;for(;T<g&&!c(h.charCodeAt(T));)T++;if(T<g&&T!==N){const A=h.slice(N,T);for(N=T;T<g&&c(h.charCodeAt(T));)T++;if(T<g&&T!==N){for(N=T;T<g&&!c(h.charCodeAt(T));)T++;if(T===g)return`\\\\${A}\\${h.slice(N)}\\`;T!==N&&(S=`\\\\${A}\\${h.slice(N,T)}`,C=T)}}}else C=1;else r(L)&&h.charCodeAt(1)===v&&(S=h.slice(0,2),C=2,g>2&&c(h.charCodeAt(2))&&(_=!0,C=3));let D=C<g?a(h.slice(C),!_,"\\",c):"";return D.length===0&&!_&&(D="."),D.length>0&&c(h.charCodeAt(g-1))&&(D+="\\"),S===void 0?_?`\\${D}`:D:_?`${S}\\${D}`:`${S}${D}`},isAbsolute(h){i(h,"path");const g=h.length;if(g===0)return!1;const C=h.charCodeAt(0);return c(C)||g>2&&r(C)&&h.charCodeAt(1)===v&&c(h.charCodeAt(2))},join(...h){if(h.length===0)return".";let g,C;for(let L=0;L<h.length;++L){const D=h[L];i(D,"path"),D.length>0&&(g===void 0?g=C=D:g+=`\\${D}`)}if(g===void 0)return".";let S=!0,_=0;if(typeof C=="string"&&c(C.charCodeAt(0))){++_;const L=C.length;L>1&&c(C.charCodeAt(1))&&(++_,L>2&&(c(C.charCodeAt(2))?++_:S=!1))}if(S){for(;_<g.length&&c(g.charCodeAt(_));)_++;_>=2&&(g=`\\${g.slice(_)}`)}return e.win32.normalize(g)},relative(h,g){if(i(h,"from"),i(g,"to"),h===g)return"";const C=e.win32.resolve(h),S=e.win32.resolve(g);if(C===S||(h=C.toLowerCase(),g=S.toLowerCase(),h===g))return"";let _=0;for(;_<h.length&&h.charCodeAt(_)===b;)_++;let L=h.length;for(;L-1>_&&h.charCodeAt(L-1)===b;)L--;const D=L-_;let T=0;for(;T<g.length&&g.charCodeAt(T)===b;)T++;let N=g.length;for(;N-1>T&&g.charCodeAt(N-1)===b;)N--;const A=N-T,R=D<A?D:A;let M=-1,P=0;for(;P<R;P++){const O=h.charCodeAt(_+P);if(O!==g.charCodeAt(T+P))break;O===b&&(M=P)}if(P!==R){if(M===-1)return S}else{if(A>R){if(g.charCodeAt(T+P)===b)return S.slice(T+P+1);if(P===2)return S.slice(T+P)}D>R&&(h.charCodeAt(_+P)===b?M=P:P===2&&(M=3)),M===-1&&(M=0)}let x="";for(P=_+M+1;P<=L;++P)(P===L||h.charCodeAt(P)===b)&&(x+=x.length===0?"..":"\\..");return T+=M,x.length>0?`${x}${S.slice(T,N)}`:(S.charCodeAt(T)===b&&++T,S.slice(T,N))},toNamespacedPath(h){if(typeof h!="string"||h.length===0)return h;const g=e.win32.resolve(h);if(g.length<=2)return h;if(g.charCodeAt(0)===b){if(g.charCodeAt(1)===b){const C=g.charCodeAt(2);if(C!==s&&C!==m)return`\\\\?\\UNC\\${g.slice(2)}`}}else if(r(g.charCodeAt(0))&&g.charCodeAt(1)===v&&g.charCodeAt(2)===b)return`\\\\?\\${g}`;return h},dirname(h){i(h,"path");const g=h.length;if(g===0)return".";let C=-1,S=0;const _=h.charCodeAt(0);if(g===1)return c(_)?h:".";if(c(_)){if(C=S=1,c(h.charCodeAt(1))){let T=2,N=T;for(;T<g&&!c(h.charCodeAt(T));)T++;if(T<g&&T!==N){for(N=T;T<g&&c(h.charCodeAt(T));)T++;if(T<g&&T!==N){for(N=T;T<g&&!c(h.charCodeAt(T));)T++;if(T===g)return h;T!==N&&(C=S=T+1)}}}}else r(_)&&h.charCodeAt(1)===v&&(C=g>2&&c(h.charCodeAt(2))?3:2,S=C);let L=-1,D=!0;for(let T=g-1;T>=S;--T)if(c(h.charCodeAt(T))){if(!D){L=T;break}}else D=!1;if(L===-1){if(C===-1)return".";L=C}return h.slice(0,L)},basename(h,g){g!==void 0&&i(g,"suffix"),i(h,"path");let C=0,S=-1,_=!0,L;if(h.length>=2&&r(h.charCodeAt(0))&&h.charCodeAt(1)===v&&(C=2),g!==void 0&&g.length>0&&g.length<=h.length){if(g===h)return"";let D=g.length-1,T=-1;for(L=h.length-1;L>=C;--L){const N=h.charCodeAt(L);if(c(N)){if(!_){C=L+1;break}}else T===-1&&(_=!1,T=L+1),D>=0&&(N===g.charCodeAt(D)?--D===-1&&(S=L):(D=-1,S=T))}return C===S?S=T:S===-1&&(S=h.length),h.slice(C,S)}for(L=h.length-1;L>=C;--L)if(c(h.charCodeAt(L))){if(!_){C=L+1;break}}else S===-1&&(_=!1,S=L+1);return S===-1?"":h.slice(C,S)},extname(h){i(h,"path");let g=0,C=-1,S=0,_=-1,L=!0,D=0;h.length>=2&&h.charCodeAt(1)===v&&r(h.charCodeAt(0))&&(g=S=2);for(let T=h.length-1;T>=g;--T){const N=h.charCodeAt(T);if(c(N)){if(!L){S=T+1;break}continue}_===-1&&(L=!1,_=T+1),N===m?C===-1?C=T:D!==1&&(D=1):C!==-1&&(D=-1)}return C===-1||_===-1||D===0||D===1&&C===_-1&&C===S+1?"":h.slice(C,_)},format:d.bind(null,"\\"),parse(h){i(h,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return g;const C=h.length;let S=0,_=h.charCodeAt(0);if(C===1)return c(_)?(g.root=g.dir=h,g):(g.base=g.name=h,g);if(c(_)){if(S=1,c(h.charCodeAt(1))){let M=2,P=M;for(;M<C&&!c(h.charCodeAt(M));)M++;if(M<C&&M!==P){for(P=M;M<C&&c(h.charCodeAt(M));)M++;if(M<C&&M!==P){for(P=M;M<C&&!c(h.charCodeAt(M));)M++;M===C?S=M:M!==P&&(S=M+1)}}}}else if(r(_)&&h.charCodeAt(1)===v){if(C<=2)return g.root=g.dir=h,g;if(S=2,c(h.charCodeAt(2))){if(C===3)return g.root=g.dir=h,g;S=3}}S>0&&(g.root=h.slice(0,S));let L=-1,D=S,T=-1,N=!0,A=h.length-1,R=0;for(;A>=S;--A){if(_=h.charCodeAt(A),c(_)){if(!N){D=A+1;break}continue}T===-1&&(N=!1,T=A+1),_===m?L===-1?L=A:R!==1&&(R=1):L!==-1&&(R=-1)}return T!==-1&&(L===-1||R===0||R===1&&L===T-1&&L===D+1?g.base=g.name=h.slice(D,T):(g.name=h.slice(D,L),g.base=h.slice(D,T),g.ext=h.slice(L,T))),D>0&&D!==S?g.dir=h.slice(0,D-1):g.dir=g.root,g},sep:"\\",delimiter:";",win32:null,posix:null};const p=(()=>{if(n){const h=/\\/g;return()=>{const g=f.cwd().replace(h,"/");return g.slice(g.indexOf("/"))}}return()=>f.cwd()})();e.posix={resolve(...h){let g="",C=!1;for(let S=h.length-1;S>=-1&&!C;S--){const _=S>=0?h[S]:p();i(_,`paths[${S}]`),_.length!==0&&(g=`${_}/${g}`,C=_.charCodeAt(0)===w)}return g=a(g,!C,"/",u),C?`/${g}`:g.length>0?g:"."},normalize(h){if(i(h,"path"),h.length===0)return".";const g=h.charCodeAt(0)===w,C=h.charCodeAt(h.length-1)===w;return h=a(h,!g,"/",u),h.length===0?g?"/":C?"./":".":(C&&(h+="/"),g?`/${h}`:h)},isAbsolute(h){return i(h,"path"),h.length>0&&h.charCodeAt(0)===w},join(...h){if(h.length===0)return".";let g;for(let C=0;C<h.length;++C){const S=h[C];i(S,"path"),S.length>0&&(g===void 0?g=S:g+=`/${S}`)}return g===void 0?".":e.posix.normalize(g)},relative(h,g){if(i(h,"from"),i(g,"to"),h===g||(h=e.posix.resolve(h),g=e.posix.resolve(g),h===g))return"";const C=1,S=h.length,_=S-C,L=1,D=g.length-L,T=_<D?_:D;let N=-1,A=0;for(;A<T;A++){const M=h.charCodeAt(C+A);if(M!==g.charCodeAt(L+A))break;M===w&&(N=A)}if(A===T)if(D>T){if(g.charCodeAt(L+A)===w)return g.slice(L+A+1);if(A===0)return g.slice(L+A)}else _>T&&(h.charCodeAt(C+A)===w?N=A:A===0&&(N=0));let R="";for(A=C+N+1;A<=S;++A)(A===S||h.charCodeAt(A)===w)&&(R+=R.length===0?"..":"/..");return`${R}${g.slice(L+N)}`},toNamespacedPath(h){return h},dirname(h){if(i(h,"path"),h.length===0)return".";const g=h.charCodeAt(0)===w;let C=-1,S=!0;for(let _=h.length-1;_>=1;--_)if(h.charCodeAt(_)===w){if(!S){C=_;break}}else S=!1;return C===-1?g?"/":".":g&&C===1?"//":h.slice(0,C)},basename(h,g){g!==void 0&&i(g,"ext"),i(h,"path");let C=0,S=-1,_=!0,L;if(g!==void 0&&g.length>0&&g.length<=h.length){if(g===h)return"";let D=g.length-1,T=-1;for(L=h.length-1;L>=0;--L){const N=h.charCodeAt(L);if(N===w){if(!_){C=L+1;break}}else T===-1&&(_=!1,T=L+1),D>=0&&(N===g.charCodeAt(D)?--D===-1&&(S=L):(D=-1,S=T))}return C===S?S=T:S===-1&&(S=h.length),h.slice(C,S)}for(L=h.length-1;L>=0;--L)if(h.charCodeAt(L)===w){if(!_){C=L+1;break}}else S===-1&&(_=!1,S=L+1);return S===-1?"":h.slice(C,S)},extname(h){i(h,"path");let g=-1,C=0,S=-1,_=!0,L=0;for(let D=h.length-1;D>=0;--D){const T=h.charCodeAt(D);if(T===w){if(!_){C=D+1;break}continue}S===-1&&(_=!1,S=D+1),T===m?g===-1?g=D:L!==1&&(L=1):g!==-1&&(L=-1)}return g===-1||S===-1||L===0||L===1&&g===S-1&&g===C+1?"":h.slice(g,S)},format:d.bind(null,"/"),parse(h){i(h,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return g;const C=h.charCodeAt(0)===w;let S;C?(g.root="/",S=1):S=0;let _=-1,L=0,D=-1,T=!0,N=h.length-1,A=0;for(;N>=S;--N){const R=h.charCodeAt(N);if(R===w){if(!T){L=N+1;break}continue}D===-1&&(T=!1,D=N+1),R===m?_===-1?_=N:A!==1&&(A=1):_!==-1&&(A=-1)}if(D!==-1){const R=L===0&&C?1:L;_===-1||A===0||A===1&&_===D-1&&_===L+1?g.base=g.name=h.slice(R,D):(g.name=h.slice(R,_),g.base=h.slice(R,D),g.ext=h.slice(_,D))}return L>0?g.dir=h.slice(0,L-1):C&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=n?e.win32.normalize:e.posix.normalize,e.resolve=n?e.win32.resolve:e.posix.resolve,e.relative=n?e.win32.relative:e.posix.relative,e.dirname=n?e.win32.dirname:e.posix.dirname,e.basename=n?e.win32.basename:e.posix.basename,e.extname=n?e.win32.extname:e.posix.extname,e.sep=n?e.win32.sep:e.posix.sep}),define(re[188],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var f;(function(k){function E(w,b){if(w.start>=b.end||b.start>=w.end)return{start:0,end:0};const v=Math.max(w.start,b.start),s=Math.min(w.end,b.end);return s-v<=0?{start:0,end:0}:{start:v,end:s}}k.intersect=E;function I(w){return w.end-w.start<=0}k.isEmpty=I;function y(w,b){return!I(E(w,b))}k.intersects=y;function m(w,b){const v=[],s={start:w.start,end:Math.min(b.start,w.end)},o={start:Math.max(b.end,w.start),end:w.end};return I(s)||v.push(s),I(o)||v.push(o),v}k.relativeComplement=m})(f||(e.Range=f={}))}),define(re[451],ae([1,0,188]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=void 0,e.groupIntersect=k,e.shift=E,e.consolidate=I;function k(w,b){const v=[];for(const s of b){if(w.start>=s.range.end)continue;if(w.end<s.range.start)break;const o=f.Range.intersect(w,s.range);f.Range.isEmpty(o)||v.push({range:o,size:s.size})}return v}function E({start:w,end:b},v){return{start:w+v,end:b+v}}function I(w){const b=[];let v=null;for(const s of w){const o=s.range.start,t=s.range.end,i=s.size;if(v&&i===v.size){v.range.end=t;continue}v={range:{start:o,end:t},size:i},b.push(v)}return b}function y(...w){return I(w.reduce((b,v)=>b.concat(v),[]))}class m{get paddingTop(){return this._paddingTop}set paddingTop(b){this._size=this._size+b-this._paddingTop,this._paddingTop=b}constructor(b){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=b??0,this._size=this._paddingTop}splice(b,v,s=[]){const o=s.length-v,t=k({start:0,end:b},this.groups),i=k({start:b+v,end:Number.POSITIVE_INFINITY},this.groups).map(c=>({range:E(c.range,o),size:c.size})),n=s.map((c,u)=>({range:{start:b+u,end:b+u+1},size:c.size}));this.groups=y(t,n,i),this._size=this._paddingTop+this.groups.reduce((c,u)=>c+u.size*(u.range.end-u.range.start),0)}get count(){const b=this.groups.length;return b?this.groups[b-1].range.end:0}get size(){return this._size}indexAt(b){if(b<0)return-1;if(b<this._paddingTop)return 0;let v=0,s=this._paddingTop;for(const o of this.groups){const t=o.range.end-o.range.start,i=s+t*o.size;if(b<i)return v+Math.floor((b-s)/o.size);v+=t,s=i}return v}indexAfter(b){return Math.min(this.indexAt(b)+1,this.count)}positionAt(b){if(b<0)return-1;let v=0,s=0;for(const o of this.groups){const t=o.range.end-o.range.start,i=s+t;if(b<i)return this._paddingTop+v+(b-s)*o.size;v+=t*o.size,s=i}return-1}}e.RangeMap=m}),define(re[59],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const f=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(I){return new k(I)}constructor(I){this._now=f&&I===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(re[6],ae([1,0,8,125,2,71,59]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.ListenerRefusalError=e.ListenerLeakError=e.EventProfiling=e.Event=void 0;const m=!1,w=!1,b=!1;var v;(function(T){T.None=()=>E.Disposable.None;function N(W){if(b){const{onDidAddListener:q}=W,z=i.create();let $=0;W.onDidAddListener=()=>{++$===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),z.print()),q?.()}}}function A(W,q){return j(W,()=>{},0,void 0,!0,void 0,q)}T.defer=A;function R(W){return(q,z=null,$)=>{let X=!1,ee;return ee=W(oe=>{if(!X)return ee?ee.dispose():X=!0,q.call(z,oe)},null,$),X&&ee.dispose(),ee}}T.once=R;function M(W,q,z){return K(($,X=null,ee)=>W(oe=>$.call(X,q(oe)),null,ee),z)}T.map=M;function P(W,q,z){return K(($,X=null,ee)=>W(oe=>{q(oe),$.call(X,oe)},null,ee),z)}T.forEach=P;function x(W,q,z){return K(($,X=null,ee)=>W(oe=>q(oe)&&$.call(X,oe),null,ee),z)}T.filter=x;function O(W){return W}T.signal=O;function B(...W){return(q,z=null,$)=>{const X=(0,E.combinedDisposable)(...W.map(ee=>ee(oe=>q.call(z,oe))));return V(X,$)}}T.any=B;function H(W,q,z,$){let X=z;return M(W,ee=>(X=q(X,ee),X),$)}T.reduce=H;function K(W,q){let z;const $={onWillAddFirstListener(){z=W(X.fire,X)},onDidRemoveLastListener(){z?.dispose()}};q||N($);const X=new d($);return q?.add(X),X.event}function V(W,q){return q instanceof Array?q.push(W):q&&q.add(W),W}function j(W,q,z=100,$=!1,X=!1,ee,oe){let ce,fe,ve,_e=0,Ie;const Ce={leakWarningThreshold:ee,onWillAddFirstListener(){ce=W(Le=>{_e++,fe=q(fe,Le),$&&!ve&&(Ee.fire(fe),fe=void 0),Ie=()=>{const Te=fe;fe=void 0,ve=void 0,(!$||_e>1)&&Ee.fire(Te),_e=0},typeof z=="number"?(clearTimeout(ve),ve=setTimeout(Ie,z)):ve===void 0&&(ve=0,queueMicrotask(Ie))})},onWillRemoveListener(){X&&_e>0&&Ie?.()},onDidRemoveLastListener(){Ie=void 0,ce.dispose()}};oe||N(Ce);const Ee=new d(Ce);return oe?.add(Ee),Ee.event}T.debounce=j;function U(W,q=0,z){return T.debounce(W,($,X)=>$?($.push(X),$):[X],q,void 0,!0,void 0,z)}T.accumulate=U;function Y(W,q=($,X)=>$===X,z){let $=!0,X;return x(W,ee=>{const oe=$||!q(ee,X);return $=!1,X=ee,oe},z)}T.latch=Y;function Q(W,q,z){return[T.filter(W,q,z),T.filter(W,$=>!q($),z)]}T.split=Q;function Z(W,q=!1,z=[],$){let X=z.slice(),ee=W(fe=>{X?X.push(fe):ce.fire(fe)});$&&$.add(ee);const oe=()=>{X?.forEach(fe=>ce.fire(fe)),X=null},ce=new d({onWillAddFirstListener(){ee||(ee=W(fe=>ce.fire(fe)),$&&$.add(ee))},onDidAddFirstListener(){X&&(q?setTimeout(oe):oe())},onDidRemoveLastListener(){ee&&ee.dispose(),ee=null}});return $&&$.add(ce),ce.event}T.buffer=Z;function G(W,q){return($,X,ee)=>{const oe=q(new J);return W(function(ce){const fe=oe.evaluate(ce);fe!==F&&$.call(X,fe)},void 0,ee)}}T.chain=G;const F=Symbol("HaltChainable");class J{constructor(){this.steps=[]}map(q){return this.steps.push(q),this}forEach(q){return this.steps.push(z=>(q(z),z)),this}filter(q){return this.steps.push(z=>q(z)?z:F),this}reduce(q,z){let $=z;return this.steps.push(X=>($=q($,X),$)),this}latch(q=(z,$)=>z===$){let z=!0,$;return this.steps.push(X=>{const ee=z||!q(X,$);return z=!1,$=X,ee?X:F}),this}evaluate(q){for(const z of this.steps)if(q=z(q),q===F)break;return q}}function te(W,q,z=$=>$){const $=(...ce)=>oe.fire(z(...ce)),X=()=>W.on(q,$),ee=()=>W.removeListener(q,$),oe=new d({onWillAddFirstListener:X,onDidRemoveLastListener:ee});return oe.event}T.fromNodeEventEmitter=te;function de(W,q,z=$=>$){const $=(...ce)=>oe.fire(z(...ce)),X=()=>W.addEventListener(q,$),ee=()=>W.removeEventListener(q,$),oe=new d({onWillAddFirstListener:X,onDidRemoveLastListener:ee});return oe.event}T.fromDOMEventEmitter=de;function he(W){return new Promise(q=>R(W)(q))}T.toPromise=he;function pe(W){const q=new d;return W.then(z=>{q.fire(z)},()=>{q.fire(void 0)}).finally(()=>{q.dispose()}),q.event}T.fromPromise=pe;function ue(W,q,z){return q(z),W($=>q($))}T.runAndSubscribe=ue;class ie{constructor(q,z){this._observable=q,this._counter=0,this._hasChanged=!1;const $={onWillAddFirstListener:()=>{q.addObserver(this)},onDidRemoveLastListener:()=>{q.removeObserver(this)}};z||N($),this.emitter=new d($),z&&z.add(this.emitter)}beginUpdate(q){this._counter++}handlePossibleChange(q){}handleChange(q,z){this._hasChanged=!0}endUpdate(q){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function se(W,q){return new ie(W,q).emitter.event}T.fromObservable=se;function ne(W){return(q,z,$)=>{let X=0,ee=!1;const oe={beginUpdate(){X++},endUpdate(){X--,X===0&&(W.reportChanges(),ee&&(ee=!1,q.call(z)))},handlePossibleChange(){},handleChange(){ee=!0}};W.addObserver(oe),W.reportChanges();const ce={dispose(){W.removeObserver(oe)}};return $ instanceof E.DisposableStore?$.add(ce):Array.isArray($)&&$.push(ce),ce}}T.fromObservableLight=ne})(v||(e.Event=v={}));class s{constructor(N){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${N}_${s._idPool++}`,s.all.add(this)}start(N){this._stopWatch=new y.StopWatch,this.listenerCount=N}stop(){if(this._stopWatch){const N=this._stopWatch.elapsed();this.durations.push(N),this.elapsedOverall+=N,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=s,s.all=new Set,s._idPool=0;let o=-1;class t{constructor(N,A,R=(t._idPool++).toString(16).padStart(3,"0")){this._errorHandler=N,this.threshold=A,this.name=R,this._warnCountdown=0}dispose(){var N;(N=this._stacks)===null||N===void 0||N.clear()}check(N,A){const R=this.threshold;if(R<=0||A<R)return;this._stacks||(this._stacks=new Map);const M=this._stacks.get(N.value)||0;if(this._stacks.set(N.value,M+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=R*.5;const[P,x]=this.getMostFrequentStack(),O=`[${this.name}] potential listener LEAK detected, having ${A} listeners already. MOST frequent listener (${x}):`;console.warn(O),console.warn(P);const B=new n(O,P);this._errorHandler(B)}return()=>{const P=this._stacks.get(N.value)||0;this._stacks.set(N.value,P-1)}}getMostFrequentStack(){if(!this._stacks)return;let N,A=0;for(const[R,M]of this._stacks)(!N||A<M)&&(N=[R,M],A=M);return N}}t._idPool=1;class i{static create(){var N;const A=new Error;return new i((N=A.stack)!==null&&N!==void 0?N:"")}constructor(N){this.value=N}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class n extends Error{constructor(N,A){super(N),this.name="ListenerLeakError",this.stack=A}}e.ListenerLeakError=n;class c extends Error{constructor(N,A){super(N),this.name="ListenerRefusalError",this.stack=A}}e.ListenerRefusalError=c;class u{constructor(N){this.value=N}}const r=2,a=(T,N)=>{if(T instanceof u)N(T);else for(let A=0;A<T.length;A++){const R=T[A];R&&N(R)}};let l;if(m){const T=[];setInterval(()=>{T.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(T.join(`
`)),T.length=0)},3e3),l=new FinalizationRegistry(N=>{typeof N=="string"&&T.push(N)})}class d{constructor(N){var A,R,M,P,x,O;this._size=0,this._options=N,this._leakageMon=o>0||!((A=this._options)===null||A===void 0)&&A.leakWarningThreshold?new t((R=N?.onListenerError)!==null&&R!==void 0?R:f.onUnexpectedError,(P=(M=this._options)===null||M===void 0?void 0:M.leakWarningThreshold)!==null&&P!==void 0?P:o):void 0,this._perfMon=!((x=this._options)===null||x===void 0)&&x._profName?new s(this._options._profName):void 0,this._deliveryQueue=(O=this._options)===null||O===void 0?void 0:O.deliveryQueue}dispose(){var N,A,R,M;if(!this._disposed){if(this._disposed=!0,((N=this._deliveryQueue)===null||N===void 0?void 0:N.current)===this&&this._deliveryQueue.reset(),this._listeners){if(w){const P=this._listeners;queueMicrotask(()=>{a(P,x=>{var O;return(O=x.stack)===null||O===void 0?void 0:O.print()})})}this._listeners=void 0,this._size=0}(R=(A=this._options)===null||A===void 0?void 0:A.onDidRemoveLastListener)===null||R===void 0||R.call(A),(M=this._leakageMon)===null||M===void 0||M.dispose()}}get event(){var N;return(N=this._event)!==null&&N!==void 0||(this._event=(A,R,M)=>{var P,x,O,B,H,K,V,j;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const G=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(G);const F=(P=this._leakageMon.getMostFrequentStack())!==null&&P!==void 0?P:["UNKNOWN stack",-1],J=new c(`${G}. HINT: Stack shows most frequent listener (${F[1]}-times)`,F[0]);return(((x=this._options)===null||x===void 0?void 0:x.onListenerError)||f.onUnexpectedError)(J),E.Disposable.None}if(this._disposed)return E.Disposable.None;R&&(A=A.bind(R));const U=new u(A);let Y,Q;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(U.stack=i.create(),Y=this._leakageMon.check(U.stack,this._size+1)),w&&(U.stack=Q??i.create()),this._listeners?this._listeners instanceof u?((V=this._deliveryQueue)!==null&&V!==void 0||(this._deliveryQueue=new h),this._listeners=[this._listeners,U]):this._listeners.push(U):((B=(O=this._options)===null||O===void 0?void 0:O.onWillAddFirstListener)===null||B===void 0||B.call(O,this),this._listeners=U,(K=(H=this._options)===null||H===void 0?void 0:H.onDidAddFirstListener)===null||K===void 0||K.call(H,this)),this._size++;const Z=(0,E.toDisposable)(()=>{l?.unregister(Z),Y?.(),this._removeListener(U)});if(M instanceof E.DisposableStore?M.add(Z):Array.isArray(M)&&M.push(Z),l){const G=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),F=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(G);l.register(Z,(j=F?.[2])!==null&&j!==void 0?j:G,Z)}return Z}),this._event}_removeListener(N){var A,R,M,P;if((R=(A=this._options)===null||A===void 0?void 0:A.onWillRemoveListener)===null||R===void 0||R.call(A,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(M=this._options)===null||M===void 0?void 0:M.onDidRemoveLastListener)===null||P===void 0||P.call(M,this),this._size=0;return}const x=this._listeners,O=x.indexOf(N);if(O===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,x[O]=void 0;const B=this._deliveryQueue.current===this;if(this._size*r<=x.length){let H=0;for(let K=0;K<x.length;K++)x[K]?x[H++]=x[K]:B&&(this._deliveryQueue.end--,H<this._deliveryQueue.i&&this._deliveryQueue.i--);x.length=H}}_deliver(N,A){var R;if(!N)return;const M=((R=this._options)===null||R===void 0?void 0:R.onListenerError)||f.onUnexpectedError;if(!M){N.value(A);return}try{N.value(A)}catch(P){M(P)}}_deliverQueue(N){const A=N.current._listeners;for(;N.i<N.end;)this._deliver(A[N.i++],N.value);N.reset()}fire(N){var A,R,M,P;if(!((A=this._deliveryQueue)===null||A===void 0)&&A.current&&(this._deliverQueue(this._deliveryQueue),(R=this._perfMon)===null||R===void 0||R.stop()),(M=this._perfMon)===null||M===void 0||M.start(this._size),this._listeners)if(this._listeners instanceof u)this._deliver(this._listeners,N);else{const x=this._deliveryQueue;x.enqueue(this,N,this._listeners.length),this._deliverQueue(x)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}e.Emitter=d;const p=()=>new h;e.createEventDeliveryQueue=p;class h{constructor(){this.i=-1,this.end=0}enqueue(N,A,R){this.i=0,this.end=R,this.current=N,this.value=A}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class g extends d{constructor(N){super(N),this._isPaused=0,this._eventQueue=new I.LinkedList,this._mergeFn=N?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const N=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(N))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(N){this._size&&(this._isPaused!==0?this._eventQueue.push(N):super.fire(N))}}e.PauseableEmitter=g;class C extends g{constructor(N){var A;super(N),this._delay=(A=N.delay)!==null&&A!==void 0?A:100}fire(N){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(N)}}e.DebounceEmitter=C;class S extends d{constructor(N){super(N),this._queuedEvents=[],this._mergeFn=N?.merge}fire(N){this.hasListeners()&&(this._queuedEvents.push(N),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(A=>super.fire(A)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=S;class _{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new d({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(N){const A={event:N,listener:null};this.events.push(A),this.hasListeners&&this.hook(A);const R=()=>{this.hasListeners&&this.unhook(A);const M=this.events.indexOf(A);this.events.splice(M,1)};return(0,E.toDisposable)((0,k.createSingleCallFunction)(R))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(N=>this.hook(N))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(N=>this.unhook(N))}hook(N){N.listener=N.event(A=>this.emitter.fire(A))}unhook(N){var A;(A=N.listener)===null||A===void 0||A.dispose(),N.listener=null}dispose(){var N;this.emitter.dispose();for(const A of this.events)(N=A.listener)===null||N===void 0||N.dispose();this.events=[]}}e.EventMultiplexer=_;class L{constructor(){this.data=[]}wrapEvent(N,A,R){return(M,P,x)=>N(O=>{var B;const H=this.data[this.data.length-1];if(!A){H?H.buffers.push(()=>M.call(P,O)):M.call(P,O);return}const K=H;if(!K){M.call(P,A(R,O));return}(B=K.items)!==null&&B!==void 0||(K.items=[]),K.items.push(O),K.buffers.length===0&&H.buffers.push(()=>{var V;(V=K.reducedResult)!==null&&V!==void 0||(K.reducedResult=R?K.items.reduce(A,R):K.items.reduce(A)),M.call(P,K.reducedResult)})},void 0,x)}bufferEvents(N){const A={buffers:new Array};this.data.push(A);const R=N();return this.data.pop(),A.buffers.forEach(M=>M()),R}}e.EventBufferer=L;class D{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=E.Disposable.None,this.emitter=new d({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(N){this.inputEvent=N,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=N(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=D}),define(re[92],ae([1,0,6]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(I,y,m){const w=b=>this.emitter.fire(b);this.emitter=new f.Emitter({onWillAddFirstListener:()=>I.addEventListener(y,w,m),onDidRemoveLastListener:()=>I.removeEventListener(y,w,m)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(re[18],ae([1,0,6]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0,e.cancelOnDispose=m;const k=Object.freeze(function(w,b){const v=setTimeout(w.bind(b),0);return{dispose(){clearTimeout(v)}}});var E;(function(w){function b(v){return v===w.None||v===w.Cancelled||v instanceof I?!0:!v||typeof v!="object"?!1:typeof v.isCancellationRequested=="boolean"&&typeof v.onCancellationRequested=="function"}w.isCancellationToken=b,w.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f.Event.None}),w.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(E||(e.CancellationToken=E={}));class I{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new f.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token instanceof I&&this._token.cancel():this._token=E.Cancelled}dispose(b=!1){var v;b&&this.cancel(),(v=this._parentListener)===null||v===void 0||v.dispose(),this._token?this._token instanceof I&&this._token.dispose():this._token=E.None}}e.CancellationTokenSource=y;function m(w){const b=new y;return w.add({dispose(){b.cancel()}}),b.token}}),define(re[301],ae([1,0,6]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(re[223],ae([1,0,6,2,91,157,72,158,101]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueWithChangeEventFromObservable=e.KeepAliveObserver=e.FromEventObservable=void 0,e.constObservable=b,e.observableFromEvent=s,e.observableFromEventOpts=o,e.observableSignalFromEvent=i,e.observableSignal=c,e.keepObserved=r,e.recomputeInitiallyAndOnChange=a,e.derivedObservableWithCache=d,e.derivedObservableWithWritableCache=p,e.mapObservableArrayCached=h,e.observableFromValueWithChangeEvent=S;function b(_){return new v(_)}class v extends E.ConvenientObservable{constructor(L){super(),this.value=L}get debugName(){return this.toString()}get(){return this.value}addObserver(L){}removeObserver(L){}toString(){return`Const: ${this.value}`}}function s(..._){let L,D,T;return _.length===3?[L,D,T]=_:[D,T]=_,new t(new I.DebugNameData(L,void 0,T),D,T,()=>t.globalTransaction,w.strictEquals)}function o(_,L,D){var T,N;return new t(new I.DebugNameData(_.owner,_.debugName,(T=_.debugReferenceFn)!==null&&T!==void 0?T:D),L,D,()=>t.globalTransaction,(N=_.equalsFn)!==null&&N!==void 0?N:w.strictEquals)}class t extends E.BaseObservable{constructor(L,D,T,N,A){super(),this._debugNameData=L,this.event=D,this._getValue=T,this._getTransaction=N,this._equalityComparator=A,this.hasValue=!1,this.handleEvent=R=>{var M;const P=this._getValue(R),x=this.value,O=!this.hasValue||!this._equalityComparator(x,P);let B=!1;O&&(this.value=P,this.hasValue&&(B=!0,(0,E.subtransaction)(this._getTransaction(),H=>{var K;(K=(0,m.getLogger)())===null||K===void 0||K.handleFromEventObservableTriggered(this,{oldValue:x,newValue:P,change:void 0,didChange:O,hadValue:this.hasValue});for(const V of this.observers)H.updateObserver(V,this),V.handleChange(this,void 0)},()=>{const H=this.getDebugName();return"Event fired"+(H?`: ${H}`:"")})),this.hasValue=!0),B||(M=(0,m.getLogger)())===null||M===void 0||M.handleFromEventObservableTriggered(this,{oldValue:x,newValue:P,change:void 0,didChange:O,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const L=this.getDebugName();return"From Event"+(L?`: ${L}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=t,function(_){_.Observer=t;function L(D,T){let N=!1;t.globalTransaction===void 0&&(t.globalTransaction=D,N=!0);try{T()}finally{N&&(t.globalTransaction=void 0)}}_.batchEventsGlobally=L}(s||(e.observableFromEvent=s={}));function i(_,L){return new n(_,L)}class n extends E.BaseObservable{constructor(L,D){super(),this.debugName=L,this.event=D,this.handleEvent=()=>{(0,E.transaction)(T=>{for(const N of this.observers)T.updateObserver(N,this),N.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function c(_){return typeof _=="string"?new u(_):new u(void 0,_)}class u extends E.BaseObservable{get debugName(){var L;return(L=new I.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&L!==void 0?L:"Observable Signal"}toString(){return this.debugName}constructor(L,D){super(),this._debugName=L,this._owner=D}trigger(L,D){if(!L){(0,E.transaction)(T=>{this.trigger(T,D)},()=>`Trigger signal ${this.debugName}`);return}for(const T of this.observers)L.updateObserver(T,this),T.handleChange(this,D)}get(){}}function r(_){const L=new l(!1,void 0);return _.addObserver(L),(0,k.toDisposable)(()=>{_.removeObserver(L)})}(0,E._setKeepObserved)(r);function a(_,L){const D=new l(!0,L);return _.addObserver(D),L?L(_.get()):_.reportChanges(),(0,k.toDisposable)(()=>{_.removeObserver(D)})}(0,E._setRecomputeInitiallyAndOnChange)(a);class l{constructor(L,D){this._forceRecompute=L,this._handleValue=D,this._counter=0}beginUpdate(L){this._counter++}endUpdate(L){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(L.get()):L.reportChanges())}handlePossibleChange(L){}handleChange(L,D){}}e.KeepAliveObserver=l;function d(_,L){let D;return(0,y.derivedOpts)({owner:_,debugReferenceFn:L},N=>(D=L(N,D),D))}function p(_,L){let D;const T=c("derivedObservableWithWritableCache"),N=(0,y.derived)(_,A=>(T.read(A),D=L(A,D),D));return Object.assign(N,{clearCache:A=>{D=void 0,T.trigger(A)},setCache:(A,R)=>{D=A,T.trigger(R)}})}function h(_,L,D,T){let N=new g(D,T);return(0,y.derivedOpts)({debugReferenceFn:D,owner:_,onLastObserverRemoved:()=>{N.dispose(),N=new g(D)}},R=>(N.setItems(L.read(R)),N.getItems()))}class g{constructor(L,D){this._map=L,this._keySelector=D,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(L=>L.store.dispose()),this._cache.clear()}setItems(L){const D=[],T=new Set(this._cache.keys());for(const N of L){const A=this._keySelector?this._keySelector(N):N;let R=this._cache.get(A);if(R)T.delete(A);else{const M=new k.DisposableStore;R={out:this._map(N,M),store:M},this._cache.set(A,R)}D.push(R.out)}for(const N of T)this._cache.get(N).store.dispose(),this._cache.delete(N);this._items=D}getItems(){return this._items}}class C{constructor(L){this.observable=L}get onDidChange(){return f.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.ValueWithChangeEventFromObservable=C;function S(_,L){return L instanceof C?L.observable:s(_,L.onDidChange,()=>L.value)}}),define(re[21],ae([1,0,91,72,297,223,450,449,158]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableValueOpts=e.waitForState=e.PromiseResult=e.ObservablePromise=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return f.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return f.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return f.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return f.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return E.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return E.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return E.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return E.autorunOpts}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return E.autorunWithStoreHandleChanges}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return I.constObservable}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return I.derivedObservableWithCache}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return I.derivedObservableWithWritableCache}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return I.keepObserved}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return I.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return I.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return I.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return I.observableSignalFromEvent}}),Object.defineProperty(e,"ObservablePromise",{enumerable:!0,get:function(){return y.ObservablePromise}}),Object.defineProperty(e,"PromiseResult",{enumerable:!0,get:function(){return y.PromiseResult}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return y.waitForState}}),Object.defineProperty(e,"observableValueOpts",{enumerable:!0,get:function(){return m.observableValueOpts}}),!1&&(0,w.setLogger)(new w.ConsoleObservableLogger)}),define(re[159],ae([1,0,300,21]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readHotReloadableExport=E,e.observeHotReloadableExports=I;function E(y,m){return I([y],m),y}function I(y,m){(0,f.isHotReloadEnabled)()&&(0,k.observableSignalFromEvent)("reload",b=>(0,f.registerHotReloadHandler)(({oldExports:v})=>{if([...Object.values(v)].some(s=>y.includes(s)))return s=>(b(void 0),!0)})).read(m)}}),define(re[160],ae([1,0,6,2]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class E{constructor(t,i,n,c,u,r,a){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(i=i|0,n=n|0,c=c|0,u=u|0,r=r|0,a=a|0),this.rawScrollLeft=c,this.rawScrollTop=a,i<0&&(i=0),c+i>n&&(c=n-i),c<0&&(c=0),u<0&&(u=0),a+u>r&&(a=r-u),a<0&&(a=0),this.width=i,this.scrollWidth=n,this.scrollLeft=c,this.height=u,this.scrollHeight=r,this.scrollTop=a}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,i){return new E(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,i?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,i?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new E(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,i){const n=this.width!==t.width,c=this.scrollWidth!==t.scrollWidth,u=this.scrollLeft!==t.scrollLeft,r=this.height!==t.height,a=this.scrollHeight!==t.scrollHeight,l=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:i,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:c,scrollLeftChanged:u,heightChanged:r,scrollHeightChanged:a,scrollTopChanged:l}}}e.ScrollState=E;class I extends k.Disposable{constructor(t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new E(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,i){var n;const c=this._state.withScrollDimensions(t,i);this._setState(c,!!this._smoothScrolling),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const i=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(i,!1)}setScrollPositionSmooth(t,i){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};const n=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let c;i?c=new b(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):c=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=c}else{const n=this._state.withScrollPosition(t);this._smoothScrolling=b.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),i=this._state.withScrollPosition(t);if(this._setState(i,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,i){const n=this._state;n.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(n,i)))}}e.Scrollable=I;class y{constructor(t,i,n){this.scrollLeft=t,this.scrollTop=i,this.isDone=n}}e.SmoothScrollingUpdate=y;function m(o,t){const i=t-o;return function(n){return o+i*s(n)}}function w(o,t,i){return function(n){return n<i?o(n/i):t((n-i)/(1-i))}}class b{constructor(t,i,n,c){this.from=t,this.to=i,this.duration=c,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,i,n){if(Math.abs(t-i)>2.5*n){let u,r;return t<i?(u=t+.75*n,r=i-.75*n):(u=t-.75*n,r=i+.75*n),w(m(t,u),m(r,i),.33)}return m(t,i)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const i=(t-this.startTime)/this.duration;if(i<1){const n=this.scrollLeft(i),c=this.scrollTop(i);return new y(n,c,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,i,n){return b.start(t,i,n)}static start(t,i,n){n=n+10;const c=Date.now()-10;return new b(t,i,c,n)}}e.SmoothScrollingOperation=b;function v(o){return Math.pow(o,3)}function s(o){return 1-v(1-o)}}),define(re[11],ae([1,0,295,98]),function(le,e,f,k){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.UTF8_BOM_CHARACTER=e.UNUSUAL_LINE_TERMINATORS=e.GraphemeIterator=e.CodePointIterator=void 0,e.isFalsyOrWhitespace=I,e.format=m,e.htmlAttributeEncodeValue=w,e.escape=b,e.escapeRegExpCharacters=v,e.trim=s,e.ltrim=o,e.rtrim=t,e.convertSimple2RegExpPattern=i,e.stripWildcards=n,e.createRegExp=c,e.regExpLeadsToEndlessLoop=u,e.splitLines=r,e.splitLinesIncludeSeparators=a,e.firstNonWhitespaceIndex=l,e.getLeadingWhitespace=d,e.lastNonWhitespaceIndex=p,e.compare=h,e.compareSubstring=g,e.compareIgnoreCase=C,e.compareSubstringIgnoreCase=S,e.isAsciiDigit=_,e.isLowerAsciiLetter=L,e.isUpperAsciiLetter=D,e.equalsIgnoreCase=T,e.startsWithIgnoreCase=N,e.commonPrefixLength=A,e.commonSuffixLength=R,e.isHighSurrogate=M,e.isLowSurrogate=P,e.computeCodePoint=x,e.getNextCodePoint=O,e.nextCharLength=V,e.prevCharLength=j,e.getCharContainingOffset=U,e.containsRTL=Z,e.isBasicASCII=F,e.containsUnusualLineTerminators=J,e.isFullWidthCharacter=te,e.isEmojiImprecise=de,e.startsWithUTF8BOM=he,e.containsUppercaseCharacter=pe,e.singleLetterHash=ue,e.getLeftDeleteOffset=W;function I(ee){return!ee||typeof ee!="string"?!0:ee.trim().length===0}const y=/{(\d+)}/g;function m(ee,...oe){return oe.length===0?ee:ee.replace(y,function(ce,fe){const ve=parseInt(fe,10);return isNaN(ve)||ve<0||ve>=oe.length?ce:oe[ve]})}function w(ee){return ee.replace(/[<>"'&]/g,oe=>{switch(oe){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return oe})}function b(ee){return ee.replace(/[<>&]/g,function(oe){switch(oe){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return oe}})}function v(ee){return ee.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function s(ee,oe=" "){const ce=o(ee,oe);return t(ce,oe)}function o(ee,oe){if(!ee||!oe)return ee;const ce=oe.length;if(ce===0||ee.length===0)return ee;let fe=0;for(;ee.indexOf(oe,fe)===fe;)fe=fe+ce;return ee.substring(fe)}function t(ee,oe){if(!ee||!oe)return ee;const ce=oe.length,fe=ee.length;if(ce===0||fe===0)return ee;let ve=fe,_e=-1;for(;_e=ee.lastIndexOf(oe,ve-1),!(_e===-1||_e+ce!==ve);){if(_e===0)return"";ve=_e}return ee.substring(0,ve)}function i(ee){return ee.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function n(ee){return ee.replace(/\*/g,"")}function c(ee,oe,ce={}){if(!ee)throw new Error("Cannot create regex from empty string");oe||(ee=v(ee)),ce.wholeWord&&(/\B/.test(ee.charAt(0))||(ee="\\b"+ee),/\B/.test(ee.charAt(ee.length-1))||(ee=ee+"\\b"));let fe="";return ce.global&&(fe+="g"),ce.matchCase||(fe+="i"),ce.multiline&&(fe+="m"),ce.unicode&&(fe+="u"),new RegExp(ee,fe)}function u(ee){return ee.source==="^"||ee.source==="^$"||ee.source==="$"||ee.source==="^\\s*$"?!1:!!(ee.exec("")&&ee.lastIndex===0)}function r(ee){return ee.split(/\r\n|\r|\n/)}function a(ee){var oe;const ce=[],fe=ee.split(/(\r\n|\r|\n)/);for(let ve=0;ve<Math.ceil(fe.length/2);ve++)ce.push(fe[2*ve]+((oe=fe[2*ve+1])!==null&&oe!==void 0?oe:""));return ce}function l(ee){for(let oe=0,ce=ee.length;oe<ce;oe++){const fe=ee.charCodeAt(oe);if(fe!==32&&fe!==9)return oe}return-1}function d(ee,oe=0,ce=ee.length){for(let fe=oe;fe<ce;fe++){const ve=ee.charCodeAt(fe);if(ve!==32&&ve!==9)return ee.substring(oe,fe)}return ee.substring(oe,ce)}function p(ee,oe=ee.length-1){for(let ce=oe;ce>=0;ce--){const fe=ee.charCodeAt(ce);if(fe!==32&&fe!==9)return ce}return-1}function h(ee,oe){return ee<oe?-1:ee>oe?1:0}function g(ee,oe,ce=0,fe=ee.length,ve=0,_e=oe.length){for(;ce<fe&&ve<_e;ce++,ve++){const Ee=ee.charCodeAt(ce),Le=oe.charCodeAt(ve);if(Ee<Le)return-1;if(Ee>Le)return 1}const Ie=fe-ce,Ce=_e-ve;return Ie<Ce?-1:Ie>Ce?1:0}function C(ee,oe){return S(ee,oe,0,ee.length,0,oe.length)}function S(ee,oe,ce=0,fe=ee.length,ve=0,_e=oe.length){for(;ce<fe&&ve<_e;ce++,ve++){let Ee=ee.charCodeAt(ce),Le=oe.charCodeAt(ve);if(Ee===Le)continue;if(Ee>=128||Le>=128)return g(ee.toLowerCase(),oe.toLowerCase(),ce,fe,ve,_e);L(Ee)&&(Ee-=32),L(Le)&&(Le-=32);const Te=Ee-Le;if(Te!==0)return Te}const Ie=fe-ce,Ce=_e-ve;return Ie<Ce?-1:Ie>Ce?1:0}function _(ee){return ee>=48&&ee<=57}function L(ee){return ee>=97&&ee<=122}function D(ee){return ee>=65&&ee<=90}function T(ee,oe){return ee.length===oe.length&&S(ee,oe)===0}function N(ee,oe){const ce=oe.length;return oe.length>ee.length?!1:S(ee,oe,0,ce)===0}function A(ee,oe){const ce=Math.min(ee.length,oe.length);let fe;for(fe=0;fe<ce;fe++)if(ee.charCodeAt(fe)!==oe.charCodeAt(fe))return fe;return ce}function R(ee,oe){const ce=Math.min(ee.length,oe.length);let fe;const ve=ee.length-1,_e=oe.length-1;for(fe=0;fe<ce;fe++)if(ee.charCodeAt(ve-fe)!==oe.charCodeAt(_e-fe))return fe;return ce}function M(ee){return 55296<=ee&&ee<=56319}function P(ee){return 56320<=ee&&ee<=57343}function x(ee,oe){return(ee-55296<<10)+(oe-56320)+65536}function O(ee,oe,ce){const fe=ee.charCodeAt(ce);if(M(fe)&&ce+1<oe){const ve=ee.charCodeAt(ce+1);if(P(ve))return x(fe,ve)}return fe}function B(ee,oe){const ce=ee.charCodeAt(oe-1);if(P(ce)&&oe>1){const fe=ee.charCodeAt(oe-2);if(M(fe))return x(fe,ce)}return ce}class H{get offset(){return this._offset}constructor(oe,ce=0){this._str=oe,this._len=oe.length,this._offset=ce}setOffset(oe){this._offset=oe}prevCodePoint(){const oe=B(this._str,this._offset);return this._offset-=oe>=65536?2:1,oe}nextCodePoint(){const oe=O(this._str,this._len,this._offset);return this._offset+=oe>=65536?2:1,oe}eol(){return this._offset>=this._len}}e.CodePointIterator=H;class K{get offset(){return this._iterator.offset}constructor(oe,ce=0){this._iterator=new H(oe,ce)}nextGraphemeLength(){const oe=se.getInstance(),ce=this._iterator,fe=ce.offset;let ve=oe.getGraphemeBreakType(ce.nextCodePoint());for(;!ce.eol();){const _e=ce.offset,Ie=oe.getGraphemeBreakType(ce.nextCodePoint());if(ie(ve,Ie)){ce.setOffset(_e);break}ve=Ie}return ce.offset-fe}prevGraphemeLength(){const oe=se.getInstance(),ce=this._iterator,fe=ce.offset;let ve=oe.getGraphemeBreakType(ce.prevCodePoint());for(;ce.offset>0;){const _e=ce.offset,Ie=oe.getGraphemeBreakType(ce.prevCodePoint());if(ie(Ie,ve)){ce.setOffset(_e);break}ve=Ie}return fe-ce.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=K;function V(ee,oe){return new K(ee,oe).nextGraphemeLength()}function j(ee,oe){return new K(ee,oe).prevGraphemeLength()}function U(ee,oe){oe>0&&P(ee.charCodeAt(oe))&&oe--;const ce=oe+V(ee,oe);return[ce-j(ee,ce),ce]}let Y;function Q(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Z(ee){return Y||(Y=Q()),Y.test(ee)}const G=/^[\t\n\r\x20-\x7E]*$/;function F(ee){return G.test(ee)}e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function J(ee){return e.UNUSUAL_LINE_TERMINATORS.test(ee)}function te(ee){return ee>=11904&&ee<=55215||ee>=63744&&ee<=64255||ee>=65281&&ee<=65374}function de(ee){return ee>=127462&&ee<=127487||ee===8986||ee===8987||ee===9200||ee===9203||ee>=9728&&ee<=10175||ee===11088||ee===11093||ee>=127744&&ee<=128591||ee>=128640&&ee<=128764||ee>=128992&&ee<=129008||ee>=129280&&ee<=129535||ee>=129648&&ee<=129782}e.UTF8_BOM_CHARACTER="\uFEFF";function he(ee){return!!(ee&&ee.length>0&&ee.charCodeAt(0)===65279)}function pe(ee,oe=!1){return ee?(oe&&(ee=ee.replace(/\\./g,"")),ee.toLowerCase()!==ee):!1}function ue(ee){return ee=ee%(2*26),ee<26?String.fromCharCode(97+ee):String.fromCharCode(65+ee-26)}function ie(ee,oe){return ee===0?oe!==5&&oe!==7:ee===2&&oe===3?!1:ee===4||ee===2||ee===3||oe===4||oe===2||oe===3?!0:!(ee===8&&(oe===8||oe===9||oe===11||oe===12)||(ee===11||ee===9)&&(oe===9||oe===10)||(ee===12||ee===10)&&oe===10||oe===5||oe===13||oe===7||ee===1||ee===13&&oe===14||ee===6&&oe===6)}class se{static getInstance(){return se._INSTANCE||(se._INSTANCE=new se),se._INSTANCE}constructor(){this._data=ne()}getGraphemeBreakType(oe){if(oe<32)return oe===10?3:oe===13?2:4;if(oe<127)return 0;const ce=this._data,fe=ce.length/3;let ve=1;for(;ve<=fe;)if(oe<ce[3*ve])ve=2*ve;else if(oe>ce[3*ve+1])ve=2*ve+1;else return ce[3*ve+2];return 0}}se._INSTANCE=null;function ne(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function W(ee,oe){if(ee===0)return 0;const ce=q(ee,oe);if(ce!==void 0)return ce;const fe=new H(oe,ee);return fe.prevCodePoint(),fe.offset}function q(ee,oe){const ce=new H(oe,ee);let fe=ce.prevCodePoint();for(;z(fe)||fe===65039||fe===8419;){if(ce.offset===0)return;fe=ce.prevCodePoint()}if(!de(fe))return;let ve=ce.offset;return ve>0&&ce.prevCodePoint()===8205&&(ve=ce.offset),ve}function z(ee){return 127995<=ee&&ee<=127999}e.noBreakWhitespace="\xA0";class ${static getInstance(oe){return E.cache.get(Array.from(oe))}static getLocales(){return E._locales.value}constructor(oe){this.confusableDictionary=oe}isAmbiguous(oe){return this.confusableDictionary.has(oe)}getPrimaryConfusable(oe){return this.confusableDictionary.get(oe)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=$,E=$,$.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),$.cache=new f.LRUCachedFunction({getCacheKey:JSON.stringify},ee=>{function oe(Le){const Te=new Map;for(let Ae=0;Ae<Le.length;Ae+=2)Te.set(Le[Ae],Le[Ae+1]);return Te}function ce(Le,Te){const Ae=new Map(Le);for(const[Pe,Re]of Te)Ae.set(Pe,Re);return Ae}function fe(Le,Te){if(!Le)return Te;const Ae=new Map;for(const[Pe,Re]of Le)Te.has(Pe)&&Ae.set(Pe,Re);return Ae}const ve=E.ambiguousCharacterData.value;let _e=ee.filter(Le=>!Le.startsWith("_")&&Le in ve);_e.length===0&&(_e=["_default"]);let Ie;for(const Le of _e){const Te=oe(ve[Le]);Ie=fe(Ie,Te)}const Ce=oe(ve._common),Ee=ce(Ce,Ie);return new E(Ee)}),$._locales=new k.Lazy(()=>Object.keys(E.ambiguousCharacterData.value).filter(ee=>!ee.startsWith("_")));class X{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(X.getRawData())),this._data}static isInvisibleCharacter(oe){return X.getData().has(oe)}static get codePoints(){return X.getData()}}e.InvisibleCharacters=X,X._data=void 0}),define(re[224],ae([1,0,99,16,11]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSeparator=I,e.toSlashes=y,e.toPosixPath=m,e.getRoot=w,e.isEqualOrParent=b,e.isWindowsDriveLetter=v,e.hasDriveLetter=s;function I(o){return o===47||o===92}function y(o){return o.replace(/[\\/]/g,f.posix.sep)}function m(o){return o.indexOf("/")===-1&&(o=y(o)),/^[a-zA-Z]:(\/|$)/.test(o)&&(o="/"+o),o}function w(o,t=f.posix.sep){if(!o)return"";const i=o.length,n=o.charCodeAt(0);if(I(n)){if(I(o.charCodeAt(1))&&!I(o.charCodeAt(2))){let u=3;const r=u;for(;u<i&&!I(o.charCodeAt(u));u++);if(r!==u&&!I(o.charCodeAt(u+1))){for(u+=1;u<i;u++)if(I(o.charCodeAt(u)))return o.slice(0,u+1).replace(/[\\/]/g,t)}}return t}else if(v(n)&&o.charCodeAt(1)===58)return I(o.charCodeAt(2))?o.slice(0,2)+t:o.slice(0,2);let c=o.indexOf("://");if(c!==-1){for(c+=3;c<i;c++)if(I(o.charCodeAt(c)))return o.slice(0,c+1)}return""}function b(o,t,i,n=f.sep){if(o===t)return!0;if(!o||!t||t.length>o.length)return!1;if(i){if(!(0,E.startsWithIgnoreCase)(o,t))return!1;if(t.length===o.length)return!0;let u=t.length;return t.charAt(t.length-1)===n&&u--,o.charAt(u)===n}return t.charAt(t.length-1)!==n&&(t+=n),o.indexOf(t)===0}function v(o){return o>=65&&o<=90||o>=97&&o<=122}function s(o,t=k.isWindows){return t?v(o.charCodeAt(0))&&o.charCodeAt(1)===58:!1}}),define(re[83],ae([1,0,44,445,11]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FuzzyScoreOptions=e.FuzzyScore=e.matchesPrefix=e.matchesStrictPrefix=void 0,e.or=I,e.matchesContiguousSubString=m,e.matchesSubString=w,e.isUpper=s,e.matchesCamelCase=_,e.matchesWords=L,e.matchesFuzzy=M,e.matchesFuzzy2=P,e.anyScore=x,e.createMatches=O,e.isPatternInWord=he,e.fuzzyScore=ie,e.fuzzyScoreGracefulAggressive=W;function I(...$){return function(X,ee){for(let oe=0,ce=$.length;oe<ce;oe++){const fe=$[oe](X,ee);if(fe)return fe}return null}}e.matchesStrictPrefix=y.bind(void 0,!1),e.matchesPrefix=y.bind(void 0,!0);function y($,X,ee){if(!ee||ee.length<X.length)return null;let oe;return $?oe=E.startsWithIgnoreCase(ee,X):oe=ee.indexOf(X)===0,oe?X.length>0?[{start:0,end:X.length}]:[]:null}function m($,X){const ee=X.toLowerCase().indexOf($.toLowerCase());return ee===-1?null:[{start:ee,end:ee+$.length}]}function w($,X){return b($.toLowerCase(),X.toLowerCase(),0,0)}function b($,X,ee,oe){if(ee===$.length)return[];if(oe===X.length)return null;if($[ee]===X[oe]){let ce=null;return(ce=b($,X,ee+1,oe+1))?l({start:oe,end:oe+1},ce):null}return b($,X,ee,oe+1)}function v($){return 97<=$&&$<=122}function s($){return 65<=$&&$<=90}function o($){return 48<=$&&$<=57}function t($){return $===32||$===9||$===10||$===13}const i=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>i.add($.charCodeAt(0)));function n($){return t($)||i.has($)}function c($,X){return $===X||n($)&&n(X)}const u=new Map;function r($){if(u.has($))return u.get($);let X;const ee=(0,k.getKoreanAltChars)($);return ee&&(X=ee),u.set($,X),X}function a($){return v($)||s($)||o($)}function l($,X){return X.length===0?X=[$]:$.end===X[0].start?X[0].start=$.start:X.unshift($),X}function d($,X){for(let ee=X;ee<$.length;ee++){const oe=$.charCodeAt(ee);if(s(oe)||o(oe)||ee>0&&!a($.charCodeAt(ee-1)))return ee}return $.length}function p($,X,ee,oe){if(ee===$.length)return[];if(oe===X.length)return null;if($[ee]!==X[oe].toLowerCase())return null;{let ce=null,fe=oe+1;for(ce=p($,X,ee+1,oe+1);!ce&&(fe=d(X,fe))<X.length;)ce=p($,X,ee+1,fe),fe++;return ce===null?null:l({start:oe,end:oe+1},ce)}}function h($){let X=0,ee=0,oe=0,ce=0,fe=0;for(let Ee=0;Ee<$.length;Ee++)fe=$.charCodeAt(Ee),s(fe)&&X++,v(fe)&&ee++,a(fe)&&oe++,o(fe)&&ce++;const ve=X/$.length,_e=ee/$.length,Ie=oe/$.length,Ce=ce/$.length;return{upperPercent:ve,lowerPercent:_e,alphaPercent:Ie,numericPercent:Ce}}function g($){const{upperPercent:X,lowerPercent:ee}=$;return ee===0&&X>.6}function C($){const{upperPercent:X,lowerPercent:ee,alphaPercent:oe,numericPercent:ce}=$;return ee>.2&&X<.8&&oe>.6&&ce<.2}function S($){let X=0,ee=0,oe=0,ce=0;for(let fe=0;fe<$.length;fe++)oe=$.charCodeAt(fe),s(oe)&&X++,v(oe)&&ee++,t(oe)&&ce++;return(X===0||ee===0)&&ce===0?$.length<=30:X<=5}function _($,X){if(!X||(X=X.trim(),X.length===0)||!S($))return null;X.length>60&&(X=X.substring(0,60));const ee=h(X);if(!C(ee)){if(!g(ee))return null;X=X.toLowerCase()}let oe=null,ce=0;for($=$.toLowerCase();ce<X.length&&(oe=p($,X,0,ce))===null;)ce=d(X,ce+1);return oe}function L($,X,ee=!1){if(!X||X.length===0)return null;let oe=null,ce=0;for($=$.toLowerCase(),X=X.toLowerCase();ce<X.length&&(oe=D($,X,0,ce,ee),oe===null);)ce=T(X,ce+1);return oe}function D($,X,ee,oe,ce){let fe=0;if(ee===$.length)return[];if(oe===X.length)return null;if(!c($.charCodeAt(ee),X.charCodeAt(oe))){const Ie=r($.charCodeAt(ee));if(!Ie)return null;for(let Ce=0;Ce<Ie.length;Ce++)if(!c(Ie[Ce],X.charCodeAt(oe+Ce)))return null;fe+=Ie.length-1}let ve=null,_e=oe+fe+1;if(ve=D($,X,ee+1,_e,ce),!ce)for(;!ve&&(_e=T(X,_e))<X.length;)ve=D($,X,ee+1,_e,ce),_e++;if(!ve)return null;if($.charCodeAt(ee)!==X.charCodeAt(oe)){const Ie=r($.charCodeAt(ee));if(!Ie)return ve;for(let Ce=0;Ce<Ie.length;Ce++)if(Ie[Ce]!==X.charCodeAt(oe+Ce))return ve}return l({start:oe,end:oe+fe+1},ve)}function T($,X){for(let ee=X;ee<$.length;ee++)if(n($.charCodeAt(ee))||ee>0&&n($.charCodeAt(ee-1)))return ee;return $.length}const N=I(e.matchesPrefix,_,m),A=I(e.matchesPrefix,_,w),R=new f.LRUCache(1e4);function M($,X,ee=!1){if(typeof $!="string"||typeof X!="string")return null;let oe=R.get($);oe||(oe=new RegExp(E.convertSimple2RegExpPattern($),"i"),R.set($,oe));const ce=oe.exec(X);return ce?[{start:ce.index,end:ce.index+ce[0].length}]:ee?A($,X):N($,X)}function P($,X){const ee=ie($,$.toLowerCase(),0,X,X.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ee?O(ee):null}function x($,X,ee,oe,ce,fe){const ve=Math.min(13,$.length);for(;ee<ve;ee++){const _e=ie($,X,ee,oe,ce,fe,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(_e)return _e}return[0,fe]}function O($){if(typeof $>"u")return[];const X=[],ee=$[1];for(let oe=$.length-1;oe>1;oe--){const ce=$[oe]+ee,fe=X[X.length-1];fe&&fe.end===ce?fe.end=ce+1:X.push({start:ce,end:ce+1})}return X}const B=128;function H(){const $=[],X=[];for(let ee=0;ee<=B;ee++)X[ee]=0;for(let ee=0;ee<=B;ee++)$.push(X.slice(0));return $}function K($){const X=[];for(let ee=0;ee<=$;ee++)X[ee]=0;return X}const V=K(2*B),j=K(2*B),U=H(),Y=H(),Q=H(),Z=!1;function G($,X,ee,oe,ce){function fe(_e,Ie,Ce=" "){for(;_e.length<Ie;)_e=Ce+_e;return _e}let ve=` |   |${oe.split("").map(_e=>fe(_e,3)).join("|")}
`;for(let _e=0;_e<=ee;_e++)_e===0?ve+=" |":ve+=`${X[_e-1]}|`,ve+=$[_e].slice(0,ce+1).map(Ie=>fe(Ie.toString(),3)).join("|")+`
`;return ve}function F($,X,ee,oe){$=$.substr(X),ee=ee.substr(oe),console.log(G(Y,$,$.length,ee,ee.length)),console.log(G(Q,$,$.length,ee,ee.length)),console.log(G(U,$,$.length,ee,ee.length))}function J($,X){if(X<0||X>=$.length)return!1;const ee=$.codePointAt(X);switch(ee){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!E.isEmojiImprecise(ee)}}function te($,X){if(X<0||X>=$.length)return!1;switch($.charCodeAt(X)){case 32:case 9:return!0;default:return!1}}function de($,X,ee){return X[$]!==ee[$]}function he($,X,ee,oe,ce,fe,ve=!1){for(;X<ee&&ce<fe;)$[X]===oe[ce]&&(ve&&(V[X]=ce),X+=1),ce+=1;return X===ee}var pe;(function($){$.Default=[-100,0];function X(ee){return!ee||ee.length===2&&ee[0]===-100&&ee[1]===0}$.isDefault=X})(pe||(e.FuzzyScore=pe={}));class ue{constructor(X,ee){this.firstMatchCanBeWeak=X,this.boostFullMatch=ee}}e.FuzzyScoreOptions=ue,ue.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function ie($,X,ee,oe,ce,fe,ve=ue.default){const _e=$.length>B?B:$.length,Ie=oe.length>B?B:oe.length;if(ee>=_e||fe>=Ie||_e-ee>Ie-fe||!he(X,ee,_e,ce,fe,Ie,!0))return;se(_e,Ie,ee,fe,X,ce);let Ce=1,Ee=1,Le=ee,Te=fe;const Ae=[!1];for(Ce=1,Le=ee;Le<_e;Ce++,Le++){const Ne=V[Le],me=j[Le],we=Le+1<_e?j[Le+1]:Ie;for(Ee=Ne-fe+1,Te=Ne;Te<we;Ee++,Te++){let Fe=Number.MIN_SAFE_INTEGER,xe=!1;Te<=me&&(Fe=ne($,X,Le,ee,oe,ce,Te,Ie,fe,U[Ce-1][Ee-1]===0,Ae));let je=0;Fe!==Number.MAX_SAFE_INTEGER&&(xe=!0,je=Fe+Y[Ce-1][Ee-1]);const Ze=Te>Ne,Ye=Ze?Y[Ce][Ee-1]+(U[Ce][Ee-1]>0?-5:0):0,tt=Te>Ne+1&&U[Ce][Ee-1]>0,nt=tt?Y[Ce][Ee-2]+(U[Ce][Ee-2]>0?-5:0):0;if(tt&&(!Ze||nt>=Ye)&&(!xe||nt>=je))Y[Ce][Ee]=nt,Q[Ce][Ee]=3,U[Ce][Ee]=0;else if(Ze&&(!xe||Ye>=je))Y[Ce][Ee]=Ye,Q[Ce][Ee]=2,U[Ce][Ee]=0;else if(xe)Y[Ce][Ee]=je,Q[Ce][Ee]=1,U[Ce][Ee]=U[Ce-1][Ee-1]+1;else throw new Error("not possible")}}if(Z&&F($,ee,oe,fe),!Ae[0]&&!ve.firstMatchCanBeWeak)return;Ce--,Ee--;const Pe=[Y[Ce][Ee],fe];let Re=0,We=0;for(;Ce>=1;){let Ne=Ee;do{const me=Q[Ce][Ne];if(me===3)Ne=Ne-2;else if(me===2)Ne=Ne-1;else break}while(Ne>=1);Re>1&&X[ee+Ce-1]===ce[fe+Ee-1]&&!de(Ne+fe-1,oe,ce)&&Re+1>U[Ce][Ne]&&(Ne=Ee),Ne===Ee?Re++:Re=1,We||(We=Ne),Ce--,Ee=Ne-1,Pe.push(Ee)}Ie-fe===_e&&ve.boostFullMatch&&(Pe[0]+=2);const De=We-_e;return Pe[0]-=De,Pe}function se($,X,ee,oe,ce,fe){let ve=$-1,_e=X-1;for(;ve>=ee&&_e>=oe;)ce[ve]===fe[_e]&&(j[ve]=_e,ve--),_e--}function ne($,X,ee,oe,ce,fe,ve,_e,Ie,Ce,Ee){if(X[ee]!==fe[ve])return Number.MIN_SAFE_INTEGER;let Le=1,Te=!1;return ve===ee-oe?Le=$[ee]===ce[ve]?7:5:de(ve,ce,fe)&&(ve===0||!de(ve-1,ce,fe))?(Le=$[ee]===ce[ve]?7:5,Te=!0):J(fe,ve)&&(ve===0||!J(fe,ve-1))?Le=5:(J(fe,ve-1)||te(fe,ve-1))&&(Le=5,Te=!0),Le>1&&ee===oe&&(Ee[0]=!0),Te||(Te=de(ve,ce,fe)||J(fe,ve-1)||te(fe,ve-1)),ee===oe?ve>Ie&&(Le-=Te?3:5):Ce?Le+=Te?2:0:Le+=Te?0:1,ve+1===_e&&(Le-=Te?3:5),Le}function W($,X,ee,oe,ce,fe,ve){return q($,X,ee,oe,ce,fe,!0,ve)}function q($,X,ee,oe,ce,fe,ve,_e){let Ie=ie($,X,ee,oe,ce,fe,_e);if(Ie&&!ve)return Ie;if($.length>=3){const Ce=Math.min(7,$.length-1);for(let Ee=ee+1;Ee<Ce;Ee++){const Le=z($,Ee);if(Le){const Te=ie(Le,Le.toLowerCase(),ee,oe,ce,fe,_e);Te&&(Te[0]-=3,(!Ie||Te[0]>Ie[0])&&(Ie=Te))}}}return Ie}function z($,X){if(X+1>=$.length)return;const ee=$[X],oe=$[X+1];if(ee!==oe)return $.slice(0,X)+oe+ee+$.slice(X+2)}}),define(re[452],ae([1,0,83,99,16,11]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scoreFuzzy2=m,e.prepareQuery=n,e.pieceToQuery=u;const y=[void 0,[]];function m(r,a,l=0,d=0){const p=a;return p.values&&p.values.length>1?w(r,p.values,l,d):b(r,a,l,d)}function w(r,a,l,d){let p=0;const h=[];for(const g of a){const[C,S]=b(r,g,l,d);if(typeof C!="number")return y;p+=C,h.push(...S)}return[p,s(h)]}function b(r,a,l,d){const p=(0,f.fuzzyScore)(a.original,a.originalLowercase,l,r,r.toLowerCase(),d,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return p?[p[0],(0,f.createMatches)(p)]:y}const v=Object.freeze({score:0});function s(r){const a=r.sort((p,h)=>p.start-h.start),l=[];let d;for(const p of a)!d||!o(d,p)?(d=p,l.push(p)):(d.start=Math.min(d.start,p.start),d.end=Math.max(d.end,p.end));return l}function o(r,a){return!(r.end<a.start||a.end<r.start)}function t(r){return r.startsWith('"')&&r.endsWith('"')}const i=" ";function n(r){typeof r!="string"&&(r="");const a=r.toLowerCase(),{pathNormalized:l,normalized:d,normalizedLowercase:p}=c(r),h=l.indexOf(k.sep)>=0,g=t(r);let C;const S=r.split(i);if(S.length>1)for(const _ of S){const L=t(_),{pathNormalized:D,normalized:T,normalizedLowercase:N}=c(_);T&&(C||(C=[]),C.push({original:_,originalLowercase:_.toLowerCase(),pathNormalized:D,normalized:T,normalizedLowercase:N,expectContiguousMatch:L}))}return{original:r,originalLowercase:a,pathNormalized:l,normalized:d,normalizedLowercase:p,values:C,containsPathSeparator:h,expectContiguousMatch:g}}function c(r){let a;E.isWindows?a=r.replace(/\//g,k.sep):a=r.replace(/\\/g,k.sep);const l=(0,I.stripWildcards)(a).replace(/\s|"/g,"");return{pathNormalized:a,normalized:l,normalizedLowercase:l.toLowerCase()}}function u(r){return Array.isArray(r)?n(r.map(a=>a.original).join(i)):n(r.original)}}),define(re[127],ae([1,0,11]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=void 0,e.hash=k,e.doHash=E,e.numberHash=I,e.stringHash=m,e.toHexString=t;function k(n){return E(n,0)}function E(n,c){switch(typeof n){case"object":return n===null?I(349,c):Array.isArray(n)?w(n,c):b(n,c);case"string":return m(n,c);case"boolean":return y(n,c);case"number":return I(n,c);case"undefined":return I(937,c);default:return I(617,c)}}function I(n,c){return(c<<5)-c+n|0}function y(n,c){return I(n?433:863,c)}function m(n,c){c=I(149417,c);for(let u=0,r=n.length;u<r;u++)c=I(n.charCodeAt(u),c);return c}function w(n,c){return c=I(104579,c),n.reduce((u,r)=>E(r,u),c)}function b(n,c){return c=I(181387,c),Object.keys(n).sort().reduce((u,r)=>(u=m(r,u),E(n[r],u)),c)}function v(n,c,u=32){const r=u-c,a=~((1<<r)-1);return(n<<c|(a&n)>>>r)>>>0}function s(n,c=0,u=n.byteLength,r=0){for(let a=0;a<u;a++)n[c+a]=r}function o(n,c,u="0"){for(;n.length<c;)n=u+n;return n}function t(n,c=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(u=>u.toString(16).padStart(2,"0")).join(""):o((n>>>0).toString(16),c/4)}class i{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(c){const u=c.length;if(u===0)return;const r=this._buff;let a=this._buffLen,l=this._leftoverHighSurrogate,d,p;for(l!==0?(d=l,p=-1,l=0):(d=c.charCodeAt(0),p=0);;){let h=d;if(f.isHighSurrogate(d))if(p+1<u){const g=c.charCodeAt(p+1);f.isLowSurrogate(g)?(p++,h=f.computeCodePoint(d,g)):h=65533}else{l=d;break}else f.isLowSurrogate(d)&&(h=65533);if(a=this._push(r,a,h),p++,p<u)d=c.charCodeAt(p);else break}this._buffLen=a,this._leftoverHighSurrogate=l}_push(c,u,r){return r<128?c[u++]=r:r<2048?(c[u++]=192|(r&1984)>>>6,c[u++]=128|(r&63)>>>0):r<65536?(c[u++]=224|(r&61440)>>>12,c[u++]=128|(r&4032)>>>6,c[u++]=128|(r&63)>>>0):(c[u++]=240|(r&1835008)>>>18,c[u++]=128|(r&258048)>>>12,c[u++]=128|(r&4032)>>>6,c[u++]=128|(r&63)>>>0),u>=64&&(this._step(),u-=64,this._totalLen+=64,c[0]=c[64],c[1]=c[65],c[2]=c[66]),u}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),t(this._h0)+t(this._h1)+t(this._h2)+t(this._h3)+t(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,s(this._buff,this._buffLen),this._buffLen>56&&(this._step(),s(this._buff));const c=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(c/4294967296),!1),this._buffDV.setUint32(60,c%4294967296,!1),this._step()}_step(){const c=i._bigBlock32,u=this._buffDV;for(let S=0;S<64;S+=4)c.setUint32(S,u.getUint32(S,!1),!1);for(let S=64;S<320;S+=4)c.setUint32(S,v(c.getUint32(S-12,!1)^c.getUint32(S-32,!1)^c.getUint32(S-56,!1)^c.getUint32(S-64,!1),1),!1);let r=this._h0,a=this._h1,l=this._h2,d=this._h3,p=this._h4,h,g,C;for(let S=0;S<80;S++)S<20?(h=a&l|~a&d,g=1518500249):S<40?(h=a^l^d,g=1859775393):S<60?(h=a&l|a&d|l&d,g=2400959708):(h=a^l^d,g=3395469782),C=v(r,5)+h+p+g+c.getUint32(S*4,!1)&4294967295,p=d,d=l,l=v(a,30),a=r,r=C;this._h0=this._h0+r&4294967295,this._h1=this._h1+a&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+d&4294967295,this._h4=this._h4+p&4294967295}}e.StringSHA1=i,i._bigBlock32=new DataView(new ArrayBuffer(320))}),define(re[189],ae([1,0,441,127]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.StringDiffSequence=void 0,e.stringDiff=I;class E{constructor(s){this.source=s}getElements(){const s=this.source,o=new Int32Array(s.length);for(let t=0,i=s.length;t<i;t++)o[t]=s.charCodeAt(t);return o}}e.StringDiffSequence=E;function I(v,s,o){return new b(new E(v),new E(s)).ComputeDiff(o).changes}class y{static Assert(s,o){if(!s)throw new Error(o)}}class m{static Copy(s,o,t,i,n){for(let c=0;c<n;c++)t[i+c]=s[o+c]}static Copy2(s,o,t,i,n){for(let c=0;c<n;c++)t[i+c]=s[o+c]}}class w{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new f.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(s,o){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_originalCount++}AddModifiedElement(s,o){this.m_originalStart=Math.min(this.m_originalStart,s),this.m_modifiedStart=Math.min(this.m_modifiedStart,o),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class b{constructor(s,o,t=null){this.ContinueProcessingPredicate=t,this._originalSequence=s,this._modifiedSequence=o;const[i,n,c]=b._getElements(s),[u,r,a]=b._getElements(o);this._hasStrings=c&&a,this._originalStringElements=i,this._originalElementsOrHash=n,this._modifiedStringElements=u,this._modifiedElementsOrHash=r,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(s){return s.length>0&&typeof s[0]=="string"}static _getElements(s){const o=s.getElements();if(b._isStringArray(o)){const t=new Int32Array(o.length);for(let i=0,n=o.length;i<n;i++)t[i]=(0,k.stringHash)(o[i],0);return[o,t,!0]}return o instanceof Int32Array?[[],o,!1]:[[],new Int32Array(o),!1]}ElementsAreEqual(s,o){return this._originalElementsOrHash[s]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[s]===this._modifiedStringElements[o]:!0}ElementsAreStrictEqual(s,o){if(!this.ElementsAreEqual(s,o))return!1;const t=b._getStrictElement(this._originalSequence,s),i=b._getStrictElement(this._modifiedSequence,o);return t===i}static _getStrictElement(s,o){return typeof s.getStrictElement=="function"?s.getStrictElement(o):null}OriginalElementsAreEqual(s,o){return this._originalElementsOrHash[s]!==this._originalElementsOrHash[o]?!1:this._hasStrings?this._originalStringElements[s]===this._originalStringElements[o]:!0}ModifiedElementsAreEqual(s,o){return this._modifiedElementsOrHash[s]!==this._modifiedElementsOrHash[o]?!1:this._hasStrings?this._modifiedStringElements[s]===this._modifiedStringElements[o]:!0}ComputeDiff(s){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,s)}_ComputeDiff(s,o,t,i,n){const c=[!1];let u=this.ComputeDiffRecursive(s,o,t,i,c);return n&&(u=this.PrettifyChanges(u)),{quitEarly:c[0],changes:u}}ComputeDiffRecursive(s,o,t,i,n){for(n[0]=!1;s<=o&&t<=i&&this.ElementsAreEqual(s,t);)s++,t++;for(;o>=s&&i>=t&&this.ElementsAreEqual(o,i);)o--,i--;if(s>o||t>i){let d;return t<=i?(y.Assert(s===o+1,"originalStart should only be one more than originalEnd"),d=[new f.DiffChange(s,0,t,i-t+1)]):s<=o?(y.Assert(t===i+1,"modifiedStart should only be one more than modifiedEnd"),d=[new f.DiffChange(s,o-s+1,t,0)]):(y.Assert(s===o+1,"originalStart should only be one more than originalEnd"),y.Assert(t===i+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const c=[0],u=[0],r=this.ComputeRecursionPoint(s,o,t,i,c,u,n),a=c[0],l=u[0];if(r!==null)return r;if(!n[0]){const d=this.ComputeDiffRecursive(s,a,t,l,n);let p=[];return n[0]?p=[new f.DiffChange(a+1,o-(a+1)+1,l+1,i-(l+1)+1)]:p=this.ComputeDiffRecursive(a+1,o,l+1,i,n),this.ConcatenateChanges(d,p)}return[new f.DiffChange(s,o-s+1,t,i-t+1)]}WALKTRACE(s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L){let D=null,T=null,N=new w,A=o,R=t,M=h[0]-S[0]-i,P=-1073741824,x=this.m_forwardHistory.length-1;do{const O=M+s;O===A||O<R&&a[O-1]<a[O+1]?(d=a[O+1],g=d-M-i,d<P&&N.MarkNextChange(),P=d,N.AddModifiedElement(d+1,g),M=O+1-s):(d=a[O-1]+1,g=d-M-i,d<P&&N.MarkNextChange(),P=d-1,N.AddOriginalElement(d,g+1),M=O-1-s),x>=0&&(a=this.m_forwardHistory[x],s=a[0],A=1,R=a.length-1)}while(--x>=-1);if(D=N.getReverseChanges(),L[0]){let O=h[0]+1,B=S[0]+1;if(D!==null&&D.length>0){const H=D[D.length-1];O=Math.max(O,H.getOriginalEnd()),B=Math.max(B,H.getModifiedEnd())}T=[new f.DiffChange(O,p-O+1,B,C-B+1)]}else{N=new w,A=c,R=u,M=h[0]-S[0]-r,P=1073741824,x=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const O=M+n;O===A||O<R&&l[O-1]>=l[O+1]?(d=l[O+1]-1,g=d-M-r,d>P&&N.MarkNextChange(),P=d+1,N.AddOriginalElement(d+1,g+1),M=O+1-n):(d=l[O-1],g=d-M-r,d>P&&N.MarkNextChange(),P=d,N.AddModifiedElement(d+1,g+1),M=O-1-n),x>=0&&(l=this.m_reverseHistory[x],n=l[0],A=1,R=l.length-1)}while(--x>=-1);T=N.getChanges()}return this.ConcatenateChanges(D,T)}ComputeRecursionPoint(s,o,t,i,n,c,u){let r=0,a=0,l=0,d=0,p=0,h=0;s--,t--,n[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=o-s+(i-t),C=g+1,S=new Int32Array(C),_=new Int32Array(C),L=i-t,D=o-s,T=s-t,N=o-i,R=(D-L)%2===0;S[L]=s,_[D]=o,u[0]=!1;for(let M=1;M<=g/2+1;M++){let P=0,x=0;l=this.ClipDiagonalBound(L-M,M,L,C),d=this.ClipDiagonalBound(L+M,M,L,C);for(let B=l;B<=d;B+=2){B===l||B<d&&S[B-1]<S[B+1]?r=S[B+1]:r=S[B-1]+1,a=r-(B-L)-T;const H=r;for(;r<o&&a<i&&this.ElementsAreEqual(r+1,a+1);)r++,a++;if(S[B]=r,r+a>P+x&&(P=r,x=a),!R&&Math.abs(B-D)<=M-1&&r>=_[B])return n[0]=r,c[0]=a,H<=_[B]&&1447>0&&M<=1448?this.WALKTRACE(L,l,d,T,D,p,h,N,S,_,r,o,n,a,i,c,R,u):null}const O=(P-s+(x-t)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(P,O))return u[0]=!0,n[0]=P,c[0]=x,O>0&&1447>0&&M<=1448?this.WALKTRACE(L,l,d,T,D,p,h,N,S,_,r,o,n,a,i,c,R,u):(s++,t++,[new f.DiffChange(s,o-s+1,t,i-t+1)]);p=this.ClipDiagonalBound(D-M,M,D,C),h=this.ClipDiagonalBound(D+M,M,D,C);for(let B=p;B<=h;B+=2){B===p||B<h&&_[B-1]>=_[B+1]?r=_[B+1]-1:r=_[B-1],a=r-(B-D)-N;const H=r;for(;r>s&&a>t&&this.ElementsAreEqual(r,a);)r--,a--;if(_[B]=r,R&&Math.abs(B-L)<=M&&r<=S[B])return n[0]=r,c[0]=a,H>=S[B]&&1447>0&&M<=1448?this.WALKTRACE(L,l,d,T,D,p,h,N,S,_,r,o,n,a,i,c,R,u):null}if(M<=1447){let B=new Int32Array(d-l+2);B[0]=L-l+1,m.Copy2(S,l,B,1,d-l+1),this.m_forwardHistory.push(B),B=new Int32Array(h-p+2),B[0]=D-p+1,m.Copy2(_,p,B,1,h-p+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(L,l,d,T,D,p,h,N,S,_,r,o,n,a,i,c,R,u)}PrettifyChanges(s){for(let o=0;o<s.length;o++){const t=s[o],i=o<s.length-1?s[o+1].originalStart:this._originalElementsOrHash.length,n=o<s.length-1?s[o+1].modifiedStart:this._modifiedElementsOrHash.length,c=t.originalLength>0,u=t.modifiedLength>0;for(;t.originalStart+t.originalLength<i&&t.modifiedStart+t.modifiedLength<n&&(!c||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!u||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));){const a=this.ElementsAreStrictEqual(t.originalStart,t.modifiedStart);if(this.ElementsAreStrictEqual(t.originalStart+t.originalLength,t.modifiedStart+t.modifiedLength)&&!a)break;t.originalStart++,t.modifiedStart++}const r=[null];if(o<s.length-1&&this.ChangesOverlap(s[o],s[o+1],r)){s[o]=r[0],s.splice(o+1,1),o--;continue}}for(let o=s.length-1;o>=0;o--){const t=s[o];let i=0,n=0;if(o>0){const d=s[o-1];i=d.originalStart+d.originalLength,n=d.modifiedStart+d.modifiedLength}const c=t.originalLength>0,u=t.modifiedLength>0;let r=0,a=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength);for(let d=1;;d++){const p=t.originalStart-d,h=t.modifiedStart-d;if(p<i||h<n||c&&!this.OriginalElementsAreEqual(p,p+t.originalLength)||u&&!this.ModifiedElementsAreEqual(h,h+t.modifiedLength))break;const C=(p===i&&h===n?5:0)+this._boundaryScore(p,t.originalLength,h,t.modifiedLength);C>a&&(a=C,r=d)}t.originalStart-=r,t.modifiedStart-=r;const l=[null];if(o>0&&this.ChangesOverlap(s[o-1],s[o],l)){s[o-1]=l[0],s.splice(o,1),o++;continue}}if(this._hasStrings)for(let o=1,t=s.length;o<t;o++){const i=s[o-1],n=s[o],c=n.originalStart-i.originalStart-i.originalLength,u=i.originalStart,r=n.originalStart+n.originalLength,a=r-u,l=i.modifiedStart,d=n.modifiedStart+n.modifiedLength,p=d-l;if(c<5&&a<20&&p<20){const h=this._findBetterContiguousSequence(u,a,l,p,c);if(h){const[g,C]=h;(g!==i.originalStart+i.originalLength||C!==i.modifiedStart+i.modifiedLength)&&(i.originalLength=g-i.originalStart,i.modifiedLength=C-i.modifiedStart,n.originalStart=g+c,n.modifiedStart=C+c,n.originalLength=r-n.originalStart,n.modifiedLength=d-n.modifiedStart)}}}return s}_findBetterContiguousSequence(s,o,t,i,n){if(o<n||i<n)return null;const c=s+o-n+1,u=t+i-n+1;let r=0,a=0,l=0;for(let d=s;d<c;d++)for(let p=t;p<u;p++){const h=this._contiguousSequenceScore(d,p,n);h>0&&h>r&&(r=h,a=d,l=p)}return r>0?[a,l]:null}_contiguousSequenceScore(s,o,t){let i=0;for(let n=0;n<t;n++){if(!this.ElementsAreEqual(s+n,o+n))return 0;i+=this._originalStringElements[s+n].length}return i}_OriginalIsBoundary(s){return s<=0||s>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[s])}_OriginalRegionIsBoundary(s,o){if(this._OriginalIsBoundary(s)||this._OriginalIsBoundary(s-1))return!0;if(o>0){const t=s+o;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1}_ModifiedIsBoundary(s){return s<=0||s>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[s])}_ModifiedRegionIsBoundary(s,o){if(this._ModifiedIsBoundary(s)||this._ModifiedIsBoundary(s-1))return!0;if(o>0){const t=s+o;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1}_boundaryScore(s,o,t,i){const n=this._OriginalRegionIsBoundary(s,o)?1:0,c=this._ModifiedRegionIsBoundary(t,i)?1:0;return n+c}ConcatenateChanges(s,o){const t=[];if(s.length===0||o.length===0)return o.length>0?o:s;if(this.ChangesOverlap(s[s.length-1],o[0],t)){const i=new Array(s.length+o.length-1);return m.Copy(s,0,i,0,s.length-1),i[s.length-1]=t[0],m.Copy(o,1,i,s.length,o.length-1),i}else{const i=new Array(s.length+o.length);return m.Copy(s,0,i,0,s.length),m.Copy(o,0,i,s.length,o.length),i}}ChangesOverlap(s,o,t){if(y.Assert(s.originalStart<=o.originalStart,"Left change is not less than or equal to right change"),y.Assert(s.modifiedStart<=o.modifiedStart,"Left change is not less than or equal to right change"),s.originalStart+s.originalLength>=o.originalStart||s.modifiedStart+s.modifiedLength>=o.modifiedStart){const i=s.originalStart;let n=s.originalLength;const c=s.modifiedStart;let u=s.modifiedLength;return s.originalStart+s.originalLength>=o.originalStart&&(n=o.originalStart+o.originalLength-s.originalStart),s.modifiedStart+s.modifiedLength>=o.modifiedStart&&(u=o.modifiedStart+o.modifiedLength-s.modifiedStart),t[0]=new f.DiffChange(i,n,c,u),!0}else return t[0]=null,!1}ClipDiagonalBound(s,o,t,i){if(s>=0&&s<i)return s;const n=t,c=i-t-1,u=o%2===0;if(s<0){const r=n%2===0;return u===r?0:1}else{const r=c%2===0;return u===r?i-1:i-2}}}e.LcsDiff=b}),define(re[453],ae([1,0,224,16]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=E;function E(y,m=k.isWindows){return(0,f.hasDriveLetter)(y,m)?y.charAt(0).toUpperCase()+y.slice(1):y}let I=Object.create(null)}),define(re[454],ae([1,0,11]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=k;function k(y,m){if(y&&y[0]!==""){const w=E(y,m,"-"),b=E(y,m,"_");return w&&!b?I(y,m,"-"):!w&&b?I(y,m,"_"):y[0].toUpperCase()===y[0]?m.toUpperCase():y[0].toLowerCase()===y[0]?m.toLowerCase():f.containsUppercaseCharacter(y[0][0])&&m.length>0?m[0].toUpperCase()+m.substr(1):y[0][0].toUpperCase()!==y[0][0]&&m.length>0?m[0].toLowerCase()+m.substr(1):m}else return m}function E(y,m,w){return y[0].indexOf(w)!==-1&&m.indexOf(w)!==-1&&y[0].split(w).length===m.split(w).length}function I(y,m,w){const b=m.split(w),v=y[0].split(w);let s="";return b.forEach((o,t)=>{s+=k([v[t]],o)+w}),s.slice(0,-1)}}),define(re[110],ae([1,0,11]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(E){E[E.Ignore=0]="Ignore",E[E.Info=1]="Info",E[E.Warning=2]="Warning",E[E.Error=3]="Error"})(k||(k={})),function(E){const I="error",y="warning",m="warn",w="info",b="ignore";function v(o){return o?f.equalsIgnoreCase(I,o)?E.Error:f.equalsIgnoreCase(y,o)||f.equalsIgnoreCase(m,o)?E.Warning:f.equalsIgnoreCase(w,o)?E.Info:E.Ignore:E.Ignore}E.fromValue=v;function s(o){switch(o){case E.Error:return I;case E.Warning:return y;case E.Info:return w;default:return b}}E.toString=s}(k||(k={})),e.default=k}),define(re[302],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(re[14],ae([1,0,18,8,6,2,16,302]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.GlobalIdleValue=e.AbstractIdleValue=e._runWhenIdle=e.runWhenGlobalIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ThrottledDelayer=e.Delayer=e.Throttler=void 0,e.isThenable=w,e.createCancelablePromise=b,e.raceCancellation=v,e.timeout=c,e.disposableTimeout=u,e.first=r,e.createCancelableAsyncIterable=L;function w(D){return!!D&&typeof D.then=="function"}function b(D){const T=new f.CancellationTokenSource,N=D(T.token),A=new Promise((R,M)=>{const P=T.token.onCancellationRequested(()=>{P.dispose(),M(new k.CancellationError)});Promise.resolve(N).then(x=>{P.dispose(),T.dispose(),R(x)},x=>{P.dispose(),T.dispose(),M(x)})});return new class{cancel(){T.cancel(),T.dispose()}then(R,M){return A.then(R,M)}catch(R){return this.then(void 0,R)}finally(R){return A.finally(R)}}}function v(D,T,N){return new Promise((A,R)=>{const M=T.onCancellationRequested(()=>{M.dispose(),A(N)});D.then(A,R).finally(()=>M.dispose())})}class s{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(T){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=T,!this.queuedPromise){const N=()=>{if(this.queuedPromise=null,this.isDisposed)return;const A=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,A};this.queuedPromise=new Promise(A=>{this.activePromise.then(N,N).then(A)})}return new Promise((N,A)=>{this.queuedPromise.then(N,A)})}return this.activePromise=T(),new Promise((N,A)=>{this.activePromise.then(R=>{this.activePromise=null,N(R)},R=>{this.activePromise=null,A(R)})})}dispose(){this.isDisposed=!0}}e.Throttler=s;const o=(D,T)=>{let N=!0;const A=setTimeout(()=>{N=!1,T()},D);return{isTriggered:()=>N,dispose:()=>{clearTimeout(A),N=!1}}},t=D=>{let T=!0;return queueMicrotask(()=>{T&&(T=!1,D())}),{isTriggered:()=>T,dispose:()=>{T=!1}}};class i{constructor(T){this.defaultDelay=T,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(T,N=this.defaultDelay){this.task=T,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((R,M)=>{this.doResolve=R,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const R=this.task;return this.task=null,R()}}));const A=()=>{var R;this.deferred=null,(R=this.doResolve)===null||R===void 0||R.call(this,null)};return this.deferred=N===m.MicrotaskDelay?t(A):o(N,A),this.completionPromise}isTriggered(){var T;return!!(!((T=this.deferred)===null||T===void 0)&&T.isTriggered())}cancel(){var T;this.cancelTimeout(),this.completionPromise&&((T=this.doReject)===null||T===void 0||T.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var T;(T=this.deferred)===null||T===void 0||T.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=i;class n{constructor(T){this.delayer=new i(T),this.throttler=new s}trigger(T,N){return this.delayer.trigger(()=>this.throttler.queue(T),N)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=n;function c(D,T){return T?new Promise((N,A)=>{const R=setTimeout(()=>{M.dispose(),N()},D),M=T.onCancellationRequested(()=>{clearTimeout(R),M.dispose(),A(new k.CancellationError)})}):b(N=>c(D,N))}function u(D,T=0,N){const A=setTimeout(()=>{D(),N&&R.dispose()},T),R=(0,I.toDisposable)(()=>{clearTimeout(A),N?.deleteAndLeak(R)});return N?.add(R),R}function r(D,T=A=>!!A,N=null){let A=0;const R=D.length,M=()=>{if(A>=R)return Promise.resolve(N);const P=D[A++];return Promise.resolve(P()).then(O=>T(O)?Promise.resolve(O):M())};return M()}class a{constructor(T,N){this._isDisposed=!1,this._token=-1,typeof T=="function"&&typeof N=="number"&&this.setIfNotSet(T,N)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(T,N){if(this._isDisposed)throw new k.BugIndicatingError("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,T()},N)}setIfNotSet(T,N){if(this._isDisposed)throw new k.BugIndicatingError("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,T()},N))}}e.TimeoutTimer=a;class l{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var T;(T=this.disposable)===null||T===void 0||T.dispose(),this.disposable=void 0}cancelAndSet(T,N,A=globalThis){if(this.isDisposed)throw new k.BugIndicatingError("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const R=A.setInterval(()=>{T()},N);this.disposable=(0,I.toDisposable)(()=>{A.clearInterval(R),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}e.IntervalTimer=l;class d{constructor(T,N){this.timeoutToken=-1,this.runner=T,this.timeout=N,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(T=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,T)}get delay(){return this.timeout}set delay(T){this.timeout=T}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var T;(T=this.runner)===null||T===void 0||T.call(this)}}e.RunOnceScheduler=d,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e._runWhenIdle=(D,T)=>{(0,y.setTimeout0)(()=>{if(N)return;const A=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,A-Date.now())}}))});let N=!1;return{dispose(){N||(N=!0)}}}:e._runWhenIdle=(D,T,N)=>{const A=D.requestIdleCallback(T,typeof N=="number"?{timeout:N}:void 0);let R=!1;return{dispose(){R||(R=!0,D.cancelIdleCallback(A))}}},e.runWhenGlobalIdle=D=>(0,e._runWhenIdle)(globalThis,D)}();class p{constructor(T,N){this._didRun=!1,this._executor=()=>{try{this._value=N()}catch(A){this._error=A}finally{this._didRun=!0}},this._handle=(0,e._runWhenIdle)(T,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.AbstractIdleValue=p;class h extends p{constructor(T){super(globalThis,T)}}e.GlobalIdleValue=h;class g{get isRejected(){var T;return((T=this.outcome)===null||T===void 0?void 0:T.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((T,N)=>{this.completeCallback=T,this.errorCallback=N})}complete(T){return new Promise(N=>{this.completeCallback(T),this.outcome={outcome:0,value:T},N()})}error(T){return new Promise(N=>{this.errorCallback(T),this.outcome={outcome:1,value:T},N()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=g;var C;(function(D){async function T(A){let R;const M=await Promise.all(A.map(P=>P.then(x=>x,x=>{R||(R=x)})));if(typeof R<"u")throw R;return M}D.settled=T;function N(A){return new Promise(async(R,M)=>{try{await A(R,M)}catch(P){M(P)}})}D.withAsyncBody=N})(C||(e.Promises=C={}));class S{static fromArray(T){return new S(N=>{N.emitMany(T)})}static fromPromise(T){return new S(async N=>{N.emitMany(await T)})}static fromPromises(T){return new S(async N=>{await Promise.all(T.map(async A=>N.emitOne(await A)))})}static merge(T){return new S(async N=>{await Promise.all(T.map(async A=>{for await(const R of A)N.emitOne(R)}))})}constructor(T,N){this._state=0,this._results=[],this._error=null,this._onReturn=N,this._onStateChanged=new E.Emitter,queueMicrotask(async()=>{const A={emitOne:R=>this.emitOne(R),emitMany:R=>this.emitMany(R),reject:R=>this.reject(R)};try{await Promise.resolve(T(A)),this.resolve()}catch(R){this.reject(R)}finally{A.emitOne=void 0,A.emitMany=void 0,A.reject=void 0}})}[Symbol.asyncIterator](){let T=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(T<this._results.length)return{done:!1,value:this._results[T++]};if(this._state===1)return{done:!0,value:void 0};await E.Event.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var N;return(N=this._onReturn)===null||N===void 0||N.call(this),{done:!0,value:void 0}}}}static map(T,N){return new S(async A=>{for await(const R of T)A.emitOne(N(R))})}map(T){return S.map(this,T)}static filter(T,N){return new S(async A=>{for await(const R of T)N(R)&&A.emitOne(R)})}filter(T){return S.filter(this,T)}static coalesce(T){return S.filter(T,N=>!!N)}coalesce(){return S.coalesce(this)}static async toPromise(T){const N=[];for await(const A of T)N.push(A);return N}toPromise(){return S.toPromise(this)}emitOne(T){this._state===0&&(this._results.push(T),this._onStateChanged.fire())}emitMany(T){this._state===0&&(this._results=this._results.concat(T),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(T){this._state===0&&(this._state=2,this._error=T,this._onStateChanged.fire())}}e.AsyncIterableObject=S,S.EMPTY=S.fromArray([]);class _ extends S{constructor(T,N){super(N),this._source=T}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=_;function L(D){const T=new f.CancellationTokenSource,N=D(T.token);return new _(T,async A=>{const R=T.token.onCancellationRequested(()=>{R.dispose(),T.dispose(),A.reject(new k.CancellationError)});try{for await(const M of N){if(T.token.isCancellationRequested)return;A.emitOne(M)}R.dispose(),T.dispose()}catch(M){R.dispose(),T.dispose(),A.reject(M)}})}}),define(re[455],ae([1,0,14,2]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class E extends k.Disposable{constructor(y,m,w){super(),this._visibility=y,this._visibleClassName=m,this._invisibleClassName=w,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new f.TimeoutTimer)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this._updateShouldBeVisible())}setShouldBeVisible(y){this._rawShouldBeVisible=y,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const y=this._applyVisibilitySetting();this._shouldBeVisible!==y&&(this._shouldBeVisible=y,this.ensureVisibility())}setIsNeeded(y){this._isNeeded!==y&&(this._isNeeded=y,this.ensureVisibility())}setDomNode(y){this._domNode=y,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var y;(y=this._domNode)===null||y===void 0||y.setClassName(this._visibleClassName)},0))}_hide(y){var m;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(m=this._domNode)===null||m===void 0||m.setClassName(this._invisibleClassName+(y?" fade":"")))}}e.ScrollbarVisibilityController=E}),define(re[225],ae([1,0,155,13,14,302,189,6,53]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=void 0,e.isFilterResult=b,e.getVisibleState=v;function b(t){return typeof t=="object"&&"visibility"in t&&"data"in t}function v(t){switch(t){case!0:return 1;case!1:return 0;default:return t}}function s(t){return typeof t.collapsible=="boolean"}class o{constructor(i,n,c,u={}){var r;this.user=i,this.list=n,this.rootRef=[],this.eventBufferer=new m.EventBufferer,this._onDidChangeCollapseState=new m.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new m.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new m.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new E.Delayer(I.MicrotaskDelay),this.collapseByDefault=typeof u.collapseByDefault>"u"?!1:u.collapseByDefault,this.allowNonCollapsibleParents=(r=u.allowNonCollapsibleParents)!==null&&r!==void 0?r:!1,this.filter=u.filter,this.autoExpandSingleChildren=typeof u.autoExpandSingleChildren>"u"?!1:u.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(i,n,c=w.Iterable.empty(),u={}){if(i.length===0)throw new f.TreeError(this.user,"Invalid tree location");u.diffIdentityProvider?this.spliceSmart(u.diffIdentityProvider,i,n,c,u):this.spliceSimple(i,n,c,u)}spliceSmart(i,n,c,u,r,a){var l;u===void 0&&(u=w.Iterable.empty()),a===void 0&&(a=(l=r.diffDepth)!==null&&l!==void 0?l:0);const{parentNode:d}=this.getParentNodeWithListIndex(n);if(!d.lastDiffIds)return this.spliceSimple(n,c,u,r);const p=[...u],h=n[n.length-1],g=new y.LcsDiff({getElements:()=>d.lastDiffIds},{getElements:()=>[...d.children.slice(0,h),...p,...d.children.slice(h+c)].map(D=>i.getId(D.element).toString())}).ComputeDiff(!1);if(g.quitEarly)return d.lastDiffIds=void 0,this.spliceSimple(n,c,p,r);const C=n.slice(0,-1),S=(D,T,N)=>{if(a>0)for(let A=0;A<N;A++)D--,T--,this.spliceSmart(i,[...C,D,0],Number.MAX_SAFE_INTEGER,p[T].children,r,a-1)};let _=Math.min(d.children.length,h+c),L=p.length;for(const D of g.changes.sort((T,N)=>N.originalStart-T.originalStart))S(_,L,_-(D.originalStart+D.originalLength)),_=D.originalStart,L=D.modifiedStart-h,this.spliceSimple([...C,_],D.originalLength,w.Iterable.slice(p,L,L+D.modifiedLength),r);S(_,L,_)}spliceSimple(i,n,c=w.Iterable.empty(),{onDidCreateNode:u,onDidDeleteNode:r,diffIdentityProvider:a}){const{parentNode:l,listIndex:d,revealed:p,visible:h}=this.getParentNodeWithListIndex(i),g=[],C=w.Iterable.map(c,M=>this.createTreeNode(M,l,l.visible?1:0,p,g,u)),S=i[i.length-1];let _=0;for(let M=S;M>=0&&M<l.children.length;M--){const P=l.children[M];if(P.visible){_=P.visibleChildIndex;break}}const L=[];let D=0,T=0;for(const M of C)L.push(M),T+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=_+D++);const N=(0,k.splice)(l.children,S,n,L);a?l.lastDiffIds?(0,k.splice)(l.lastDiffIds,S,n,L.map(M=>a.getId(M.element).toString())):l.lastDiffIds=l.children.map(M=>a.getId(M.element).toString()):l.lastDiffIds=void 0;let A=0;for(const M of N)M.visible&&A++;if(A!==0)for(let M=S+L.length;M<l.children.length;M++){const P=l.children[M];P.visible&&(P.visibleChildIndex-=A)}if(l.visibleChildrenCount+=D-A,p&&h){const M=N.reduce((P,x)=>P+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(l,T-M),this.list.splice(d,M,g)}if(N.length>0&&r){const M=P=>{r(P),P.children.forEach(M)};N.forEach(M)}this._onDidSplice.fire({insertedNodes:L,deletedNodes:N});let R=l;for(;R;){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(i){if(i.length===0)throw new f.TreeError(this.user,"Invalid tree location");const{node:n,listIndex:c,revealed:u}=this.getTreeNodeWithListIndex(i);n.visible&&u&&this.list.splice(c,1,[n])}has(i){return this.hasTreeNode(i)}getListIndex(i){const{listIndex:n,visible:c,revealed:u}=this.getTreeNodeWithListIndex(i);return c&&u?n:-1}getListRenderCount(i){return this.getTreeNode(i).renderNodeCount}isCollapsible(i){return this.getTreeNode(i).collapsible}setCollapsible(i,n){const c=this.getTreeNode(i);typeof n>"u"&&(n=!c.collapsible);const u={collapsible:n};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(i,u))}isCollapsed(i){return this.getTreeNode(i).collapsed}setCollapsed(i,n,c){const u=this.getTreeNode(i);typeof n>"u"&&(n=!u.collapsed);const r={collapsed:n,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(i,r))}_setCollapseState(i,n){const{node:c,listIndex:u,revealed:r}=this.getTreeNodeWithListIndex(i),a=this._setListNodeCollapseState(c,u,r,n);if(c!==this.root&&this.autoExpandSingleChildren&&a&&!s(n)&&c.collapsible&&!c.collapsed&&!n.recursive){let l=-1;for(let d=0;d<c.children.length;d++)if(c.children[d].visible)if(l>-1){l=-1;break}else l=d;l>-1&&this._setCollapseState([...i,l],n)}return a}_setListNodeCollapseState(i,n,c,u){const r=this._setNodeCollapseState(i,u,!1);if(!c||!i.visible||!r)return r;const a=i.renderNodeCount,l=this.updateNodeAfterCollapseChange(i),d=a-(n===-1?0:1);return this.list.splice(n+1,d,l.slice(1)),r}_setNodeCollapseState(i,n,c){let u;if(i===this.root?u=!1:(s(n)?(u=i.collapsible!==n.collapsible,i.collapsible=n.collapsible):i.collapsible?(u=i.collapsed!==n.collapsed,i.collapsed=n.collapsed):u=!1,u&&this._onDidChangeCollapseState.fire({node:i,deep:c})),!s(n)&&n.recursive)for(const r of i.children)u=this._setNodeCollapseState(r,n,!0)||u;return u}expandTo(i){this.eventBufferer.bufferEvents(()=>{let n=this.getTreeNode(i);for(;n.parent;)n=n.parent,i=i.slice(0,i.length-1),n.collapsed&&this._setCollapseState(i,{collapsed:!1,recursive:!1})})}refilter(){const i=this.root.renderNodeCount,n=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,i,n),this.refilterDelayer.cancel()}createTreeNode(i,n,c,u,r,a){const l={parent:n,element:i.element,children:[],depth:n.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof i.collapsible=="boolean"?i.collapsible:typeof i.collapsed<"u",collapsed:typeof i.collapsed>"u"?this.collapseByDefault:i.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},d=this._filterNode(l,c);l.visibility=d,u&&r.push(l);const p=i.children||w.Iterable.empty(),h=u&&d!==0&&!l.collapsed;let g=0,C=1;for(const S of p){const _=this.createTreeNode(S,l,d,h,r,a);l.children.push(_),C+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=g++)}return this.allowNonCollapsibleParents||(l.collapsible=l.collapsible||l.children.length>0),l.visibleChildrenCount=g,l.visible=d===2?g>0:d===1,l.visible?l.collapsed||(l.renderNodeCount=C):(l.renderNodeCount=0,u&&r.pop()),a?.(l),l}updateNodeAfterCollapseChange(i){const n=i.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(i,c),this._updateAncestorsRenderNodeCount(i.parent,c.length-n),c}_updateNodeAfterCollapseChange(i,n){if(i.visible===!1)return 0;if(n.push(i),i.renderNodeCount=1,!i.collapsed)for(const c of i.children)i.renderNodeCount+=this._updateNodeAfterCollapseChange(c,n);return this._onDidChangeRenderNodeCount.fire(i),i.renderNodeCount}updateNodeAfterFilterChange(i){const n=i.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(i,i.visible?1:0,c),this._updateAncestorsRenderNodeCount(i.parent,c.length-n),c}_updateNodeAfterFilterChange(i,n,c,u=!0){let r;if(i!==this.root){if(r=this._filterNode(i,n),r===0)return i.visible=!1,i.renderNodeCount=0,!1;u&&c.push(i)}const a=c.length;i.renderNodeCount=i===this.root?0:1;let l=!1;if(!i.collapsed||r!==0){let d=0;for(const p of i.children)l=this._updateNodeAfterFilterChange(p,r,c,u&&!i.collapsed)||l,p.visible&&(p.visibleChildIndex=d++);i.visibleChildrenCount=d}else i.visibleChildrenCount=0;return i!==this.root&&(i.visible=r===2?l:r===1,i.visibility=r),i.visible?i.collapsed||(i.renderNodeCount+=c.length-a):(i.renderNodeCount=0,u&&c.pop()),this._onDidChangeRenderNodeCount.fire(i),i.visible}_updateAncestorsRenderNodeCount(i,n){if(n!==0)for(;i;)i.renderNodeCount+=n,this._onDidChangeRenderNodeCount.fire(i),i=i.parent}_filterNode(i,n){const c=this.filter?this.filter.filter(i.element,n):1;return typeof c=="boolean"?(i.filterData=void 0,c?1:0):b(c)?(i.filterData=c.data,v(c.visibility)):(i.filterData=void 0,v(c))}hasTreeNode(i,n=this.root){if(!i||i.length===0)return!0;const[c,...u]=i;return c<0||c>n.children.length?!1:this.hasTreeNode(u,n.children[c])}getTreeNode(i,n=this.root){if(!i||i.length===0)return n;const[c,...u]=i;if(c<0||c>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");return this.getTreeNode(u,n.children[c])}getTreeNodeWithListIndex(i){if(i.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:n,listIndex:c,revealed:u,visible:r}=this.getParentNodeWithListIndex(i),a=i[i.length-1];if(a<0||a>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");const l=n.children[a];return{node:l,listIndex:c,revealed:u,visible:r&&l.visible}}getParentNodeWithListIndex(i,n=this.root,c=0,u=!0,r=!0){const[a,...l]=i;if(a<0||a>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");for(let d=0;d<a;d++)c+=n.children[d].renderNodeCount;return u=u&&!n.collapsed,r=r&&n.visible,l.length===0?{parentNode:n,listIndex:c,revealed:u,visible:r}:this.getParentNodeWithListIndex(l,n.children[a],c+1,u,r)}getNode(i=[]){return this.getTreeNode(i)}getNodeLocation(i){const n=[];let c=i;for(;c.parent;)n.push(c.parent.children.indexOf(c)),c=c.parent;return n.reverse()}getParentNodeLocation(i){if(i.length!==0)return i.length===1?[]:(0,k.tail2)(i)[0]}getFirstElementChild(i){const n=this.getTreeNode(i);if(n.children.length!==0)return n.children[0].element}}e.IndexTreeModel=o}),define(re[226],ae([1,0,225,155,53]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class I{constructor(m,w,b={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new f.IndexTreeModel(m,w,null,b),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,b.sorter&&(this.sorter={compare(v,s){return b.sorter.compare(v.element,s.element)}}),this.identityProvider=b.identityProvider}setChildren(m,w=E.Iterable.empty(),b={}){const v=this.getElementLocation(m);this._setChildren(v,this.preserveCollapseState(w),b)}_setChildren(m,w=E.Iterable.empty(),b){const v=new Set,s=new Set,o=i=>{var n;if(i.element===null)return;const c=i;if(v.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const u=this.identityProvider.getId(c.element).toString();s.add(u),this.nodesByIdentity.set(u,c)}(n=b.onDidCreateNode)===null||n===void 0||n.call(b,c)},t=i=>{var n;if(i.element===null)return;const c=i;if(v.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const u=this.identityProvider.getId(c.element).toString();s.has(u)||this.nodesByIdentity.delete(u)}(n=b.onDidDeleteNode)===null||n===void 0||n.call(b,c)};this.model.splice([...m,0],Number.MAX_VALUE,w,{...b,onDidCreateNode:o,onDidDeleteNode:t})}preserveCollapseState(m=E.Iterable.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),E.Iterable.map(m,w=>{let b=this.nodes.get(w.element);if(!b&&this.identityProvider){const o=this.identityProvider.getId(w.element).toString();b=this.nodesByIdentity.get(o)}if(!b){let o;return typeof w.collapsed>"u"?o=void 0:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?o=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?o=!1:o=!!w.collapsed,{...w,children:this.preserveCollapseState(w.children),collapsed:o}}const v=typeof w.collapsible=="boolean"?w.collapsible:b.collapsible;let s;return typeof w.collapsed>"u"||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?s=b.collapsed:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed?s=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded?s=!1:s=!!w.collapsed,{...w,collapsible:v,collapsed:s,children:this.preserveCollapseState(w.children)}})}rerender(m){const w=this.getElementLocation(m);this.model.rerender(w)}getFirstElementChild(m=null){const w=this.getElementLocation(m);return this.model.getFirstElementChild(w)}has(m){return this.nodes.has(m)}getListIndex(m){const w=this.getElementLocation(m);return this.model.getListIndex(w)}getListRenderCount(m){const w=this.getElementLocation(m);return this.model.getListRenderCount(w)}isCollapsible(m){const w=this.getElementLocation(m);return this.model.isCollapsible(w)}setCollapsible(m,w){const b=this.getElementLocation(m);return this.model.setCollapsible(b,w)}isCollapsed(m){const w=this.getElementLocation(m);return this.model.isCollapsed(w)}setCollapsed(m,w,b){const v=this.getElementLocation(m);return this.model.setCollapsed(v,w,b)}expandTo(m){const w=this.getElementLocation(m);this.model.expandTo(w)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const w=this.nodes.get(m);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return w}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const w=this.nodes.get(m);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${m}`);const b=this.model.getNodeLocation(w),v=this.model.getParentNodeLocation(b);return this.model.getNode(v).element}getElementLocation(m){if(m===null)return[];const w=this.nodes.get(m);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(w)}}e.ObjectTreeModel=I}),define(re[456],ae([1,0,226,155,13,6,53]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=void 0,e.compress=w,e.decompress=v;function m(a){const l=[a.element],d=a.incompressible||!1;return{element:{elements:l,incompressible:d},children:y.Iterable.map(y.Iterable.from(a.children),m),collapsible:a.collapsible,collapsed:a.collapsed}}function w(a){const l=[a.element],d=a.incompressible||!1;let p,h;for(;[h,p]=y.Iterable.consume(y.Iterable.from(a.children),2),!(h.length!==1||h[0].incompressible);)a=h[0],l.push(a.element);return{element:{elements:l,incompressible:d},children:y.Iterable.map(y.Iterable.concat(h,p),w),collapsible:a.collapsible,collapsed:a.collapsed}}function b(a,l=0){let d;return l<a.element.elements.length-1?d=[b(a,l+1)]:d=y.Iterable.map(y.Iterable.from(a.children),p=>b(p,0)),l===0&&a.element.incompressible?{element:a.element.elements[l],children:d,incompressible:!0,collapsible:a.collapsible,collapsed:a.collapsed}:{element:a.element.elements[l],children:d,collapsible:a.collapsible,collapsed:a.collapsed}}function v(a){return b(a,0)}function s(a,l,d){return a.element===l?{...a,children:d}:{...a,children:y.Iterable.map(y.Iterable.from(a.children),p=>s(p,l,d))}}const o=a=>({getId(l){return l.elements.map(d=>a.getId(d).toString()).join("\0")}});class t{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(l,d,p={}){this.user=l,this.rootRef=null,this.nodes=new Map,this.model=new f.ObjectTreeModel(l,d,p),this.enabled=typeof p.compressionEnabled>"u"?!0:p.compressionEnabled,this.identityProvider=p.identityProvider}setChildren(l,d=y.Iterable.empty(),p){const h=p.diffIdentityProvider&&o(p.diffIdentityProvider);if(l===null){const R=y.Iterable.map(d,this.enabled?w:m);this._setChildren(null,R,{diffIdentityProvider:h,diffDepth:1/0});return}const g=this.nodes.get(l);if(!g)throw new k.TreeError(this.user,"Unknown compressed tree node");const C=this.model.getNode(g),S=this.model.getParentNodeLocation(g),_=this.model.getNode(S),L=v(C),D=s(L,l,d),T=(this.enabled?w:m)(D),N=p.diffIdentityProvider?(R,M)=>p.diffIdentityProvider.getId(R)===p.diffIdentityProvider.getId(M):void 0;if((0,E.equals)(T.element.elements,C.element.elements,N)){this._setChildren(g,T.children||y.Iterable.empty(),{diffIdentityProvider:h,diffDepth:1});return}const A=_.children.map(R=>R===C?T:R);this._setChildren(_.element,A,{diffIdentityProvider:h,diffDepth:C.depth-_.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(l){if(l===this.enabled)return;this.enabled=l;const p=this.model.getNode().children,h=y.Iterable.map(p,v),g=y.Iterable.map(h,l?w:m);this._setChildren(null,g,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(l,d,p){const h=new Set,g=S=>{for(const _ of S.element.elements)h.add(_),this.nodes.set(_,S.element)},C=S=>{for(const _ of S.element.elements)h.has(_)||this.nodes.delete(_)};this.model.setChildren(l,d,{...p,onDidCreateNode:g,onDidDeleteNode:C})}has(l){return this.nodes.has(l)}getListIndex(l){const d=this.getCompressedNode(l);return this.model.getListIndex(d)}getListRenderCount(l){const d=this.getCompressedNode(l);return this.model.getListRenderCount(d)}getNode(l){if(typeof l>"u")return this.model.getNode();const d=this.getCompressedNode(l);return this.model.getNode(d)}getNodeLocation(l){const d=this.model.getNodeLocation(l);return d===null?null:d.elements[d.elements.length-1]}getParentNodeLocation(l){const d=this.getCompressedNode(l),p=this.model.getParentNodeLocation(d);return p===null?null:p.elements[p.elements.length-1]}getFirstElementChild(l){const d=this.getCompressedNode(l);return this.model.getFirstElementChild(d)}isCollapsible(l){const d=this.getCompressedNode(l);return this.model.isCollapsible(d)}setCollapsible(l,d){const p=this.getCompressedNode(l);return this.model.setCollapsible(p,d)}isCollapsed(l){const d=this.getCompressedNode(l);return this.model.isCollapsed(d)}setCollapsed(l,d,p){const h=this.getCompressedNode(l);return this.model.setCollapsed(h,d,p)}expandTo(l){const d=this.getCompressedNode(l);this.model.expandTo(d)}rerender(l){const d=this.getCompressedNode(l);this.model.rerender(d)}refilter(){this.model.refilter()}getCompressedNode(l){if(l===null)return null;const d=this.nodes.get(l);if(!d)throw new k.TreeError(this.user,`Tree element not found: ${l}`);return d}}e.CompressedObjectTreeModel=t;const i=a=>a[a.length-1];e.DefaultElementMapper=i;class n{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(l=>new n(this.unwrapper,l))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(l,d){this.unwrapper=l,this.node=d}}function c(a,l){return{splice(d,p,h){l.splice(d,p,h.map(g=>a.map(g)))},updateElementHeight(d,p){l.updateElementHeight(d,p)}}}function u(a,l){return{...l,identityProvider:l.identityProvider&&{getId(d){return l.identityProvider.getId(a(d))}},sorter:l.sorter&&{compare(d,p){return l.sorter.compare(d.elements[0],p.elements[0])}},filter:l.filter&&{filter(d,p){return l.filter.filter(a(d),p)}}}}class r{get onDidSplice(){return I.Event.map(this.model.onDidSplice,({insertedNodes:l,deletedNodes:d})=>({insertedNodes:l.map(p=>this.nodeMapper.map(p)),deletedNodes:d.map(p=>this.nodeMapper.map(p))}))}get onDidChangeCollapseState(){return I.Event.map(this.model.onDidChangeCollapseState,({node:l,deep:d})=>({node:this.nodeMapper.map(l),deep:d}))}get onDidChangeRenderNodeCount(){return I.Event.map(this.model.onDidChangeRenderNodeCount,l=>this.nodeMapper.map(l))}constructor(l,d,p={}){this.rootRef=null,this.elementMapper=p.elementMapper||e.DefaultElementMapper;const h=g=>this.elementMapper(g.elements);this.nodeMapper=new k.WeakMapper(g=>new n(h,g)),this.model=new t(l,c(this.nodeMapper,d),u(h,p))}setChildren(l,d=y.Iterable.empty(),p={}){this.model.setChildren(l,d,p)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(l){this.model.setCompressionEnabled(l)}has(l){return this.model.has(l)}getListIndex(l){return this.model.getListIndex(l)}getListRenderCount(l){return this.model.getListRenderCount(l)}getNode(l){return this.nodeMapper.map(this.model.getNode(l))}getNodeLocation(l){return l.element}getParentNodeLocation(l){return this.model.getParentNodeLocation(l)}getFirstElementChild(l){const d=this.model.getFirstElementChild(l);return d===null||typeof d>"u"?d:this.elementMapper(d.elements)}isCollapsible(l){return this.model.isCollapsible(l)}setCollapsible(l,d){return this.model.setCollapsible(l,d)}isCollapsed(l){return this.model.isCollapsed(l)}setCollapsed(l,d,p){return this.model.setCollapsed(l,d,p)}expandTo(l){return this.model.expandTo(l)}rerender(l){return this.model.rerender(l)}refilter(){return this.model.refilter()}getCompressedTreeNode(l=null){return this.model.getNode(l)}}e.CompressibleObjectTreeModel=r}),define(re[303],ae([1,0,14,224,44,99,16,11]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.splitGlobAware=o,e.match=N,e.parse=A,e.isRelativePattern=R,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const w="[/\\\\]",b="[^/\\\\]",v=/\//g;function s(O,B){switch(O){case 0:return"";case 1:return`${b}*?`;default:return`(?:${w}|${b}+${w}${B?`|${w}${b}+`:""})*?`}}function o(O,B){if(!O)return[];const H=[];let K=!1,V=!1,j="";for(const U of O){switch(U){case B:if(!K&&!V){H.push(j),j="";continue}break;case"{":K=!0;break;case"}":K=!1;break;case"[":V=!0;break;case"]":V=!1;break}j+=U}return j&&H.push(j),H}function t(O){if(!O)return"";let B="";const H=o(O,e.GLOB_SPLIT);if(H.every(K=>K===e.GLOBSTAR))B=".*";else{let K=!1;H.forEach((V,j)=>{if(V===e.GLOBSTAR){if(K)return;B+=s(2,j===H.length-1)}else{let U=!1,Y="",Q=!1,Z="";for(const G of V){if(G!=="}"&&U){Y+=G;continue}if(Q&&(G!=="]"||!Z)){let F;G==="-"?F=G:(G==="^"||G==="!")&&!Z?F="^":G===e.GLOB_SPLIT?F="":F=(0,m.escapeRegExpCharacters)(G),Z+=F;continue}switch(G){case"{":U=!0;continue;case"[":Q=!0;continue;case"}":{const J=`(?:${o(Y,",").map(te=>t(te)).join("|")})`;B+=J,U=!1,Y="";break}case"]":{B+="["+Z+"]",Q=!1,Z="";break}case"?":B+=b;continue;case"*":B+=s(1);continue;default:B+=(0,m.escapeRegExpCharacters)(G)}}j<H.length-1&&(H[j+1]!==e.GLOBSTAR||j+2<H.length)&&(B+=w)}K=V===e.GLOBSTAR})}return B}const i=/^\*\*\/\*\.[\w\.-]+$/,n=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,u=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,r=/^\*\*((\/[\w\.-]+)+)\/?$/,a=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,l=new E.LRUCache(1e4),d=function(){return!1},p=function(){return null};function h(O,B){if(!O)return p;let H;typeof O!="string"?H=O.pattern:H=O,H=H.trim();const K=`${H}_${!!B.trimForExclusions}`;let V=l.get(K);if(V)return g(V,O);let j;return i.test(H)?V=S(H.substr(4),H):(j=n.exec(C(H,B)))?V=_(j[1],H):(B.trimForExclusions?u:c).test(H)?V=L(H,B):(j=r.exec(C(H,B)))?V=D(j[1].substr(1),H,!0):(j=a.exec(C(H,B)))?V=D(j[1],H,!1):V=T(H),l.set(K,V),g(V,O)}function g(O,B){if(typeof B=="string")return O;const H=function(K,V){return(0,k.isEqualOrParent)(K,B.base,!y.isLinux)?O((0,m.ltrim)(K.substr(B.base.length),I.sep),V):null};return H.allBasenames=O.allBasenames,H.allPaths=O.allPaths,H.basenames=O.basenames,H.patterns=O.patterns,H}function C(O,B){return B.trimForExclusions&&O.endsWith("/**")?O.substr(0,O.length-2):O}function S(O,B){return function(H,K){return typeof H=="string"&&H.endsWith(O)?B:null}}function _(O,B){const H=`/${O}`,K=`\\${O}`,V=function(U,Y){return typeof U!="string"?null:Y?Y===O?B:null:U===O||U.endsWith(H)||U.endsWith(K)?B:null},j=[O];return V.basenames=j,V.patterns=[B],V.allBasenames=j,V}function L(O,B){const H=x(O.slice(1,-1).split(",").map(Y=>h(Y,B)).filter(Y=>Y!==p),O),K=H.length;if(!K)return p;if(K===1)return H[0];const V=function(Y,Q){for(let Z=0,G=H.length;Z<G;Z++)if(H[Z](Y,Q))return O;return null},j=H.find(Y=>!!Y.allBasenames);j&&(V.allBasenames=j.allBasenames);const U=H.reduce((Y,Q)=>Q.allPaths?Y.concat(Q.allPaths):Y,[]);return U.length&&(V.allPaths=U),V}function D(O,B,H){const K=I.sep===I.posix.sep,V=K?O:O.replace(v,I.sep),j=I.sep+V,U=I.posix.sep+O;let Y;return H?Y=function(Q,Z){return typeof Q=="string"&&(Q===V||Q.endsWith(j)||!K&&(Q===O||Q.endsWith(U)))?B:null}:Y=function(Q,Z){return typeof Q=="string"&&(Q===V||!K&&Q===O)?B:null},Y.allPaths=[(H?"*/":"./")+O],Y}function T(O){try{const B=new RegExp(`^${t(O)}$`);return function(H){return B.lastIndex=0,typeof H=="string"&&B.test(H)?O:null}}catch{return p}}function N(O,B,H){return!O||typeof B!="string"?!1:A(O)(B,void 0,H)}function A(O,B={}){if(!O)return d;if(typeof O=="string"||R(O)){const H=h(O,B);if(H===p)return d;const K=function(V,j){return!!H(V,j)};return H.allBasenames&&(K.allBasenames=H.allBasenames),H.allPaths&&(K.allPaths=H.allPaths),K}return M(O,B)}function R(O){const B=O;return B?typeof B.base=="string"&&typeof B.pattern=="string":!1}function M(O,B){const H=x(Object.getOwnPropertyNames(O).map(Y=>P(Y,O[Y],B)).filter(Y=>Y!==p)),K=H.length;if(!K)return p;if(!H.some(Y=>!!Y.requiresSiblings)){if(K===1)return H[0];const Y=function(G,F){let J;for(let te=0,de=H.length;te<de;te++){const he=H[te](G,F);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(J||(J=[]),J.push(he))}return J?(async()=>{for(const te of J){const de=await te;if(typeof de=="string")return de}return null})():null},Q=H.find(G=>!!G.allBasenames);Q&&(Y.allBasenames=Q.allBasenames);const Z=H.reduce((G,F)=>F.allPaths?G.concat(F.allPaths):G,[]);return Z.length&&(Y.allPaths=Z),Y}const V=function(Y,Q,Z){let G,F;for(let J=0,te=H.length;J<te;J++){const de=H[J];de.requiresSiblings&&Z&&(Q||(Q=(0,I.basename)(Y)),G||(G=Q.substr(0,Q.length-(0,I.extname)(Y).length)));const he=de(Y,Q,G,Z);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(F||(F=[]),F.push(he))}return F?(async()=>{for(const J of F){const te=await J;if(typeof te=="string")return te}return null})():null},j=H.find(Y=>!!Y.allBasenames);j&&(V.allBasenames=j.allBasenames);const U=H.reduce((Y,Q)=>Q.allPaths?Y.concat(Q.allPaths):Y,[]);return U.length&&(V.allPaths=U),V}function P(O,B,H){if(B===!1)return p;const K=h(O,H);if(K===p)return p;if(typeof B=="boolean")return K;if(B){const V=B.when;if(typeof V=="string"){const j=(U,Y,Q,Z)=>{if(!Z||!K(U,Y))return null;const G=V.replace("$(basename)",()=>Q),F=Z(G);return(0,f.isThenable)(F)?F.then(J=>J?O:null):F?O:null};return j.requiresSiblings=!0,j}}return K}function x(O,B){const H=O.filter(Y=>!!Y.basenames);if(H.length<2)return O;const K=H.reduce((Y,Q)=>{const Z=Q.basenames;return Z?Y.concat(Z):Y},[]);let V;if(B){V=[];for(let Y=0,Q=K.length;Y<Q;Y++)V.push(B)}else V=H.reduce((Y,Q)=>{const Z=Q.patterns;return Z?Y.concat(Z):Y},[]);const j=function(Y,Q){if(typeof Y!="string")return null;if(!Q){let G;for(G=Y.length;G>0;G--){const F=Y.charCodeAt(G-1);if(F===47||F===92)break}Q=Y.substr(G)}const Z=K.indexOf(Q);return Z!==-1?V[Z]:null};j.basenames=K,j.patterns=V,j.allBasenames=K;const U=O.filter(Y=>!Y.basenames);return U.push(j),U}}),define(re[227],ae([1,0,11]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(v){return this._value=v,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(v){const s=v.charCodeAt(0),o=this._value.charCodeAt(this._pos);return s-o}value(){return this._value[this._pos]}}e.StringIterator=k;class E{constructor(v=!0){this._caseSensitive=v}reset(v){return this._value=v,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let v=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(v)this._from++;else break;else v=!1;return this}cmp(v){return this._caseSensitive?(0,f.compareSubstring)(v,this._value,0,v.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(v,this._value,0,v.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=E;class I{constructor(v=!0,s=!0){this._splitOnBackslash=v,this._caseSensitive=s}reset(v){this._from=0,this._to=0,this._value=v,this._valueLen=v.length;for(let s=v.length-1;s>=0;s--,this._valueLen--){const o=this._value.charCodeAt(s);if(!(o===47||this._splitOnBackslash&&o===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let v=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(v)this._from++;else break;else v=!1}return this}cmp(v){return this._caseSensitive?(0,f.compareSubstring)(v,this._value,0,v.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(v,this._value,0,v.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=I;class y{constructor(v,s){this._ignorePathCasing=v,this._ignoreQueryAndFragment=s,this._states=[],this._stateIdx=0}reset(v){return this._value=v,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new I(!1,!this._ignorePathCasing(v)),this._pathIterator.reset(v.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(v)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(v){if(this._states[this._stateIdx]===1)return(0,f.compareIgnoreCase)(v,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,f.compareIgnoreCase)(v,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(v);if(this._states[this._stateIdx]===4)return(0,f.compare)(v,this._value.query);if(this._states[this._stateIdx]===5)return(0,f.compare)(v,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=y;class m{constructor(){this.height=1}rotateLeft(){const v=this.right;return this.right=v.left,v.left=this,this.updateHeight(),v.updateHeight(),v}rotateRight(){const v=this.left;return this.left=v.right,v.right=this,this.updateHeight(),v.updateHeight(),v}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var v,s;return(s=(v=this.left)===null||v===void 0?void 0:v.height)!==null&&s!==void 0?s:0}get heightRight(){var v,s;return(s=(v=this.right)===null||v===void 0?void 0:v.height)!==null&&s!==void 0?s:0}}class w{static forUris(v=()=>!1,s=()=>!1){return new w(new y(v,s))}static forStrings(){return new w(new k)}static forConfigKeys(){return new w(new E)}constructor(v){this._iter=v}clear(){this._root=void 0}set(v,s){const o=this._iter.reset(v);let t;this._root||(this._root=new m,this._root.segment=o.value());const i=[];for(t=this._root;;){const c=o.cmp(t.segment);if(c>0)t.left||(t.left=new m,t.left.segment=o.value()),i.push([-1,t]),t=t.left;else if(c<0)t.right||(t.right=new m,t.right.segment=o.value()),i.push([1,t]),t=t.right;else if(o.hasNext())o.next(),t.mid||(t.mid=new m,t.mid.segment=o.value()),i.push([0,t]),t=t.mid;else break}const n=t.value;t.value=s,t.key=v;for(let c=i.length-1;c>=0;c--){const u=i[c][1];u.updateHeight();const r=u.balanceFactor();if(r<-1||r>1){const a=i[c][0],l=i[c+1][0];if(a===1&&l===1)i[c][1]=u.rotateLeft();else if(a===-1&&l===-1)i[c][1]=u.rotateRight();else if(a===1&&l===-1)u.right=i[c+1][1]=i[c+1][1].rotateRight(),i[c][1]=u.rotateLeft();else if(a===-1&&l===1)u.left=i[c+1][1]=i[c+1][1].rotateLeft(),i[c][1]=u.rotateRight();else throw new Error;if(c>0)switch(i[c-1][0]){case-1:i[c-1][1].left=i[c][1];break;case 1:i[c-1][1].right=i[c][1];break;case 0:i[c-1][1].mid=i[c][1];break}else this._root=i[0][1]}}return n}get(v){var s;return(s=this._getNode(v))===null||s===void 0?void 0:s.value}_getNode(v){const s=this._iter.reset(v);let o=this._root;for(;o;){const t=s.cmp(o.segment);if(t>0)o=o.left;else if(t<0)o=o.right;else if(s.hasNext())s.next(),o=o.mid;else break}return o}has(v){const s=this._getNode(v);return!(s?.value===void 0&&s?.mid===void 0)}delete(v){return this._delete(v,!1)}deleteSuperstr(v){return this._delete(v,!0)}_delete(v,s){var o;const t=this._iter.reset(v),i=[];let n=this._root;for(;n;){const c=t.cmp(n.segment);if(c>0)i.push([-1,n]),n=n.left;else if(c<0)i.push([1,n]),n=n.right;else if(t.hasNext())t.next(),i.push([0,n]),n=n.mid;else break}if(n){if(s?(n.left=void 0,n.mid=void 0,n.right=void 0,n.height=1):(n.key=void 0,n.value=void 0),!n.mid&&!n.value)if(n.left&&n.right){const c=this._min(n.right);if(c.key){const{key:u,value:r,segment:a}=c;this._delete(c.key,!1),n.key=u,n.value=r,n.segment=a}}else{const c=(o=n.left)!==null&&o!==void 0?o:n.right;if(i.length>0){const[u,r]=i[i.length-1];switch(u){case-1:r.left=c;break;case 0:r.mid=c;break;case 1:r.right=c;break}}else this._root=c}for(let c=i.length-1;c>=0;c--){const u=i[c][1];u.updateHeight();const r=u.balanceFactor();if(r>1?(u.right.balanceFactor()>=0||(u.right=u.right.rotateRight()),i[c][1]=u.rotateLeft()):r<-1&&(u.left.balanceFactor()<=0||(u.left=u.left.rotateLeft()),i[c][1]=u.rotateRight()),c>0)switch(i[c-1][0]){case-1:i[c-1][1].left=i[c][1];break;case 1:i[c-1][1].right=i[c][1];break;case 0:i[c-1][1].mid=i[c][1];break}else this._root=i[0][1]}}}_min(v){for(;v.left;)v=v.left;return v}findSubstr(v){const s=this._iter.reset(v);let o=this._root,t;for(;o;){const i=s.cmp(o.segment);if(i>0)o=o.left;else if(i<0)o=o.right;else if(s.hasNext())s.next(),t=o.value||t,o=o.mid;else break}return o&&o.value||t}findSuperstr(v){return this._findSuperstrOrElement(v,!1)}_findSuperstrOrElement(v,s){const o=this._iter.reset(v);let t=this._root;for(;t;){const i=o.cmp(t.segment);if(i>0)t=t.left;else if(i<0)t=t.right;else if(o.hasNext())o.next(),t=t.mid;else return t.mid?this._entries(t.mid):s?t.value:void 0}}forEach(v){for(const[s,o]of this)v(o,s)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(v){const s=[];return this._dfsEntries(v,s),s[Symbol.iterator]()}_dfsEntries(v,s){v&&(v.left&&this._dfsEntries(v.left,s),v.value&&s.push([v.key,v.value]),v.mid&&this._dfsEntries(v.mid,s),v.right&&this._dfsEntries(v.right,s))}}e.TernarySearchTree=w}),define(re[457],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TfIdfCalculator=void 0,e.normalizeTfIdfScores=E;function f(I){var y;const m=new Map;for(const w of I)m.set(w,((y=m.get(w))!==null&&y!==void 0?y:0)+1);return m}class k{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(y,m){const w=this.computeEmbedding(y),b=new Map,v=[];for(const[s,o]of this.documents){if(m.isCancellationRequested)return[];for(const t of o.chunks){const i=this.computeSimilarityScore(t,w,b);i>0&&v.push({key:s,score:i})}}return v}static termFrequencies(y){return f(k.splitTerms(y))}static*splitTerms(y){const m=w=>w.toLowerCase();for(const[w]of y.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield m(w);const b=w.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(b.length>1)for(const v of b)v.length>2&&/\p{Letter}{3,}/gu.test(v)&&(yield m(v))}}updateDocuments(y){var m;for(const{key:w}of y)this.deleteDocument(w);for(const w of y){const b=[];for(const v of w.textChunks){const s=k.termFrequencies(v);for(const o of s.keys())this.chunkOccurrences.set(o,((m=this.chunkOccurrences.get(o))!==null&&m!==void 0?m:0)+1);b.push({text:v,tf:s})}this.chunkCount+=b.length,this.documents.set(w.key,{chunks:b})}return this}deleteDocument(y){const m=this.documents.get(y);if(m){this.documents.delete(y),this.chunkCount-=m.chunks.length;for(const w of m.chunks)for(const b of w.tf.keys()){const v=this.chunkOccurrences.get(b);if(typeof v=="number"){const s=v-1;s<=0?this.chunkOccurrences.delete(b):this.chunkOccurrences.set(b,s)}}}}computeSimilarityScore(y,m,w){let b=0;for(const[v,s]of Object.entries(m)){const o=y.tf.get(v);if(!o)continue;let t=w.get(v);typeof t!="number"&&(t=this.computeIdf(v),w.set(v,t));const i=o*t;b+=i*s}return b}computeEmbedding(y){const m=k.termFrequencies(y);return this.computeTfidf(m)}computeIdf(y){var m;const w=(m=this.chunkOccurrences.get(y))!==null&&m!==void 0?m:0;return w>0?Math.log((this.chunkCount+1)/w):0}computeTfidf(y){const m=Object.create(null);for(const[w,b]of y){const v=this.computeIdf(w);v>0&&(m[w]=b*v)}return m}}e.TfIdfCalculator=k;function E(I){var y,m;const w=I.slice(0);w.sort((v,s)=>s.score-v.score);const b=(m=(y=w[0])===null||y===void 0?void 0:y.score)!==null&&m!==void 0?m:0;if(b>0)for(const v of w)v.score/=b;return w}}),define(re[19],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=f,e.isObject=k,e.isTypedArray=E,e.isNumber=I,e.isIterable=y,e.isBoolean=m,e.isUndefined=w,e.isDefined=b,e.isUndefinedOrNull=v,e.assertType=s,e.assertIsDefined=o,e.isFunction=t,e.validateConstraints=i,e.validateConstraint=n;function f(c){return typeof c=="string"}function k(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&!(c instanceof RegExp)&&!(c instanceof Date)}function E(c){const u=Object.getPrototypeOf(Uint8Array);return typeof c=="object"&&c instanceof u}function I(c){return typeof c=="number"&&!isNaN(c)}function y(c){return!!c&&typeof c[Symbol.iterator]=="function"}function m(c){return c===!0||c===!1}function w(c){return typeof c>"u"}function b(c){return!v(c)}function v(c){return w(c)||c===null}function s(c,u){if(!c)throw new Error(u?`Unexpected type, expected '${u}'`:"Unexpected type")}function o(c){if(v(c))throw new Error("Assertion Failed: argument is undefined or null");return c}function t(c){return typeof c=="function"}function i(c,u){const r=Math.min(c.length,u.length);for(let a=0;a<r;a++)n(c[a],u[a])}function n(c,u){if(f(u)){if(typeof c!==u)throw new Error(`argument does not match constraint: typeof ${u}`)}else if(t(u)){try{if(c instanceof u)return}catch{}if(!v(c)&&c.constructor===u||u.length===1&&u.call(void 0,c)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}}),define(re[190],ae([1,0,19]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=E,e.getCodiconFontCharacters=I;const k=Object.create(null);function E(y,m){if((0,f.isString)(m)){const w=k[m];if(w===void 0)throw new Error(`${y} references an unknown codicon: ${m}`);m=w}return k[y]=m,{id:y}}function I(){return k}}),define(re[458],ae([1,0,190]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codiconsLibrary=void 0,e.codiconsLibrary={add:(0,f.register)("add",6e4),plus:(0,f.register)("plus",6e4),gistNew:(0,f.register)("gist-new",6e4),repoCreate:(0,f.register)("repo-create",6e4),lightbulb:(0,f.register)("lightbulb",60001),lightBulb:(0,f.register)("light-bulb",60001),repo:(0,f.register)("repo",60002),repoDelete:(0,f.register)("repo-delete",60002),gistFork:(0,f.register)("gist-fork",60003),repoForked:(0,f.register)("repo-forked",60003),gitPullRequest:(0,f.register)("git-pull-request",60004),gitPullRequestAbandoned:(0,f.register)("git-pull-request-abandoned",60004),recordKeys:(0,f.register)("record-keys",60005),keyboard:(0,f.register)("keyboard",60005),tag:(0,f.register)("tag",60006),gitPullRequestLabel:(0,f.register)("git-pull-request-label",60006),tagAdd:(0,f.register)("tag-add",60006),tagRemove:(0,f.register)("tag-remove",60006),person:(0,f.register)("person",60007),personFollow:(0,f.register)("person-follow",60007),personOutline:(0,f.register)("person-outline",60007),personFilled:(0,f.register)("person-filled",60007),gitBranch:(0,f.register)("git-branch",60008),gitBranchCreate:(0,f.register)("git-branch-create",60008),gitBranchDelete:(0,f.register)("git-branch-delete",60008),sourceControl:(0,f.register)("source-control",60008),mirror:(0,f.register)("mirror",60009),mirrorPublic:(0,f.register)("mirror-public",60009),star:(0,f.register)("star",60010),starAdd:(0,f.register)("star-add",60010),starDelete:(0,f.register)("star-delete",60010),starEmpty:(0,f.register)("star-empty",60010),comment:(0,f.register)("comment",60011),commentAdd:(0,f.register)("comment-add",60011),alert:(0,f.register)("alert",60012),warning:(0,f.register)("warning",60012),search:(0,f.register)("search",60013),searchSave:(0,f.register)("search-save",60013),logOut:(0,f.register)("log-out",60014),signOut:(0,f.register)("sign-out",60014),logIn:(0,f.register)("log-in",60015),signIn:(0,f.register)("sign-in",60015),eye:(0,f.register)("eye",60016),eyeUnwatch:(0,f.register)("eye-unwatch",60016),eyeWatch:(0,f.register)("eye-watch",60016),circleFilled:(0,f.register)("circle-filled",60017),primitiveDot:(0,f.register)("primitive-dot",60017),closeDirty:(0,f.register)("close-dirty",60017),debugBreakpoint:(0,f.register)("debug-breakpoint",60017),debugBreakpointDisabled:(0,f.register)("debug-breakpoint-disabled",60017),debugHint:(0,f.register)("debug-hint",60017),terminalDecorationSuccess:(0,f.register)("terminal-decoration-success",60017),primitiveSquare:(0,f.register)("primitive-square",60018),edit:(0,f.register)("edit",60019),pencil:(0,f.register)("pencil",60019),info:(0,f.register)("info",60020),issueOpened:(0,f.register)("issue-opened",60020),gistPrivate:(0,f.register)("gist-private",60021),gitForkPrivate:(0,f.register)("git-fork-private",60021),lock:(0,f.register)("lock",60021),mirrorPrivate:(0,f.register)("mirror-private",60021),close:(0,f.register)("close",60022),removeClose:(0,f.register)("remove-close",60022),x:(0,f.register)("x",60022),repoSync:(0,f.register)("repo-sync",60023),sync:(0,f.register)("sync",60023),clone:(0,f.register)("clone",60024),desktopDownload:(0,f.register)("desktop-download",60024),beaker:(0,f.register)("beaker",60025),microscope:(0,f.register)("microscope",60025),vm:(0,f.register)("vm",60026),deviceDesktop:(0,f.register)("device-desktop",60026),file:(0,f.register)("file",60027),fileText:(0,f.register)("file-text",60027),more:(0,f.register)("more",60028),ellipsis:(0,f.register)("ellipsis",60028),kebabHorizontal:(0,f.register)("kebab-horizontal",60028),mailReply:(0,f.register)("mail-reply",60029),reply:(0,f.register)("reply",60029),organization:(0,f.register)("organization",60030),organizationFilled:(0,f.register)("organization-filled",60030),organizationOutline:(0,f.register)("organization-outline",60030),newFile:(0,f.register)("new-file",60031),fileAdd:(0,f.register)("file-add",60031),newFolder:(0,f.register)("new-folder",60032),fileDirectoryCreate:(0,f.register)("file-directory-create",60032),trash:(0,f.register)("trash",60033),trashcan:(0,f.register)("trashcan",60033),history:(0,f.register)("history",60034),clock:(0,f.register)("clock",60034),folder:(0,f.register)("folder",60035),fileDirectory:(0,f.register)("file-directory",60035),symbolFolder:(0,f.register)("symbol-folder",60035),logoGithub:(0,f.register)("logo-github",60036),markGithub:(0,f.register)("mark-github",60036),github:(0,f.register)("github",60036),terminal:(0,f.register)("terminal",60037),console:(0,f.register)("console",60037),repl:(0,f.register)("repl",60037),zap:(0,f.register)("zap",60038),symbolEvent:(0,f.register)("symbol-event",60038),error:(0,f.register)("error",60039),stop:(0,f.register)("stop",60039),variable:(0,f.register)("variable",60040),symbolVariable:(0,f.register)("symbol-variable",60040),array:(0,f.register)("array",60042),symbolArray:(0,f.register)("symbol-array",60042),symbolModule:(0,f.register)("symbol-module",60043),symbolPackage:(0,f.register)("symbol-package",60043),symbolNamespace:(0,f.register)("symbol-namespace",60043),symbolObject:(0,f.register)("symbol-object",60043),symbolMethod:(0,f.register)("symbol-method",60044),symbolFunction:(0,f.register)("symbol-function",60044),symbolConstructor:(0,f.register)("symbol-constructor",60044),symbolBoolean:(0,f.register)("symbol-boolean",60047),symbolNull:(0,f.register)("symbol-null",60047),symbolNumeric:(0,f.register)("symbol-numeric",60048),symbolNumber:(0,f.register)("symbol-number",60048),symbolStructure:(0,f.register)("symbol-structure",60049),symbolStruct:(0,f.register)("symbol-struct",60049),symbolParameter:(0,f.register)("symbol-parameter",60050),symbolTypeParameter:(0,f.register)("symbol-type-parameter",60050),symbolKey:(0,f.register)("symbol-key",60051),symbolText:(0,f.register)("symbol-text",60051),symbolReference:(0,f.register)("symbol-reference",60052),goToFile:(0,f.register)("go-to-file",60052),symbolEnum:(0,f.register)("symbol-enum",60053),symbolValue:(0,f.register)("symbol-value",60053),symbolRuler:(0,f.register)("symbol-ruler",60054),symbolUnit:(0,f.register)("symbol-unit",60054),activateBreakpoints:(0,f.register)("activate-breakpoints",60055),archive:(0,f.register)("archive",60056),arrowBoth:(0,f.register)("arrow-both",60057),arrowDown:(0,f.register)("arrow-down",60058),arrowLeft:(0,f.register)("arrow-left",60059),arrowRight:(0,f.register)("arrow-right",60060),arrowSmallDown:(0,f.register)("arrow-small-down",60061),arrowSmallLeft:(0,f.register)("arrow-small-left",60062),arrowSmallRight:(0,f.register)("arrow-small-right",60063),arrowSmallUp:(0,f.register)("arrow-small-up",60064),arrowUp:(0,f.register)("arrow-up",60065),bell:(0,f.register)("bell",60066),bold:(0,f.register)("bold",60067),book:(0,f.register)("book",60068),bookmark:(0,f.register)("bookmark",60069),debugBreakpointConditionalUnverified:(0,f.register)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,f.register)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,f.register)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,f.register)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,f.register)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,f.register)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,f.register)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,f.register)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,f.register)("debug-breakpoint-log-disabled",60075),briefcase:(0,f.register)("briefcase",60076),broadcast:(0,f.register)("broadcast",60077),browser:(0,f.register)("browser",60078),bug:(0,f.register)("bug",60079),calendar:(0,f.register)("calendar",60080),caseSensitive:(0,f.register)("case-sensitive",60081),check:(0,f.register)("check",60082),checklist:(0,f.register)("checklist",60083),chevronDown:(0,f.register)("chevron-down",60084),chevronLeft:(0,f.register)("chevron-left",60085),chevronRight:(0,f.register)("chevron-right",60086),chevronUp:(0,f.register)("chevron-up",60087),chromeClose:(0,f.register)("chrome-close",60088),chromeMaximize:(0,f.register)("chrome-maximize",60089),chromeMinimize:(0,f.register)("chrome-minimize",60090),chromeRestore:(0,f.register)("chrome-restore",60091),circleOutline:(0,f.register)("circle-outline",60092),circle:(0,f.register)("circle",60092),debugBreakpointUnverified:(0,f.register)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,f.register)("terminal-decoration-incomplete",60092),circleSlash:(0,f.register)("circle-slash",60093),circuitBoard:(0,f.register)("circuit-board",60094),clearAll:(0,f.register)("clear-all",60095),clippy:(0,f.register)("clippy",60096),closeAll:(0,f.register)("close-all",60097),cloudDownload:(0,f.register)("cloud-download",60098),cloudUpload:(0,f.register)("cloud-upload",60099),code:(0,f.register)("code",60100),collapseAll:(0,f.register)("collapse-all",60101),colorMode:(0,f.register)("color-mode",60102),commentDiscussion:(0,f.register)("comment-discussion",60103),creditCard:(0,f.register)("credit-card",60105),dash:(0,f.register)("dash",60108),dashboard:(0,f.register)("dashboard",60109),database:(0,f.register)("database",60110),debugContinue:(0,f.register)("debug-continue",60111),debugDisconnect:(0,f.register)("debug-disconnect",60112),debugPause:(0,f.register)("debug-pause",60113),debugRestart:(0,f.register)("debug-restart",60114),debugStart:(0,f.register)("debug-start",60115),debugStepInto:(0,f.register)("debug-step-into",60116),debugStepOut:(0,f.register)("debug-step-out",60117),debugStepOver:(0,f.register)("debug-step-over",60118),debugStop:(0,f.register)("debug-stop",60119),debug:(0,f.register)("debug",60120),deviceCameraVideo:(0,f.register)("device-camera-video",60121),deviceCamera:(0,f.register)("device-camera",60122),deviceMobile:(0,f.register)("device-mobile",60123),diffAdded:(0,f.register)("diff-added",60124),diffIgnored:(0,f.register)("diff-ignored",60125),diffModified:(0,f.register)("diff-modified",60126),diffRemoved:(0,f.register)("diff-removed",60127),diffRenamed:(0,f.register)("diff-renamed",60128),diff:(0,f.register)("diff",60129),diffSidebyside:(0,f.register)("diff-sidebyside",60129),discard:(0,f.register)("discard",60130),editorLayout:(0,f.register)("editor-layout",60131),emptyWindow:(0,f.register)("empty-window",60132),exclude:(0,f.register)("exclude",60133),extensions:(0,f.register)("extensions",60134),eyeClosed:(0,f.register)("eye-closed",60135),fileBinary:(0,f.register)("file-binary",60136),fileCode:(0,f.register)("file-code",60137),fileMedia:(0,f.register)("file-media",60138),filePdf:(0,f.register)("file-pdf",60139),fileSubmodule:(0,f.register)("file-submodule",60140),fileSymlinkDirectory:(0,f.register)("file-symlink-directory",60141),fileSymlinkFile:(0,f.register)("file-symlink-file",60142),fileZip:(0,f.register)("file-zip",60143),files:(0,f.register)("files",60144),filter:(0,f.register)("filter",60145),flame:(0,f.register)("flame",60146),foldDown:(0,f.register)("fold-down",60147),foldUp:(0,f.register)("fold-up",60148),fold:(0,f.register)("fold",60149),folderActive:(0,f.register)("folder-active",60150),folderOpened:(0,f.register)("folder-opened",60151),gear:(0,f.register)("gear",60152),gift:(0,f.register)("gift",60153),gistSecret:(0,f.register)("gist-secret",60154),gist:(0,f.register)("gist",60155),gitCommit:(0,f.register)("git-commit",60156),gitCompare:(0,f.register)("git-compare",60157),compareChanges:(0,f.register)("compare-changes",60157),gitMerge:(0,f.register)("git-merge",60158),githubAction:(0,f.register)("github-action",60159),githubAlt:(0,f.register)("github-alt",60160),globe:(0,f.register)("globe",60161),grabber:(0,f.register)("grabber",60162),graph:(0,f.register)("graph",60163),gripper:(0,f.register)("gripper",60164),heart:(0,f.register)("heart",60165),home:(0,f.register)("home",60166),horizontalRule:(0,f.register)("horizontal-rule",60167),hubot:(0,f.register)("hubot",60168),inbox:(0,f.register)("inbox",60169),issueReopened:(0,f.register)("issue-reopened",60171),issues:(0,f.register)("issues",60172),italic:(0,f.register)("italic",60173),jersey:(0,f.register)("jersey",60174),json:(0,f.register)("json",60175),kebabVertical:(0,f.register)("kebab-vertical",60176),key:(0,f.register)("key",60177),law:(0,f.register)("law",60178),lightbulbAutofix:(0,f.register)("lightbulb-autofix",60179),linkExternal:(0,f.register)("link-external",60180),link:(0,f.register)("link",60181),listOrdered:(0,f.register)("list-ordered",60182),listUnordered:(0,f.register)("list-unordered",60183),liveShare:(0,f.register)("live-share",60184),loading:(0,f.register)("loading",60185),location:(0,f.register)("location",60186),mailRead:(0,f.register)("mail-read",60187),mail:(0,f.register)("mail",60188),markdown:(0,f.register)("markdown",60189),megaphone:(0,f.register)("megaphone",60190),mention:(0,f.register)("mention",60191),milestone:(0,f.register)("milestone",60192),gitPullRequestMilestone:(0,f.register)("git-pull-request-milestone",60192),mortarBoard:(0,f.register)("mortar-board",60193),move:(0,f.register)("move",60194),multipleWindows:(0,f.register)("multiple-windows",60195),mute:(0,f.register)("mute",60196),noNewline:(0,f.register)("no-newline",60197),note:(0,f.register)("note",60198),octoface:(0,f.register)("octoface",60199),openPreview:(0,f.register)("open-preview",60200),package:(0,f.register)("package",60201),paintcan:(0,f.register)("paintcan",60202),pin:(0,f.register)("pin",60203),play:(0,f.register)("play",60204),run:(0,f.register)("run",60204),plug:(0,f.register)("plug",60205),preserveCase:(0,f.register)("preserve-case",60206),preview:(0,f.register)("preview",60207),project:(0,f.register)("project",60208),pulse:(0,f.register)("pulse",60209),question:(0,f.register)("question",60210),quote:(0,f.register)("quote",60211),radioTower:(0,f.register)("radio-tower",60212),reactions:(0,f.register)("reactions",60213),references:(0,f.register)("references",60214),refresh:(0,f.register)("refresh",60215),regex:(0,f.register)("regex",60216),remoteExplorer:(0,f.register)("remote-explorer",60217),remote:(0,f.register)("remote",60218),remove:(0,f.register)("remove",60219),replaceAll:(0,f.register)("replace-all",60220),replace:(0,f.register)("replace",60221),repoClone:(0,f.register)("repo-clone",60222),repoForcePush:(0,f.register)("repo-force-push",60223),repoPull:(0,f.register)("repo-pull",60224),repoPush:(0,f.register)("repo-push",60225),report:(0,f.register)("report",60226),requestChanges:(0,f.register)("request-changes",60227),rocket:(0,f.register)("rocket",60228),rootFolderOpened:(0,f.register)("root-folder-opened",60229),rootFolder:(0,f.register)("root-folder",60230),rss:(0,f.register)("rss",60231),ruby:(0,f.register)("ruby",60232),saveAll:(0,f.register)("save-all",60233),saveAs:(0,f.register)("save-as",60234),save:(0,f.register)("save",60235),screenFull:(0,f.register)("screen-full",60236),screenNormal:(0,f.register)("screen-normal",60237),searchStop:(0,f.register)("search-stop",60238),server:(0,f.register)("server",60240),settingsGear:(0,f.register)("settings-gear",60241),settings:(0,f.register)("settings",60242),shield:(0,f.register)("shield",60243),smiley:(0,f.register)("smiley",60244),sortPrecedence:(0,f.register)("sort-precedence",60245),splitHorizontal:(0,f.register)("split-horizontal",60246),splitVertical:(0,f.register)("split-vertical",60247),squirrel:(0,f.register)("squirrel",60248),starFull:(0,f.register)("star-full",60249),starHalf:(0,f.register)("star-half",60250),symbolClass:(0,f.register)("symbol-class",60251),symbolColor:(0,f.register)("symbol-color",60252),symbolConstant:(0,f.register)("symbol-constant",60253),symbolEnumMember:(0,f.register)("symbol-enum-member",60254),symbolField:(0,f.register)("symbol-field",60255),symbolFile:(0,f.register)("symbol-file",60256),symbolInterface:(0,f.register)("symbol-interface",60257),symbolKeyword:(0,f.register)("symbol-keyword",60258),symbolMisc:(0,f.register)("symbol-misc",60259),symbolOperator:(0,f.register)("symbol-operator",60260),symbolProperty:(0,f.register)("symbol-property",60261),wrench:(0,f.register)("wrench",60261),wrenchSubaction:(0,f.register)("wrench-subaction",60261),symbolSnippet:(0,f.register)("symbol-snippet",60262),tasklist:(0,f.register)("tasklist",60263),telescope:(0,f.register)("telescope",60264),textSize:(0,f.register)("text-size",60265),threeBars:(0,f.register)("three-bars",60266),thumbsdown:(0,f.register)("thumbsdown",60267),thumbsup:(0,f.register)("thumbsup",60268),tools:(0,f.register)("tools",60269),triangleDown:(0,f.register)("triangle-down",60270),triangleLeft:(0,f.register)("triangle-left",60271),triangleRight:(0,f.register)("triangle-right",60272),triangleUp:(0,f.register)("triangle-up",60273),twitter:(0,f.register)("twitter",60274),unfold:(0,f.register)("unfold",60275),unlock:(0,f.register)("unlock",60276),unmute:(0,f.register)("unmute",60277),unverified:(0,f.register)("unverified",60278),verified:(0,f.register)("verified",60279),versions:(0,f.register)("versions",60280),vmActive:(0,f.register)("vm-active",60281),vmOutline:(0,f.register)("vm-outline",60282),vmRunning:(0,f.register)("vm-running",60283),watch:(0,f.register)("watch",60284),whitespace:(0,f.register)("whitespace",60285),wholeWord:(0,f.register)("whole-word",60286),window:(0,f.register)("window",60287),wordWrap:(0,f.register)("word-wrap",60288),zoomIn:(0,f.register)("zoom-in",60289),zoomOut:(0,f.register)("zoom-out",60290),listFilter:(0,f.register)("list-filter",60291),listFlat:(0,f.register)("list-flat",60292),listSelection:(0,f.register)("list-selection",60293),selection:(0,f.register)("selection",60293),listTree:(0,f.register)("list-tree",60294),debugBreakpointFunctionUnverified:(0,f.register)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,f.register)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,f.register)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,f.register)("debug-stackframe-active",60297),circleSmallFilled:(0,f.register)("circle-small-filled",60298),debugStackframeDot:(0,f.register)("debug-stackframe-dot",60298),terminalDecorationMark:(0,f.register)("terminal-decoration-mark",60298),debugStackframe:(0,f.register)("debug-stackframe",60299),debugStackframeFocused:(0,f.register)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,f.register)("debug-breakpoint-unsupported",60300),symbolString:(0,f.register)("symbol-string",60301),debugReverseContinue:(0,f.register)("debug-reverse-continue",60302),debugStepBack:(0,f.register)("debug-step-back",60303),debugRestartFrame:(0,f.register)("debug-restart-frame",60304),debugAlt:(0,f.register)("debug-alt",60305),callIncoming:(0,f.register)("call-incoming",60306),callOutgoing:(0,f.register)("call-outgoing",60307),menu:(0,f.register)("menu",60308),expandAll:(0,f.register)("expand-all",60309),feedback:(0,f.register)("feedback",60310),gitPullRequestReviewer:(0,f.register)("git-pull-request-reviewer",60310),groupByRefType:(0,f.register)("group-by-ref-type",60311),ungroupByRefType:(0,f.register)("ungroup-by-ref-type",60312),account:(0,f.register)("account",60313),gitPullRequestAssignee:(0,f.register)("git-pull-request-assignee",60313),bellDot:(0,f.register)("bell-dot",60314),debugConsole:(0,f.register)("debug-console",60315),library:(0,f.register)("library",60316),output:(0,f.register)("output",60317),runAll:(0,f.register)("run-all",60318),syncIgnored:(0,f.register)("sync-ignored",60319),pinned:(0,f.register)("pinned",60320),githubInverted:(0,f.register)("github-inverted",60321),serverProcess:(0,f.register)("server-process",60322),serverEnvironment:(0,f.register)("server-environment",60323),pass:(0,f.register)("pass",60324),issueClosed:(0,f.register)("issue-closed",60324),stopCircle:(0,f.register)("stop-circle",60325),playCircle:(0,f.register)("play-circle",60326),record:(0,f.register)("record",60327),debugAltSmall:(0,f.register)("debug-alt-small",60328),vmConnect:(0,f.register)("vm-connect",60329),cloud:(0,f.register)("cloud",60330),merge:(0,f.register)("merge",60331),export:(0,f.register)("export",60332),graphLeft:(0,f.register)("graph-left",60333),magnet:(0,f.register)("magnet",60334),notebook:(0,f.register)("notebook",60335),redo:(0,f.register)("redo",60336),checkAll:(0,f.register)("check-all",60337),pinnedDirty:(0,f.register)("pinned-dirty",60338),passFilled:(0,f.register)("pass-filled",60339),circleLargeFilled:(0,f.register)("circle-large-filled",60340),circleLarge:(0,f.register)("circle-large",60341),circleLargeOutline:(0,f.register)("circle-large-outline",60341),combine:(0,f.register)("combine",60342),gather:(0,f.register)("gather",60342),table:(0,f.register)("table",60343),variableGroup:(0,f.register)("variable-group",60344),typeHierarchy:(0,f.register)("type-hierarchy",60345),typeHierarchySub:(0,f.register)("type-hierarchy-sub",60346),typeHierarchySuper:(0,f.register)("type-hierarchy-super",60347),gitPullRequestCreate:(0,f.register)("git-pull-request-create",60348),runAbove:(0,f.register)("run-above",60349),runBelow:(0,f.register)("run-below",60350),notebookTemplate:(0,f.register)("notebook-template",60351),debugRerun:(0,f.register)("debug-rerun",60352),workspaceTrusted:(0,f.register)("workspace-trusted",60353),workspaceUntrusted:(0,f.register)("workspace-untrusted",60354),workspaceUnknown:(0,f.register)("workspace-unknown",60355),terminalCmd:(0,f.register)("terminal-cmd",60356),terminalDebian:(0,f.register)("terminal-debian",60357),terminalLinux:(0,f.register)("terminal-linux",60358),terminalPowershell:(0,f.register)("terminal-powershell",60359),terminalTmux:(0,f.register)("terminal-tmux",60360),terminalUbuntu:(0,f.register)("terminal-ubuntu",60361),terminalBash:(0,f.register)("terminal-bash",60362),arrowSwap:(0,f.register)("arrow-swap",60363),copy:(0,f.register)("copy",60364),personAdd:(0,f.register)("person-add",60365),filterFilled:(0,f.register)("filter-filled",60366),wand:(0,f.register)("wand",60367),debugLineByLine:(0,f.register)("debug-line-by-line",60368),inspect:(0,f.register)("inspect",60369),layers:(0,f.register)("layers",60370),layersDot:(0,f.register)("layers-dot",60371),layersActive:(0,f.register)("layers-active",60372),compass:(0,f.register)("compass",60373),compassDot:(0,f.register)("compass-dot",60374),compassActive:(0,f.register)("compass-active",60375),azure:(0,f.register)("azure",60376),issueDraft:(0,f.register)("issue-draft",60377),gitPullRequestClosed:(0,f.register)("git-pull-request-closed",60378),gitPullRequestDraft:(0,f.register)("git-pull-request-draft",60379),debugAll:(0,f.register)("debug-all",60380),debugCoverage:(0,f.register)("debug-coverage",60381),runErrors:(0,f.register)("run-errors",60382),folderLibrary:(0,f.register)("folder-library",60383),debugContinueSmall:(0,f.register)("debug-continue-small",60384),beakerStop:(0,f.register)("beaker-stop",60385),graphLine:(0,f.register)("graph-line",60386),graphScatter:(0,f.register)("graph-scatter",60387),pieChart:(0,f.register)("pie-chart",60388),bracket:(0,f.register)("bracket",60175),bracketDot:(0,f.register)("bracket-dot",60389),bracketError:(0,f.register)("bracket-error",60390),lockSmall:(0,f.register)("lock-small",60391),azureDevops:(0,f.register)("azure-devops",60392),verifiedFilled:(0,f.register)("verified-filled",60393),newline:(0,f.register)("newline",60394),layout:(0,f.register)("layout",60395),layoutActivitybarLeft:(0,f.register)("layout-activitybar-left",60396),layoutActivitybarRight:(0,f.register)("layout-activitybar-right",60397),layoutPanelLeft:(0,f.register)("layout-panel-left",60398),layoutPanelCenter:(0,f.register)("layout-panel-center",60399),layoutPanelJustify:(0,f.register)("layout-panel-justify",60400),layoutPanelRight:(0,f.register)("layout-panel-right",60401),layoutPanel:(0,f.register)("layout-panel",60402),layoutSidebarLeft:(0,f.register)("layout-sidebar-left",60403),layoutSidebarRight:(0,f.register)("layout-sidebar-right",60404),layoutStatusbar:(0,f.register)("layout-statusbar",60405),layoutMenubar:(0,f.register)("layout-menubar",60406),layoutCentered:(0,f.register)("layout-centered",60407),target:(0,f.register)("target",60408),indent:(0,f.register)("indent",60409),recordSmall:(0,f.register)("record-small",60410),errorSmall:(0,f.register)("error-small",60411),terminalDecorationError:(0,f.register)("terminal-decoration-error",60411),arrowCircleDown:(0,f.register)("arrow-circle-down",60412),arrowCircleLeft:(0,f.register)("arrow-circle-left",60413),arrowCircleRight:(0,f.register)("arrow-circle-right",60414),arrowCircleUp:(0,f.register)("arrow-circle-up",60415),layoutSidebarRightOff:(0,f.register)("layout-sidebar-right-off",60416),layoutPanelOff:(0,f.register)("layout-panel-off",60417),layoutSidebarLeftOff:(0,f.register)("layout-sidebar-left-off",60418),blank:(0,f.register)("blank",60419),heartFilled:(0,f.register)("heart-filled",60420),map:(0,f.register)("map",60421),mapHorizontal:(0,f.register)("map-horizontal",60421),foldHorizontal:(0,f.register)("fold-horizontal",60421),mapFilled:(0,f.register)("map-filled",60422),mapHorizontalFilled:(0,f.register)("map-horizontal-filled",60422),foldHorizontalFilled:(0,f.register)("fold-horizontal-filled",60422),circleSmall:(0,f.register)("circle-small",60423),bellSlash:(0,f.register)("bell-slash",60424),bellSlashDot:(0,f.register)("bell-slash-dot",60425),commentUnresolved:(0,f.register)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,f.register)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,f.register)("git-pull-request-new-changes",60428),searchFuzzy:(0,f.register)("search-fuzzy",60429),commentDraft:(0,f.register)("comment-draft",60430),send:(0,f.register)("send",60431),sparkle:(0,f.register)("sparkle",60432),insert:(0,f.register)("insert",60433),mic:(0,f.register)("mic",60434),thumbsdownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsupFilled:(0,f.register)("thumbsup-filled",60436),coffee:(0,f.register)("coffee",60437),snake:(0,f.register)("snake",60438),game:(0,f.register)("game",60439),vr:(0,f.register)("vr",60440),chip:(0,f.register)("chip",60441),piano:(0,f.register)("piano",60442),music:(0,f.register)("music",60443),micFilled:(0,f.register)("mic-filled",60444),repoFetch:(0,f.register)("repo-fetch",60445),copilot:(0,f.register)("copilot",60446),lightbulbSparkle:(0,f.register)("lightbulb-sparkle",60447),robot:(0,f.register)("robot",60448),sparkleFilled:(0,f.register)("sparkle-filled",60449),diffSingle:(0,f.register)("diff-single",60450),diffMultiple:(0,f.register)("diff-multiple",60451),surroundWith:(0,f.register)("surround-with",60452),share:(0,f.register)("share",60453),gitStash:(0,f.register)("git-stash",60454),gitStashApply:(0,f.register)("git-stash-apply",60455),gitStashPop:(0,f.register)("git-stash-pop",60456),vscode:(0,f.register)("vscode",60457),vscodeInsiders:(0,f.register)("vscode-insiders",60458),codeOss:(0,f.register)("code-oss",60459),runCoverage:(0,f.register)("run-coverage",60460),runAllCoverage:(0,f.register)("run-all-coverage",60461),coverage:(0,f.register)("coverage",60462),githubProject:(0,f.register)("github-project",60463),mapVertical:(0,f.register)("map-vertical",60464),foldVertical:(0,f.register)("fold-vertical",60464),mapVerticalFilled:(0,f.register)("map-vertical-filled",60465),foldVerticalFilled:(0,f.register)("fold-vertical-filled",60465),goToSearch:(0,f.register)("go-to-search",60466),percentage:(0,f.register)("percentage",60467),sortPercentage:(0,f.register)("sort-percentage",60467),attach:(0,f.register)("attach",60468)}}),define(re[26],ae([1,0,190,458]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.codiconsDerived=void 0,e.codiconsDerived={dialogError:(0,f.register)("dialog-error","error"),dialogWarning:(0,f.register)("dialog-warning","warning"),dialogInfo:(0,f.register)("dialog-info","info"),dialogClose:(0,f.register)("dialog-close","close"),treeItemExpanded:(0,f.register)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,f.register)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,f.register)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,f.register)("tree-filter-clear","close"),treeItemLoading:(0,f.register)("tree-item-loading","loading"),menuSelection:(0,f.register)("menu-selection","check"),menuSubmenu:(0,f.register)("menu-submenu","chevron-right"),menuBarMore:(0,f.register)("menubar-more","more"),scrollbarButtonLeft:(0,f.register)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,f.register)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,f.register)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,f.register)("scrollbar-button-down","triangle-down"),toolBarMore:(0,f.register)("toolbar-more","more"),quickInputBack:(0,f.register)("quick-input-back","arrow-left"),dropDownButton:(0,f.register)("drop-down-button",60084),symbolCustomColor:(0,f.register)("symbol-customcolor",60252),exportIcon:(0,f.register)("export",60332),workspaceUnspecified:(0,f.register)("workspace-unspecified",60355),newLine:(0,f.register)("newline",60394),thumbsDownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsUpFilled:(0,f.register)("thumbsup-filled",60436),gitFetch:(0,f.register)("git-fetch",60445),lightbulbSparkleAutofix:(0,f.register)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,f.register)("debug-breakpoint-pending",60377)},e.Codicon={...k.codiconsLibrary,...e.codiconsDerived}}),define(re[54],ae([1,0,19]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=k,e.deepFreeze=E,e.cloneAndChange=y,e.mixin=w,e.equals=b,e.getAllPropertyNames=v,e.getAllMethodNames=s,e.createProxyObject=o;function k(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;const i=Array.isArray(t)?[]:{};return Object.entries(t).forEach(([n,c])=>{i[n]=c&&typeof c=="object"?k(c):c}),i}function E(t){if(!t||typeof t!="object")return t;const i=[t];for(;i.length>0;){const n=i.shift();Object.freeze(n);for(const c in n)if(I.call(n,c)){const u=n[c];typeof u=="object"&&!Object.isFrozen(u)&&!(0,f.isTypedArray)(u)&&i.push(u)}}return t}const I=Object.prototype.hasOwnProperty;function y(t,i){return m(t,i,new Set)}function m(t,i,n){if((0,f.isUndefinedOrNull)(t))return t;const c=i(t);if(typeof c<"u")return c;if(Array.isArray(t)){const u=[];for(const r of t)u.push(m(r,i,n));return u}if((0,f.isObject)(t)){if(n.has(t))throw new Error("Cannot clone recursive data-structure");n.add(t);const u={};for(const r in t)I.call(t,r)&&(u[r]=m(t[r],i,n));return n.delete(t),u}return t}function w(t,i,n=!0){return(0,f.isObject)(t)?((0,f.isObject)(i)&&Object.keys(i).forEach(c=>{c in t?n&&((0,f.isObject)(t[c])&&(0,f.isObject)(i[c])?w(t[c],i[c],n):t[c]=i[c]):t[c]=i[c]}),t):i}function b(t,i){if(t===i)return!0;if(t==null||i===null||i===void 0||typeof t!=typeof i||typeof t!="object"||Array.isArray(t)!==Array.isArray(i))return!1;let n,c;if(Array.isArray(t)){if(t.length!==i.length)return!1;for(n=0;n<t.length;n++)if(!b(t[n],i[n]))return!1}else{const u=[];for(c in t)u.push(c);u.sort();const r=[];for(c in i)r.push(c);if(r.sort(),!b(u,r))return!1;for(n=0;n<u.length;n++)if(!b(t[u[n]],i[u[n]]))return!1}return!0}function v(t){let i=[];for(;Object.prototype!==t;)i=i.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return i}function s(t){const i=[];for(const n of v(t))typeof t[n]=="function"&&i.push(n);return i}function o(t,i){const n=u=>function(){const r=Array.prototype.slice.call(arguments,0);return i(u,r)},c={};for(const u of t)c[u]=n(u);return c}}),define(re[30],ae([1,0,26]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(I){function y(m){return m&&typeof m=="object"&&typeof m.id=="string"}I.isThemeColor=y})(k||(e.ThemeColor=k={}));var E;(function(I){I.iconNameSegment="[A-Za-z0-9]+",I.iconNameExpression="[A-Za-z0-9-]+",I.iconModifierExpression="~[A-Za-z]+",I.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${I.iconNameExpression})(${I.iconModifierExpression})?$`);function m(u){const r=y.exec(u.id);if(!r)return m(f.Codicon.error);const[,a,l]=r,d=["codicon","codicon-"+a];return l&&d.push("codicon-modifier-"+l.substring(1)),d}I.asClassNameArray=m;function w(u){return m(u).join(" ")}I.asClassName=w;function b(u){return"."+m(u).join(".")}I.asCSSSelector=b;function v(u){return u&&typeof u=="object"&&typeof u.id=="string"&&(typeof u.color>"u"||k.isThemeColor(u.color))}I.isThemeIcon=v;const s=new RegExp(`^\\$\\((${I.iconNameExpression}(?:${I.iconModifierExpression})?)\\)$`);function o(u){const r=s.exec(u);if(!r)return;const[,a]=r;return{id:a}}I.fromString=o;function t(u){return{id:u}}I.fromId=t;function i(u,r){let a=u.id;const l=a.lastIndexOf("~");return l!==-1&&(a=a.substring(0,l)),r&&(a=`${a}~${r}`),{id:a}}I.modify=i;function n(u){const r=u.id.lastIndexOf("~");if(r!==-1)return u.id.substring(r+1)}I.getModifier=n;function c(u,r){var a,l;return u.id===r.id&&((a=u.color)===null||a===void 0?void 0:a.id)===((l=r.color)===null||l===void 0?void 0:l.id)}I.isEqual=c})(E||(e.ThemeIcon=E={}))}),define(re[139],ae([1,0,83,11,30]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeIcons=w,e.markdownEscapeEscapedIcons=v,e.stripIcons=o,e.getCodiconAriaLabel=t,e.parseLabelWithIcons=n,e.matchesFuzzyIconAware=c;const I="$(",y=new RegExp(`\\$\\(${E.ThemeIcon.iconNameExpression}(?:${E.ThemeIcon.iconModifierExpression})?\\)`,"g"),m=new RegExp(`(\\\\)?${y.source}`,"g");function w(u){return u.replace(m,(r,a)=>a?r:`\\${r}`)}const b=new RegExp(`\\\\${y.source}`,"g");function v(u){return u.replace(b,r=>`\\${r}`)}const s=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function o(u){return u.indexOf(I)===-1?u:u.replace(s,(r,a,l,d)=>l?r:a||d||"")}function t(u){return u?u.replace(/\$\((.*?)\)/g,(r,a)=>` ${a} `).trim():""}const i=new RegExp(`\\$\\(${E.ThemeIcon.iconNameCharacter}+\\)`,"g");function n(u){i.lastIndex=0;let r="";const a=[];let l=0;for(;;){const d=i.lastIndex,p=i.exec(u),h=u.substring(d,p?.index);if(h.length>0){r+=h;for(let g=0;g<h.length;g++)a.push(l)}if(!p)break;l+=p[0].length}return{text:r,iconOffsets:a}}function c(u,r,a=!1){const{text:l,iconOffsets:d}=r;if(!d||d.length===0)return(0,f.matchesFuzzy)(u,l,a);const p=(0,k.ltrim)(l," "),h=l.length-p.length,g=(0,f.matchesFuzzy)(u,p,a);if(g)for(const C of g){const S=d[C.start+h]+h;C.start+=S,C.end+=S}return g}}),define(re[191],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint8=f,e.toUint32=k;function f(E){return E<0?0:E>255?255:E|0}function k(E){return E<0?0:E>4294967295?4294967295:E|0}}),define(re[22],ae([1,0,99,16]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URI=void 0,e.uriToFsPath=a;const E=/^\w[\w\d+.-]*$/,I=/^\//,y=/^\/\//;function m(g,C){if(!g.scheme&&C)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${g.authority}", path: "${g.path}", query: "${g.query}", fragment: "${g.fragment}"}`);if(g.scheme&&!E.test(g.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(g.path){if(g.authority){if(!I.test(g.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(g.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function w(g,C){return!g&&!C?"file":g}function b(g,C){switch(g){case"https":case"http":case"file":C?C[0]!==s&&(C=s+C):C=s;break}return C}const v="",s="/",o=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class t{static isUri(C){return C instanceof t?!0:C?typeof C.authority=="string"&&typeof C.fragment=="string"&&typeof C.path=="string"&&typeof C.query=="string"&&typeof C.scheme=="string"&&typeof C.fsPath=="string"&&typeof C.with=="function"&&typeof C.toString=="function":!1}constructor(C,S,_,L,D,T=!1){typeof C=="object"?(this.scheme=C.scheme||v,this.authority=C.authority||v,this.path=C.path||v,this.query=C.query||v,this.fragment=C.fragment||v):(this.scheme=w(C,T),this.authority=S||v,this.path=b(this.scheme,_||v),this.query=L||v,this.fragment=D||v,m(this,T))}get fsPath(){return a(this,!1)}with(C){if(!C)return this;let{scheme:S,authority:_,path:L,query:D,fragment:T}=C;return S===void 0?S=this.scheme:S===null&&(S=v),_===void 0?_=this.authority:_===null&&(_=v),L===void 0?L=this.path:L===null&&(L=v),D===void 0?D=this.query:D===null&&(D=v),T===void 0?T=this.fragment:T===null&&(T=v),S===this.scheme&&_===this.authority&&L===this.path&&D===this.query&&T===this.fragment?this:new n(S,_,L,D,T)}static parse(C,S=!1){const _=o.exec(C);return _?new n(_[2]||v,h(_[4]||v),h(_[5]||v),h(_[7]||v),h(_[9]||v),S):new n(v,v,v,v,v)}static file(C){let S=v;if(k.isWindows&&(C=C.replace(/\\/g,s)),C[0]===s&&C[1]===s){const _=C.indexOf(s,2);_===-1?(S=C.substring(2),C=s):(S=C.substring(2,_),C=C.substring(_)||s)}return new n("file",S,C,v,v)}static from(C,S){return new n(C.scheme,C.authority,C.path,C.query,C.fragment,S)}static joinPath(C,...S){if(!C.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let _;return k.isWindows&&C.scheme==="file"?_=t.file(f.win32.join(a(C,!0),...S)).path:_=f.posix.join(C.path,...S),C.with({path:_})}toString(C=!1){return l(this,C)}toJSON(){return this}static revive(C){var S,_;if(C){if(C instanceof t)return C;{const L=new n(C);return L._formatted=(S=C.external)!==null&&S!==void 0?S:null,L._fsPath=C._sep===i&&(_=C.fsPath)!==null&&_!==void 0?_:null,L}}else return C}}e.URI=t;const i=k.isWindows?1:void 0;class n extends t{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=a(this,!1)),this._fsPath}toString(C=!1){return C?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const C={$mid:1};return this._fsPath&&(C.fsPath=this._fsPath,C._sep=i),this._formatted&&(C.external=this._formatted),this.path&&(C.path=this.path),this.scheme&&(C.scheme=this.scheme),this.authority&&(C.authority=this.authority),this.query&&(C.query=this.query),this.fragment&&(C.fragment=this.fragment),C}}const c={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function u(g,C,S){let _,L=-1;for(let D=0;D<g.length;D++){const T=g.charCodeAt(D);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||C&&T===47||S&&T===91||S&&T===93||S&&T===58)L!==-1&&(_+=encodeURIComponent(g.substring(L,D)),L=-1),_!==void 0&&(_+=g.charAt(D));else{_===void 0&&(_=g.substr(0,D));const N=c[T];N!==void 0?(L!==-1&&(_+=encodeURIComponent(g.substring(L,D)),L=-1),_+=N):L===-1&&(L=D)}}return L!==-1&&(_+=encodeURIComponent(g.substring(L))),_!==void 0?_:g}function r(g){let C;for(let S=0;S<g.length;S++){const _=g.charCodeAt(S);_===35||_===63?(C===void 0&&(C=g.substr(0,S)),C+=c[_]):C!==void 0&&(C+=g[S])}return C!==void 0?C:g}function a(g,C){let S;return g.authority&&g.path.length>1&&g.scheme==="file"?S=`//${g.authority}${g.path}`:g.path.charCodeAt(0)===47&&(g.path.charCodeAt(1)>=65&&g.path.charCodeAt(1)<=90||g.path.charCodeAt(1)>=97&&g.path.charCodeAt(1)<=122)&&g.path.charCodeAt(2)===58?C?S=g.path.substr(1):S=g.path[1].toLowerCase()+g.path.substr(2):S=g.path,k.isWindows&&(S=S.replace(/\//g,"\\")),S}function l(g,C){const S=C?r:u;let _="",{scheme:L,authority:D,path:T,query:N,fragment:A}=g;if(L&&(_+=L,_+=":"),(D||L==="file")&&(_+=s,_+=s),D){let R=D.indexOf("@");if(R!==-1){const M=D.substr(0,R);D=D.substr(R+1),R=M.lastIndexOf(":"),R===-1?_+=S(M,!1,!1):(_+=S(M.substr(0,R),!1,!1),_+=":",_+=S(M.substr(R+1),!1,!0)),_+="@"}D=D.toLowerCase(),R=D.lastIndexOf(":"),R===-1?_+=S(D,!1,!0):(_+=S(D.substr(0,R),!1,!0),_+=D.substr(R))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const R=T.charCodeAt(1);R>=65&&R<=90&&(T=`/${String.fromCharCode(R+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const R=T.charCodeAt(0);R>=65&&R<=90&&(T=`${String.fromCharCode(R+32)}:${T.substr(2)}`)}_+=S(T,!0,!1)}return N&&(_+="?",_+=S(N,!1,!1)),A&&(_+="#",_+=C?A:u(A,!1,!1)),_}function d(g){try{return decodeURIComponent(g)}catch{return g.length>3?g.substr(0,3)+d(g.substr(3)):g}}const p=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function h(g){return g.match(p)?g.replace(p,C=>d(C)):g}}),define(re[228],ae([1,0,156,22]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=E,e.parse=I,e.revive=m;function E(w){return JSON.stringify(w,y)}function I(w){let b=JSON.parse(w);return b=m(b),b}function y(w,b){return b instanceof RegExp?{$mid:2,source:b.source,flags:b.flags}:b}function m(w,b=0){if(!w||b>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return k.URI.revive(w);case 2:return new RegExp(w.source,w.flags);case 17:return new Date(w.source)}if(w instanceof f.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let v=0;v<w.length;++v)w[v]=m(w[v],b+1);else for(const v in w)Object.hasOwnProperty.call(w,v)&&(w[v]=m(w[v],b+1))}return w}}),define(re[46],ae([1,0,8,16,11,22,99]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.VSCODE_AUTHORITY=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0,e.matchesScheme=w,e.matchesSomeScheme=b;var m;(function(t){t.inMemory="inmemory",t.vscode="vscode",t.internal="private",t.walkThrough="walkThrough",t.walkThroughSnippet="walkThroughSnippet",t.http="http",t.https="https",t.file="file",t.mailto="mailto",t.untitled="untitled",t.data="data",t.command="command",t.vscodeRemote="vscode-remote",t.vscodeRemoteResource="vscode-remote-resource",t.vscodeManagedRemoteResource="vscode-managed-remote-resource",t.vscodeUserData="vscode-userdata",t.vscodeCustomEditor="vscode-custom-editor",t.vscodeNotebookCell="vscode-notebook-cell",t.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",t.vscodeNotebookCellOutput="vscode-notebook-cell-output",t.vscodeInteractiveInput="vscode-interactive-input",t.vscodeSettings="vscode-settings",t.vscodeWorkspaceTrust="vscode-workspace-trust",t.vscodeTerminal="vscode-terminal",t.vscodeChatCodeBlock="vscode-chat-code-block",t.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",t.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",t.vscodeChatSesssion="vscode-chat-editor",t.webviewPanel="webview-panel",t.vscodeWebview="vscode-webview",t.extension="extension",t.vscodeFileResource="vscode-file",t.tmp="tmp",t.vsls="vsls",t.vscodeSourceControl="vscode-scm",t.commentsInput="comment",t.codeSetting="code-setting"})(m||(e.Schemas=m={}));function w(t,i){return I.URI.isUri(t)?(0,E.equalsIgnoreCase)(t.scheme,i):(0,E.startsWithIgnoreCase)(t,i+":")}function b(t,...i){return i.some(n=>w(t,n))}e.connectionTokenQueryName="tkn";class v{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(i){this._preferredWebSchema=i}get _remoteResourcesPath(){return y.posix.join(this._serverRootPath,m.vscodeRemoteResource)}rewrite(i){if(this._delegate)try{return this._delegate(i)}catch(l){return f.onUnexpectedError(l),i}const n=i.authority;let c=this._hosts[n];c&&c.indexOf(":")!==-1&&c.indexOf("[")===-1&&(c=`[${c}]`);const u=this._ports[n],r=this._connectionTokens[n];let a=`path=${encodeURIComponent(i.path)}`;return typeof r=="string"&&(a+=`&${e.connectionTokenQueryName}=${encodeURIComponent(r)}`),I.URI.from({scheme:k.isWeb?this._preferredWebSchema:m.vscodeRemoteResource,authority:`${c}:${u}`,path:this._remoteResourcesPath,query:a})}}e.RemoteAuthorities=new v,e.VSCODE_AUTHORITY="vscode-app";class s{uriToBrowserUri(i){return i.scheme===m.vscodeRemote?e.RemoteAuthorities.rewrite(i):i.scheme===m.file&&(k.isNative||k.webWorkerOrigin===`${m.vscodeFileResource}://${s.FALLBACK_AUTHORITY}`)?i.with({scheme:m.vscodeFileResource,authority:i.authority||s.FALLBACK_AUTHORITY,query:null,fragment:null}):i}}s.FALLBACK_AUTHORITY=e.VSCODE_AUTHORITY,e.FileAccess=new s;var o;(function(t){const i=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);t.CoopAndCoep=Object.freeze(i.get("3"));const n="vscode-coi";function c(r){let a;typeof r=="string"?a=new URL(r).searchParams:r instanceof URL?a=r.searchParams:I.URI.isUri(r)&&(a=new URL(r.toString(!0)).searchParams);const l=a?.get(n);if(l)return i.get(l)}t.getHeadersFromQuery=c;function u(r,a,l){if(!globalThis.crossOriginIsolated)return;const d=a&&l?"3":l?"2":"1";r instanceof URLSearchParams?r.set(n,d):r[n]=d}t.addSearchParam=u})(o||(e.COI=o={}))}),define(re[4],ae([1,0,65,222,45,73,14,8,6,304,2,46,16,127,52]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.Namespace=e.EventHelper=e.EventType=e.sharedMutationObserver=e.Dimension=e.WindowIntervalTimer=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.WindowIdleValue=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.onDidUnregisterWindow=e.onWillUnregisterWindow=e.onDidRegisterWindow=e.hasWindow=e.getWindowById=e.getWindowId=e.getWindowsCount=e.getWindows=e.getDocument=e.getWindow=e.registerWindow=void 0,e.clearNode=c,e.addDisposableListener=r,e.addDisposableGenericMouseDownListener=g,e.addDisposableGenericMouseUpListener=C,e.runWhenWindowIdle=S,e.getComputedStyle=T,e.getClientArea=N,e.getTopLeftOffset=M,e.size=P,e.getDomNodePagePosition=x,e.getDomNodeZoomLevel=O,e.getTotalWidth=B,e.getContentWidth=H,e.getContentHeight=K,e.getTotalHeight=V,e.isAncestor=j,e.findParentWithClass=U,e.hasParentWithClass=Y,e.isShadowRoot=Q,e.isInShadowDOM=Z,e.getShadowRoot=G,e.getActiveElement=F,e.isActiveElement=J,e.isAncestorOfActiveElement=te,e.getActiveDocument=de,e.getActiveWindow=he,e.createStyleSheet2=ue,e.createStyleSheet=se,e.createCSSRule=$,e.removeCSSRulesContainingSelector=X,e.isHTMLElement=oe,e.isHTMLAnchorElement=ce,e.isMouseEvent=fe,e.isKeyboardEvent=ve,e.isEventLike=_e,e.saveParentsScrollTop=Ie,e.restoreParentsScrollTop=Ce,e.trackFocus=Le,e.after=Te,e.append=Ae,e.prepend=Pe,e.reset=Re,e.$=me,e.setVisibility=we,e.show=Fe,e.hide=xe,e.computeScreenAwareSize=je,e.windowOpenNoOpener=Ze,e.animate=Ye,e.asCSSUrl=tt,e.asCSSPropertyValue=nt,e.asCssValueWithDefault=dt,e.hookDomPurifyHrefAndSrcSanitizer=ct,e.h=Lt,e.svgElem=ut,n=function(){const Se=new Map;(0,i.ensureCodeWindow)(i.mainWindow,1);const be={window:i.mainWindow,disposables:new v.DisposableStore};Se.set(i.mainWindow.vscodeWindowId,be);const ye=new w.Emitter,Me=new w.Emitter,Be=new w.Emitter;function Ue(He,Ke){const Ge=typeof He=="number"?Se.get(He):void 0;return Ge??(Ke?be:void 0)}return{onDidRegisterWindow:ye.event,onWillUnregisterWindow:Be.event,onDidUnregisterWindow:Me.event,registerWindow(He){if(Se.has(He.vscodeWindowId))return v.Disposable.None;const Ke=new v.DisposableStore,Ge={window:He,disposables:Ke.add(new v.DisposableStore)};return Se.set(He.vscodeWindowId,Ge),Ke.add((0,v.toDisposable)(()=>{Se.delete(He.vscodeWindowId),Me.fire(He)})),Ke.add(r(He,e.EventType.BEFORE_UNLOAD,()=>{Be.fire(He)})),ye.fire(Ge),Ke},getWindows(){return Se.values()},getWindowsCount(){return Se.size},getWindowId(He){return He.vscodeWindowId},hasWindow(He){return Se.has(He)},getWindowById:Ue,getWindow(He){var Ke;const Ge=He;if(!((Ke=Ge?.ownerDocument)===null||Ke===void 0)&&Ke.defaultView)return Ge.ownerDocument.defaultView.window;const ze=He;return ze?.view?ze.view.window:i.mainWindow},getDocument(He){const Ke=He;return(0,e.getWindow)(Ke).document}}}(),e.registerWindow=n.registerWindow,e.getWindow=n.getWindow,e.getDocument=n.getDocument,e.getWindows=n.getWindows,e.getWindowsCount=n.getWindowsCount,e.getWindowId=n.getWindowId,e.getWindowById=n.getWindowById,e.hasWindow=n.hasWindow,e.onDidRegisterWindow=n.onDidRegisterWindow,e.onWillUnregisterWindow=n.onWillUnregisterWindow,e.onDidUnregisterWindow=n.onDidUnregisterWindow;function c(Se){for(;Se.firstChild;)Se.firstChild.remove()}class u{constructor(be,ye,Me,Be){this._node=be,this._type=ye,this._handler=Me,this._options=Be||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(Se,be,ye,Me){return new u(Se,be,ye,Me)}function a(Se,be){return function(ye){return be(new I.StandardMouseEvent(Se,ye))}}function l(Se){return function(be){return Se(new E.StandardKeyboardEvent(be))}}const d=function(be,ye,Me,Be){let Ue=Me;return ye==="click"||ye==="mousedown"||ye==="contextmenu"?Ue=a((0,e.getWindow)(be),Me):(ye==="keydown"||ye==="keypress"||ye==="keyup")&&(Ue=l(Me)),r(be,ye,Ue,Be)};e.addStandardDisposableListener=d;const p=function(be,ye,Me){const Be=a((0,e.getWindow)(be),ye);return g(be,Be,Me)};e.addStandardDisposableGenericMouseDownListener=p;const h=function(be,ye,Me){const Be=a((0,e.getWindow)(be),ye);return C(be,Be,Me)};e.addStandardDisposableGenericMouseUpListener=h;function g(Se,be,ye){return r(Se,o.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,be,ye)}function C(Se,be,ye){return r(Se,o.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,be,ye)}function S(Se,be,ye){return(0,y._runWhenIdle)(Se,be,ye)}class _ extends y.AbstractIdleValue{constructor(be,ye){super(be,ye)}}e.WindowIdleValue=_;class L extends y.IntervalTimer{constructor(be){super(),this.defaultTarget=be&&(0,e.getWindow)(be)}cancelAndSet(be,ye,Me){return super.cancelAndSet(be,ye,Me??this.defaultTarget)}}e.WindowIntervalTimer=L;class D{constructor(be,ye=0){this._runner=be,this.priority=ye,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(be){(0,m.onUnexpectedError)(be)}}static sort(be,ye){return ye.priority-be.priority}}(function(){const Se=new Map,be=new Map,ye=new Map,Me=new Map,Be=Ue=>{var He;ye.set(Ue,!1);const Ke=(He=Se.get(Ue))!==null&&He!==void 0?He:[];for(be.set(Ue,Ke),Se.set(Ue,[]),Me.set(Ue,!0);Ke.length>0;)Ke.sort(D.sort),Ke.shift().execute();Me.set(Ue,!1)};e.scheduleAtNextAnimationFrame=(Ue,He,Ke=0)=>{const Ge=(0,e.getWindowId)(Ue),ze=new D(He,Ke);let Oe=Se.get(Ge);return Oe||(Oe=[],Se.set(Ge,Oe)),Oe.push(ze),ye.get(Ge)||(ye.set(Ge,!0),Ue.requestAnimationFrame(()=>Be(Ge))),ze},e.runAtThisOrScheduleAtNextAnimationFrame=(Ue,He,Ke)=>{const Ge=(0,e.getWindowId)(Ue);if(Me.get(Ge)){const ze=new D(He,Ke);let Oe=be.get(Ge);return Oe||(Oe=[],be.set(Ge,Oe)),Oe.push(ze),ze}else return(0,e.scheduleAtNextAnimationFrame)(Ue,He,Ke)}})();function T(Se){return(0,e.getWindow)(Se).getComputedStyle(Se,null)}function N(Se,be){const ye=(0,e.getWindow)(Se),Me=ye.document;if(Se!==Me.body)return new R(Se.clientWidth,Se.clientHeight);if(o.isIOS&&ye?.visualViewport)return new R(ye.visualViewport.width,ye.visualViewport.height);if(ye?.innerWidth&&ye.innerHeight)return new R(ye.innerWidth,ye.innerHeight);if(Me.body&&Me.body.clientWidth&&Me.body.clientHeight)return new R(Me.body.clientWidth,Me.body.clientHeight);if(Me.documentElement&&Me.documentElement.clientWidth&&Me.documentElement.clientHeight)return new R(Me.documentElement.clientWidth,Me.documentElement.clientHeight);if(be)return N(be);throw new Error("Unable to figure out browser width and height")}class A{static convertToPixels(be,ye){return parseFloat(ye)||0}static getDimension(be,ye,Me){const Be=T(be),Ue=Be?Be.getPropertyValue(ye):"0";return A.convertToPixels(be,Ue)}static getBorderLeftWidth(be){return A.getDimension(be,"border-left-width","borderLeftWidth")}static getBorderRightWidth(be){return A.getDimension(be,"border-right-width","borderRightWidth")}static getBorderTopWidth(be){return A.getDimension(be,"border-top-width","borderTopWidth")}static getBorderBottomWidth(be){return A.getDimension(be,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(be){return A.getDimension(be,"padding-left","paddingLeft")}static getPaddingRight(be){return A.getDimension(be,"padding-right","paddingRight")}static getPaddingTop(be){return A.getDimension(be,"padding-top","paddingTop")}static getPaddingBottom(be){return A.getDimension(be,"padding-bottom","paddingBottom")}static getMarginLeft(be){return A.getDimension(be,"margin-left","marginLeft")}static getMarginTop(be){return A.getDimension(be,"margin-top","marginTop")}static getMarginRight(be){return A.getDimension(be,"margin-right","marginRight")}static getMarginBottom(be){return A.getDimension(be,"margin-bottom","marginBottom")}}class R{constructor(be,ye){this.width=be,this.height=ye}with(be=this.width,ye=this.height){return be!==this.width||ye!==this.height?new R(be,ye):this}static is(be){return typeof be=="object"&&typeof be.height=="number"&&typeof be.width=="number"}static lift(be){return be instanceof R?be:new R(be.width,be.height)}static equals(be,ye){return be===ye?!0:!be||!ye?!1:be.width===ye.width&&be.height===ye.height}}e.Dimension=R,R.None=new R(0,0);function M(Se){let be=Se.offsetParent,ye=Se.offsetTop,Me=Se.offsetLeft;for(;(Se=Se.parentNode)!==null&&Se!==Se.ownerDocument.body&&Se!==Se.ownerDocument.documentElement;){ye-=Se.scrollTop;const Be=Q(Se)?null:T(Se);Be&&(Me-=Be.direction!=="rtl"?Se.scrollLeft:-Se.scrollLeft),Se===be&&(Me+=A.getBorderLeftWidth(Se),ye+=A.getBorderTopWidth(Se),ye+=Se.offsetTop,Me+=Se.offsetLeft,be=Se.offsetParent)}return{left:Me,top:ye}}function P(Se,be,ye){typeof be=="number"&&(Se.style.width=`${be}px`),typeof ye=="number"&&(Se.style.height=`${ye}px`)}function x(Se){const be=Se.getBoundingClientRect(),ye=(0,e.getWindow)(Se);return{left:be.left+ye.scrollX,top:be.top+ye.scrollY,width:be.width,height:be.height}}function O(Se){let be=Se,ye=1;do{const Me=T(be).zoom;Me!=null&&Me!=="1"&&(ye*=Me),be=be.parentElement}while(be!==null&&be!==be.ownerDocument.documentElement);return ye}function B(Se){const be=A.getMarginLeft(Se)+A.getMarginRight(Se);return Se.offsetWidth+be}function H(Se){const be=A.getBorderLeftWidth(Se)+A.getBorderRightWidth(Se),ye=A.getPaddingLeft(Se)+A.getPaddingRight(Se);return Se.offsetWidth-be-ye}function K(Se){const be=A.getBorderTopWidth(Se)+A.getBorderBottomWidth(Se),ye=A.getPaddingTop(Se)+A.getPaddingBottom(Se);return Se.offsetHeight-be-ye}function V(Se){const be=A.getMarginTop(Se)+A.getMarginBottom(Se);return Se.offsetHeight+be}function j(Se,be){return!!be?.contains(Se)}function U(Se,be,ye){for(;Se&&Se.nodeType===Se.ELEMENT_NODE;){if(Se.classList.contains(be))return Se;if(ye){if(typeof ye=="string"){if(Se.classList.contains(ye))return null}else if(Se===ye)return null}Se=Se.parentNode}return null}function Y(Se,be,ye){return!!U(Se,be,ye)}function Q(Se){return Se&&!!Se.host&&!!Se.mode}function Z(Se){return!!G(Se)}function G(Se){for(var be;Se.parentNode;){if(Se===((be=Se.ownerDocument)===null||be===void 0?void 0:be.body))return null;Se=Se.parentNode}return Q(Se)?Se:null}function F(){let Se=de().activeElement;for(;Se?.shadowRoot;)Se=Se.shadowRoot.activeElement;return Se}function J(Se){return F()===Se}function te(Se){return j(F(),Se)}function de(){var Se;return(0,e.getWindowsCount)()<=1?i.mainWindow.document:(Se=Array.from((0,e.getWindows)()).map(({window:ye})=>ye.document).find(ye=>ye.hasFocus()))!==null&&Se!==void 0?Se:i.mainWindow.document}function he(){var Se,be;return(be=(Se=de().defaultView)===null||Se===void 0?void 0:Se.window)!==null&&be!==void 0?be:i.mainWindow}const pe=new Map;function ue(){return new ie}class ie{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(be){be!==this._currentCssStyle&&(this._currentCssStyle=be,this._styleSheet?this._styleSheet.innerText=be:this._styleSheet=se(i.mainWindow.document.head,ye=>ye.innerText=be))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function se(Se=i.mainWindow.document.head,be,ye){const Me=document.createElement("style");if(Me.type="text/css",Me.media="screen",be?.(Me),Se.appendChild(Me),ye&&ye.add((0,v.toDisposable)(()=>Me.remove())),Se===i.mainWindow.document.head){const Be=new Set;pe.set(Me,Be);for(const{window:Ue,disposables:He}of(0,e.getWindows)()){if(Ue===i.mainWindow)continue;const Ke=He.add(ne(Me,Be,Ue));ye?.add(Ke)}}return Me}function ne(Se,be,ye){var Me,Be;const Ue=new v.DisposableStore,He=Se.cloneNode(!0);ye.document.head.appendChild(He),Ue.add((0,v.toDisposable)(()=>He.remove()));for(const Ke of z(Se))(Me=He.sheet)===null||Me===void 0||Me.insertRule(Ke.cssText,(Be=He.sheet)===null||Be===void 0?void 0:Be.cssRules.length);return Ue.add(e.sharedMutationObserver.observe(Se,Ue,{childList:!0})(()=>{He.textContent=Se.textContent})),be.add(He),Ue.add((0,v.toDisposable)(()=>be.delete(He))),Ue}e.sharedMutationObserver=new class{constructor(){this.mutationObservers=new Map}observe(Se,be,ye){let Me=this.mutationObservers.get(Se);Me||(Me=new Map,this.mutationObservers.set(Se,Me));const Be=(0,t.hash)(ye);let Ue=Me.get(Be);if(Ue)Ue.users+=1;else{const He=new w.Emitter,Ke=new MutationObserver(ze=>He.fire(ze));Ke.observe(Se,ye);const Ge=Ue={users:1,observer:Ke,onDidMutate:He.event};be.add((0,v.toDisposable)(()=>{Ge.users-=1,Ge.users===0&&(He.dispose(),Ke.disconnect(),Me?.delete(Be),Me?.size===0&&this.mutationObservers.delete(Se))})),Me.set(Be,Ue)}return Ue.onDidMutate}};let W=null;function q(){return W||(W=se()),W}function z(Se){var be,ye;return!((be=Se?.sheet)===null||be===void 0)&&be.rules?Se.sheet.rules:!((ye=Se?.sheet)===null||ye===void 0)&&ye.cssRules?Se.sheet.cssRules:[]}function $(Se,be,ye=q()){var Me,Be;if(!(!ye||!be)){(Me=ye.sheet)===null||Me===void 0||Me.insertRule(`${Se} {${be}}`,0);for(const Ue of(Be=pe.get(ye))!==null&&Be!==void 0?Be:[])$(Se,be,Ue)}}function X(Se,be=q()){var ye,Me;if(!be)return;const Be=z(be),Ue=[];for(let He=0;He<Be.length;He++){const Ke=Be[He];ee(Ke)&&Ke.selectorText.indexOf(Se)!==-1&&Ue.push(He)}for(let He=Ue.length-1;He>=0;He--)(ye=be.sheet)===null||ye===void 0||ye.deleteRule(Ue[He]);for(const He of(Me=pe.get(be))!==null&&Me!==void 0?Me:[])X(Se,He)}function ee(Se){return typeof Se.selectorText=="string"}function oe(Se){return Se instanceof HTMLElement||Se instanceof(0,e.getWindow)(Se).HTMLElement}function ce(Se){return Se instanceof HTMLAnchorElement||Se instanceof(0,e.getWindow)(Se).HTMLAnchorElement}function fe(Se){return Se instanceof MouseEvent||Se instanceof(0,e.getWindow)(Se).MouseEvent}function ve(Se){return Se instanceof KeyboardEvent||Se instanceof(0,e.getWindow)(Se).KeyboardEvent}e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:f.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.isWebKit?"webkitAnimationIteration":"animationiteration"};function _e(Se){const be=Se;return!!(be&&typeof be.preventDefault=="function"&&typeof be.stopPropagation=="function")}e.EventHelper={stop:(Se,be)=>(Se.preventDefault(),be&&Se.stopPropagation(),Se)};function Ie(Se){const be=[];for(let ye=0;Se&&Se.nodeType===Se.ELEMENT_NODE;ye++)be[ye]=Se.scrollTop,Se=Se.parentNode;return be}function Ce(Se,be){for(let ye=0;Se&&Se.nodeType===Se.ELEMENT_NODE;ye++)Se.scrollTop!==be[ye]&&(Se.scrollTop=be[ye]),Se=Se.parentNode}class Ee extends v.Disposable{static hasFocusWithin(be){if(oe(be)){const ye=G(be),Me=ye?ye.activeElement:be.ownerDocument.activeElement;return j(Me,be)}else{const ye=be;return j(ye.document.activeElement,ye.document)}}constructor(be){super(),this._onDidFocus=this._register(new w.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new w.Emitter),this.onDidBlur=this._onDidBlur.event;let ye=Ee.hasFocusWithin(be),Me=!1;const Be=()=>{Me=!1,ye||(ye=!0,this._onDidFocus.fire())},Ue=()=>{ye&&(Me=!0,(oe(be)?(0,e.getWindow)(be):be).setTimeout(()=>{Me&&(Me=!1,ye=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Ee.hasFocusWithin(be)!==ye&&(ye?Ue():Be())},this._register(r(be,e.EventType.FOCUS,Be,!0)),this._register(r(be,e.EventType.BLUR,Ue,!0)),oe(be)&&(this._register(r(be,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(r(be,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function Le(Se){return new Ee(Se)}function Te(Se,be){return Se.after(be),be}function Ae(Se,...be){if(Se.append(...be),be.length===1&&typeof be[0]!="string")return be[0]}function Pe(Se,be){return Se.insertBefore(be,Se.firstChild),be}function Re(Se,...be){Se.innerText="",Ae(Se,...be)}const We=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var De;(function(Se){Se.HTML="http://www.w3.org/1999/xhtml",Se.SVG="http://www.w3.org/2000/svg"})(De||(e.Namespace=De={}));function Ne(Se,be,ye,...Me){const Be=We.exec(be);if(!Be)throw new Error("Bad use of emmet");const Ue=Be[1]||"div";let He;return Se!==De.HTML?He=document.createElementNS(Se,Ue):He=document.createElement(Ue),Be[3]&&(He.id=Be[3]),Be[4]&&(He.className=Be[4].replace(/\./g," ").trim()),ye&&Object.entries(ye).forEach(([Ke,Ge])=>{typeof Ge>"u"||(/^on\w+$/.test(Ke)?He[Ke]=Ge:Ke==="selected"?Ge&&He.setAttribute(Ke,"true"):He.setAttribute(Ke,Ge))}),He.append(...Me),He}function me(Se,be,...ye){return Ne(De.HTML,Se,be,...ye)}me.SVG=function(Se,be,...ye){return Ne(De.SVG,Se,be,...ye)};function we(Se,...be){Se?Fe(...be):xe(...be)}function Fe(...Se){for(const be of Se)be.style.display="",be.removeAttribute("aria-hidden")}function xe(...Se){for(const be of Se)be.style.display="none",be.setAttribute("aria-hidden","true")}function je(Se,be){const ye=Se.devicePixelRatio*be;return Math.max(1,Math.floor(ye))/Se.devicePixelRatio}function Ze(Se){i.mainWindow.open(Se,"_blank","noopener")}function Ye(Se,be){const ye=()=>{be(),Me=(0,e.scheduleAtNextAnimationFrame)(Se,ye)};let Me=(0,e.scheduleAtNextAnimationFrame)(Se,ye);return(0,v.toDisposable)(()=>Me.dispose())}s.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(i.mainWindow.location.href)?"https":"http");function tt(Se){return Se?`url('${s.FileAccess.uriToBrowserUri(Se).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function nt(Se){return`'${Se.replace(/'/g,"%27")}'`}function dt(Se,be){if(Se!==void 0){const ye=Se.match(/^\s*var\((.+)\)$/);if(ye){const Me=ye[1].split(",",2);return Me.length===2&&(be=dt(Me[1].trim(),be)),`var(${Me[0]}, ${be})`}return Se}return be}function ct(Se,be=!1){const ye=document.createElement("a");return b.addHook("afterSanitizeAttributes",Me=>{for(const Be of["href","src"])if(Me.hasAttribute(Be)){const Ue=Me.getAttribute(Be);if(Be==="href"&&Ue.startsWith("#"))continue;if(ye.href=Ue,!Se.includes(ye.protocol.replace(/:$/,""))){if(be&&Be==="src"&&ye.href.startsWith("data:"))continue;Me.removeAttribute(Be)}}}),(0,v.toDisposable)(()=>{b.removeHook("afterSanitizeAttributes")})}e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const st=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Je extends w.Emitter{constructor(){super(),this._subscriptions=new v.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(w.Event.runAndSubscribe(e.onDidRegisterWindow,({window:be,disposables:ye})=>this.registerListeners(be,ye),{window:i.mainWindow,disposables:this._subscriptions}))}registerListeners(be,ye){ye.add(r(be,"keydown",Me=>{if(Me.defaultPrevented)return;const Be=new E.StandardKeyboardEvent(Me);if(!(Be.keyCode===6&&Me.repeat)){if(Me.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Me.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Me.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Me.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Be.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Me.altKey,this._keyStatus.ctrlKey=Me.ctrlKey,this._keyStatus.metaKey=Me.metaKey,this._keyStatus.shiftKey=Me.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Me,this.fire(this._keyStatus))}},!0)),ye.add(r(be,"keyup",Me=>{Me.defaultPrevented||(!Me.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Me.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Me.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Me.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Me.altKey,this._keyStatus.ctrlKey=Me.ctrlKey,this._keyStatus.metaKey=Me.metaKey,this._keyStatus.shiftKey=Me.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Me,this.fire(this._keyStatus)))},!0)),ye.add(r(be.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),ye.add(r(be.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),ye.add(r(be.document.body,"mousemove",Me=>{Me.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),ye.add(r(be,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Je.instance||(Je.instance=new Je),Je.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Je;class ht extends v.Disposable{constructor(be,ye){super(),this.element=be,this.callbacks=ye,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(r(this.element,e.EventType.DRAG_START,be=>{var ye,Me;(Me=(ye=this.callbacks).onDragStart)===null||Me===void 0||Me.call(ye,be)})),this.callbacks.onDrag&&this._register(r(this.element,e.EventType.DRAG,be=>{var ye,Me;(Me=(ye=this.callbacks).onDrag)===null||Me===void 0||Me.call(ye,be)})),this._register(r(this.element,e.EventType.DRAG_ENTER,be=>{var ye,Me;this.counter++,this.dragStartTime=be.timeStamp,(Me=(ye=this.callbacks).onDragEnter)===null||Me===void 0||Me.call(ye,be)})),this._register(r(this.element,e.EventType.DRAG_OVER,be=>{var ye,Me;be.preventDefault(),(Me=(ye=this.callbacks).onDragOver)===null||Me===void 0||Me.call(ye,be,be.timeStamp-this.dragStartTime)})),this._register(r(this.element,e.EventType.DRAG_LEAVE,be=>{var ye,Me;this.counter--,this.counter===0&&(this.dragStartTime=0,(Me=(ye=this.callbacks).onDragLeave)===null||Me===void 0||Me.call(ye,be))})),this._register(r(this.element,e.EventType.DRAG_END,be=>{var ye,Me;this.counter=0,this.dragStartTime=0,(Me=(ye=this.callbacks).onDragEnd)===null||Me===void 0||Me.call(ye,be)})),this._register(r(this.element,e.EventType.DROP,be=>{var ye,Me;this.counter=0,this.dragStartTime=0,(Me=(ye=this.callbacks).onDrop)===null||Me===void 0||Me.call(ye,be)}))}}e.DragAndDropObserver=ht;const _t=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Lt(Se,...be){let ye,Me;Array.isArray(be[0])?(ye={},Me=be[0]):(ye=be[0]||{},Me=be[1]);const Be=_t.exec(Se);if(!Be||!Be.groups)throw new Error("Bad use of h");const Ue=Be.groups.tag||"div",He=document.createElement(Ue);Be.groups.id&&(He.id=Be.groups.id);const Ke=[];if(Be.groups.class)for(const ze of Be.groups.class.split("."))ze!==""&&Ke.push(ze);if(ye.className!==void 0)for(const ze of ye.className.split("."))ze!==""&&Ke.push(ze);Ke.length>0&&(He.className=Ke.join(" "));const Ge={};if(Be.groups.name&&(Ge[Be.groups.name]=He),Me)for(const ze of Me)oe(ze)?He.appendChild(ze):typeof ze=="string"?He.append(ze):"root"in ze&&(Object.assign(Ge,ze),He.appendChild(ze.root));for(const[ze,Oe]of Object.entries(ye))if(ze!=="className")if(ze==="style")for(const[Ve,qe]of Object.entries(Oe))He.style.setProperty(pt(Ve),typeof qe=="number"?qe+"px":""+qe);else ze==="tabIndex"?He.tabIndex=Oe:He.setAttribute(pt(ze),Oe.toString());return Ge.root=He,Ge}function ut(Se,...be){let ye,Me;Array.isArray(be[0])?(ye={},Me=be[0]):(ye=be[0]||{},Me=be[1]);const Be=_t.exec(Se);if(!Be||!Be.groups)throw new Error("Bad use of h");const Ue=Be.groups.tag||"div",He=document.createElementNS("http://www.w3.org/2000/svg",Ue);Be.groups.id&&(He.id=Be.groups.id);const Ke=[];if(Be.groups.class)for(const ze of Be.groups.class.split("."))ze!==""&&Ke.push(ze);if(ye.className!==void 0)for(const ze of ye.className.split("."))ze!==""&&Ke.push(ze);Ke.length>0&&(He.className=Ke.join(" "));const Ge={};if(Be.groups.name&&(Ge[Be.groups.name]=He),Me)for(const ze of Me)oe(ze)?He.appendChild(ze):typeof ze=="string"?He.append(ze):"root"in ze&&(Object.assign(Ge,ze),He.appendChild(ze.root));for(const[ze,Oe]of Object.entries(ye))if(ze!=="className")if(ze==="style")for(const[Ve,qe]of Object.entries(Oe))He.style.setProperty(pt(Ve),typeof qe=="number"?qe+"px":""+qe);else ze==="tabIndex"?He.tabIndex=Oe:He.setAttribute(pt(ze),Oe.toString());return Ge.root=He,Ge}function pt(Se){return Se.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(re[459],ae([1,0,4,2,21]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createStyleSheetFromObservable=I;function I(y){const m=new k.DisposableStore,w=m.add((0,f.createStyleSheet2)());return m.add((0,E.autorun)(b=>{w.setStyle(y.read(b))})),m}}),define(re[305],ae([1,0,4]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderText=k,e.renderFormattedText=E,e.createElement=I;function k(s,o={}){const t=I(o);return t.textContent=s,t}function E(s,o={}){const t=I(o);return m(t,w(s,!!o.renderCodeSegments),o.actionHandler,o.renderCodeSegments),t}function I(s){const o=s.inline?"span":"div",t=document.createElement(o);return s.className&&(t.className=s.className),t}class y{constructor(o){this.source=o,this.index=0}eos(){return this.index>=this.source.length}next(){const o=this.peek();return this.advance(),o}peek(){return this.source[this.index]}advance(){this.index++}}function m(s,o,t,i){let n;if(o.type===2)n=document.createTextNode(o.content||"");else if(o.type===3)n=document.createElement("b");else if(o.type===4)n=document.createElement("i");else if(o.type===7&&i)n=document.createElement("code");else if(o.type===5&&t){const c=document.createElement("a");t.disposables.add(f.addStandardDisposableListener(c,"click",u=>{t.callback(String(o.index),u)})),n=c}else o.type===8?n=document.createElement("br"):o.type===1&&(n=s);n&&s!==n&&s.appendChild(n),n&&Array.isArray(o.children)&&o.children.forEach(c=>{m(n,c,t,i)})}function w(s,o){const t={type:1,children:[]};let i=0,n=t;const c=[],u=new y(s);for(;!u.eos();){let r=u.next();const a=r==="\\"&&v(u.peek(),o)!==0;if(a&&(r=u.next()),!a&&b(r,o)&&r===u.peek()){u.advance(),n.type===2&&(n=c.pop());const l=v(r,o);if(n.type===l||n.type===5&&l===6)n=c.pop();else{const d={type:l,children:[]};l===5&&(d.index=i,i++),n.children.push(d),c.push(n),n=d}}else if(r===`
`)n.type===2&&(n=c.pop()),n.children.push({type:8});else if(n.type!==2){const l={type:2,content:r};n.children.push(l),c.push(n),n=l}else n.content+=r}return n.type===2&&(n=c.pop()),c.length,t}function b(s,o){return v(s,o)!==0}function v(s,o){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return o?7:0;default:return 0}}}),define(re[161],ae([1,0,4,2]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class E{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(y,m){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const w=this._onStopCallback;this._onStopCallback=null,y&&w&&w(m)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(y,m,w,b,v){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=b,this._onStopCallback=v;let s=y;try{y.setPointerCapture(m),this._hooks.add((0,k.toDisposable)(()=>{try{y.releasePointerCapture(m)}catch{}}))}catch{s=f.getWindow(y)}this._hooks.add(f.addDisposableListener(s,f.EventType.POINTER_MOVE,o=>{if(o.buttons!==w){this.stopMonitoring(!0);return}o.preventDefault(),this._pointerMoveCallback(o)})),this._hooks.add(f.addDisposableListener(s,f.EventType.POINTER_UP,o=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=E}),define(re[229],ae([1,0,4,6,2]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRatio=void 0;class I extends E.Disposable{constructor(b){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(b,!0),this._mediaQueryList=null,this._handleChange(b,!1)}_handleChange(b,v){var s;(s=this._mediaQueryList)===null||s===void 0||s.removeEventListener("change",this._listener),this._mediaQueryList=b.matchMedia(`(resolution: ${b.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),v&&this._onDidChange.fire()}}class y extends E.Disposable{get value(){return this._value}constructor(b){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(b);const v=this._register(new I(b));this._register(v.onDidChange(()=>{this._value=this._getPixelRatio(b),this._onDidChange.fire(this._value)}))}_getPixelRatio(b){const v=document.createElement("canvas").getContext("2d"),s=b.devicePixelRatio||1,o=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return s/o}}class m{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(b){const v=(0,f.getWindowId)(b);let s=this.mapWindowIdToPixelRatioMonitor.get(v);return s||(s=(0,E.markAsSingleton)(new y(b)),this.mapWindowIdToPixelRatioMonitor.set(v,s),(0,E.markAsSingleton)(k.Event.once(f.onDidUnregisterWindow)(({vscodeWindowId:o})=>{o===v&&(s?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(v))}))),s}getInstance(b){return this._getOrCreatePixelRatioMonitor(b)}}e.PixelRatio=new m}),define(re[68],ae([1,0,4,52,13,124,6,2,71]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var b;(function(s){s.Tap="-monaco-gesturetap",s.Change="-monaco-gesturechange",s.Start="-monaco-gesturestart",s.End="-monaco-gesturesend",s.Contextmenu="-monaco-gesturecontextmenu"})(b||(e.EventType=b={}));class v extends m.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new w.LinkedList,this.ignoreTargets=new w.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(y.Event.runAndSubscribe(f.onDidRegisterWindow,({window:o,disposables:t})=>{t.add(f.addDisposableListener(o.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(f.addDisposableListener(o.document,"touchend",i=>this.onTouchEnd(o,i))),t.add(f.addDisposableListener(o.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:k.mainWindow,disposables:this._store}))}static addTarget(o){if(!v.isTouchDevice())return m.Disposable.None;v.INSTANCE||(v.INSTANCE=(0,m.markAsSingleton)(new v));const t=v.INSTANCE.targets.push(o);return(0,m.toDisposable)(t)}static ignoreTarget(o){if(!v.isTouchDevice())return m.Disposable.None;v.INSTANCE||(v.INSTANCE=(0,m.markAsSingleton)(new v));const t=v.INSTANCE.ignoreTargets.push(o);return(0,m.toDisposable)(t)}static isTouchDevice(){return"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(o){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=o.targetTouches.length;i<n;i++){const c=o.targetTouches.item(i);this.activeTouches[c.identifier]={id:c.identifier,initialTarget:c.target,initialTimeStamp:t,initialPageX:c.pageX,initialPageY:c.pageY,rollingTimestamps:[t],rollingPageX:[c.pageX],rollingPageY:[c.pageY]};const u=this.newGestureEvent(b.Start,c.target);u.pageX=c.pageX,u.pageY=c.pageY,this.dispatchEvent(u)}this.dispatched&&(o.preventDefault(),o.stopPropagation(),this.dispatched=!1)}onTouchEnd(o,t){const i=Date.now(),n=Object.keys(this.activeTouches).length;for(let c=0,u=t.changedTouches.length;c<u;c++){const r=t.changedTouches.item(c);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const a=this.activeTouches[r.identifier],l=Date.now()-a.initialTimeStamp;if(l<v.HOLD_DELAY&&Math.abs(a.initialPageX-E.tail(a.rollingPageX))<30&&Math.abs(a.initialPageY-E.tail(a.rollingPageY))<30){const d=this.newGestureEvent(b.Tap,a.initialTarget);d.pageX=E.tail(a.rollingPageX),d.pageY=E.tail(a.rollingPageY),this.dispatchEvent(d)}else if(l>=v.HOLD_DELAY&&Math.abs(a.initialPageX-E.tail(a.rollingPageX))<30&&Math.abs(a.initialPageY-E.tail(a.rollingPageY))<30){const d=this.newGestureEvent(b.Contextmenu,a.initialTarget);d.pageX=E.tail(a.rollingPageX),d.pageY=E.tail(a.rollingPageY),this.dispatchEvent(d)}else if(n===1){const d=E.tail(a.rollingPageX),p=E.tail(a.rollingPageY),h=E.tail(a.rollingTimestamps)-a.rollingTimestamps[0],g=d-a.rollingPageX[0],C=p-a.rollingPageY[0],S=[...this.targets].filter(_=>a.initialTarget instanceof Node&&_.contains(a.initialTarget));this.inertia(o,S,i,Math.abs(g)/h,g>0?1:-1,d,Math.abs(C)/h,C>0?1:-1,p)}this.dispatchEvent(this.newGestureEvent(b.End,a.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(o,t){const i=document.createEvent("CustomEvent");return i.initEvent(o,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(o){if(o.type===b.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>v.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,o.tapCount=i}else(o.type===b.Change||o.type===b.Contextmenu)&&(this._lastSetTapCountTime=0);if(o.initialTarget instanceof Node){for(const i of this.ignoreTargets)if(i.contains(o.initialTarget))return;const t=[];for(const i of this.targets)if(i.contains(o.initialTarget)){let n=0,c=o.initialTarget;for(;c&&c!==i;)n++,c=c.parentElement;t.push([n,i])}t.sort((i,n)=>i[0]-n[0]);for(const[i,n]of t)n.dispatchEvent(o),this.dispatched=!0}}inertia(o,t,i,n,c,u,r,a,l){this.handle=f.scheduleAtNextAnimationFrame(o,()=>{const d=Date.now(),p=d-i;let h=0,g=0,C=!0;n+=v.SCROLL_FRICTION*p,r+=v.SCROLL_FRICTION*p,n>0&&(C=!1,h=c*n*p),r>0&&(C=!1,g=a*r*p);const S=this.newGestureEvent(b.Change);S.translationX=h,S.translationY=g,t.forEach(_=>_.dispatchEvent(S)),C||this.inertia(o,t,d,n,c,u+h,r,a,l+g)})}onTouchMove(o){const t=Date.now();for(let i=0,n=o.changedTouches.length;i<n;i++){const c=o.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("end of an UNKNOWN touch",c);continue}const u=this.activeTouches[c.identifier],r=this.newGestureEvent(b.Change,u.initialTarget);r.translationX=c.pageX-E.tail(u.rollingPageX),r.translationY=c.pageY-E.tail(u.rollingPageY),r.pageX=c.pageX,r.pageY=c.pageY,this.dispatchEvent(r),u.rollingPageX.length>3&&(u.rollingPageX.shift(),u.rollingPageY.shift(),u.rollingTimestamps.shift()),u.rollingPageX.push(c.pageX),u.rollingPageY.push(c.pageY),u.rollingTimestamps.push(t)}this.dispatched&&(o.preventDefault(),o.stopPropagation(),this.dispatched=!1)}}e.Gesture=v,v.SCROLL_FRICTION=-.005,v.HOLD_DELAY=700,v.CLEAR_TAP_COUNT_TIME=400,ke([I.memoize],v,"isTouchDevice",null)}),define(re[111],ae([1,0,4,30]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderLabelWithIcons=I,e.renderIcon=y;const E=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function I(m){const w=new Array;let b,v=0,s=0;for(;(b=E.exec(m))!==null;){s=b.index||0,v<s&&w.push(m.substring(v,s)),v=(b.index||0)+b[0].length;const[,o,t]=b;w.push(o?`$(${t})`:y({id:t}))}return v<m.length&&w.push(m.substring(v)),w}function y(m){const w=f.$("span");return w.classList.add(...k.ThemeIcon.asClassNameArray(m)),w}}),define(re[306],ae([1,0,4,82,43,111,2,54]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w extends y.Disposable{constructor(v,s){var o;super(),this.options=s,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(o=s?.supportIcons)!==null&&o!==void 0?o:!1,this.domNode=f.append(v,f.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(v,s=[],o="",t){v||(v=""),t&&(v=w.escapeNewLines(v,s)),!(this.didEverRender&&this.text===v&&this.title===o&&m.equals(this.highlights,s))&&(this.text=v,this.title=o,this.highlights=s,this.render())}render(){var v,s,o,t;const i=[];let n=0;for(const c of this.highlights){if(c.end===c.start)continue;if(n<c.start){const a=this.text.substring(n,c.start);this.supportIcons?i.push(...(0,I.renderLabelWithIcons)(a)):i.push(a),n=c.start}const u=this.text.substring(n,c.end),r=f.$("span.highlight",void 0,...this.supportIcons?(0,I.renderLabelWithIcons)(u):[u]);c.extraClasses&&r.classList.add(...c.extraClasses),i.push(r),n=c.end}if(n<this.text.length){const c=this.text.substring(n);this.supportIcons?i.push(...(0,I.renderLabelWithIcons)(c)):i.push(c)}if(f.reset(this.domNode,...i),!((s=(v=this.options)===null||v===void 0?void 0:v.hoverDelegate)===null||s===void 0)&&s.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const c=(t=(o=this.options)===null||o===void 0?void 0:o.hoverDelegate)!==null&&t!==void 0?t:(0,E.getDefaultHoverDelegate)("mouse");this.customHover=this._register((0,k.getBaseLayerHoverDelegate)().setupManagedHover(c,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(v,s){let o=0,t=0;return v.replace(/\r\n|\r|\n/g,(i,n)=>{t=i===`\r
`?-1:0,n+=o;for(const c of s)c.end<=n||(c.start>=n&&(c.start+=t),c.end>=n&&(c.end+=t));return o+=t,"\u23CE"})}}e.HighlightedLabel=w}),define(re[460],ae([1,0,4]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;class k{constructor(I){this.renderers=I,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(I){let y=this.getTemplateCache(I).pop(),m=!1;if(y)m=this.transactionNodesPendingRemoval.has(y.domNode),m&&this.transactionNodesPendingRemoval.delete(y.domNode);else{const w=(0,f.$)(".monaco-list-row"),v=this.getRenderer(I).renderTemplate(w);y={domNode:w,templateId:I,templateData:v}}return{row:y,isReusingConnectedDomNode:m}}release(I){I&&this.releaseRow(I)}transact(I){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{I()}finally{for(const y of this.transactionNodesPendingRemoval)this.doRemoveNode(y);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(I){const{domNode:y,templateId:m}=I;y&&(this.inTransaction?this.transactionNodesPendingRemoval.add(y):this.doRemoveNode(y)),this.getTemplateCache(m).push(I)}doRemoveNode(I){I.classList.remove("scrolling"),I.remove()}getTemplateCache(I){let y=this.cache.get(I);return y||(y=[],this.cache.set(I,y)),y}dispose(){this.cache.forEach((I,y)=>{for(const m of I)this.getRenderer(y).disposeTemplate(m.templateData),m.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(I){const y=this.renderers.get(I);if(!y)throw new Error(`No renderer found for ${I}`);return y}}e.RowCache=k}),define(re[461],ae([1,0,4,68,13,6,2,16]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class w extends y.Disposable{constructor(v,s,o,t){super(),this.selected=0,this.selectBoxOptions=t||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new I.Emitter),this.styles=o,this.registerListeners(),this.setOptions(v,s)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(v=>{this._register(f.addDisposableListener(this.selectElement,v,s=>{this.selectElement.focus()}))}),this._register(f.addStandardDisposableListener(this.selectElement,"click",v=>{f.EventHelper.stop(v,!0)})),this._register(f.addStandardDisposableListener(this.selectElement,"change",v=>{this.selectElement.title=v.target.value,this._onDidSelect.fire({index:v.target.selectedIndex,selected:v.target.value})})),this._register(f.addStandardDisposableListener(this.selectElement,"keydown",v=>{let s=!1;m.isMacintosh?(v.keyCode===18||v.keyCode===16||v.keyCode===10)&&(s=!0):(v.keyCode===18&&v.altKey||v.keyCode===10||v.keyCode===3)&&(s=!0),s&&v.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(v,s){(!this.options||!E.equals(this.options,v))&&(this.options=v,this.selectElement.options.length=0,this.options.forEach((o,t)=>{this.selectElement.add(this.createOption(o.text,t,o.isDisabled))})),s!==void 0&&this.select(s)}select(v){this.options.length===0?this.selected=0:v>=0&&v<this.options.length?this.selected=v:v>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(v){this.selectElement.tabIndex=v?0:-1}render(v){v.classList.add("select-container"),v.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var v,s,o;this.selectElement&&(this.selectElement.style.backgroundColor=(v=this.styles.selectBackground)!==null&&v!==void 0?v:"",this.selectElement.style.color=(s=this.styles.selectForeground)!==null&&s!==void 0?s:"",this.selectElement.style.borderColor=(o=this.styles.selectBorder)!==null&&o!==void 0?o:"")}createOption(v,s,o){const t=document.createElement("option");return t.value=v,t.text=v,t.disabled=!!o,t}}e.SelectBoxNative=w}),define(re[84],ae([1,0,4,45,73,68,2]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class m extends y.Disposable{onclick(b,v){this._register(f.addDisposableListener(b,f.EventType.CLICK,s=>v(new E.StandardMouseEvent(f.getWindow(b),s))))}onmousedown(b,v){this._register(f.addDisposableListener(b,f.EventType.MOUSE_DOWN,s=>v(new E.StandardMouseEvent(f.getWindow(b),s))))}onmouseover(b,v){this._register(f.addDisposableListener(b,f.EventType.MOUSE_OVER,s=>v(new E.StandardMouseEvent(f.getWindow(b),s))))}onmouseleave(b,v){this._register(f.addDisposableListener(b,f.EventType.MOUSE_LEAVE,s=>v(new E.StandardMouseEvent(f.getWindow(b),s))))}onkeydown(b,v){this._register(f.addDisposableListener(b,f.EventType.KEY_DOWN,s=>v(new k.StandardKeyboardEvent(s))))}onkeyup(b,v){this._register(f.addDisposableListener(b,f.EventType.KEY_UP,s=>v(new k.StandardKeyboardEvent(s))))}oninput(b,v){this._register(f.addDisposableListener(b,f.EventType.INPUT,v))}onblur(b,v){this._register(f.addDisposableListener(b,f.EventType.BLUR,v))}onfocus(b,v){this._register(f.addDisposableListener(b,f.EventType.FOCUS,v))}ignoreGesture(b){return I.Gesture.ignoreTarget(b)}}e.Widget=m}),define(re[230],ae([1,0,161,84,14,30,4]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class m extends k.Widget{constructor(b){super(),this._onActivate=b.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=b.bgWidth+"px",this.bgDomNode.style.height=b.bgHeight+"px",typeof b.top<"u"&&(this.bgDomNode.style.top="0px"),typeof b.left<"u"&&(this.bgDomNode.style.left="0px"),typeof b.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof b.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=b.className,this.domNode.classList.add(...I.ThemeIcon.asClassNameArray(b.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof b.top<"u"&&(this.domNode.style.top=b.top+"px"),typeof b.left<"u"&&(this.domNode.style.left=b.left+"px"),typeof b.bottom<"u"&&(this.domNode.style.bottom=b.bottom+"px"),typeof b.right<"u"&&(this.domNode.style.right=b.right+"px"),this._pointerMoveMonitor=this._register(new f.GlobalPointerMoveMonitor),this._register(y.addStandardDisposableListener(this.bgDomNode,y.EventType.POINTER_DOWN,v=>this._arrowPointerDown(v))),this._register(y.addStandardDisposableListener(this.domNode,y.EventType.POINTER_DOWN,v=>this._arrowPointerDown(v))),this._pointerdownRepeatTimer=this._register(new y.WindowIntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new E.TimeoutTimer)}_arrowPointerDown(b){if(!b.target||!(b.target instanceof Element))return;const v=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,y.getWindow(b))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(v,200),this._pointerMoveMonitor.startMonitoring(b.target,b.pointerId,b.buttons,s=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),b.preventDefault()}}e.ScrollbarArrow=m}),define(re[307],ae([1,0,4,39,161,230,455,84,16]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const b=140;class v extends m.Widget{constructor(o){super(),this._lazyRender=o.lazyRender,this._host=o.host,this._scrollable=o.scrollable,this._scrollByPage=o.scrollByPage,this._scrollbarState=o.scrollbarState,this._visibilityController=this._register(new y.ScrollbarVisibilityController(o.visibility,"visible scrollbar "+o.extraScrollbarClassName,"invisible scrollbar "+o.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new E.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(f.addDisposableListener(this.domNode.domNode,f.EventType.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(o){const t=this._register(new I.ScrollbarArrow(o));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(o,t,i,n){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(o),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(f.addDisposableListener(this.slider.domNode,f.EventType.POINTER_DOWN,c=>{c.button===0&&(c.preventDefault(),this._sliderPointerDown(c))})),this.onclick(this.slider.domNode,c=>{c.leftButton&&c.stopPropagation()})}_onElementSize(o){return this._scrollbarState.setVisibleSize(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(o){return this._scrollbarState.setScrollSize(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(o){return this._scrollbarState.setScrollPosition(o)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(o){o.target===this.domNode.domNode&&this._onPointerDown(o)}delegatePointerDown(o){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),c=this._sliderPointerPosition(o);i<=c&&c<=n?o.button===0&&(o.preventDefault(),this._sliderPointerDown(o)):this._onPointerDown(o)}_onPointerDown(o){let t,i;if(o.target===this.domNode.domNode&&typeof o.offsetX=="number"&&typeof o.offsetY=="number")t=o.offsetX,i=o.offsetY;else{const c=f.getDomNodePagePosition(this.domNode.domNode);t=o.pageX-c.left,i=o.pageY-c.top}const n=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))}_sliderPointerDown(o){if(!o.target||!(o.target instanceof Element))return;const t=this._sliderPointerPosition(o),i=this._sliderOrthogonalPointerPosition(o),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(o.target,o.pointerId,o.buttons,c=>{const u=this._sliderOrthogonalPointerPosition(c),r=Math.abs(u-i);if(w.isWindows&&r>b){this._setDesiredScrollPositionNow(n.getScrollPosition());return}const l=this._sliderPointerPosition(c)-t;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(l))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(o){const t={};this.writeScrollPosition(t,o),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(o){this._updateScrollbarSize(o),this._scrollbarState.setScrollbarSize(o),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=v}),define(re[462],ae([1,0,73,307,230,220,26]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(b,v,s){const o=b.getScrollDimensions(),t=b.getCurrentScrollPosition();if(super({lazyRender:v.lazyRender,host:s,scrollbarState:new I.ScrollbarState(v.horizontalHasArrows?v.arrowSize:0,v.horizontal===2?0:v.horizontalScrollbarSize,v.vertical===2?0:v.verticalScrollbarSize,o.width,o.scrollWidth,t.scrollLeft),visibility:v.horizontal,extraScrollbarClassName:"horizontal",scrollable:b,scrollByPage:v.scrollByPage}),v.horizontalHasArrows){const i=(v.arrowSize-E.ARROW_IMG_SIZE)/2,n=(v.horizontalScrollbarSize-E.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonLeft,top:n,left:i,bottom:void 0,right:void 0,bgWidth:v.arrowSize,bgHeight:v.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonRight,top:n,left:void 0,bottom:void 0,right:i,bgWidth:v.arrowSize,bgHeight:v.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((v.horizontalScrollbarSize-v.horizontalSliderSize)/2),0,void 0,v.horizontalSliderSize)}_updateSlider(b,v){this.slider.setWidth(b),this.slider.setLeft(v)}_renderDomNode(b,v){this.domNode.setWidth(b),this.domNode.setHeight(v),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(b.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(b,v){return b}_sliderPointerPosition(b){return b.pageX}_sliderOrthogonalPointerPosition(b){return b.pageY}_updateScrollbarSize(b){this.slider.setHeight(b)}writeScrollPosition(b,v){b.scrollLeft=v}updateOptions(b){this.updateScrollbarSize(b.horizontal===2?0:b.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._visibilityController.setVisibility(b.horizontal),this._scrollByPage=b.scrollByPage}}e.HorizontalScrollbar=m}),define(re[463],ae([1,0,73,307,230,220,26]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(b,v,s){const o=b.getScrollDimensions(),t=b.getCurrentScrollPosition();if(super({lazyRender:v.lazyRender,host:s,scrollbarState:new I.ScrollbarState(v.verticalHasArrows?v.arrowSize:0,v.vertical===2?0:v.verticalScrollbarSize,0,o.height,o.scrollHeight,t.scrollTop),visibility:v.vertical,extraScrollbarClassName:"vertical",scrollable:b,scrollByPage:v.scrollByPage}),v.verticalHasArrows){const i=(v.arrowSize-E.ARROW_IMG_SIZE)/2,n=(v.verticalScrollbarSize-E.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonUp,top:i,left:n,bottom:void 0,right:void 0,bgWidth:v.verticalScrollbarSize,bgHeight:v.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonDown,top:void 0,left:n,bottom:i,right:void 0,bgWidth:v.verticalScrollbarSize,bgHeight:v.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((v.verticalScrollbarSize-v.verticalSliderSize)/2),v.verticalSliderSize,void 0)}_updateSlider(b,v){this.slider.setHeight(b),this.slider.setTop(v)}_renderDomNode(b,v){this.domNode.setWidth(v),this.domNode.setHeight(b),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(b.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(b,v){return v}_sliderPointerPosition(b){return b.pageY}_sliderOrthogonalPointerPosition(b){return b.pageX}_updateScrollbarSize(b){this.slider.setWidth(b)}writeScrollPosition(b,v){b.scrollTop=v}updateOptions(b){this.updateScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(b.vertical),this._scrollByPage=b.scrollByPage}}e.VerticalScrollbar=m}),define(re[50],ae([1,0,224,46,99,16,11,22]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=void 0,e.originalFSPath=w;function w(s){return(0,m.uriToFsPath)(s,!0)}class b{constructor(o){this._ignorePathCasing=o}compare(o,t,i=!1){return o===t?0:(0,y.compare)(this.getComparisonKey(o,i),this.getComparisonKey(t,i))}isEqual(o,t,i=!1){return o===t?!0:!o||!t?!1:this.getComparisonKey(o,i)===this.getComparisonKey(t,i)}getComparisonKey(o,t=!1){return o.with({path:this._ignorePathCasing(o)?o.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(o,t,i=!1){if(o.scheme===t.scheme){if(o.scheme===k.Schemas.file)return f.isEqualOrParent(w(o),w(t),this._ignorePathCasing(o))&&o.query===t.query&&(i||o.fragment===t.fragment);if((0,e.isEqualAuthority)(o.authority,t.authority))return f.isEqualOrParent(o.path,t.path,this._ignorePathCasing(o),"/")&&o.query===t.query&&(i||o.fragment===t.fragment)}return!1}joinPath(o,...t){return m.URI.joinPath(o,...t)}basenameOrAuthority(o){return(0,e.basename)(o)||o.authority}basename(o){return E.posix.basename(o.path)}extname(o){return E.posix.extname(o.path)}dirname(o){if(o.path.length===0)return o;let t;return o.scheme===k.Schemas.file?t=m.URI.file(E.dirname(w(o))).path:(t=E.posix.dirname(o.path),o.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${o.toString})) resulted in a relative path`),t="/")),o.with({path:t})}normalizePath(o){if(!o.path.length)return o;let t;return o.scheme===k.Schemas.file?t=m.URI.file(E.normalize(w(o))).path:t=E.posix.normalize(o.path),o.with({path:t})}relativePath(o,t){if(o.scheme!==t.scheme||!(0,e.isEqualAuthority)(o.authority,t.authority))return;if(o.scheme===k.Schemas.file){const c=E.relative(w(o),w(t));return I.isWindows?f.toSlashes(c):c}let i=o.path||"/";const n=t.path||"/";if(this._ignorePathCasing(o)){let c=0;for(const u=Math.min(i.length,n.length);c<u&&!(i.charCodeAt(c)!==n.charCodeAt(c)&&i.charAt(c).toLowerCase()!==n.charAt(c).toLowerCase());c++);i=n.substr(0,c)+i.substr(c)}return E.posix.relative(i,n)}resolvePath(o,t){if(o.scheme===k.Schemas.file){const i=m.URI.file(E.resolve(w(o),t));return o.with({authority:i.authority,path:i.path})}return t=f.toPosixPath(t),o.with({path:E.posix.resolve(o.path,t)})}isAbsolutePath(o){return!!o.path&&o.path[0]==="/"}isEqualAuthority(o,t){return o===t||o!==void 0&&t!==void 0&&(0,y.equalsIgnoreCase)(o,t)}hasTrailingPathSeparator(o,t=E.sep){if(o.scheme===k.Schemas.file){const i=w(o);return i.length>f.getRoot(i).length&&i[i.length-1]===t}else{const i=o.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(o.fsPath)}}removeTrailingPathSeparator(o,t=E.sep){return(0,e.hasTrailingPathSeparator)(o,t)?o.with({path:o.path.substr(0,o.path.length-1)}):o}addTrailingPathSeparator(o,t=E.sep){let i=!1;if(o.scheme===k.Schemas.file){const n=w(o);i=n!==void 0&&n.length===f.getRoot(n).length&&n[n.length-1]===t}else{t="/";const n=o.path;i=n.length===1&&n.charCodeAt(n.length-1)===47}return!i&&!(0,e.hasTrailingPathSeparator)(o,t)?o.with({path:o.path+"/"}):o}}e.ExtUri=b,e.extUri=new b(()=>!1),e.extUriBiasedIgnorePathCase=new b(s=>s.scheme===k.Schemas.file?!I.isLinux:!0),e.extUriIgnorePathCase=new b(s=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var v;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function o(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(u=>{const[r,a]=u.split(":");r&&a&&i.set(r,a)});const c=t.path.substring(0,t.path.indexOf(";"));return c&&i.set(s.META_DATA_MIME,c),i}s.parseMetaData=o})(v||(e.DataUri=v={}))}),define(re[55],ae([1,0,8,139,50,11,22]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownString=void 0,e.isEmptyMarkdownString=w,e.isMarkdownString=b,e.markdownStringEqual=v,e.escapeMarkdownSyntaxTokens=s,e.appendEscapedMarkdownCodeBlockFence=o,e.escapeDoubleQuotes=t,e.removeMarkdownEscapes=i,e.parseHrefAndDimensions=n;class m{constructor(u="",r=!1){var a,l,d;if(this.value=u,typeof this.value!="string")throw(0,f.illegalArgument)("value");typeof r=="boolean"?(this.isTrusted=r,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(a=r.isTrusted)!==null&&a!==void 0?a:void 0,this.supportThemeIcons=(l=r.supportThemeIcons)!==null&&l!==void 0?l:!1,this.supportHtml=(d=r.supportHtml)!==null&&d!==void 0?d:!1)}appendText(u,r=0){return this.value+=s(this.supportThemeIcons?(0,k.escapeIcons)(u):u).replace(/([ \t]+)/g,(a,l)=>"&nbsp;".repeat(l.length)).replace(/\>/gm,"\\>").replace(/\n/g,r===1?`\\
`:`

`),this}appendMarkdown(u){return this.value+=u,this}appendCodeblock(u,r){return this.value+=`
${o(r,u)}
`,this}appendLink(u,r,a){return this.value+="[",this.value+=this._escape(r,"]"),this.value+="](",this.value+=this._escape(String(u),")"),a&&(this.value+=` "${this._escape(this._escape(a,'"'),")")}"`),this.value+=")",this}_escape(u,r){const a=new RegExp((0,I.escapeRegExpCharacters)(r),"g");return u.replace(a,(l,d)=>u.charAt(d-1)!=="\\"?`\\${l}`:l)}}e.MarkdownString=m;function w(c){return b(c)?!c.value:Array.isArray(c)?c.every(w):!0}function b(c){return c instanceof m?!0:c&&typeof c=="object"?typeof c.value=="string"&&(typeof c.isTrusted=="boolean"||typeof c.isTrusted=="object"||c.isTrusted===void 0)&&(typeof c.supportThemeIcons=="boolean"||c.supportThemeIcons===void 0):!1}function v(c,u){return c===u?!0:!c||!u?!1:c.value===u.value&&c.isTrusted===u.isTrusted&&c.supportThemeIcons===u.supportThemeIcons&&c.supportHtml===u.supportHtml&&(c.baseUri===u.baseUri||!!c.baseUri&&!!u.baseUri&&(0,E.isEqual)(y.URI.from(c.baseUri),y.URI.from(u.baseUri)))}function s(c){return c.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function o(c,u){var r,a;const l=(a=(r=c.match(/^`+/gm))===null||r===void 0?void 0:r.reduce((p,h)=>p.length>h.length?p:h).length)!==null&&a!==void 0?a:0,d=l>=3?l+1:3;return[`${"`".repeat(d)}${u}`,c,`${"`".repeat(d)}`].join(`
`)}function t(c){return c.replace(/"/g,"&quot;")}function i(c){return c&&c.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function n(c){const u=[],r=c.split("|").map(l=>l.trim());c=r[0];const a=r[1];if(a){const l=/height=(\d+)/.exec(a),d=/width=(\d+)/.exec(a),p=l?l[1]:"",h=d?d[1]:"",g=isFinite(parseInt(h)),C=isFinite(parseInt(p));g&&u.push(`width="${h}"`),C&&u.push(`height="${p}"`)}return{href:c,dimensions:u}}}),define(re[192],ae([1,0,4,304,92,305,45,73,111,8,6,55,139,187,98,2,444,228,46,54,50,11,22]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allowedMarkdownAttr=void 0,e.renderMarkdown=g,e.renderStringAsPlaintext=T,e.renderMarkdownAsPlaintext=N,e.fillInIncompleteTokens=j;const h=Object.freeze({image:(se,ne,W)=>{let q=[],z=[];return se&&({href:se,dimensions:q}=(0,s.parseHrefAndDimensions)(se),z.push(`src="${(0,s.escapeDoubleQuotes)(se)}"`)),W&&z.push(`alt="${(0,s.escapeDoubleQuotes)(W)}"`),ne&&z.push(`title="${(0,s.escapeDoubleQuotes)(ne)}"`),q.length&&(z=z.concat(q)),"<img "+z.join(" ")+">"},paragraph:se=>`<p>${se}</p>`,link:(se,ne,W)=>typeof se!="string"?"":(se===W&&(W=(0,s.removeMarkdownEscapes)(W)),ne=typeof ne=="string"?(0,s.escapeDoubleQuotes)((0,s.removeMarkdownEscapes)(ne)):"",se=(0,s.removeMarkdownEscapes)(se),se=se.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${se}" title="${ne||se}" draggable="false">${W}</a>`)});function g(se,ne={},W={}){var q,z;const $=new n.DisposableStore;let X=!1;const ee=(0,I.createElement)(ne),oe=function(Te){let Ae;try{Ae=(0,u.parse)(decodeURIComponent(Te))}catch{}return Ae?(Ae=(0,a.cloneAndChange)(Ae,Pe=>{if(se.uris&&se.uris[Pe])return p.URI.revive(se.uris[Pe])}),encodeURIComponent(JSON.stringify(Ae))):Te},ce=function(Te,Ae){const Pe=se.uris&&se.uris[Te];let Re=p.URI.revive(Pe);return Ae?Te.startsWith(r.Schemas.data+":")?Te:(Re||(Re=p.URI.parse(Te)),r.FileAccess.uriToBrowserUri(Re).toString(!0)):!Re||p.URI.parse(Te).toString()===Re.toString()?Te:(Re.query&&(Re=Re.with({query:oe(Re.query)})),Re.toString())},fe=new c.marked.Renderer;fe.image=h.image,fe.link=h.link,fe.paragraph=h.paragraph;const ve=[],_e=[];if(ne.codeBlockRendererSync?fe.code=(Te,Ae)=>{const Pe=t.defaultGenerator.nextId(),Re=ne.codeBlockRendererSync(C(Ae),Te);return _e.push([Pe,Re]),`<div class="code" data-code="${Pe}">${(0,d.escape)(Te)}</div>`}:ne.codeBlockRenderer&&(fe.code=(Te,Ae)=>{const Pe=t.defaultGenerator.nextId(),Re=ne.codeBlockRenderer(C(Ae),Te);return ve.push(Re.then(We=>[Pe,We])),`<div class="code" data-code="${Pe}">${(0,d.escape)(Te)}</div>`}),ne.actionHandler){const Te=function(Re){let We=Re.target;if(!(We.tagName!=="A"&&(We=We.parentElement,!We||We.tagName!=="A")))try{let De=We.dataset.href;De&&(se.baseUri&&(De=S(p.URI.from(se.baseUri),De)),ne.actionHandler.callback(De,Re))}catch(De){(0,b.onUnexpectedError)(De)}finally{Re.preventDefault()}},Ae=ne.actionHandler.disposables.add(new E.DomEmitter(ee,"click")),Pe=ne.actionHandler.disposables.add(new E.DomEmitter(ee,"auxclick"));ne.actionHandler.disposables.add(v.Event.any(Ae.event,Pe.event)(Re=>{const We=new m.StandardMouseEvent(f.getWindow(ee),Re);!We.leftButton&&!We.middleButton||Te(We)})),ne.actionHandler.disposables.add(f.addDisposableListener(ee,"keydown",Re=>{const We=new y.StandardKeyboardEvent(Re);!We.equals(10)&&!We.equals(3)||Te(We)}))}se.supportHtml||(W.sanitizer=Te=>{var Ae;return!((Ae=ne.sanitizerOptions)===null||Ae===void 0)&&Ae.replaceWithPlaintext?(0,d.escape)(Te):(se.isTrusted?Te.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Te:""},W.sanitize=!0,W.silent=!0),W.renderer=fe;let Ie=(q=se.value)!==null&&q!==void 0?q:"";Ie.length>1e5&&(Ie=`${Ie.substr(0,1e5)}\u2026`),se.supportThemeIcons&&(Ie=(0,o.markdownEscapeEscapedIcons)(Ie));let Ce;if(ne.fillInIncompleteTokens){const Te={...c.marked.defaults,...W},Ae=c.marked.lexer(Ie,Te),Pe=j(Ae);Ce=c.marked.parser(Pe,Te)}else Ce=c.marked.parse(Ie,W);se.supportThemeIcons&&(Ce=(0,w.renderLabelWithIcons)(Ce).map(Ae=>typeof Ae=="string"?Ae:Ae.outerHTML).join(""));const Le=new DOMParser().parseFromString(L({isTrusted:se.isTrusted,...ne.sanitizerOptions},Ce),"text/html");if(Le.body.querySelectorAll("img, audio, video, source").forEach(Te=>{const Ae=Te.getAttribute("src");if(Ae){let Pe=Ae;try{se.baseUri&&(Pe=S(p.URI.from(se.baseUri),Pe))}catch{}if(Te.setAttribute("src",ce(Pe,!0)),ne.remoteImageIsAllowed){const Re=p.URI.parse(Pe);Re.scheme!==r.Schemas.file&&Re.scheme!==r.Schemas.data&&!ne.remoteImageIsAllowed(Re)&&Te.replaceWith(f.$("",void 0,Te.outerHTML))}}}),Le.body.querySelectorAll("a").forEach(Te=>{const Ae=Te.getAttribute("href");if(Te.setAttribute("href",""),!Ae||/^data:|javascript:/i.test(Ae)||/^command:/i.test(Ae)&&!se.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Ae))Te.replaceWith(...Te.childNodes);else{let Pe=ce(Ae,!1);se.baseUri&&(Pe=S(p.URI.from(se.baseUri),Ae)),Te.dataset.href=Pe}}),ee.innerHTML=L({isTrusted:se.isTrusted,...ne.sanitizerOptions},Le.body.innerHTML),ve.length>0)Promise.all(ve).then(Te=>{var Ae,Pe;if(X)return;const Re=new Map(Te),We=ee.querySelectorAll("div[data-code]");for(const De of We){const Ne=Re.get((Ae=De.dataset.code)!==null&&Ae!==void 0?Ae:"");Ne&&f.reset(De,Ne)}(Pe=ne.asyncRenderCallback)===null||Pe===void 0||Pe.call(ne)});else if(_e.length>0){const Te=new Map(_e),Ae=ee.querySelectorAll("div[data-code]");for(const Pe of Ae){const Re=Te.get((z=Pe.dataset.code)!==null&&z!==void 0?z:"");Re&&f.reset(Pe,Re)}}if(ne.asyncRenderCallback)for(const Te of ee.getElementsByTagName("img")){const Ae=$.add(f.addDisposableListener(Te,"load",()=>{Ae.dispose(),ne.asyncRenderCallback()}))}return{element:ee,dispose:()=>{X=!0,$.dispose()}}}function C(se){if(!se)return"";const ne=se.split(/[\s+|:|,|\{|\?]/,1);return ne.length?ne[0]:se}function S(se,ne){return/^\w[\w\d+.-]*:/.test(ne)?ne:se.path.endsWith("/")?(0,l.resolvePath)(se,ne).toString():(0,l.resolvePath)((0,l.dirname)(se),ne).toString()}const _=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function L(se,ne){const{config:W,allowedSchemes:q}=D(se),z=new n.DisposableStore;z.add(ie("uponSanitizeAttribute",($,X)=>{var ee;if(X.attrName==="style"||X.attrName==="class"){if($.tagName==="SPAN"){if(X.attrName==="style"){X.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(X.attrValue);return}else if(X.attrName==="class"){X.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(X.attrValue);return}}X.keepAttr=!1;return}else if($.tagName==="INPUT"&&((ee=$.attributes.getNamedItem("type"))===null||ee===void 0?void 0:ee.value)==="checkbox"){if(X.attrName==="type"&&X.attrValue==="checkbox"||X.attrName==="disabled"||X.attrName==="checked"){X.keepAttr=!0;return}X.keepAttr=!1}})),z.add(ie("uponSanitizeElement",($,X)=>{var ee;if(X.tagName==="input"&&(((ee=$.attributes.getNamedItem("type"))===null||ee===void 0?void 0:ee.value)==="checkbox"?$.setAttribute("disabled",""):se.replaceWithPlaintext||$.remove()),se.replaceWithPlaintext&&!X.allowedTags[X.tagName]&&X.tagName!=="body"&&$.parentElement){let oe,ce;if(X.tagName==="#comment")oe=`<!--${$.textContent}-->`;else{const Ie=_.includes(X.tagName),Ce=$.attributes.length?" "+Array.from($.attributes).map(Ee=>`${Ee.name}="${Ee.value}"`).join(" "):"";oe=`<${X.tagName}${Ce}>`,Ie||(ce=`</${X.tagName}>`)}const fe=document.createDocumentFragment(),ve=$.parentElement.ownerDocument.createTextNode(oe);fe.appendChild(ve);const _e=ce?$.parentElement.ownerDocument.createTextNode(ce):void 0;for(;$.firstChild;)fe.appendChild($.firstChild);_e&&fe.appendChild(_e),$.parentElement.replaceChild(fe,$)}})),z.add(f.hookDomPurifyHrefAndSrcSanitizer(q));try{return k.sanitize(ne,{...W,RETURN_TRUSTED_TYPE:!0})}finally{z.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function D(se){var ne;const W=[r.Schemas.http,r.Schemas.https,r.Schemas.mailto,r.Schemas.data,r.Schemas.file,r.Schemas.vscodeFileResource,r.Schemas.vscodeRemote,r.Schemas.vscodeRemoteResource];return se.isTrusted&&W.push(r.Schemas.command),{config:{ALLOWED_TAGS:(ne=se.allowedTags)!==null&&ne!==void 0?ne:[...f.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:W}}function T(se){return typeof se=="string"?se:N(se)}function N(se,ne){var W;let q=(W=se.value)!==null&&W!==void 0?W:"";q.length>1e5&&(q=`${q.substr(0,1e5)}\u2026`);const z=c.marked.parse(q,{renderer:ne?P.value:M.value}).replace(/&(#\d+|[a-zA-Z]+);/g,$=>{var X;return(X=A.get($))!==null&&X!==void 0?X:$});return L({isTrusted:!1},z).toString()}const A=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function R(){const se=new c.marked.Renderer;return se.code=ne=>ne,se.blockquote=ne=>ne,se.html=ne=>"",se.heading=(ne,W,q)=>ne+`
`,se.hr=()=>"",se.list=(ne,W)=>ne,se.listitem=ne=>ne+`
`,se.paragraph=ne=>ne+`
`,se.table=(ne,W)=>ne+W+`
`,se.tablerow=ne=>ne,se.tablecell=(ne,W)=>ne+" ",se.strong=ne=>ne,se.em=ne=>ne,se.codespan=ne=>ne,se.br=()=>`
`,se.del=ne=>ne,se.image=(ne,W,q)=>"",se.text=ne=>ne,se.link=(ne,W,q)=>q,se}const M=new i.Lazy(se=>R()),P=new i.Lazy(()=>{const se=R();return se.code=ne=>`
\`\`\`
${ne}
\`\`\`
`,se});function x(se){let ne="";return se.forEach(W=>{ne+=W.raw}),ne}function O(se){var ne,W;if(se.tokens)for(let q=se.tokens.length-1;q>=0;q--){const z=se.tokens[q];if(z.type==="text"){const $=z.raw.split(`
`),X=$[$.length-1];if(X.includes("`"))return Q(se);if(X.includes("**"))return de(se);if(X.match(/\*\w/))return Z(se);if(X.match(/(^|\s)__\w/))return he(se);if(X.match(/(^|\s)_\w/))return G(se);if(B(X)||H(X)&&se.tokens.slice(0,q).some(ee=>ee.type==="text"&&ee.raw.match(/\[[^\]]*$/))){const ee=se.tokens.slice(q+1);return((ne=ee[0])===null||ne===void 0?void 0:ne.type)==="link"&&((W=ee[1])===null||W===void 0?void 0:W.type)==="text"&&ee[1].raw.match(/^ *"[^"]*$/)||X.match(/^[^"]* +"[^"]*$/)?J(se):F(se)}else if(X.match(/(^|\s)\[\w*/))return te(se)}}}function B(se){return!!se.match(/(^|\s)\[.*\]\(\w*/)}function H(se){return!!se.match(/^[^\[]*\]\([^\)]*$/)}function K(se){var ne;const W=se.items[se.items.length-1],q=W.tokens?W.tokens[W.tokens.length-1]:void 0;let z;if(q?.type==="text"&&!("inRawBlock"in W)&&(z=O(q)),!z||z.type!=="paragraph")return;const $=x(se.items.slice(0,-1)),X=(ne=W.raw.match(/^(\s*(-|\d+\.|\*) +)/))===null||ne===void 0?void 0:ne[0];if(!X)return;const ee=X+x(W.tokens.slice(0,-1))+z.raw,oe=c.marked.lexer($+ee)[0];if(oe.type==="list")return oe}const V=3;function j(se){for(let ne=0;ne<V;ne++){const W=U(se);if(W)se=W;else break}return se}function U(se){let ne,W;for(ne=0;ne<se.length;ne++){const q=se[ne];let z;if(q.type==="paragraph"&&(z=q.raw.match(/(\n|^)(````*)/))){const $=z[2];W=Y(se.slice(ne),$);break}if(q.type==="paragraph"&&q.raw.match(/(\n|^)\|/)){W=ue(se.slice(ne));break}if(ne===se.length-1&&q.type==="list"){const $=K(q);if($){W=[$];break}}if(ne===se.length-1&&q.type==="paragraph"){const $=O(q);if($){W=[$];break}}}if(W){const q=[...se.slice(0,ne),...W];return q.links=se.links,q}return null}function Y(se,ne){const W=x(se);return c.marked.lexer(W+`
${ne}`)}function Q(se){return pe(se,"`")}function Z(se){return pe(se,"*")}function G(se){return pe(se,"_")}function F(se){return pe(se,")")}function J(se){return pe(se,'")')}function te(se){return pe(se,"](https://microsoft.com)")}function de(se){return pe(se,"**")}function he(se){return pe(se,"__")}function pe(se,ne){const W=x(Array.isArray(se)?se:[se]);return c.marked.lexer(W+ne)[0]}function ue(se){const ne=x(se),W=ne.split(`
`);let q,z=!1;for(let $=0;$<W.length;$++){const X=W[$].trim();if(typeof q>"u"&&X.match(/^\s*\|/)){const ee=X.match(/(\|[^\|]+)(?=\||$)/g);ee&&(q=ee.length)}else if(typeof q=="number")if(X.match(/^\s*\|/)){if($!==W.length-1)return;z=!0}else return}if(typeof q=="number"&&q>0){const $=z?W.slice(0,-1).join(`
`):ne,X=!!$.match(/\|\s*$/),ee=$+(X?"":"|")+`
|${" --- |".repeat(q)}`;return c.marked.lexer(ee)}}function ie(se,ne){return k.addHook(se,ne),(0,n.toDisposable)(()=>k.removeHook(se))}}),define(re[193],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let f;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f=crypto.getRandomValues.bind(crypto):f=function(I){for(let y=0;y<I.length;y++)I[y]=Math.floor(Math.random()*256);return I};const k=new Uint8Array(16),E=[];for(let I=0;I<256;I++)E.push(I.toString(16).padStart(2,"0"));return function(){f(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let y=0,m="";return m+=E[k[y++]],m+=E[k[y++]],m+=E[k[y++]],m+=E[k[y++]],m+="-",m+=E[k[y++]],m+=E[k[y++]],m+="-",m+=E[k[y++]],m+=E[k[y++]],m+="-",m+=E[k[y++]],m+=E[k[y++]],m+="-",m+=E[k[y++]],m+=E[k[y++]],m+=E[k[y++]],m+=E[k[y++]],m+=E[k[y++]],m+=E[k[y++]],m}}()}),define(re[194],ae([1,0,13,53,193]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=void 0,e.createStringDataTransferItem=I,e.createFileDataTransferItem=y,e.matchesMimeType=b;function I(s){return{asString:async()=>s,asFile:()=>{},value:typeof s=="string"?s:void 0}}function y(s,o,t){const i={id:(0,E.generateUuid)(),name:s,uri:o,data:t};return{asString:async()=>"",asFile:()=>i,value:void 0}}class m{constructor(){this._entries=new Map}get size(){let o=0;for(const t of this._entries)o++;return o}has(o){return this._entries.has(this.toKey(o))}matches(o){const t=[...this._entries.keys()];return k.Iterable.some(this,([i,n])=>n.asFile())&&t.push("files"),v(w(o),t)}get(o){var t;return(t=this._entries.get(this.toKey(o)))===null||t===void 0?void 0:t[0]}append(o,t){const i=this._entries.get(o);i?i.push(t):this._entries.set(this.toKey(o),[t])}replace(o,t){this._entries.set(this.toKey(o),[t])}delete(o){this._entries.delete(this.toKey(o))}*[Symbol.iterator](){for(const[o,t]of this._entries)for(const i of t)yield[o,i]}toKey(o){return w(o)}}e.VSDataTransfer=m;function w(s){return s.toLowerCase()}function b(s,o){return v(w(s),o.map(w))}function v(s,o){if(s==="*/*")return o.length>0;if(o.includes(s))return!0;const t=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[i,n,c]=t;return c==="*"?o.some(u=>u.startsWith(n+"/")):!1}e.UriList=Object.freeze({create:s=>(0,f.distinct)(s.map(o=>o.toString())).join(`\r
`),split:s=>s.split(`\r
`),parse:s=>e.UriList.split(s).filter(o=>!o.startsWith("#"))})}),define(re[308],ae([1,0,8,6,2,54,16,11]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleWorkerServer=e.SimpleWorkerClient=void 0,e.logOnceWebWorkerWarning=v,e.create=p;const w="$initialize";let b=!1;function v(h){y.isWeb&&(b||(b=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(h.message))}class s{constructor(g,C,S,_){this.vsWorker=g,this.req=C,this.method=S,this.args=_,this.type=0}}class o{constructor(g,C,S,_){this.vsWorker=g,this.seq=C,this.res=S,this.err=_,this.type=1}}class t{constructor(g,C,S,_){this.vsWorker=g,this.req=C,this.eventName=S,this.arg=_,this.type=2}}class i{constructor(g,C,S){this.vsWorker=g,this.req=C,this.event=S,this.type=3}}class n{constructor(g,C){this.vsWorker=g,this.req=C,this.type=4}}class c{constructor(g){this._workerId=-1,this._handler=g,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(g){this._workerId=g}sendMessage(g,C){const S=String(++this._lastSentReq);return new Promise((_,L)=>{this._pendingReplies[S]={resolve:_,reject:L},this._send(new s(this._workerId,S,g,C))})}listen(g,C){let S=null;const _=new k.Emitter({onWillAddFirstListener:()=>{S=String(++this._lastSentReq),this._pendingEmitters.set(S,_),this._send(new t(this._workerId,S,g,C))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(S),this._send(new n(this._workerId,S)),S=null}});return _.event}handleMessage(g){!g||!g.vsWorker||this._workerId!==-1&&g.vsWorker!==this._workerId||this._handleMessage(g)}_handleMessage(g){switch(g.type){case 1:return this._handleReplyMessage(g);case 0:return this._handleRequestMessage(g);case 2:return this._handleSubscribeEventMessage(g);case 3:return this._handleEventMessage(g);case 4:return this._handleUnsubscribeEventMessage(g)}}_handleReplyMessage(g){if(!this._pendingReplies[g.seq]){console.warn("Got reply to unknown seq");return}const C=this._pendingReplies[g.seq];if(delete this._pendingReplies[g.seq],g.err){let S=g.err;g.err.$isError&&(S=new Error,S.name=g.err.name,S.message=g.err.message,S.stack=g.err.stack),C.reject(S);return}C.resolve(g.res)}_handleRequestMessage(g){const C=g.req;this._handler.handleMessage(g.method,g.args).then(_=>{this._send(new o(this._workerId,C,_,void 0))},_=>{_.detail instanceof Error&&(_.detail=(0,f.transformErrorForSerialization)(_.detail)),this._send(new o(this._workerId,C,void 0,(0,f.transformErrorForSerialization)(_)))})}_handleSubscribeEventMessage(g){const C=g.req,S=this._handler.handleEvent(g.eventName,g.arg)(_=>{this._send(new i(this._workerId,C,_))});this._pendingEvents.set(C,S)}_handleEventMessage(g){if(!this._pendingEmitters.has(g.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(g.req).fire(g.event)}_handleUnsubscribeEventMessage(g){if(!this._pendingEvents.has(g.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(g.req).dispose(),this._pendingEvents.delete(g.req)}_send(g){const C=[];if(g.type===0)for(let S=0;S<g.args.length;S++)g.args[S]instanceof ArrayBuffer&&C.push(g.args[S]);else g.type===1&&g.res instanceof ArrayBuffer&&C.push(g.res);this._handler.sendMessage(g,C)}}class u extends E.Disposable{constructor(g,C,S){super();let _=null;this._worker=this._register(g.create("vs/base/common/worker/simpleWorker",R=>{this._protocol.handleMessage(R)},R=>{_?.(R)})),this._protocol=new c({sendMessage:(R,M)=>{this._worker.postMessage(R,M)},handleMessage:(R,M)=>{if(typeof S[R]!="function")return Promise.reject(new Error("Missing method "+R+" on main thread host."));try{return Promise.resolve(S[R].apply(S,M))}catch(P){return Promise.reject(P)}},handleEvent:(R,M)=>{if(a(R)){const P=S[R].call(S,M);if(typeof P!="function")throw new Error(`Missing dynamic event ${R} on main thread host.`);return P}if(r(R)){const P=S[R];if(typeof P!="function")throw new Error(`Missing event ${R} on main thread host.`);return P}throw new Error(`Malformed event name ${R}`)}}),this._protocol.setWorkerId(this._worker.getId());let L=null;const D=globalThis.require;typeof D<"u"&&typeof D.getConfig=="function"?L=D.getConfig():typeof globalThis.requirejs<"u"&&(L=globalThis.requirejs.s.contexts._.config);const T=(0,I.getAllMethodNames)(S);this._onModuleLoaded=this._protocol.sendMessage(w,[this._worker.getId(),JSON.parse(JSON.stringify(L)),C,T]);const N=(R,M)=>this._request(R,M),A=(R,M)=>this._protocol.listen(R,M);this._lazyProxy=new Promise((R,M)=>{_=M,this._onModuleLoaded.then(P=>{R(l(P,N,A))},P=>{M(P),this._onError("Worker failed to load "+C,P)})})}getProxyObject(){return this._lazyProxy}_request(g,C){return new Promise((S,_)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(g,C).then(S,_)},_)})}_onError(g,C){console.error(g),console.info(C)}}e.SimpleWorkerClient=u;function r(h){return h[0]==="o"&&h[1]==="n"&&m.isUpperAsciiLetter(h.charCodeAt(2))}function a(h){return/^onDynamic/.test(h)&&m.isUpperAsciiLetter(h.charCodeAt(9))}function l(h,g,C){const S=D=>function(){const T=Array.prototype.slice.call(arguments,0);return g(D,T)},_=D=>function(T){return C(D,T)},L={};for(const D of h){if(a(D)){L[D]=_(D);continue}if(r(D)){L[D]=C(D,void 0);continue}L[D]=S(D)}return L}class d{constructor(g,C){this._requestHandlerFactory=C,this._requestHandler=null,this._protocol=new c({sendMessage:(S,_)=>{g(S,_)},handleMessage:(S,_)=>this._handleMessage(S,_),handleEvent:(S,_)=>this._handleEvent(S,_)})}onmessage(g){this._protocol.handleMessage(g)}_handleMessage(g,C){if(g===w)return this.initialize(C[0],C[1],C[2],C[3]);if(!this._requestHandler||typeof this._requestHandler[g]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+g));try{return Promise.resolve(this._requestHandler[g].apply(this._requestHandler,C))}catch(S){return Promise.reject(S)}}_handleEvent(g,C){if(!this._requestHandler)throw new Error("Missing requestHandler");if(a(g)){const S=this._requestHandler[g].call(this._requestHandler,C);if(typeof S!="function")throw new Error(`Missing dynamic event ${g} on request handler.`);return S}if(r(g)){const S=this._requestHandler[g];if(typeof S!="function")throw new Error(`Missing event ${g} on request handler.`);return S}throw new Error(`Malformed event name ${g}`)}initialize(g,C,S,_){this._protocol.setWorkerId(g);const T=l(_,(N,A)=>this._protocol.sendMessage(N,A),(N,A)=>this._protocol.listen(N,A));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,I.getAllMethodNames)(this._requestHandler))):(C&&(typeof C.baseUrl<"u"&&delete C.baseUrl,typeof C.paths<"u"&&typeof C.paths.vs<"u"&&delete C.paths.vs,typeof C.trustedTypesPolicy<"u"&&delete C.trustedTypesPolicy,C.catchError=!0,globalThis.require.config(C)),new Promise((N,A)=>{(globalThis.require||le)([S],M=>{if(this._requestHandler=M.create(T),!this._requestHandler){A(new Error("No RequestHandler!"));return}N((0,I.getAllMethodNames)(this._requestHandler))},A)}))}}e.SimpleWorkerServer=d;function p(h){return new d(h,null)}}),define(re[464],ae([1,0,102,8,46,308,2]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=void 0,e.getWorkerBootstrapUrl=b;const m=(0,f.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:t=>t});function w(t){const i=globalThis.MonacoEnvironment;if(i){if(typeof i.getWorker=="function")return i.getWorker("workerMain.js",t);if(typeof i.getWorkerUrl=="function"){const n=i.getWorkerUrl("workerMain.js",t);return new Worker(m?m.createScriptURL(n):n,{name:t})}}if(typeof le=="function"){const n=le.toUrl("vs/base/worker/workerMain.js"),c=b(n,t);return new Worker(m?m.createScriptURL(c):c,{name:t})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(t,i){if(!(/^((http:)|(https:)|(file:))/.test(t)&&t.substring(0,globalThis.origin.length)!==globalThis.origin)){const r=t.lastIndexOf("?"),a=t.lastIndexOf("#",r),l=r>0?new URLSearchParams(t.substring(r+1,~a?a:void 0)):new URLSearchParams;E.COI.addSearchParam(l,!0,!0),l.toString()?t=`${t}?${l.toString()}#${i}`:t=`${t}#${i}`}const n="vs/base/worker/defaultWorkerFactory.js",c=le.toUrl(n).slice(0,-n.length),u=new Blob([[`/*${i}*/`,`globalThis.MonacoEnvironment = { baseUrl: '${c}' };`,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify(globalThis._VSCODE_NLS_MESSAGES)};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(globalThis._VSCODE_NLS_LANGUAGE)};`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });",`importScripts(ttPolicy?.createScriptURL('${t}') ?? '${t}');`,`/*${i}*/`].join("")],{type:"application/javascript"});return URL.createObjectURL(u)}function v(t){return typeof t.then=="function"}class s extends y.Disposable{constructor(i,n,c,u,r){super(),this.id=n,this.label=c;const a=w(c);v(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(i,[]),this.worker.then(l=>{l.onmessage=function(d){u(d.data)},l.onmessageerror=r,typeof l.addEventListener=="function"&&l.addEventListener("error",r)}),this._register((0,y.toDisposable)(()=>{var l;(l=this.worker)===null||l===void 0||l.then(d=>{d.onmessage=null,d.onmessageerror=null,d.removeEventListener("error",r),d.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(i,n){var c;(c=this.worker)===null||c===void 0||c.then(u=>{try{u.postMessage(i,n)}catch(r){(0,k.onUnexpectedError)(r),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:r}))}})}}class o{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,n,c){const u=++o.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new s(i,u,this._label||"anonymous"+u,n,r=>{(0,I.logOnceWebWorkerWarning)(r),this._webWorkerFailedBeforeError=r,c(r)})}}e.DefaultWorkerFactory=o,o.LAST_WORKER_ID=0}),define(re[465],ae([1,0,14,6,2,228,19]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var m;(function(s){s[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(m||(e.StorageHint=m={}));var w;(function(s){s[s.None=0]="None",s[s.Initialized=1]="Initialized",s[s.Closed=2]="Closed"})(w||(e.StorageState=w={}));class b extends E.Disposable{constructor(o,t=Object.create(null)){super(),this.database=o,this.options=t,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=this._register(new f.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(o=>this.onDidChangeItemsExternal(o)))}onDidChangeItemsExternal(o){var t,i;this._onDidChangeStorage.pause();try{(t=o.changed)===null||t===void 0||t.forEach((n,c)=>this.acceptExternal(c,n)),(i=o.deleted)===null||i===void 0||i.forEach(n=>this.acceptExternal(n,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(o,t){if(this.state===w.Closed)return;let i=!1;(0,y.isUndefinedOrNull)(t)?i=this.cache.delete(o):this.cache.get(o)!==t&&(this.cache.set(o,t),i=!0),i&&this._onDidChangeStorage.fire({key:o,external:!0})}get(o,t){const i=this.cache.get(o);return(0,y.isUndefinedOrNull)(i)?t:i}getBoolean(o,t){const i=this.get(o);return(0,y.isUndefinedOrNull)(i)?t:i==="true"}getNumber(o,t){const i=this.get(o);return(0,y.isUndefinedOrNull)(i)?t:parseInt(i,10)}async set(o,t,i=!1){if(this.state===w.Closed)return;if((0,y.isUndefinedOrNull)(t))return this.delete(o,i);const n=(0,y.isObject)(t)||Array.isArray(t)?(0,I.stringify)(t):String(t);if(this.cache.get(o)!==n)return this.cache.set(o,n),this.pendingInserts.set(o,n),this.pendingDeletes.delete(o),this._onDidChangeStorage.fire({key:o,external:i}),this.doFlush()}async delete(o,t=!1){if(!(this.state===w.Closed||!this.cache.delete(o)))return this.pendingDeletes.has(o)||this.pendingDeletes.add(o),this.pendingInserts.delete(o),this._onDidChangeStorage.fire({key:o,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const o={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(o).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})}async doFlush(o){return this.options.hint===m.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),o)}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}async updateItems(o){var t,i;(t=o.insert)===null||t===void 0||t.forEach((n,c)=>this.items.set(c,n)),(i=o.delete)===null||i===void 0||i.forEach(n=>this.items.delete(n))}}e.InMemoryStorageDatabase=v}),define(re[309],ae([10]),{}),define(re[466],ae([10]),{}),define(re[47],ae([1,0,4,466]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setARIAContainer=b,e.alert=v,e.status=s;const k=2e4;let E,I,y,m,w;function b(t){E=document.createElement("div"),E.className="monaco-aria-container";const i=()=>{const c=document.createElement("div");return c.className="monaco-alert",c.setAttribute("role","alert"),c.setAttribute("aria-atomic","true"),E.appendChild(c),c};I=i(),y=i();const n=()=>{const c=document.createElement("div");return c.className="monaco-status",c.setAttribute("aria-live","polite"),c.setAttribute("aria-atomic","true"),E.appendChild(c),c};m=n(),w=n(),t.appendChild(E)}function v(t){E&&(I.textContent!==t?(f.clearNode(y),o(I,t)):(f.clearNode(I),o(y,t)))}function s(t){E&&(m.textContent!==t?(f.clearNode(w),o(m,t)):(f.clearNode(m),o(w,t)))}function o(t,i){f.clearNode(t),i.length>k&&(i=i.substr(0,k)),t.textContent=i,t.style.visibility="hidden",t.style.visibility="visible"}}),define(re[467],ae([10]),{}),define(re[231],ae([1,0,4,304,45,192,68,43,111,33,6,55,2,30,82,467]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:b.Color.white.toString(),buttonForeground:b.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class n extends o.Disposable{get onDidClick(){return this._onDidClick.event}constructor(u,r){super(),this._label="",this._onDidClick=this._register(new v.Emitter),this._onDidEscape=this._register(new v.Emitter),this.options=r,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!r.secondary);const a=r.secondary?r.buttonSecondaryBackground:r.buttonBackground,l=r.secondary?r.buttonSecondaryForeground:r.buttonForeground;this._element.style.color=l||"",this._element.style.backgroundColor=a||"",r.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof r.title=="string"&&this.setTitle(r.title),typeof r.ariaLabel=="string"&&this._element.setAttribute("aria-label",r.ariaLabel),u.appendChild(this._element),this._register(y.Gesture.addTarget(this._element)),[f.EventType.CLICK,y.EventType.Tap].forEach(d=>{this._register((0,f.addDisposableListener)(this._element,d,p=>{if(!this.enabled){f.EventHelper.stop(p);return}this._onDidClick.fire(p)}))}),this._register((0,f.addDisposableListener)(this._element,f.EventType.KEY_DOWN,d=>{const p=new E.StandardKeyboardEvent(d);let h=!1;this.enabled&&(p.equals(3)||p.equals(10))?(this._onDidClick.fire(d),h=!0):p.equals(9)&&(this._onDidEscape.fire(d),this._element.blur(),h=!0),h&&f.EventHelper.stop(p,!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OUT,d=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,f.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(u){const r=[];for(let a of(0,w.renderLabelWithIcons)(u))if(typeof a=="string"){if(a=a.trim(),a==="")continue;const l=document.createElement("span");l.textContent=a,r.push(l)}else r.push(a);return r}updateBackground(u){let r;this.options.secondary?r=u?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:r=u?this.options.buttonHoverBackground:this.options.buttonBackground,r&&(this._element.style.backgroundColor=r)}get element(){return this._element}set label(u){var r;if(this._label===u||(0,s.isMarkdownString)(this._label)&&(0,s.isMarkdownString)(u)&&(0,s.markdownStringEqual)(this._label,u))return;this._element.classList.add("monaco-text-button");const a=this.options.supportShortLabel?this._labelElement:this._element;if((0,s.isMarkdownString)(u)){const d=(0,I.renderMarkdown)(u,{inline:!0});d.dispose();const p=(r=d.element.querySelector("p"))===null||r===void 0?void 0:r.innerHTML;if(p){const h=(0,k.sanitize)(p,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});a.innerHTML=h}else(0,f.reset)(a)}else this.options.supportIcons?(0,f.reset)(a,...this.getContentElements(u)):a.textContent=u;let l="";typeof this.options.title=="string"?l=this.options.title:this.options.title&&(l=(0,I.renderStringAsPlaintext)(u)),this.setTitle(l),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",l),this._label=u}get label(){return this._label}set icon(u){this._element.classList.add(...t.ThemeIcon.asClassNameArray(u))}set enabled(u){u?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(u){var r;!this._hover&&u!==""?this._hover=this._register((0,i.getBaseLayerHoverDelegate)().setupManagedHover((r=this.options.hoverDelegate)!==null&&r!==void 0?r:(0,m.getDefaultHoverDelegate)("mouse"),this._element,u)):this._hover&&this._hover.update(u)}}e.Button=n}),define(re[468],ae([10]),{}),define(re[469],ae([10]),{}),define(re[195],ae([1,0,468,469]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(re[470],ae([10]),{}),define(re[310],ae([1,0,222,4,2,16,188,470]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.LayoutAnchorMode=void 0,e.isAnchor=m,e.layout=b;function m(o){const t=o;return!!t&&typeof t.x=="number"&&typeof t.y=="number"}var w;(function(o){o[o.AVOID=0]="AVOID",o[o.ALIGN=1]="ALIGN"})(w||(e.LayoutAnchorMode=w={}));function b(o,t,i){const n=i.mode===w.ALIGN?i.offset:i.offset+i.size,c=i.mode===w.ALIGN?i.offset+i.size:i.offset;return i.position===0?t<=o-n?n:t<=c?c-t:Math.max(o-t,0):t<=c?c-t:t<=o-n?n:0}class v extends E.Disposable{constructor(t,i){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=E.Disposable.None,this.toDisposeOnSetContainer=E.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),k.hide(this.view),this.setContainer(t,i),this._register((0,E.toDisposable)(()=>this.setContainer(null,1)))}setContainer(t,i){var n;this.useFixedPosition=i!==1;const c=this.useShadowDOM;if(this.useShadowDOM=i===3,!(t===this.container&&c===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.view.remove(),this.shadowRoot&&(this.shadowRoot=null,(n=this.shadowRootHostElement)===null||n===void 0||n.remove(),this.shadowRootHostElement=null),this.container=null),t)){if(this.container=t,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=s,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const u=new E.DisposableStore;v.BUBBLE_UP_EVENTS.forEach(r=>{u.add(k.addStandardDisposableListener(this.container,r,a=>{this.onDOMEvent(a,!1)}))}),v.BUBBLE_DOWN_EVENTS.forEach(r=>{u.add(k.addStandardDisposableListener(this.container,r,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(t){var i,n,c;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+((i=t.layer)!==null&&i!==void 0?i:0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=t.render(this.view)||E.Disposable.None,this.delegate=t,this.doLayout(),(c=(n=this.delegate).focus)===null||c===void 0||c.call(n)}getViewElement(){return this.view}layout(){var t,i;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&f.BrowserFeatures.pointerEvents)){this.hide();return}(i=(t=this.delegate)===null||t===void 0?void 0:t.layout)===null||i===void 0||i.call(t),this.doLayout()}}doLayout(){if(!this.isVisible())return;const t=this.delegate.getAnchor();let i;if(k.isHTMLElement(t)){const g=k.getDomNodePagePosition(t),C=k.getDomNodeZoomLevel(t);i={top:g.top*C,left:g.left*C,width:g.width*C,height:g.height*C}}else m(t)?i={top:t.y,left:t.x,width:t.width||1,height:t.height||2}:i={top:t.posy,left:t.posx,width:2,height:2};const n=k.getTotalWidth(this.view),c=k.getTotalHeight(this.view),u=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,d;const p=k.getActiveWindow();if(a===0){const g={offset:i.top-p.pageYOffset,size:i.height,position:u===0?0:1},C={offset:i.left,size:i.width,position:r===0?0:1,mode:w.ALIGN};l=b(p.innerHeight,c,g)+p.pageYOffset,y.Range.intersects({start:l,end:l+c},{start:g.offset,end:g.offset+g.size})&&(C.mode=w.AVOID),d=b(p.innerWidth,n,C)}else{const g={offset:i.left,size:i.width,position:r===0?0:1},C={offset:i.top,size:i.height,position:u===0?0:1,mode:w.ALIGN};d=b(p.innerWidth,n,g),y.Range.intersects({start:d,end:d+n},{start:g.offset,end:g.offset+g.size})&&(C.mode=w.AVOID),l=b(p.innerHeight,c,C)+p.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(u===0?"bottom":"top"),this.view.classList.add(r===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=k.getDomNodePagePosition(this.container);this.view.style.top=`${l-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${d-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(t){const i=this.delegate;this.delegate=null,i?.onHide&&i.onHide(t),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,k.getWindow(t).document.activeElement):i&&!k.isAncestor(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=v,v.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],v.BUBBLE_DOWN_EVENTS=["click"];const s=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(re[471],ae([10]),{}),define(re[311],ae([1,0,4,11,471]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class E{constructor(y,m,w){this.options=m,this.styles=w,this.count=0,this.element=(0,f.append)(y,(0,f.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(y){this.count=y,this.render()}setTitleFormat(y){this.titleFormat=y,this.render()}render(){var y,m;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(y=this.styles.badgeBackground)!==null&&y!==void 0?y:"",this.element.style.color=(m=this.styles.badgeForeground)!==null&&m!==void 0?m:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=E}),define(re[312],ae([10]),{}),define(re[313],ae([10]),{}),define(re[472],ae([10]),{}),define(re[473],ae([10]),{}),define(re[232],ae([1,0,4,306,2,54,188,43,82,19,139,473]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class s{constructor(u){this._element=u}get element(){return this._element}set textContent(u){this.disposed||u===this._textContent||(this._textContent=u,this._element.textContent=u)}set className(u){this.disposed||u===this._className||(this._className=u,this._element.className=u)}set empty(u){this.disposed||u===this._empty||(this._empty=u,this._element.style.marginLeft=u?"0":"")}dispose(){this.disposed=!0}}class o extends E.Disposable{constructor(u,r){var a;super(),this.customHovers=new Map,this.creationOptions=r,this.domNode=this._register(new s(f.append(u,f.$(".monaco-icon-label")))),this.labelContainer=f.append(this.domNode.element,f.$(".monaco-icon-label-container")),this.nameContainer=f.append(this.labelContainer,f.$("span.monaco-icon-name-container")),r?.supportHighlights||r?.supportIcons?this.nameNode=this._register(new n(this.nameContainer,!!r.supportIcons)):this.nameNode=new t(this.nameContainer),this.hoverDelegate=(a=r?.hoverDelegate)!==null&&a!==void 0?a:(0,m.getDefaultHoverDelegate)("mouse")}get element(){return this.domNode.element}setLabel(u,r,a){var l;const d=["monaco-icon-label"],p=["monaco-icon-label-container"];let h="";a&&(a.extraClasses&&d.push(...a.extraClasses),a.italic&&d.push("italic"),a.strikethrough&&d.push("strikethrough"),a.disabledCommand&&p.push("disabled"),a.title&&(typeof a.title=="string"?h+=a.title:h+=u));const g=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(a?.iconPath){let C;!g||!f.isHTMLElement(g)?(C=f.$(".monaco-icon-label-iconpath"),this.domNode.element.prepend(C)):C=g,C.style.backgroundImage=f.asCSSUrl(a?.iconPath)}else g&&g.remove();if(this.domNode.className=d.join(" "),this.domNode.element.setAttribute("aria-label",h),this.labelContainer.className=p.join(" "),this.setupHover(a?.descriptionTitle?this.labelContainer:this.element,a?.title),this.nameNode.setLabel(u,a),r||this.descriptionNode){const C=this.getOrCreateDescriptionNode();C instanceof k.HighlightedLabel?(C.set(r||"",a?a.descriptionMatches:void 0,void 0,a?.labelEscapeNewLines),this.setupHover(C.element,a?.descriptionTitle)):(C.textContent=r&&a?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(r,[]):r||"",this.setupHover(C.element,a?.descriptionTitle||""),C.empty=!r)}if(a?.suffix||this.suffixNode){const C=this.getOrCreateSuffixNode();C.textContent=(l=a?.suffix)!==null&&l!==void 0?l:""}}setupHover(u,r){const a=this.customHovers.get(u);if(a&&(a.dispose(),this.customHovers.delete(u)),!r){u.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(function(d,p){(0,b.isString)(p)?d.title=(0,v.stripIcons)(p):p?.markdownNotSupportedFallback?d.title=p.markdownNotSupportedFallback:d.removeAttribute("title")})(u,r);else{const l=(0,w.getBaseLayerHoverDelegate)().setupManagedHover(this.hoverDelegate,u,r);l&&this.customHovers.set(u,l)}}dispose(){super.dispose();for(const u of this.customHovers.values())u.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const u=this._register(new s(f.after(this.nameContainer,f.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new s(f.append(u.element,f.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var u;if(!this.descriptionNode){const r=this._register(new s(f.append(this.labelContainer,f.$("span.monaco-icon-description-container"))));!((u=this.creationOptions)===null||u===void 0)&&u.supportDescriptionHighlights?this.descriptionNode=this._register(new k.HighlightedLabel(f.append(r.element,f.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new s(f.append(r.element,f.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=o;class t{constructor(u){this.container=u,this.label=void 0,this.singleLabel=void 0}setLabel(u,r){if(!(this.label===u&&(0,I.equals)(this.options,r)))if(this.label=u,this.options=r,typeof u=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=f.append(this.container,f.$("a.label-name",{id:r?.domId}))),this.singleLabel.textContent=u;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let a=0;a<u.length;a++){const l=u[a],d=r?.domId&&`${r?.domId}_${a}`;f.append(this.container,f.$("a.label-name",{id:d,"data-icon-label-count":u.length,"data-icon-label-index":a,role:"treeitem"},l)),a<u.length-1&&f.append(this.container,f.$("span.label-separator",void 0,r?.separator||"/"))}}}}function i(c,u,r){if(!r)return;let a=0;return c.map(l=>{const d={start:a,end:a+l.length},p=r.map(h=>y.Range.intersect(d,h)).filter(h=>!y.Range.isEmpty(h)).map(({start:h,end:g})=>({start:h-a,end:g-a}));return a=d.end+u.length,p})}class n extends E.Disposable{constructor(u,r){super(),this.container=u,this.supportIcons=r,this.label=void 0,this.singleLabel=void 0}setLabel(u,r){if(!(this.label===u&&(0,I.equals)(this.options,r)))if(this.label=u,this.options=r,typeof u=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new k.HighlightedLabel(f.append(this.container,f.$("a.label-name",{id:r?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(u,r?.matches,void 0,r?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const a=r?.separator||"/",l=i(u,a,r?.matches);for(let d=0;d<u.length;d++){const p=u[d],h=l?l[d]:void 0,g=r?.domId&&`${r?.domId}_${d}`,C=f.$("a.label-name",{id:g,"data-icon-label-count":u.length,"data-icon-label-index":d,role:"treeitem"});this._register(new k.HighlightedLabel(f.append(this.container,C),{supportIcons:this.supportIcons})).set(p,h,void 0,r?.labelEscapeNewLines),d<u.length-1&&f.append(C,f.$("span.label-separator",void 0,a))}}}}}),define(re[474],ae([10]),{}),define(re[475],ae([10]),{}),define(re[314],ae([10]),{}),define(re[476],ae([10]),{}),define(re[233],ae([1,0,476]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(re[477],ae([10]),{}),define(re[478],ae([1,0,4,14,2,477]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const I="done",y="active",m="infinite",w="infinite-long-running",b="discrete";class v extends E.Disposable{constructor(o,t){super(),this.progressSignal=this._register(new E.MutableDisposable),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,f.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),v.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(o,t)}create(o,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),o.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=t?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(y,m,w,b),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(o){return this.element.classList.add(I),this.element.classList.contains(m)?(this.bit.style.opacity="0",o?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",o?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(b,I,w),this.element.classList.add(y,m),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(w)}getContainer(){return this.element}}e.ProgressBar=v,v.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(re[479],ae([10]),{}),define(re[162],ae([1,0,4,92,68,14,124,6,2,16,479]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const v=!1;var s;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(s||(e.OrthogonalEdge=s={}));let o=4;const t=new m.Emitter;let i=300;const n=new m.Emitter;class c{constructor(p){this.el=p,this.disposables=new w.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}ke([y.memoize],c.prototype,"onPointerMove",null),ke([y.memoize],c.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,E.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,E.EventType.End)).event}constructor(p){this.el=p,this.disposables=new w.DisposableStore}dispose(){this.disposables.dispose()}}ke([y.memoize],u.prototype,"onPointerMove",null),ke([y.memoize],u.prototype,"onPointerUp",null);class r{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(p){this.factory=p}dispose(){}}ke([y.memoize],r.prototype,"onPointerMove",null),ke([y.memoize],r.prototype,"onPointerUp",null);const a="pointer-events-disabled";class l extends w.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(p){this._state!==p&&(this.el.classList.toggle("disabled",p===0),this.el.classList.toggle("minimum",p===1),this.el.classList.toggle("maximum",p===2),this._state=p,this.onDidEnablementChange.fire(p))}set orthogonalStartSash(p){if(this._orthogonalStartSash!==p){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),p){const h=g=>{this.orthogonalStartDragHandleDisposables.clear(),g!==0&&(this._orthogonalStartDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>l.onMouseEnter(p),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>l.onMouseLeave(p),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(p.onDidEnablementChange.event(h,this)),h(p.state)}this._orthogonalStartSash=p}}set orthogonalEndSash(p){if(this._orthogonalEndSash!==p){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),p){const h=g=>{this.orthogonalEndDragHandleDisposables.clear(),g!==0&&(this._orthogonalEndDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>l.onMouseEnter(p),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>l.onMouseLeave(p),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(p.onDidEnablementChange.event(h,this)),h(p.state)}this._orthogonalEndSash=p}}constructor(p,h,g){super(),this.hoverDelay=i,this.hoverDelayer=this._register(new I.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new m.Emitter),this._onDidStart=this._register(new m.Emitter),this._onDidChange=this._register(new m.Emitter),this._onDidReset=this._register(new m.Emitter),this._onDidEnd=this._register(new m.Emitter),this.orthogonalStartSashDisposables=this._register(new w.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new w.DisposableStore),this.orthogonalEndSashDisposables=this._register(new w.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new w.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,f.append)(p,(0,f.$)(".monaco-sash")),g.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${g.orthogonalEdge}`),b.isMacintosh&&this.el.classList.add("mac");const C=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(C(A=>this.onPointerStart(A,new c(p)),this));const S=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(S(this.onPointerDoublePress,this));const _=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(_(()=>l.onMouseEnter(this)));const L=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(L(()=>l.onMouseLeave(this))),this._register(E.Gesture.addTarget(this.el));const D=this._register(new k.DomEmitter(this.el,E.EventType.Start)).event;this._register(D(A=>this.onPointerStart(A,new u(this.el)),this));const T=this._register(new k.DomEmitter(this.el,E.EventType.Tap)).event;let N;this._register(T(A=>{if(N){clearTimeout(N),N=void 0,this.onPointerDoublePress(A);return}clearTimeout(N),N=setTimeout(()=>N=void 0,250)},this)),typeof g.size=="number"?(this.size=g.size,g.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=o,this._register(t.event(A=>{this.size=A,this.layout()}))),this._register(n.event(A=>this.hoverDelay=A)),this.layoutProvider=h,this.orthogonalStartSash=g.orthogonalStartSash,this.orthogonalEndSash=g.orthogonalEndSash,this.orientation=g.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",v),this.layout()}onPointerStart(p,h){f.EventHelper.stop(p);let g=!1;if(!p.__orthogonalSashEvent){const P=this.getOrthogonalSash(p);P&&(g=!0,p.__orthogonalSashEvent=!0,P.onPointerStart(p,new r(h)))}if(this.linkedSash&&!p.__linkedSashEvent&&(p.__linkedSashEvent=!0,this.linkedSash.onPointerStart(p,new r(h))),!this.state)return;const C=this.el.ownerDocument.getElementsByTagName("iframe");for(const P of C)P.classList.add(a);const S=p.pageX,_=p.pageY,L=p.altKey,D={startX:S,currentX:S,startY:_,currentY:_,altKey:L};this.el.classList.add("active"),this._onDidStart.fire(D);const T=(0,f.createStyleSheet)(this.el),N=()=>{let P="";g?P="all-scroll":this.orientation===1?this.state===1?P="s-resize":this.state===2?P="n-resize":P=b.isMacintosh?"row-resize":"ns-resize":this.state===1?P="e-resize":this.state===2?P="w-resize":P=b.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${P} !important; }`},A=new w.DisposableStore;N(),g||this.onDidEnablementChange.event(N,null,A);const R=P=>{f.EventHelper.stop(P,!1);const x={startX:S,currentX:P.pageX,startY:_,currentY:P.pageY,altKey:L};this._onDidChange.fire(x)},M=P=>{f.EventHelper.stop(P,!1),T.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const x of C)x.classList.remove(a)};h.onPointerMove(R,null,A),h.onPointerUp(M,null,A),A.add(h)}onPointerDoublePress(p){const h=this.getOrthogonalSash(p);h&&h._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(p,h=!1){p.el.classList.contains("active")?(p.hoverDelayer.cancel(),p.el.classList.add("hover")):p.hoverDelayer.trigger(()=>p.el.classList.add("hover"),p.hoverDelay).then(void 0,()=>{}),!h&&p.linkedSash&&l.onMouseEnter(p.linkedSash,!0)}static onMouseLeave(p,h=!1){p.hoverDelayer.cancel(),p.el.classList.remove("hover"),!h&&p.linkedSash&&l.onMouseLeave(p.linkedSash,!0)}clearSashHoverState(){l.onMouseLeave(this)}layout(){if(this.orientation===0){const p=this.layoutProvider;this.el.style.left=p.getVerticalSashLeft(this)-this.size/2+"px",p.getVerticalSashTop&&(this.el.style.top=p.getVerticalSashTop(this)+"px"),p.getVerticalSashHeight&&(this.el.style.height=p.getVerticalSashHeight(this)+"px")}else{const p=this.layoutProvider;this.el.style.top=p.getHorizontalSashTop(this)-this.size/2+"px",p.getHorizontalSashLeft&&(this.el.style.left=p.getHorizontalSashLeft(this)+"px"),p.getHorizontalSashWidth&&(this.el.style.width=p.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(p){var h;const g=(h=p.initialTarget)!==null&&h!==void 0?h:p.target;if(!(!g||!(0,f.isHTMLElement)(g))&&g.classList.contains("orthogonal-drag-handle"))return g.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=l}),define(re[234],ae([1,0,4,162,6,2]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class y{constructor(){this._onDidWillResize=new E.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new E.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new f.Dimension(0,0),this._minSize=new f.Dimension(0,0),this._maxSize=new f.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let w,b=0,v=0;this._sashListener.add(E.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{w===void 0&&(this._onDidWillResize.fire(),w=this._size,b=0,v=0)})),this._sashListener.add(E.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{w!==void 0&&(w=void 0,b=0,v=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{w&&(v=s.currentX-s.startX,this.layout(w.height+b,w.width+v),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{w&&(v=-(s.currentX-s.startX),this.layout(w.height+b,w.width+v),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{w&&(b=-(s.currentY-s.startY),this.layout(w.height+b,w.width+v),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{w&&(b=s.currentY-s.startY,this.layout(w.height+b,w.width+v),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(E.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(E.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(w,b,v,s){this._northSash.state=w?3:0,this._eastSash.state=b?3:0,this._southSash.state=v?3:0,this._westSash.state=s?3:0}layout(w=this.size.height,b=this.size.width){const{height:v,width:s}=this._minSize,{height:o,width:t}=this._maxSize;w=Math.max(v,Math.min(o,w)),b=Math.max(s,Math.min(t,b));const i=new f.Dimension(b,w);f.Dimension.equals(i,this._size)||(this.domNode.style.height=w+"px",this.domNode.style.width=b+"px",this._size=i,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(w){this._maxSize=w}get maxSize(){return this._maxSize}set minSize(w){this._minSize=w}get minSize(){return this._minSize}set preferredSize(w){this._preferredSize=w}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=y}),define(re[480],ae([10]),{}),define(re[85],ae([1,0,65,4,39,73,462,463,84,14,6,2,16,160,480]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const i=500,n=50,c=!0;class u{constructor(C,S,_){this.timestamp=C,this.deltaX=S,this.deltaY=_,this.score=0}}class r{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let C=1,S=0,_=1,L=this._rear;do{const D=L===this._front?C:Math.pow(2,-_);if(C-=D,S+=this._memory[L].score*D,L===this._front)break;L=(this._capacity+L-1)%this._capacity,_++}while(!0);return S<=.5}acceptStandardWheelEvent(C){if(f.isChrome){const S=k.getWindow(C.browserEvent),_=(0,f.getZoomFactor)(S);this.accept(Date.now(),C.deltaX*_,C.deltaY*_)}else this.accept(Date.now(),C.deltaX,C.deltaY)}accept(C,S,_){let L=null;const D=new u(C,S,_);this._front===-1&&this._rear===-1?(this._memory[0]=D,this._front=0,this._rear=0):(L=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=D),D.score=this._computeScore(D,L)}_computeScore(C,S){if(Math.abs(C.deltaX)>0&&Math.abs(C.deltaY)>0)return 1;let _=.5;if((!this._isAlmostInt(C.deltaX)||!this._isAlmostInt(C.deltaY))&&(_+=.25),S){const L=Math.abs(C.deltaX),D=Math.abs(C.deltaY),T=Math.abs(S.deltaX),N=Math.abs(S.deltaY),A=Math.max(Math.min(L,T),1),R=Math.max(Math.min(D,N),1),M=Math.max(L,T),P=Math.max(D,N);M%A===0&&P%R===0&&(_-=.5)}return Math.min(Math.max(_,0),1)}_isAlmostInt(C){return Math.abs(Math.round(C)-C)<.01}}e.MouseWheelClassifier=r,r.INSTANCE=new r;class a extends w.Widget{get options(){return this._options}constructor(C,S,_){super(),this._onScroll=this._register(new v.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new v.Emitter),C.style.overflow="hidden",this._options=h(S),this._scrollable=_,this._register(this._scrollable.onScroll(D=>{this._onWillScroll.fire(D),this._onDidScroll(D),this._onScroll.fire(D)}));const L={onMouseWheel:D=>this._onMouseWheel(D),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new m.VerticalScrollbar(this._scrollable,this._options,L)),this._horizontalScrollbar=this._register(new y.HorizontalScrollbar(this._scrollable,this._options,L)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(C),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,D=>this._onMouseOver(D)),this.onmouseleave(this._listenOnDomNode,D=>this._onMouseLeave(D)),this._hideTimeout=this._register(new b.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(C){this._verticalScrollbar.delegatePointerDown(C)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(C){this._scrollable.setScrollDimensions(C,!1)}updateClassName(C){this._options.className=C,o.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(C){typeof C.handleMouseWheel<"u"&&(this._options.handleMouseWheel=C.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof C.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=C.mouseWheelScrollSensitivity),typeof C.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=C.fastScrollSensitivity),typeof C.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=C.scrollPredominantAxis),typeof C.horizontal<"u"&&(this._options.horizontal=C.horizontal),typeof C.vertical<"u"&&(this._options.vertical=C.vertical),typeof C.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=C.horizontalScrollbarSize),typeof C.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=C.verticalScrollbarSize),typeof C.scrollByPage<"u"&&(this._options.scrollByPage=C.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(C){this._onMouseWheel(new I.StandardWheelEvent(C))}_setListeningToMouseWheel(C){if(this._mouseWheelToDispose.length>0!==C&&(this._mouseWheelToDispose=(0,s.dispose)(this._mouseWheelToDispose),C)){const _=L=>{this._onMouseWheel(new I.StandardWheelEvent(L))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,_,{passive:!1}))}}_onMouseWheel(C){var S;if(!((S=C.browserEvent)===null||S===void 0)&&S.defaultPrevented)return;const _=r.INSTANCE;c&&_.acceptStandardWheelEvent(C);let L=!1;if(C.deltaY||C.deltaX){let T=C.deltaY*this._options.mouseWheelScrollSensitivity,N=C.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&N+T===0?N=T=0:Math.abs(T)>=Math.abs(N)?N=0:T=0),this._options.flipAxes&&([T,N]=[N,T]);const A=!o.isMacintosh&&C.browserEvent&&C.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!N&&(N=T,T=0),C.browserEvent&&C.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const R=this._scrollable.getFutureScrollPosition();let M={};if(T){const P=n*T,x=R.scrollTop-(P<0?Math.floor(P):Math.ceil(P));this._verticalScrollbar.writeScrollPosition(M,x)}if(N){const P=n*N,x=R.scrollLeft-(P<0?Math.floor(P):Math.ceil(P));this._horizontalScrollbar.writeScrollPosition(M,x)}M=this._scrollable.validateScrollPosition(M),(R.scrollLeft!==M.scrollLeft||R.scrollTop!==M.scrollTop)&&(c&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(M):this._scrollable.setScrollPositionNow(M),L=!0)}let D=L;!D&&this._options.alwaysConsumeMouseWheel&&(D=!0),!D&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(D=!0),D&&(C.preventDefault(),C.stopPropagation())}_onDidScroll(C){this._shouldRender=this._horizontalScrollbar.onDidScroll(C)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(C)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const C=this._scrollable.getCurrentScrollPosition(),S=C.scrollTop>0,_=C.scrollLeft>0,L=_?" left":"",D=S?" top":"",T=_||S?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${L}`),this._topShadowDomNode.setClassName(`shadow${D}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${D}${L}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(C){this._mouseIsOver=!1,this._hide()}_onMouseOver(C){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),i)}}e.AbstractScrollableElement=a;class l extends a{constructor(C,S){S=S||{},S.mouseWheelSmoothScroll=!1;const _=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:L=>k.scheduleAtNextAnimationFrame(k.getWindow(C),L)});super(C,S,_),this._register(_)}setScrollPosition(C){this._scrollable.setScrollPositionNow(C)}}e.ScrollableElement=l;class d extends a{constructor(C,S,_){super(C,S,_)}setScrollPosition(C){C.reuseAnimation?this._scrollable.setScrollPositionSmooth(C,C.reuseAnimation):this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=d;class p extends a{constructor(C,S){S=S||{},S.mouseWheelSmoothScroll=!1;const _=new t.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:L=>k.scheduleAtNextAnimationFrame(k.getWindow(C),L)});super(C,S,_),this._register(_),this._element=C,this._register(this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)})),this.scanDomNode()}setScrollPosition(C){this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=p;function h(g){const C={lazyRender:typeof g.lazyRender<"u"?g.lazyRender:!1,className:typeof g.className<"u"?g.className:"",useShadows:typeof g.useShadows<"u"?g.useShadows:!0,handleMouseWheel:typeof g.handleMouseWheel<"u"?g.handleMouseWheel:!0,flipAxes:typeof g.flipAxes<"u"?g.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof g.consumeMouseWheelIfScrollbarIsNeeded<"u"?g.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof g.alwaysConsumeMouseWheel<"u"?g.alwaysConsumeMouseWheel:!1,scrollYToX:typeof g.scrollYToX<"u"?g.scrollYToX:!1,mouseWheelScrollSensitivity:typeof g.mouseWheelScrollSensitivity<"u"?g.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof g.fastScrollSensitivity<"u"?g.fastScrollSensitivity:5,scrollPredominantAxis:typeof g.scrollPredominantAxis<"u"?g.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof g.mouseWheelSmoothScroll<"u"?g.mouseWheelSmoothScroll:!0,arrowSize:typeof g.arrowSize<"u"?g.arrowSize:11,listenOnDomNode:typeof g.listenOnDomNode<"u"?g.listenOnDomNode:null,horizontal:typeof g.horizontal<"u"?g.horizontal:1,horizontalScrollbarSize:typeof g.horizontalScrollbarSize<"u"?g.horizontalScrollbarSize:10,horizontalSliderSize:typeof g.horizontalSliderSize<"u"?g.horizontalSliderSize:0,horizontalHasArrows:typeof g.horizontalHasArrows<"u"?g.horizontalHasArrows:!1,vertical:typeof g.vertical<"u"?g.vertical:1,verticalScrollbarSize:typeof g.verticalScrollbarSize<"u"?g.verticalScrollbarSize:10,verticalHasArrows:typeof g.verticalHasArrows<"u"?g.verticalHasArrows:!1,verticalSliderSize:typeof g.verticalSliderSize<"u"?g.verticalSliderSize:0,scrollByPage:typeof g.scrollByPage<"u"?g.scrollByPage:!1};return C.horizontalSliderSize=typeof g.horizontalSliderSize<"u"?g.horizontalSliderSize:C.horizontalScrollbarSize,C.verticalSliderSize=typeof g.verticalSliderSize<"u"?g.verticalSliderSize:C.verticalScrollbarSize,o.isMacintosh&&(C.className+=" mac"),C}}),define(re[235],ae([1,0,221,4,92,68,85,13,14,124,6,2,188,160,451,460,8,138]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const r={CurrentDragAndDropData:void 0},a={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(S){return[S]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class l{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=l;class d{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=d;class p{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let L=0;L<_.files.length;L++){const D=_.files.item(L);D&&(D.size||D.type)&&this.files.push(D)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=p;function h(S,_){return Array.isArray(S)&&Array.isArray(_)?(0,m.equals)(S,_):S===_}class g{constructor(_){_?.getSetSize?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(L,D,T)=>T,_?.getPosInSet?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(L,D)=>D+1,_?.getRole?this.getRole=_.getRole.bind(_):this.getRole=L=>"listitem",_?.isChecked?this.isChecked=_.isChecked.bind(_):this.isChecked=L=>{}}}class C{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(_,L,D,T=a){var N,A,R,M,P,x,O,B,H,K,V,j,U;if(this.virtualDelegate=L,this.domId=`list_id_${++C.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new w.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=s.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=s.Disposable.None,this.onDragLeaveTimeout=s.Disposable.None,this.disposables=new s.DisposableStore,this._onDidChangeContentHeight=new v.Emitter,this._onDidChangeContentWidth=new v.Emitter,this.onDidChangeContentHeight=v.Event.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((N=T.paddingTop)!==null&&N!==void 0?N:0);for(const Q of D)this.renderers.set(Q.templateId,Q);this.cache=this.disposables.add(new n.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(A=T.horizontalScrolling)!==null&&A!==void 0?A:a.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof T.paddingBottom>"u"?0:T.paddingBottom,this.accessibilityProvider=new g(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((R=T.transformOptimization)!==null&&R!==void 0?R:a.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(I.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(M=T.smoothScrolling)!==null&&M!==void 0&&M?125:0,scheduleAtNextAnimationFrame:Q=>(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),Q)})),this.scrollableElement=this.disposables.add(new y.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(P=T.alwaysConsumeMouseWheel)!==null&&P!==void 0?P:a.alwaysConsumeMouseWheel,horizontal:1,vertical:(x=T.verticalScrollMode)!==null&&x!==void 0?x:a.verticalScrollMode,useShadows:(O=T.useShadows)!==null&&O!==void 0?O:a.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity,scrollByPage:T.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,I.EventType.Change,Q=>this.onTouchChange(Q))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",Q=>Q.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",Q=>this.onDragOver(this.toDragEvent(Q)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",Q=>this.onDrop(this.toDragEvent(Q)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",Q=>this.onDragLeave(this.toDragEvent(Q)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",Q=>this.onDragEnd(Q))),this.setRowLineHeight=(B=T.setRowLineHeight)!==null&&B!==void 0?B:a.setRowLineHeight,this.setRowHeight=(H=T.setRowHeight)!==null&&H!==void 0?H:a.setRowHeight,this.supportDynamicHeights=(K=T.supportDynamicHeights)!==null&&K!==void 0?K:a.supportDynamicHeights,this.dnd=(V=T.dnd)!==null&&V!==void 0?V:this.disposables.add(a.dnd),this.layout((j=T.initialSize)===null||j===void 0?void 0:j.height,(U=T.initialSize)===null||U===void 0?void 0:U.width)}updateOptions(_){_.paddingBottom!==void 0&&(this.paddingBottom=_.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling);let L;if(_.scrollByPage!==void 0&&(L={...L??{},scrollByPage:_.scrollByPage}),_.mouseWheelScrollSensitivity!==void 0&&(L={...L??{},mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&(L={...L??{},fastScrollSensitivity:_.fastScrollSensitivity}),L&&this.scrollableElement.updateOptions(L),_.paddingTop!==void 0&&_.paddingTop!==this.rangeMap.paddingTop){const D=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T=_.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=_.paddingTop,this.render(D,Math.max(0,this.lastRenderTop+T),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(_){return new i.RangeMap(_)}splice(_,L,D=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,L,D)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,L,D=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:_,end:_+L},A=o.Range.intersect(T,N),R=new Map;for(let G=A.end-1;G>=A.start;G--){const F=this.items[G];if(F.dragStartDisposable.dispose(),F.checkedDisposable.dispose(),F.row){let J=R.get(F.templateId);J||(J=[],R.set(F.templateId,J));const te=this.renderers.get(F.templateId);te&&te.disposeElement&&te.disposeElement(F.element,G,F.row.templateData,F.size),J.unshift(F.row)}F.row=null,F.stale=!0}const M={start:_+L,end:this.items.length},P=o.Range.intersect(M,T),x=o.Range.relativeComplement(M,T),O=D.map(G=>({id:String(this.itemId++),element:G,templateId:this.virtualDelegate.getTemplateId(G),size:this.virtualDelegate.getHeight(G),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(G),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:s.Disposable.None,checkedDisposable:s.Disposable.None,stale:!1}));let B;_===0&&L>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,O),B=this.items,this.items=O):(this.rangeMap.splice(_,L,O),B=this.items.splice(_,L,...O));const H=D.length-L,K=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),V=(0,i.shift)(P,H),j=o.Range.intersect(K,V);for(let G=j.start;G<j.end;G++)this.updateItemInDOM(this.items[G],G);const U=o.Range.relativeComplement(V,K);for(const G of U)for(let F=G.start;F<G.end;F++)this.removeItemFromDOM(F);const Y=x.map(G=>(0,i.shift)(G,H)),Z=[{start:_,end:_+D.length},...Y].map(G=>o.Range.intersect(K,G)).reverse();for(const G of Z)for(let F=G.end-1;F>=G.start;F--){const J=this.items[F],te=R.get(J.templateId),de=te?.pop();this.insertItemInDOM(F,de)}for(const G of R.values())for(const F of G)this.cache.release(F);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),B.map(G=>G.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const L of this.items)typeof L.width<"u"&&(_=Math.max(_,L.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(_){return this.items[_].element}indexOf(_){return this.items.findIndex(L=>L.element===_)}domElement(_){const L=this.items[_].row;return L&&L.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,L){const D={height:typeof _=="number"?_:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,D.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(D),typeof L<"u"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:(0,k.getContentWidth)(this.domNode)})}render(_,L,D,T,N,A=!1){const R=this.getRenderRange(L,D),M=o.Range.relativeComplement(R,_).reverse(),P=o.Range.relativeComplement(_,R);if(A){const x=o.Range.intersect(_,R);for(let O=x.start;O<x.end;O++)this.updateItemInDOM(this.items[O],O)}this.cache.transact(()=>{for(const x of P)for(let O=x.start;O<x.end;O++)this.removeItemFromDOM(O);for(const x of M)for(let O=x.end-1;O>=x.start;O--)this.insertItemInDOM(O)}),T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=D}insertItemInDOM(_,L){var D,T,N;const A=this.items[_];if(!A.row)if(L)A.row=L,A.stale=!0;else{const O=this.cache.alloc(A.templateId);A.row=O.row,A.stale||(A.stale=O.isReusingConnectedDomNode)}const R=this.accessibilityProvider.getRole(A.element)||"listitem";A.row.domNode.setAttribute("role",R);const M=this.accessibilityProvider.isChecked(A.element);if(typeof M=="boolean")A.row.domNode.setAttribute("aria-checked",String(!!M));else if(M){const O=B=>A.row.domNode.setAttribute("aria-checked",String(!!B));O(M.value),A.checkedDisposable=M.onDidChange(()=>O(M.value))}if(A.stale||!A.row.domNode.parentElement){const O=(N=(T=(D=this.items.at(_+1))===null||D===void 0?void 0:D.row)===null||T===void 0?void 0:T.domNode)!==null&&N!==void 0?N:null;(A.row.domNode.parentElement!==this.rowsContainer||A.row.domNode.nextElementSibling!==O)&&this.rowsContainer.insertBefore(A.row.domNode,O),A.stale=!1}this.updateItemInDOM(A,_);const P=this.renderers.get(A.templateId);if(!P)throw new Error(`No renderer found for template id ${A.templateId}`);P?.renderElement(A.element,_,A.row.templateData,A.size);const x=this.dnd.getDragURI(A.element);A.dragStartDisposable.dispose(),A.row.domNode.draggable=!!x,x&&(A.dragStartDisposable=(0,k.addDisposableListener)(A.row.domNode,"dragstart",O=>this.onDragStart(A.element,x,O))),this.horizontalScrolling&&(this.measureItemWidth(A),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width="fit-content",_.width=(0,k.getContentWidth)(_.row.domNode);const L=(0,k.getWindow)(_.row.domNode).getComputedStyle(_.row.domNode);L.paddingLeft&&(_.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(_.width+=parseFloat(L.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,L){_.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${L}`),_.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",L%2===0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,L,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,L))),_.row.domNode.setAttribute("id",this.getElementDomId(L)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const L=this.items[_];if(L.dragStartDisposable.dispose(),L.checkedDisposable.dispose(),L.row){const D=this.renderers.get(L.templateId);D&&D.disposeElement&&D.disposeElement(L.element,_,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseDblClick(){return v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseMiddleClick(){return v.Event.filter(v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_),this.disposables),_=>_.browserEvent.button===1,this.disposables)}get onMouseDown(){return v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseOver(){return v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseover")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseOut(){return v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseout")).event,_=>this.toMouseEvent(_),this.disposables)}get onContextMenu(){return v.Event.any(v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_),this.disposables),v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,I.EventType.Contextmenu)).event,_=>this.toGestureEvent(_),this.disposables))}get onTouchStart(){return v.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_),this.disposables)}get onTap(){return v.Event.map(this.disposables.add(new E.DomEmitter(this.rowsContainer,I.EventType.Tap)).event,_=>this.toGestureEvent(_),this.disposables)}toMouseEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),D=typeof L>"u"?void 0:this.items[L],T=D&&D.element;return{browserEvent:_,index:L,element:T}}toTouchEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),D=typeof L>"u"?void 0:this.items[L],T=D&&D.element;return{browserEvent:_,index:L,element:T}}toGestureEvent(_){const L=this.getItemIndexFromEventTarget(_.initialTarget||null),D=typeof L>"u"?void 0:this.items[L],T=D&&D.element;return{browserEvent:_,index:L,element:T}}toDragEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),D=typeof L>"u"?void 0:this.items[L],T=D&&D.element,N=this.getTargetSector(_,L);return{browserEvent:_,index:L,element:T,sector:N}}onScroll(_){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",_),L}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,L,D){var T,N;if(!D.dataTransfer)return;const A=this.dnd.getDragElements(_);if(D.dataTransfer.effectAllowed="copyMove",D.dataTransfer.setData(f.DataTransfers.TEXT,L),D.dataTransfer.setDragImage){let R;this.dnd.getDragLabel&&(R=this.dnd.getDragLabel(A,D)),typeof R>"u"&&(R=String(A.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=R,(O=>{for(;O&&!O.classList.contains("monaco-workbench");)O=O.parentElement;return O||this.domNode.ownerDocument})(this.domNode).appendChild(M),D.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>M.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new l(A),r.CurrentDragAndDropData=new d(A),(N=(T=this.dnd).onDragStart)===null||N===void 0||N.call(T,this.currentDragData,D)}onDragOver(_){var L,D;if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),r.CurrentDragAndDropData&&r.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(r.CurrentDragAndDropData)this.currentDragData=r.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new p}const T=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.sector,_.browserEvent);if(this.canDrop=typeof T=="boolean"?T:T.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof T!="boolean"&&((L=T.effect)===null||L===void 0?void 0:L.type)===0?"copy":"move";let N;typeof T!="boolean"&&T.feedback?N=T.feedback:typeof _.index>"u"?N=[-1]:N=[_.index],N=(0,m.distinct)(N).filter(R=>R>=-1&&R<this.length).sort((R,M)=>R-M),N=N[0]===-1?[-1]:N;let A=typeof T!="boolean"&&T.effect&&T.effect.position?T.effect.position:"drop-target";if(h(this.currentDragFeedback,N)&&this.currentDragFeedbackPosition===A)return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackPosition=A,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add(A),this.rowsContainer.classList.add(A),this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{this.domNode.classList.remove(A),this.rowsContainer.classList.remove(A)});else{if(N.length>1&&A!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");A==="drop-target-after"&&N[0]<this.length-1&&(N[0]+=1,A="drop-target-before");for(const R of N){const M=this.items[R];M.dropTarget=!0,(D=M.row)===null||D===void 0||D.domNode.classList.add(A)}this.currentDragFeedbackDisposable=(0,s.toDisposable)(()=>{var R;for(const M of N){const P=this.items[M];P.dropTarget=!1,(R=P.row)===null||R===void 0||R.domNode.classList.remove(A)}})}return!0}onDragLeave(_){var L,D;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,w.disposableTimeout)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((D=(L=this.dnd).onDragLeave)===null||D===void 0||D.call(L,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,r.CurrentDragAndDropData=void 0,!(!L||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),L.update(_.browserEvent.dataTransfer),this.dnd.drop(L,_.element,_.index,_.sector,_.browserEvent))}onDragEnd(_){var L,D;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,r.CurrentDragAndDropData=void 0,(D=(L=this.dnd).onDragEnd)===null||D===void 0||D.call(L,_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=s.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const L=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)((0,k.getWindow)(this.domNode),this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,w.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const L=this.dragOverMouseY-_,D=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>D&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-D))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(_,L){if(L===void 0)return;const D=_.offsetY/this.items[L].size,T=Math.floor(D/.25);return(0,u.clamp)(T,0,3)}getItemIndexFromEventTarget(_){const L=this.scrollableElement.getDomNode();let D=_;for(;(0,k.isHTMLElement)(D)&&D!==this.rowsContainer&&L.contains(D);){const T=D.getAttribute("data-index");if(T){const N=Number(T);if(!isNaN(N))return N}D=D.parentElement}}getRenderRange(_,L){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+L-1)}}_rerender(_,L,D){const T=this.getRenderRange(_,L);let N,A;_===this.elementTop(T.start)?(N=T.start,A=0):T.end-T.start>1&&(N=T.start+1,A=this.elementTop(N)-_);let R=0;for(;;){const M=this.getRenderRange(_,L);let P=!1;for(let x=M.start;x<M.end;x++){const O=this.probeDynamicHeight(x);O!==0&&this.rangeMap.splice(x,1,[this.items[x]]),R+=O,P=P||O!==0}if(!P){R!==0&&this.eventuallyUpdateScrollDimensions();const x=o.Range.relativeComplement(T,M);for(const B of x)for(let H=B.start;H<B.end;H++)this.items[H].row&&this.removeItemFromDOM(H);const O=o.Range.relativeComplement(M,T).reverse();for(const B of O)for(let H=B.end-1;H>=B.start;H--)this.insertItemInDOM(H);for(let B=M.start;B<M.end;B++)this.items[B].row&&this.updateItemInDOM(this.items[B],B);if(typeof N=="number"){const B=this.scrollable.getFutureScrollPosition().scrollTop-_,H=this.elementTop(N)-A+B;this.setScrollTop(H,D)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){var L,D,T;const N=this.items[_];if(this.virtualDelegate.getDynamicHeight){const P=this.virtualDelegate.getDynamicHeight(N.element);if(P!==null){const x=N.size;return N.size=P,N.lastDynamicHeightWidth=this.renderWidth,P-x}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const A=N.size;if(N.row)return N.row.domNode.style.height="",N.size=N.row.domNode.offsetHeight,N.size===0&&!(0,k.isAncestor)(N.row.domNode,(0,k.getWindow)(N.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!"),N.lastDynamicHeightWidth=this.renderWidth,N.size-A;const{row:R}=this.cache.alloc(N.templateId);R.domNode.style.height="",this.rowsContainer.appendChild(R.domNode);const M=this.renderers.get(N.templateId);if(!M)throw new c.BugIndicatingError("Missing renderer for templateId: "+N.templateId);return M.renderElement(N.element,_,R.templateData,void 0),N.size=R.domNode.offsetHeight,(L=M.disposeElement)===null||L===void 0||L.call(M,N.element,_,R.templateData,void 0),(T=(D=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(D,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,R.domNode.remove(),this.cache.release(R),N.size-A}getElementDomId(_){return`${this.domId}_${_}`}dispose(){var _,L,D;for(const T of this.items)if(T.dragStartDisposable.dispose(),T.checkedDisposable.dispose(),T.row){const N=this.renderers.get(T.row.templateId);N&&((_=N.disposeElement)===null||_===void 0||_.call(N,T.element,-1,T.row.templateData,void 0),N.disposeTemplate(T.row.templateData))}this.items=[],(L=this.domNode)===null||L===void 0||L.remove(),(D=this.dragOverAnimationDisposable)===null||D===void 0||D.dispose(),this.disposables.dispose()}}e.ListView=C,C.InstanceCount=0,ke([b.memoize],C.prototype,"onMouseClick",null),ke([b.memoize],C.prototype,"onMouseDblClick",null),ke([b.memoize],C.prototype,"onMouseMiddleClick",null),ke([b.memoize],C.prototype,"onMouseDown",null),ke([b.memoize],C.prototype,"onMouseOver",null),ke([b.memoize],C.prototype,"onMouseOut",null),ke([b.memoize],C.prototype,"onContextMenu",null),ke([b.memoize],C.prototype,"onTouchStart",null),ke([b.memoize],C.prototype,"onTap",null)}),define(re[112],ae([1,0,4,92,45,68,47,440,13,14,33,124,6,83,2,138,16,19,439,235,73,21,314]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=void 0,e.isInputElement=S,e.isMonacoEditor=L,e.isMonacoCustomToggle=D,e.isActionItem=T,e.isStickyScrollElement=N,e.isStickyScrollContainer=A,e.isButton=R,e.isSelectionSingleChangeEvent=H,e.isSelectionRangeChangeEvent=K;class p{constructor(ie){this.trait=ie,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ie){return ie}renderElement(ie,se,ne){const W=this.renderedElements.findIndex(q=>q.templateData===ne);if(W>=0){const q=this.renderedElements[W];this.trait.unrender(ne),q.index=se}else{const q={index:se,templateData:ne};this.renderedElements.push(q)}this.trait.renderIndex(se,ne)}splice(ie,se,ne){const W=[];for(const q of this.renderedElements)q.index<ie?W.push(q):q.index>=ie+se&&W.push({index:q.index+ne-se,templateData:q.templateData});this.renderedElements=W}renderIndexes(ie){for(const{index:se,templateData:ne}of this.renderedElements)ie.indexOf(se)>-1&&this.trait.renderIndex(se,ne)}disposeTemplate(ie){const se=this.renderedElements.findIndex(ne=>ne.templateData===ie);se<0||this.renderedElements.splice(se,1)}}class h{get name(){return this._trait}get renderer(){return new p(this)}constructor(ie){this._trait=ie,this.indexes=[],this.sortedIndexes=[],this._onChange=new o.Emitter,this.onChange=this._onChange.event}splice(ie,se,ne){const W=ne.length-se,q=ie+se,z=[];let $=0;for(;$<this.sortedIndexes.length&&this.sortedIndexes[$]<ie;)z.push(this.sortedIndexes[$++]);for(let X=0;X<ne.length;X++)ne[X]&&z.push(X+ie);for(;$<this.sortedIndexes.length&&this.sortedIndexes[$]>=q;)z.push(this.sortedIndexes[$++]+W);this.renderer.splice(ie,se,ne.length),this._set(z,z)}renderIndex(ie,se){se.classList.toggle(this._trait,this.contains(ie))}unrender(ie){ie.classList.remove(this._trait)}set(ie,se){return this._set(ie,[...ie].sort(J),se)}_set(ie,se,ne){const W=this.indexes,q=this.sortedIndexes;this.indexes=ie,this.sortedIndexes=se;const z=G(q,ie);return this.renderer.renderIndexes(z),this._onChange.fire({indexes:ie,browserEvent:ne}),W}get(){return this.indexes}contains(ie){return(0,w.binarySearch)(this.sortedIndexes,ie,J)>=0}dispose(){(0,i.dispose)(this._onChange)}}ke([s.memoize],h.prototype,"renderer",null);class g extends h{constructor(ie){super("selected"),this.setAriaSelected=ie}renderIndex(ie,se){super.renderIndex(ie,se),this.setAriaSelected&&(this.contains(ie)?se.setAttribute("aria-selected","true"):se.setAttribute("aria-selected","false"))}}class C{constructor(ie,se,ne){this.trait=ie,this.view=se,this.identityProvider=ne}splice(ie,se,ne){if(!this.identityProvider)return this.trait.splice(ie,se,new Array(ne.length).fill(!1));const W=this.trait.get().map($=>this.identityProvider.getId(this.view.element($)).toString());if(W.length===0)return this.trait.splice(ie,se,new Array(ne.length).fill(!1));const q=new Set(W),z=ne.map($=>q.has(this.identityProvider.getId($).toString()));this.trait.splice(ie,se,z)}}function S(ue){return ue.tagName==="INPUT"||ue.tagName==="TEXTAREA"}function _(ue,ie){return ue.classList.contains(ie)?!0:ue.classList.contains("monaco-list")||!ue.parentElement?!1:_(ue.parentElement,ie)}function L(ue){return _(ue,"monaco-editor")}function D(ue){return _(ue,"monaco-custom-toggle")}function T(ue){return _(ue,"action-item")}function N(ue){return _(ue,"monaco-tree-sticky-row")}function A(ue){return ue.classList.contains("monaco-tree-sticky-container")}function R(ue){return ue.tagName==="A"&&ue.classList.contains("monaco-button")||ue.tagName==="DIV"&&ue.classList.contains("monaco-button-dropdown")?!0:ue.classList.contains("monaco-list")||!ue.parentElement?!1:R(ue.parentElement)}class M{get onKeyDown(){return o.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,ie=>ie.filter(se=>!S(se.target)).map(se=>new E.StandardKeyboardEvent(se)))}constructor(ie,se,ne){this.list=ie,this.view=se,this.disposables=new i.DisposableStore,this.multipleSelectionDisposables=new i.DisposableStore,this.multipleSelectionSupport=ne.multipleSelectionSupport,this.disposables.add(this.onKeyDown(W=>{switch(W.keyCode){case 3:return this.onEnter(W);case 16:return this.onUpArrow(W);case 18:return this.onDownArrow(W);case 11:return this.onPageUpArrow(W);case 12:return this.onPageDownArrow(W);case 9:return this.onEscape(W);case 31:this.multipleSelectionSupport&&(c.isMacintosh?W.metaKey:W.ctrlKey)&&this.onCtrlA(W)}}))}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=ie.multipleSelectionSupport)}onEnter(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection(this.list.getFocus(),ie.browserEvent)}onUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPrevious(1,!1,ie.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNext(1,!1,ie.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onPageUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPreviousPage(ie.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onPageDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNextPage(ie.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onCtrlA(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection((0,w.range)(this.list.length),ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ie){this.list.getSelection().length&&(ie.preventDefault(),ie.stopPropagation(),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}ke([s.memoize],M.prototype,"onKeyDown",null);var P;(function(ue){ue[ue.Automatic=0]="Automatic",ue[ue.Trigger=1]="Trigger"})(P||(e.TypeNavigationMode=P={}));var x;(function(ue){ue[ue.Idle=0]="Idle",ue[ue.Typing=1]="Typing"})(x||(x={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(ue){return ue.ctrlKey||ue.metaKey||ue.altKey?!1:ue.keyCode>=31&&ue.keyCode<=56||ue.keyCode>=21&&ue.keyCode<=30||ue.keyCode>=98&&ue.keyCode<=107||ue.keyCode>=85&&ue.keyCode<=95}};class O{constructor(ie,se,ne,W,q){this.list=ie,this.view=se,this.keyboardNavigationLabelProvider=ne,this.keyboardNavigationEventFilter=W,this.delegate=q,this.enabled=!1,this.state=x.Idle,this.mode=P.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new i.DisposableStore,this.disposables=new i.DisposableStore,this.updateOptions(ie.options)}updateOptions(ie){var se,ne;!((se=ie.typeNavigationEnabled)!==null&&se!==void 0)||se?this.enable():this.disable(),this.mode=(ne=ie.typeNavigationMode)!==null&&ne!==void 0?ne:P.Automatic}enable(){if(this.enabled)return;let ie=!1;const se=o.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.filter(z=>!S(z.target)).filter(()=>this.mode===P.Automatic||this.triggered).map(z=>new E.StandardKeyboardEvent(z)).filter(z=>ie||this.keyboardNavigationEventFilter(z)).filter(z=>this.delegate.mightProducePrintableCharacter(z)).forEach(z=>f.EventHelper.stop(z,!0)).map(z=>z.browserEvent.key)),ne=o.Event.debounce(se,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);o.Event.reduce(o.Event.any(se,ne),(q,z)=>z===null?null:(q||"")+z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ne(this.onClear,this,this.enabledDisposables),se(()=>ie=!0,void 0,this.enabledDisposables),ne(()=>ie=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ie;const se=this.list.getFocus();if(se.length>0&&se[0]===this.previouslyFocused){const ne=(ie=this.list.options.accessibilityProvider)===null||ie===void 0?void 0:ie.getAriaLabel(this.list.element(se[0]));typeof ne=="string"?(0,y.alert)(ne):ne&&(0,y.alert)(ne.get())}this.previouslyFocused=-1}onInput(ie){if(!ie){this.state=x.Idle,this.triggered=!1;return}const se=this.list.getFocus(),ne=se.length>0?se[0]:0,W=this.state===x.Idle?1:0;this.state=x.Typing;for(let q=0;q<this.list.length;q++){const z=(ne+q+W)%this.list.length,$=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(z)),X=$&&$.toString();if(this.list.options.typeNavigationEnabled){if(typeof X<"u"){if((0,t.matchesPrefix)(ie,X)){this.previouslyFocused=ne,this.list.setFocus([z]),this.list.reveal(z);return}const ee=(0,t.matchesFuzzy2)(ie,X);if(ee&&ee[0].end-ee[0].start>1&&ee.length===1){this.previouslyFocused=ne,this.list.setFocus([z]),this.list.reveal(z);return}}}else if(typeof X>"u"||(0,t.matchesPrefix)(ie,X)){this.previouslyFocused=ne,this.list.setFocus([z]),this.list.reveal(z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class B{constructor(ie,se){this.list=ie,this.view=se,this.disposables=new i.DisposableStore;const ne=o.Event.chain(this.disposables.add(new k.DomEmitter(se.domNode,"keydown")).event,q=>q.filter(z=>!S(z.target)).map(z=>new E.StandardKeyboardEvent(z)));o.Event.chain(ne,q=>q.filter(z=>z.keyCode===2&&!z.ctrlKey&&!z.metaKey&&!z.shiftKey&&!z.altKey))(this.onTab,this,this.disposables)}onTab(ie){if(ie.target!==this.view.domNode)return;const se=this.list.getFocus();if(se.length===0)return;const ne=this.view.domElement(se[0]);if(!ne)return;const W=ne.querySelector("[tabIndex]");if(!W||!(0,f.isHTMLElement)(W)||W.tabIndex===-1)return;const q=(0,f.getWindow)(W).getComputedStyle(W);q.visibility==="hidden"||q.display==="none"||(ie.preventDefault(),ie.stopPropagation(),W.focus())}dispose(){this.disposables.dispose()}}function H(ue){return c.isMacintosh?ue.browserEvent.metaKey:ue.browserEvent.ctrlKey}function K(ue){return ue.browserEvent.shiftKey}function V(ue){return(0,f.isMouseEvent)(ue)&&ue.button===2}const j={isSelectionSingleChangeEvent:H,isSelectionRangeChangeEvent:K};class U{constructor(ie){this.list=ie,this.disposables=new i.DisposableStore,this._onPointer=new o.Emitter,this.onPointer=this._onPointer.event,ie.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||j),this.mouseSupport=typeof ie.options.mouseSupport>"u"||!!ie.options.mouseSupport,this.mouseSupport&&(ie.onMouseDown(this.onMouseDown,this,this.disposables),ie.onContextMenu(this.onContextMenu,this,this.disposables),ie.onMouseDblClick(this.onDoubleClick,this,this.disposables),ie.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(I.Gesture.addTarget(ie.getHTMLElement()))),o.Event.any(ie.onMouseClick,ie.onMouseMiddleClick,ie.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,ie.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||j))}isSelectionSingleChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(ie):!1}isSelectionRangeChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(ie):!1}isSelectionChangeEvent(ie){return this.isSelectionSingleChangeEvent(ie)||this.isSelectionRangeChangeEvent(ie)}onMouseDown(ie){L(ie.browserEvent.target)||(0,f.getActiveElement)()!==ie.browserEvent.target&&this.list.domFocus()}onContextMenu(ie){if(S(ie.browserEvent.target)||L(ie.browserEvent.target))return;const se=typeof ie.index>"u"?[]:[ie.index];this.list.setFocus(se,ie.browserEvent)}onViewPointer(ie){if(!this.mouseSupport||S(ie.browserEvent.target)||L(ie.browserEvent.target)||ie.browserEvent.isHandledByList)return;ie.browserEvent.isHandledByList=!0;const se=ie.index;if(typeof se>"u"){this.list.setFocus([],ie.browserEvent),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(ie))return this.changeSelection(ie);this.list.setFocus([se],ie.browserEvent),this.list.setAnchor(se),V(ie.browserEvent)||this.list.setSelection([se],ie.browserEvent),this._onPointer.fire(ie)}onDoubleClick(ie){if(S(ie.browserEvent.target)||L(ie.browserEvent.target)||this.isSelectionChangeEvent(ie)||ie.browserEvent.isHandledByList)return;ie.browserEvent.isHandledByList=!0;const se=this.list.getFocus();this.list.setSelection(se,ie.browserEvent)}changeSelection(ie){const se=ie.index;let ne=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ie)){if(typeof ne>"u"){const oe=this.list.getFocus()[0];ne=oe??se,this.list.setAnchor(ne)}const W=Math.min(ne,se),q=Math.max(ne,se),z=(0,w.range)(W,q+1),$=this.list.getSelection(),X=Z(G($,[ne]),ne);if(X.length===0)return;const ee=G(z,F($,X));this.list.setSelection(ee,ie.browserEvent),this.list.setFocus([se],ie.browserEvent)}else if(this.isSelectionSingleChangeEvent(ie)){const W=this.list.getSelection(),q=W.filter(z=>z!==se);this.list.setFocus([se]),this.list.setAnchor(se),W.length===q.length?this.list.setSelection([...q,se],ie.browserEvent):this.list.setSelection(q,ie.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=U;class Y{constructor(ie,se){this.styleElement=ie,this.selectorSuffix=se}style(ie){var se,ne;const W=this.selectorSuffix&&`.${this.selectorSuffix}`,q=[];ie.listBackground&&q.push(`.monaco-list${W} .monaco-list-rows { background: ${ie.listBackground}; }`),ie.listFocusBackground&&(q.push(`.monaco-list${W}:focus .monaco-list-row.focused { background-color: ${ie.listFocusBackground}; }`),q.push(`.monaco-list${W}:focus .monaco-list-row.focused:hover { background-color: ${ie.listFocusBackground}; }`)),ie.listFocusForeground&&q.push(`.monaco-list${W}:focus .monaco-list-row.focused { color: ${ie.listFocusForeground}; }`),ie.listActiveSelectionBackground&&(q.push(`.monaco-list${W}:focus .monaco-list-row.selected { background-color: ${ie.listActiveSelectionBackground}; }`),q.push(`.monaco-list${W}:focus .monaco-list-row.selected:hover { background-color: ${ie.listActiveSelectionBackground}; }`)),ie.listActiveSelectionForeground&&q.push(`.monaco-list${W}:focus .monaco-list-row.selected { color: ${ie.listActiveSelectionForeground}; }`),ie.listActiveSelectionIconForeground&&q.push(`.monaco-list${W}:focus .monaco-list-row.selected .codicon { color: ${ie.listActiveSelectionIconForeground}; }`),ie.listFocusAndSelectionBackground&&q.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { background-color: ${ie.listFocusAndSelectionBackground}; }
			`),ie.listFocusAndSelectionForeground&&q.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { color: ${ie.listFocusAndSelectionForeground}; }
			`),ie.listInactiveFocusForeground&&(q.push(`.monaco-list${W} .monaco-list-row.focused { color:  ${ie.listInactiveFocusForeground}; }`),q.push(`.monaco-list${W} .monaco-list-row.focused:hover { color:  ${ie.listInactiveFocusForeground}; }`)),ie.listInactiveSelectionIconForeground&&q.push(`.monaco-list${W} .monaco-list-row.focused .codicon { color:  ${ie.listInactiveSelectionIconForeground}; }`),ie.listInactiveFocusBackground&&(q.push(`.monaco-list${W} .monaco-list-row.focused { background-color:  ${ie.listInactiveFocusBackground}; }`),q.push(`.monaco-list${W} .monaco-list-row.focused:hover { background-color:  ${ie.listInactiveFocusBackground}; }`)),ie.listInactiveSelectionBackground&&(q.push(`.monaco-list${W} .monaco-list-row.selected { background-color:  ${ie.listInactiveSelectionBackground}; }`),q.push(`.monaco-list${W} .monaco-list-row.selected:hover { background-color:  ${ie.listInactiveSelectionBackground}; }`)),ie.listInactiveSelectionForeground&&q.push(`.monaco-list${W} .monaco-list-row.selected { color: ${ie.listInactiveSelectionForeground}; }`),ie.listHoverBackground&&q.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ie.listHoverBackground}; }`),ie.listHoverForeground&&q.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ie.listHoverForeground}; }`);const z=(0,f.asCssValueWithDefault)(ie.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(ie.listSelectionOutline,(se=ie.listFocusOutline)!==null&&se!==void 0?se:""));z&&q.push(`.monaco-list${W}:focus .monaco-list-row.focused.selected { outline: 1px solid ${z}; outline-offset: -1px;}`),ie.listFocusOutline&&q.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${W}.last-focused .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
			`);const $=(0,f.asCssValueWithDefault)(ie.listSelectionOutline,(ne=ie.listInactiveFocusOutline)!==null&&ne!==void 0?ne:"");$&&q.push(`.monaco-list${W} .monaco-list-row.focused.selected { outline: 1px dotted ${$}; outline-offset: -1px; }`),ie.listSelectionOutline&&q.push(`.monaco-list${W} .monaco-list-row.selected { outline: 1px dotted ${ie.listSelectionOutline}; outline-offset: -1px; }`),ie.listInactiveFocusOutline&&q.push(`.monaco-list${W} .monaco-list-row.focused { outline: 1px dotted ${ie.listInactiveFocusOutline}; outline-offset: -1px; }`),ie.listHoverOutline&&q.push(`.monaco-list${W} .monaco-list-row:hover { outline: 1px dashed ${ie.listHoverOutline}; outline-offset: -1px; }`),ie.listDropOverBackground&&q.push(`
				.monaco-list${W}.drop-target,
				.monaco-list${W} .monaco-list-rows.drop-target,
				.monaco-list${W} .monaco-list-row.drop-target { background-color: ${ie.listDropOverBackground} !important; color: inherit !important; }
			`),ie.listDropBetweenBackground&&(q.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${W} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${ie.listDropBetweenBackground};
			}`),q.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${W} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${ie.listDropBetweenBackground};
			}`)),ie.tableColumnsBorder&&q.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${ie.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),ie.tableOddRowsBackgroundColor&&q.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${ie.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=q.join(`
`)}}e.DefaultStyleController=Y,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:v.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:v.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:v.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};const Q={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function Z(ue,ie){const se=ue.indexOf(ie);if(se===-1)return[];const ne=[];let W=se-1;for(;W>=0&&ue[W]===ie-(se-W);)ne.push(ue[W--]);for(ne.reverse(),W=se;W<ue.length&&ue[W]===ie+(W-se);)ne.push(ue[W++]);return ne}function G(ue,ie){const se=[];let ne=0,W=0;for(;ne<ue.length||W<ie.length;)if(ne>=ue.length)se.push(ie[W++]);else if(W>=ie.length)se.push(ue[ne++]);else if(ue[ne]===ie[W]){se.push(ue[ne]),ne++,W++;continue}else ue[ne]<ie[W]?se.push(ue[ne++]):se.push(ie[W++]);return se}function F(ue,ie){const se=[];let ne=0,W=0;for(;ne<ue.length||W<ie.length;)if(ne>=ue.length)se.push(ie[W++]);else if(W>=ie.length)se.push(ue[ne++]);else if(ue[ne]===ie[W]){ne++,W++;continue}else ue[ne]<ie[W]?se.push(ue[ne++]):W++;return se}const J=(ue,ie)=>ue-ie;class te{constructor(ie,se){this._templateId=ie,this.renderers=se}get templateId(){return this._templateId}renderTemplate(ie){return this.renderers.map(se=>se.renderTemplate(ie))}renderElement(ie,se,ne,W){let q=0;for(const z of this.renderers)z.renderElement(ie,se,ne[q++],W)}disposeElement(ie,se,ne,W){var q;let z=0;for(const $ of this.renderers)(q=$.disposeElement)===null||q===void 0||q.call($,ie,se,ne[z],W),z+=1}disposeTemplate(ie){let se=0;for(const ne of this.renderers)ne.disposeTemplate(ie[se++])}}class de{constructor(ie){this.accessibilityProvider=ie,this.templateId="a18n"}renderTemplate(ie){return{container:ie,disposables:new i.DisposableStore}}renderElement(ie,se,ne){const W=this.accessibilityProvider.getAriaLabel(ie),q=W&&typeof W!="string"?W:(0,d.constObservable)(W);ne.disposables.add((0,d.autorun)($=>{this.setAriaLabel($.readObservable(q),ne.container)}));const z=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ie);typeof z=="number"?ne.container.setAttribute("aria-level",`${z}`):ne.container.removeAttribute("aria-level")}setAriaLabel(ie,se){ie?se.setAttribute("aria-label",ie):se.removeAttribute("aria-label")}disposeElement(ie,se,ne,W){ne.disposables.clear()}disposeTemplate(ie){ie.disposables.dispose()}}class he{constructor(ie,se){this.list=ie,this.dnd=se}getDragElements(ie){const se=this.list.getSelectedElements();return se.indexOf(ie)>-1?se:[ie]}getDragURI(ie){return this.dnd.getDragURI(ie)}getDragLabel(ie,se){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ie,se)}onDragStart(ie,se){var ne,W;(W=(ne=this.dnd).onDragStart)===null||W===void 0||W.call(ne,ie,se)}onDragOver(ie,se,ne,W,q){return this.dnd.onDragOver(ie,se,ne,W,q)}onDragLeave(ie,se,ne,W){var q,z;(z=(q=this.dnd).onDragLeave)===null||z===void 0||z.call(q,ie,se,ne,W)}onDragEnd(ie){var se,ne;(ne=(se=this.dnd).onDragEnd)===null||ne===void 0||ne.call(se,ie)}drop(ie,se,ne,W,q){this.dnd.drop(ie,se,ne,W,q)}dispose(){this.dnd.dispose()}}class pe{get onDidChangeFocus(){return o.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),ie=>this.toListEvent(ie),this.disposables)}get onDidChangeSelection(){return o.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),ie=>this.toListEvent(ie),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ie=!1;const se=o.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.map(z=>new E.StandardKeyboardEvent(z)).filter(z=>ie=z.keyCode===58||z.shiftKey&&z.keyCode===68).map(z=>f.EventHelper.stop(z,!0)).filter(()=>!1)),ne=o.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event,q=>q.forEach(()=>ie=!1).map(z=>new E.StandardKeyboardEvent(z)).filter(z=>z.keyCode===58||z.shiftKey&&z.keyCode===68).map(z=>f.EventHelper.stop(z,!0)).map(({browserEvent:z})=>{const $=this.getFocus(),X=$.length?$[0]:void 0,ee=typeof X<"u"?this.view.element(X):void 0,oe=typeof X<"u"?this.view.domElement(X):this.view.domNode;return{index:X,element:ee,anchor:oe,browserEvent:z}})),W=o.Event.chain(this.view.onContextMenu,q=>q.filter(z=>!ie).map(({element:z,index:$,browserEvent:X})=>({element:z,index:$,anchor:new l.StandardMouseEvent((0,f.getWindow)(this.view.domNode),X),browserEvent:X})));return o.Event.any(se,ne,W)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return o.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return o.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"blur",!0)).event)}constructor(ie,se,ne,W,q=Q){var z,$,X,ee;this.user=ie,this._options=q,this.focus=new h("focused"),this.anchor=new h("anchor"),this.eventBufferer=new o.EventBufferer,this._ariaLabel="",this.disposables=new i.DisposableStore,this._onDidDispose=new o.Emitter,this.onDidDispose=this._onDidDispose.event;const oe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(z=this._options.accessibilityProvider)===null||z===void 0?void 0:z.getWidgetRole():"list";this.selection=new g(oe!=="listbox");const ce=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=q.accessibilityProvider,this.accessibilityProvider&&(ce.push(new de(this.accessibilityProvider)),(X=($=this.accessibilityProvider).onDidChangeActiveDescendant)===null||X===void 0||X.call($,this.onDidChangeActiveDescendant,this,this.disposables)),W=W.map(ve=>new te(ve.templateId,[...ce,ve]));const fe={...q,dnd:q.dnd&&new he(this,q.dnd)};if(this.view=this.createListView(se,ne,W,fe),this.view.domNode.setAttribute("role",oe),q.styleController)this.styleController=q.styleController(this.view.domId);else{const ve=(0,f.createStyleSheet)(this.view.domNode);this.styleController=new Y(ve,this.view.domId)}if(this.spliceable=new m.CombinedSpliceable([new C(this.focus,this.view,q.identityProvider),new C(this.selection,this.view,q.identityProvider),new C(this.anchor,this.view,q.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new B(this,this.view)),(typeof q.keyboardSupport!="boolean"||q.keyboardSupport)&&(this.keyboardController=new M(this,this.view,q),this.disposables.add(this.keyboardController)),q.keyboardNavigationLabelProvider){const ve=q.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new O(this,this.view,q.keyboardNavigationLabelProvider,(ee=q.keyboardNavigationEventFilter)!==null&&ee!==void 0?ee:()=>!0,ve),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(q),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(ie,se,ne,W){return new a.ListView(ie,se,ne,W)}createMouseController(ie){return new U(this)}updateOptions(ie={}){var se,ne;this._options={...this._options,...ie},(se=this.typeNavigationController)===null||se===void 0||se.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ie),(ne=this.keyboardController)===null||ne===void 0||ne.updateOptions(ie),this.view.updateOptions(ie)}get options(){return this._options}splice(ie,se,ne=[]){if(ie<0||ie>this.view.length)throw new r.ListError(this.user,`Invalid start index: ${ie}`);if(se<0)throw new r.ListError(this.user,`Invalid delete count: ${se}`);se===0&&ne.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ie,se,ne))}rerender(){this.view.rerender()}element(ie){return this.view.element(ie)}indexOf(ie){return this.view.indexOf(ie)}indexAt(ie){return this.view.indexAt(ie)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ie){this.view.setScrollTop(ie)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(ie){this._ariaLabel=ie,this.view.domNode.setAttribute("aria-label",ie)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ie,se){this.view.layout(ie,se)}setSelection(ie,se){for(const ne of ie)if(ne<0||ne>=this.length)throw new r.ListError(this.user,`Invalid index ${ne}`);this.selection.set(ie,se)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ie=>this.view.element(ie))}setAnchor(ie){if(typeof ie>"u"){this.anchor.set([]);return}if(ie<0||ie>=this.length)throw new r.ListError(this.user,`Invalid index ${ie}`);this.anchor.set([ie])}getAnchor(){return(0,w.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const ie=this.getAnchor();return typeof ie>"u"?void 0:this.element(ie)}setFocus(ie,se){for(const ne of ie)if(ne<0||ne>=this.length)throw new r.ListError(this.user,`Invalid index ${ne}`);this.focus.set(ie,se)}focusNext(ie=1,se=!1,ne,W){if(this.length===0)return;const q=this.focus.get(),z=this.findNextIndex(q.length>0?q[0]+ie:0,se,W);z>-1&&this.setFocus([z],ne)}focusPrevious(ie=1,se=!1,ne,W){if(this.length===0)return;const q=this.focus.get(),z=this.findPreviousIndex(q.length>0?q[0]-ie:0,se,W);z>-1&&this.setFocus([z],ne)}async focusNextPage(ie,se){let ne=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ne=ne===0?0:ne-1;const W=this.getFocus()[0];if(W!==ne&&(W===void 0||ne>W)){const q=this.findPreviousIndex(ne,!1,se);q>-1&&W!==q?this.setFocus([q],ie):this.setFocus([ne],ie)}else{const q=this.view.getScrollTop();let z=q+this.view.renderHeight;ne>W&&(z-=this.view.elementHeight(ne)),this.view.setScrollTop(z),this.view.getScrollTop()!==q&&(this.setFocus([]),await(0,b.timeout)(0),await this.focusNextPage(ie,se))}}async focusPreviousPage(ie,se,ne=()=>0){let W;const q=ne(),z=this.view.getScrollTop()+q;z===0?W=this.view.indexAt(z):W=this.view.indexAfter(z-1);const $=this.getFocus()[0];if($!==W&&($===void 0||$>=W)){const X=this.findNextIndex(W,!1,se);X>-1&&$!==X?this.setFocus([X],ie):this.setFocus([W],ie)}else{const X=z;this.view.setScrollTop(z-this.view.renderHeight-q),this.view.getScrollTop()+ne()!==X&&(this.setFocus([]),await(0,b.timeout)(0),await this.focusPreviousPage(ie,se,ne))}}focusLast(ie,se){if(this.length===0)return;const ne=this.findPreviousIndex(this.length-1,!1,se);ne>-1&&this.setFocus([ne],ie)}focusFirst(ie,se){this.focusNth(0,ie,se)}focusNth(ie,se,ne){if(this.length===0)return;const W=this.findNextIndex(ie,!1,ne);W>-1&&this.setFocus([W],se)}findNextIndex(ie,se=!1,ne){for(let W=0;W<this.length;W++){if(ie>=this.length&&!se)return-1;if(ie=ie%this.length,!ne||ne(this.element(ie)))return ie;ie++}return-1}findPreviousIndex(ie,se=!1,ne){for(let W=0;W<this.length;W++){if(ie<0&&!se)return-1;if(ie=(this.length+ie%this.length)%this.length,!ne||ne(this.element(ie)))return ie;ie--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ie=>this.view.element(ie))}reveal(ie,se,ne=0){if(ie<0||ie>=this.length)throw new r.ListError(this.user,`Invalid index ${ie}`);const W=this.view.getScrollTop(),q=this.view.elementTop(ie),z=this.view.elementHeight(ie);if((0,u.isNumber)(se)){const $=z-this.view.renderHeight+ne;this.view.setScrollTop($*(0,n.clamp)(se,0,1)+q-ne)}else{const $=q+z,X=W+this.view.renderHeight;q<W+ne&&$>=X||(q<W+ne||$>=X&&z>=this.view.renderHeight?this.view.setScrollTop(q-ne):$>=X&&this.view.setScrollTop($-this.view.renderHeight))}}getRelativeTop(ie,se=0){if(ie<0||ie>=this.length)throw new r.ListError(this.user,`Invalid index ${ie}`);const ne=this.view.getScrollTop(),W=this.view.elementTop(ie),q=this.view.elementHeight(ie);if(W<ne+se||W+q>ne+this.view.renderHeight)return null;const z=q-this.view.renderHeight+se;return Math.abs((ne+se-W)/z)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(ie){return this.view.getElementDomId(ie)}getElementTop(ie){return this.view.elementTop(ie)}style(ie){this.styleController.style(ie)}toListEvent({indexes:ie,browserEvent:se}){return{indexes:ie,elements:ie.map(ne=>this.view.element(ne)),browserEvent:se}}_onFocusChange(){const ie=this.focus.get();this.view.domNode.classList.toggle("element-focused",ie.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ie;const se=this.focus.get();if(se.length>0){let ne;!((ie=this.accessibilityProvider)===null||ie===void 0)&&ie.getActiveDescendantId&&(ne=this.accessibilityProvider.getActiveDescendantId(this.view.element(se[0]))),this.view.domNode.setAttribute("aria-activedescendant",ne||this.view.getElementDomId(se[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ie=this.selection.get();this.view.domNode.classList.toggle("selection-none",ie.length===0),this.view.domNode.classList.toggle("selection-single",ie.length===1),this.view.domNode.classList.toggle("selection-multiple",ie.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=pe,ke([s.memoize],pe.prototype,"onDidChangeFocus",null),ke([s.memoize],pe.prototype,"onDidChangeSelection",null),ke([s.memoize],pe.prototype,"onContextMenu",null),ke([s.memoize],pe.prototype,"onKeyDown",null),ke([s.memoize],pe.prototype,"onDidFocus",null),ke([s.memoize],pe.prototype,"onDidBlur",null)}),define(re[481],ae([1,0,13,18,6,2,112,314]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class m{get templateId(){return this.renderer.templateId}constructor(o,t){this.renderer=o,this.modelProvider=t}renderTemplate(o){return{data:this.renderer.renderTemplate(o),disposable:I.Disposable.None}}renderElement(o,t,i,n){var c;if((c=i.disposable)===null||c===void 0||c.dispose(),!i.data)return;const u=this.modelProvider();if(u.isResolved(o))return this.renderer.renderElement(u.get(o),o,i.data,n);const r=new k.CancellationTokenSource,a=u.resolve(o,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(o,i.data),a.then(l=>this.renderer.renderElement(l,o,i.data,n))}disposeTemplate(o){o.disposable&&(o.disposable.dispose(),o.disposable=void 0),o.data&&(this.renderer.disposeTemplate(o.data),o.data=void 0)}}class w{constructor(o,t){this.modelProvider=o,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(o){const t=this.modelProvider();return t.isResolved(o)?this.accessibilityProvider.getAriaLabel(t.get(o)):null}}function b(s,o){return{...o,accessibilityProvider:o.accessibilityProvider&&new w(s,o.accessibilityProvider)}}class v{constructor(o,t,i,n,c={}){const u=()=>this.model,r=n.map(a=>new m(a,u));this.list=new y.List(o,t,i,r,b(u,c))}updateOptions(o){this.list.updateOptions(o)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return E.Event.map(this.list.onMouseDblClick,({element:o,index:t,browserEvent:i})=>({element:o===void 0?void 0:this._model.get(o),index:t,browserEvent:i}))}get onPointer(){return E.Event.map(this.list.onPointer,({element:o,index:t,browserEvent:i})=>({element:o===void 0?void 0:this._model.get(o),index:t,browserEvent:i}))}get onDidChangeSelection(){return E.Event.map(this.list.onDidChangeSelection,({elements:o,indexes:t,browserEvent:i})=>({elements:o.map(n=>this._model.get(n)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(o){this._model=o,this.list.splice(0,this.list.length,(0,f.range)(o.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(o=>this.model.get(o))}style(o){this.list.style(o)}dispose(){this.list.dispose()}}e.PagedList=v}),define(re[482],ae([10]),{}),define(re[483],ae([10]),{}),define(re[484],ae([10]),{}),define(re[315],ae([1,0,4,92,162,85,13,33,6,2,138,160,19,484]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const t={separatorBorder:m.Color.transparent};class i{set size(d){this._size=d}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(d,p){var h,g;if(d!==this.visible){d?(this.size=(0,v.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof p=="number"?p:this.size,this.size=0),this.container.classList.toggle("visible",d);try{(g=(h=this.view).setVisible)===null||g===void 0||g.call(h,d)}catch(C){console.error("Splitview: Failed to set visible view"),console.error(C)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var d;return(d=this.view.proportionalLayout)!==null&&d!==void 0?d:!0}get snap(){return!!this.view.snap}set enabled(d){this.container.style.pointerEvents=d?"":"none"}constructor(d,p,h,g){this.container=d,this.view=p,this.disposable=g,this._cachedVisibleSize=void 0,typeof h=="number"?(this._size=h,this._cachedVisibleSize=void 0,d.classList.add("visible")):(this._size=0,this._cachedVisibleSize=h.cachedVisibleSize)}layout(d,p){this.layoutContainer(d);try{this.view.layout(this.size,d,p)}catch(h){console.error("Splitview: Failed to layout view"),console.error(h)}}dispose(){this.disposable.dispose()}}class n extends i{layoutContainer(d){this.container.style.top=`${d}px`,this.container.style.height=`${this.size}px`}}class c extends i{layoutContainer(d){this.container.style.left=`${d}px`,this.container.style.width=`${this.size}px`}}var u;(function(l){l[l.Idle=0]="Idle",l[l.Busy=1]="Busy"})(u||(u={}));var r;(function(l){l.Distribute={type:"distribute"};function d(g){return{type:"split",index:g}}l.Split=d;function p(g){return{type:"auto",index:g}}l.Auto=p;function h(g){return{type:"invisible",cachedVisibleSize:g}}l.Invisible=h})(r||(e.Sizing=r={}));class a extends b.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(d){for(const p of this.sashItems)p.sash.orthogonalStartSash=d;this._orthogonalStartSash=d}set orthogonalEndSash(d){for(const p of this.sashItems)p.sash.orthogonalEndSash=d;this._orthogonalEndSash=d}set startSnappingEnabled(d){this._startSnappingEnabled!==d&&(this._startSnappingEnabled=d,this.updateSashEnablement())}set endSnappingEnabled(d){this._endSnappingEnabled!==d&&(this._endSnappingEnabled=d,this.updateSashEnablement())}constructor(d,p={}){var h,g,C,S,_;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=u.Idle,this._onDidSashChange=this._register(new w.Emitter),this._onDidSashReset=this._register(new w.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(h=p.orientation)!==null&&h!==void 0?h:0,this.inverseAltBehavior=(g=p.inverseAltBehavior)!==null&&g!==void 0?g:!1,this.proportionalLayout=(C=p.proportionalLayout)!==null&&C!==void 0?C:!0,this.getSashOrthogonalSize=p.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),d.appendChild(this.el),this.sashContainer=(0,f.append)(this.el,(0,f.$)(".sash-container")),this.viewContainer=(0,f.$)(".split-view-container"),this.scrollable=this._register(new s.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:D=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this.el),D)})),this.scrollableElement=this._register(new I.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(S=p.scrollbarVisibility)!==null&&S!==void 0?S:1:2,horizontal:this.orientation===1?(_=p.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable));const L=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(L(D=>{const T=this.scrollableElement.getScrollPosition(),N=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(N!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:N,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(D=>{D.scrollTopChanged&&(this.viewContainer.scrollTop=D.scrollTop),D.scrollLeftChanged&&(this.viewContainer.scrollLeft=D.scrollLeft)})),(0,f.append)(this.el,this.scrollableElement.getDomNode()),this.style(p.styles||t),p.descriptor&&(this.size=p.descriptor.size,p.descriptor.views.forEach((D,T)=>{const N=o.isUndefined(D.visible)||D.visible?D.size:{type:"invisible",cachedVisibleSize:D.size},A=D.view;this.doAddView(A,N,T,!0)}),this._contentSize=this.viewItems.reduce((D,T)=>D+T.size,0),this.saveProportions())}style(d){d.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",d.separatorBorder.toString()))}addView(d,p,h=this.viewItems.length,g){this.doAddView(d,p,h,g)}layout(d,p){const h=Math.max(this.size,this._contentSize);if(this.size=d,this.layoutContext=p,this.proportions){let g=0;for(let C=0;C<this.viewItems.length;C++){const S=this.viewItems[C],_=this.proportions[C];typeof _=="number"?g+=_:d-=S.size}for(let C=0;C<this.viewItems.length;C++){const S=this.viewItems[C],_=this.proportions[C];typeof _=="number"&&g>0&&(S.size=(0,v.clamp)(Math.round(_*d/g),S.minimumSize,S.maximumSize))}}else{const g=(0,y.range)(this.viewItems.length),C=g.filter(_=>this.viewItems[_].priority===1),S=g.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,d-h,void 0,C,S)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(d=>d.proportionalLayout&&d.visible?d.size/this._contentSize:void 0))}onSashStart({sash:d,start:p,alt:h}){for(const _ of this.viewItems)_.enabled=!1;const g=this.sashItems.findIndex(_=>_.sash===d),C=(0,b.combinedDisposable)((0,f.addDisposableListener)(this.el.ownerDocument.body,"keydown",_=>S(this.sashDragState.current,_.altKey)),(0,f.addDisposableListener)(this.el.ownerDocument.body,"keyup",()=>S(this.sashDragState.current,!1))),S=(_,L)=>{const D=this.viewItems.map(M=>M.size);let T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(L=!L),L)if(g===this.sashItems.length-1){const P=this.viewItems[g];T=(P.minimumSize-P.size)/2,N=(P.maximumSize-P.size)/2}else{const P=this.viewItems[g+1];T=(P.size-P.maximumSize)/2,N=(P.size-P.minimumSize)/2}let A,R;if(!L){const M=(0,y.range)(g,-1),P=(0,y.range)(g+1,this.viewItems.length),x=M.reduce((Y,Q)=>Y+(this.viewItems[Q].minimumSize-D[Q]),0),O=M.reduce((Y,Q)=>Y+(this.viewItems[Q].viewMaximumSize-D[Q]),0),B=P.length===0?Number.POSITIVE_INFINITY:P.reduce((Y,Q)=>Y+(D[Q]-this.viewItems[Q].minimumSize),0),H=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((Y,Q)=>Y+(D[Q]-this.viewItems[Q].viewMaximumSize),0),K=Math.max(x,H),V=Math.min(B,O),j=this.findFirstSnapIndex(M),U=this.findFirstSnapIndex(P);if(typeof j=="number"){const Y=this.viewItems[j],Q=Math.floor(Y.viewMinimumSize/2);A={index:j,limitDelta:Y.visible?K-Q:K+Q,size:Y.size}}if(typeof U=="number"){const Y=this.viewItems[U],Q=Math.floor(Y.viewMinimumSize/2);R={index:U,limitDelta:Y.visible?V+Q:V-Q,size:Y.size}}}this.sashDragState={start:_,current:_,index:g,sizes:D,minDelta:T,maxDelta:N,alt:L,snapBefore:A,snapAfter:R,disposable:C}};S(p,h)}onSashChange({current:d}){const{index:p,start:h,sizes:g,alt:C,minDelta:S,maxDelta:_,snapBefore:L,snapAfter:D}=this.sashDragState;this.sashDragState.current=d;const T=d-h,N=this.resize(p,T,g,void 0,void 0,S,_,L,D);if(C){const A=p===this.sashItems.length-1,R=this.viewItems.map(H=>H.size),M=A?p:p+1,P=this.viewItems[M],x=P.size-P.maximumSize,O=P.size-P.minimumSize,B=A?p-1:p+1;this.resize(B,-N,R,void 0,void 0,x,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(d){this._onDidSashChange.fire(d),this.sashDragState.disposable.dispose(),this.saveProportions();for(const p of this.viewItems)p.enabled=!0}onViewChange(d,p){const h=this.viewItems.indexOf(d);h<0||h>=this.viewItems.length||(p=typeof p=="number"?p:d.size,p=(0,v.clamp)(p,d.minimumSize,d.maximumSize),this.inverseAltBehavior&&h>0?(this.resize(h-1,Math.floor((d.size-p)/2)),this.distributeEmptySpace(),this.layoutViews()):(d.size=p,this.relayout([h],void 0)))}resizeView(d,p){if(!(d<0||d>=this.viewItems.length)){if(this.state!==u.Idle)throw new Error("Cant modify splitview");this.state=u.Busy;try{const h=(0,y.range)(this.viewItems.length).filter(_=>_!==d),g=[...h.filter(_=>this.viewItems[_].priority===1),d],C=h.filter(_=>this.viewItems[_].priority===2),S=this.viewItems[d];p=Math.round(p),p=(0,v.clamp)(p,S.minimumSize,Math.min(S.maximumSize,this.size)),S.size=p,this.relayout(g,C)}finally{this.state=u.Idle}}}distributeViewSizes(){const d=[];let p=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(d.push(_),p+=_.size);const h=Math.floor(p/d.length);for(const _ of d)_.size=(0,v.clamp)(h,_.minimumSize,_.maximumSize);const g=(0,y.range)(this.viewItems.length),C=g.filter(_=>this.viewItems[_].priority===1),S=g.filter(_=>this.viewItems[_].priority===2);this.relayout(C,S)}getViewSize(d){return d<0||d>=this.viewItems.length?-1:this.viewItems[d].size}doAddView(d,p,h=this.viewItems.length,g){if(this.state!==u.Idle)throw new Error("Cant modify splitview");this.state=u.Busy;try{const C=(0,f.$)(".split-view-view");h===this.viewItems.length?this.viewContainer.appendChild(C):this.viewContainer.insertBefore(C,this.viewContainer.children.item(h));const S=d.onDidChange(A=>this.onViewChange(T,A)),_=(0,b.toDisposable)(()=>C.remove()),L=(0,b.combinedDisposable)(S,_);let D;typeof p=="number"?D=p:(p.type==="auto"&&(this.areViewsDistributed()?p={type:"distribute"}:p={type:"split",index:p.index}),p.type==="split"?D=this.getViewSize(p.index)/2:p.type==="invisible"?D={cachedVisibleSize:p.cachedVisibleSize}:D=d.minimumSize);const T=this.orientation===0?new n(C,d,D,L):new c(C,d,D,L);if(this.viewItems.splice(h,0,T),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},R=this.orientation===0?new E.Sash(this.sashContainer,{getHorizontalSashTop:Y=>this.getSashPosition(Y),getHorizontalSashWidth:this.getSashOrthogonalSize},{...A,orientation:1}):new E.Sash(this.sashContainer,{getVerticalSashLeft:Y=>this.getSashPosition(Y),getVerticalSashHeight:this.getSashOrthogonalSize},{...A,orientation:0}),M=this.orientation===0?Y=>({sash:R,start:Y.startY,current:Y.currentY,alt:Y.altKey}):Y=>({sash:R,start:Y.startX,current:Y.currentX,alt:Y.altKey}),x=w.Event.map(R.onDidStart,M)(this.onSashStart,this),B=w.Event.map(R.onDidChange,M)(this.onSashChange,this),K=w.Event.map(R.onDidEnd,()=>this.sashItems.findIndex(Y=>Y.sash===R))(this.onSashEnd,this),V=R.onDidReset(()=>{const Y=this.sashItems.findIndex(J=>J.sash===R),Q=(0,y.range)(Y,-1),Z=(0,y.range)(Y+1,this.viewItems.length),G=this.findFirstSnapIndex(Q),F=this.findFirstSnapIndex(Z);typeof G=="number"&&!this.viewItems[G].visible||typeof F=="number"&&!this.viewItems[F].visible||this._onDidSashReset.fire(Y)}),j=(0,b.combinedDisposable)(x,B,K,V,R),U={sash:R,disposable:j};this.sashItems.splice(h-1,0,U)}C.appendChild(d.element);let N;typeof p!="number"&&p.type==="split"&&(N=[p.index]),g||this.relayout([h],N),!g&&typeof p!="number"&&p.type==="distribute"&&this.distributeViewSizes()}finally{this.state=u.Idle}}relayout(d,p){const h=this.viewItems.reduce((g,C)=>g+C.size,0);this.resize(this.viewItems.length-1,this.size-h,void 0,d,p),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(d,p,h=this.viewItems.map(T=>T.size),g,C,S=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,L,D){if(d<0||d>=this.viewItems.length)return 0;const T=(0,y.range)(d,-1),N=(0,y.range)(d+1,this.viewItems.length);if(C)for(const U of C)(0,y.pushToStart)(T,U),(0,y.pushToStart)(N,U);if(g)for(const U of g)(0,y.pushToEnd)(T,U),(0,y.pushToEnd)(N,U);const A=T.map(U=>this.viewItems[U]),R=T.map(U=>h[U]),M=N.map(U=>this.viewItems[U]),P=N.map(U=>h[U]),x=T.reduce((U,Y)=>U+(this.viewItems[Y].minimumSize-h[Y]),0),O=T.reduce((U,Y)=>U+(this.viewItems[Y].maximumSize-h[Y]),0),B=N.length===0?Number.POSITIVE_INFINITY:N.reduce((U,Y)=>U+(h[Y]-this.viewItems[Y].minimumSize),0),H=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((U,Y)=>U+(h[Y]-this.viewItems[Y].maximumSize),0),K=Math.max(x,H,S),V=Math.min(B,O,_);let j=!1;if(L){const U=this.viewItems[L.index],Y=p>=L.limitDelta;j=Y!==U.visible,U.setVisible(Y,L.size)}if(!j&&D){const U=this.viewItems[D.index],Y=p<D.limitDelta;j=Y!==U.visible,U.setVisible(Y,D.size)}if(j)return this.resize(d,p,h,g,C,S,_);p=(0,v.clamp)(p,K,V);for(let U=0,Y=p;U<A.length;U++){const Q=A[U],Z=(0,v.clamp)(R[U]+Y,Q.minimumSize,Q.maximumSize),G=Z-R[U];Y-=G,Q.size=Z}for(let U=0,Y=p;U<M.length;U++){const Q=M[U],Z=(0,v.clamp)(P[U]-Y,Q.minimumSize,Q.maximumSize),G=Z-P[U];Y+=G,Q.size=Z}return p}distributeEmptySpace(d){const p=this.viewItems.reduce((_,L)=>_+L.size,0);let h=this.size-p;const g=(0,y.range)(this.viewItems.length-1,-1),C=g.filter(_=>this.viewItems[_].priority===1),S=g.filter(_=>this.viewItems[_].priority===2);for(const _ of S)(0,y.pushToStart)(g,_);for(const _ of C)(0,y.pushToEnd)(g,_);typeof d=="number"&&(0,y.pushToEnd)(g,d);for(let _=0;h!==0&&_<g.length;_++){const L=this.viewItems[g[_]],D=(0,v.clamp)(L.size+h,L.minimumSize,L.maximumSize),T=D-L.size;h-=T,L.size=D}}layoutViews(){this._contentSize=this.viewItems.reduce((p,h)=>p+h.size,0);let d=0;for(const p of this.viewItems)p.layout(d,this.layoutContext),d+=p.size;this.sashItems.forEach(p=>p.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let d=!1;const p=this.viewItems.map(L=>d=L.size-L.minimumSize>0||d);d=!1;const h=this.viewItems.map(L=>d=L.maximumSize-L.size>0||d),g=[...this.viewItems].reverse();d=!1;const C=g.map(L=>d=L.size-L.minimumSize>0||d).reverse();d=!1;const S=g.map(L=>d=L.maximumSize-L.size>0||d).reverse();let _=0;for(let L=0;L<this.sashItems.length;L++){const{sash:D}=this.sashItems[L],T=this.viewItems[L];_+=T.size;const N=!(p[L]&&S[L+1]),A=!(h[L]&&C[L+1]);if(N&&A){const R=(0,y.range)(L,-1),M=(0,y.range)(L+1,this.viewItems.length),P=this.findFirstSnapIndex(R),x=this.findFirstSnapIndex(M),O=typeof P=="number"&&!this.viewItems[P].visible,B=typeof x=="number"&&!this.viewItems[x].visible;O&&C[L]&&(_>0||this.startSnappingEnabled)?D.state=1:B&&p[L]&&(_<this._contentSize||this.endSnappingEnabled)?D.state=2:D.state=0}else N&&!A?D.state=1:!N&&A?D.state=2:D.state=3}}getSashPosition(d){let p=0;for(let h=0;h<this.sashItems.length;h++)if(p+=this.viewItems[h].size,this.sashItems[h].sash===d)return p;return 0}findFirstSnapIndex(d){for(const p of d){const h=this.viewItems[p];if(h.visible&&h.snap)return p}for(const p of d){const h=this.viewItems[p];if(h.visible&&h.maximumSize-h.minimumSize>0)return;if(!h.visible&&h.snap)return p}}areViewsDistributed(){let d,p;for(const h of this.viewItems)if(d=d===void 0?h.size:Math.min(d,h.size),p=p===void 0?h.size:Math.max(p,h.size),p-d>2)return!1;return!0}dispose(){var d;(d=this.sashDragState)===null||d===void 0||d.disposable.dispose(),(0,b.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(p=>p.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=a}),define(re[485],ae([10]),{}),define(re[486],ae([1,0,4,82,43,112,315,6,2,485]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(i,n,c){this.columns=i,this.getColumnSize=c,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const u=new Map(n.map(r=>[r.templateId,r]));this.renderers=[];for(const r of i){const a=u.get(r.templateId);if(!a)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(a)}}renderTemplate(i){const n=(0,f.append)(i,(0,f.$)(".monaco-table-tr")),c=[],u=[];for(let a=0;a<this.columns.length;a++){const l=this.renderers[a],d=(0,f.append)(n,(0,f.$)(".monaco-table-td",{"data-col-index":a}));d.style.width=`${this.getColumnSize(a)}px`,c.push(d),u.push(l.renderTemplate(d))}const r={container:i,cellContainers:c,cellTemplateData:u};return this.renderedTemplates.add(r),r}renderElement(i,n,c,u){for(let r=0;r<this.columns.length;r++){const l=this.columns[r].project(i);this.renderers[r].renderElement(l,n,c.cellTemplateData[r],u)}}disposeElement(i,n,c,u){for(let r=0;r<this.columns.length;r++){const a=this.renderers[r];if(a.disposeElement){const d=this.columns[r].project(i);a.disposeElement(d,n,c.cellTemplateData[r],u)}}}disposeTemplate(i){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(i.cellTemplateData[n]);(0,f.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,n){for(const{cellContainers:c}of this.renderedTemplates)c[i].style.width=`${n}px`}}b.TemplateId="row";function v(t){return{getHeight(i){return t.getHeight(i)},getTemplateId(){return b.TemplateId}}}class s extends w.Disposable{get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:m.Event.None}constructor(i,n){super(),this.column=i,this.index=n,this._onDidLayout=new m.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,f.$)(".monaco-table-th",{"data-col-index":n},i.label),i.tooltip&&this._register((0,k.getBaseLayerHoverDelegate)().setupManagedHover((0,E.getDefaultHoverDelegate)("mouse"),this.element,i.tooltip))}layout(i){this._onDidLayout.fire([this.index,i])}}class o{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(i){this.list.scrollTop=i}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(i,n,c,u,r,a){this.virtualDelegate=c,this.domId=`table_id_${++o.InstanceCount}`,this.disposables=new w.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,f.append)(n,(0,f.$)(`.monaco-table.${this.domId}`));const l=u.map((h,g)=>this.disposables.add(new s(h,g))),d={size:l.reduce((h,g)=>h+g.column.weight,0),views:l.map(h=>({size:h.column.weight,view:h}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:d})),this.splitview.el.style.height=`${c.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${c.headerRowHeight}px`;const p=new b(u,r,h=>this.splitview.getViewSize(h));this.list=this.disposables.add(new I.List(i,this.domNode,v(c),[p],a)),m.Event.any(...l.map(h=>h.onDidLayout))(([h,g])=>p.layoutColumn(h,g),null,this.disposables),this.splitview.onDidSashReset(h=>{const g=u.reduce((S,_)=>S+_.weight,0),C=u[h].weight/g*this.cachedWidth;this.splitview.resizeView(h,C)},null,this.disposables),this.styleElement=(0,f.createStyleSheet)(this.domNode),this.style(I.unthemedListStyles)}updateOptions(i){this.list.updateOptions(i)}splice(i,n,c=[]){this.list.splice(i,n,c)}getHTMLElement(){return this.domNode}style(i){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=o,o.InstanceCount=0}),define(re[487],ae([10]),{}),define(re[163],ae([1,0,84,30,6,43,82,487]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class m extends f.Widget{constructor(b){var v;super(),this._onChange=this._register(new E.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new E.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=b,this._checked=this._opts.isChecked;const s=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,s.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&s.push(...this._opts.actionClassName.split(" ")),this._checked&&s.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,y.getBaseLayerHoverDelegate)().setupManagedHover((v=b.hoverDelegate)!==null&&v!==void 0?v:(0,I.getDefaultHoverDelegate)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...s),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,o=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),o.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,o=>{if(o.keyCode===10||o.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),o.preventDefault(),o.stopPropagation();return}this._onKeyDown.fire(o)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(b){this._checked=b,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=m}),define(re[488],ae([10]),{}),define(re[489],ae([10]),{}),define(re[490],ae([10]),{}),define(re[491],ae([10]),{}),define(re[492],ae([10]),{}),define(re[493],ae([10]),{}),define(re[494],ae([10]),{}),define(re[495],ae([10]),{}),define(re[496],ae([10]),{}),define(re[497],ae([10]),{}),define(re[498],ae([10]),{}),define(re[499],ae([10]),{}),define(re[500],ae([10]),{}),define(re[501],ae([10]),{}),define(re[502],ae([10]),{}),define(re[503],ae([10]),{}),define(re[504],ae([10]),{}),define(re[505],ae([10]),{}),define(re[506],ae([10]),{}),define(re[507],ae([10]),{}),define(re[508],ae([10]),{}),define(re[509],ae([10]),{}),define(re[510],ae([10]),{}),define(re[511],ae([10]),{}),define(re[512],ae([10]),{}),define(re[513],ae([10]),{}),define(re[514],ae([10]),{}),define(re[515],ae([10]),{}),define(re[516],ae([10]),{}),define(re[517],ae([10]),{}),define(re[236],ae([10]),{}),define(re[518],ae([10]),{}),define(re[519],ae([10]),{}),define(re[520],ae([10]),{}),define(re[521],ae([10]),{}),define(re[522],ae([10]),{}),define(re[523],ae([10]),{}),define(re[524],ae([10]),{}),define(re[525],ae([10]),{}),define(re[237],ae([10]),{}),define(re[526],ae([10]),{}),define(re[527],ae([10]),{}),define(re[528],ae([10]),{}),define(re[529],ae([10]),{}),define(re[530],ae([10]),{}),define(re[531],ae([10]),{}),define(re[532],ae([10]),{}),define(re[533],ae([10]),{}),define(re[534],ae([10]),{}),define(re[535],ae([10]),{}),define(re[536],ae([10]),{}),define(re[537],ae([10]),{}),define(re[538],ae([10]),{}),define(re[539],ae([10]),{}),define(re[540],ae([10]),{}),define(re[541],ae([10]),{}),define(re[542],ae([10]),{}),define(re[543],ae([10]),{}),define(re[544],ae([10]),{}),define(re[545],ae([10]),{}),define(re[546],ae([10]),{}),define(re[547],ae([10]),{}),define(re[548],ae([10]),{}),define(re[549],ae([10]),{}),define(re[550],ae([10]),{}),define(re[551],ae([10]),{}),define(re[316],ae([10]),{}),define(re[552],ae([10]),{}),define(re[553],ae([10]),{}),define(re[238],ae([10]),{}),define(re[554],ae([10]),{}),define(re[74],ae([1,0,39]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=k;function k(E,I){E instanceof f.FastDomNode?(E.setFontFamily(I.getMassagedFontFamily()),E.setFontWeight(I.fontWeight),E.setFontSize(I.fontSize),E.setFontFeatureSettings(I.fontFeatureSettings),E.setFontVariationSettings(I.fontVariationSettings),E.setLineHeight(I.lineHeight),E.setLetterSpacing(I.letterSpacing)):(E.style.fontFamily=I.getMassagedFontFamily(),E.style.fontWeight=I.fontWeight,E.style.fontSize=I.fontSize+"px",E.style.fontFeatureSettings=I.fontFeatureSettings,E.style.fontVariationSettings=I.fontVariationSettings,E.style.lineHeight=I.lineHeight+"px",E.style.letterSpacing=I.letterSpacing+"px")}}),define(re[555],ae([1,0,74]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharWidthRequest=void 0,e.readCharWidths=I;class k{constructor(m,w){this.chr=m,this.type=w,this.width=0}fulfill(m){this.width=m}}e.CharWidthRequest=k;class E{constructor(m,w){this._bareFontInfo=m,this._requests=w,this._container=null,this._testElements=null}read(m){var w;this._createDomElements(),m.document.body.appendChild(this._container),this._readFromDomElements(),(w=this._container)===null||w===void 0||w.remove(),this._container=null,this._testElements=null}_createDomElements(){const m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";const w=document.createElement("div");(0,f.applyFontInfo)(w,this._bareFontInfo),m.appendChild(w);const b=document.createElement("div");(0,f.applyFontInfo)(b,this._bareFontInfo),b.style.fontWeight="bold",m.appendChild(b);const v=document.createElement("div");(0,f.applyFontInfo)(v,this._bareFontInfo),v.style.fontStyle="italic",m.appendChild(v);const s=[];for(const o of this._requests){let t;o.type===0&&(t=w),o.type===2&&(t=b),o.type===1&&(t=v),t.appendChild(document.createElement("br"));const i=document.createElement("span");E._render(i,o),t.appendChild(i),s.push(i)}this._container=m,this._testElements=s}static _render(m,w){if(w.chr===" "){let b="\xA0";for(let v=0;v<8;v++)b+=b;m.innerText=b}else{let b=w.chr;for(let v=0;v<8;v++)b+=b;m.textContent=b}}_readFromDomElements(){for(let m=0,w=this._requests.length;m<w;m++){const b=this._requests[m],v=this._testElements[m];b.fulfill(v.offsetWidth/256)}}}function I(y,m,w){new E(m,w).read(y)}}),define(re[317],ae([1,0,2,6,4]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class I extends f.Disposable{constructor(m,w){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=m,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let m=null;const w=()=>{m?this.observe({width:m.width,height:m.height}):this.observe()};let b=!1,v=!1;const s=()=>{if(b&&!v)try{b=!1,v=!0,w()}finally{(0,E.scheduleAtNextAnimationFrame)((0,E.getWindow)(this._referenceDomElement),()=>{v=!1,s()})}};this._resizeObserver=new ResizeObserver(o=>{o&&o[0]&&o[0].contentRect?m={width:o[0].contentRect.width,height:o[0].contentRect.height}:m=null,b=!0,s()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(m){this.measureReferenceDomElement(!0,m)}measureReferenceDomElement(m,w){let b=0,v=0;w?(b=w.width,v=w.height):this._referenceDomElement&&(b=this._referenceDomElement.clientWidth,v=this._referenceDomElement.clientHeight),b=Math.max(5,b),v=Math.max(5,v),(this._width!==b||this._height!==v)&&(this._width=b,this._height=v,m&&this._onDidChange.fire())}}e.ElementSizeObserver=I}),define(re[556],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSettingMigration=void 0,e.migrateOptions=I;class f{constructor(w,b){this.key=w,this.migrate=b}apply(w){const b=f._read(w,this.key),v=o=>f._read(w,o),s=(o,t)=>f._write(w,o,t);this.migrate(b,v,s)}static _read(w,b){if(typeof w>"u")return;const v=b.indexOf(".");if(v>=0){const s=b.substring(0,v);return this._read(w[s],b.substring(v+1))}return w[b]}static _write(w,b,v){const s=b.indexOf(".");if(s>=0){const o=b.substring(0,s);w[o]=w[o]||{},this._write(w[o],b.substring(s+1),v);return}w[b]=v}}e.EditorSettingMigration=f,f.items=[];function k(m,w){f.items.push(new f(m,w))}function E(m,w){k(m,(b,v,s)=>{if(typeof b<"u"){for(const[o,t]of w)if(b===o){s(m,t);return}}})}function I(m){f.items.forEach(w=>w.apply(m))}E("wordWrap",[[!0,"on"],[!1,"off"]]),E("lineNumbers",[[!0,"on"],[!1,"off"]]),E("cursorBlinking",[["visible","solid"]]),E("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),E("renderLineHighlight",[[!0,"line"],[!1,"none"]]),E("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),E("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),E("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("autoIndent",[[!1,"advanced"],[!0,"full"]]),E("matchBrackets",[[!0,"always"],[!1,"never"]]),E("renderFinalNewline",[[!0,"on"],[!1,"off"]]),E("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),E("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),E("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),k("autoClosingBrackets",(m,w,b)=>{m===!1&&(b("autoClosingBrackets","never"),typeof w("autoClosingQuotes")>"u"&&b("autoClosingQuotes","never"),typeof w("autoSurround")>"u"&&b("autoSurround","never"))}),k("renderIndentGuides",(m,w,b)=>{typeof m<"u"&&(b("renderIndentGuides",void 0),typeof w("guides.indentation")>"u"&&b("guides.indentation",!!m))}),k("highlightActiveIndentGuide",(m,w,b)=>{typeof m<"u"&&(b("highlightActiveIndentGuide",void 0),typeof w("guides.highlightActiveIndentation")>"u"&&b("guides.highlightActiveIndentation",!!m))});const y={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(m,w,b)=>{if(m&&typeof m=="object"){for(const v of Object.entries(y))m[v[0]]===!1&&typeof w(`suggest.${v[1]}`)>"u"&&b(`suggest.${v[1]}`,!1);b("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(m,w,b)=>{if(typeof m=="boolean"){const v=m?"on":"off";b("quickSuggestions",{comments:v,strings:v,other:v})}}),k("experimental.stickyScroll.enabled",(m,w,b)=>{typeof m=="boolean"&&(b("experimental.stickyScroll.enabled",void 0),typeof w("stickyScroll.enabled")>"u"&&b("stickyScroll.enabled",m))}),k("experimental.stickyScroll.maxLineCount",(m,w,b)=>{typeof m=="number"&&(b("experimental.stickyScroll.maxLineCount",void 0),typeof w("stickyScroll.maxLineCount")>"u"&&b("stickyScroll.maxLineCount",m))}),k("codeActionsOnSave",(m,w,b)=>{if(m&&typeof m=="object"){let v=!1;const s={};for(const o of Object.entries(m))typeof o[1]=="boolean"?(v=!0,s[o[0]]=o[1]?"explicit":"never"):s[o[0]]=o[1];v&&b("codeActionsOnSave",s)}}),k("codeActionWidget.includeNearbyQuickfixes",(m,w,b)=>{typeof m=="boolean"&&(b("codeActionWidget.includeNearbyQuickfixes",void 0),typeof w("codeActionWidget.includeNearbyQuickFixes")>"u"&&b("codeActionWidget.includeNearbyQuickFixes",m))}),k("lightbulb.enabled",(m,w,b)=>{typeof m=="boolean"&&b("lightbulb.enabled",m?void 0:"off")})}),define(re[239],ae([1,0,6]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new f.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(I){this._tabFocus=I,this._onDidChangeTabFocus.fire(this._tabFocus)}}e.TabFocus=new k}),define(re[140],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class f{static capture(E){if(E.getScrollTop()===0||E.hasPendingScrollAnimation())return new f(E.getScrollTop(),E.getContentHeight(),null,0,null);let I=null,y=0;const m=E.getVisibleRanges();if(m.length>0){I=m[0].getStartPosition();const w=E.getTopForPosition(I.lineNumber,I.column);y=E.getScrollTop()-w}return new f(E.getScrollTop(),E.getContentHeight(),I,y,E.getPosition())}constructor(E,I,y,m,w){this._initialScrollTop=E,this._initialContentHeight=I,this._visiblePosition=y,this._visiblePositionScrollDelta=m,this._cursorPosition=w}restore(E){if(!(this._initialContentHeight===E.getContentHeight()&&this._initialScrollTop===E.getScrollTop())&&this._visiblePosition){const I=E.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);E.setScrollTop(I+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(E){if(this._initialContentHeight===E.getContentHeight()&&this._initialScrollTop===E.getScrollTop())return;const I=E.getPosition();if(!this._cursorPosition||!I)return;const y=E.getTopForLineNumber(I.lineNumber)-E.getTopForLineNumber(this._cursorPosition.lineNumber);E.setScrollTop(E.getScrollTop()+y,1)}}e.StableEditorScrollState=f}),define(re[164],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class f{constructor(v,s){this._restrictedRenderingContextBrand=void 0,this._viewLayout=v,this.viewportData=s,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const o=this._viewLayout.getCurrentViewport();this.scrollTop=o.top,this.scrollLeft=o.left,this.viewportWidth=o.width,this.viewportHeight=o.height}getScrolledTopFromAbsoluteTop(v){return v-this.scrollTop}getVerticalOffsetForLineNumber(v,s){return this._viewLayout.getVerticalOffsetForLineNumber(v,s)}getVerticalOffsetAfterLineNumber(v,s){return this._viewLayout.getVerticalOffsetAfterLineNumber(v,s)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=f;class k extends f{constructor(v,s,o){super(v,s),this._renderingContextBrand=void 0,this._viewLines=o}linesVisibleRangesForRange(v,s){return this._viewLines.linesVisibleRangesForRange(v,s)}visibleRangeForPosition(v){return this._viewLines.visibleRangeForPosition(v)}}e.RenderingContext=k;class E{constructor(v,s,o,t){this.outsideRenderedLine=v,this.lineNumber=s,this.ranges=o,this.continuesOnNextLine=t}}e.LineVisibleRanges=E;class I{static from(v){const s=new Array(v.length);for(let o=0,t=v.length;o<t;o++){const i=v[o];s[o]=new I(i.left,i.width)}return s}constructor(v,s){this._horizontalRangeBrand=void 0,this.left=Math.round(v),this.width=Math.round(s)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=I;class y{constructor(v,s){this._floatHorizontalRangeBrand=void 0,this.left=v,this.width=s}toString(){return`[${this.left},${this.width}]`}static compare(v,s){return v.left-s.left}}e.FloatHorizontalRange=y;class m{constructor(v,s){this.outsideRenderedLine=v,this.originalLeft=s,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=m;class w{constructor(v,s){this.outsideRenderedLine=v,this.ranges=s}}e.VisibleRanges=w}),define(re[557],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class f{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const E=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=E.left,this._clientRectScale=E.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(E,I){this._domNode=E,this.endNode=I,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=f}),define(re[558],ae([1,0,164]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(I,y){I.selectNodeContents(y)}static _readClientRects(I,y,m,w,b){const v=this._createRange();try{return v.setStart(I,y),v.setEnd(m,w),v.getClientRects()}catch{return null}finally{this._detachRange(v,b)}}static _mergeAdjacentRanges(I){if(I.length===1)return I;I.sort(f.FloatHorizontalRange.compare);const y=[];let m=0,w=I[0];for(let b=1,v=I.length;b<v;b++){const s=I[b];w.left+w.width+.9>=s.left?w.width=Math.max(w.width,s.left+s.width-w.left):(y[m++]=w,w=s)}return y[m++]=w,y}static _createHorizontalRangesFromClientRects(I,y,m){if(!I||I.length===0)return null;const w=[];for(let b=0,v=I.length;b<v;b++){const s=I[b];w[b]=new f.FloatHorizontalRange(Math.max(0,(s.left-y)/m),s.width/m)}return this._mergeAdjacentRanges(w)}static readHorizontalRanges(I,y,m,w,b,v){const o=I.children.length-1;if(0>o)return null;if(y=Math.min(o,Math.max(0,y)),w=Math.min(o,Math.max(0,w)),y===w&&m===b&&m===0&&!I.children[y].firstChild){const c=I.children[y].getClientRects();return v.markDidDomLayout(),this._createHorizontalRangesFromClientRects(c,v.clientRectDeltaLeft,v.clientRectScale)}y!==w&&w>0&&b===0&&(w--,b=1073741824);let t=I.children[y].firstChild,i=I.children[w].firstChild;if((!t||!i)&&(!t&&m===0&&y>0&&(t=I.children[y-1].firstChild,m=1073741824),!i&&b===0&&w>0&&(i=I.children[w-1].firstChild,b=1073741824)),!t||!i)return null;m=Math.min(t.textContent.length,Math.max(0,m)),b=Math.min(i.textContent.length,Math.max(0,b));const n=this._readClientRects(t,m,i,b,v.endNode);return v.markDidDomLayout(),this._createHorizontalRangesFromClientRects(n,v.clientRectDeltaLeft,v.clientRectScale)}}e.RangeUtil=k}),define(re[318],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let E=32;E<=126;E++)k.push(E);return k.push(65533),k})();const f=(k,E)=>(k-=32,k<0||k>96?E<=2?(k+96)%96:95:k);e.getCharIndex=f}),define(re[559],ae([1,0,318,191]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class E{constructor(y,m){this.scale=m,this._minimapCharRendererBrand=void 0,this.charDataNormal=E.soften(y,12/15),this.charDataLight=E.soften(y,50/60)}static soften(y,m){const w=new Uint8ClampedArray(y.length);for(let b=0,v=y.length;b<v;b++)w[b]=(0,k.toUint8)(y[b]*m);return w}renderChar(y,m,w,b,v,s,o,t,i,n,c){const u=1*this.scale,r=2*this.scale,a=c?1:r;if(m+u>y.width||w+a>y.height){console.warn("bad render request outside image data");return}const l=n?this.charDataLight:this.charDataNormal,d=(0,f.getCharIndex)(b,i),p=y.width*4,h=o.r,g=o.g,C=o.b,S=v.r-h,_=v.g-g,L=v.b-C,D=Math.max(s,t),T=y.data;let N=d*u*r,A=w*p+m*4;for(let R=0;R<a;R++){let M=A;for(let P=0;P<u;P++){const x=l[N++]/255*(s/255);T[M++]=h+S*x,T[M++]=g+_*x,T[M++]=C+L*x,T[M++]=D}A+=p}}blockRenderChar(y,m,w,b,v,s,o,t){const i=1*this.scale,n=2*this.scale,c=t?1:n;if(m+i>y.width||w+c>y.height){console.warn("bad render request outside image data");return}const u=y.width*4,r=.5*(v/255),a=s.r,l=s.g,d=s.b,p=b.r-a,h=b.g-l,g=b.b-d,C=a+p*r,S=l+h*r,_=d+g*r,L=Math.max(v,o),D=y.data;let T=w*u+m*4;for(let N=0;N<c;N++){let A=T;for(let R=0;R<i;R++)D[A++]=C,D[A++]=S,D[A++]=_,D[A++]=L;T+=u}}}e.MinimapCharRenderer=E}),define(re[560],ae([1,0,125]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},E=I=>{const y=new Uint8ClampedArray(I.length/2);for(let m=0;m<I.length;m+=2)y[m>>1]=k[I[m]]<<4|k[I[m+1]]&15;return y};e.prebakedMiniMaps={1:(0,f.createSingleCallFunction)(()=>E("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,f.createSingleCallFunction)(()=>E("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(re[561],ae([1,0,559,318,560,191]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class y{static create(w,b){if(this.lastCreated&&w===this.lastCreated.scale&&b===this.lastFontFamily)return this.lastCreated;let v;return E.prebakedMiniMaps[w]?v=new f.MinimapCharRenderer(E.prebakedMiniMaps[w](),w):v=y.createFromSampleData(y.createSampleData(b).data,w),this.lastFontFamily=b,this.lastCreated=v,v}static createSampleData(w){const b=document.createElement("canvas"),v=b.getContext("2d");b.style.height="16px",b.height=16,b.width=96*10,b.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold 16px ${w}`,v.textBaseline="middle";let s=0;for(const o of k.allCharCodes)v.fillText(String.fromCharCode(o),s,16/2),s+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(w,b){if(w.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const s=y._downsample(w,b);return new f.MinimapCharRenderer(s,b)}static _downsampleChar(w,b,v,s,o){const t=1*o,i=2*o;let n=s,c=0;for(let u=0;u<i;u++){const r=u/i*16,a=(u+1)/i*16;for(let l=0;l<t;l++){const d=l/t*10,p=(l+1)/t*10;let h=0,g=0;for(let S=r;S<a;S++){const _=b+Math.floor(S)*3840,L=1-(S-Math.floor(S));for(let D=d;D<p;D++){const T=1-(D-Math.floor(D)),N=_+Math.floor(D)*4,A=T*L;g+=A,h+=w[N]*w[N+3]/255*A}}const C=h/g;c=Math.max(c,C),v[n++]=(0,I.toUint8)(C)}}return c}static _downsample(w,b){const v=2*b*1*b,s=v*96,o=new Uint8ClampedArray(s);let t=0,i=0,n=0;for(let c=0;c<96;c++)n=Math.max(n,this._downsampleChar(w,i,o,t,b)),t+=v,i+=10*4;if(n>0){const c=255/n;for(let u=0;u<s;u++)o[u]*=c}return o}}e.MinimapCharRendererFactory=y}),define(re[562],ae([1,0,4,8,2]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class I extends E.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new E.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(m,w,b){this._editor=m,this._instantiationService=b;for(const v of w){if(this._pending.has(v.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${v.id}`));continue}this._pending.set(v.id,v)}this._instantiateSome(0),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const m={};for(const[w,b]of this._instances)typeof b.saveViewState=="function"&&(m[w]=b.saveViewState());return m}restoreViewState(m){for(const[w,b]of this._instances)typeof b.restoreViewState=="function"&&b.restoreViewState(m[w])}get(m){return this._instantiateById(m),this._instances.get(m)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var m;return(0,f.runWhenWindowIdle)((0,f.getWindow)((m=this._editor)===null||m===void 0?void 0:m.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(m){if(this._finishedInstantiation[m])return;this._finishedInstantiation[m]=!0;const w=this._findPendingContributionsByInstantiation(m);for(const b of w)this._instantiateById(b.id)}_findPendingContributionsByInstantiation(m){const w=[];for(const[,b]of this._pending)b.instantiation===m&&w.push(b);return w}_instantiateById(m){const w=this._pending.get(m);if(w){if(this._pending.delete(m),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const b=this._instantiationService.createInstance(w.ctor,this._editor);this._instances.set(w.id,b),typeof b.restoreViewState=="function"&&w.instantiation!==0&&console.warn(`Editor contribution '${w.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(b){(0,k.onUnexpectedError)(b)}}}}e.CodeEditorContributions=I}),define(re[319],ae([1,0,162,2,21,72]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=e.SashLayout=void 0;class y{resetSash(){this._sashRatio.set(void 0,void 0)}constructor(b,v){this._options=b,this.dimensions=v,this.sashLeft=(0,I.derivedWithSetter)(this,s=>{var o;const t=(o=this._sashRatio.read(s))!==null&&o!==void 0?o:this._options.splitViewDefaultRatio.read(s);return this._computeSashLeft(t,s)},(s,o)=>{const t=this.dimensions.width.get();this._sashRatio.set(s/t,o)}),this._sashRatio=(0,E.observableValue)(this,void 0)}_computeSashLeft(b,v){const s=this.dimensions.width.read(v),o=Math.floor(this._options.splitViewDefaultRatio.read(v)*s),t=this._options.enableSplitViewResizing.read(v)?Math.floor(b*s):o,i=100;return s<=i*2?o:t<i?i:t>s-i?s-i:t}}e.SashLayout=y;class m extends k.Disposable{constructor(b,v,s,o,t,i){super(),this._domNode=b,this._dimensions=v,this._enabled=s,this._boundarySashes=o,this.sashLeft=t,this._resetSash=i,this._sash=this._register(new f.Sash(this._domNode,{getVerticalSashTop:n=>0,getVerticalSashLeft:n=>this.sashLeft.get(),getVerticalSashHeight:n=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(n=>{this.sashLeft.set(this._startSashPosition+(n.currentX-n.startX),void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._resetSash())),this._register((0,E.autorun)(n=>{const c=this._boundarySashes.read(n);c&&(this._sash.orthogonalEndSash=c.bottom)})),this._register((0,E.autorun)(n=>{const c=this._enabled.read(n);this._sash.state=c?3:0,this.sashLeft.read(n),this._dimensions.height.read(n),this._sash.layout()}))}}e.DiffEditorSash=m}),define(re[563],ae([1,0,6,2]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class E extends k.Disposable{constructor(){super(...arguments),this._id=++E.idCounter,this._onDidDispose=this._register(new f.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(y){return this._targetEditor.getVisibleColumnFromPosition(y)}getPosition(){return this._targetEditor.getPosition()}setPosition(y,m="api"){this._targetEditor.setPosition(y,m)}revealLine(y,m=0){this._targetEditor.revealLine(y,m)}revealLineInCenter(y,m=0){this._targetEditor.revealLineInCenter(y,m)}revealLineInCenterIfOutsideViewport(y,m=0){this._targetEditor.revealLineInCenterIfOutsideViewport(y,m)}revealLineNearTop(y,m=0){this._targetEditor.revealLineNearTop(y,m)}revealPosition(y,m=0){this._targetEditor.revealPosition(y,m)}revealPositionInCenter(y,m=0){this._targetEditor.revealPositionInCenter(y,m)}revealPositionInCenterIfOutsideViewport(y,m=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(y,m)}revealPositionNearTop(y,m=0){this._targetEditor.revealPositionNearTop(y,m)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(y,m="api"){this._targetEditor.setSelection(y,m)}setSelections(y,m="api"){this._targetEditor.setSelections(y,m)}revealLines(y,m,w=0){this._targetEditor.revealLines(y,m,w)}revealLinesInCenter(y,m,w=0){this._targetEditor.revealLinesInCenter(y,m,w)}revealLinesInCenterIfOutsideViewport(y,m,w=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(y,m,w)}revealLinesNearTop(y,m,w=0){this._targetEditor.revealLinesNearTop(y,m,w)}revealRange(y,m=0,w=!1,b=!0){this._targetEditor.revealRange(y,m,w,b)}revealRangeInCenter(y,m=0){this._targetEditor.revealRangeInCenter(y,m)}revealRangeInCenterIfOutsideViewport(y,m=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(y,m)}revealRangeNearTop(y,m=0){this._targetEditor.revealRangeNearTop(y,m)}revealRangeNearTopIfOutsideViewport(y,m=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(y,m)}revealRangeAtTop(y,m=0){this._targetEditor.revealRangeAtTop(y,m)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(y,m,w){this._targetEditor.trigger(y,m,w)}createDecorationsCollection(y){return this._targetEditor.createDecorationsCollection(y)}changeDecorations(y){return this._targetEditor.changeDecorations(y)}}e.DelegatingEditor=E,E.idCounter=0}),define(re[564],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectPool=void 0;class f{constructor(E){this._create=E,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(E){var I;let y;if(this._unused.size===0)y=this._create(E),this._itemData.set(y,E);else{const m=[...this._unused.values()];y=(I=m.find(w=>this._itemData.get(w).getId()===E.getId()))!==null&&I!==void 0?I:m[0],this._unused.delete(y),this._itemData.set(y,E),y.setData(E)}return this._used.add(y),{object:y,dispose:()=>{this._used.delete(y),this._unused.size>5?y.dispose():this._unused.add(y)}}}dispose(){for(const E of this._used)E.dispose();for(const E of this._unused)E.dispose();this._used.clear(),this._unused.clear()}}e.ObjectPool=f}),define(re[320],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(re[165],ae([1,0,6]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new f.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(re[141],ae([1,0,191]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(y){const m=(0,f.toUint8)(y);this._defaultValue=m,this._asciiMap=k._createAsciiMap(m),this._map=new Map}static _createAsciiMap(y){const m=new Uint8Array(256);return m.fill(y),m}set(y,m){const w=(0,f.toUint8)(m);y>=0&&y<256?this._asciiMap[y]=w:this._map.set(y,w)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class E{constructor(){this._actual=new k(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}clear(){return this._actual.clear()}}e.CharacterSet=E}),define(re[93],ae([1,0,11]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(I,y,m){return I===9?k.nextRenderTabStop(y,m):f.isFullWidthCharacter(I)||f.isEmojiImprecise(I)?y+2:y+1}static visibleColumnFromColumn(I,y,m){const w=Math.min(y-1,I.length),b=I.substring(0,w),v=new f.GraphemeIterator(b);let s=0;for(;!v.eol();){const o=f.getNextCodePoint(b,w,v.offset);v.nextGraphemeLength(),s=this._nextVisibleColumn(o,s,m)}return s}static columnFromVisibleColumn(I,y,m){if(y<=0)return 1;const w=I.length,b=new f.GraphemeIterator(I);let v=0,s=1;for(;!b.eol();){const o=f.getNextCodePoint(I,w,b.offset);b.nextGraphemeLength();const t=this._nextVisibleColumn(o,v,m),i=b.offset+1;if(t>=y){const n=y-v;return t-y<n?i:s}v=t,s=i}return w+1}static nextRenderTabStop(I,y){return I+y-I%y}static nextIndentTabStop(I,y){return I+y-I%y}static prevRenderTabStop(I,y){return Math.max(0,I-1-(I-1)%y)}static prevIndentTabStop(I,y){return Math.max(0,I-1-(I-1)%y)}}e.CursorColumns=k}),define(re[142],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=f;function f(k){let E=0,I=0,y=0,m=0;for(let w=0,b=k.length;w<b;w++){const v=k.charCodeAt(w);v===13?(E===0&&(I=w),E++,w+1<b&&k.charCodeAt(w+1)===10?(m|=2,w++):m|=3,y=w+1):v===10&&(m|=1,E===0&&(I=w),E++,y=w+1)}return E===0&&(I=k.length),[E,I,k.length-y,m]}}),define(re[240],ae([1,0,11,93]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=I;function E(y,m,w){let b=0;for(let s=0;s<y.length;s++)y.charAt(s)==="	"?b=k.CursorColumns.nextIndentTabStop(b,m):b++;let v="";if(!w){const s=Math.floor(b/m);b=b%m;for(let o=0;o<s;o++)v+="	"}for(let s=0;s<b;s++)v+=" ";return v}function I(y,m,w){let b=f.firstNonWhitespaceIndex(y);return b===-1&&(b=y.length),E(y.substring(0,b),m,w)+y.substring(b)}}),define(re[66],ae([1,0,8]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(y,m){let w=0;for(;w<m.length&&m[w].endExclusive<y.start;)w++;let b=w;for(;b<m.length&&m[b].start<=y.endExclusive;)b++;if(w===b)m.splice(w,0,y);else{const v=Math.min(y.start,m[w].start),s=Math.max(y.endExclusive,m[b-1].endExclusive);m.splice(w,b-w,new k(v,s))}}static tryCreate(y,m){if(!(y>m))return new k(y,m)}static ofLength(y){return new k(0,y)}static ofStartAndLength(y,m){return new k(y,y+m)}constructor(y,m){if(this.start=y,this.endExclusive=m,y>m)throw new f.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(y){return new k(this.start+y,this.endExclusive+y)}deltaStart(y){return new k(this.start+y,this.endExclusive)}deltaEnd(y){return new k(this.start,this.endExclusive+y)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(y){return this.start<=y&&y<this.endExclusive}join(y){return new k(Math.min(this.start,y.start),Math.max(this.endExclusive,y.endExclusive))}intersect(y){const m=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);if(m<=w)return new k(m,w)}intersects(y){const m=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);return m<w}isBefore(y){return this.endExclusive<=y.start}isAfter(y){return this.start>=y.endExclusive}slice(y){return y.slice(this.start,this.endExclusive)}substring(y){return y.substring(this.start,this.endExclusive)}clip(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,y))}clipCyclic(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return y<this.start?this.endExclusive-(this.start-y)%this.length:y>=this.endExclusive?this.start+(y-this.start)%this.length:y}forEach(y){for(let m=this.start;m<this.endExclusive;m++)y(m)}}e.OffsetRange=k;class E{constructor(){this._sortedRanges=[]}addRange(y){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<y.start;)m++;let w=m;for(;w<this._sortedRanges.length&&this._sortedRanges[w].start<=y.endExclusive;)w++;if(m===w)this._sortedRanges.splice(m,0,y);else{const b=Math.min(y.start,this._sortedRanges[m].start),v=Math.max(y.endExclusive,this._sortedRanges[w-1].endExclusive);this._sortedRanges.splice(m,w-m,new k(b,v))}}toString(){return this._sortedRanges.map(y=>y.toString()).join(", ")}intersectsStrict(y){let m=0;for(;m<this._sortedRanges.length&&this._sortedRanges[m].endExclusive<=y.start;)m++;return m<this._sortedRanges.length&&this._sortedRanges[m].start<y.endExclusive}intersectWithRange(y){const m=new E;for(const w of this._sortedRanges){const b=w.intersect(y);b&&m.addRange(b)}return m}intersectWithRangeLength(y){return this.intersectWithRange(y).length}get length(){return this._sortedRanges.reduce((y,m)=>y+m.length,0)}}e.OffsetRangeSet=E}),define(re[9],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class f{constructor(E,I){this.lineNumber=E,this.column=I}with(E=this.lineNumber,I=this.column){return E===this.lineNumber&&I===this.column?this:new f(E,I)}delta(E=0,I=0){return this.with(this.lineNumber+E,this.column+I)}equals(E){return f.equals(this,E)}static equals(E,I){return!E&&!I?!0:!!E&&!!I&&E.lineNumber===I.lineNumber&&E.column===I.column}isBefore(E){return f.isBefore(this,E)}static isBefore(E,I){return E.lineNumber<I.lineNumber?!0:I.lineNumber<E.lineNumber?!1:E.column<I.column}isBeforeOrEqual(E){return f.isBeforeOrEqual(this,E)}static isBeforeOrEqual(E,I){return E.lineNumber<I.lineNumber?!0:I.lineNumber<E.lineNumber?!1:E.column<=I.column}static compare(E,I){const y=E.lineNumber|0,m=I.lineNumber|0;if(y===m){const w=E.column|0,b=I.column|0;return w-b}return y-m}clone(){return new f(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(E){return new f(E.lineNumber,E.column)}static isIPosition(E){return E&&typeof E.lineNumber=="number"&&typeof E.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}e.Position=f}),define(re[321],ae([1,0,9]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(I){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=I}emitKeyDown(I){var y;(y=this.onKeyDown)===null||y===void 0||y.call(this,I)}emitKeyUp(I){var y;(y=this.onKeyUp)===null||y===void 0||y.call(this,I)}emitContextMenu(I){var y;(y=this.onContextMenu)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(I))}emitMouseMove(I){var y;(y=this.onMouseMove)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(I))}emitMouseLeave(I){var y;(y=this.onMouseLeave)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(I))}emitMouseDown(I){var y;(y=this.onMouseDown)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(I))}emitMouseUp(I){var y;(y=this.onMouseUp)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(I))}emitMouseDrag(I){var y;(y=this.onMouseDrag)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(I))}emitMouseDrop(I){var y;(y=this.onMouseDrop)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(I))}emitMouseDropCanceled(){var I;(I=this.onMouseDropCanceled)===null||I===void 0||I.call(this)}emitMouseWheel(I){var y;(y=this.onMouseWheel)===null||y===void 0||y.call(this,I)}_convertViewToModelMouseEvent(I){return I.target?{event:I.event,target:this._convertViewToModelMouseTarget(I.target)}:I}_convertViewToModelMouseTarget(I){return k.convertViewToModelMouseTarget(I,this._coordinatesConverter)}static convertViewToModelMouseTarget(I,y){const m={...I};return m.position&&(m.position=y.convertViewPositionToModelPosition(m.position)),m.range&&(m.range=y.convertViewRangeToModelRange(m.range)),(m.type===5||m.type===8)&&(m.detail=this.convertViewToModelViewZoneData(m.detail,y)),m}static convertViewToModelViewZoneData(I,y){return{viewZoneId:I.viewZoneId,positionBefore:I.positionBefore?y.convertViewPositionToModelPosition(I.positionBefore):I.positionBefore,positionAfter:I.positionAfter?y.convertViewPositionToModelPosition(I.positionAfter):I.positionAfter,position:y.convertViewPositionToModelPosition(I.position),afterLineNumber:y.convertViewPositionToModelPosition(new f.Position(I.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(re[5],ae([1,0,9]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(I,y,m,w){I>m||I===m&&y>w?(this.startLineNumber=m,this.startColumn=w,this.endLineNumber=I,this.endColumn=y):(this.startLineNumber=I,this.startColumn=y,this.endLineNumber=m,this.endColumn=w)}isEmpty(){return k.isEmpty(this)}static isEmpty(I){return I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn}containsPosition(I){return k.containsPosition(this,I)}static containsPosition(I,y){return!(y.lineNumber<I.startLineNumber||y.lineNumber>I.endLineNumber||y.lineNumber===I.startLineNumber&&y.column<I.startColumn||y.lineNumber===I.endLineNumber&&y.column>I.endColumn)}static strictContainsPosition(I,y){return!(y.lineNumber<I.startLineNumber||y.lineNumber>I.endLineNumber||y.lineNumber===I.startLineNumber&&y.column<=I.startColumn||y.lineNumber===I.endLineNumber&&y.column>=I.endColumn)}containsRange(I){return k.containsRange(this,I)}static containsRange(I,y){return!(y.startLineNumber<I.startLineNumber||y.endLineNumber<I.startLineNumber||y.startLineNumber>I.endLineNumber||y.endLineNumber>I.endLineNumber||y.startLineNumber===I.startLineNumber&&y.startColumn<I.startColumn||y.endLineNumber===I.endLineNumber&&y.endColumn>I.endColumn)}strictContainsRange(I){return k.strictContainsRange(this,I)}static strictContainsRange(I,y){return!(y.startLineNumber<I.startLineNumber||y.endLineNumber<I.startLineNumber||y.startLineNumber>I.endLineNumber||y.endLineNumber>I.endLineNumber||y.startLineNumber===I.startLineNumber&&y.startColumn<=I.startColumn||y.endLineNumber===I.endLineNumber&&y.endColumn>=I.endColumn)}plusRange(I){return k.plusRange(this,I)}static plusRange(I,y){let m,w,b,v;return y.startLineNumber<I.startLineNumber?(m=y.startLineNumber,w=y.startColumn):y.startLineNumber===I.startLineNumber?(m=y.startLineNumber,w=Math.min(y.startColumn,I.startColumn)):(m=I.startLineNumber,w=I.startColumn),y.endLineNumber>I.endLineNumber?(b=y.endLineNumber,v=y.endColumn):y.endLineNumber===I.endLineNumber?(b=y.endLineNumber,v=Math.max(y.endColumn,I.endColumn)):(b=I.endLineNumber,v=I.endColumn),new k(m,w,b,v)}intersectRanges(I){return k.intersectRanges(this,I)}static intersectRanges(I,y){let m=I.startLineNumber,w=I.startColumn,b=I.endLineNumber,v=I.endColumn;const s=y.startLineNumber,o=y.startColumn,t=y.endLineNumber,i=y.endColumn;return m<s?(m=s,w=o):m===s&&(w=Math.max(w,o)),b>t?(b=t,v=i):b===t&&(v=Math.min(v,i)),m>b||m===b&&w>v?null:new k(m,w,b,v)}equalsRange(I){return k.equalsRange(this,I)}static equalsRange(I,y){return!I&&!y?!0:!!I&&!!y&&I.startLineNumber===y.startLineNumber&&I.startColumn===y.startColumn&&I.endLineNumber===y.endLineNumber&&I.endColumn===y.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(I){return new f.Position(I.endLineNumber,I.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(I){return new f.Position(I.startLineNumber,I.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(I,y){return new k(this.startLineNumber,this.startColumn,I,y)}setStartPosition(I,y){return new k(I,y,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(I){return new k(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(I){return new k(I.endLineNumber,I.endColumn,I.endLineNumber,I.endColumn)}delta(I){return new k(this.startLineNumber+I,this.startColumn,this.endLineNumber+I,this.endColumn)}static fromPositions(I,y=I){return new k(I.lineNumber,I.column,y.lineNumber,y.column)}static lift(I){return I?new k(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn):null}static isIRange(I){return I&&typeof I.startLineNumber=="number"&&typeof I.startColumn=="number"&&typeof I.endLineNumber=="number"&&typeof I.endColumn=="number"}static areIntersectingOrTouching(I,y){return!(I.endLineNumber<y.startLineNumber||I.endLineNumber===y.startLineNumber&&I.endColumn<y.startColumn||y.endLineNumber<I.startLineNumber||y.endLineNumber===I.startLineNumber&&y.endColumn<I.startColumn)}static areIntersecting(I,y){return!(I.endLineNumber<y.startLineNumber||I.endLineNumber===y.startLineNumber&&I.endColumn<=y.startColumn||y.endLineNumber<I.startLineNumber||y.endLineNumber===I.startLineNumber&&y.endColumn<=I.startColumn)}static compareRangesUsingStarts(I,y){if(I&&y){const b=I.startLineNumber|0,v=y.startLineNumber|0;if(b===v){const s=I.startColumn|0,o=y.startColumn|0;if(s===o){const t=I.endLineNumber|0,i=y.endLineNumber|0;if(t===i){const n=I.endColumn|0,c=y.endColumn|0;return n-c}return t-i}return s-o}return b-v}return(I?1:0)-(y?1:0)}static compareRangesUsingEnds(I,y){return I.endLineNumber===y.endLineNumber?I.endColumn===y.endColumn?I.startLineNumber===y.startLineNumber?I.startColumn-y.startColumn:I.startLineNumber-y.startLineNumber:I.endColumn-y.endColumn:I.endLineNumber-y.endLineNumber}static spansMultipleLines(I){return I.endLineNumber>I.startLineNumber}toJSON(){return this}}e.Range=k}),define(re[322],ae([1,0,11,5]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class E{constructor(m,w,b,v,s){this.value=m,this.selectionStart=w,this.selectionEnd=b,this.selection=v,this.newlineCountBeforeSelection=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(m,w){const b=m.getValue(),v=m.getSelectionStart(),s=m.getSelectionEnd();let o;if(w){const t=b.substring(0,v),i=w.value.substring(0,w.selectionStart);t===i&&(o=w.newlineCountBeforeSelection)}return new E(b,v,s,null,o)}collapseSelection(){return this.selectionStart===this.value.length?this:new E(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(m,w,b){e._debugComposition&&console.log(`writeToTextArea ${m}: ${this.toString()}`),w.setValue(m,this.value),b&&w.setSelectionRange(m,this.selectionStart,this.selectionEnd)}deduceEditorPosition(m){var w,b,v,s,o,t,i,n;if(m<=this.selectionStart){const r=this.value.substring(m,this.selectionStart);return this._finishDeduceEditorPosition((b=(w=this.selection)===null||w===void 0?void 0:w.getStartPosition())!==null&&b!==void 0?b:null,r,-1)}if(m>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,m);return this._finishDeduceEditorPosition((s=(v=this.selection)===null||v===void 0?void 0:v.getEndPosition())!==null&&s!==void 0?s:null,r,1)}const c=this.value.substring(this.selectionStart,m);if(c.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition((t=(o=this.selection)===null||o===void 0?void 0:o.getStartPosition())!==null&&t!==void 0?t:null,c,1);const u=this.value.substring(m,this.selectionEnd);return this._finishDeduceEditorPosition((n=(i=this.selection)===null||i===void 0?void 0:i.getEndPosition())!==null&&n!==void 0?n:null,u,-1)}_finishDeduceEditorPosition(m,w,b){let v=0,s=-1;for(;(s=w.indexOf(`
`,s+1))!==-1;)v++;return[m,b*w.length,v]}static deduceInput(m,w,b){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`));const v=Math.min(f.commonPrefixLength(m.value,w.value),m.selectionStart,w.selectionStart),s=Math.min(f.commonSuffixLength(m.value,w.value),m.value.length-m.selectionEnd,w.value.length-w.selectionEnd),o=m.value.substring(v,m.value.length-s),t=w.value.substring(v,w.value.length-s),i=m.selectionStart-v,n=m.selectionEnd-v,c=w.selectionStart-v,u=w.selectionEnd-v;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${i}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${c}, selectionEnd: ${u}`)),c===u){const a=m.selectionStart-v;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${a} chars`),{text:t,replacePrevCharCnt:a,replaceNextCharCnt:0,positionDelta:0}}const r=n-i;return{text:t,replacePrevCharCnt:r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(m,w){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`)),m.value===w.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:w.selectionEnd-m.selectionEnd};const b=Math.min(f.commonPrefixLength(m.value,w.value),m.selectionEnd),v=Math.min(f.commonSuffixLength(m.value,w.value),m.value.length-m.selectionEnd),s=m.value.substring(b,m.value.length-v),o=w.value.substring(b,w.value.length-v),t=m.selectionStart-b,i=m.selectionEnd-b,n=w.selectionStart-b,c=w.selectionEnd-b;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${t}, selectionEnd: ${i}`),console.log(`AFTER DIFFING CURRENT STATE: <${o}>, selectionStart: ${n}, selectionEnd: ${c}`)),{text:o,replacePrevCharCnt:i,replaceNextCharCnt:s.length-i,positionDelta:c-o.length}}}e.TextAreaState=E,E.EMPTY=new E("",0,0,null,void 0);class I{static _getPageOfLine(m,w){return Math.floor((m-1)/w)}static _getRangeForPage(m,w){const b=m*w,v=b+1,s=b+w;return new k.Range(v,1,s+1,1)}static fromEditorSelection(m,w,b,v){const o=I._getPageOfLine(w.startLineNumber,b),t=I._getRangeForPage(o,b),i=I._getPageOfLine(w.endLineNumber,b),n=I._getRangeForPage(i,b);let c=t.intersectRanges(new k.Range(1,1,w.startLineNumber,w.startColumn));if(v&&m.getValueLengthInRange(c,1)>500){const h=m.modifyPosition(c.getEndPosition(),-500);c=k.Range.fromPositions(h,c.getEndPosition())}const u=m.getValueInRange(c,1),r=m.getLineCount(),a=m.getLineMaxColumn(r);let l=n.intersectRanges(new k.Range(w.endLineNumber,w.endColumn,r,a));if(v&&m.getValueLengthInRange(l,1)>500){const h=m.modifyPosition(l.getStartPosition(),500);l=k.Range.fromPositions(l.getStartPosition(),h)}const d=m.getValueInRange(l,1);let p;if(o===i||o+1===i)p=m.getValueInRange(w,1);else{const h=t.intersectRanges(w),g=n.intersectRanges(w);p=m.getValueInRange(h,1)+"\u2026"+m.getValueInRange(g,1)}return v&&p.length>2*500&&(p=p.substring(0,500)+"\u2026"+p.substring(p.length-500,p.length)),new E(u+p+d,u.length,u.length+p.length,w,c.endLineNumber-c.startLineNumber)}}e.PagedScreenReaderStrategy=I}),define(re[75],ae([1,0,5]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(I,y){return{range:new f.Range(I.lineNumber,I.column,I.lineNumber,I.column),text:y,forceMoveMarkers:!0}}static delete(I){return{range:I,text:null}}static replace(I,y){return{range:I,text:y}}static replaceMove(I,y){return{range:I,text:y,forceMoveMarkers:!0}}}e.EditOperation=k}),define(re[565],ae([1,0,11,75,5]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrimTrailingWhitespaceCommand=void 0,e.trimTrailingWhitespace=y;class I{constructor(w,b,v){this._selection=w,this._cursors=b,this._selectionId=null,this._trimInRegexesAndStrings=v}getEditOperations(w,b){const v=y(w,this._cursors,this._trimInRegexesAndStrings);for(let s=0,o=v.length;s<o;s++){const t=v[s];b.addEditOperation(t.range,t.text)}this._selectionId=b.trackSelection(this._selection)}computeCursorState(w,b){return b.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=I;function y(m,w,b){w.sort((i,n)=>i.lineNumber===n.lineNumber?i.column-n.column:i.lineNumber-n.lineNumber);for(let i=w.length-2;i>=0;i--)w[i].lineNumber===w[i+1].lineNumber&&w.splice(i,1);const v=[];let s=0,o=0;const t=w.length;for(let i=1,n=m.getLineCount();i<=n;i++){const c=m.getLineContent(i),u=c.length+1;let r=0;if(o<t&&w[o].lineNumber===i&&(r=w[o].column,o++,r===u)||c.length===0)continue;const a=f.lastNonWhitespaceIndex(c);let l=0;if(a===-1)l=1;else if(a!==c.length-1)l=a+2;else continue;if(!b){if(!m.tokenization.hasAccurateTokensForLine(i))continue;const d=m.tokenization.getLineTokens(i),p=d.getStandardTokenType(d.findTokenIndexAtOffset(l));if(p===2||p===3)continue}l=Math.max(r,l),v[s++]=k.EditOperation.delete(new E.Range(i,l,i,u))}return v}}),define(re[56],ae([1,0,8,66,5,67]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class y{static fromRangeInclusive(b){return new y(b.startLineNumber,b.endLineNumber+1)}static joinMany(b){if(b.length===0)return[];let v=new m(b[0].slice());for(let s=1;s<b.length;s++)v=v.getUnion(new m(b[s].slice()));return v.ranges}static join(b){if(b.length===0)throw new f.BugIndicatingError("lineRanges cannot be empty");let v=b[0].startLineNumber,s=b[0].endLineNumberExclusive;for(let o=1;o<b.length;o++)v=Math.min(v,b[o].startLineNumber),s=Math.max(s,b[o].endLineNumberExclusive);return new y(v,s)}static ofLength(b,v){return new y(b,b+v)}static deserialize(b){return new y(b[0],b[1])}constructor(b,v){if(b>v)throw new f.BugIndicatingError(`startLineNumber ${b} cannot be after endLineNumberExclusive ${v}`);this.startLineNumber=b,this.endLineNumberExclusive=v}contains(b){return this.startLineNumber<=b&&b<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(b){return new y(this.startLineNumber+b,this.endLineNumberExclusive+b)}deltaLength(b){return new y(this.startLineNumber,this.endLineNumberExclusive+b)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(b){return new y(Math.min(this.startLineNumber,b.startLineNumber),Math.max(this.endLineNumberExclusive,b.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(b){const v=Math.max(this.startLineNumber,b.startLineNumber),s=Math.min(this.endLineNumberExclusive,b.endLineNumberExclusive);if(v<=s)return new y(v,s)}intersectsStrict(b){return this.startLineNumber<b.endLineNumberExclusive&&b.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(b){return this.startLineNumber<=b.endLineNumberExclusive&&b.startLineNumber<=this.endLineNumberExclusive}equals(b){return this.startLineNumber===b.startLineNumber&&this.endLineNumberExclusive===b.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new E.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new E.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(b){const v=[];for(let s=this.startLineNumber;s<this.endLineNumberExclusive;s++)v.push(b(s));return v}forEach(b){for(let v=this.startLineNumber;v<this.endLineNumberExclusive;v++)b(v)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(b){return this.startLineNumber<=b&&b<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=y;class m{constructor(b=[]){this._normalizedRanges=b}get ranges(){return this._normalizedRanges}addRange(b){if(b.length===0)return;const v=(0,I.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,o=>o.endLineNumberExclusive>=b.startLineNumber),s=(0,I.findLastIdxMonotonous)(this._normalizedRanges,o=>o.startLineNumber<=b.endLineNumberExclusive)+1;if(v===s)this._normalizedRanges.splice(v,0,b);else if(v===s-1){const o=this._normalizedRanges[v];this._normalizedRanges[v]=o.join(b)}else{const o=this._normalizedRanges[v].join(this._normalizedRanges[s-1]).join(b);this._normalizedRanges.splice(v,s-v,o)}}contains(b){const v=(0,I.findLastMonotonous)(this._normalizedRanges,s=>s.startLineNumber<=b);return!!v&&v.endLineNumberExclusive>b}intersects(b){const v=(0,I.findLastMonotonous)(this._normalizedRanges,s=>s.startLineNumber<b.endLineNumberExclusive);return!!v&&v.endLineNumberExclusive>b.startLineNumber}getUnion(b){if(this._normalizedRanges.length===0)return b;if(b._normalizedRanges.length===0)return this;const v=[];let s=0,o=0,t=null;for(;s<this._normalizedRanges.length||o<b._normalizedRanges.length;){let i=null;if(s<this._normalizedRanges.length&&o<b._normalizedRanges.length){const n=this._normalizedRanges[s],c=b._normalizedRanges[o];n.startLineNumber<c.startLineNumber?(i=n,s++):(i=c,o++)}else s<this._normalizedRanges.length?(i=this._normalizedRanges[s],s++):(i=b._normalizedRanges[o],o++);t===null?t=i:t.endLineNumberExclusive>=i.startLineNumber?t=new y(t.startLineNumber,Math.max(t.endLineNumberExclusive,i.endLineNumberExclusive)):(v.push(t),t=i)}return t!==null&&v.push(t),new m(v)}subtractFrom(b){const v=(0,I.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,i=>i.endLineNumberExclusive>=b.startLineNumber),s=(0,I.findLastIdxMonotonous)(this._normalizedRanges,i=>i.startLineNumber<=b.endLineNumberExclusive)+1;if(v===s)return new m([b]);const o=[];let t=b.startLineNumber;for(let i=v;i<s;i++){const n=this._normalizedRanges[i];n.startLineNumber>t&&o.push(new y(t,n.startLineNumber)),t=n.endLineNumberExclusive}return t<b.endLineNumberExclusive&&o.push(new y(t,b.endLineNumberExclusive)),new m(o)}toString(){return this._normalizedRanges.map(b=>b.toString()).join(", ")}getIntersection(b){const v=[];let s=0,o=0;for(;s<this._normalizedRanges.length&&o<b._normalizedRanges.length;){const t=this._normalizedRanges[s],i=b._normalizedRanges[o],n=t.intersect(i);n&&!n.isEmpty&&v.push(n),t.endLineNumberExclusive<i.endLineNumberExclusive?s++:o++}return new m(v)}getWithDelta(b){return new m(this._normalizedRanges.map(v=>v.delta(b)))}}e.LineRangeSet=m}),define(re[566],ae([1,0,4,2,21,56,66]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorGutter=void 0;class m extends k.Disposable{constructor(v,s,o){super(),this._editor=v,this._domNode=s,this.itemProvider=o,this.scrollTop=(0,E.observableFromEvent)(this,this._editor.onDidScrollChange,n=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(n=>n===0),this.modelAttached=(0,E.observableFromEvent)(this,this._editor.onDidChangeModel,n=>this._editor.hasModel()),this.editorOnDidChangeViewZones=(0,E.observableSignalFromEvent)("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=(0,E.observableSignalFromEvent)("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=(0,E.observableSignal)("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const t=this._domNode.appendChild((0,f.h)("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),i=new ResizeObserver(()=>{(0,E.transaction)(n=>{this.domNodeSizeChanged.trigger(n)})});i.observe(this._domNode),this._register((0,k.toDisposable)(()=>i.disconnect())),this._register((0,E.autorun)(n=>{t.className=this.isScrollTopZero.read(n)?"":"scroll-decoration"})),this._register((0,E.autorun)(n=>this.render(n)))}dispose(){super.dispose(),(0,f.reset)(this._domNode)}render(v){if(!this.modelAttached.read(v))return;this.domNodeSizeChanged.read(v),this.editorOnDidChangeViewZones.read(v),this.editorOnDidContentSizeChange.read(v);const s=this.scrollTop.read(v),o=this._editor.getVisibleRanges(),t=new Set(this.views.keys()),i=y.OffsetRange.ofStartAndLength(0,this._domNode.clientHeight);if(!i.isEmpty)for(const n of o){const c=new I.LineRange(n.startLineNumber,n.endLineNumber+1),u=this.itemProvider.getIntersectingGutterItems(c,v);(0,E.transaction)(r=>{for(const a of u){if(!a.range.intersect(c))continue;t.delete(a.id);let l=this.views.get(a.id);if(l)l.item.set(a,r);else{const g=document.createElement("div");this._domNode.appendChild(g);const C=(0,E.observableValue)("item",a),S=this.itemProvider.createView(C,g);l=new w(C,S,g),this.views.set(a.id,l)}const d=a.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(a.range.startLineNumber,!0)-s:this._editor.getBottomForLineNumber(a.range.startLineNumber-1,!1)-s,h=(a.range.isEmpty?d:this._editor.getBottomForLineNumber(a.range.endLineNumberExclusive-1,!0)-s)-d;l.domNode.style.top=`${d}px`,l.domNode.style.height=`${h}px`,l.gutterItemView.layout(y.OffsetRange.ofStartAndLength(d,h),i)}})}for(const n of t){const c=this.views.get(n);c.gutterItemView.dispose(),c.domNode.remove(),this.views.delete(n)}}}e.EditorGutter=m;class w{constructor(v,s,o){this.item=v,this.gutterItemView=s,this.domNode=o}}}),define(re[323],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class f{constructor(E,I,y,m){this._rgba8Brand=void 0,this.r=f._clamp(E),this.g=f._clamp(I),this.b=f._clamp(y),this.a=f._clamp(m)}equals(E){return this.r===E.r&&this.g===E.g&&this.b===E.b&&this.a===E.a}static _clamp(E){return E<0?0:E>255?255:E|0}}e.RGBA8=f,f.Empty=new f(0,0,0,0)}),define(re[23],ae([1,0,9,5]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class E extends k.Range{constructor(y,m,w,b){super(y,m,w,b),this.selectionStartLineNumber=y,this.selectionStartColumn=m,this.positionLineNumber=w,this.positionColumn=b}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return E.selectionsEqual(this,y)}static selectionsEqual(y,m){return y.selectionStartLineNumber===m.selectionStartLineNumber&&y.selectionStartColumn===m.selectionStartColumn&&y.positionLineNumber===m.positionLineNumber&&y.positionColumn===m.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,m){return this.getDirection()===0?new E(this.startLineNumber,this.startColumn,y,m):new E(y,m,this.startLineNumber,this.startColumn)}getPosition(){return new f.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new f.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(y,m){return this.getDirection()===0?new E(y,m,this.endLineNumber,this.endColumn):new E(this.endLineNumber,this.endColumn,y,m)}static fromPositions(y,m=y){return new E(y.lineNumber,y.column,m.lineNumber,m.column)}static fromRange(y,m){return m===0?new E(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new E(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}static liftSelection(y){return new E(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,m){if(y&&!m||!y&&m)return!1;if(!y&&!m)return!0;if(y.length!==m.length)return!1;for(let w=0,b=y.length;w<b;w++)if(!this.selectionsEqual(y[w],m[w]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,m,w,b,v){return v===0?new E(y,m,w,b):new E(w,b,y,m)}}e.Selection=E}),define(re[166],ae([1,0,101,2,21,91,72,23]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObservableCodeEditor=void 0,e.observableCodeEditor=w,e.reactToChange=v,e.reactToChangeWithStore=s;function w(o){return b.get(o)}class b extends k.Disposable{static get(t){let i=b._map.get(t);if(!i){i=new b(t),b._map.set(t,i);const n=t.onDidDispose(()=>{const c=b._map.get(t);c&&(b._map.delete(t),c.dispose(),n.dispose())})}return i}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&(this._currentTransaction=new I.TransactionImpl(()=>{}))}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){const t=this._currentTransaction;this._currentTransaction=void 0,t.finish()}}constructor(t){var i,n,c;super(),this.editor=t,this._updateCounter=0,this._currentTransaction=void 0,this._model=(0,E.observableValue)(this,this.editor.getModel()),this.model=this._model,this.isReadonly=(0,E.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(92)),this._versionId=(0,E.observableValueOpts)({owner:this,lazy:!0},(n=(i=this.editor.getModel())===null||i===void 0?void 0:i.getVersionId())!==null&&n!==void 0?n:null),this.versionId=this._versionId,this._selections=(0,E.observableValueOpts)({owner:this,equalsFn:(0,f.equalsIfDefined)((0,f.itemsEquals)(m.Selection.selectionsEqual)),lazy:!0},(c=this.editor.getSelections())!==null&&c!==void 0?c:null),this.selections=this._selections,this.isFocused=(0,E.observableFromEvent)(this,u=>{const r=this.editor.onDidFocusEditorWidget(u),a=this.editor.onDidBlurEditorWidget(u);return{dispose(){r.dispose(),a.dispose()}}},()=>this.editor.hasWidgetFocus()),this.value=(0,y.derivedWithSetter)(this,u=>{var r,a;return this.versionId.read(u),(a=(r=this.model.read(u))===null||r===void 0?void 0:r.getValue())!==null&&a!==void 0?a:""},(u,r)=>{const a=this.model.get();a!==null&&u!==a.getValue()&&a.setValue(u)}),this.valueIsEmpty=(0,E.derived)(this,u=>{var r;return this.versionId.read(u),((r=this.editor.getModel())===null||r===void 0?void 0:r.getValueLength())===0}),this.cursorSelection=(0,E.derivedOpts)({owner:this,equalsFn:(0,f.equalsIfDefined)(m.Selection.selectionsEqual)},u=>{var r,a;return(a=(r=this.selections.read(u))===null||r===void 0?void 0:r[0])!==null&&a!==void 0?a:null}),this.onDidType=(0,E.observableSignal)(this),this.scrollTop=(0,E.observableFromEvent)(this.editor.onDidScrollChange,()=>this.editor.getScrollTop()),this.scrollLeft=(0,E.observableFromEvent)(this.editor.onDidScrollChange,()=>this.editor.getScrollLeft()),this.layoutInfo=(0,E.observableFromEvent)(this.editor.onDidLayoutChange,()=>this.editor.getLayoutInfo()),this.contentWidth=(0,E.observableFromEvent)(this.editor.onDidContentSizeChange,()=>this.editor.getContentWidth()),this._overlayWidgetCounter=0,this._register(this.editor.onBeginUpdate(()=>this._beginUpdate())),this._register(this.editor.onEndUpdate(()=>this._endUpdate())),this._register(this.editor.onDidChangeModel(()=>{this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidType(u=>{this._beginUpdate();try{this._forceUpdate(),this.onDidType.trigger(this._currentTransaction,u)}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeModelContent(u=>{var r,a;this._beginUpdate();try{this._versionId.set((a=(r=this.editor.getModel())===null||r===void 0?void 0:r.getVersionId())!==null&&a!==void 0?a:null,this._currentTransaction,u),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeCursorSelection(u=>{this._beginUpdate();try{this._selections.set(this.editor.getSelections(),this._currentTransaction,u),this._forceUpdate()}finally{this._endUpdate()}}))}forceUpdate(t){this._beginUpdate();try{return this._forceUpdate(),t?t(this._currentTransaction):void 0}finally{this._endUpdate()}}_forceUpdate(){var t,i;this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._versionId.set((i=(t=this.editor.getModel())===null||t===void 0?void 0:t.getVersionId())!==null&&i!==void 0?i:null,this._currentTransaction,void 0),this._selections.set(this.editor.getSelections(),this._currentTransaction,void 0)}finally{this._endUpdate()}}getOption(t){return(0,E.observableFromEvent)(this,i=>this.editor.onDidChangeConfiguration(n=>{n.hasChanged(t)&&i(void 0)}),()=>this.editor.getOption(t))}setDecorations(t){const i=new k.DisposableStore,n=this.editor.createDecorationsCollection();return i.add((0,E.autorunOpts)({owner:this,debugName:()=>`Apply decorations from ${t.debugName}`},c=>{const u=t.read(c);n.set(u)})),i.add({dispose:()=>{n.clear()}}),i}createOverlayWidget(t){const i="observableOverlayWidget"+this._overlayWidgetCounter++,n={getDomNode:()=>t.domNode,getPosition:()=>t.position.get(),getId:()=>i,allowEditorOverflow:t.allowEditorOverflow,getMinContentWidthInPx:()=>t.minContentWidthInPx.get()};this.editor.addOverlayWidget(n);const c=(0,E.autorun)(u=>{t.position.read(u),t.minContentWidthInPx.read(u),this.editor.layoutOverlayWidget(n)});return(0,k.toDisposable)(()=>{c.dispose(),this.editor.removeOverlayWidget(n)})}}e.ObservableCodeEditor=b,b._map=new Map;function v(o,t){return(0,E.autorunWithStoreHandleChanges)({createEmptyChangeSummary:()=>({deltas:[],didChange:!1}),handleChange:(i,n)=>{if(i.didChange(o)){const c=i.change;c!==void 0&&n.deltas.push(c),n.didChange=!0}return!0}},(i,n)=>{const c=o.read(i);n.didChange&&t(c,n.deltas)})}function s(o,t){const i=new k.DisposableStore,n=v(o,(c,u)=>{i.clear(),t(c,u,i)});return{dispose(){n.dispose(),i.dispose()}}}}),define(re[143],ae([1,0,23]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(b,v,s=!1){this._range=b,this._text=v,this.insertsAutoWhitespace=s}getEditOperations(b,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,v){const o=v.getInverseEditOperations()[0].range;return f.Selection.fromPositions(o.getEndPosition())}}e.ReplaceCommand=k;class E{constructor(b,v){this._range=b,this._text=v}getEditOperations(b,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,v){const o=v.getInverseEditOperations()[0].range;return f.Selection.fromRange(o,0)}}e.ReplaceCommandThatSelectsText=E;class I{constructor(b,v,s=!1){this._range=b,this._text=v,this.insertsAutoWhitespace=s}getEditOperations(b,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,v){const o=v.getInverseEditOperations()[0].range;return f.Selection.fromPositions(o.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=I;class y{constructor(b,v,s,o,t=!1){this._range=b,this._text=v,this._columnDeltaOffset=o,this._lineNumberDeltaOffset=s,this.insertsAutoWhitespace=t}getEditOperations(b,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,v){const o=v.getInverseEditOperations()[0].range;return f.Selection.fromPositions(o.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=y;class m{constructor(b,v,s,o=!1){this._range=b,this._text=v,this._initialSelection=s,this._forceMoveMarkers=o,this._selectionId=null}getEditOperations(b,v){v.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=v.trackSelection(this._initialSelection)}computeCursorState(b,v){return v.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=m}),define(re[324],ae([1,0,5,23]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class E{constructor(m,w,b){this._range=m,this._charBeforeSelection=w,this._charAfterSelection=b}getEditOperations(m,w){w.addTrackedEditOperation(new f.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),w.addTrackedEditOperation(new f.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(m,w){const b=w.getInverseEditOperations(),v=b[0].range,s=b[1].range;return new k.Selection(v.endLineNumber,v.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=E;class I{constructor(m,w,b){this._position=m,this._text=w,this._charAfter=b}getEditOperations(m,w){w.addTrackedEditOperation(new f.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(m,w){const v=w.getInverseEditOperations()[0].range;return new k.Selection(v.endLineNumber,v.startColumn,v.endLineNumber,v.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=I}),define(re[113],ae([1,0,11,16,156]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=void 0,e.getPlatformTextDecoder=v,e.decodeUTF16LE=s;let I;function y(){return I||(I=new TextDecoder("UTF-16LE")),I}let m;function w(){return m||(m=new TextDecoder("UTF-16BE")),m}let b;function v(){return b||(b=k.isLittleEndian()?y():w()),b}function s(i,n,c){const u=new Uint16Array(i.buffer,n,c);return c>0&&(u[0]===65279||u[0]===65534)?o(i,n,c):y().decode(u)}function o(i,n,c){const u=[];let r=0;for(let a=0;a<c;a++){const l=E.readUInt16LE(i,n);n+=2,u[r++]=String.fromCharCode(l)}return u.join("")}class t{constructor(n){this._capacity=n|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const n=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return v().decode(n)}_flushBuffer(){const n=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[n]:this._completedStrings[this._completedStrings.length]=n}appendCharCode(n){const c=this._capacity-this._bufferLength;c<=1&&(c===0||f.isHighSurrogate(n))&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendASCIICharCode(n){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendString(n){const c=n.length;if(this._bufferLength+c>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=n;return}for(let u=0;u<c;u++)this._buffer[this._bufferLength++]=n.charCodeAt(u)}}e.StringBuilder=t}),define(re[241],ae([1,0,39,102,8,113]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class y{constructor(v){this._createLine=v,this._set(1,[])}flush(){this._set(1,[])}_set(v,s){this._lines=s,this._rendLineNumberStart=v}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(v){const s=v-this._rendLineNumberStart;if(s<0||s>=this._lines.length)throw new E.BugIndicatingError("Illegal value for lineNumber");return this._lines[s]}onLinesDeleted(v,s){if(this.getCount()===0)return null;const o=this.getStartLineNumber(),t=this.getEndLineNumber();if(s<o){const u=s-v+1;return this._rendLineNumberStart-=u,null}if(v>t)return null;let i=0,n=0;for(let u=o;u<=t;u++){const r=u-this._rendLineNumberStart;v<=u&&u<=s&&(n===0?(i=r,n=1):n++)}if(v<o){let u=0;s<o?u=s-v+1:u=o-v,this._rendLineNumberStart-=u}return this._lines.splice(i,n)}onLinesChanged(v,s){const o=v+s-1;if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let c=v;c<=o;c++)c>=t&&c<=i&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),n=!0);return n}onLinesInserted(v,s){if(this.getCount()===0)return null;const o=s-v+1,t=this.getStartLineNumber(),i=this.getEndLineNumber();if(v<=t)return this._rendLineNumberStart+=o,null;if(v>i)return null;if(o+v>i)return this._lines.splice(v-this._rendLineNumberStart,i-v+1);const n=[];for(let l=0;l<o;l++)n[l]=this._createLine();const c=v-this._rendLineNumberStart,u=this._lines.slice(0,c),r=this._lines.slice(c,this._lines.length-o),a=this._lines.slice(this._lines.length-o,this._lines.length);return this._lines=u.concat(n).concat(r),a}onTokensChanged(v){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),o=this.getEndLineNumber();let t=!1;for(let i=0,n=v.length;i<n;i++){const c=v[i];if(c.toLineNumber<s||c.fromLineNumber>o)continue;const u=Math.max(s,c.fromLineNumber),r=Math.min(o,c.toLineNumber);for(let a=u;a<=r;a++){const l=a-this._rendLineNumberStart;this._lines[l].onTokensChanged(),t=!0}}return t}}e.RenderedLinesCollection=y;class m{constructor(v){this._host=v,this.domNode=this._createDomNode(),this._linesCollection=new y(()=>this._host.createVisibleLine())}_createDomNode(){const v=(0,f.createFastDomNode)(document.createElement("div"));return v.setClassName("view-layer"),v.setPosition("absolute"),v.domNode.setAttribute("role","presentation"),v.domNode.setAttribute("aria-hidden","true"),v}onConfigurationChanged(v){return!!v.hasChanged(146)}onFlushed(v){return this._linesCollection.flush(),!0}onLinesChanged(v){return this._linesCollection.onLinesChanged(v.fromLineNumber,v.count)}onLinesDeleted(v){const s=this._linesCollection.onLinesDeleted(v.fromLineNumber,v.toLineNumber);if(s)for(let o=0,t=s.length;o<t;o++){const i=s[o].getDomNode();i?.remove()}return!0}onLinesInserted(v){const s=this._linesCollection.onLinesInserted(v.fromLineNumber,v.toLineNumber);if(s)for(let o=0,t=s.length;o<t;o++){const i=s[o].getDomNode();i?.remove()}return!0}onScrollChanged(v){return v.scrollTopChanged}onTokensChanged(v){return this._linesCollection.onTokensChanged(v.ranges)}onZonesChanged(v){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(v){return this._linesCollection.getLine(v)}renderLines(v){const s=this._linesCollection._get(),o=new w(this.domNode.domNode,this._host,v),t={rendLineNumberStart:s.rendLineNumberStart,lines:s.lines,linesLength:s.lines.length},i=o.render(t,v.startLineNumber,v.endLineNumber,v.relativeVerticalOffset);this._linesCollection._set(i.rendLineNumberStart,i.lines)}}e.VisibleLinesCollection=m;class w{constructor(v,s,o){this.domNode=v,this.host=s,this.viewportData=o}render(v,s,o,t){const i={rendLineNumberStart:v.rendLineNumberStart,lines:v.lines.slice(0),linesLength:v.linesLength};if(i.rendLineNumberStart+i.linesLength-1<s||o<i.rendLineNumberStart){i.rendLineNumberStart=s,i.linesLength=o-s+1,i.lines=[];for(let n=s;n<=o;n++)i.lines[n-s]=this.host.createVisibleLine();return this._finishRendering(i,!0,t),i}if(this._renderUntouchedLines(i,Math.max(s-i.rendLineNumberStart,0),Math.min(o-i.rendLineNumberStart,i.linesLength-1),t,s),i.rendLineNumberStart>s){const n=s,c=Math.min(o,i.rendLineNumberStart-1);n<=c&&(this._insertLinesBefore(i,n,c,t,s),i.linesLength+=c-n+1)}else if(i.rendLineNumberStart<s){const n=Math.min(i.linesLength,s-i.rendLineNumberStart);n>0&&(this._removeLinesBefore(i,n),i.linesLength-=n)}if(i.rendLineNumberStart=s,i.rendLineNumberStart+i.linesLength-1<o){const n=i.rendLineNumberStart+i.linesLength,c=o;n<=c&&(this._insertLinesAfter(i,n,c,t,s),i.linesLength+=c-n+1)}else if(i.rendLineNumberStart+i.linesLength-1>o){const n=Math.max(0,o-i.rendLineNumberStart+1),u=i.linesLength-1-n+1;u>0&&(this._removeLinesAfter(i,u),i.linesLength-=u)}return this._finishRendering(i,!1,t),i}_renderUntouchedLines(v,s,o,t,i){const n=v.rendLineNumberStart,c=v.lines;for(let u=s;u<=o;u++){const r=n+u;c[u].layoutLine(r,t[r-i],this.viewportData.lineHeight)}}_insertLinesBefore(v,s,o,t,i){const n=[];let c=0;for(let u=s;u<=o;u++)n[c++]=this.host.createVisibleLine();v.lines=n.concat(v.lines)}_removeLinesBefore(v,s){for(let o=0;o<s;o++){const t=v.lines[o].getDomNode();t?.remove()}v.lines.splice(0,s)}_insertLinesAfter(v,s,o,t,i){const n=[];let c=0;for(let u=s;u<=o;u++)n[c++]=this.host.createVisibleLine();v.lines=v.lines.concat(n)}_removeLinesAfter(v,s){const o=v.linesLength-s;for(let t=0;t<s;t++){const i=v.lines[o+t].getDomNode();i?.remove()}v.lines.splice(o,s)}_finishRenderingNewLines(v,s,o,t){w._ttPolicy&&(o=w._ttPolicy.createHTML(o));const i=this.domNode.lastChild;s||!i?this.domNode.innerHTML=o:i.insertAdjacentHTML("afterend",o);let n=this.domNode.lastChild;for(let c=v.linesLength-1;c>=0;c--){const u=v.lines[c];t[c]&&(u.setDomNode(n),n=n.previousSibling)}}_finishRenderingInvalidLines(v,s,o){const t=document.createElement("div");w._ttPolicy&&(s=w._ttPolicy.createHTML(s)),t.innerHTML=s;for(let i=0;i<v.linesLength;i++){const n=v.lines[i];if(o[i]){const c=t.firstChild,u=n.getDomNode();u.parentNode.replaceChild(c,u),n.setDomNode(c)}}}_finishRendering(v,s,o){const t=w._sb,i=v.linesLength,n=v.lines,c=v.rendLineNumberStart,u=[];{t.reset();let r=!1;for(let a=0;a<i;a++){const l=n[a];u[a]=!1,!(l.getDomNode()||!l.renderLine(a+c,o[a],this.viewportData.lineHeight,this.viewportData,t))&&(u[a]=!0,r=!0)}r&&this._finishRenderingNewLines(v,s,t.build(),u)}{t.reset();let r=!1;const a=[];for(let l=0;l<i;l++){const d=n[l];a[l]=!1,!(u[l]||!d.renderLine(l+c,o[l],this.viewportData.lineHeight,this.viewportData,t))&&(a[l]=!0,r=!0)}r&&this._finishRenderingInvalidLines(v,t.build(),a)}}}w._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:b=>b}),w._sb=new I.StringBuilder(1e5)}),define(re[325],ae([1,0,156,113]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextChange=void 0,e.compressConsecutiveTextChanges=y;function E(w){return w.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(b,v,s,o){this.oldPosition=b,this.oldText=v,this.newPosition=s,this.newText=o}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${E(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${E(this.oldText)}")`:`(replace@${this.oldPosition} "${E(this.oldText)}" with "${E(this.newText)}")`}static _writeStringSize(b){return 4+2*b.length}static _writeString(b,v,s){const o=v.length;f.writeUInt32BE(b,o,s),s+=4;for(let t=0;t<o;t++)f.writeUInt16LE(b,v.charCodeAt(t),s),s+=2;return s}static _readString(b,v){const s=f.readUInt32BE(b,v);return v+=4,(0,k.decodeUTF16LE)(b,v,s)}writeSize(){return 8+I._writeStringSize(this.oldText)+I._writeStringSize(this.newText)}write(b,v){return f.writeUInt32BE(b,this.oldPosition,v),v+=4,f.writeUInt32BE(b,this.newPosition,v),v+=4,v=I._writeString(b,this.oldText,v),v=I._writeString(b,this.newText,v),v}static read(b,v,s){const o=f.readUInt32BE(b,v);v+=4;const t=f.readUInt32BE(b,v);v+=4;const i=I._readString(b,v);v+=I._writeStringSize(i);const n=I._readString(b,v);return v+=I._writeStringSize(n),s.push(new I(o,i,t,n)),v}}e.TextChange=I;function y(w,b){return w===null||w.length===0?b:new m(w,b).compress()}class m{constructor(b,v){this._prevEdits=b,this._currEdits=v,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let b=0,v=0,s=this._getPrev(b),o=this._getCurr(v);for(;b<this._prevLen||v<this._currLen;){if(s===null){this._acceptCurr(o),o=this._getCurr(++v);continue}if(o===null){this._acceptPrev(s),s=this._getPrev(++b);continue}if(o.oldEnd<=s.newPosition){this._acceptCurr(o),o=this._getCurr(++v);continue}if(s.newEnd<=o.oldPosition){this._acceptPrev(s),s=this._getPrev(++b);continue}if(o.oldPosition<s.newPosition){const[u,r]=m._splitCurr(o,s.newPosition-o.oldPosition);this._acceptCurr(u),o=r;continue}if(s.newPosition<o.oldPosition){const[u,r]=m._splitPrev(s,o.oldPosition-s.newPosition);this._acceptPrev(u),s=r;continue}let n,c;if(o.oldEnd===s.newEnd)n=s,c=o,s=this._getPrev(++b),o=this._getCurr(++v);else if(o.oldEnd<s.newEnd){const[u,r]=m._splitPrev(s,o.oldLength);n=u,c=o,s=r,o=this._getCurr(++v)}else{const[u,r]=m._splitCurr(o,s.newLength);n=s,c=u,s=this._getPrev(++b),o=r}this._result[this._resultLen++]=new I(n.oldPosition,n.oldText,c.newPosition,c.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=c.newLength-c.oldLength}const t=m._merge(this._result);return m._removeNoOps(t)}_acceptCurr(b){this._result[this._resultLen++]=m._rebaseCurr(this._prevDeltaOffset,b),this._currDeltaOffset+=b.newLength-b.oldLength}_getCurr(b){return b<this._currLen?this._currEdits[b]:null}_acceptPrev(b){this._result[this._resultLen++]=m._rebasePrev(this._currDeltaOffset,b),this._prevDeltaOffset+=b.newLength-b.oldLength}_getPrev(b){return b<this._prevLen?this._prevEdits[b]:null}static _rebaseCurr(b,v){return new I(v.oldPosition-b,v.oldText,v.newPosition,v.newText)}static _rebasePrev(b,v){return new I(v.oldPosition,v.oldText,v.newPosition+b,v.newText)}static _splitPrev(b,v){const s=b.newText.substr(0,v),o=b.newText.substr(v);return[new I(b.oldPosition,b.oldText,b.newPosition,s),new I(b.oldEnd,"",b.newPosition+v,o)]}static _splitCurr(b,v){const s=b.oldText.substr(0,v),o=b.oldText.substr(v);return[new I(b.oldPosition,s,b.newPosition,b.newText),new I(b.oldPosition+v,o,b.newEnd,"")]}static _merge(b){if(b.length===0)return b;const v=[];let s=0,o=b[0];for(let t=1;t<b.length;t++){const i=b[t];o.oldEnd===i.oldPosition?o=new I(o.oldPosition,o.oldText+i.oldText,o.newPosition,o.newText+i.newText):(v[s++]=o,o=i)}return v[s++]=o,v}static _removeNoOps(b){if(b.length===0)return b;const v=[];let s=0;for(let o=0;o<b.length;o++){const t=b[o];t.oldText!==t.newText&&(v[s++]=t)}return v}}}),define(re[114],ae([1,0,9,5]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextLength=void 0;class E{static betweenPositions(y,m){return y.lineNumber===m.lineNumber?new E(0,m.column-y.column):new E(m.lineNumber-y.lineNumber,m.column-1)}static ofRange(y){return E.betweenPositions(y.getStartPosition(),y.getEndPosition())}static ofText(y){let m=0,w=0;for(const b of y)b===`
`?(m++,w=0):w++;return new E(m,w)}constructor(y,m){this.lineCount=y,this.columnCount=m}isGreaterThanOrEqualTo(y){return this.lineCount!==y.lineCount?this.lineCount>y.lineCount:this.columnCount>=y.columnCount}createRange(y){return this.lineCount===0?new k.Range(y.lineNumber,y.column,y.lineNumber,y.column+this.columnCount):new k.Range(y.lineNumber,y.column,y.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(y){return this.lineCount===0?new f.Position(y.lineNumber,y.column+this.columnCount):new f.Position(y.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}e.TextLength=E,E.zero=new E(0,0)}),define(re[86],ae([1,0,67,18,2,21,317,9,5,114]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCancellationTokenSource=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.ObservableElementSizeObserver=void 0,e.joinCombine=v,e.applyObservableDecorations=s,e.appendRemoveOnDispose=o,e.prependRemoveOnDispose=t,e.animatedObservable=n,e.applyStyle=l,e.applyViewZones=d,e.translatePosition=h,e.filterWithPrevious=C;function v(S,_,L,D){if(S.length===0)return _;if(_.length===0)return S;const T=[];let N=0,A=0;for(;N<S.length&&A<_.length;){const R=S[N],M=_[A],P=L(R),x=L(M);P<x?(T.push(R),N++):P>x?(T.push(M),A++):(T.push(D(R,M)),N++,A++)}for(;N<S.length;)T.push(S[N]),N++;for(;A<_.length;)T.push(_[A]),A++;return T}function s(S,_){const L=new E.DisposableStore,D=S.createDecorationsCollection();return L.add((0,I.autorunOpts)({debugName:()=>`Apply decorations from ${_.debugName}`},T=>{const N=_.read(T);D.set(N)})),L.add({dispose:()=>{D.clear()}}),L}function o(S,_){return S.appendChild(_),(0,E.toDisposable)(()=>{_.remove()})}function t(S,_){return S.prepend(_),(0,E.toDisposable)(()=>{_.remove()})}class i extends E.Disposable{get width(){return this._width}get height(){return this._height}get automaticLayout(){return this._automaticLayout}constructor(_,L){super(),this._automaticLayout=!1,this.elementSizeObserver=this._register(new y.ElementSizeObserver(_,L)),this._width=(0,I.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,I.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(D=>(0,I.transaction)(T=>{this._width.set(this.elementSizeObserver.getWidth(),T),this._height.set(this.elementSizeObserver.getHeight(),T)})))}observe(_){this.elementSizeObserver.observe(_)}setAutomaticLayout(_){this._automaticLayout=_,_?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=i;function n(S,_,L){let D=_.get(),T=D,N=D;const A=(0,I.observableValue)("animatedValue",D);let R=-1;const M=300;let P;L.add((0,I.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(O,B)=>(O.didChange(_)&&(B.animate=B.animate||O.change),!0)},(O,B)=>{P!==void 0&&(S.cancelAnimationFrame(P),P=void 0),T=N,D=_.read(O),R=Date.now()-(B.animate?0:M),x()}));function x(){const O=Date.now()-R;N=Math.floor(c(O,T,D-T,M)),O<M?P=S.requestAnimationFrame(x):N=D,A.set(N,void 0)}return A}function c(S,_,L,D){return S===D?_+L:L*(-Math.pow(2,-10*S/D)+1)+_}class u extends E.Disposable{constructor(_,L,D){super(),this._register(new a(_,D)),this._register(l(D,{height:L.actualHeight,top:L.actualTop}))}}e.ViewZoneOverlayWidget=u;class r{get afterLineNumber(){return this._afterLineNumber.get()}constructor(_,L){this._afterLineNumber=_,this.heightInPx=L,this.domNode=document.createElement("div"),this._actualTop=(0,I.observableValue)(this,void 0),this._actualHeight=(0,I.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=D=>{this._actualTop.set(D,void 0)},this.onComputedHeight=D=>{this._actualHeight.set(D,void 0)}}}e.PlaceholderViewZone=r;class a{constructor(_,L){this._editor=_,this._domElement=L,this._overlayWidgetId=`managedOverlayWidget-${a._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=a,a._counter=0;function l(S,_){return(0,I.autorun)(L=>{for(let[D,T]of Object.entries(_))T&&typeof T=="object"&&"read"in T&&(T=T.read(L)),typeof T=="number"&&(T=`${T}px`),D=D.replace(/[A-Z]/g,N=>"-"+N.toLowerCase()),S.style[D]=T})}function d(S,_,L,D){const T=new E.DisposableStore,N=[];return T.add((0,I.autorunWithStore)((A,R)=>{const M=_.read(A),P=new Map,x=new Map;L&&L(!0),S.changeViewZones(O=>{for(const B of N)O.removeZone(B),D?.delete(B);N.length=0;for(const B of M){const H=O.addZone(B);B.setZoneId&&B.setZoneId(H),N.push(H),D?.add(H),P.set(B,H)}}),L&&L(!1),R.add((0,I.autorunHandleChanges)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(O,B){const H=x.get(O.changedObservable);return H!==void 0&&B.zoneIds.push(H),!0}},(O,B)=>{for(const H of M)H.onChange&&(x.set(H.onChange,P.get(H)),H.onChange.read(O));L&&L(!0),S.changeViewZones(H=>{for(const K of B.zoneIds)H.layoutZone(K)}),L&&L(!1)}))})),T.add({dispose(){L&&L(!0),S.changeViewZones(A=>{for(const R of N)A.removeZone(R)}),D?.clear(),L&&L(!1)}}),T}class p extends k.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=p;function h(S,_){const L=(0,f.findLast)(_,T=>T.original.startLineNumber<=S.lineNumber);if(!L)return w.Range.fromPositions(S);if(L.original.endLineNumberExclusive<=S.lineNumber){const T=S.lineNumber-L.original.endLineNumberExclusive+L.modified.endLineNumberExclusive;return w.Range.fromPositions(new m.Position(T,S.column))}if(!L.innerChanges)return w.Range.fromPositions(new m.Position(L.modified.startLineNumber,1));const D=(0,f.findLast)(L.innerChanges,T=>T.originalRange.getStartPosition().isBeforeOrEqual(S));if(!D){const T=S.lineNumber-L.original.startLineNumber+L.modified.startLineNumber;return w.Range.fromPositions(new m.Position(T,S.column))}if(D.originalRange.containsPosition(S))return D.modifiedRange;{const T=g(D.originalRange.getEndPosition(),S);return w.Range.fromPositions(T.addToPosition(D.modifiedRange.getEndPosition()))}}function g(S,_){return S.lineNumber===_.lineNumber?new b.TextLength(0,_.column-S.column):new b.TextLength(_.lineNumber-S.lineNumber,_.column-1)}function C(S,_){let L;return S.filter(D=>{const T=_(D,L);return L=D,T})}}),define(re[567],ae([1,0,66,114]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PositionOffsetTransformer=void 0;class E{constructor(y){this.text=y,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let m=0;m<y.length;m++)y.charAt(m)===`
`&&this.lineStartOffsetByLineIdx.push(m+1)}getOffset(y){return this.lineStartOffsetByLineIdx[y.lineNumber-1]+y.column-1}getOffsetRange(y){return new f.OffsetRange(this.getOffset(y.getStartPosition()),this.getOffset(y.getEndPosition()))}get textLength(){const y=this.lineStartOffsetByLineIdx.length-1;return new k.TextLength(y,this.text.length-this.lineStartOffsetByLineIdx[y])}}e.PositionOffsetTransformer=E}),define(re[103],ae([1,0,89,8,9,567,5,114]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringText=e.AbstractText=e.SingleTextEdit=e.TextEdit=void 0;class w{constructor(i){this.edits=i,(0,f.assertFn)(()=>(0,f.checkAdjacentItems)(i,(n,c)=>n.range.getEndPosition().isBeforeOrEqual(c.range.getStartPosition())))}apply(i){let n="",c=new E.Position(1,1);for(const r of this.edits){const a=r.range,l=a.getStartPosition(),d=a.getEndPosition(),p=v(c,l);p.isEmpty()||(n+=i.getValueOfRange(p)),n+=r.text,c=d}const u=v(c,i.endPositionExclusive);return u.isEmpty()||(n+=i.getValueOfRange(u)),n}applyToString(i){const n=new o(i);return this.apply(n)}getNewRanges(){const i=[];let n=0,c=0,u=0;for(const r of this.edits){const a=m.TextLength.ofText(r.text),l=E.Position.lift({lineNumber:r.range.startLineNumber+c,column:r.range.startColumn+(r.range.startLineNumber===n?u:0)}),d=a.createRange(l);i.push(d),c=d.endLineNumber-r.range.endLineNumber,u=d.endColumn-r.range.endColumn,n=r.range.endLineNumber}return i}}e.TextEdit=w;class b{constructor(i,n){this.range=i,this.text=n}toSingleEditOperation(){return{range:this.range,text:this.text}}}e.SingleTextEdit=b;function v(t,i){if(t.lineNumber===i.lineNumber&&t.column===Number.MAX_SAFE_INTEGER)return y.Range.fromPositions(i,i);if(!t.isBeforeOrEqual(i))throw new k.BugIndicatingError("start must be before end");return new y.Range(t.lineNumber,t.column,i.lineNumber,i.column)}class s{get endPositionExclusive(){return this.length.addToPosition(new E.Position(1,1))}}e.AbstractText=s;class o extends s{constructor(i){super(),this.value=i,this._t=new I.PositionOffsetTransformer(this.value)}getValueOfRange(i){return this._t.getOffsetRange(i).substring(this.value)}get length(){return this._t.textLength}}e.StringText=o}),define(re[196],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(re[167],ae([1,0,44,141]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordCharacterClassifier=void 0,e.getMapForWordSeparators=y;class E extends k.CharacterClassifier{constructor(w,b){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=b,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let v=0,s=w.length;v<s;v++)this.set(w.charCodeAt(v),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(w,b){let v=null;for(const s of this._getIntlSegmenterWordsOnLine(w)){if(s.index>b)break;v=s}return v}findNextIntlWordAtOrAfterOffset(w,b){for(const v of this._getIntlSegmenterWordsOnLine(w))if(!(v.index<b))return v;return null}_getIntlSegmenterWordsOnLine(w){return this._segmenter?this._cachedLine===w?this._cachedSegments:(this._cachedLine=w,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(w)),this._cachedSegments):[]}_filterWordSegments(w){const b=[];for(const v of w)this._isWordLike(v)&&b.push(v);return b}_isWordLike(w){return!!w.isWordLike}}e.WordCharacterClassifier=E;const I=new f.LRUCache(10);function y(m,w){const b=`${m}/${w.join(",")}`;let v=I.get(b);return v||(v=new E(m,w),I.set(b,v)),v}}),define(re[168],ae([1,0,53,71]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.ensureValidWordDefinition=I,e.getWordAtText=m,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function E(b=""){let v="(-?\\d*\\.\\d\\w*)|([^";for(const s of e.USUAL_WORD_SEPARATORS)b.indexOf(s)>=0||(v+="\\"+s);return v+="\\s]+)",new RegExp(v,"g")}e.DEFAULT_WORD_REGEXP=E();function I(b){let v=e.DEFAULT_WORD_REGEXP;if(b&&b instanceof RegExp)if(b.global)v=b;else{let s="g";b.ignoreCase&&(s+="i"),b.multiline&&(s+="m"),b.unicode&&(s+="u"),v=new RegExp(b.source,s)}return v.lastIndex=0,v}const y=new k.LinkedList;y.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function m(b,v,s,o,t){if(v=I(v),t||(t=f.Iterable.first(y)),s.length>t.maxLen){let r=b-t.maxLen/2;return r<0?r=0:o+=r,s=s.substring(r,b+t.maxLen/2),m(b,v,s,o,t)}const i=Date.now(),n=b-1-o;let c=-1,u=null;for(let r=1;!(Date.now()-i>=t.timeBudget);r++){const a=n-t.windowSize*r;v.lastIndex=Math.max(0,a);const l=w(v,s,n,c);if(!l&&u||(u=l,a<=0))break;c=a}if(u){const r={word:u[0],startColumn:o+1+u.index,endColumn:o+1+u.index+u[0].length};return v.lastIndex=0,r}return null}function w(b,v,s,o){let t;for(;t=b.exec(v);){const i=t.index||0;if(i<=s&&b.lastIndex>=s)return t;if(o>0&&i>o)return null}return null}}),define(re[326],ae([1,0,93]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(I,y,m){const w=I.length;let b=0,v=-1,s=-1;for(let o=0;o<w;o++){if(o===y)return[v,s,b];switch(b%m===0&&(v=o,s=b),I.charCodeAt(o)){case 32:b+=1;break;case 9:b=f.CursorColumns.nextRenderTabStop(b,m);break;default:return[-1,-1,-1]}}return y===w?[v,s,b]:[-1,-1,-1]}static atomicPosition(I,y,m,w){const b=I.length,[v,s,o]=k.whitespaceVisibleColumn(I,y,m);if(o===-1)return-1;let t;switch(w){case 0:t=!0;break;case 1:t=!1;break;case 2:if(o%m===0)return y;t=o%m<=m/2;break}if(t){if(v===-1)return-1;let c=s;for(let u=v;u<b;++u){if(c===s+m)return v;switch(I.charCodeAt(u)){case 32:c+=1;break;case 9:c=f.CursorColumns.nextRenderTabStop(c,m);break;default:return-1}}return c===s+m?v:-1}const i=f.CursorColumns.nextRenderTabStop(o,m);let n=o;for(let c=y;c<b;c++){if(n===i)return c;switch(I.charCodeAt(c)){case 32:n+=1;break;case 9:n=f.CursorColumns.nextRenderTabStop(n,m);break;default:return-1}}return n===i?b:-1}}e.AtomicTabMoveOperations=k}),define(re[568],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class f{constructor(E,I,y,m){this._cursorContextBrand=void 0,this.model=E,this.viewModel=I,this.coordinatesConverter=y,this.cursorConfig=m}}e.CursorContext=f}),define(re[169],ae([1,0,13,8,66]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.OffsetPair=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class I{static trivial(s,o){return new I([new y(E.OffsetRange.ofLength(s.length),E.OffsetRange.ofLength(o.length))],!1)}static trivialTimedOut(s,o){return new I([new y(E.OffsetRange.ofLength(s.length),E.OffsetRange.ofLength(o.length))],!0)}constructor(s,o){this.diffs=s,this.hitTimeout=o}}e.DiffAlgorithmResult=I;class y{static invert(s,o){const t=[];return(0,f.forEachAdjacent)(s,(i,n)=>{t.push(y.fromOffsetPairs(i?i.getEndExclusives():m.zero,n?n.getStarts():new m(o,(i?i.seq2Range.endExclusive-i.seq1Range.endExclusive:0)+o)))}),t}static fromOffsetPairs(s,o){return new y(new E.OffsetRange(s.offset1,o.offset1),new E.OffsetRange(s.offset2,o.offset2))}constructor(s,o){this.seq1Range=s,this.seq2Range=o}swap(){return new y(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(s){return new y(this.seq1Range.join(s.seq1Range),this.seq2Range.join(s.seq2Range))}delta(s){return s===0?this:new y(this.seq1Range.delta(s),this.seq2Range.delta(s))}deltaStart(s){return s===0?this:new y(this.seq1Range.deltaStart(s),this.seq2Range.deltaStart(s))}deltaEnd(s){return s===0?this:new y(this.seq1Range.deltaEnd(s),this.seq2Range.deltaEnd(s))}intersect(s){const o=this.seq1Range.intersect(s.seq1Range),t=this.seq2Range.intersect(s.seq2Range);if(!(!o||!t))return new y(o,t)}getStarts(){return new m(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new m(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}e.SequenceDiff=y;class m{constructor(s,o){this.offset1=s,this.offset2=o}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(s){return s===0?this:new m(this.offset1+s,this.offset2+s)}equals(s){return this.offset1===s.offset1&&this.offset2===s.offset2}}e.OffsetPair=m,m.zero=new m(0,0),m.max=new m(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class w{isValid(){return!0}}e.InfiniteTimeout=w,w.instance=new w;class b{constructor(s){if(this.timeout=s,this.startTime=Date.now(),this.valid=!0,s<=0)throw new k.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=b}),define(re[327],ae([1,0,66,169]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class E{compute(b,v,s=k.InfiniteTimeout.instance){if(b.length===0||v.length===0)return k.DiffAlgorithmResult.trivial(b,v);const o=b,t=v;function i(h,g){for(;h<o.length&&g<t.length&&o.getElement(h)===t.getElement(g);)h++,g++;return h}let n=0;const c=new y;c.set(0,i(0,0));const u=new m;u.set(0,c.get(0)===0?null:new I(null,0,0,c.get(0)));let r=0;e:for(;;){if(n++,!s.isValid())return k.DiffAlgorithmResult.trivialTimedOut(o,t);const h=-Math.min(n,t.length+n%2),g=Math.min(n,o.length+n%2);for(r=h;r<=g;r+=2){let C=0;const S=r===g?-1:c.get(r+1),_=r===h?-1:c.get(r-1)+1;C++;const L=Math.min(Math.max(S,_),o.length),D=L-r;if(C++,L>o.length||D>t.length)continue;const T=i(L,D);c.set(r,T);const N=L===S?u.get(r+1):u.get(r-1);if(u.set(r,T!==L?new I(N,L,D,T-L):N),c.get(r)===o.length&&c.get(r)-r===t.length)break e}}let a=u.get(r);const l=[];let d=o.length,p=t.length;for(;;){const h=a?a.x+a.length:0,g=a?a.y+a.length:0;if((h!==d||g!==p)&&l.push(new k.SequenceDiff(new f.OffsetRange(h,d),new f.OffsetRange(g,p))),!a)break;d=a.x,p=a.y,a=a.prev}return l.reverse(),new k.DiffAlgorithmResult(l,!1)}}e.MyersDiffAlgorithm=E;class I{constructor(b,v,s,o){this.prev=b,this.x=v,this.y=s,this.length=o}}class y{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,v){if(b<0){if(b=-b-1,b>=this.negativeArr.length){const s=this.negativeArr;this.negativeArr=new Int32Array(s.length*2),this.negativeArr.set(s)}this.negativeArr[b]=v}else{if(b>=this.positiveArr.length){const s=this.positiveArr;this.positiveArr=new Int32Array(s.length*2),this.positiveArr.set(s)}this.positiveArr[b]=v}}}class m{constructor(){this.positiveArr=[],this.negativeArr=[]}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,v){b<0?(b=-b-1,this.negativeArr[b]=v):this.positiveArr[b]=v}}}),define(re[328],ae([1,0,13,66,169]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optimizeSequenceDiffs=I,e.removeShortMatches=b,e.extendDiffsToEntireWordIfAppropriate=v,e.removeVeryShortMatchingLinesBetweenDiffs=o,e.removeVeryShortMatchingTextBetweenLongDiffs=t;function I(i,n,c){let u=c;return u=y(i,n,u),u=y(i,n,u),u=m(i,n,u),u}function y(i,n,c){if(c.length===0)return c;const u=[];u.push(c[0]);for(let a=1;a<c.length;a++){const l=u[u.length-1];let d=c[a];if(d.seq1Range.isEmpty||d.seq2Range.isEmpty){const p=d.seq1Range.start-l.seq1Range.endExclusive;let h;for(h=1;h<=p&&!(i.getElement(d.seq1Range.start-h)!==i.getElement(d.seq1Range.endExclusive-h)||n.getElement(d.seq2Range.start-h)!==n.getElement(d.seq2Range.endExclusive-h));h++);if(h--,h===p){u[u.length-1]=new E.SequenceDiff(new k.OffsetRange(l.seq1Range.start,d.seq1Range.endExclusive-p),new k.OffsetRange(l.seq2Range.start,d.seq2Range.endExclusive-p));continue}d=d.delta(-h)}u.push(d)}const r=[];for(let a=0;a<u.length-1;a++){const l=u[a+1];let d=u[a];if(d.seq1Range.isEmpty||d.seq2Range.isEmpty){const p=l.seq1Range.start-d.seq1Range.endExclusive;let h;for(h=0;h<p&&!(!i.isStronglyEqual(d.seq1Range.start+h,d.seq1Range.endExclusive+h)||!n.isStronglyEqual(d.seq2Range.start+h,d.seq2Range.endExclusive+h));h++);if(h===p){u[a+1]=new E.SequenceDiff(new k.OffsetRange(d.seq1Range.start+p,l.seq1Range.endExclusive),new k.OffsetRange(d.seq2Range.start+p,l.seq2Range.endExclusive));continue}h>0&&(d=d.delta(h))}r.push(d)}return u.length>0&&r.push(u[u.length-1]),r}function m(i,n,c){if(!i.getBoundaryScore||!n.getBoundaryScore)return c;for(let u=0;u<c.length;u++){const r=u>0?c[u-1]:void 0,a=c[u],l=u+1<c.length?c[u+1]:void 0,d=new k.OffsetRange(r?r.seq1Range.endExclusive+1:0,l?l.seq1Range.start-1:i.length),p=new k.OffsetRange(r?r.seq2Range.endExclusive+1:0,l?l.seq2Range.start-1:n.length);a.seq1Range.isEmpty?c[u]=w(a,i,n,d,p):a.seq2Range.isEmpty&&(c[u]=w(a.swap(),n,i,p,d).swap())}return c}function w(i,n,c,u,r){let l=1;for(;i.seq1Range.start-l>=u.start&&i.seq2Range.start-l>=r.start&&c.isStronglyEqual(i.seq2Range.start-l,i.seq2Range.endExclusive-l)&&l<100;)l++;l--;let d=0;for(;i.seq1Range.start+d<u.endExclusive&&i.seq2Range.endExclusive+d<r.endExclusive&&c.isStronglyEqual(i.seq2Range.start+d,i.seq2Range.endExclusive+d)&&d<100;)d++;if(l===0&&d===0)return i;let p=0,h=-1;for(let g=-l;g<=d;g++){const C=i.seq2Range.start+g,S=i.seq2Range.endExclusive+g,_=i.seq1Range.start+g,L=n.getBoundaryScore(_)+c.getBoundaryScore(C)+c.getBoundaryScore(S);L>h&&(h=L,p=g)}return i.delta(p)}function b(i,n,c){const u=[];for(const r of c){const a=u[u.length-1];if(!a){u.push(r);continue}r.seq1Range.start-a.seq1Range.endExclusive<=2||r.seq2Range.start-a.seq2Range.endExclusive<=2?u[u.length-1]=new E.SequenceDiff(a.seq1Range.join(r.seq1Range),a.seq2Range.join(r.seq2Range)):u.push(r)}return u}function v(i,n,c){const u=E.SequenceDiff.invert(c,i.length),r=[];let a=new E.OffsetPair(0,0);function l(p,h){if(p.offset1<a.offset1||p.offset2<a.offset2)return;const g=i.findWordContaining(p.offset1),C=n.findWordContaining(p.offset2);if(!g||!C)return;let S=new E.SequenceDiff(g,C);const _=S.intersect(h);let L=_.seq1Range.length,D=_.seq2Range.length;for(;u.length>0;){const T=u[0];if(!(T.seq1Range.intersects(S.seq1Range)||T.seq2Range.intersects(S.seq2Range)))break;const A=i.findWordContaining(T.seq1Range.start),R=n.findWordContaining(T.seq2Range.start),M=new E.SequenceDiff(A,R),P=M.intersect(T);if(L+=P.seq1Range.length,D+=P.seq2Range.length,S=S.join(M),S.seq1Range.endExclusive>=T.seq1Range.endExclusive)u.shift();else break}L+D<(S.seq1Range.length+S.seq2Range.length)*2/3&&r.push(S),a=S.getEndExclusives()}for(;u.length>0;){const p=u.shift();p.seq1Range.isEmpty||(l(p.getStarts(),p),l(p.getEndExclusives().delta(-1),p))}return s(c,r)}function s(i,n){const c=[];for(;i.length>0||n.length>0;){const u=i[0],r=n[0];let a;u&&(!r||u.seq1Range.start<r.seq1Range.start)?a=i.shift():a=n.shift(),c.length>0&&c[c.length-1].seq1Range.endExclusive>=a.seq1Range.start?c[c.length-1]=c[c.length-1].join(a):c.push(a)}return c}function o(i,n,c){let u=c;if(u.length===0)return u;let r=0,a;do{a=!1;const l=[u[0]];for(let d=1;d<u.length;d++){let g=function(S,_){const L=new k.OffsetRange(h.seq1Range.endExclusive,p.seq1Range.start);return i.getText(L).replace(/\s/g,"").length<=4&&(S.seq1Range.length+S.seq2Range.length>5||_.seq1Range.length+_.seq2Range.length>5)};const p=u[d],h=l[l.length-1];g(h,p)?(a=!0,l[l.length-1]=l[l.length-1].join(p)):l.push(p)}u=l}while(r++<10&&a);return u}function t(i,n,c){let u=c;if(u.length===0)return u;let r=0,a;do{a=!1;const d=[u[0]];for(let p=1;p<u.length;p++){let C=function(_,L){const D=new k.OffsetRange(g.seq1Range.endExclusive,h.seq1Range.start);if(i.countLinesIn(D)>5||D.length>500)return!1;const N=i.getText(D).trim();if(N.length>20||N.split(/\r\n|\r|\n/).length>1)return!1;const A=i.countLinesIn(_.seq1Range),R=_.seq1Range.length,M=n.countLinesIn(_.seq2Range),P=_.seq2Range.length,x=i.countLinesIn(L.seq1Range),O=L.seq1Range.length,B=n.countLinesIn(L.seq2Range),H=L.seq2Range.length,K=2*40+50;function V(j){return Math.min(j,K)}return Math.pow(Math.pow(V(A*40+R),1.5)+Math.pow(V(M*40+P),1.5),1.5)+Math.pow(Math.pow(V(x*40+O),1.5)+Math.pow(V(B*40+H),1.5),1.5)>(K**1.5)**1.5*1.3};const h=u[p],g=d[d.length-1];C(g,h)?(a=!0,d[d.length-1]=d[d.length-1].join(h)):d.push(h)}u=d}while(r++<10&&a);const l=[];return(0,f.forEachWithNeighbors)(u,(d,p,h)=>{let g=p;function C(N){return N.length>0&&N.trim().length<=3&&p.seq1Range.length+p.seq2Range.length>100}const S=i.extendToFullLines(p.seq1Range),_=i.getText(new k.OffsetRange(S.start,p.seq1Range.start));C(_)&&(g=g.deltaStart(-_.length));const L=i.getText(new k.OffsetRange(p.seq1Range.endExclusive,S.endExclusive));C(L)&&(g=g.deltaEnd(L.length));const D=E.SequenceDiff.fromOffsetPairs(d?d.getEndExclusives():E.OffsetPair.zero,h?h.getStarts():E.OffsetPair.max),T=g.intersect(D);l.length>0&&T.getStarts().equals(l[l.length-1].getEndExclusives())?l[l.length-1]=l[l.length-1].join(T):l.push(T)}),l}}),define(re[569],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class f{constructor(I,y){this.trimmedHash=I,this.lines=y}getElement(I){return this.trimmedHash[I]}get length(){return this.trimmedHash.length}getBoundaryScore(I){const y=I===0?0:k(this.lines[I-1]),m=I===this.lines.length?0:k(this.lines[I]);return 1e3-(y+m)}getText(I){return this.lines.slice(I.start,I.endExclusive).join(`
`)}isStronglyEqual(I,y){return this.lines[I]===this.lines[y]}}e.LineSequence=f;function k(E){let I=0;for(;I<E.length&&(E.charCodeAt(I)===32||E.charCodeAt(I)===9);)I++;return I}}),define(re[242],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.Array2D=void 0,e.isSpace=k;class f{constructor(y,m){this.width=y,this.height=m,this.array=[],this.array=new Array(y*m)}get(y,m){return this.array[y+m*this.width]}set(y,m,w){this.array[y+m*this.width]=w}}e.Array2D=f;function k(I){return I===32||I===9}class E{static getKey(y){let m=this.chrKeys.get(y);return m===void 0&&(m=this.chrKeys.size,this.chrKeys.set(y,m)),m}constructor(y,m,w){this.range=y,this.lines=m,this.source=w,this.histogram=[];let b=0;for(let v=y.startLineNumber-1;v<y.endLineNumberExclusive-1;v++){const s=m[v];for(let t=0;t<s.length;t++){b++;const i=s[t],n=E.getKey(i);this.histogram[n]=(this.histogram[n]||0)+1}b++;const o=E.getKey(`
`);this.histogram[o]=(this.histogram[o]||0)+1}this.totalCount=b}computeSimilarity(y){var m,w;let b=0;const v=Math.max(this.histogram.length,y.histogram.length);for(let s=0;s<v;s++)b+=Math.abs(((m=this.histogram[s])!==null&&m!==void 0?m:0)-((w=y.histogram[s])!==null&&w!==void 0?w:0));return 1-b/(this.totalCount+y.totalCount)}}e.LineRangeFragment=E,E.chrKeys=new Map}),define(re[570],ae([1,0,66,169,242]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class I{compute(m,w,b=k.InfiniteTimeout.instance,v){if(m.length===0||w.length===0)return k.DiffAlgorithmResult.trivial(m,w);const s=new E.Array2D(m.length,w.length),o=new E.Array2D(m.length,w.length),t=new E.Array2D(m.length,w.length);for(let l=0;l<m.length;l++)for(let d=0;d<w.length;d++){if(!b.isValid())return k.DiffAlgorithmResult.trivialTimedOut(m,w);const p=l===0?0:s.get(l-1,d),h=d===0?0:s.get(l,d-1);let g;m.getElement(l)===w.getElement(d)?(l===0||d===0?g=0:g=s.get(l-1,d-1),l>0&&d>0&&o.get(l-1,d-1)===3&&(g+=t.get(l-1,d-1)),g+=v?v(l,d):1):g=-1;const C=Math.max(p,h,g);if(C===g){const S=l>0&&d>0?t.get(l-1,d-1):0;t.set(l,d,S+1),o.set(l,d,3)}else C===p?(t.set(l,d,0),o.set(l,d,1)):C===h&&(t.set(l,d,0),o.set(l,d,2));s.set(l,d,C)}const i=[];let n=m.length,c=w.length;function u(l,d){(l+1!==n||d+1!==c)&&i.push(new k.SequenceDiff(new f.OffsetRange(l+1,n),new f.OffsetRange(d+1,c))),n=l,c=d}let r=m.length-1,a=w.length-1;for(;r>=0&&a>=0;)o.get(r,a)===3?(u(r,a),r--,a--):o.get(r,a)===1?r--:a--;return u(-1,-1),i.reverse(),new k.DiffAlgorithmResult(i,!1)}}e.DynamicProgrammingDiffing=I}),define(re[329],ae([1,0,67,66,9,5,242]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class m{constructor(t,i,n){this.lines=t,this.considerWhitespaceChanges=n,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let c=!1;i.start>0&&i.endExclusive>=t.length&&(i=new k.OffsetRange(i.start-1,i.endExclusive),c=!0),this.lineRange=i,this.firstCharOffsetByLine[0]=0;for(let u=this.lineRange.start;u<this.lineRange.endExclusive;u++){let r=t[u],a=0;if(c)a=r.length,r="",c=!1;else if(!n){const l=r.trimStart();a=r.length-l.length,r=l.trimEnd()}this.additionalOffsetByLine.push(a);for(let l=0;l<r.length;l++)this.elements.push(r.charCodeAt(l));u<t.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[u-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.OffsetRange(0,this.length))}getText(t){return this.elements.slice(t.start,t.endExclusive).map(i=>String.fromCharCode(i)).join("")}getElement(t){return this.elements[t]}get length(){return this.elements.length}getBoundaryScore(t){const i=s(t>0?this.elements[t-1]:-1),n=s(t<this.elements.length?this.elements[t]:-1);if(i===7&&n===8)return 0;if(i===8)return 150;let c=0;return i!==n&&(c+=10,i===0&&n===1&&(c+=1)),c+=v(i),c+=v(n),c}translateOffset(t){if(this.lineRange.isEmpty)return new E.Position(this.lineRange.start+1,1);const i=(0,f.findLastIdxMonotonous)(this.firstCharOffsetByLine,n=>n<=t);return new E.Position(this.lineRange.start+i+1,t-this.firstCharOffsetByLine[i]+this.additionalOffsetByLine[i]+1)}translateRange(t){return I.Range.fromPositions(this.translateOffset(t.start),this.translateOffset(t.endExclusive))}findWordContaining(t){if(t<0||t>=this.elements.length||!w(this.elements[t]))return;let i=t;for(;i>0&&w(this.elements[i-1]);)i--;let n=t;for(;n<this.elements.length&&w(this.elements[n]);)n++;return new k.OffsetRange(i,n)}countLinesIn(t){return this.translateOffset(t.endExclusive).lineNumber-this.translateOffset(t.start).lineNumber}isStronglyEqual(t,i){return this.elements[t]===this.elements[i]}extendToFullLines(t){var i,n;const c=(i=(0,f.findLastMonotonous)(this.firstCharOffsetByLine,r=>r<=t.start))!==null&&i!==void 0?i:0,u=(n=(0,f.findFirstMonotonous)(this.firstCharOffsetByLine,r=>t.endExclusive<=r))!==null&&n!==void 0?n:this.elements.length;return new k.OffsetRange(c,u)}}e.LinesSliceCharSequence=m;function w(o){return o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57}const b={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function v(o){return b[o]}function s(o){return o===10?8:o===13?7:(0,y.isSpace)(o)?6:o>=97&&o<=122?0:o>=65&&o<=90?1:o>=48&&o<=57?2:o===-1?3:o===44||o===59?5:4}}),define(re[243],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class f{constructor(I,y,m){this.changes=I,this.moves=y,this.hitTimeout=m}}e.LinesDiff=f;class k{constructor(I,y){this.lineRangeMapping=I,this.changes=y}}e.MovedText=k}),define(re[104],ae([1,0,8,56,5,103]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class y{static inverse(v,s,o){const t=[];let i=1,n=1;for(const u of v){const r=new y(new k.LineRange(i,u.original.startLineNumber),new k.LineRange(n,u.modified.startLineNumber));r.modified.isEmpty||t.push(r),i=u.original.endLineNumberExclusive,n=u.modified.endLineNumberExclusive}const c=new y(new k.LineRange(i,s+1),new k.LineRange(n,o+1));return c.modified.isEmpty||t.push(c),t}static clip(v,s,o){const t=[];for(const i of v){const n=i.original.intersect(s),c=i.modified.intersect(o);n&&!n.isEmpty&&c&&!c.isEmpty&&t.push(new y(n,c))}return t}constructor(v,s){this.original=v,this.modified=s}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new y(this.modified,this.original)}join(v){return new y(this.original.join(v.original),this.modified.join(v.modified))}toRangeMapping(){const v=this.original.toInclusiveRange(),s=this.modified.toInclusiveRange();if(v&&s)return new w(v,s);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new f.BugIndicatingError("not a valid diff");return new w(new E.Range(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new E.Range(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new w(new E.Range(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new E.Range(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}}e.LineRangeMapping=y;class m extends y{static fromRangeMappings(v){const s=k.LineRange.join(v.map(t=>k.LineRange.fromRangeInclusive(t.originalRange))),o=k.LineRange.join(v.map(t=>k.LineRange.fromRangeInclusive(t.modifiedRange)));return new m(s,o,v)}constructor(v,s,o){super(v,s),this.innerChanges=o}flip(){var v;return new m(this.modified,this.original,(v=this.innerChanges)===null||v===void 0?void 0:v.map(s=>s.flip()))}withInnerChangesFromLineRanges(){return new m(this.original,this.modified,[this.toRangeMapping()])}}e.DetailedLineRangeMapping=m;class w{constructor(v,s){this.originalRange=v,this.modifiedRange=s}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new w(this.modifiedRange,this.originalRange)}toTextEdit(v){const s=v.getValueOfRange(this.modifiedRange);return new I.SingleTextEdit(this.originalRange,s)}}e.RangeMapping=w}),define(re[571],ae([1,0,169,104,13,67,44,56,66,329,242,327]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=o;function o(a,l,d,p,h,g){let{moves:C,excludedChanges:S}=i(a,l,d,g);if(!g.isValid())return[];const _=a.filter(D=>!S.has(D)),L=n(_,p,h,l,d,g);return(0,E.pushMany)(C,L),C=u(C),C=C.filter(D=>{const T=D.original.toOffsetRange().slice(l).map(A=>A.trim());return T.join(`
`).length>=15&&t(T,A=>A.length>=2)>=2}),C=r(a,C),C}function t(a,l){let d=0;for(const p of a)l(p)&&d++;return d}function i(a,l,d,p){const h=[],g=a.filter(_=>_.modified.isEmpty&&_.original.length>=3).map(_=>new v.LineRangeFragment(_.original,l,_)),C=new Set(a.filter(_=>_.original.isEmpty&&_.modified.length>=3).map(_=>new v.LineRangeFragment(_.modified,d,_))),S=new Set;for(const _ of g){let L=-1,D;for(const T of C){const N=_.computeSimilarity(T);N>L&&(L=N,D=T)}if(L>.9&&D&&(C.delete(D),h.push(new k.LineRangeMapping(_.range,D.range)),S.add(_.source),S.add(D.source)),!p.isValid())return{moves:h,excludedChanges:S}}return{moves:h,excludedChanges:S}}function n(a,l,d,p,h,g){const C=[],S=new y.SetMap;for(const N of a)for(let A=N.original.startLineNumber;A<N.original.endLineNumberExclusive-2;A++){const R=`${l[A-1]}:${l[A+1-1]}:${l[A+2-1]}`;S.add(R,{range:new m.LineRange(A,A+3)})}const _=[];a.sort((0,E.compareBy)(N=>N.modified.startLineNumber,E.numberComparator));for(const N of a){let A=[];for(let R=N.modified.startLineNumber;R<N.modified.endLineNumberExclusive-2;R++){const M=`${d[R-1]}:${d[R+1-1]}:${d[R+2-1]}`,P=new m.LineRange(R,R+3),x=[];S.forEach(M,({range:O})=>{for(const H of A)if(H.originalLineRange.endLineNumberExclusive+1===O.endLineNumberExclusive&&H.modifiedLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive){H.originalLineRange=new m.LineRange(H.originalLineRange.startLineNumber,O.endLineNumberExclusive),H.modifiedLineRange=new m.LineRange(H.modifiedLineRange.startLineNumber,P.endLineNumberExclusive),x.push(H);return}const B={modifiedLineRange:P,originalLineRange:O};_.push(B),x.push(B)}),A=x}if(!g.isValid())return[]}_.sort((0,E.reverseOrder)((0,E.compareBy)(N=>N.modifiedLineRange.length,E.numberComparator)));const L=new m.LineRangeSet,D=new m.LineRangeSet;for(const N of _){const A=N.modifiedLineRange.startLineNumber-N.originalLineRange.startLineNumber,R=L.subtractFrom(N.modifiedLineRange),M=D.subtractFrom(N.originalLineRange).getWithDelta(A),P=R.getIntersection(M);for(const x of P.ranges){if(x.length<3)continue;const O=x,B=x.delta(-A);C.push(new k.LineRangeMapping(B,O)),L.addRange(O),D.addRange(B)}}C.sort((0,E.compareBy)(N=>N.original.startLineNumber,E.numberComparator));const T=new I.MonotonousArray(a);for(let N=0;N<C.length;N++){const A=C[N],R=T.findLastMonotonous(V=>V.original.startLineNumber<=A.original.startLineNumber),M=(0,I.findLastMonotonous)(a,V=>V.modified.startLineNumber<=A.modified.startLineNumber),P=Math.max(A.original.startLineNumber-R.original.startLineNumber,A.modified.startLineNumber-M.modified.startLineNumber),x=T.findLastMonotonous(V=>V.original.startLineNumber<A.original.endLineNumberExclusive),O=(0,I.findLastMonotonous)(a,V=>V.modified.startLineNumber<A.modified.endLineNumberExclusive),B=Math.max(x.original.endLineNumberExclusive-A.original.endLineNumberExclusive,O.modified.endLineNumberExclusive-A.modified.endLineNumberExclusive);let H;for(H=0;H<P;H++){const V=A.original.startLineNumber-H-1,j=A.modified.startLineNumber-H-1;if(V>p.length||j>h.length||L.contains(j)||D.contains(V)||!c(p[V-1],h[j-1],g))break}H>0&&(D.addRange(new m.LineRange(A.original.startLineNumber-H,A.original.startLineNumber)),L.addRange(new m.LineRange(A.modified.startLineNumber-H,A.modified.startLineNumber)));let K;for(K=0;K<B;K++){const V=A.original.endLineNumberExclusive+K,j=A.modified.endLineNumberExclusive+K;if(V>p.length||j>h.length||L.contains(j)||D.contains(V)||!c(p[V-1],h[j-1],g))break}K>0&&(D.addRange(new m.LineRange(A.original.endLineNumberExclusive,A.original.endLineNumberExclusive+K)),L.addRange(new m.LineRange(A.modified.endLineNumberExclusive,A.modified.endLineNumberExclusive+K))),(H>0||K>0)&&(C[N]=new k.LineRangeMapping(new m.LineRange(A.original.startLineNumber-H,A.original.endLineNumberExclusive+K),new m.LineRange(A.modified.startLineNumber-H,A.modified.endLineNumberExclusive+K)))}return C}function c(a,l,d){if(a.trim()===l.trim())return!0;if(a.length>300&&l.length>300)return!1;const h=new s.MyersDiffAlgorithm().compute(new b.LinesSliceCharSequence([a],new w.OffsetRange(0,1),!1),new b.LinesSliceCharSequence([l],new w.OffsetRange(0,1),!1),d);let g=0;const C=f.SequenceDiff.invert(h.diffs,a.length);for(const D of C)D.seq1Range.forEach(T=>{(0,v.isSpace)(a.charCodeAt(T))||g++});function S(D){let T=0;for(let N=0;N<a.length;N++)(0,v.isSpace)(D.charCodeAt(N))||T++;return T}const _=S(a.length>l.length?a:l);return g/_>.6&&_>10}function u(a){if(a.length===0)return a;a.sort((0,E.compareBy)(d=>d.original.startLineNumber,E.numberComparator));const l=[a[0]];for(let d=1;d<a.length;d++){const p=l[l.length-1],h=a[d],g=h.original.startLineNumber-p.original.endLineNumberExclusive,C=h.modified.startLineNumber-p.modified.endLineNumberExclusive;if(g>=0&&C>=0&&g+C<=2){l[l.length-1]=p.join(h);continue}l.push(h)}return l}function r(a,l){const d=new I.MonotonousArray(a);return l=l.filter(p=>{const h=d.findLastMonotonous(S=>S.original.startLineNumber<p.original.endLineNumberExclusive)||new k.LineRangeMapping(new m.LineRange(1,1),new m.LineRange(1,1)),g=(0,I.findLastMonotonous)(a,S=>S.modified.startLineNumber<p.modified.endLineNumberExclusive);return h!==g}),l}}),define(re[330],ae([1,0,13,89,56,66,5,169,570,327,571,328,569,329,243,104]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLinesDiffComputer=void 0,e.lineRangeMappingFromRangeMappings=u,e.getLineRangeMapping=r;class c{constructor(){this.dynamicProgrammingDiffing=new w.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new b.MyersDiffAlgorithm}computeDiff(l,d,p){if(l.length<=1&&(0,f.equals)(l,d,(K,V)=>K===V))return new i.LinesDiff([],[],!1);if(l.length===1&&l[0].length===0||d.length===1&&d[0].length===0)return new i.LinesDiff([new n.DetailedLineRangeMapping(new E.LineRange(1,l.length+1),new E.LineRange(1,d.length+1),[new n.RangeMapping(new y.Range(1,1,l.length,l[l.length-1].length+1),new y.Range(1,1,d.length,d[d.length-1].length+1))])],[],!1);const h=p.maxComputationTimeMs===0?m.InfiniteTimeout.instance:new m.DateTimeout(p.maxComputationTimeMs),g=!p.ignoreTrimWhitespace,C=new Map;function S(K){let V=C.get(K);return V===void 0&&(V=C.size,C.set(K,V)),V}const _=l.map(K=>S(K.trim())),L=d.map(K=>S(K.trim())),D=new o.LineSequence(_,l),T=new o.LineSequence(L,d),N=D.length+T.length<1700?this.dynamicProgrammingDiffing.compute(D,T,h,(K,V)=>l[K]===d[V]?d[V].length===0?.1:1+Math.log(1+d[V].length):.99):this.myersDiffingAlgorithm.compute(D,T,h);let A=N.diffs,R=N.hitTimeout;A=(0,s.optimizeSequenceDiffs)(D,T,A),A=(0,s.removeVeryShortMatchingLinesBetweenDiffs)(D,T,A);const M=[],P=K=>{if(g)for(let V=0;V<K;V++){const j=x+V,U=O+V;if(l[j]!==d[U]){const Y=this.refineDiff(l,d,new m.SequenceDiff(new I.OffsetRange(j,j+1),new I.OffsetRange(U,U+1)),h,g);for(const Q of Y.mappings)M.push(Q);Y.hitTimeout&&(R=!0)}}};let x=0,O=0;for(const K of A){(0,k.assertFn)(()=>K.seq1Range.start-x===K.seq2Range.start-O);const V=K.seq1Range.start-x;P(V),x=K.seq1Range.endExclusive,O=K.seq2Range.endExclusive;const j=this.refineDiff(l,d,K,h,g);j.hitTimeout&&(R=!0);for(const U of j.mappings)M.push(U)}P(l.length-x);const B=u(M,l,d);let H=[];return p.computeMoves&&(H=this.computeMoves(B,l,d,_,L,h,g)),(0,k.assertFn)(()=>{function K(j,U){if(j.lineNumber<1||j.lineNumber>U.length)return!1;const Y=U[j.lineNumber-1];return!(j.column<1||j.column>Y.length+1)}function V(j,U){return!(j.startLineNumber<1||j.startLineNumber>U.length+1||j.endLineNumberExclusive<1||j.endLineNumberExclusive>U.length+1)}for(const j of B){if(!j.innerChanges)return!1;for(const U of j.innerChanges)if(!(K(U.modifiedRange.getStartPosition(),d)&&K(U.modifiedRange.getEndPosition(),d)&&K(U.originalRange.getStartPosition(),l)&&K(U.originalRange.getEndPosition(),l)))return!1;if(!V(j.modified,d)||!V(j.original,l))return!1}return!0}),new i.LinesDiff(B,H,R)}computeMoves(l,d,p,h,g,C,S){return(0,v.computeMovedLines)(l,d,p,h,g,C).map(D=>{const T=this.refineDiff(d,p,new m.SequenceDiff(D.original.toOffsetRange(),D.modified.toOffsetRange()),C,S),N=u(T.mappings,d,p,!0);return new i.MovedText(D,N)})}refineDiff(l,d,p,h,g){const C=new t.LinesSliceCharSequence(l,p.seq1Range,g),S=new t.LinesSliceCharSequence(d,p.seq2Range,g),_=C.length+S.length<500?this.dynamicProgrammingDiffing.compute(C,S,h):this.myersDiffingAlgorithm.compute(C,S,h);let L=_.diffs;return L=(0,s.optimizeSequenceDiffs)(C,S,L),L=(0,s.extendDiffsToEntireWordIfAppropriate)(C,S,L),L=(0,s.removeShortMatches)(C,S,L),L=(0,s.removeVeryShortMatchingTextBetweenLongDiffs)(C,S,L),{mappings:L.map(T=>new n.RangeMapping(C.translateRange(T.seq1Range),S.translateRange(T.seq2Range))),hitTimeout:_.hitTimeout}}}e.DefaultLinesDiffComputer=c;function u(a,l,d,p=!1){const h=[];for(const g of(0,f.groupAdjacentBy)(a.map(C=>r(C,l,d)),(C,S)=>C.original.overlapOrTouch(S.original)||C.modified.overlapOrTouch(S.modified))){const C=g[0],S=g[g.length-1];h.push(new n.DetailedLineRangeMapping(C.original.join(S.original),C.modified.join(S.modified),g.map(_=>_.innerChanges[0])))}return(0,k.assertFn)(()=>!p&&h.length>0&&(h[0].modified.startLineNumber!==h[0].original.startLineNumber||d.length-h[h.length-1].modified.endLineNumberExclusive!==l.length-h[h.length-1].original.endLineNumberExclusive)?!1:(0,k.checkAdjacentItems)(h,(g,C)=>C.original.startLineNumber-g.original.endLineNumberExclusive===C.modified.startLineNumber-g.modified.endLineNumberExclusive&&g.original.endLineNumberExclusive<C.original.startLineNumber&&g.modified.endLineNumberExclusive<C.modified.startLineNumber)),h}function r(a,l,d){let p=0,h=0;a.modifiedRange.endColumn===1&&a.originalRange.endColumn===1&&a.originalRange.startLineNumber+p<=a.originalRange.endLineNumber&&a.modifiedRange.startLineNumber+p<=a.modifiedRange.endLineNumber&&(h=-1),a.modifiedRange.startColumn-1>=d[a.modifiedRange.startLineNumber-1].length&&a.originalRange.startColumn-1>=l[a.originalRange.startLineNumber-1].length&&a.originalRange.startLineNumber<=a.originalRange.endLineNumber+h&&a.modifiedRange.startLineNumber<=a.modifiedRange.endLineNumber+h&&(p=1);const g=new E.LineRange(a.originalRange.startLineNumber+p,a.originalRange.endLineNumber+1+h),C=new E.LineRange(a.modifiedRange.startLineNumber+p,a.modifiedRange.endLineNumber+1+h);return new n.DetailedLineRangeMapping(g,C,[a])}}),define(re[331],ae([1,0,189,243,104,11,5,89,56]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const b=3;class v{computeDiff(p,h,g){var C;const _=new u(p,h,{maxComputationTime:g.maxComputationTimeMs,shouldIgnoreTrimWhitespace:g.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),L=[];let D=null;for(const T of _.changes){let N;T.originalEndLineNumber===0?N=new w.LineRange(T.originalStartLineNumber+1,T.originalStartLineNumber+1):N=new w.LineRange(T.originalStartLineNumber,T.originalEndLineNumber+1);let A;T.modifiedEndLineNumber===0?A=new w.LineRange(T.modifiedStartLineNumber+1,T.modifiedStartLineNumber+1):A=new w.LineRange(T.modifiedStartLineNumber,T.modifiedEndLineNumber+1);let R=new E.DetailedLineRangeMapping(N,A,(C=T.charChanges)===null||C===void 0?void 0:C.map(M=>new E.RangeMapping(new y.Range(M.originalStartLineNumber,M.originalStartColumn,M.originalEndLineNumber,M.originalEndColumn),new y.Range(M.modifiedStartLineNumber,M.modifiedStartColumn,M.modifiedEndLineNumber,M.modifiedEndColumn))));D&&(D.modified.endLineNumberExclusive===R.modified.startLineNumber||D.original.endLineNumberExclusive===R.original.startLineNumber)&&(R=new E.DetailedLineRangeMapping(D.original.join(R.original),D.modified.join(R.modified),D.innerChanges&&R.innerChanges?D.innerChanges.concat(R.innerChanges):void 0),L.pop()),L.push(R),D=R}return(0,m.assertFn)(()=>(0,m.checkAdjacentItems)(L,(T,N)=>N.original.startLineNumber-T.original.endLineNumberExclusive===N.modified.startLineNumber-T.modified.endLineNumberExclusive&&T.original.endLineNumberExclusive<N.original.startLineNumber&&T.modified.endLineNumberExclusive<N.modified.startLineNumber)),new k.LinesDiff(L,[],_.quitEarly)}}e.LegacyLinesDiffComputer=v;function s(d,p,h,g){return new f.LcsDiff(d,p,h).ComputeDiff(g)}class o{constructor(p){const h=[],g=[];for(let C=0,S=p.length;C<S;C++)h[C]=r(p[C],1),g[C]=a(p[C],1);this.lines=p,this._startColumns=h,this._endColumns=g}getElements(){const p=[];for(let h=0,g=this.lines.length;h<g;h++)p[h]=this.lines[h].substring(this._startColumns[h]-1,this._endColumns[h]-1);return p}getStrictElement(p){return this.lines[p]}getStartLineNumber(p){return p+1}getEndLineNumber(p){return p+1}createCharSequence(p,h,g){const C=[],S=[],_=[];let L=0;for(let D=h;D<=g;D++){const T=this.lines[D],N=p?this._startColumns[D]:1,A=p?this._endColumns[D]:T.length+1;for(let R=N;R<A;R++)C[L]=T.charCodeAt(R-1),S[L]=D+1,_[L]=R,L++;!p&&D<g&&(C[L]=10,S[L]=D+1,_[L]=T.length+1,L++)}return new t(C,S,_)}}class t{constructor(p,h,g){this._charCodes=p,this._lineNumbers=h,this._columns=g}toString(){return"["+this._charCodes.map((p,h)=>(p===10?"\\n":String.fromCharCode(p))+`-(${this._lineNumbers[h]},${this._columns[h]})`).join(", ")+"]"}_assertIndex(p,h){if(p<0||p>=h.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(p){return p>0&&p===this._lineNumbers.length?this.getEndLineNumber(p-1):(this._assertIndex(p,this._lineNumbers),this._lineNumbers[p])}getEndLineNumber(p){return p===-1?this.getStartLineNumber(p+1):(this._assertIndex(p,this._lineNumbers),this._charCodes[p]===10?this._lineNumbers[p]+1:this._lineNumbers[p])}getStartColumn(p){return p>0&&p===this._columns.length?this.getEndColumn(p-1):(this._assertIndex(p,this._columns),this._columns[p])}getEndColumn(p){return p===-1?this.getStartColumn(p+1):(this._assertIndex(p,this._columns),this._charCodes[p]===10?1:this._columns[p]+1)}}class i{constructor(p,h,g,C,S,_,L,D){this.originalStartLineNumber=p,this.originalStartColumn=h,this.originalEndLineNumber=g,this.originalEndColumn=C,this.modifiedStartLineNumber=S,this.modifiedStartColumn=_,this.modifiedEndLineNumber=L,this.modifiedEndColumn=D}static createFromDiffChange(p,h,g){const C=h.getStartLineNumber(p.originalStart),S=h.getStartColumn(p.originalStart),_=h.getEndLineNumber(p.originalStart+p.originalLength-1),L=h.getEndColumn(p.originalStart+p.originalLength-1),D=g.getStartLineNumber(p.modifiedStart),T=g.getStartColumn(p.modifiedStart),N=g.getEndLineNumber(p.modifiedStart+p.modifiedLength-1),A=g.getEndColumn(p.modifiedStart+p.modifiedLength-1);return new i(C,S,_,L,D,T,N,A)}}function n(d){if(d.length<=1)return d;const p=[d[0]];let h=p[0];for(let g=1,C=d.length;g<C;g++){const S=d[g],_=S.originalStart-(h.originalStart+h.originalLength),L=S.modifiedStart-(h.modifiedStart+h.modifiedLength);Math.min(_,L)<b?(h.originalLength=S.originalStart+S.originalLength-h.originalStart,h.modifiedLength=S.modifiedStart+S.modifiedLength-h.modifiedStart):(p.push(S),h=S)}return p}class c{constructor(p,h,g,C,S){this.originalStartLineNumber=p,this.originalEndLineNumber=h,this.modifiedStartLineNumber=g,this.modifiedEndLineNumber=C,this.charChanges=S}static createFromDiffResult(p,h,g,C,S,_,L){let D,T,N,A,R;if(h.originalLength===0?(D=g.getStartLineNumber(h.originalStart)-1,T=0):(D=g.getStartLineNumber(h.originalStart),T=g.getEndLineNumber(h.originalStart+h.originalLength-1)),h.modifiedLength===0?(N=C.getStartLineNumber(h.modifiedStart)-1,A=0):(N=C.getStartLineNumber(h.modifiedStart),A=C.getEndLineNumber(h.modifiedStart+h.modifiedLength-1)),_&&h.originalLength>0&&h.originalLength<20&&h.modifiedLength>0&&h.modifiedLength<20&&S()){const M=g.createCharSequence(p,h.originalStart,h.originalStart+h.originalLength-1),P=C.createCharSequence(p,h.modifiedStart,h.modifiedStart+h.modifiedLength-1);if(M.getElements().length>0&&P.getElements().length>0){let x=s(M,P,S,!0).changes;L&&(x=n(x)),R=[];for(let O=0,B=x.length;O<B;O++)R.push(i.createFromDiffChange(x[O],M,P))}}return new c(D,T,N,A,R)}}class u{constructor(p,h,g){this.shouldComputeCharChanges=g.shouldComputeCharChanges,this.shouldPostProcessCharChanges=g.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=g.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=g.shouldMakePrettyDiff,this.originalLines=p,this.modifiedLines=h,this.original=new o(p),this.modified=new o(h),this.continueLineDiff=l(g.maxComputationTime),this.continueCharDiff=l(g.maxComputationTime===0?0:Math.min(g.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const p=s(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),h=p.changes,g=p.quitEarly;if(this.shouldIgnoreTrimWhitespace){const L=[];for(let D=0,T=h.length;D<T;D++)L.push(c.createFromDiffResult(this.shouldIgnoreTrimWhitespace,h[D],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:g,changes:L}}const C=[];let S=0,_=0;for(let L=-1,D=h.length;L<D;L++){const T=L+1<D?h[L+1]:null,N=T?T.originalStart:this.originalLines.length,A=T?T.modifiedStart:this.modifiedLines.length;for(;S<N&&_<A;){const R=this.originalLines[S],M=this.modifiedLines[_];if(R!==M){{let P=r(R,1),x=r(M,1);for(;P>1&&x>1;){const O=R.charCodeAt(P-2),B=M.charCodeAt(x-2);if(O!==B)break;P--,x--}(P>1||x>1)&&this._pushTrimWhitespaceCharChange(C,S+1,1,P,_+1,1,x)}{let P=a(R,1),x=a(M,1);const O=R.length+1,B=M.length+1;for(;P<O&&x<B;){const H=R.charCodeAt(P-1),K=R.charCodeAt(x-1);if(H!==K)break;P++,x++}(P<O||x<B)&&this._pushTrimWhitespaceCharChange(C,S+1,P,O,_+1,x,B)}}S++,_++}T&&(C.push(c.createFromDiffResult(this.shouldIgnoreTrimWhitespace,T,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),S+=T.originalLength,_+=T.modifiedLength)}return{quitEarly:g,changes:C}}_pushTrimWhitespaceCharChange(p,h,g,C,S,_,L){if(this._mergeTrimWhitespaceCharChange(p,h,g,C,S,_,L))return;let D;this.shouldComputeCharChanges&&(D=[new i(h,g,h,C,S,_,S,L)]),p.push(new c(h,h,S,S,D))}_mergeTrimWhitespaceCharChange(p,h,g,C,S,_,L){const D=p.length;if(D===0)return!1;const T=p[D-1];return T.originalEndLineNumber===0||T.modifiedEndLineNumber===0?!1:T.originalEndLineNumber===h&&T.modifiedEndLineNumber===S?(this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new i(h,g,h,C,S,_,S,L)),!0):T.originalEndLineNumber+1===h&&T.modifiedEndLineNumber+1===S?(T.originalEndLineNumber=h,T.modifiedEndLineNumber=S,this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new i(h,g,h,C,S,_,S,L)),!0):!1}}e.DiffComputer=u;function r(d,p){const h=I.firstNonWhitespaceIndex(d);return h===-1?p:h+1}function a(d,p){const h=I.lastNonWhitespaceIndex(d);return h===-1?p:h+2}function l(d){if(d===0)return()=>!0;const p=Date.now();return()=>Date.now()-p<d}}),define(re[572],ae([1,0,331,330]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new f.LegacyLinesDiffComputer,getDefault:()=>new k.DefaultLinesDiffComputer}}),define(re[332],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class f{constructor(E,I,y,m,w,b,v){this.id=E,this.label=I,this.alias=y,this.metadata=m,this._precondition=w,this._run=b,this._contextKeyService=v}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(E){return this.isSupported()?this._run(E):Promise.resolve(void 0)}}e.InternalEditorAction=f}),define(re[197],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(re[170],ae([1,0,197]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCodeEditor=k,e.isDiffEditor=E,e.isCompositeEditor=I,e.getCodeEditor=y;function k(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===f.EditorType.ICodeEditor:!1}function E(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===f.EditorType.IDiffEditor:!1}function I(m){return!!m&&typeof m=="object"&&typeof m.onDidChangeActiveEditor=="function"}function y(m){return k(m)?m:E(m)?m.getModifiedEditor():I(m)&&k(m.activeCodeEditor)?m.activeCodeEditor:null}}),define(re[144],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerEditorFeature=k,e.getEditorFeatures=E;const f=[];function k(I){f.push(I)}function E(){return f.slice(0)}}),define(re[573],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class f{get type(){return this._theme.type}get value(){return this._theme}constructor(E){this._theme=E}update(E){this._theme=E}getColor(E){return this._theme.getColor(E)}}e.EditorTheme=f}),define(re[145],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class f{static getLanguageId(E){return(E&255)>>>0}static getTokenType(E){return(E&768)>>>8}static containsBalancedBrackets(E){return(E&1024)!==0}static getFontStyle(E){return(E&30720)>>>11}static getForeground(E){return(E&16744448)>>>15}static getBackground(E){return(E&4278190080)>>>24}static getClassNameFromMetadata(E){let y="mtk"+this.getForeground(E);const m=this.getFontStyle(E);return m&1&&(y+=" mtki"),m&2&&(y+=" mtkb"),m&4&&(y+=" mtku"),m&8&&(y+=" mtks"),y}static getInlineStyleFromMetadata(E,I){const y=this.getForeground(E),m=this.getFontStyle(E);let w=`color: ${I[y]};`;m&1&&(w+="font-style: italic;"),m&2&&(w+="font-weight: bold;");let b="";return m&4&&(b+=" underline"),m&8&&(b+=" line-through"),b&&(w+=`text-decoration:${b};`),w}static getPresentationFromMetadata(E){const I=this.getForeground(E),y=this.getFontStyle(E);return{foreground:I,italic:!!(y&1),bold:!!(y&2),underline:!!(y&4),strikethrough:!!(y&8)}}}e.TokenMetadata=f}),define(re[333],ae([1,0,303,99]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=E;function E(I,y,m,w,b,v){if(Array.isArray(I)){let s=0;for(const o of I){const t=E(o,y,m,w,b,v);if(t===10)return t;t>s&&(s=t)}return s}else{if(typeof I=="string")return w?I==="*"?5:I===m?10:0:0;if(I){const{language:s,pattern:o,scheme:t,hasAccessToAllModels:i,notebookType:n}=I;if(!w&&!i)return 0;n&&b&&(y=b);let c=0;if(t)if(t===y.scheme)c=10;else if(t==="*")c=5;else return 0;if(s)if(s===m)c=10;else if(s==="*")c=Math.max(c,5);else return 0;if(n)if(n===v)c=10;else if(n==="*"&&v!==void 0)c=Math.max(c,5);else return 0;if(o){let u;if(typeof o=="string"?u=o:u={...o,base:(0,k.normalize)(o.base)},u===y.fsPath||(0,f.match)(u,y.fsPath))c=10;else return 0}return c}else return 0}}}),define(re[574],ae([1,0,33]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=s;function k(o){const t=[];for(const i of o){const n=Number(i);(n||n===0&&i.replace(/\s/g,"")!=="")&&t.push(n)}return t}function E(o,t,i,n){return{red:o/255,blue:i/255,green:t/255,alpha:n}}function I(o,t){const i=t.index,n=t[0].length;if(!i)return;const c=o.positionAt(i);return{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:c.lineNumber,endColumn:c.column+n}}function y(o,t){if(!o)return;const i=f.Color.Format.CSS.parseHex(t);if(i)return{range:o,color:E(i.rgba.r,i.rgba.g,i.rgba.b,i.rgba.a)}}function m(o,t,i){if(!o||t.length!==1)return;const c=t[0].values(),u=k(c);return{range:o,color:E(u[0],u[1],u[2],i?u[3]:1)}}function w(o,t,i){if(!o||t.length!==1)return;const c=t[0].values(),u=k(c),r=new f.Color(new f.HSLA(u[0],u[1]/100,u[2]/100,i?u[3]:1));return{range:o,color:E(r.rgba.r,r.rgba.g,r.rgba.b,r.rgba.a)}}function b(o,t){return typeof o=="string"?[...o.matchAll(t)]:o.findMatches(t)}function v(o){const t=[],n=b(o,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0)for(const c of n){const u=c.filter(d=>d!==void 0),r=u[1],a=u[2];if(!a)continue;let l;if(r==="rgb"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=m(I(o,c),b(a,d),!1)}else if(r==="rgba"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=m(I(o,c),b(a,d),!0)}else if(r==="hsl"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=w(I(o,c),b(a,d),!1)}else if(r==="hsla"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=w(I(o,c),b(a,d),!0)}else r==="#"&&(l=y(I(o,c),r+a));l&&t.push(l)}return t}function s(o){return!o||typeof o.getValue!="function"||typeof o.positionAt!="function"?[]:v(o)}}),define(re[128],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var f;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(f||(e.IndentAction=f={}));class k{constructor(m){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=m.open,this.close=m.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(m.notIn))for(let w=0,b=m.notIn.length;w<b;w++)switch(m.notIn[w]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(m){switch(m){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(m,w){if(m.getTokenCount()===0)return!0;const b=m.findTokenIndexAtOffset(w-2),v=m.getStandardTokenType(b);return this.isOK(v)}_findNeutralCharacterInRange(m,w){for(let b=m;b<=w;b++){const v=String.fromCharCode(b);if(!this.open.includes(v)&&!this.close.includes(v))return v}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class E{constructor(m){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const w of m)I(this.autoClosingPairsOpenByStart,w.open.charAt(0),w),I(this.autoClosingPairsOpenByEnd,w.open.charAt(w.open.length-1),w),I(this.autoClosingPairsCloseByStart,w.close.charAt(0),w),I(this.autoClosingPairsCloseByEnd,w.close.charAt(w.close.length-1),w),w.close.length===1&&w.open.length===1&&I(this.autoClosingPairsCloseSingleChar,w.close,w)}}e.AutoClosingPairs=E;function I(y,m,w){y.has(m)?y.get(m).push(w):y.set(m,[w])}}),define(re[575],ae([1,0,141]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComputer=e.StateMachine=void 0,e.computeLinks=v;class k{constructor(o,t,i){const n=new Uint8Array(o*t);for(let c=0,u=o*t;c<u;c++)n[c]=i;this._data=n,this.rows=o,this.cols=t}get(o,t){return this._data[o*this.cols+t]}set(o,t,i){this._data[o*this.cols+t]=i}}class E{constructor(o){let t=0,i=0;for(let c=0,u=o.length;c<u;c++){const[r,a,l]=o[c];a>t&&(t=a),r>i&&(i=r),l>i&&(i=l)}t++,i++;const n=new k(i,t,0);for(let c=0,u=o.length;c<u;c++){const[r,a,l]=o[c];n.set(r,a,l)}this._states=n,this._maxCharCode=t}nextState(o,t){return t<0||t>=this._maxCharCode?0:this._states.get(o,t)}}e.StateMachine=E;let I=null;function y(){return I===null&&(I=new E([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),I}let m=null;function w(){if(m===null){m=new f.CharacterClassifier(0);const s=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<s.length;t++)m.set(s.charCodeAt(t),1);const o=".,;:";for(let t=0;t<o.length;t++)m.set(o.charCodeAt(t),2)}return m}class b{static _createLink(o,t,i,n,c){let u=c-1;do{const r=t.charCodeAt(u);if(o.get(r)!==2)break;u--}while(u>n);if(n>0){const r=t.charCodeAt(n-1),a=t.charCodeAt(u);(r===40&&a===41||r===91&&a===93||r===123&&a===125)&&u--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:u+2},url:t.substring(n,u+1)}}static computeLinks(o,t=y()){const i=w(),n=[];for(let c=1,u=o.getLineCount();c<=u;c++){const r=o.getLineContent(c),a=r.length;let l=0,d=0,p=0,h=1,g=!1,C=!1,S=!1,_=!1;for(;l<a;){let L=!1;const D=r.charCodeAt(l);if(h===13){let T;switch(D){case 40:g=!0,T=0;break;case 41:T=g?0:1;break;case 91:S=!0,C=!0,T=0;break;case 93:S=!1,T=C?0:1;break;case 123:_=!0,T=0;break;case 125:T=_?0:1;break;case 39:case 34:case 96:p===D?T=1:p===39||p===34||p===96?T=0:T=1;break;case 42:T=p===42?1:0;break;case 124:T=p===124?1:0;break;case 32:T=S?0:1;break;default:T=i.get(D)}T===1&&(n.push(b._createLink(i,r,c,d,l)),L=!0)}else if(h===12){let T;D===91?(C=!0,T=0):T=i.get(D),T===1?L=!0:h=13}else h=t.nextState(h,D),h===0&&(L=!0);L&&(h=1,g=!1,C=!1,_=!1,d=l+1,p=D),l++}h===13&&n.push(b._createLink(i,r,c,d,a))}return n}}e.LinkComputer=b;function v(s){return!s||typeof s.getLineCount!="function"||typeof s.getLineContent!="function"?[]:b.computeLinks(s)}}),define(re[171],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLineTokens=void 0,e.createScopedLineTokens=f,e.ignoreBracketsInToken=E;function f(I,y){const m=I.getCount(),w=I.findTokenIndexAtOffset(y),b=I.getLanguageId(w);let v=w;for(;v+1<m&&I.getLanguageId(v+1)===b;)v++;let s=w;for(;s>0&&I.getLanguageId(s-1)===b;)s--;return new k(I,b,s,v+1,I.getStartOffset(s),I.getEndOffset(v))}class k{constructor(y,m,w,b,v,s){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=m,this._firstTokenIndex=w,this._lastTokenIndex=b,this.firstCharOffset=v,this._lastCharOffset=s,this.languageIdCodec=y.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}e.ScopedLineTokens=k;function E(I){return(I&3)!==0}}),define(re[76],ae([1,0,9,5,23,171,93,240]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0,e.isQuote=u;const w=()=>!0,b=()=>!1,v=r=>r===" "||r==="	";class s{static shouldRecreate(a){return a.hasChanged(146)||a.hasChanged(132)||a.hasChanged(37)||a.hasChanged(77)||a.hasChanged(79)||a.hasChanged(80)||a.hasChanged(6)||a.hasChanged(7)||a.hasChanged(11)||a.hasChanged(9)||a.hasChanged(10)||a.hasChanged(14)||a.hasChanged(129)||a.hasChanged(50)||a.hasChanged(92)||a.hasChanged(131)}constructor(a,l,d,p){var h;this.languageConfigurationService=p,this._cursorMoveConfigurationBrand=void 0,this._languageId=a;const g=d.options,C=g.get(146),S=g.get(50);this.readOnly=g.get(92),this.tabSize=l.tabSize,this.indentSize=l.indentSize,this.insertSpaces=l.insertSpaces,this.stickyTabStops=g.get(117),this.lineHeight=S.lineHeight,this.typicalHalfwidthCharacterWidth=S.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(C.height/this.lineHeight)-2),this.useTabStops=g.get(129),this.wordSeparators=g.get(132),this.emptySelectionClipboard=g.get(37),this.copyWithSyntaxHighlighting=g.get(25),this.multiCursorMergeOverlapping=g.get(77),this.multiCursorPaste=g.get(79),this.multiCursorLimit=g.get(80),this.autoClosingBrackets=g.get(6),this.autoClosingComments=g.get(7),this.autoClosingQuotes=g.get(11),this.autoClosingDelete=g.get(9),this.autoClosingOvertype=g.get(10),this.autoSurround=g.get(14),this.autoIndent=g.get(12),this.wordSegmenterLocales=g.get(131),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(a,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(a,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(a,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(a).getAutoClosingPairs();const _=this.languageConfigurationService.getLanguageConfiguration(a).getSurroundingPairs();if(_)for(const D of _)this.surroundingPairs[D.open]=D.close;const L=this.languageConfigurationService.getLanguageConfiguration(a).comments;this.blockCommentStartToken=(h=L?.blockCommentStartToken)!==null&&h!==void 0?h:null}get electricChars(){var a;if(!this._electricChars){this._electricChars={};const l=(a=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||a===void 0?void 0:a.getElectricCharacters();if(l)for(const d of l)this._electricChars[d]=!0}return this._electricChars}onElectricCharacter(a,l,d){const p=(0,I.createScopedLineTokens)(l,d-1),h=this.languageConfigurationService.getLanguageConfiguration(p.languageId).electricCharacter;return h?h.onElectricCharacter(a,p,d-p.firstCharOffset):null}normalizeIndentation(a){return(0,m.normalizeIndentation)(a,this.indentSize,this.insertSpaces)}_getShouldAutoClose(a,l,d){switch(l){case"beforeWhitespace":return v;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(a,d);case"always":return w;case"never":return b}}_getLanguageDefinedShouldAutoClose(a,l){const d=this.languageConfigurationService.getLanguageConfiguration(a).getAutoCloseBeforeSet(l);return p=>d.indexOf(p)!==-1}visibleColumnFromColumn(a,l){return y.CursorColumns.visibleColumnFromColumn(a.getLineContent(l.lineNumber),l.column,this.tabSize)}columnFromVisibleColumn(a,l,d){const p=y.CursorColumns.columnFromVisibleColumn(a.getLineContent(l),d,this.tabSize),h=a.getLineMinColumn(l);if(p<h)return h;const g=a.getLineMaxColumn(l);return p>g?g:p}}e.CursorConfiguration=s;class o{static fromModelState(a){return new t(a)}static fromViewState(a){return new i(a)}static fromModelSelection(a){const l=E.Selection.liftSelection(a),d=new n(k.Range.fromPositions(l.getSelectionStart()),0,0,l.getPosition(),0);return o.fromModelState(d)}static fromModelSelections(a){const l=[];for(let d=0,p=a.length;d<p;d++)l[d]=this.fromModelSelection(a[d]);return l}constructor(a,l){this._cursorStateBrand=void 0,this.modelState=a,this.viewState=l}equals(a){return this.viewState.equals(a.viewState)&&this.modelState.equals(a.modelState)}}e.CursorState=o;class t{constructor(a){this.modelState=a,this.viewState=null}}e.PartialModelCursorState=t;class i{constructor(a){this.modelState=null,this.viewState=a}}e.PartialViewCursorState=i;class n{constructor(a,l,d,p,h){this.selectionStart=a,this.selectionStartKind=l,this.selectionStartLeftoverVisibleColumns=d,this.position=p,this.leftoverVisibleColumns=h,this._singleCursorStateBrand=void 0,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(a){return this.selectionStartLeftoverVisibleColumns===a.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===a.leftoverVisibleColumns&&this.selectionStartKind===a.selectionStartKind&&this.position.equals(a.position)&&this.selectionStart.equalsRange(a.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(a,l,d,p){return a?new n(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new f.Position(l,d),p):new n(new k.Range(l,d,l,d),0,p,new f.Position(l,d),p)}static _computeSelection(a,l){return a.isEmpty()||!l.isBeforeOrEqual(a.getStartPosition())?E.Selection.fromPositions(a.getStartPosition(),l):E.Selection.fromPositions(a.getEndPosition(),l)}}e.SingleCursorState=n;class c{constructor(a,l,d){this._editOperationResultBrand=void 0,this.type=a,this.commands=l,this.shouldPushStackElementBefore=d.shouldPushStackElementBefore,this.shouldPushStackElementAfter=d.shouldPushStackElementAfter}}e.EditOperationResult=c;function u(r){return r==="'"||r==='"'||r==="`"}}),define(re[576],ae([1,0,76,9,5]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class I{static columnSelect(m,w,b,v,s,o){const t=Math.abs(s-b)+1,i=b>s,n=v>o,c=v<o,u=[];for(let r=0;r<t;r++){const a=b+(i?-r:r),l=m.columnFromVisibleColumn(w,a,v),d=m.columnFromVisibleColumn(w,a,o),p=m.visibleColumnFromColumn(w,new k.Position(a,l)),h=m.visibleColumnFromColumn(w,new k.Position(a,d));c&&(p>o||h<v)||n&&(h>v||p<o)||u.push(new f.SingleCursorState(new E.Range(a,l,a,l),0,0,new k.Position(a,d),0))}if(u.length===0)for(let r=0;r<t;r++){const a=b+(i?-r:r),l=w.getLineMaxColumn(a);u.push(new f.SingleCursorState(new E.Range(a,l,a,l),0,0,new k.Position(a,l),0))}return{viewStates:u,reversed:i,fromLineNumber:b,fromVisualColumn:v,toLineNumber:s,toVisualColumn:o}}static columnSelectLeft(m,w,b){let v=b.toViewVisualColumn;return v>0&&v--,I.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,b.toViewLineNumber,v)}static columnSelectRight(m,w,b){let v=0;const s=Math.min(b.fromViewLineNumber,b.toViewLineNumber),o=Math.max(b.fromViewLineNumber,b.toViewLineNumber);for(let i=s;i<=o;i++){const n=w.getLineMaxColumn(i),c=m.visibleColumnFromColumn(w,new k.Position(i,n));v=Math.max(v,c)}let t=b.toViewVisualColumn;return t<v&&t++,this.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,b.toViewLineNumber,t)}static columnSelectUp(m,w,b,v){const s=v?m.pageSize:1,o=Math.max(1,b.toViewLineNumber-s);return this.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,o,b.toViewVisualColumn)}static columnSelectDown(m,w,b,v){const s=v?m.pageSize:1,o=Math.min(w.getLineCount(),b.toViewLineNumber+s);return this.columnSelect(m,w,b.fromViewLineNumber,b.fromViewVisualColumn,o,b.toViewVisualColumn)}}e.ColumnSelection=I}),define(re[244],ae([1,0,11,93,9,5,326,76]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class w{constructor(s,o,t){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=o,this.leftoverVisibleColumns=t}}e.CursorPosition=w;class b{static leftPosition(s,o){if(o.column>s.getLineMinColumn(o.lineNumber))return o.delta(void 0,-f.prevCharLength(s.getLineContent(o.lineNumber),o.column-1));if(o.lineNumber>1){const t=o.lineNumber-1;return new E.Position(t,s.getLineMaxColumn(t))}else return o}static leftPositionAtomicSoftTabs(s,o,t){if(o.column<=s.getLineIndentColumn(o.lineNumber)){const i=s.getLineMinColumn(o.lineNumber),n=s.getLineContent(o.lineNumber),c=y.AtomicTabMoveOperations.atomicPosition(n,o.column-1,t,0);if(c!==-1&&c+1>=i)return new E.Position(o.lineNumber,c+1)}return this.leftPosition(s,o)}static left(s,o,t){const i=s.stickyTabStops?b.leftPositionAtomicSoftTabs(o,t,s.tabSize):b.leftPosition(o,t);return new w(i.lineNumber,i.column,0)}static moveLeft(s,o,t,i,n){let c,u;if(t.hasSelection()&&!i)c=t.selection.startLineNumber,u=t.selection.startColumn;else{const r=t.position.delta(void 0,-(n-1)),a=o.normalizePosition(b.clipPositionColumn(r,o),0),l=b.left(s,o,a);c=l.lineNumber,u=l.column}return t.move(i,c,u,0)}static clipPositionColumn(s,o){return new E.Position(s.lineNumber,b.clipRange(s.column,o.getLineMinColumn(s.lineNumber),o.getLineMaxColumn(s.lineNumber)))}static clipRange(s,o,t){return s<o?o:s>t?t:s}static rightPosition(s,o,t){return t<s.getLineMaxColumn(o)?t=t+f.nextCharLength(s.getLineContent(o),t-1):o<s.getLineCount()&&(o=o+1,t=s.getLineMinColumn(o)),new E.Position(o,t)}static rightPositionAtomicSoftTabs(s,o,t,i,n){if(t<s.getLineIndentColumn(o)){const c=s.getLineContent(o),u=y.AtomicTabMoveOperations.atomicPosition(c,t-1,i,1);if(u!==-1)return new E.Position(o,u+1)}return this.rightPosition(s,o,t)}static right(s,o,t){const i=s.stickyTabStops?b.rightPositionAtomicSoftTabs(o,t.lineNumber,t.column,s.tabSize,s.indentSize):b.rightPosition(o,t.lineNumber,t.column);return new w(i.lineNumber,i.column,0)}static moveRight(s,o,t,i,n){let c,u;if(t.hasSelection()&&!i)c=t.selection.endLineNumber,u=t.selection.endColumn;else{const r=t.position.delta(void 0,n-1),a=o.normalizePosition(b.clipPositionColumn(r,o),1),l=b.right(s,o,a);c=l.lineNumber,u=l.column}return t.move(i,c,u,0)}static vertical(s,o,t,i,n,c,u,r){const a=k.CursorColumns.visibleColumnFromColumn(o.getLineContent(t),i,s.tabSize)+n,l=o.getLineCount(),d=t===1&&i===1,p=t===l&&i===o.getLineMaxColumn(t),h=c<t?d:p;if(t=c,t<1?(t=1,u?i=o.getLineMinColumn(t):i=Math.min(o.getLineMaxColumn(t),i)):t>l?(t=l,u?i=o.getLineMaxColumn(t):i=Math.min(o.getLineMaxColumn(t),i)):i=s.columnFromVisibleColumn(o,t,a),h?n=0:n=a-k.CursorColumns.visibleColumnFromColumn(o.getLineContent(t),i,s.tabSize),r!==void 0){const g=new E.Position(t,i),C=o.normalizePosition(g,r);n=n+(i-C.column),t=C.lineNumber,i=C.column}return new w(t,i,n)}static down(s,o,t,i,n,c,u){return this.vertical(s,o,t,i,n,t+c,u,4)}static moveDown(s,o,t,i,n){let c,u;t.hasSelection()&&!i?(c=t.selection.endLineNumber,u=t.selection.endColumn):(c=t.position.lineNumber,u=t.position.column);let r=0,a;do if(a=b.down(s,o,c+r,u,t.leftoverVisibleColumns,n,!0),o.normalizePosition(new E.Position(a.lineNumber,a.column),2).lineNumber>c)break;while(r++<10&&c+r<o.getLineCount());return t.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(s,o,t){const i=t.selection,n=b.down(s,o,i.selectionStartLineNumber,i.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),c=b.down(s,o,i.positionLineNumber,i.positionColumn,t.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new I.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new E.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static up(s,o,t,i,n,c,u){return this.vertical(s,o,t,i,n,t-c,u,3)}static moveUp(s,o,t,i,n){let c,u;t.hasSelection()&&!i?(c=t.selection.startLineNumber,u=t.selection.startColumn):(c=t.position.lineNumber,u=t.position.column);const r=b.up(s,o,c,u,t.leftoverVisibleColumns,n,!0);return t.move(i,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateUp(s,o,t){const i=t.selection,n=b.up(s,o,i.selectionStartLineNumber,i.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),c=b.up(s,o,i.positionLineNumber,i.positionColumn,t.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new I.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new E.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static _isBlankLine(s,o){return s.getLineFirstNonWhitespaceColumn(o)===0}static moveToPrevBlankLine(s,o,t,i){let n=t.position.lineNumber;for(;n>1&&this._isBlankLine(o,n);)n--;for(;n>1&&!this._isBlankLine(o,n);)n--;return t.move(i,n,o.getLineMinColumn(n),0)}static moveToNextBlankLine(s,o,t,i){const n=o.getLineCount();let c=t.position.lineNumber;for(;c<n&&this._isBlankLine(o,c);)c++;for(;c<n&&!this._isBlankLine(o,c);)c++;return t.move(i,c,o.getLineMinColumn(c),0)}static moveToBeginningOfLine(s,o,t,i){const n=t.position.lineNumber,c=o.getLineMinColumn(n),u=o.getLineFirstNonWhitespaceColumn(n)||c;let r;return t.position.column===u?r=c:r=u,t.move(i,n,r,0)}static moveToEndOfLine(s,o,t,i,n){const c=t.position.lineNumber,u=o.getLineMaxColumn(c);return t.move(i,c,u,n?1073741824-u:0)}static moveToBeginningOfBuffer(s,o,t,i){return t.move(i,1,1,0)}static moveToEndOfBuffer(s,o,t,i){const n=o.getLineCount(),c=o.getLineMaxColumn(n);return t.move(i,n,c,0)}}e.MoveOperations=b}),define(re[245],ae([1,0,11,143,76,93,244,5,9]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class b{static deleteRight(s,o,t,i){const n=[];let c=s!==3;for(let u=0,r=i.length;u<r;u++){const a=i[u];let l=a;if(l.isEmpty()){const d=a.getPosition(),p=y.MoveOperations.right(o,t,d);l=new m.Range(p.lineNumber,p.column,d.lineNumber,d.column)}if(l.isEmpty()){n[u]=null;continue}l.startLineNumber!==l.endLineNumber&&(c=!0),n[u]=new k.ReplaceCommand(l,"")}return[c,n]}static isAutoClosingPairDelete(s,o,t,i,n,c,u){if(o==="never"&&t==="never"||s==="never")return!1;for(let r=0,a=c.length;r<a;r++){const l=c[r],d=l.getPosition();if(!l.isEmpty())return!1;const p=n.getLineContent(d.lineNumber);if(d.column<2||d.column>=p.length+1)return!1;const h=p.charAt(d.column-2),g=i.get(h);if(!g)return!1;if((0,E.isQuote)(h)){if(t==="never")return!1}else if(o==="never")return!1;const C=p.charAt(d.column-1);let S=!1;for(const _ of g)_.open===h&&_.close===C&&(S=!0);if(!S)return!1;if(s==="auto"){let _=!1;for(let L=0,D=u.length;L<D;L++){const T=u[L];if(d.lineNumber===T.startLineNumber&&d.column===T.startColumn){_=!0;break}}if(!_)return!1}}return!0}static _runAutoClosingPairDelete(s,o,t){const i=[];for(let n=0,c=t.length;n<c;n++){const u=t[n].getPosition(),r=new m.Range(u.lineNumber,u.column-1,u.lineNumber,u.column+1);i[n]=new k.ReplaceCommand(r,"")}return[!0,i]}static deleteLeft(s,o,t,i,n){if(this.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,t,i,n))return this._runAutoClosingPairDelete(o,t,i);const c=[];let u=s!==2;for(let r=0,a=i.length;r<a;r++){const l=b.getDeleteRange(i[r],t,o);if(l.isEmpty()){c[r]=null;continue}l.startLineNumber!==l.endLineNumber&&(u=!0),c[r]=new k.ReplaceCommand(l,"")}return[u,c]}static getDeleteRange(s,o,t){if(!s.isEmpty())return s;const i=s.getPosition();if(t.useTabStops&&i.column>1){const n=o.getLineContent(i.lineNumber),c=f.firstNonWhitespaceIndex(n),u=c===-1?n.length+1:c+1;if(i.column<=u){const r=t.visibleColumnFromColumn(o,i),a=I.CursorColumns.prevIndentTabStop(r,t.indentSize),l=t.columnFromVisibleColumn(o,i.lineNumber,a);return new m.Range(i.lineNumber,l,i.lineNumber,i.column)}}return m.Range.fromPositions(b.getPositionAfterDeleteLeft(i,o),i)}static getPositionAfterDeleteLeft(s,o){if(s.column>1){const t=f.getLeftDeleteOffset(s.column-1,o.getLineContent(s.lineNumber));return s.with(void 0,t+1)}else if(s.lineNumber>1){const t=s.lineNumber-1;return new w.Position(t,o.getLineMaxColumn(t))}else return s}static cut(s,o,t){const i=[];let n=null;t.sort((c,u)=>w.Position.compare(c.getStartPosition(),u.getEndPosition()));for(let c=0,u=t.length;c<u;c++){const r=t[c];if(r.isEmpty())if(s.emptySelectionClipboard){const a=r.getPosition();let l,d,p,h;a.lineNumber<o.getLineCount()?(l=a.lineNumber,d=1,p=a.lineNumber+1,h=1):a.lineNumber>1&&n?.endLineNumber!==a.lineNumber?(l=a.lineNumber-1,d=o.getLineMaxColumn(a.lineNumber-1),p=a.lineNumber,h=o.getLineMaxColumn(a.lineNumber)):(l=a.lineNumber,d=1,p=a.lineNumber,h=o.getLineMaxColumn(a.lineNumber));const g=new m.Range(l,d,p,h);n=g,g.isEmpty()?i[c]=null:i[c]=new k.ReplaceCommand(g,"")}else i[c]=null;else i[c]=new k.ReplaceCommand(r,"")}return new E.EditOperationResult(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=b}),define(re[198],ae([1,0,11,76,245,167,9,5]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class w{static _createWord(o,t,i,n,c){return{start:n,end:c,wordType:t,nextCharClass:i}}static _createIntlWord(o,t){return{start:o.index,end:o.index+o.segment.length,wordType:1,nextCharClass:t}}static _findPreviousWordOnLine(o,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,o,i)}static _doFindPreviousWordOnLine(o,t,i){let n=0;const c=t.findPrevIntlWordBeforeOrAtOffset(o,i.column-2);for(let u=i.column-2;u>=0;u--){const r=o.charCodeAt(u),a=t.get(r);if(c&&u===c.index)return this._createIntlWord(c,a);if(a===0){if(n===2)return this._createWord(o,n,a,u+1,this._findEndOfWord(o,t,n,u+1));n=1}else if(a===2){if(n===1)return this._createWord(o,n,a,u+1,this._findEndOfWord(o,t,n,u+1));n=2}else if(a===1&&n!==0)return this._createWord(o,n,a,u+1,this._findEndOfWord(o,t,n,u+1))}return n!==0?this._createWord(o,n,1,0,this._findEndOfWord(o,t,n,0)):null}static _findEndOfWord(o,t,i,n){const c=t.findNextIntlWordAtOrAfterOffset(o,n),u=o.length;for(let r=n;r<u;r++){const a=o.charCodeAt(r),l=t.get(a);if(c&&r===c.index+c.segment.length||l===1||i===1&&l===2||i===2&&l===0)return r}return u}static _findNextWordOnLine(o,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,o,i)}static _doFindNextWordOnLine(o,t,i){let n=0;const c=o.length,u=t.findNextIntlWordAtOrAfterOffset(o,i.column-1);for(let r=i.column-1;r<c;r++){const a=o.charCodeAt(r),l=t.get(a);if(u&&r===u.index)return this._createIntlWord(u,l);if(l===0){if(n===2)return this._createWord(o,n,l,this._findStartOfWord(o,t,n,r-1),r);n=1}else if(l===2){if(n===1)return this._createWord(o,n,l,this._findStartOfWord(o,t,n,r-1),r);n=2}else if(l===1&&n!==0)return this._createWord(o,n,l,this._findStartOfWord(o,t,n,r-1),r)}return n!==0?this._createWord(o,n,1,this._findStartOfWord(o,t,n,c-1),c):null}static _findStartOfWord(o,t,i,n){const c=t.findPrevIntlWordBeforeOrAtOffset(o,n);for(let u=n;u>=0;u--){const r=o.charCodeAt(u),a=t.get(r);if(c&&u===c.index)return u;if(a===1||i===1&&a===2||i===2&&a===0)return u+1}return 0}static moveWordLeft(o,t,i,n,c){let u=i.lineNumber,r=i.column;r===1&&u>1&&(u=u-1,r=t.getLineMaxColumn(u));let a=w._findPreviousWordOnLine(o,t,new y.Position(u,r));if(n===0)return new y.Position(u,a?a.start+1:1);if(n===1)return!c&&a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=w._findPreviousWordOnLine(o,t,new y.Position(u,a.start+1))),new y.Position(u,a?a.start+1:1);if(n===3){for(;a&&a.wordType===2;)a=w._findPreviousWordOnLine(o,t,new y.Position(u,a.start+1));return new y.Position(u,a?a.start+1:1)}return a&&r<=a.end+1&&(a=w._findPreviousWordOnLine(o,t,new y.Position(u,a.start+1))),new y.Position(u,a?a.end+1:1)}static _moveWordPartLeft(o,t){const i=t.lineNumber,n=o.getLineMaxColumn(i);if(t.column===1)return i>1?new y.Position(i-1,o.getLineMaxColumn(i-1)):t;const c=o.getLineContent(i);for(let u=t.column-1;u>1;u--){const r=c.charCodeAt(u-2),a=c.charCodeAt(u-1);if(r===95&&a!==95)return new y.Position(i,u);if(r===45&&a!==45)return new y.Position(i,u);if((f.isLowerAsciiLetter(r)||f.isAsciiDigit(r))&&f.isUpperAsciiLetter(a))return new y.Position(i,u);if(f.isUpperAsciiLetter(r)&&f.isUpperAsciiLetter(a)&&u+1<n){const l=c.charCodeAt(u);if(f.isLowerAsciiLetter(l)||f.isAsciiDigit(l))return new y.Position(i,u)}}return new y.Position(i,1)}static moveWordRight(o,t,i,n){let c=i.lineNumber,u=i.column,r=!1;u===t.getLineMaxColumn(c)&&c<t.getLineCount()&&(r=!0,c=c+1,u=1);let a=w._findNextWordOnLine(o,t,new y.Position(c,u));if(n===2)a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=w._findNextWordOnLine(o,t,new y.Position(c,a.end+1))),a?u=a.end+1:u=t.getLineMaxColumn(c);else if(n===3){for(r&&(u=0);a&&(a.wordType===2||a.start+1<=u);)a=w._findNextWordOnLine(o,t,new y.Position(c,a.end+1));a?u=a.start+1:u=t.getLineMaxColumn(c)}else a&&!r&&u>=a.start+1&&(a=w._findNextWordOnLine(o,t,new y.Position(c,a.end+1))),a?u=a.start+1:u=t.getLineMaxColumn(c);return new y.Position(c,u)}static _moveWordPartRight(o,t){const i=t.lineNumber,n=o.getLineMaxColumn(i);if(t.column===n)return i<o.getLineCount()?new y.Position(i+1,1):t;const c=o.getLineContent(i);for(let u=t.column+1;u<n;u++){const r=c.charCodeAt(u-2),a=c.charCodeAt(u-1);if(r!==95&&a===95)return new y.Position(i,u);if(r!==45&&a===45)return new y.Position(i,u);if((f.isLowerAsciiLetter(r)||f.isAsciiDigit(r))&&f.isUpperAsciiLetter(a))return new y.Position(i,u);if(f.isUpperAsciiLetter(r)&&f.isUpperAsciiLetter(a)&&u+1<n){const l=c.charCodeAt(u);if(f.isLowerAsciiLetter(l)||f.isAsciiDigit(l))return new y.Position(i,u)}}return new y.Position(i,n)}static _deleteWordLeftWhitespace(o,t){const i=o.getLineContent(t.lineNumber),n=t.column-2,c=f.lastNonWhitespaceIndex(i,n);return c+1<n?new m.Range(t.lineNumber,c+2,t.lineNumber,t.column):null}static deleteWordLeft(o,t){const i=o.wordSeparators,n=o.model,c=o.selection,u=o.whitespaceHeuristics;if(!c.isEmpty())return c;if(E.DeleteOperations.isAutoClosingPairDelete(o.autoClosingDelete,o.autoClosingBrackets,o.autoClosingQuotes,o.autoClosingPairs.autoClosingPairsOpenByEnd,o.model,[o.selection],o.autoClosedCharacters)){const p=o.selection.getPosition();return new m.Range(p.lineNumber,p.column-1,p.lineNumber,p.column+1)}const r=new y.Position(c.positionLineNumber,c.positionColumn);let a=r.lineNumber,l=r.column;if(a===1&&l===1)return null;if(u){const p=this._deleteWordLeftWhitespace(n,r);if(p)return p}let d=w._findPreviousWordOnLine(i,n,r);return t===0?d?l=d.start+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a)):(d&&l<=d.end+1&&(d=w._findPreviousWordOnLine(i,n,new y.Position(a,d.start+1))),d?l=d.end+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a))),new m.Range(a,l,r.lineNumber,r.column)}static deleteInsideWord(o,t,i){if(!i.isEmpty())return i;const n=new y.Position(i.positionLineNumber,i.positionColumn),c=this._deleteInsideWordWhitespace(t,n);return c||this._deleteInsideWordDetermineDeleteRange(o,t,n)}static _charAtIsWhitespace(o,t){const i=o.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(o,t){const i=o.getLineContent(t.lineNumber),n=i.length;if(n===0)return null;let c=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,c))return null;let u=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,u))return null;for(;c>0&&this._charAtIsWhitespace(i,c-1);)c--;for(;u+1<n&&this._charAtIsWhitespace(i,u+1);)u++;return new m.Range(t.lineNumber,c+1,t.lineNumber,u+2)}static _deleteInsideWordDetermineDeleteRange(o,t,i){const n=t.getLineContent(i.lineNumber),c=n.length;if(c===0)return i.lineNumber>1?new m.Range(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new m.Range(i.lineNumber,1,i.lineNumber+1,1):new m.Range(i.lineNumber,1,i.lineNumber,1);const u=p=>p.start+1<=i.column&&i.column<=p.end+1,r=(p,h)=>(p=Math.min(p,i.column),h=Math.max(h,i.column),new m.Range(i.lineNumber,p,i.lineNumber,h)),a=p=>{let h=p.start+1,g=p.end+1,C=!1;for(;g-1<c&&this._charAtIsWhitespace(n,g-1);)C=!0,g++;if(!C)for(;h>1&&this._charAtIsWhitespace(n,h-2);)h--;return r(h,g)},l=w._findPreviousWordOnLine(o,t,i);if(l&&u(l))return a(l);const d=w._findNextWordOnLine(o,t,i);return d&&u(d)?a(d):l&&d?r(l.end+1,d.start+1):l?r(l.start+1,l.end+1):d?r(d.start+1,d.end+1):r(1,c+1)}static _deleteWordPartLeft(o,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=w._moveWordPartLeft(o,i);return new m.Range(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(o,t){const i=o.length;for(let n=t;n<i;n++){const c=o.charAt(n);if(c!==" "&&c!=="	")return n}return i}static _deleteWordRightWhitespace(o,t){const i=o.getLineContent(t.lineNumber),n=t.column-1,c=this._findFirstNonWhitespaceChar(i,n);return n+1<c?new m.Range(t.lineNumber,t.column,t.lineNumber,c+1):null}static deleteWordRight(o,t){const i=o.wordSeparators,n=o.model,c=o.selection,u=o.whitespaceHeuristics;if(!c.isEmpty())return c;const r=new y.Position(c.positionLineNumber,c.positionColumn);let a=r.lineNumber,l=r.column;const d=n.getLineCount(),p=n.getLineMaxColumn(a);if(a===d&&l===p)return null;if(u){const g=this._deleteWordRightWhitespace(n,r);if(g)return g}let h=w._findNextWordOnLine(i,n,r);return t===2?h?l=h.end+1:l<p||a===d?l=p:(a++,h=w._findNextWordOnLine(i,n,new y.Position(a,1)),h?l=h.start+1:l=n.getLineMaxColumn(a)):(h&&l>=h.start+1&&(h=w._findNextWordOnLine(i,n,new y.Position(a,h.end+1))),h?l=h.start+1:l<p||a===d?l=p:(a++,h=w._findNextWordOnLine(i,n,new y.Position(a,1)),h?l=h.start+1:l=n.getLineMaxColumn(a))),new m.Range(a,l,r.lineNumber,r.column)}static _deleteWordPartRight(o,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=w._moveWordPartRight(o,i);return new m.Range(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(o,t,i){const n=new m.Range(t,i.start+1,t,i.end+1);return{word:o.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(o,t,i,n){const c=(0,I.getMapForWordSeparators)(t,i),u=w._findPreviousWordOnLine(c,o,n);if(u&&u.wordType===1&&u.start<=n.column-1&&n.column-1<=u.end)return w._createWordAtPosition(o,n.lineNumber,u);const r=w._findNextWordOnLine(c,o,n);return r&&r.wordType===1&&r.start<=n.column-1&&n.column-1<=r.end?w._createWordAtPosition(o,n.lineNumber,r):null}static word(o,t,i,n,c){const u=(0,I.getMapForWordSeparators)(o.wordSeparators,o.wordSegmenterLocales),r=w._findPreviousWordOnLine(u,t,c),a=w._findNextWordOnLine(u,t,c);if(!n){let g,C;return r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end?(g=r.start+1,C=r.end+1):a&&a.wordType===1&&a.start<=c.column-1&&c.column-1<=a.end?(g=a.start+1,C=a.end+1):(r?g=r.end+1:g=1,a?C=a.start+1:C=t.getLineMaxColumn(c.lineNumber)),new k.SingleCursorState(new m.Range(c.lineNumber,g,c.lineNumber,C),1,0,new y.Position(c.lineNumber,C),0)}let l,d;r&&r.wordType===1&&r.start<c.column-1&&c.column-1<r.end?(l=r.start+1,d=r.end+1):a&&a.wordType===1&&a.start<c.column-1&&c.column-1<a.end?(l=a.start+1,d=a.end+1):(l=c.column,d=c.column);const p=c.lineNumber;let h;if(i.selectionStart.containsPosition(c))h=i.selectionStart.endColumn;else if(c.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=l;const g=new y.Position(p,h);i.selectionStart.containsPosition(g)&&(h=i.selectionStart.endColumn)}else{h=d;const g=new y.Position(p,h);i.selectionStart.containsPosition(g)&&(h=i.selectionStart.startColumn)}return i.move(!0,p,h,0)}}e.WordOperations=w;class b extends w{static deleteWordPartLeft(o){const t=v([w.deleteWordLeft(o,0),w.deleteWordLeft(o,2),w._deleteWordPartLeft(o.model,o.selection)]);return t.sort(m.Range.compareRangesUsingEnds),t[2]}static deleteWordPartRight(o){const t=v([w.deleteWordRight(o,0),w.deleteWordRight(o,2),w._deleteWordPartRight(o.model,o.selection)]);return t.sort(m.Range.compareRangesUsingStarts),t[0]}static moveWordPartLeft(o,t,i,n){const c=v([w.moveWordLeft(o,t,i,0,n),w.moveWordLeft(o,t,i,2,n),w._moveWordPartLeft(t,i)]);return c.sort(y.Position.compare),c[2]}static moveWordPartRight(o,t,i){const n=v([w.moveWordRight(o,t,i,0),w.moveWordRight(o,t,i,2),w._moveWordPartRight(t,i)]);return n.sort(y.Position.compare),n[0]}}e.WordPartOperations=b;function v(s){return s.filter(o=>!!o)}}),define(re[246],ae([1,0,19,76,244,198,9,5]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class w{static addCursorDown(s,o,t){const i=[];let n=0;for(let c=0,u=o.length;c<u;c++){const r=o[c];i[n++]=new k.CursorState(r.modelState,r.viewState),t?i[n++]=k.CursorState.fromModelState(E.MoveOperations.translateDown(s.cursorConfig,s.model,r.modelState)):i[n++]=k.CursorState.fromViewState(E.MoveOperations.translateDown(s.cursorConfig,s,r.viewState))}return i}static addCursorUp(s,o,t){const i=[];let n=0;for(let c=0,u=o.length;c<u;c++){const r=o[c];i[n++]=new k.CursorState(r.modelState,r.viewState),t?i[n++]=k.CursorState.fromModelState(E.MoveOperations.translateUp(s.cursorConfig,s.model,r.modelState)):i[n++]=k.CursorState.fromViewState(E.MoveOperations.translateUp(s.cursorConfig,s,r.viewState))}return i}static moveToBeginningOfLine(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n];i[n]=this._moveToLineStart(s,u,t)}return i}static _moveToLineStart(s,o,t){const i=o.viewState.position.column,n=o.modelState.position.column,c=i===n,u=o.viewState.position.lineNumber,r=s.getLineFirstNonWhitespaceColumn(u);return!c&&!(i===r)?this._moveToLineStartByView(s,o,t):this._moveToLineStartByModel(s,o,t)}static _moveToLineStartByView(s,o,t){return k.CursorState.fromViewState(E.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s,o.viewState,t))}static _moveToLineStartByModel(s,o,t){return k.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfLine(s.cursorConfig,s.model,o.modelState,t))}static moveToEndOfLine(s,o,t,i){const n=[];for(let c=0,u=o.length;c<u;c++){const r=o[c];n[c]=this._moveToLineEnd(s,r,t,i)}return n}static _moveToLineEnd(s,o,t,i){const n=o.viewState.position,c=s.getLineMaxColumn(n.lineNumber),u=n.column===c,r=o.modelState.position,a=s.model.getLineMaxColumn(r.lineNumber),l=c-n.column===a-r.column;return u||l?this._moveToLineEndByModel(s,o,t,i):this._moveToLineEndByView(s,o,t,i)}static _moveToLineEndByView(s,o,t,i){return k.CursorState.fromViewState(E.MoveOperations.moveToEndOfLine(s.cursorConfig,s,o.viewState,t,i))}static _moveToLineEndByModel(s,o,t,i){return k.CursorState.fromModelState(E.MoveOperations.moveToEndOfLine(s.cursorConfig,s.model,o.modelState,t,i))}static expandLineSelection(s,o){const t=[];for(let i=0,n=o.length;i<n;i++){const c=o[i],u=c.modelState.selection.startLineNumber,r=s.model.getLineCount();let a=c.modelState.selection.endLineNumber,l;a===r?l=s.model.getLineMaxColumn(r):(a++,l=1),t[i]=k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(u,1,u,1),0,0,new y.Position(a,l),0))}return t}static moveToBeginningOfBuffer(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n];i[n]=k.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfBuffer(s.cursorConfig,s.model,u.modelState,t))}return i}static moveToEndOfBuffer(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n];i[n]=k.CursorState.fromModelState(E.MoveOperations.moveToEndOfBuffer(s.cursorConfig,s.model,u.modelState,t))}return i}static selectAll(s,o){const t=s.model.getLineCount(),i=s.model.getLineMaxColumn(t);return k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(1,1,1,1),0,0,new y.Position(t,i),0))}static line(s,o,t,i,n){const c=s.model.validatePosition(i),u=n?s.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),c):s.coordinatesConverter.convertModelPositionToViewPosition(c);if(!t){const a=s.model.getLineCount();let l=c.lineNumber+1,d=1;return l>a&&(l=a,d=s.model.getLineMaxColumn(l)),k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(c.lineNumber,1,l,d),2,0,new y.Position(l,d),0))}const r=o.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<r)return k.CursorState.fromViewState(o.viewState.move(!0,u.lineNumber,1,0));if(c.lineNumber>r){const a=s.getLineCount();let l=u.lineNumber+1,d=1;return l>a&&(l=a,d=s.getLineMaxColumn(l)),k.CursorState.fromViewState(o.viewState.move(!0,l,d,0))}else{const a=o.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(o.modelState.move(!0,a.lineNumber,a.column,0))}}static word(s,o,t,i){const n=s.model.validatePosition(i);return k.CursorState.fromModelState(I.WordOperations.word(s.cursorConfig,s.model,o.modelState,t,n))}static cancelSelection(s,o){if(!o.modelState.hasSelection())return new k.CursorState(o.modelState,o.viewState);const t=o.viewState.position.lineNumber,i=o.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new m.Range(t,i,t,i),0,0,new y.Position(t,i),0))}static moveTo(s,o,t,i,n){if(t){if(o.modelState.selectionStartKind===1)return this.word(s,o,t,i);if(o.modelState.selectionStartKind===2)return this.line(s,o,t,i,n)}const c=s.model.validatePosition(i),u=n?s.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),c):s.coordinatesConverter.convertModelPositionToViewPosition(c);return k.CursorState.fromViewState(o.viewState.move(t,u.lineNumber,u.column,0))}static simpleMove(s,o,t,i,n,c){switch(t){case 0:return c===4?this._moveHalfLineLeft(s,o,i):this._moveLeft(s,o,i,n);case 1:return c===4?this._moveHalfLineRight(s,o,i):this._moveRight(s,o,i,n);case 2:return c===2?this._moveUpByViewLines(s,o,i,n):this._moveUpByModelLines(s,o,i,n);case 3:return c===2?this._moveDownByViewLines(s,o,i,n):this._moveDownByModelLines(s,o,i,n);case 4:return c===2?o.map(u=>k.CursorState.fromViewState(E.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s,u.viewState,i))):o.map(u=>k.CursorState.fromModelState(E.MoveOperations.moveToPrevBlankLine(s.cursorConfig,s.model,u.modelState,i)));case 5:return c===2?o.map(u=>k.CursorState.fromViewState(E.MoveOperations.moveToNextBlankLine(s.cursorConfig,s,u.viewState,i))):o.map(u=>k.CursorState.fromModelState(E.MoveOperations.moveToNextBlankLine(s.cursorConfig,s.model,u.modelState,i)));case 6:return this._moveToViewMinColumn(s,o,i);case 7:return this._moveToViewFirstNonWhitespaceColumn(s,o,i);case 8:return this._moveToViewCenterColumn(s,o,i);case 9:return this._moveToViewMaxColumn(s,o,i);case 10:return this._moveToViewLastNonWhitespaceColumn(s,o,i);default:return null}}static viewportMove(s,o,t,i,n){const c=s.getCompletelyVisibleViewRange(),u=s.coordinatesConverter.convertViewRangeToModelRange(c);switch(t){case 11:{const r=this._firstLineNumberInRange(s.model,u,n),a=s.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(s,o[0],i,r,a)]}case 13:{const r=this._lastLineNumberInRange(s.model,u,n),a=s.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(s,o[0],i,r,a)]}case 12:{const r=Math.round((u.startLineNumber+u.endLineNumber)/2),a=s.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(s,o[0],i,r,a)]}case 14:{const r=[];for(let a=0,l=o.length;a<l;a++){const d=o[a];r[a]=this.findPositionInViewportIfOutside(s,d,c,i)}return r}default:return null}}static findPositionInViewportIfOutside(s,o,t,i){const n=o.viewState.position.lineNumber;if(t.startLineNumber<=n&&n<=t.endLineNumber-1)return new k.CursorState(o.modelState,o.viewState);{let c;n>t.endLineNumber-1?c=t.endLineNumber-1:n<t.startLineNumber?c=t.startLineNumber:c=n;const u=E.MoveOperations.vertical(s.cursorConfig,s,n,o.viewState.position.column,o.viewState.leftoverVisibleColumns,c,!1);return k.CursorState.fromViewState(o.viewState.move(i,u.lineNumber,u.column,u.leftoverVisibleColumns))}}static _firstLineNumberInRange(s,o,t){let i=o.startLineNumber;return o.startColumn!==s.getLineMinColumn(i)&&i++,Math.min(o.endLineNumber,i+t-1)}static _lastLineNumberInRange(s,o,t){let i=o.startLineNumber;return o.startColumn!==s.getLineMinColumn(i)&&i++,Math.max(i,o.endLineNumber-t+1)}static _moveLeft(s,o,t,i){return o.map(n=>k.CursorState.fromViewState(E.MoveOperations.moveLeft(s.cursorConfig,s,n.viewState,t,i)))}static _moveHalfLineLeft(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n],r=u.viewState.position.lineNumber,a=Math.round(s.getLineLength(r)/2);i[n]=k.CursorState.fromViewState(E.MoveOperations.moveLeft(s.cursorConfig,s,u.viewState,t,a))}return i}static _moveRight(s,o,t,i){return o.map(n=>k.CursorState.fromViewState(E.MoveOperations.moveRight(s.cursorConfig,s,n.viewState,t,i)))}static _moveHalfLineRight(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n],r=u.viewState.position.lineNumber,a=Math.round(s.getLineLength(r)/2);i[n]=k.CursorState.fromViewState(E.MoveOperations.moveRight(s.cursorConfig,s,u.viewState,t,a))}return i}static _moveDownByViewLines(s,o,t,i){const n=[];for(let c=0,u=o.length;c<u;c++){const r=o[c];n[c]=k.CursorState.fromViewState(E.MoveOperations.moveDown(s.cursorConfig,s,r.viewState,t,i))}return n}static _moveDownByModelLines(s,o,t,i){const n=[];for(let c=0,u=o.length;c<u;c++){const r=o[c];n[c]=k.CursorState.fromModelState(E.MoveOperations.moveDown(s.cursorConfig,s.model,r.modelState,t,i))}return n}static _moveUpByViewLines(s,o,t,i){const n=[];for(let c=0,u=o.length;c<u;c++){const r=o[c];n[c]=k.CursorState.fromViewState(E.MoveOperations.moveUp(s.cursorConfig,s,r.viewState,t,i))}return n}static _moveUpByModelLines(s,o,t,i){const n=[];for(let c=0,u=o.length;c<u;c++){const r=o[c];n[c]=k.CursorState.fromModelState(E.MoveOperations.moveUp(s.cursorConfig,s.model,r.modelState,t,i))}return n}static _moveToViewPosition(s,o,t,i,n){return k.CursorState.fromViewState(o.viewState.move(t,i,n,0))}static _moveToModelPosition(s,o,t,i,n){return k.CursorState.fromModelState(o.modelState.move(t,i,n,0))}static _moveToViewMinColumn(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n],r=u.viewState.position.lineNumber,a=s.getLineMinColumn(r);i[n]=this._moveToViewPosition(s,u,t,r,a)}return i}static _moveToViewFirstNonWhitespaceColumn(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n],r=u.viewState.position.lineNumber,a=s.getLineFirstNonWhitespaceColumn(r);i[n]=this._moveToViewPosition(s,u,t,r,a)}return i}static _moveToViewCenterColumn(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n],r=u.viewState.position.lineNumber,a=Math.round((s.getLineMaxColumn(r)+s.getLineMinColumn(r))/2);i[n]=this._moveToViewPosition(s,u,t,r,a)}return i}static _moveToViewMaxColumn(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n],r=u.viewState.position.lineNumber,a=s.getLineMaxColumn(r);i[n]=this._moveToViewPosition(s,u,t,r,a)}return i}static _moveToViewLastNonWhitespaceColumn(s,o,t){const i=[];for(let n=0,c=o.length;n<c;n++){const u=o[n],r=u.viewState.position.lineNumber,a=s.getLineLastNonWhitespaceColumn(r);i[n]=this._moveToViewPosition(s,u,t,r,a)}return i}}e.CursorMoveCommands=w;var b;(function(v){const s=function(t){if(!f.isObject(t))return!1;const i=t;return!(!f.isString(i.to)||!f.isUndefined(i.select)&&!f.isBoolean(i.select)||!f.isUndefined(i.by)&&!f.isString(i.by)||!f.isUndefined(i.value)&&!f.isNumber(i.value))};v.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:s,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},v.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},v.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function o(t){if(!t.to)return null;let i;switch(t.to){case v.RawDirection.Left:i=0;break;case v.RawDirection.Right:i=1;break;case v.RawDirection.Up:i=2;break;case v.RawDirection.Down:i=3;break;case v.RawDirection.PrevBlankLine:i=4;break;case v.RawDirection.NextBlankLine:i=5;break;case v.RawDirection.WrappedLineStart:i=6;break;case v.RawDirection.WrappedLineFirstNonWhitespaceCharacter:i=7;break;case v.RawDirection.WrappedLineColumnCenter:i=8;break;case v.RawDirection.WrappedLineEnd:i=9;break;case v.RawDirection.WrappedLineLastNonWhitespaceCharacter:i=10;break;case v.RawDirection.ViewPortTop:i=11;break;case v.RawDirection.ViewPortBottom:i=13;break;case v.RawDirection.ViewPortCenter:i=12;break;case v.RawDirection.ViewPortIfOutside:i=14;break;default:return null}let n=0;switch(t.by){case v.RawUnit.Line:n=1;break;case v.RawUnit.WrappedLine:n=2;break;case v.RawUnit.Character:n=3;break;case v.RawUnit.HalfLine:n=4;break}return{direction:i,unit:n,select:!!t.select,value:t.value||1}}v.parse=o})(b||(e.CursorMove=b={}))}),define(re[577],ae([1,0,76,9,5,23]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class y{constructor(w){this._selTrackedRange=null,this._trackSelection=!0,this._setState(w,new f.SingleCursorState(new E.Range(1,1,1,1),0,0,new k.Position(1,1),0),new f.SingleCursorState(new E.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(w){this._removeTrackedRange(w)}startTrackingSelection(w){this._trackSelection=!0,this._updateTrackedRange(w)}stopTrackingSelection(w){this._trackSelection=!1,this._removeTrackedRange(w)}_updateTrackedRange(w){this._trackSelection&&(this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(w){this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new f.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(w){const b=w.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!b.isEmpty()?I.Selection.fromRange(b.collapseToEnd(),this.modelState.selection.getDirection()):I.Selection.fromRange(b,this.modelState.selection.getDirection())}ensureValidState(w){this._setState(w,this.modelState,this.viewState)}setState(w,b,v){this._setState(w,b,v)}static _validatePositionWithCache(w,b,v,s){return b.equals(v)?s:w.normalizePosition(b,2)}static _validateViewState(w,b){const v=b.position,s=b.selectionStart.getStartPosition(),o=b.selectionStart.getEndPosition(),t=w.normalizePosition(v,2),i=this._validatePositionWithCache(w,s,v,t),n=this._validatePositionWithCache(w,o,s,i);return v.equals(t)&&s.equals(i)&&o.equals(n)?b:new f.SingleCursorState(E.Range.fromPositions(i,n),b.selectionStartKind,b.selectionStartLeftoverVisibleColumns+s.column-i.column,t,b.leftoverVisibleColumns+v.column-t.column)}_setState(w,b,v){if(v&&(v=y._validateViewState(w.viewModel,v)),b){const s=w.model.validateRange(b.selectionStart),o=b.selectionStart.equalsRange(s)?b.selectionStartLeftoverVisibleColumns:0,t=w.model.validatePosition(b.position),i=b.position.equals(t)?b.leftoverVisibleColumns:0;b=new f.SingleCursorState(s,b.selectionStartKind,o,t,i)}else{if(!v)return;const s=w.model.validateRange(w.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),o=w.model.validatePosition(w.coordinatesConverter.convertViewPositionToModelPosition(v.position));b=new f.SingleCursorState(s,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,o,v.leftoverVisibleColumns)}if(v){const s=w.coordinatesConverter.validateViewRange(v.selectionStart,b.selectionStart),o=w.coordinatesConverter.validateViewPosition(v.position,b.position);v=new f.SingleCursorState(s,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,o,b.leftoverVisibleColumns)}else{const s=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(b.selectionStart.startLineNumber,b.selectionStart.startColumn)),o=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(b.selectionStart.endLineNumber,b.selectionStart.endColumn)),t=new E.Range(s.lineNumber,s.column,o.lineNumber,o.column),i=w.coordinatesConverter.convertModelPositionToViewPosition(b.position);v=new f.SingleCursorState(t,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,i,b.leftoverVisibleColumns)}this.modelState=b,this.viewState=v,this._updateTrackedRange(w)}}e.Cursor=y}),define(re[578],ae([1,0,13,67,76,577,9,5,23]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class b{constructor(s){this.context=s,this.cursors=[new I.Cursor(s)],this.lastAddedCursorIndex=0}dispose(){for(const s of this.cursors)s.dispose(this.context)}startTrackingSelections(){for(const s of this.cursors)s.startTrackingSelection(this.context)}stopTrackingSelections(){for(const s of this.cursors)s.stopTrackingSelection(this.context)}updateContext(s){this.context=s}ensureValidState(){for(const s of this.cursors)s.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(s=>s.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(s=>s.asCursorState())}getViewPositions(){return this.cursors.map(s=>s.viewState.position)}getTopMostViewPosition(){return(0,k.findFirstMin)(this.cursors,(0,f.compareBy)(s=>s.viewState.position,y.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.findLastMax)(this.cursors,(0,f.compareBy)(s=>s.viewState.position,y.Position.compare)).viewState.position}getSelections(){return this.cursors.map(s=>s.modelState.selection)}getViewSelections(){return this.cursors.map(s=>s.viewState.selection)}setSelections(s){this.setStates(E.CursorState.fromModelSelections(s))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(s){s!==null&&(this.cursors[0].setState(this.context,s[0].modelState,s[0].viewState),this._setSecondaryStates(s.slice(1)))}_setSecondaryStates(s){const o=this.cursors.length-1,t=s.length;if(o<t){const i=t-o;for(let n=0;n<i;n++)this._addSecondaryCursor()}else if(o>t){const i=o-t;for(let n=0;n<i;n++)this._removeSecondaryCursor(this.cursors.length-2)}for(let i=0;i<t;i++)this.cursors[i+1].setState(this.context,s[i].modelState,s[i].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new I.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(s){this.lastAddedCursorIndex>=s+1&&this.lastAddedCursorIndex--,this.cursors[s+1].dispose(this.context),this.cursors.splice(s+1,1)}normalize(){if(this.cursors.length===1)return;const s=this.cursors.slice(0),o=[];for(let t=0,i=s.length;t<i;t++)o.push({index:t,selection:s[t].modelState.selection});o.sort((0,f.compareBy)(t=>t.selection,m.Range.compareRangesUsingStarts));for(let t=0;t<o.length-1;t++){const i=o[t],n=o[t+1],c=i.selection,u=n.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let r;if(u.isEmpty()||c.isEmpty()?r=u.getStartPosition().isBeforeOrEqual(c.getEndPosition()):r=u.getStartPosition().isBefore(c.getEndPosition()),r){const a=i.index<n.index?t:t+1,l=i.index<n.index?t+1:t,d=o[l].index,p=o[a].index,h=o[l].selection,g=o[a].selection;if(!h.equalsSelection(g)){const C=h.plusRange(g),S=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn,_=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn;let L;d===this.lastAddedCursorIndex?(L=S,this.lastAddedCursorIndex=p):L=_;let D;L?D=new w.Selection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn):D=new w.Selection(C.endLineNumber,C.endColumn,C.startLineNumber,C.startColumn),o[a].selection=D;const T=E.CursorState.fromModelSelection(D);s[p].setState(this.context,T.modelState,T.viewState)}for(const C of o)C.index>d&&C.index--;s.splice(d,1),o.splice(l,1),this._removeSecondaryCursor(d-1),t--}}}}e.CursorCollection=b}),define(re[579],ae([1,0,128]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(I){if(I.autoClosingPairs?this._autoClosingPairs=I.autoClosingPairs.map(y=>new f.StandardAutoClosingPairConditional(y)):I.brackets?this._autoClosingPairs=I.brackets.map(y=>new f.StandardAutoClosingPairConditional({open:y[0],close:y[1]})):this._autoClosingPairs=[],I.__electricCharacterSupport&&I.__electricCharacterSupport.docComment){const y=I.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new f.StandardAutoClosingPairConditional({open:y.open,close:y.close||""}))}this._autoCloseBeforeForQuotes=typeof I.autoCloseBefore=="string"?I.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof I.autoCloseBefore=="string"?I.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=I.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(I){return I?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(re[580],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function f(E){return E.global&&(E.lastIndex=0),!0}class k{constructor(I){this._indentationRules=I}shouldIncrease(I){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&f(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(I))}shouldDecrease(I){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&f(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(I))}shouldIndentNextLine(I){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&f(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(I))}shouldIgnore(I){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&f(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(I))}getIndentMetadata(I){let y=0;return this.shouldIncrease(I)&&(y+=1),this.shouldDecrease(I)&&(y+=2),this.shouldIndentNextLine(I)&&(y+=4),this.shouldIgnore(I)&&(y+=8),y}}e.IndentRulesSupport=k}),define(re[581],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class f{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(E,I,y,m,w){if(E&&I){const b=this.doNavigateValueSet(I,w);if(b)return{range:E,value:b}}if(y&&m){const b=this.doNavigateValueSet(m,w);if(b)return{range:y,value:b}}return null}doNavigateValueSet(E,I){const y=this.numberReplace(E,I);return y!==null?y:this.textReplace(E,I)}numberReplace(E,I){const y=Math.pow(10,E.length-(E.lastIndexOf(".")+1));let m=Number(E);const w=parseFloat(E);return!isNaN(m)&&!isNaN(w)&&m===w?m===0&&!I?null:(m=Math.floor(m*y),m+=I?y:-y,String(m/y)):null}textReplace(E,I){return this.valueSetsReplace(this._defaultValueSet,E,I)}valueSetsReplace(E,I,y){let m=null;for(let w=0,b=E.length;m===null&&w<b;w++)m=this.valueSetReplace(E[w],I,y);return m}valueSetReplace(E,I,y){let m=E.indexOf(I);return m>=0?(m+=y?1:-1,m<0?m=E.length-1:m%=E.length,E[m]):null}}e.BasicInplaceReplace=f,f.INSTANCE=new f}),define(re[582],ae([1,0,8,11,128]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class I{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(w=>{const b=I._createOpenBracketRegExp(w[0]),v=I._createCloseBracketRegExp(w[1]);b&&v&&this._brackets.push({open:w[0],openRegExp:b,close:w[1],closeRegExp:v})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,w,b,v){if(m>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){const t=this._regExpRules[s];if([{reg:t.beforeText,text:b},{reg:t.afterText,text:v},{reg:t.previousLineText,text:w}].every(n=>n.reg?(n.reg.lastIndex=0,n.reg.test(n.text)):!0))return t.action}if(m>=2&&b.length>0&&v.length>0)for(let s=0,o=this._brackets.length;s<o;s++){const t=this._brackets[s];if(t.openRegExp.test(b)&&t.closeRegExp.test(v))return{indentAction:E.IndentAction.IndentOutdent}}if(m>=2&&b.length>0){for(let s=0,o=this._brackets.length;s<o;s++)if(this._brackets[s].openRegExp.test(b))return{indentAction:E.IndentAction.Indent}}return null}static _createOpenBracketRegExp(m){let w=k.escapeRegExpCharacters(m);return/\B/.test(w.charAt(0))||(w="\\b"+w),w+="\\s*$",I._safeRegExp(w)}static _createCloseBracketRegExp(m){let w=k.escapeRegExpCharacters(m);return/\B/.test(w.charAt(w.length-1))||(w=w+"\\b"),w="^\\s*"+w,I._safeRegExp(w)}static _safeRegExp(m){try{return new RegExp(m)}catch(w){return(0,f.onUnexpectedError)(w),null}}}e.OnEnterSupport=I}),define(re[199],ae([1,0,11,113,5]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0,e.createBracketOrRegExp=c;class I{constructor(l,d,p,h,g,C){this._richEditBracketBrand=void 0,this.languageId=l,this.index=d,this.open=p,this.close=h,this.forwardRegex=g,this.reversedRegex=C,this._openSet=I._toSet(this.open),this._closeSet=I._toSet(this.close)}isOpen(l){return this._openSet.has(l)}isClose(l){return this._closeSet.has(l)}static _toSet(l){const d=new Set;for(const p of l)d.add(p);return d}}e.RichEditBracket=I;function y(a){const l=a.length;a=a.map(C=>[C[0].toLowerCase(),C[1].toLowerCase()]);const d=[];for(let C=0;C<l;C++)d[C]=C;const p=(C,S)=>{const[_,L]=C,[D,T]=S;return _===D||_===T||L===D||L===T},h=(C,S)=>{const _=Math.min(C,S),L=Math.max(C,S);for(let D=0;D<l;D++)d[D]===L&&(d[D]=_)};for(let C=0;C<l;C++){const S=a[C];for(let _=C+1;_<l;_++){const L=a[_];p(S,L)&&h(d[C],d[_])}}const g=[];for(let C=0;C<l;C++){const S=[],_=[];for(let L=0;L<l;L++)if(d[L]===C){const[D,T]=a[L];S.push(D),_.push(T)}S.length>0&&g.push({open:S,close:_})}return g}class m{constructor(l,d){this._richEditBracketsBrand=void 0;const p=y(d);this.brackets=p.map((h,g)=>new I(l,g,h.open,h.close,s(h.open,h.close,p,g),o(h.open,h.close,p,g))),this.forwardRegex=t(this.brackets),this.reversedRegex=i(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const h of this.brackets){for(const g of h.open)this.textIsBracket[g]=h,this.textIsOpenBracket[g]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,g.length);for(const g of h.close)this.textIsBracket[g]=h,this.textIsOpenBracket[g]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,g.length)}}}e.RichEditBrackets=m;function w(a,l,d,p){for(let h=0,g=l.length;h<g;h++){if(h===d)continue;const C=l[h];for(const S of C.open)S.indexOf(a)>=0&&p.push(S);for(const S of C.close)S.indexOf(a)>=0&&p.push(S)}}function b(a,l){return a.length-l.length}function v(a){if(a.length<=1)return a;const l=[],d=new Set;for(const p of a)d.has(p)||(l.push(p),d.add(p));return l}function s(a,l,d,p){let h=[];h=h.concat(a),h=h.concat(l);for(let g=0,C=h.length;g<C;g++)w(h[g],d,p,h);return h=v(h),h.sort(b),h.reverse(),c(h)}function o(a,l,d,p){let h=[];h=h.concat(a),h=h.concat(l);for(let g=0,C=h.length;g<C;g++)w(h[g],d,p,h);return h=v(h),h.sort(b),h.reverse(),c(h.map(u))}function t(a){let l=[];for(const d of a){for(const p of d.open)l.push(p);for(const p of d.close)l.push(p)}return l=v(l),c(l)}function i(a){let l=[];for(const d of a){for(const p of d.open)l.push(p);for(const p of d.close)l.push(p)}return l=v(l),c(l.map(u))}function n(a){const l=/^[\w ]+$/.test(a);return a=f.escapeRegExpCharacters(a),l?`\\b${a}\\b`:a}function c(a,l){const d=`(${a.map(n).join(")|(")})`;return f.createRegExp(d,!0,l)}const u=function(){function a(p){const h=new Uint16Array(p.length);let g=0;for(let C=p.length-1;C>=0;C--)h[g++]=p.charCodeAt(C);return k.getPlatformTextDecoder().decode(h)}let l=null,d=null;return function(h){return l!==h&&(l=h,d=a(l)),d}}();class r{static _findPrevBracketInText(l,d,p,h){const g=p.match(l);if(!g)return null;const C=p.length-(g.index||0),S=g[0].length,_=h+C;return new E.Range(d,_-S+1,d,_+1)}static findPrevBracketInRange(l,d,p,h,g){const S=u(p).substring(p.length-g,p.length-h);return this._findPrevBracketInText(l,d,S,h)}static findNextBracketInText(l,d,p,h){const g=p.match(l);if(!g)return null;const C=g.index||0,S=g[0].length;if(S===0)return null;const _=h+C;return new E.Range(d,_+1,d,_+1+S)}static findNextBracketInRange(l,d,p,h,g){const C=p.substring(h,g);return this.findNextBracketInText(l,d,C,h)}}e.BracketsUtils=r}),define(re[583],ae([1,0,13,171,199]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class I{constructor(m){this._richEditBrackets=m}getElectricCharacters(){const m=[];if(this._richEditBrackets)for(const w of this._richEditBrackets.brackets)for(const b of w.close){const v=b.charAt(b.length-1);m.push(v)}return(0,f.distinct)(m)}onElectricCharacter(m,w,b){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const v=w.findTokenIndexAtOffset(b-1);if((0,k.ignoreBracketsInToken)(w.getStandardTokenType(v)))return null;const s=this._richEditBrackets.reversedRegex,o=w.getLineContent().substring(0,b-1)+m,t=E.BracketsUtils.findPrevBracketInRange(s,1,o,0,o.length);if(!t)return null;const i=o.substring(t.startColumn-1,t.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[i])return null;const c=w.getActualLineContentBefore(t.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:i}:null}}e.BracketElectricCharacterSupport=I}),define(re[584],ae([1,0,295,199]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class E{constructor(v,s){this.languageId=v;const o=s.brackets?I(s.brackets):[],t=new f.CachedFunction(c=>{const u=new Set;return{info:new m(this,c,u),closing:u}}),i=new f.CachedFunction(c=>{const u=new Set,r=new Set;return{info:new w(this,c,u,r),opening:u,openingColorized:r}});for(const[c,u]of o){const r=t.get(c),a=i.get(u);r.closing.add(a.info),a.opening.add(r.info)}const n=s.colorizedBracketPairs?I(s.colorizedBracketPairs):o.filter(c=>!(c[0]==="<"&&c[1]===">"));for(const[c,u]of n){const r=t.get(c),a=i.get(u);r.closing.add(a.info),a.openingColorized.add(r.info),a.opening.add(r.info)}this._openingBrackets=new Map([...t.cachedValues].map(([c,u])=>[c,u.info])),this._closingBrackets=new Map([...i.cachedValues].map(([c,u])=>[c,u.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(v){return this._openingBrackets.get(v)}getClosingBracketInfo(v){return this._closingBrackets.get(v)}getBracketInfo(v){return this.getOpeningBracketInfo(v)||this.getClosingBracketInfo(v)}getBracketRegExp(v){const s=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return(0,k.createBracketOrRegExp)(s,v)}}e.LanguageBracketsConfiguration=E;function I(b){return b.filter(([v,s])=>v!==""&&s!=="")}class y{constructor(v,s){this.config=v,this.bracketText=s}get languageId(){return this.config.languageId}}e.BracketKindBase=y;class m extends y{constructor(v,s,o){super(v,s),this.openedBrackets=o,this.isOpeningBracket=!0}}e.OpeningBracketKind=m;class w extends y{constructor(v,s,o,t){super(v,s),this.openingBrackets=o,this.openingColorizedBrackets=t,this.isOpeningBracket=!1}closes(v){return v.config!==this.config?!1:this.openingBrackets.has(v)}closesColorized(v){return v.config!==this.config?!1:this.openingColorizedBrackets.has(v)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=w}),define(re[585],ae([1,0,33]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeTrieElement=e.ThemeTrieElementRule=e.TokenTheme=e.ColorMap=e.ParsedTokenThemeRule=void 0,e.parseTokenTheme=E,e.toStandardTokenType=v,e.strcmp=s,e.generateTokensCSSForColorMap=i;class k{constructor(c,u,r,a,l){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=u,this.fontStyle=r,this.foreground=a,this.background=l}}e.ParsedTokenThemeRule=k;function E(n){if(!n||!Array.isArray(n))return[];const c=[];let u=0;for(let r=0,a=n.length;r<a;r++){const l=n[r];let d=-1;if(typeof l.fontStyle=="string"){d=0;const g=l.fontStyle.split(" ");for(let C=0,S=g.length;C<S;C++)switch(g[C]){case"italic":d=d|1;break;case"bold":d=d|2;break;case"underline":d=d|4;break;case"strikethrough":d=d|8;break}}let p=null;typeof l.foreground=="string"&&(p=l.foreground);let h=null;typeof l.background=="string"&&(h=l.background),c[u++]=new k(l.token||"",r,d,p,h)}return c}function I(n,c){n.sort((C,S)=>{const _=s(C.token,S.token);return _!==0?_:C.index-S.index});let u=0,r="000000",a="ffffff";for(;n.length>=1&&n[0].token==="";){const C=n.shift();C.fontStyle!==-1&&(u=C.fontStyle),C.foreground!==null&&(r=C.foreground),C.background!==null&&(a=C.background)}const l=new m;for(const C of c)l.getId(C);const d=l.getId(r),p=l.getId(a),h=new o(u,d,p),g=new t(h);for(let C=0,S=n.length;C<S;C++){const _=n[C];g.insert(_.token,_.fontStyle,l.getId(_.foreground),l.getId(_.background))}return new w(l,g)}const y=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(c){if(c===null)return 0;const u=c.match(y);if(!u)throw new Error("Illegal value for token color: "+c);c=u[1].toUpperCase();let r=this._color2id.get(c);return r||(r=++this._lastColorId,this._color2id.set(c,r),this._id2color[r]=f.Color.fromHex("#"+c),r)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=m;class w{static createFromRawTokenTheme(c,u){return this.createFromParsedTokenTheme(E(c),u)}static createFromParsedTokenTheme(c,u){return I(c,u)}constructor(c,u){this._colorMap=c,this._root=u,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(c){return this._root.match(c)}match(c,u){let r=this._cache.get(u);if(typeof r>"u"){const a=this._match(u),l=v(u);r=(a.metadata|l<<8)>>>0,this._cache.set(u,r)}return(r|c<<0)>>>0}}e.TokenTheme=w;const b=/\b(comment|string|regex|regexp)\b/;function v(n){const c=n.match(b);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function s(n,c){return n<c?-1:n>c?1:0}class o{constructor(c,u,r){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=u,this._background=r,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new o(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,u,r){c!==-1&&(this._fontStyle=c),u!==0&&(this._foreground=u),r!==0&&(this._background=r),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=o;class t{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}match(c){if(c==="")return this._mainRule;const u=c.indexOf(".");let r,a;u===-1?(r=c,a=""):(r=c.substring(0,u),a=c.substring(u+1));const l=this._children.get(r);return typeof l<"u"?l.match(a):this._mainRule}insert(c,u,r,a){if(c===""){this._mainRule.acceptOverwrite(u,r,a);return}const l=c.indexOf(".");let d,p;l===-1?(d=c,p=""):(d=c.substring(0,l),p=c.substring(l+1));let h=this._children.get(d);typeof h>"u"&&(h=new t(this._mainRule.clone()),this._children.set(d,h)),h.insert(p,u,r,a)}}e.ThemeTrieElement=t;function i(n){const c=[];for(let u=1,r=n.length;u<r;u++){const a=n[u];c[u]=`.mtk${u} { color: ${a}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}}),define(re[41],ae([1,0,54]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.GlyphMarginLane=e.OverviewRulerLane=void 0,e.isITextSnapshot=w,e.shouldSynchronizeModel=o;var k;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var E;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"})(E||(e.GlyphMarginLane=E={}));var I;(function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"})(I||(e.InjectedTextCursorStops=I={}));class y{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(i){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,i.tabSize|0),i.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,i.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!i.insertSpaces,this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=!!i.trimAutoWhitespace,this.bracketPairColorizationOptions=i.bracketPairColorizationOptions}equals(i){return this.tabSize===i.tabSize&&this._indentSizeIsTabSize===i._indentSizeIsTabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace&&(0,f.equals)(this.bracketPairColorizationOptions,i.bracketPairColorizationOptions)}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}e.TextModelResolvedOptions=y;class m{constructor(i,n){this._findMatchBrand=void 0,this.range=i,this.matches=n}}e.FindMatch=m;function w(t){return t&&typeof t.read=="function"}class b{constructor(i,n,c,u,r,a){this.identifier=i,this.range=n,this.text=c,this.forceMoveMarkers=u,this.isAutoWhitespaceEdit=r,this._isTracked=a}}e.ValidAnnotatedEditOperation=b;class v{constructor(i,n,c){this.regex=i,this.wordSeparators=n,this.simpleSearch=c}}e.SearchData=v;class s{constructor(i,n,c){this.reverseEdits=i,this.changes=n,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=s;function o(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}}),define(re[586],ae([1,0,6,2,41,333]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function y(v){return typeof v=="string"?!1:Array.isArray(v)?v.every(y):!!v.exclusive}class m{constructor(s,o,t,i){this.uri=s,this.languageId=o,this.notebookUri=t,this.notebookType=i}equals(s){var o,t;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((o=this.notebookUri)===null||o===void 0?void 0:o.toString())===((t=s.notebookUri)===null||t===void 0?void 0:t.toString())}}class w{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event}register(s,o){let t={selector:s,provider:o,_score:-1,_time:this._clock++};return this._entries.push(t),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(t){const i=this._entries.indexOf(t);i>=0&&(this._entries.splice(i,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),t=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const o=[];for(const t of this._entries)t._score>0&&o.push(t.provider);return o}ordered(s){const o=[];return this._orderedForEach(s,t=>o.push(t.provider)),o}orderedGroups(s){const o=[];let t,i;return this._orderedForEach(s,n=>{t&&i===n._score?t.push(n.provider):(i=n._score,t=[n.provider],o.push(t))}),o}_orderedForEach(s,o){this._updateScores(s);for(const t of this._entries)t._score>0&&o(t)}_updateScores(s){var o,t;const i=(o=this._notebookInfoResolver)===null||o===void 0?void 0:o.call(this,s.uri),n=i?new m(s.uri,s.getLanguageId(),i.uri,i.type):new m(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((t=this._lastCandidate)===null||t===void 0)&&t.equals(n))){this._lastCandidate=n;for(const c of this._entries)if(c._score=(0,I.score)(c.selector,n.uri,n.languageId,(0,E.shouldSynchronizeModel)(s),n.notebookUri,n.notebookType),y(c.selector)&&c._score>0){for(const u of this._entries)u._score=0;c._score=1e3;break}this._entries.sort(w._compareByScoreAndTime)}}static _compareByScoreAndTime(s,o){return s._score<o._score?1:s._score>o._score?-1:b(s.selector)&&!b(o.selector)?1:!b(s.selector)&&b(o.selector)?-1:s._time<o._time?1:s._time>o._time?-1:0}}e.LanguageFeatureRegistry=w;function b(v){return typeof v=="string"?!1:Array.isArray(v)?v.some(b):!!v.isBuiltin}}),define(re[105],ae([1,0,11,5,114]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthZero=void 0,e.lengthDiff=I,e.lengthIsZero=y,e.toLength=w,e.lengthToObj=b,e.lengthGetLineCount=v,e.lengthGetColumnCountIfZeroLineCount=s,e.lengthAdd=o,e.sumLengths=t,e.lengthEquals=i,e.lengthDiffNonNegative=n,e.lengthLessThan=c,e.lengthLessThanEqual=u,e.lengthGreaterThanEqual=r,e.positionToLength=a,e.lengthsToRange=l,e.lengthOfString=d;function I(p,h,g,C){return p!==g?w(g-p,C):w(0,C-h)}e.lengthZero=0;function y(p){return p===0}const m=2**26;function w(p,h){return p*m+h}function b(p){const h=p,g=Math.floor(h/m),C=h-g*m;return new E.TextLength(g,C)}function v(p){return Math.floor(p/m)}function s(p){return p}function o(p,h){let g=p+h;return h>=m&&(g=g-p%m),g}function t(p,h){return p.reduce((g,C)=>o(g,h(C)),e.lengthZero)}function i(p,h){return p===h}function n(p,h){const g=p,C=h;if(C-g<=0)return e.lengthZero;const _=Math.floor(g/m),L=Math.floor(C/m),D=C-L*m;if(_===L){const T=g-_*m;return w(0,D-T)}else return w(L-_,D)}function c(p,h){return p<h}function u(p,h){return p<=h}function r(p,h){return p>=h}function a(p){return w(p.lineNumber-1,p.column-1)}function l(p,h){const g=p,C=Math.floor(g/m),S=g-C*m,_=h,L=Math.floor(_/m),D=_-L*m;return new k.Range(C+1,S+1,L+1,D+1)}function d(p){const h=(0,f.splitLines)(p);return w(h.length-1,h[h.length-1].length)}}),define(re[200],ae([1,0,5,105]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class E{static fromModelContentChanges(w){return w.map(v=>{const s=f.Range.lift(v.range);return new E((0,k.positionToLength)(s.getStartPosition()),(0,k.positionToLength)(s.getEndPosition()),(0,k.lengthOfString)(v.text))}).reverse()}constructor(w,b,v){this.startOffset=w,this.endOffset=b,this.newLength=v}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=E;class I{constructor(w){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=w.map(b=>y.from(b))}getOffsetBeforeChange(w){return this.adjustNextEdit(w),this.translateCurToOld(w)}getDistanceToNextChange(w){this.adjustNextEdit(w);const b=this.edits[this.nextEditIdx],v=b?this.translateOldToCur(b.offsetObj):null;return v===null?null:(0,k.lengthDiffNonNegative)(w,v)}translateOldToCur(w){return w.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount)}translateCurToOld(w){const b=(0,k.lengthToObj)(w);return b.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount)}adjustNextEdit(w){for(;this.nextEditIdx<this.edits.length;){const b=this.edits[this.nextEditIdx],v=this.translateOldToCur(b.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(v,w)){this.nextEditIdx++;const s=(0,k.lengthToObj)(v),o=(0,k.lengthToObj)(this.translateOldToCur(b.endOffsetBeforeObj)),t=s.lineCount-o.lineCount;this.deltaOldToNewLineCount+=t;const i=this.deltaLineIdxInOld===b.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,n=s.columnCount-o.columnCount;this.deltaOldToNewColumnCount=i+n,this.deltaLineIdxInOld=b.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=I;class y{static from(w){return new y(w.startOffset,w.endOffset,w.newLength)}constructor(w,b,v){this.endOffsetBeforeObj=(0,k.lengthToObj)(b),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(w,v)),this.offsetObj=(0,k.lengthToObj)(w)}}}),define(re[334],ae([1,0,13,200,105]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=I;function I(w,b){if(w.length===0)return b;if(b.length===0)return w;const v=new f.ArrayQueue(m(w)),s=m(b);s.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let o=v.dequeue();function t(u){if(u===void 0){const a=v.takeWhile(l=>!0)||[];return o&&a.unshift(o),a}const r=[];for(;o&&!(0,E.lengthIsZero)(u);){const[a,l]=o.splitAt(u);r.push(a),u=(0,E.lengthDiffNonNegative)(a.lengthAfter,u),o=l??v.dequeue()}return(0,E.lengthIsZero)(u)||r.push(new y(!1,u,u)),r}const i=[];function n(u,r,a){if(i.length>0&&(0,E.lengthEquals)(i[i.length-1].endOffset,u)){const l=i[i.length-1];i[i.length-1]=new k.TextEditInfo(l.startOffset,r,(0,E.lengthAdd)(l.newLength,a))}else i.push({startOffset:u,endOffset:r,newLength:a})}let c=E.lengthZero;for(const u of s){const r=t(u.lengthBefore);if(u.modified){const a=(0,E.sumLengths)(r,d=>d.lengthBefore),l=(0,E.lengthAdd)(c,a);n(c,l,u.lengthAfter),c=l}else for(const a of r){const l=c;c=(0,E.lengthAdd)(c,a.lengthBefore),a.modified&&n(l,c,a.lengthAfter)}}return i}class y{constructor(b,v,s){this.modified=b,this.lengthBefore=v,this.lengthAfter=s}splitAt(b){const v=(0,E.lengthDiffNonNegative)(b,this.lengthAfter);return(0,E.lengthEquals)(v,E.lengthZero)?[this,void 0]:this.modified?[new y(this.modified,this.lengthBefore,b),new y(this.modified,E.lengthZero,v)]:[new y(this.modified,b,b),new y(this.modified,v,v)]}toString(){return`${this.modified?"M":"U"}:${(0,E.lengthToObj)(this.lengthBefore)} -> ${(0,E.lengthToObj)(this.lengthAfter)}`}}function m(w){const b=[];let v=E.lengthZero;for(const s of w){const o=(0,E.lengthDiffNonNegative)(v,s.startOffset);(0,E.lengthIsZero)(o)||b.push(new y(!1,o,o));const t=(0,E.lengthDiffNonNegative)(s.startOffset,s.endOffset);b.push(new y(!0,t,s.newLength)),v=s.endOffset}return b}}),define(re[587],ae([1,0,105]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(m){this.lastOffset=f.lengthZero,this.nextNodes=[m],this.offsets=[f.lengthZero],this.idxs=[]}readLongestNodeAt(m,w){if((0,f.lengthLessThan)(m,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=m;;){const b=I(this.nextNodes);if(!b)return;const v=I(this.offsets);if((0,f.lengthLessThan)(m,v))return;if((0,f.lengthLessThan)(v,m))if((0,f.lengthAdd)(v,b.length)<=m)this.nextNodeAfterCurrent();else{const s=E(b);s!==-1?(this.nextNodes.push(b.getChild(s)),this.offsets.push(v),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(w(b))return this.nextNodeAfterCurrent(),b;{const s=E(b);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(b.getChild(s)),this.offsets.push(v),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const m=I(this.offsets),w=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const b=I(this.nextNodes),v=E(b,this.idxs[this.idxs.length-1]);if(v!==-1){this.nextNodes.push(b.getChild(v)),this.offsets.push((0,f.lengthAdd)(m,w.length)),this.idxs[this.idxs.length-1]=v;break}else this.idxs.pop()}}}e.NodeReader=k;function E(y,m=-1){for(;;){if(m++,m>=y.childrenLength)return-1;if(y.getChild(m))return m}}function I(y){return y.length>0?y[y.length-1]:void 0}}),define(re[146],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const f=[];class k{static create(y,m){if(y<=128&&m.length===0){let w=k.cache[y];return w||(w=new k(y,m),k.cache[y]=w),w}return new k(y,m)}static getEmpty(){return this.empty}constructor(y,m){this.items=y,this.additionalItems=m}add(y,m){const w=m.getKey(y);let b=w>>5;if(b===0){const s=1<<w|this.items;return s===this.items?this:k.create(s,this.additionalItems)}b--;const v=this.additionalItems.slice(0);for(;v.length<b;)v.push(0);return v[b]|=1<<(w&31),k.create(this.items,v)}merge(y){const m=this.items|y.items;if(this.additionalItems===f&&y.additionalItems===f)return m===this.items?this:m===y.items?y:k.create(m,f);const w=[];for(let b=0;b<Math.max(this.additionalItems.length,y.additionalItems.length);b++){const v=this.additionalItems[b]||0,s=y.additionalItems[b]||0;w.push(v|s)}return k.create(m,w)}intersects(y){if(this.items&y.items)return!0;for(let m=0;m<Math.min(this.additionalItems.length,y.additionalItems.length);m++)if(this.additionalItems[m]&y.additionalItems[m])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,f),e.identityKeyProvider={getKey(I){return I}};class E{constructor(){this.items=new Map}getKey(y){let m=this.items.get(y);return m===void 0&&(m=this.items.size,this.items.set(y,m)),m}}e.DenseKeyProvider=E}),define(re[201],ae([1,0,8,93,105,146]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class y{get length(){return this._length}constructor(a){this._length=a}}class m extends y{static create(a,l,d){let p=a.length;return l&&(p=(0,E.lengthAdd)(p,l.length)),d&&(p=(0,E.lengthAdd)(p,d.length)),new m(p,a,l,d,l?l.missingOpeningBracketIds:I.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(a){switch(a){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const a=[];return a.push(this.openingBracket),this.child&&a.push(this.child),this.closingBracket&&a.push(this.closingBracket),a}constructor(a,l,d,p,h){super(a),this.openingBracket=l,this.child=d,this.closingBracket=p,this.missingOpeningBracketIds=h}canBeReused(a){return!(this.closingBracket===null||a.intersects(this.missingOpeningBracketIds))}deepClone(){return new m(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(a,l){return this.child?this.child.computeMinIndentation((0,E.lengthAdd)(a,this.openingBracket.length),l):Number.MAX_SAFE_INTEGER}}e.PairAstNode=m;class w extends y{static create23(a,l,d,p=!1){let h=a.length,g=a.missingOpeningBracketIds;if(a.listHeight!==l.listHeight)throw new Error("Invalid list heights");if(h=(0,E.lengthAdd)(h,l.length),g=g.merge(l.missingOpeningBracketIds),d){if(a.listHeight!==d.listHeight)throw new Error("Invalid list heights");h=(0,E.lengthAdd)(h,d.length),g=g.merge(d.missingOpeningBracketIds)}return p?new v(h,a.listHeight+1,a,l,d,g):new b(h,a.listHeight+1,a,l,d,g)}static getEmpty(){return new o(E.lengthZero,0,[],I.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(a,l,d){super(a),this.listHeight=l,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const a=this.childrenLength;if(a===0)return;const l=this.getChild(a-1),d=l.kind===4?l.toMutable():l;return l!==d&&this.setChild(a-1,d),d}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const l=this.getChild(0),d=l.kind===4?l.toMutable():l;return l!==d&&this.setChild(0,d),d}canBeReused(a){if(a.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let l=this;for(;l.kind===4;){const d=l.childrenLength;if(d===0)throw new f.BugIndicatingError;l=l.getChild(d-1)}return l.canBeReused(a)}handleChildrenChanged(){this.throwIfImmutable();const a=this.childrenLength;let l=this.getChild(0).length,d=this.getChild(0).missingOpeningBracketIds;for(let p=1;p<a;p++){const h=this.getChild(p);l=(0,E.lengthAdd)(l,h.length),d=d.merge(h.missingOpeningBracketIds)}this._length=l,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}computeMinIndentation(a,l){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let d=Number.MAX_SAFE_INTEGER,p=a;for(let h=0;h<this.childrenLength;h++){const g=this.getChild(h);g&&(d=Math.min(d,g.computeMinIndentation(p,l)),p=(0,E.lengthAdd)(p,g.length))}return this.cachedMinIndentation=d,d}}e.ListAstNode=w;class b extends w{get childrenLength(){return this._item3!==null?3:2}getChild(a){switch(a){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(a,l){switch(a){case 0:this._item1=l;return;case 1:this._item2=l;return;case 2:this._item3=l;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(a,l,d,p,h,g){super(a,l,g),this._item1=d,this._item2=p,this._item3=h}deepClone(){return new b(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=a,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item3;return this._item3=null,this.handleChildrenChanged(),a}prependChildOfSameHeight(a){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=a,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),a}toMutable(){return this}}class v extends b{toMutable(){return new b(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class s extends w{get childrenLength(){return this._children.length}getChild(a){return this._children[a]}setChild(a,l){this._children[a]=l}get children(){return this._children}constructor(a,l,d,p){super(a,l,p),this._children=d}deepClone(){const a=new Array(this._children.length);for(let l=0;l<this._children.length;l++)a[l]=this._children[l].deepClone();return new s(this.length,this.listHeight,a,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){this.throwIfImmutable(),this._children.push(a),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const a=this._children.pop();return this.handleChildrenChanged(),a}prependChildOfSameHeight(a){this.throwIfImmutable(),this._children.unshift(a),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const a=this._children.shift();return this.handleChildrenChanged(),a}toMutable(){return this}}class o extends s{toMutable(){return new s(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const t=[];class i extends y{get listHeight(){return 0}get childrenLength(){return 0}getChild(a){return null}get children(){return t}deepClone(){return this}}class n extends i{get kind(){return 0}get missingOpeningBracketIds(){return I.SmallImmutableSet.getEmpty()}canBeReused(a){return!0}computeMinIndentation(a,l){const d=(0,E.lengthToObj)(a),p=(d.columnCount===0?d.lineCount:d.lineCount+1)+1,h=(0,E.lengthGetLineCount)((0,E.lengthAdd)(a,this.length))+1;let g=Number.MAX_SAFE_INTEGER;for(let C=p;C<=h;C++){const S=l.getLineFirstNonWhitespaceColumn(C),_=l.getLineContent(C);if(S===0)continue;const L=k.CursorColumns.visibleColumnFromColumn(_,S,l.getOptions().tabSize);g=Math.min(g,L)}return g}}e.TextAstNode=n;class c extends i{static create(a,l,d){return new c(a,l,d)}get kind(){return 1}get missingOpeningBracketIds(){return I.SmallImmutableSet.getEmpty()}constructor(a,l,d){super(a),this.bracketInfo=l,this.bracketIds=d}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(a){return!1}computeMinIndentation(a,l){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=c;class u extends i{get kind(){return 3}constructor(a,l){super(l),this.missingOpeningBracketIds=a}canBeReused(a){return!a.intersects(this.missingOpeningBracketIds)}computeMinIndentation(a,l){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=u}),define(re[588],ae([1,0,201]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23Trees=k,e.concat23TreesOfSameHeight=E;function k(b){if(b.length===0)return null;if(b.length===1)return b[0];let v=0;function s(){if(v>=b.length)return null;const n=v,c=b[n].listHeight;for(v++;v<b.length&&b[v].listHeight===c;)v++;return v-n>=2?E(n===0&&v===b.length?b:b.slice(n,v),!1):b[n]}let o=s(),t=s();if(!t)return o;for(let n=s();n;n=s())I(o,t)<=I(t,n)?(o=y(o,t),t=n):t=y(t,n);return y(o,t)}function E(b,v=!1){if(b.length===0)return null;if(b.length===1)return b[0];let s=b.length;for(;s>3;){const o=s>>1;for(let t=0;t<o;t++){const i=t<<1;b[t]=f.ListAstNode.create23(b[i],b[i+1],i+3===s?b[i+2]:null,v)}s=o}return f.ListAstNode.create23(b[0],b[1],s>=3?b[2]:null,v)}function I(b,v){return Math.abs(b.listHeight-v.listHeight)}function y(b,v){return b.listHeight===v.listHeight?f.ListAstNode.create23(b,v,null,!1):b.listHeight>v.listHeight?m(b,v):w(v,b)}function m(b,v){b=b.toMutable();let s=b;const o=[];let t;for(;;){if(v.listHeight===s.listHeight){t=v;break}if(s.kind!==4)throw new Error("unexpected");o.push(s),s=s.makeLastElementMutable()}for(let i=o.length-1;i>=0;i--){const n=o[i];t?n.childrenLength>=3?t=f.ListAstNode.create23(n.unappendChild(),t,null,!1):(n.appendChildOfSameHeight(t),t=void 0):n.handleChildrenChanged()}return t?f.ListAstNode.create23(b,t,null,!1):b}function w(b,v){b=b.toMutable();let s=b;const o=[];for(;v.listHeight!==s.listHeight;){if(s.kind!==4)throw new Error("unexpected");o.push(s),s=s.makeFirstElementMutable()}let t=v;for(let i=o.length-1;i>=0;i--){const n=o[i];t?n.childrenLength>=3?t=f.ListAstNode.create23(t,n.unprependChild(),null,!1):(n.prependChildOfSameHeight(t),t=void 0):n.handleChildrenChanged()}return t?f.ListAstNode.create23(t,b,null,!1):b}}),define(re[335],ae([1,0,201,200,146,105,588,587]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=w;function w(v,s,o,t){return new b(v,s,o,t).parseDocument()}class b{constructor(s,o,t,i){if(this.tokenizer=s,this.createImmutableLists=i,this._itemsConstructed=0,this._itemsFromCache=0,t&&i)throw new Error("Not supported");this.oldNodeReader=t?new m.NodeReader(t):void 0,this.positionMapper=new k.BeforeEditPositionMapper(o)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let s=this.parseList(E.SmallImmutableSet.getEmpty(),0);return s||(s=f.ListAstNode.getEmpty()),s}parseList(s,o){const t=[];for(;;){let n=this.tryReadChildFromCache(s);if(!n){const c=this.tokenizer.peek();if(!c||c.kind===2&&c.bracketIds.intersects(s))break;n=this.parseChild(s,o+1)}n.kind===4&&n.childrenLength===0||t.push(n)}return this.oldNodeReader?(0,y.concat23Trees)(t):(0,y.concat23TreesOfSameHeight)(t,this.createImmutableLists)}tryReadChildFromCache(s){if(this.oldNodeReader){const o=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(o===null||!(0,I.lengthIsZero)(o)){const t=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),i=>o!==null&&!(0,I.lengthLessThan)(i.length,o)?!1:i.canBeReused(s));if(t)return this._itemsFromCache++,this.tokenizer.skip(t.length),t}}}parseChild(s,o){this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new f.InvalidBracketAstNode(t.bracketIds,t.length);case 0:return t.astNode;case 1:{if(o>300)return new f.TextAstNode(t.length);const i=s.merge(t.bracketIds),n=this.parseList(i,o+1),c=this.tokenizer.peek();return c&&c.kind===2&&(c.bracketId===t.bracketId||c.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),f.PairAstNode.create(t.astNode,n,c.astNode)):f.PairAstNode.create(t.astNode,n,null)}default:throw new Error("unexpected")}}}}),define(re[247],ae([1,0,8,145,201,105,146]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class m{constructor(o,t,i,n,c){this.length=o,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=c}}e.Token=m;class w{constructor(o,t){this.textModel=o,this.bracketTokens=t,this.reader=new b(this.textModel,this.bracketTokens),this._offset=I.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,I.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(o){this.didPeek=!1,this._offset=(0,I.lengthAdd)(this._offset,o);const t=(0,I.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let o;return this.peeked?(this.didPeek=!1,o=this.peeked):o=this.reader.read(),o&&(this._offset=(0,I.lengthAdd)(this._offset,o.length)),o}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=w;class b{constructor(o,t){this.textModel=o,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=o.getLineCount(),this.textBufferLastLineLength=o.getLineLength(this.textBufferLineCount)}setPosition(o,t){o===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=o,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const c=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(c.length),c}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const o=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const c=this.lineTokens,u=c.getCount();let r=null;if(this.lineTokenOffset<u){const a=c.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<u&&a===c.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=k.TokenMetadata.getTokenType(a)===0,d=k.TokenMetadata.containsBalancedBrackets(a),p=c.getEndOffset(this.lineTokenOffset);if(d&&l&&this.lineCharOffset<p){const h=c.getLanguageId(this.lineTokenOffset),g=this.line.substring(this.lineCharOffset,p),C=this.bracketTokens.getSingleLanguageBracketTokens(h),S=C.regExpGlobal;if(S){S.lastIndex=0;const _=S.exec(g);_&&(r=C.getToken(_[0]),r&&(this.lineCharOffset+=_.index))}}if(i+=p-this.lineCharOffset,r)if(o!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=r;break}else return this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(r.length),r;else this.lineTokenOffset++,this.lineCharOffset=p}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const n=(0,I.lengthDiff)(o,t,this.lineIdx,this.lineCharOffset);return new m(n,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(n))}}class v{constructor(o,t){this.text=o,this._offset=I.lengthZero,this.idx=0;const i=t.getRegExpStr(),n=i?new RegExp(i+`|
`,"gi"):null,c=[];let u,r=0,a=0,l=0,d=0;const p=[];for(let C=0;C<60;C++)p.push(new m((0,I.toLength)(0,C),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,I.toLength)(0,C))));const h=[];for(let C=0;C<60;C++)h.push(new m((0,I.toLength)(1,C),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,I.toLength)(1,C))));if(n)for(n.lastIndex=0;(u=n.exec(o))!==null;){const C=u.index,S=u[0];if(S===`
`)r++,a=C+1;else{if(l!==C){let _;if(d===r){const L=C-l;if(L<p.length)_=p[L];else{const D=(0,I.toLength)(0,L);_=new m(D,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(D))}}else{const L=r-d,D=C-a;if(L===1&&D<h.length)_=h[D];else{const T=(0,I.toLength)(L,D);_=new m(T,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(T))}}c.push(_)}c.push(t.getToken(S)),l=C+S.length,d=r}}const g=o.length;if(l!==g){const C=d===r?(0,I.toLength)(0,g-l):(0,I.toLength)(r-d,g-a);c.push(new m(C,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(C)))}this.length=(0,I.toLength)(r,g-a),this.tokens=c}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(o){throw new f.NotSupportedError}}e.FastTokenizer=v}),define(re[336],ae([1,0,11,201,105,146,247]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class m{static createFromLanguage(s,o){function t(n){return o.getKey(`${n.languageId}:::${n.bracketText}`)}const i=new Map;for(const n of s.bracketsNew.openingBrackets){const c=(0,E.toLength)(0,n.bracketText.length),u=t(n),r=I.SmallImmutableSet.getEmpty().add(u,I.identityKeyProvider);i.set(n.bracketText,new y.Token(c,1,u,r,k.BracketAstNode.create(c,n,r)))}for(const n of s.bracketsNew.closingBrackets){const c=(0,E.toLength)(0,n.bracketText.length);let u=I.SmallImmutableSet.getEmpty();const r=n.getOpeningBrackets();for(const a of r)u=u.add(t(a),I.identityKeyProvider);i.set(n.bracketText,new y.Token(c,2,t(r[0]),u,k.BracketAstNode.create(c,n,u)))}return new m(i)}constructor(s){this.map=s,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const s=[...this.map.keys()];return s.sort(),s.reverse(),s.map(o=>w(o)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const s=this.getRegExpStr();this._regExpGlobal=s?new RegExp(s,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(s){return this.map.get(s.toLowerCase())}findClosingTokenText(s){for(const[o,t]of this.map)if(t.kind===2&&t.bracketIds.intersects(s))return o}get isEmpty(){return this.map.size===0}}e.BracketTokens=m;function w(v){let s=(0,f.escapeRegExpCharacters)(v);return/^[\w ]+/.test(v)&&(s=`\\b${s}`),/[\w ]+$/.test(v)&&(s=`${s}\\b`),s}class b{constructor(s,o){this.denseKeyProvider=s,this.getLanguageConfiguration=o,this.languageIdToBracketTokens=new Map}didLanguageChange(s){return this.languageIdToBracketTokens.has(s)}getSingleLanguageBracketTokens(s){let o=this.languageIdToBracketTokens.get(s);return o||(o=m.createFromLanguage(this.getLanguageConfiguration(s),this.denseKeyProvider),this.languageIdToBracketTokens.set(s,o)),o}}e.LanguageAgnosticBracketTokens=b}),define(re[589],ae([1,0,336,105,335,146,247]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=m;function m(b,v){const s=new I.DenseKeyProvider,o=new f.LanguageAgnosticBracketTokens(s,r=>v.getLanguageConfiguration(r)),t=new y.TextBufferTokenizer(new w([b]),o),i=(0,E.parseDocument)(t,[],void 0,!0);let n="";const c=b.getLineContent();function u(r,a){if(r.kind===2)if(u(r.openingBracket,a),a=(0,k.lengthAdd)(a,r.openingBracket.length),r.child&&(u(r.child,a),a=(0,k.lengthAdd)(a,r.child.length)),r.closingBracket)u(r.closingBracket,a),a=(0,k.lengthAdd)(a,r.closingBracket.length);else{const d=o.getSingleLanguageBracketTokens(r.openingBracket.languageId).findClosingTokenText(r.openingBracket.bracketIds);n+=d}else if(r.kind!==3){if(r.kind===0||r.kind===1)n+=c.substring((0,k.lengthGetColumnCountIfZeroLineCount)(a),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(a,r.length)));else if(r.kind===4)for(const l of r.children)u(l,a),a=(0,k.lengthAdd)(a,l.length)}}return u(i,k.lengthZero),n}class w{constructor(v){this.lines=v,this.tokenization={getLineTokens:s=>this.lines[s-1]}}getLineCount(){return this.lines.length}getLineLength(v){return this.lines[v-1].getLineContent().length}}}),define(re[590],ae([1,0,13]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(y){this._default=y,this._store=[]}get(y){return y<this._store.length?this._store[y]:this._default}set(y,m){for(;y>=this._store.length;)this._store[this._store.length]=this._default;this._store[y]=m}replace(y,m,w){if(y>=this._store.length)return;if(m===0){this.insert(y,w);return}else if(w===0){this.delete(y,m);return}const b=this._store.slice(0,y),v=this._store.slice(y+m),s=E(w,this._default);this._store=b.concat(s,v)}delete(y,m){m===0||y>=this._store.length||this._store.splice(y,m)}insert(y,m){if(m===0||y>=this._store.length)return;const w=[];for(let b=0;b<m;b++)w[b]=this._default;this._store=(0,f.arrayInsert)(this._store,y,w)}}e.FixedArray=k;function E(I,y){const m=[];for(let w=0;w<I;w++)m[w]=y;return m}}),define(re[591],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=E;class f{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(I,y,m,w,b){b.spacesDiff=0,b.looksLikeAlignment=!1;let v;for(v=0;v<y&&v<w;v++){const u=I.charCodeAt(v),r=m.charCodeAt(v);if(u!==r)break}let s=0,o=0;for(let u=v;u<y;u++)I.charCodeAt(u)===32?s++:o++;let t=0,i=0;for(let u=v;u<w;u++)m.charCodeAt(u)===32?t++:i++;if(s>0&&o>0||t>0&&i>0)return;const n=Math.abs(o-i),c=Math.abs(s-t);if(n===0){b.spacesDiff=c,c>0&&0<=t-1&&t-1<I.length&&t<m.length&&m.charCodeAt(t)!==32&&I.charCodeAt(t-1)===32&&I.charCodeAt(I.length-1)===44&&(b.looksLikeAlignment=!0);return}if(c%n===0){b.spacesDiff=c/n;return}}function E(I,y,m){const w=Math.min(I.getLineCount(),1e4);let b=0,v=0,s="",o=0;const t=[2,4,6,8,3,5,7],i=8,n=[0,0,0,0,0,0,0,0,0],c=new f;for(let a=1;a<=w;a++){const l=I.getLineLength(a),d=I.getLineContent(a),p=l<=65536;let h=!1,g=0,C=0,S=0;for(let L=0,D=l;L<D;L++){const T=p?d.charCodeAt(L):I.getLineCharCode(a,L);if(T===9)S++;else if(T===32)C++;else{h=!0,g=L;break}}if(!h||(S>0?b++:C>1&&v++,k(s,o,d,g,c),c.looksLikeAlignment&&!(m&&y===c.spacesDiff)))continue;const _=c.spacesDiff;_<=i&&n[_]++,s=d,o=g}let u=m;b!==v&&(u=b<v);let r=y;if(u){let a=u?0:.1*w;t.forEach(l=>{const d=n[l];d>a&&(a=d,r=l)}),r===4&&n[4]>0&&n[2]>0&&n[2]>=n[4]/2&&(r=2)}return{insertSpaces:u,tabSize:r}}}),define(re[592],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalTree=e.SENTINEL=e.IntervalNode=void 0,e.getNodeColor=f,e.nodeAcceptEdit=r,e.recomputeMaxEnd=R,e.intervalCompare=P;function f(x){return(x.metadata&1)>>>0}function k(x,O){x.metadata=x.metadata&254|O<<0}function E(x){return(x.metadata&2)>>>1===1}function I(x,O){x.metadata=x.metadata&253|(O?1:0)<<1}function y(x){return(x.metadata&4)>>>2===1}function m(x,O){x.metadata=x.metadata&251|(O?1:0)<<2}function w(x){return(x.metadata&64)>>>6===1}function b(x,O){x.metadata=x.metadata&191|(O?1:0)<<6}function v(x){return(x.metadata&24)>>>3}function s(x,O){x.metadata=x.metadata&231|O<<3}function o(x){return(x.metadata&32)>>>5===1}function t(x,O){x.metadata=x.metadata&223|(O?1:0)<<5}class i{constructor(O,B,H){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=B,this.end=H,this.delta=0,this.maxEnd=H,this.id=O,this.ownerId=0,this.options=null,m(this,!1),b(this,!1),s(this,1),t(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=null,I(this,!1)}reset(O,B,H,K){this.start=B,this.end=H,this.maxEnd=H,this.cachedVersionId=O,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=K}setOptions(O){this.options=O;const B=this.options.className;m(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),b(this,this.options.glyphMarginClassName!==null),s(this,this.options.stickiness),t(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(O,B,H){this.cachedVersionId!==H&&(this.range=null),this.cachedVersionId=H,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=i,e.SENTINEL=new i(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(O,B,H,K,V,j){return this.root===e.SENTINEL?[]:g(this,O,B,H,K,V,j)}search(O,B,H,K){return this.root===e.SENTINEL?[]:h(this,O,B,H,K)}collectNodesFromOwner(O){return d(this,O)}collectNodesPostOrder(){return p(this)}insert(O){C(this,O),this._normalizeDeltaIfNecessary()}delete(O){_(this,O),this._normalizeDeltaIfNecessary()}resolveNode(O,B){const H=O;let K=0;for(;O!==this.root;)O===O.parent.right&&(K+=O.parent.delta),O=O.parent;const V=H.start+K,j=H.end+K;H.setCachedOffsets(V,j,B)}acceptReplace(O,B,H,K){const V=a(this,O,O+B);for(let j=0,U=V.length;j<U;j++){const Y=V[j];_(this,Y)}this._normalizeDeltaIfNecessary(),l(this,O,O+B,H),this._normalizeDeltaIfNecessary();for(let j=0,U=V.length;j<U;j++){const Y=V[j];Y.start=Y.cachedAbsoluteStart,Y.end=Y.cachedAbsoluteEnd,r(Y,O,O+B,H,K),Y.maxEnd=Y.end,C(this,Y)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,c(this))}}e.IntervalTree=n;function c(x){let O=x.root,B=0;for(;O!==e.SENTINEL;){if(O.left!==e.SENTINEL&&!E(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!E(O.right)){B+=O.delta,O=O.right;continue}O.start=B+O.start,O.end=B+O.end,O.delta=0,R(O),I(O,!0),I(O.left,!1),I(O.right,!1),O===O.parent.right&&(B-=O.parent.delta),O=O.parent}I(x.root,!1)}function u(x,O,B,H){return x<B?!0:x>B||H===1?!1:H===2?!0:O}function r(x,O,B,H,K){const V=v(x),j=V===0||V===2,U=V===1||V===2,Y=B-O,Q=H,Z=Math.min(Y,Q),G=x.start;let F=!1;const J=x.end;let te=!1;O<=G&&J<=B&&o(x)&&(x.start=O,F=!0,x.end=O,te=!0);{const he=K?1:Y>0?2:0;!F&&u(G,j,O,he)&&(F=!0),!te&&u(J,U,O,he)&&(te=!0)}if(Z>0&&!K){const he=Y>Q?2:0;!F&&u(G,j,O+Z,he)&&(F=!0),!te&&u(J,U,O+Z,he)&&(te=!0)}{const he=K?1:0;!F&&u(G,j,B,he)&&(x.start=O+Q,F=!0),!te&&u(J,U,B,he)&&(x.end=O+Q,te=!0)}const de=Q-Y;F||(x.start=Math.max(0,G+de)),te||(x.end=Math.max(0,J+de)),x.start>x.end&&(x.end=x.start)}function a(x,O,B){let H=x.root,K=0,V=0,j=0,U=0;const Y=[];let Q=0;for(;H!==e.SENTINEL;){if(E(H)){I(H.left,!1),I(H.right,!1),H===H.parent.right&&(K-=H.parent.delta),H=H.parent;continue}if(!E(H.left)){if(V=K+H.maxEnd,V<O){I(H,!0);continue}if(H.left!==e.SENTINEL){H=H.left;continue}}if(j=K+H.start,j>B){I(H,!0);continue}if(U=K+H.end,U>=O&&(H.setCachedOffsets(j,U,0),Y[Q++]=H),I(H,!0),H.right!==e.SENTINEL&&!E(H.right)){K+=H.delta,H=H.right;continue}}return I(x.root,!1),Y}function l(x,O,B,H){let K=x.root,V=0,j=0,U=0;const Y=H-(B-O);for(;K!==e.SENTINEL;){if(E(K)){I(K.left,!1),I(K.right,!1),K===K.parent.right&&(V-=K.parent.delta),R(K),K=K.parent;continue}if(!E(K.left)){if(j=V+K.maxEnd,j<O){I(K,!0);continue}if(K.left!==e.SENTINEL){K=K.left;continue}}if(U=V+K.start,U>B){K.start+=Y,K.end+=Y,K.delta+=Y,(K.delta<-1073741824||K.delta>1073741824)&&(x.requestNormalizeDelta=!0),I(K,!0);continue}if(I(K,!0),K.right!==e.SENTINEL&&!E(K.right)){V+=K.delta,K=K.right;continue}}I(x.root,!1)}function d(x,O){let B=x.root;const H=[];let K=0;for(;B!==e.SENTINEL;){if(E(B)){I(B.left,!1),I(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!E(B.left)){B=B.left;continue}if(B.ownerId===O&&(H[K++]=B),I(B,!0),B.right!==e.SENTINEL&&!E(B.right)){B=B.right;continue}}return I(x.root,!1),H}function p(x){let O=x.root;const B=[];let H=0;for(;O!==e.SENTINEL;){if(E(O)){I(O.left,!1),I(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!E(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!E(O.right)){O=O.right;continue}B[H++]=O,I(O,!0)}return I(x.root,!1),B}function h(x,O,B,H,K){let V=x.root,j=0,U=0,Y=0;const Q=[];let Z=0;for(;V!==e.SENTINEL;){if(E(V)){I(V.left,!1),I(V.right,!1),V===V.parent.right&&(j-=V.parent.delta),V=V.parent;continue}if(V.left!==e.SENTINEL&&!E(V.left)){V=V.left;continue}U=j+V.start,Y=j+V.end,V.setCachedOffsets(U,Y,H);let G=!0;if(O&&V.ownerId&&V.ownerId!==O&&(G=!1),B&&y(V)&&(G=!1),K&&!w(V)&&(G=!1),G&&(Q[Z++]=V),I(V,!0),V.right!==e.SENTINEL&&!E(V.right)){j+=V.delta,V=V.right;continue}}return I(x.root,!1),Q}function g(x,O,B,H,K,V,j){let U=x.root,Y=0,Q=0,Z=0,G=0;const F=[];let J=0;for(;U!==e.SENTINEL;){if(E(U)){I(U.left,!1),I(U.right,!1),U===U.parent.right&&(Y-=U.parent.delta),U=U.parent;continue}if(!E(U.left)){if(Q=Y+U.maxEnd,Q<O){I(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(Z=Y+U.start,Z>B){I(U,!0);continue}if(G=Y+U.end,G>=O){U.setCachedOffsets(Z,G,V);let te=!0;H&&U.ownerId&&U.ownerId!==H&&(te=!1),K&&y(U)&&(te=!1),j&&!w(U)&&(te=!1),te&&(F[J++]=U)}if(I(U,!0),U.right!==e.SENTINEL&&!E(U.right)){Y+=U.delta,U=U.right;continue}}return I(x.root,!1),F}function C(x,O){if(x.root===e.SENTINEL)return O.parent=e.SENTINEL,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,0),x.root=O,x.root;S(x,O),M(O.parent);let B=O;for(;B!==x.root&&f(B.parent)===1;)if(B.parent===B.parent.parent.left){const H=B.parent.parent.right;f(H)===1?(k(B.parent,0),k(H,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,T(x,B)),k(B.parent,0),k(B.parent.parent,1),N(x,B.parent.parent))}else{const H=B.parent.parent.left;f(H)===1?(k(B.parent,0),k(H,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,N(x,B)),k(B.parent,0),k(B.parent.parent,1),T(x,B.parent.parent))}return k(x.root,0),O}function S(x,O){let B=0,H=x.root;const K=O.start,V=O.end;for(;;)if(P(K,V,H.start+B,H.end+B)<0)if(H.left===e.SENTINEL){O.start-=B,O.end-=B,O.maxEnd-=B,H.left=O;break}else H=H.left;else if(H.right===e.SENTINEL){O.start-=B+H.delta,O.end-=B+H.delta,O.maxEnd-=B+H.delta,H.right=O;break}else B+=H.delta,H=H.right;O.parent=H,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,1)}function _(x,O){let B,H;if(O.left===e.SENTINEL?(B=O.right,H=O,B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta):O.right===e.SENTINEL?(B=O.left,H=O):(H=L(O.right),B=H.right,B.start+=H.delta,B.end+=H.delta,B.delta+=H.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),H.start+=O.delta,H.end+=O.delta,H.delta=O.delta,(H.delta<-1073741824||H.delta>1073741824)&&(x.requestNormalizeDelta=!0)),H===x.root){x.root=B,k(B,0),O.detach(),D(),R(B),x.root.parent=e.SENTINEL;return}const K=f(H)===1;if(H===H.parent.left?H.parent.left=B:H.parent.right=B,H===O?B.parent=H.parent:(H.parent===O?B.parent=H:B.parent=H.parent,H.left=O.left,H.right=O.right,H.parent=O.parent,k(H,f(O)),O===x.root?x.root=H:O===O.parent.left?O.parent.left=H:O.parent.right=H,H.left!==e.SENTINEL&&(H.left.parent=H),H.right!==e.SENTINEL&&(H.right.parent=H)),O.detach(),K){M(B.parent),H!==O&&(M(H),M(H.parent)),D();return}M(B),M(B.parent),H!==O&&(M(H),M(H.parent));let V;for(;B!==x.root&&f(B)===0;)B===B.parent.left?(V=B.parent.right,f(V)===1&&(k(V,0),k(B.parent,1),T(x,B.parent),V=B.parent.right),f(V.left)===0&&f(V.right)===0?(k(V,1),B=B.parent):(f(V.right)===0&&(k(V.left,0),k(V,1),N(x,V),V=B.parent.right),k(V,f(B.parent)),k(B.parent,0),k(V.right,0),T(x,B.parent),B=x.root)):(V=B.parent.left,f(V)===1&&(k(V,0),k(B.parent,1),N(x,B.parent),V=B.parent.left),f(V.left)===0&&f(V.right)===0?(k(V,1),B=B.parent):(f(V.left)===0&&(k(V.right,0),k(V,1),T(x,V),V=B.parent.left),k(V,f(B.parent)),k(B.parent,0),k(V.left,0),N(x,B.parent),B=x.root));k(B,0),D()}function L(x){for(;x.left!==e.SENTINEL;)x=x.left;return x}function D(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(x,O){const B=O.right;B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta,O.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?x.root=B:O===O.parent.left?O.parent.left=B:O.parent.right=B,B.left=O,O.parent=B,R(O),R(B)}function N(x,O){const B=O.left;O.delta-=B.delta,(O.delta<-1073741824||O.delta>1073741824)&&(x.requestNormalizeDelta=!0),O.start-=B.delta,O.end-=B.delta,O.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?x.root=B:O===O.parent.right?O.parent.right=B:O.parent.left=B,B.right=O,O.parent=B,R(O),R(B)}function A(x){let O=x.end;if(x.left!==e.SENTINEL){const B=x.left.maxEnd;B>O&&(O=B)}if(x.right!==e.SENTINEL){const B=x.right.maxEnd+x.delta;B>O&&(O=B)}return O}function R(x){x.maxEnd=A(x)}function M(x){for(;x!==e.SENTINEL;){const O=A(x);if(x.maxEnd===O)return;x.maxEnd=O,x=x.parent}}function P(x,O,B,H){return x===B?O-H:x-B}}),define(re[593],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SENTINEL=e.TreeNode=void 0,e.leftest=k,e.righttest=E,e.leftRotate=w,e.rightRotate=b,e.rbDelete=v,e.fixInsert=s,e.updateTreeMetadata=o,e.recomputeTreeMetadata=t;class f{constructor(n,c){this.piece=n,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.left!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}prev(){if(this.left!==e.SENTINEL)return E(this.left);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.right!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=f,e.SENTINEL=new f(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(i){for(;i.left!==e.SENTINEL;)i=i.left;return i}function E(i){for(;i.right!==e.SENTINEL;)i=i.right;return i}function I(i){return i===e.SENTINEL?0:i.size_left+i.piece.length+I(i.right)}function y(i){return i===e.SENTINEL?0:i.lf_left+i.piece.lineFeedCnt+y(i.right)}function m(){e.SENTINEL.parent=e.SENTINEL}function w(i,n){const c=n.right;c.size_left+=n.size_left+(n.piece?n.piece.length:0),c.lf_left+=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),n.right=c.left,c.left!==e.SENTINEL&&(c.left.parent=n),c.parent=n.parent,n.parent===e.SENTINEL?i.root=c:n.parent.left===n?n.parent.left=c:n.parent.right=c,c.left=n,n.parent=c}function b(i,n){const c=n.left;n.left=c.right,c.right!==e.SENTINEL&&(c.right.parent=n),c.parent=n.parent,n.size_left-=c.size_left+(c.piece?c.piece.length:0),n.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),n.parent===e.SENTINEL?i.root=c:n===n.parent.right?n.parent.right=c:n.parent.left=c,c.right=n,n.parent=c}function v(i,n){let c,u;if(n.left===e.SENTINEL?(u=n,c=u.right):n.right===e.SENTINEL?(u=n,c=u.left):(u=k(n.right),c=u.right),u===i.root){i.root=c,c.color=0,n.detach(),m(),i.root.parent=e.SENTINEL;return}const r=u.color===1;if(u===u.parent.left?u.parent.left=c:u.parent.right=c,u===n?(c.parent=u.parent,t(i,c)):(u.parent===n?c.parent=u:c.parent=u.parent,t(i,c),u.left=n.left,u.right=n.right,u.parent=n.parent,u.color=n.color,n===i.root?i.root=u:n===n.parent.left?n.parent.left=u:n.parent.right=u,u.left!==e.SENTINEL&&(u.left.parent=u),u.right!==e.SENTINEL&&(u.right.parent=u),u.size_left=n.size_left,u.lf_left=n.lf_left,t(i,u)),n.detach(),c.parent.left===c){const l=I(c),d=y(c);if(l!==c.parent.size_left||d!==c.parent.lf_left){const p=l-c.parent.size_left,h=d-c.parent.lf_left;c.parent.size_left=l,c.parent.lf_left=d,o(i,c.parent,p,h)}}if(t(i,c.parent),r){m();return}let a;for(;c!==i.root&&c.color===0;)c===c.parent.left?(a=c.parent.right,a.color===1&&(a.color=0,c.parent.color=1,w(i,c.parent),a=c.parent.right),a.left.color===0&&a.right.color===0?(a.color=1,c=c.parent):(a.right.color===0&&(a.left.color=0,a.color=1,b(i,a),a=c.parent.right),a.color=c.parent.color,c.parent.color=0,a.right.color=0,w(i,c.parent),c=i.root)):(a=c.parent.left,a.color===1&&(a.color=0,c.parent.color=1,b(i,c.parent),a=c.parent.left),a.left.color===0&&a.right.color===0?(a.color=1,c=c.parent):(a.left.color===0&&(a.right.color=0,a.color=1,w(i,a),a=c.parent.left),a.color=c.parent.color,c.parent.color=0,a.left.color=0,b(i,c.parent),c=i.root));c.color=0,m()}function s(i,n){for(t(i,n);n!==i.root&&n.parent.color===1;)if(n.parent===n.parent.parent.left){const c=n.parent.parent.right;c.color===1?(n.parent.color=0,c.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,w(i,n)),n.parent.color=0,n.parent.parent.color=1,b(i,n.parent.parent))}else{const c=n.parent.parent.left;c.color===1?(n.parent.color=0,c.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,b(i,n)),n.parent.color=0,n.parent.parent.color=1,w(i,n.parent.parent))}i.root.color=0}function o(i,n,c,u){for(;n!==i.root&&n!==e.SENTINEL;)n.parent.left===n&&(n.parent.size_left+=c,n.parent.lf_left+=u),n=n.parent}function t(i,n){let c=0,u=0;if(n!==i.root){for(;n!==i.root&&n===n.parent.right;)n=n.parent;if(n!==i.root)for(n=n.parent,c=I(n.left)-n.size_left,u=y(n.left)-n.lf_left,n.size_left+=c,n.lf_left+=u;n!==i.root&&(c!==0||u!==0);)n.parent.left===n&&(n.parent.size_left+=c,n.parent.lf_left+=u),n=n.parent}}}),define(re[337],ae([1,0,13,191]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class E{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,b){w=(0,k.toUint32)(w);const v=this.values,s=this.prefixSum,o=b.length;return o===0?!1:(this.values=new Uint32Array(v.length+o),this.values.set(v.subarray(0,w),0),this.values.set(v.subarray(w),w+o),this.values.set(b,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(w,b){return w=(0,k.toUint32)(w),b=(0,k.toUint32)(b),this.values[w]===b?!1:(this.values[w]=b,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,b){w=(0,k.toUint32)(w),b=(0,k.toUint32)(b);const v=this.values,s=this.prefixSum;if(w>=v.length)return!1;const o=v.length-w;return b>=o&&(b=o),b===0?!1:(this.values=new Uint32Array(v.length-b),this.values.set(v.subarray(0,w),0),this.values.set(v.subarray(w+b),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(w){return w<0?0:(w=(0,k.toUint32)(w),this._getPrefixSum(w))}_getPrefixSum(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let b=this.prefixSumValidIndex[0]+1;b===0&&(this.prefixSum[0]=this.values[0],b++),w>=this.values.length&&(w=this.values.length-1);for(let v=b;v<=w;v++)this.prefixSum[v]=this.prefixSum[v-1]+this.values[v];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalSum();let b=0,v=this.values.length-1,s=0,o=0,t=0;for(;b<=v;)if(s=b+(v-b)/2|0,o=this.prefixSum[s],t=o-this.values[s],w<t)v=s-1;else if(w>=o)b=s+1;else break;return new y(s,w-t)}}e.PrefixSumComputer=E;class I{constructor(w){this._values=w,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(w){return this._ensureValid(),w===0?0:this._prefixSum[w-1]}getIndexOf(w){this._ensureValid();const b=this._indexBySum[w],v=b>0?this._prefixSum[b-1]:0;return new y(b,w-v)}removeValues(w,b){this._values.splice(w,b),this._invalidate(w)}insertValues(w,b){this._values=(0,f.arrayInsert)(this._values,w,b),this._invalidate(w)}_invalidate(w){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,w-1)}_ensureValid(){if(!this._isValid){for(let w=this._validEndIndex+1,b=this._values.length;w<b;w++){const v=this._values[w],s=w>0?this._prefixSum[w-1]:0;this._prefixSum[w]=s+v;for(let o=0;o<v;o++)this._indexBySum[s+o]=w}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(w,b){this._values[w]!==b&&(this._values[w]=b,this._invalidate(w))}}e.ConstantTimePrefixSumComputer=I;class y{constructor(w,b){this.index=w,this.remainder=b,this._prefixSumIndexOfResultBrand=void 0,this.index=w,this.remainder=b}}e.PrefixSumIndexOfResult=y}),define(re[594],ae([1,0,11,9,337]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class I{constructor(m,w,b,v){this._uri=m,this._lines=w,this._eol=b,this._versionId=v,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const w=m.changes;for(const b of w)this._acceptDeleteRange(b.range),this._acceptInsertText(new k.Position(b.range.startLineNumber,b.range.startColumn),b.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,w=this._lines.length,b=new Uint32Array(w);for(let v=0;v<w;v++)b[v]=this._lines[v].length+m;this._lineStarts=new E.PrefixSumComputer(b)}}_setLineText(m,w){this._lines[m]=w,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,w){if(w.length===0)return;const b=(0,f.splitLines)(w);if(b.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+b[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}b[b.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+b[0]);const v=new Uint32Array(b.length-1);for(let s=1;s<b.length;s++)this._lines.splice(m.lineNumber+s-1,0,b[s]),v[s-1]=b[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,v)}}e.MirrorTextModel=I}),define(re[338],ae([1,0,2]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends f.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(re[202],ae([1,0,11,167,9,5,41]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.TextModelSearch=e.SearchParams=void 0,e.isMultilineRegexSource=b,e.createFindMatch=v,e.isValidMatch=n;const m=999;class w{constructor(r,a,l,d){this.searchString=r,this.isRegex=a,this.matchCase=l,this.wordSeparators=d}parseSearchRequest(){if(this.searchString==="")return null;let r;this.isRegex?r=b(this.searchString):r=this.searchString.indexOf(`
`)>=0;let a=null;try{a=f.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:r,global:!0,unicode:!0})}catch{return null}if(!a)return null;let l=!this.isRegex&&!r;return l&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(l=this.matchCase),new y.SearchData(a,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators,[]):null,l?this.searchString:null)}}e.SearchParams=w;function b(u){if(!u||u.length===0)return!1;for(let r=0,a=u.length;r<a;r++){const l=u.charCodeAt(r);if(l===10)return!0;if(l===92){if(r++,r>=a)break;const d=u.charCodeAt(r);if(d===110||d===114||d===87)return!0}}return!1}function v(u,r,a){if(!a)return new y.FindMatch(u,null);const l=[];for(let d=0,p=r.length;d<p;d++)l[d]=r[d];return new y.FindMatch(u,l)}class s{constructor(r){const a=[];let l=0;for(let d=0,p=r.length;d<p;d++)r.charCodeAt(d)===10&&(a[l++]=d);this._lineFeedsOffsets=a}findLineFeedCountBeforeOffset(r){const a=this._lineFeedsOffsets;let l=0,d=a.length-1;if(d===-1||r<=a[0])return 0;for(;l<d;){const p=l+((d-l)/2>>0);a[p]>=r?d=p-1:a[p+1]>=r?(l=p,d=p):l=p+1}return l+1}}class o{static findMatches(r,a,l,d,p){const h=a.parseSearchRequest();return h?h.regex.multiline?this._doFindMatchesMultiline(r,l,new c(h.wordSeparators,h.regex),d,p):this._doFindMatchesLineByLine(r,l,h,d,p):[]}static _getMultilineMatchRange(r,a,l,d,p,h){let g,C=0;d?(C=d.findLineFeedCountBeforeOffset(p),g=a+p+C):g=a+p;let S;if(d){const T=d.findLineFeedCountBeforeOffset(p+h.length)-C;S=g+h.length+T}else S=g+h.length;const _=r.getPositionAt(g),L=r.getPositionAt(S);return new I.Range(_.lineNumber,_.column,L.lineNumber,L.column)}static _doFindMatchesMultiline(r,a,l,d,p){const h=r.getOffsetAt(a.getStartPosition()),g=r.getValueInRange(a,1),C=r.getEOL()===`\r
`?new s(g):null,S=[];let _=0,L;for(l.reset(0);L=l.next(g);)if(S[_++]=v(this._getMultilineMatchRange(r,h,g,C,L.index,L[0]),L,d),_>=p)return S;return S}static _doFindMatchesLineByLine(r,a,l,d,p){const h=[];let g=0;if(a.startLineNumber===a.endLineNumber){const S=r.getLineContent(a.startLineNumber).substring(a.startColumn-1,a.endColumn-1);return g=this._findMatchesInLine(l,S,a.startLineNumber,a.startColumn-1,g,h,d,p),h}const C=r.getLineContent(a.startLineNumber).substring(a.startColumn-1);g=this._findMatchesInLine(l,C,a.startLineNumber,a.startColumn-1,g,h,d,p);for(let S=a.startLineNumber+1;S<a.endLineNumber&&g<p;S++)g=this._findMatchesInLine(l,r.getLineContent(S),S,0,g,h,d,p);if(g<p){const S=r.getLineContent(a.endLineNumber).substring(0,a.endColumn-1);g=this._findMatchesInLine(l,S,a.endLineNumber,0,g,h,d,p)}return h}static _findMatchesInLine(r,a,l,d,p,h,g,C){const S=r.wordSeparators;if(!g&&r.simpleSearch){const D=r.simpleSearch,T=D.length,N=a.length;let A=-T;for(;(A=a.indexOf(D,A+T))!==-1;)if((!S||n(S,a,N,A,T))&&(h[p++]=new y.FindMatch(new I.Range(l,A+1+d,l,A+1+T+d),null),p>=C))return p;return p}const _=new c(r.wordSeparators,r.regex);let L;_.reset(0);do if(L=_.next(a),L&&(h[p++]=v(new I.Range(l,L.index+1+d,l,L.index+1+L[0].length+d),L,g),p>=C))return p;while(L);return p}static findNextMatch(r,a,l,d){const p=a.parseSearchRequest();if(!p)return null;const h=new c(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindNextMatchMultiline(r,l,h,d):this._doFindNextMatchLineByLine(r,l,h,d)}static _doFindNextMatchMultiline(r,a,l,d){const p=new E.Position(a.lineNumber,1),h=r.getOffsetAt(p),g=r.getLineCount(),C=r.getValueInRange(new I.Range(p.lineNumber,p.column,g,r.getLineMaxColumn(g)),1),S=r.getEOL()===`\r
`?new s(C):null;l.reset(a.column-1);const _=l.next(C);return _?v(this._getMultilineMatchRange(r,h,C,S,_.index,_[0]),_,d):a.lineNumber!==1||a.column!==1?this._doFindNextMatchMultiline(r,new E.Position(1,1),l,d):null}static _doFindNextMatchLineByLine(r,a,l,d){const p=r.getLineCount(),h=a.lineNumber,g=r.getLineContent(h),C=this._findFirstMatchInLine(l,g,h,a.column,d);if(C)return C;for(let S=1;S<=p;S++){const _=(h+S-1)%p,L=r.getLineContent(_+1),D=this._findFirstMatchInLine(l,L,_+1,1,d);if(D)return D}return null}static _findFirstMatchInLine(r,a,l,d,p){r.reset(d-1);const h=r.next(a);return h?v(new I.Range(l,h.index+1,l,h.index+1+h[0].length),h,p):null}static findPreviousMatch(r,a,l,d){const p=a.parseSearchRequest();if(!p)return null;const h=new c(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindPreviousMatchMultiline(r,l,h,d):this._doFindPreviousMatchLineByLine(r,l,h,d)}static _doFindPreviousMatchMultiline(r,a,l,d){const p=this._doFindMatchesMultiline(r,new I.Range(1,1,a.lineNumber,a.column),l,d,10*m);if(p.length>0)return p[p.length-1];const h=r.getLineCount();return a.lineNumber!==h||a.column!==r.getLineMaxColumn(h)?this._doFindPreviousMatchMultiline(r,new E.Position(h,r.getLineMaxColumn(h)),l,d):null}static _doFindPreviousMatchLineByLine(r,a,l,d){const p=r.getLineCount(),h=a.lineNumber,g=r.getLineContent(h).substring(0,a.column-1),C=this._findLastMatchInLine(l,g,h,d);if(C)return C;for(let S=1;S<=p;S++){const _=(p+h-S-1)%p,L=r.getLineContent(_+1),D=this._findLastMatchInLine(l,L,_+1,d);if(D)return D}return null}static _findLastMatchInLine(r,a,l,d){let p=null,h;for(r.reset(0);h=r.next(a);)p=v(new I.Range(l,h.index+1,l,h.index+1+h[0].length),h,d);return p}}e.TextModelSearch=o;function t(u,r,a,l,d){if(l===0)return!0;const p=r.charCodeAt(l-1);if(u.get(p)!==0||p===13||p===10)return!0;if(d>0){const h=r.charCodeAt(l);if(u.get(h)!==0)return!0}return!1}function i(u,r,a,l,d){if(l+d===a)return!0;const p=r.charCodeAt(l+d);if(u.get(p)!==0||p===13||p===10)return!0;if(d>0){const h=r.charCodeAt(l+d-1);if(u.get(h)!==0)return!0}return!1}function n(u,r,a,l,d){return t(u,r,a,l,d)&&i(u,r,a,l,d)}class c{constructor(r,a){this._wordSeparators=r,this._searchRegex=a,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(r){this._searchRegex.lastIndex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(r){const a=r.length;let l;do{if(this._prevMatchStartIndex+this._prevMatchLength===a||(l=this._searchRegex.exec(r),!l))return null;const d=l.index,p=l[0].length;if(d===this._prevMatchStartIndex&&p===this._prevMatchLength){if(p===0){f.getNextCodePoint(r,a,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=d,this._prevMatchLength=p,!this._wordSeparators||n(this._wordSeparators,r,a,d,p))return l}while(l);return null}}e.Searcher=c}),define(re[339],ae([1,0,9,5,41,593,202]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=void 0,e.createLineStartsFast=v,e.createLineStarts=s;const m=65535;function w(u){let r;return u[u.length-1]<65536?r=new Uint16Array(u.length):r=new Uint32Array(u.length),r.set(u,0),r}class b{constructor(r,a,l,d,p){this.lineStarts=r,this.cr=a,this.lf=l,this.crlf=d,this.isBasicASCII=p}}function v(u,r=!0){const a=[0];let l=1;for(let d=0,p=u.length;d<p;d++){const h=u.charCodeAt(d);h===13?d+1<p&&u.charCodeAt(d+1)===10?(a[l++]=d+2,d++):a[l++]=d+1:h===10&&(a[l++]=d+1)}return r?w(a):a}function s(u,r){u.length=0,u[0]=0;let a=1,l=0,d=0,p=0,h=!0;for(let C=0,S=r.length;C<S;C++){const _=r.charCodeAt(C);_===13?C+1<S&&r.charCodeAt(C+1)===10?(p++,u[a++]=C+2,C++):(l++,u[a++]=C+1):_===10?(d++,u[a++]=C+1):h&&_!==9&&(_<32||_>126)&&(h=!1)}const g=new b(w(u),l,d,p,h);return u.length=0,g}class o{constructor(r,a,l,d,p){this.bufferIndex=r,this.start=a,this.end=l,this.lineFeedCnt=d,this.length=p}}e.Piece=o;class t{constructor(r,a){this.buffer=r,this.lineStarts=a}}e.StringBuffer=t;class i{constructor(r,a){this._pieces=[],this._tree=r,this._BOM=a,this._index=0,r.root!==I.SENTINEL&&r.iterate(r.root,l=>(l!==I.SENTINEL&&this._pieces.push(l.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class n{constructor(r){this._limit=r,this._cache=[]}get(r){for(let a=this._cache.length-1;a>=0;a--){const l=this._cache[a];if(l.nodeStartOffset<=r&&l.nodeStartOffset+l.node.piece.length>=r)return l}return null}get2(r){for(let a=this._cache.length-1;a>=0;a--){const l=this._cache[a];if(l.nodeStartLineNumber&&l.nodeStartLineNumber<r&&l.nodeStartLineNumber+l.node.piece.lineFeedCnt>=r)return l}return null}set(r){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(r)}validate(r){let a=!1;const l=this._cache;for(let d=0;d<l.length;d++){const p=l[d];if(p.node.parent===null||p.nodeStartOffset>=r){l[d]=null,a=!0;continue}}if(a){const d=[];for(const p of l)p!==null&&d.push(p);this._cache=d}}}class c{constructor(r,a,l){this.create(r,a,l)}create(r,a,l){this._buffers=[new t("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=I.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=a,this._EOLLength=a.length,this._EOLNormalized=l;let d=null;for(let p=0,h=r.length;p<h;p++)if(r[p].buffer.length>0){r[p].lineStarts||(r[p].lineStarts=v(r[p].buffer));const g=new o(p+1,{line:0,column:0},{line:r[p].lineStarts.length-1,column:r[p].buffer.length-r[p].lineStarts[r[p].lineStarts.length-1]},r[p].lineStarts.length-1,r[p].buffer.length);this._buffers.push(r[p]),d=this.rbInsertRight(d,g)}this._searchCache=new n(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(r){const a=m,l=a-Math.floor(a/3),d=l*2;let p="",h=0;const g=[];if(this.iterate(this.root,C=>{const S=this.getNodeContent(C),_=S.length;if(h<=l||h+_<d)return p+=S,h+=_,!0;const L=p.replace(/\r\n|\r|\n/g,r);return g.push(new t(L,v(L))),p=S,h=_,!0}),h>0){const C=p.replace(/\r\n|\r|\n/g,r);g.push(new t(C,v(C)))}this.create(g,r,!0)}getEOL(){return this._EOL}setEOL(r){this._EOL=r,this._EOLLength=this._EOL.length,this.normalizeEOL(r)}createSnapshot(r){return new i(this,r)}getOffsetAt(r,a){let l=0,d=this.root;for(;d!==I.SENTINEL;)if(d.left!==I.SENTINEL&&d.lf_left+1>=r)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt+1>=r){l+=d.size_left;const p=this.getAccumulatedValue(d,r-d.lf_left-2);return l+=p+a-1}else r-=d.lf_left+d.piece.lineFeedCnt,l+=d.size_left+d.piece.length,d=d.right;return l}getPositionAt(r){r=Math.floor(r),r=Math.max(0,r);let a=this.root,l=0;const d=r;for(;a!==I.SENTINEL;)if(a.size_left!==0&&a.size_left>=r)a=a.left;else if(a.size_left+a.piece.length>=r){const p=this.getIndexOf(a,r-a.size_left);if(l+=a.lf_left+p.index,p.index===0){const h=this.getOffsetAt(l+1,1),g=d-h;return new f.Position(l+1,g+1)}return new f.Position(l+1,p.remainder+1)}else if(r-=a.size_left+a.piece.length,l+=a.lf_left+a.piece.lineFeedCnt,a.right===I.SENTINEL){const p=this.getOffsetAt(l+1,1),h=d-r-p;return new f.Position(l+1,h+1)}else a=a.right;return new f.Position(1,1)}getValueInRange(r,a){if(r.startLineNumber===r.endLineNumber&&r.startColumn===r.endColumn)return"";const l=this.nodeAt2(r.startLineNumber,r.startColumn),d=this.nodeAt2(r.endLineNumber,r.endColumn),p=this.getValueInRange2(l,d);return a?a!==this._EOL||!this._EOLNormalized?p.replace(/\r\n|\r|\n/g,a):a===this.getEOL()&&this._EOLNormalized?p:p.replace(/\r\n|\r|\n/g,a):p}getValueInRange2(r,a){if(r.node===a.node){const g=r.node,C=this._buffers[g.piece.bufferIndex].buffer,S=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start);return C.substring(S+r.remainder,S+a.remainder)}let l=r.node;const d=this._buffers[l.piece.bufferIndex].buffer,p=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);let h=d.substring(p+r.remainder,p+l.piece.length);for(l=l.next();l!==I.SENTINEL;){const g=this._buffers[l.piece.bufferIndex].buffer,C=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);if(l===a.node){h+=g.substring(C,C+a.remainder);break}else h+=g.substr(C,l.piece.length);l=l.next()}return h}getLinesContent(){const r=[];let a=0,l="",d=!1;return this.iterate(this.root,p=>{if(p===I.SENTINEL)return!0;const h=p.piece;let g=h.length;if(g===0)return!0;const C=this._buffers[h.bufferIndex].buffer,S=this._buffers[h.bufferIndex].lineStarts,_=h.start.line,L=h.end.line;let D=S[_]+h.start.column;if(d&&(C.charCodeAt(D)===10&&(D++,g--),r[a++]=l,l="",d=!1,g===0))return!0;if(_===L)return!this._EOLNormalized&&C.charCodeAt(D+g-1)===13?(d=!0,l+=C.substr(D,g-1)):l+=C.substr(D,g),!0;l+=this._EOLNormalized?C.substring(D,Math.max(D,S[_+1]-this._EOLLength)):C.substring(D,S[_+1]).replace(/(\r\n|\r|\n)$/,""),r[a++]=l;for(let T=_+1;T<L;T++)l=this._EOLNormalized?C.substring(S[T],S[T+1]-this._EOLLength):C.substring(S[T],S[T+1]).replace(/(\r\n|\r|\n)$/,""),r[a++]=l;return!this._EOLNormalized&&C.charCodeAt(S[L]+h.end.column-1)===13?(d=!0,h.end.column===0?a--:l=C.substr(S[L],h.end.column-1)):l=C.substr(S[L],h.end.column),!0}),d&&(r[a++]=l,l=""),r[a++]=l,r}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(r){return this._lastVisitedLine.lineNumber===r?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=r,r===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(r):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(r,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(r).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(r){if(r.remainder===r.node.piece.length){const a=r.node.next();if(!a)return 0;const l=this._buffers[a.piece.bufferIndex],d=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.buffer.charCodeAt(d)}else{const a=this._buffers[r.node.piece.bufferIndex],d=this.offsetInBuffer(r.node.piece.bufferIndex,r.node.piece.start)+r.remainder;return a.buffer.charCodeAt(d)}}getLineCharCode(r,a){const l=this.nodeAt2(r,a+1);return this._getCharCode(l)}getLineLength(r){if(r===this.getLineCount()){const a=this.getOffsetAt(r,1);return this.getLength()-a}return this.getOffsetAt(r+1,1)-this.getOffsetAt(r,1)-this._EOLLength}findMatchesInNode(r,a,l,d,p,h,g,C,S,_,L){const D=this._buffers[r.piece.bufferIndex],T=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),N=this.offsetInBuffer(r.piece.bufferIndex,p),A=this.offsetInBuffer(r.piece.bufferIndex,h);let R;const M={line:0,column:0};let P,x;a._wordSeparators?(P=D.buffer.substring(N,A),x=O=>O+N,a.reset(0)):(P=D.buffer,x=O=>O,a.reset(N));do if(R=a.next(P),R){if(x(R.index)>=A)return _;this.positionInBuffer(r,x(R.index)-T,M);const O=this.getLineFeedCnt(r.piece.bufferIndex,p,M),B=M.line===p.line?M.column-p.column+d:M.column+1,H=B+R[0].length;if(L[_++]=(0,y.createFindMatch)(new k.Range(l+O,B,l+O,H),R,C),x(R.index)+R[0].length>=A||_>=S)return _}while(R);return _}findMatchesLineByLine(r,a,l,d){const p=[];let h=0;const g=new y.Searcher(a.wordSeparators,a.regex);let C=this.nodeAt2(r.startLineNumber,r.startColumn);if(C===null)return[];const S=this.nodeAt2(r.endLineNumber,r.endColumn);if(S===null)return[];let _=this.positionInBuffer(C.node,C.remainder);const L=this.positionInBuffer(S.node,S.remainder);if(C.node===S.node)return this.findMatchesInNode(C.node,g,r.startLineNumber,r.startColumn,_,L,a,l,d,h,p),p;let D=r.startLineNumber,T=C.node;for(;T!==S.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,_,T.piece.end);if(A>=1){const M=this._buffers[T.piece.bufferIndex].lineStarts,P=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),x=M[_.line+A],O=D===r.startLineNumber?r.startColumn:1;if(h=this.findMatchesInNode(T,g,D,O,_,this.positionInBuffer(T,x-P),a,l,d,h,p),h>=d)return p;D+=A}const R=D===r.startLineNumber?r.startColumn-1:0;if(D===r.endLineNumber){const M=this.getLineContent(D).substring(R,r.endColumn-1);return h=this._findMatchesInLine(a,g,M,r.endLineNumber,R,h,p,l,d),p}if(h=this._findMatchesInLine(a,g,this.getLineContent(D).substr(R),D,R,h,p,l,d),h>=d)return p;D++,C=this.nodeAt2(D,1),T=C.node,_=this.positionInBuffer(C.node,C.remainder)}if(D===r.endLineNumber){const A=D===r.startLineNumber?r.startColumn-1:0,R=this.getLineContent(D).substring(A,r.endColumn-1);return h=this._findMatchesInLine(a,g,R,r.endLineNumber,A,h,p,l,d),p}const N=D===r.startLineNumber?r.startColumn:1;return h=this.findMatchesInNode(S.node,g,D,N,_,L,a,l,d,h,p),p}_findMatchesInLine(r,a,l,d,p,h,g,C,S){const _=r.wordSeparators;if(!C&&r.simpleSearch){const D=r.simpleSearch,T=D.length,N=l.length;let A=-T;for(;(A=l.indexOf(D,A+T))!==-1;)if((!_||(0,y.isValidMatch)(_,l,N,A,T))&&(g[h++]=new E.FindMatch(new k.Range(d,A+1+p,d,A+1+T+p),null),h>=S))return h;return h}let L;a.reset(0);do if(L=a.next(l),L&&(g[h++]=(0,y.createFindMatch)(new k.Range(d,L.index+1+p,d,L.index+1+L[0].length+p),L,C),h>=S))return h;while(L);return h}insert(r,a,l=!1){if(this._EOLNormalized=this._EOLNormalized&&l,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==I.SENTINEL){const{node:d,remainder:p,nodeStartOffset:h}=this.nodeAt(r),g=d.piece,C=g.bufferIndex,S=this.positionInBuffer(d,p);if(d.piece.bufferIndex===0&&g.end.line===this._lastChangeBufferPos.line&&g.end.column===this._lastChangeBufferPos.column&&h+g.length===r&&a.length<m){this.appendToNode(d,a),this.computeBufferMetadata();return}if(h===r)this.insertContentToNodeLeft(a,d),this._searchCache.validate(r);else if(h+d.piece.length>r){const _=[];let L=new o(g.bufferIndex,S,g.end,this.getLineFeedCnt(g.bufferIndex,S,g.end),this.offsetInBuffer(C,g.end)-this.offsetInBuffer(C,S));if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.nodeCharCodeAt(d,p)===10){const A={line:L.start.line+1,column:0};L=new o(L.bufferIndex,A,L.end,this.getLineFeedCnt(L.bufferIndex,A,L.end),L.length-1),a+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(a))if(this.nodeCharCodeAt(d,p-1)===13){const A=this.positionInBuffer(d,p-1);this.deleteNodeTail(d,A),a="\r"+a,d.piece.length===0&&_.push(d)}else this.deleteNodeTail(d,S);else this.deleteNodeTail(d,S);const D=this.createNewPieces(a);L.length>0&&this.rbInsertRight(d,L);let T=d;for(let N=0;N<D.length;N++)T=this.rbInsertRight(T,D[N]);this.deleteNodes(_)}else this.insertContentToNodeRight(a,d)}else{const d=this.createNewPieces(a);let p=this.rbInsertLeft(null,d[0]);for(let h=1;h<d.length;h++)p=this.rbInsertRight(p,d[h])}this.computeBufferMetadata()}delete(r,a){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",a<=0||this.root===I.SENTINEL)return;const l=this.nodeAt(r),d=this.nodeAt(r+a),p=l.node,h=d.node;if(p===h){const D=this.positionInBuffer(p,l.remainder),T=this.positionInBuffer(p,d.remainder);if(l.nodeStartOffset===r){if(a===p.piece.length){const N=p.next();(0,I.rbDelete)(this,p),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(p,T),this._searchCache.validate(r),this.validateCRLFWithPrevNode(p),this.computeBufferMetadata();return}if(l.nodeStartOffset+p.piece.length===r+a){this.deleteNodeTail(p,D),this.validateCRLFWithNextNode(p),this.computeBufferMetadata();return}this.shrinkNode(p,D,T),this.computeBufferMetadata();return}const g=[],C=this.positionInBuffer(p,l.remainder);this.deleteNodeTail(p,C),this._searchCache.validate(r),p.piece.length===0&&g.push(p);const S=this.positionInBuffer(h,d.remainder);this.deleteNodeHead(h,S),h.piece.length===0&&g.push(h);const _=p.next();for(let D=_;D!==I.SENTINEL&&D!==h;D=D.next())g.push(D);const L=p.piece.length===0?p.prev():p;this.deleteNodes(g),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}insertContentToNodeLeft(r,a){const l=[];if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.startWithLF(a)){const h=a.piece,g={line:h.start.line+1,column:0},C=new o(h.bufferIndex,g,h.end,this.getLineFeedCnt(h.bufferIndex,g,h.end),h.length-1);a.piece=C,r+=`
`,(0,I.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&l.push(a)}const d=this.createNewPieces(r);let p=this.rbInsertLeft(a,d[d.length-1]);for(let h=d.length-2;h>=0;h--)p=this.rbInsertLeft(p,d[h]);this.validateCRLFWithPrevNode(p),this.deleteNodes(l)}insertContentToNodeRight(r,a){this.adjustCarriageReturnFromNext(r,a)&&(r+=`
`);const l=this.createNewPieces(r),d=this.rbInsertRight(a,l[0]);let p=d;for(let h=1;h<l.length;h++)p=this.rbInsertRight(p,l[h]);this.validateCRLFWithPrevNode(d)}positionInBuffer(r,a,l){const d=r.piece,p=r.piece.bufferIndex,h=this._buffers[p].lineStarts,C=h[d.start.line]+d.start.column+a;let S=d.start.line,_=d.end.line,L=0,D=0,T=0;for(;S<=_&&(L=S+(_-S)/2|0,T=h[L],L!==_);)if(D=h[L+1],C<T)_=L-1;else if(C>=D)S=L+1;else break;return l?(l.line=L,l.column=C-T,null):{line:L,column:C-T}}getLineFeedCnt(r,a,l){if(l.column===0)return l.line-a.line;const d=this._buffers[r].lineStarts;if(l.line===d.length-1)return l.line-a.line;const p=d[l.line+1],h=d[l.line]+l.column;if(p>h+1)return l.line-a.line;const g=h-1;return this._buffers[r].buffer.charCodeAt(g)===13?l.line-a.line+1:l.line-a.line}offsetInBuffer(r,a){return this._buffers[r].lineStarts[a.line]+a.column}deleteNodes(r){for(let a=0;a<r.length;a++)(0,I.rbDelete)(this,r[a])}createNewPieces(r){if(r.length>m){const _=[];for(;r.length>m;){const D=r.charCodeAt(m-1);let T;D===13||D>=55296&&D<=56319?(T=r.substring(0,m-1),r=r.substring(m-1)):(T=r.substring(0,m),r=r.substring(m));const N=v(T);_.push(new o(this._buffers.length,{line:0,column:0},{line:N.length-1,column:T.length-N[N.length-1]},N.length-1,T.length)),this._buffers.push(new t(T,N))}const L=v(r);return _.push(new o(this._buffers.length,{line:0,column:0},{line:L.length-1,column:r.length-L[L.length-1]},L.length-1,r.length)),this._buffers.push(new t(r,L)),_}let a=this._buffers[0].buffer.length;const l=v(r,!1);let d=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&a!==0&&this.startWithLF(r)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},d=this._lastChangeBufferPos;for(let _=0;_<l.length;_++)l[_]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1)),this._buffers[0].buffer+="_"+r,a+=1}else{if(a!==0)for(let _=0;_<l.length;_++)l[_]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1)),this._buffers[0].buffer+=r}const p=this._buffers[0].buffer.length,h=this._buffers[0].lineStarts.length-1,g=p-this._buffers[0].lineStarts[h],C={line:h,column:g},S=new o(0,d,C,this.getLineFeedCnt(0,d,C),p-a);return this._lastChangeBufferPos=C,[S]}getLineRawContent(r,a=0){let l=this.root,d="";const p=this._searchCache.get2(r);if(p){l=p.node;const h=this.getAccumulatedValue(l,r-p.nodeStartLineNumber-1),g=this._buffers[l.piece.bufferIndex].buffer,C=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);if(p.nodeStartLineNumber+l.piece.lineFeedCnt===r)d=g.substring(C+h,C+l.piece.length);else{const S=this.getAccumulatedValue(l,r-p.nodeStartLineNumber);return g.substring(C+h,C+S-a)}}else{let h=0;const g=r;for(;l!==I.SENTINEL;)if(l.left!==I.SENTINEL&&l.lf_left>=r-1)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt>r-1){const C=this.getAccumulatedValue(l,r-l.lf_left-2),S=this.getAccumulatedValue(l,r-l.lf_left-1),_=this._buffers[l.piece.bufferIndex].buffer,L=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return h+=l.size_left,this._searchCache.set({node:l,nodeStartOffset:h,nodeStartLineNumber:g-(r-1-l.lf_left)}),_.substring(L+C,L+S-a)}else if(l.lf_left+l.piece.lineFeedCnt===r-1){const C=this.getAccumulatedValue(l,r-l.lf_left-2),S=this._buffers[l.piece.bufferIndex].buffer,_=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);d=S.substring(_+C,_+l.piece.length);break}else r-=l.lf_left+l.piece.lineFeedCnt,h+=l.size_left+l.piece.length,l=l.right}for(l=l.next();l!==I.SENTINEL;){const h=this._buffers[l.piece.bufferIndex].buffer;if(l.piece.lineFeedCnt>0){const g=this.getAccumulatedValue(l,0),C=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return d+=h.substring(C,C+g-a),d}else{const g=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);d+=h.substr(g,l.piece.length)}l=l.next()}return d}computeBufferMetadata(){let r=this.root,a=1,l=0;for(;r!==I.SENTINEL;)a+=r.lf_left+r.piece.lineFeedCnt,l+=r.size_left+r.piece.length,r=r.right;this._lineCnt=a,this._length=l,this._searchCache.validate(this._length)}getIndexOf(r,a){const l=r.piece,d=this.positionInBuffer(r,a),p=d.line-l.start.line;if(this.offsetInBuffer(l.bufferIndex,l.end)-this.offsetInBuffer(l.bufferIndex,l.start)===a){const h=this.getLineFeedCnt(r.piece.bufferIndex,l.start,d);if(h!==p)return{index:h,remainder:0}}return{index:p,remainder:d.column}}getAccumulatedValue(r,a){if(a<0)return 0;const l=r.piece,d=this._buffers[l.bufferIndex].lineStarts,p=l.start.line+a+1;return p>l.end.line?d[l.end.line]+l.end.column-d[l.start.line]-l.start.column:d[p]-d[l.start.line]-l.start.column}deleteNodeTail(r,a){const l=r.piece,d=l.lineFeedCnt,p=this.offsetInBuffer(l.bufferIndex,l.end),h=a,g=this.offsetInBuffer(l.bufferIndex,h),C=this.getLineFeedCnt(l.bufferIndex,l.start,h),S=C-d,_=g-p,L=l.length+_;r.piece=new o(l.bufferIndex,l.start,h,C,L),(0,I.updateTreeMetadata)(this,r,_,S)}deleteNodeHead(r,a){const l=r.piece,d=l.lineFeedCnt,p=this.offsetInBuffer(l.bufferIndex,l.start),h=a,g=this.getLineFeedCnt(l.bufferIndex,h,l.end),C=this.offsetInBuffer(l.bufferIndex,h),S=g-d,_=p-C,L=l.length+_;r.piece=new o(l.bufferIndex,h,l.end,g,L),(0,I.updateTreeMetadata)(this,r,_,S)}shrinkNode(r,a,l){const d=r.piece,p=d.start,h=d.end,g=d.length,C=d.lineFeedCnt,S=a,_=this.getLineFeedCnt(d.bufferIndex,d.start,S),L=this.offsetInBuffer(d.bufferIndex,a)-this.offsetInBuffer(d.bufferIndex,p);r.piece=new o(d.bufferIndex,d.start,S,_,L),(0,I.updateTreeMetadata)(this,r,L-g,_-C);const D=new o(d.bufferIndex,l,h,this.getLineFeedCnt(d.bufferIndex,l,h),this.offsetInBuffer(d.bufferIndex,h)-this.offsetInBuffer(d.bufferIndex,l)),T=this.rbInsertRight(r,D);this.validateCRLFWithPrevNode(T)}appendToNode(r,a){this.adjustCarriageReturnFromNext(a,r)&&(a+=`
`);const l=this.shouldCheckCRLF()&&this.startWithLF(a)&&this.endWithCR(r),d=this._buffers[0].buffer.length;this._buffers[0].buffer+=a;const p=v(a,!1);for(let T=0;T<p.length;T++)p[T]+=d;if(l){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:d-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(p.slice(1));const h=this._buffers[0].lineStarts.length-1,g=this._buffers[0].buffer.length-this._buffers[0].lineStarts[h],C={line:h,column:g},S=r.piece.length+a.length,_=r.piece.lineFeedCnt,L=this.getLineFeedCnt(0,r.piece.start,C),D=L-_;r.piece=new o(r.piece.bufferIndex,r.piece.start,C,L,S),this._lastChangeBufferPos=C,(0,I.updateTreeMetadata)(this,r,a.length,D)}nodeAt(r){let a=this.root;const l=this._searchCache.get(r);if(l)return{node:l.node,nodeStartOffset:l.nodeStartOffset,remainder:r-l.nodeStartOffset};let d=0;for(;a!==I.SENTINEL;)if(a.size_left>r)a=a.left;else if(a.size_left+a.piece.length>=r){d+=a.size_left;const p={node:a,remainder:r-a.size_left,nodeStartOffset:d};return this._searchCache.set(p),p}else r-=a.size_left+a.piece.length,d+=a.size_left+a.piece.length,a=a.right;return null}nodeAt2(r,a){let l=this.root,d=0;for(;l!==I.SENTINEL;)if(l.left!==I.SENTINEL&&l.lf_left>=r-1)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt>r-1){const p=this.getAccumulatedValue(l,r-l.lf_left-2),h=this.getAccumulatedValue(l,r-l.lf_left-1);return d+=l.size_left,{node:l,remainder:Math.min(p+a-1,h),nodeStartOffset:d}}else if(l.lf_left+l.piece.lineFeedCnt===r-1){const p=this.getAccumulatedValue(l,r-l.lf_left-2);if(p+a-1<=l.piece.length)return{node:l,remainder:p+a-1,nodeStartOffset:d};a-=l.piece.length-p;break}else r-=l.lf_left+l.piece.lineFeedCnt,d+=l.size_left+l.piece.length,l=l.right;for(l=l.next();l!==I.SENTINEL;){if(l.piece.lineFeedCnt>0){const p=this.getAccumulatedValue(l,0),h=this.offsetOfNode(l);return{node:l,remainder:Math.min(a-1,p),nodeStartOffset:h}}else if(l.piece.length>=a-1){const p=this.offsetOfNode(l);return{node:l,remainder:a-1,nodeStartOffset:p}}else a-=l.piece.length;l=l.next()}return null}nodeCharCodeAt(r,a){if(r.piece.lineFeedCnt<1)return-1;const l=this._buffers[r.piece.bufferIndex],d=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start)+a;return l.buffer.charCodeAt(d)}offsetOfNode(r){if(!r)return 0;let a=r.size_left;for(;r!==this.root;)r.parent.right===r&&(a+=r.parent.size_left+r.parent.piece.length),r=r.parent;return a}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(r){if(typeof r=="string")return r.charCodeAt(0)===10;if(r===I.SENTINEL||r.piece.lineFeedCnt===0)return!1;const a=r.piece,l=this._buffers[a.bufferIndex].lineStarts,d=a.start.line,p=l[d]+a.start.column;return d===l.length-1||l[d+1]>p+1?!1:this._buffers[a.bufferIndex].buffer.charCodeAt(p)===10}endWithCR(r){return typeof r=="string"?r.charCodeAt(r.length-1)===13:r===I.SENTINEL||r.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(r,r.piece.length-1)===13}validateCRLFWithPrevNode(r){if(this.shouldCheckCRLF()&&this.startWithLF(r)){const a=r.prev();this.endWithCR(a)&&this.fixCRLF(a,r)}}validateCRLFWithNextNode(r){if(this.shouldCheckCRLF()&&this.endWithCR(r)){const a=r.next();this.startWithLF(a)&&this.fixCRLF(r,a)}}fixCRLF(r,a){const l=[],d=this._buffers[r.piece.bufferIndex].lineStarts;let p;r.piece.end.column===0?p={line:r.piece.end.line-1,column:d[r.piece.end.line]-d[r.piece.end.line-1]-1}:p={line:r.piece.end.line,column:r.piece.end.column-1};const h=r.piece.length-1,g=r.piece.lineFeedCnt-1;r.piece=new o(r.piece.bufferIndex,r.piece.start,p,g,h),(0,I.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&l.push(r);const C={line:a.piece.start.line+1,column:0},S=a.piece.length-1,_=this.getLineFeedCnt(a.piece.bufferIndex,C,a.piece.end);a.piece=new o(a.piece.bufferIndex,C,a.piece.end,_,S),(0,I.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&l.push(a);const L=this.createNewPieces(`\r
`);this.rbInsertRight(r,L[0]);for(let D=0;D<l.length;D++)(0,I.rbDelete)(this,l[D])}adjustCarriageReturnFromNext(r,a){if(this.shouldCheckCRLF()&&this.endWithCR(r)){const l=a.next();if(this.startWithLF(l)){if(r+=`
`,l.piece.length===1)(0,I.rbDelete)(this,l);else{const d=l.piece,p={line:d.start.line+1,column:0},h=d.length-1,g=this.getLineFeedCnt(d.bufferIndex,p,d.end);l.piece=new o(d.bufferIndex,p,d.end,g,h),(0,I.updateTreeMetadata)(this,l,-1,-1)}return!0}}return!1}iterate(r,a){if(r===I.SENTINEL)return a(I.SENTINEL);const l=this.iterate(r.left,a);return l&&a(r)&&this.iterate(r.right,a)}getNodeContent(r){if(r===I.SENTINEL)return"";const a=this._buffers[r.piece.bufferIndex],l=r.piece,d=this.offsetInBuffer(l.bufferIndex,l.start),p=this.offsetInBuffer(l.bufferIndex,l.end);return a.buffer.substring(d,p)}getPieceContent(r){const a=this._buffers[r.bufferIndex],l=this.offsetInBuffer(r.bufferIndex,r.start),d=this.offsetInBuffer(r.bufferIndex,r.end);return a.buffer.substring(l,d)}rbInsertRight(r,a){const l=new I.TreeNode(a,1);if(l.left=I.SENTINEL,l.right=I.SENTINEL,l.parent=I.SENTINEL,l.size_left=0,l.lf_left=0,this.root===I.SENTINEL)this.root=l,l.color=0;else if(r.right===I.SENTINEL)r.right=l,l.parent=r;else{const p=(0,I.leftest)(r.right);p.left=l,l.parent=p}return(0,I.fixInsert)(this,l),l}rbInsertLeft(r,a){const l=new I.TreeNode(a,1);if(l.left=I.SENTINEL,l.right=I.SENTINEL,l.parent=I.SENTINEL,l.size_left=0,l.lf_left=0,this.root===I.SENTINEL)this.root=l,l.color=0;else if(r.left===I.SENTINEL)r.left=l,l.parent=r;else{const d=(0,I.righttest)(r.left);d.right=l,l.parent=d}return(0,I.fixInsert)(this,l),l}}e.PieceTreeBase=c}),define(re[340],ae([1,0,6,11,5,41,339,142,325,2]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class v extends b.Disposable{constructor(o,t,i,n,c,u,r){super(),this._onDidChangeContent=this._register(new f.Emitter),this._BOM=t,this._mightContainNonBasicASCII=!u,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=c,this._pieceTree=new y.PieceTreeBase(o,i,r)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(o){return this._pieceTree.createSnapshot(o?this._BOM:"")}getOffsetAt(o,t){return this._pieceTree.getOffsetAt(o,t)}getPositionAt(o){return this._pieceTree.getPositionAt(o)}getRangeAt(o,t){const i=o+t,n=this.getPositionAt(o),c=this.getPositionAt(i);return new E.Range(n.lineNumber,n.column,c.lineNumber,c.column)}getValueInRange(o,t=0){if(o.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(o,i)}getValueLengthInRange(o,t=0){if(o.isEmpty())return 0;if(o.startLineNumber===o.endLineNumber)return o.endColumn-o.startColumn;const i=this.getOffsetAt(o.startLineNumber,o.startColumn),n=this.getOffsetAt(o.endLineNumber,o.endColumn);let c=0;const u=this._getEndOfLine(t),r=this.getEOL();if(u.length!==r.length){const a=u.length-r.length,l=o.endLineNumber-o.startLineNumber;c=a*l}return n-i+c}getCharacterCountInRange(o,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=o.startLineNumber,c=o.endLineNumber;for(let u=n;u<=c;u++){const r=this.getLineContent(u),a=u===n?o.startColumn-1:0,l=u===c?o.endColumn-1:r.length;for(let d=a;d<l;d++)k.isHighSurrogate(r.charCodeAt(d))?(i=i+1,d=d+1):i=i+1}return i+=this._getEndOfLine(t).length*(c-n),i}return this.getValueLengthInRange(o,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(o){return this._pieceTree.getLineContent(o)}getLineCharCode(o,t){return this._pieceTree.getLineCharCode(o,t)}getLineLength(o){return this._pieceTree.getLineLength(o)}getLineFirstNonWhitespaceColumn(o){const t=k.firstNonWhitespaceIndex(this.getLineContent(o));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(o){const t=k.lastNonWhitespaceIndex(this.getLineContent(o));return t===-1?0:t+2}_getEndOfLine(o){switch(o){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(o){this._pieceTree.setEOL(o)}applyEdits(o,t,i){let n=this._mightContainRTL,c=this._mightContainUnusualLineTerminators,u=this._mightContainNonBasicASCII,r=!0,a=[];for(let S=0;S<o.length;S++){const _=o[S];r&&_._isTracked&&(r=!1);const L=_.range;if(_.text){let R=!0;u||(R=!k.isBasicASCII(_.text),u=R),!n&&R&&(n=k.containsRTL(_.text)),!c&&R&&(c=k.containsUnusualLineTerminators(_.text))}let D="",T=0,N=0,A=0;if(_.text){let R;[T,N,A,R]=(0,m.countEOL)(_.text);const M=this.getEOL();R===0||R===(M===`\r
`?2:1)?D=_.text:D=_.text.replace(/\r\n|\r|\n/g,M)}a[S]={sortIndex:S,identifier:_.identifier||null,range:L,rangeOffset:this.getOffsetAt(L.startLineNumber,L.startColumn),rangeLength:this.getValueLengthInRange(L),text:D,eolCount:T,firstLineLength:N,lastLineLength:A,forceMoveMarkers:!!_.forceMoveMarkers,isAutoWhitespaceEdit:_.isAutoWhitespaceEdit||!1}}a.sort(v._sortOpsAscending);let l=!1;for(let S=0,_=a.length-1;S<_;S++){const L=a[S].range.getEndPosition(),D=a[S+1].range.getStartPosition();if(D.isBeforeOrEqual(L)){if(D.isBefore(L))throw new Error("Overlapping ranges are not allowed!");l=!0}}r&&(a=this._reduceOperations(a));const d=i||t?v._getInverseEditRanges(a):[],p=[];if(t)for(let S=0;S<a.length;S++){const _=a[S],L=d[S];if(_.isAutoWhitespaceEdit&&_.range.isEmpty())for(let D=L.startLineNumber;D<=L.endLineNumber;D++){let T="";D===L.startLineNumber&&(T=this.getLineContent(_.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||p.push({lineNumber:D,oldContent:T})}}let h=null;if(i){let S=0;h=[];for(let _=0;_<a.length;_++){const L=a[_],D=d[_],T=this.getValueInRange(L.range),N=L.rangeOffset+S;S+=L.text.length-T.length,h[_]={sortIndex:L.sortIndex,identifier:L.identifier,range:D,text:T,textChange:new w.TextChange(L.rangeOffset,T,N,L.text)}}l||h.sort((_,L)=>_.sortIndex-L.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=c,this._mightContainNonBasicASCII=u;const g=this._doApplyEdits(a);let C=null;if(t&&p.length>0){p.sort((S,_)=>_.lineNumber-S.lineNumber),C=[];for(let S=0,_=p.length;S<_;S++){const L=p[S].lineNumber;if(S>0&&p[S-1].lineNumber===L)continue;const D=p[S].oldContent,T=this.getLineContent(L);T.length===0||T===D||k.firstNonWhitespaceIndex(T)!==-1||C.push(L)}}return this._onDidChangeContent.fire(),new I.ApplyEditsResult(h,g,C)}_reduceOperations(o){return o.length<1e3?o:[this._toSingleEditOperation(o)]}_toSingleEditOperation(o){let t=!1;const i=o[0].range,n=o[o.length-1].range,c=new E.Range(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let u=i.startLineNumber,r=i.startColumn;const a=[];for(let g=0,C=o.length;g<C;g++){const S=o[g],_=S.range;t=t||S.forceMoveMarkers,a.push(this.getValueInRange(new E.Range(u,r,_.startLineNumber,_.startColumn))),S.text.length>0&&a.push(S.text),u=_.endLineNumber,r=_.endColumn}const l=a.join(""),[d,p,h]=(0,m.countEOL)(l);return{sortIndex:0,identifier:o[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:l,eolCount:d,firstLineLength:p,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(o){o.sort(v._sortOpsDescending);const t=[];for(let i=0;i<o.length;i++){const n=o[i],c=n.range.startLineNumber,u=n.range.startColumn,r=n.range.endLineNumber,a=n.range.endColumn;if(c===r&&u===a&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new E.Range(c,u,r,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(o,t,i,n){return this._pieceTree.findMatchesLineByLine(o,t,i,n)}static _getInverseEditRanges(o){const t=[];let i=0,n=0,c=null;for(let u=0,r=o.length;u<r;u++){const a=o[u];let l,d;c?c.range.endLineNumber===a.range.startLineNumber?(l=i,d=n+(a.range.startColumn-c.range.endColumn)):(l=i+(a.range.startLineNumber-c.range.endLineNumber),d=a.range.startColumn):(l=a.range.startLineNumber,d=a.range.startColumn);let p;if(a.text.length>0){const h=a.eolCount+1;h===1?p=new E.Range(l,d,l,d+a.firstLineLength):p=new E.Range(l,d,l+h-1,a.lastLineLength+1)}else p=new E.Range(l,d,l,d);i=p.endLineNumber,n=p.endColumn,t.push(p),c=a}return t}static _sortOpsAscending(o,t){const i=E.Range.compareRangesUsingEnds(o.range,t.range);return i===0?o.sortIndex-t.sortIndex:i}static _sortOpsDescending(o,t){const i=E.Range.compareRangesUsingEnds(o.range,t.range);return i===0?t.sortIndex-o.sortIndex:-i}}e.PieceTreeTextBuffer=v}),define(re[595],ae([1,0,11,339,340]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class I{constructor(w,b,v,s,o,t,i,n,c){this._chunks=w,this._bom=b,this._cr=v,this._lf=s,this._crlf=o,this._containsRTL=t,this._containsUnusualLineTerminators=i,this._isBasicASCII=n,this._normalizeEOL=c}_getEOL(w){const b=this._cr+this._lf+this._crlf,v=this._cr+this._crlf;return b===0?w===1?`
`:`\r
`:v>b/2?`\r
`:`
`}create(w){const b=this._getEOL(w),v=this._chunks;if(this._normalizeEOL&&(b===`\r
`&&(this._cr>0||this._lf>0)||b===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,t=v.length;o<t;o++){const i=v[o].buffer.replace(/\r\n|\r|\n/g,b),n=(0,k.createLineStartsFast)(i);v[o]=new k.StringBuffer(i,n)}const s=new E.PieceTreeTextBuffer(v,this._bom,b,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class y{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(w){if(w.length===0)return;this.chunks.length===0&&f.startsWithUTF8BOM(w)&&(this.BOM=f.UTF8_BOM_CHARACTER,w=w.substr(1));const b=w.charCodeAt(w.length-1);b===13||b>=55296&&b<=56319?(this._acceptChunk1(w.substr(0,w.length-1),!1),this._hasPreviousChar=!0,this._previousChar=b):(this._acceptChunk1(w,!1),this._hasPreviousChar=!1,this._previousChar=b)}_acceptChunk1(w,b){!b&&w.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+w):this._acceptChunk2(w))}_acceptChunk2(w){const b=(0,k.createLineStarts)(this._tmpLineStarts,w);this.chunks.push(new k.StringBuffer(w,b.lineStarts)),this.cr+=b.cr,this.lf+=b.lf,this.crlf+=b.crlf,b.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=f.containsRTL(w)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=f.containsUnusualLineTerminators(w)))}finish(w=!0){return this._finish(),new I(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,w)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const w=this.chunks[this.chunks.length-1];w.buffer+=String.fromCharCode(this._previousChar);const b=(0,k.createLineStartsFast)(w.buffer);w.lineStarts=b,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=y}),define(re[596],ae([1,0,103,114]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelText=void 0;class E extends f.AbstractText{constructor(y){super(),this._textModel=y}getValueOfRange(y){return this._textModel.getValueInRange(y)}get length(){const y=this._textModel.getLineCount(),m=this._textModel.getLineLength(y);return new k.TextLength(y-1,m)}}e.TextModelText=E}),define(re[248],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=f;function f(k,E){let I=0,y=0;const m=k.length;for(;y<m;){const w=k.charCodeAt(y);if(w===32)I++;else if(w===9)I=I-I%E+E;else break;y++}return y===m?-1:I}}),define(re[341],ae([1,0,89,9,41]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class I{constructor(s,o,t,i,n){this.injectionOffsets=s,this.injectionOptions=o,this.breakOffsets=t,this.breakOffsetsVisibleColumn=i,this.wrappedTextIndentLength=n}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(s){return s>0?this.wrappedTextIndentLength:0}getLineLength(s){const o=s>0?this.breakOffsets[s-1]:0;let i=this.breakOffsets[s]-o;return s>0&&(i+=this.wrappedTextIndentLength),i}getMaxOutputOffset(s){return this.getLineLength(s)}translateToInputOffset(s,o){s>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let i=s===0?o:this.breakOffsets[s-1]+o;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&i>this.injectionOffsets[n];n++)i<this.injectionOffsets[n]+this.injectionOptions[n].content.length?i=this.injectionOffsets[n]:i-=this.injectionOptions[n].content.length;return i}translateToOutputPosition(s,o=2){let t=s;if(this.injectionOffsets!==null)for(let i=0;i<this.injectionOffsets.length&&!(s<this.injectionOffsets[i]||o!==1&&s===this.injectionOffsets[i]);i++)t+=this.injectionOptions[i].content.length;return this.offsetInInputWithInjectionsToOutputPosition(t,o)}offsetInInputWithInjectionsToOutputPosition(s,o=2){let t=0,i=this.breakOffsets.length-1,n=0,c=0;for(;t<=i;){n=t+(i-t)/2|0;const r=this.breakOffsets[n];if(c=n>0?this.breakOffsets[n-1]:0,o===0)if(s<=c)i=n-1;else if(s>r)t=n+1;else break;else if(s<c)i=n-1;else if(s>=r)t=n+1;else break}let u=s-c;return n>0&&(u+=this.wrappedTextIndentLength),new b(n,u)}normalizeOutputPosition(s,o,t){if(this.injectionOffsets!==null){const i=this.outputPositionToOffsetInInputWithInjections(s,o),n=this.normalizeOffsetInInputWithInjectionsAroundInjections(i,t);if(n!==i)return this.offsetInInputWithInjectionsToOutputPosition(n,t)}if(t===0){if(s>0&&o===this.getMinOutputOffset(s))return new b(s-1,this.getMaxOutputOffset(s-1))}else if(t===1){const i=this.getOutputLineCount()-1;if(s<i&&o===this.getMaxOutputOffset(s))return new b(s+1,this.getMinOutputOffset(s+1))}return new b(s,o)}outputPositionToOffsetInInputWithInjections(s,o){return s>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(s>0?this.breakOffsets[s-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(s,o){const t=this.getInjectedTextAtOffset(s);if(!t)return s;if(o===2){if(s===t.offsetInInputWithInjections+t.length&&y(this.injectionOptions[t.injectedTextIndex].cursorStops))return t.offsetInInputWithInjections+t.length;{let i=t.offsetInInputWithInjections;if(m(this.injectionOptions[t.injectedTextIndex].cursorStops))return i;let n=t.injectedTextIndex-1;for(;n>=0&&this.injectionOffsets[n]===this.injectionOffsets[t.injectedTextIndex]&&!(y(this.injectionOptions[n].cursorStops)||(i-=this.injectionOptions[n].content.length,m(this.injectionOptions[n].cursorStops)));)n--;return i}}else if(o===1||o===4){let i=t.offsetInInputWithInjections+t.length,n=t.injectedTextIndex;for(;n+1<this.injectionOffsets.length&&this.injectionOffsets[n+1]===this.injectionOffsets[n];)i+=this.injectionOptions[n+1].content.length,n++;return i}else if(o===0||o===3){let i=t.offsetInInputWithInjections,n=t.injectedTextIndex;for(;n-1>=0&&this.injectionOffsets[n-1]===this.injectionOffsets[n];)i-=this.injectionOptions[n-1].content.length,n--;return i}(0,f.assertNever)(o)}getInjectedText(s,o){const t=this.outputPositionToOffsetInInputWithInjections(s,o),i=this.getInjectedTextAtOffset(t);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const o=this.injectionOffsets,t=this.injectionOptions;if(o!==null){let i=0;for(let n=0;n<o.length;n++){const c=t[n].content.length,u=o[n]+i,r=o[n]+i+c;if(u>s)break;if(s<=r)return{injectedTextIndex:n,offsetInInputWithInjections:u,length:c};i+=c}}}}e.ModelLineProjectionData=I;function y(v){return v==null?!0:v===E.InjectedTextCursorStops.Right||v===E.InjectedTextCursorStops.Both}function m(v){return v==null?!0:v===E.InjectedTextCursorStops.Left||v===E.InjectedTextCursorStops.Both}class w{constructor(s){this.options=s}}e.InjectedText=w;class b{constructor(s,o){this.outputLineIndex=s,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s){return new k.Position(s+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=b}),define(re[597],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findSectionHeaders=E;const f=new RegExp("\\bMARK:\\s*(.*)$","d"),k=/^-+|-+$/g;function E(b,v){var s;let o=[];if(v.findRegionSectionHeaders&&(!((s=v.foldingRules)===null||s===void 0)&&s.markers)){const t=I(b,v);o=o.concat(t)}if(v.findMarkSectionHeaders){const t=y(b);o=o.concat(t)}return o}function I(b,v){const s=[],o=b.getLineCount();for(let t=1;t<=o;t++){const i=b.getLineContent(t),n=i.match(v.foldingRules.markers.start);if(n){const c={startLineNumber:t,startColumn:n[0].length+1,endLineNumber:t,endColumn:i.length+1};if(c.endColumn>c.startColumn){const u={range:c,...w(i.substring(n[0].length)),shouldBeInComments:!1};(u.text||u.hasSeparatorLine)&&s.push(u)}}}return s}function y(b){const v=[],s=b.getLineCount();for(let o=1;o<=s;o++){const t=b.getLineContent(o);m(t,o,v)}return v}function m(b,v,s){f.lastIndex=0;const o=f.exec(b);if(o){const t=o.indices[1][0]+1,i=o.indices[1][1]+1,n={startLineNumber:v,startColumn:t,endLineNumber:v,endColumn:i};if(n.endColumn>n.startColumn){const c={range:n,...w(o[1]),shouldBeInComments:!0};(c.text||c.hasSeparatorLine)&&s.push(c)}}}function w(b){b=b.trim();const v=b.startsWith("-");return b=b.replace(k,""),{text:b,hasSeparatorLine:v}}}),define(re[598],ae([1,0,156,16]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=y;function E(w){for(let b=0,v=w.length;b<v;b+=4){const s=w[b+0],o=w[b+1],t=w[b+2],i=w[b+3];w[b+0]=i,w[b+1]=t,w[b+2]=o,w[b+3]=s}}function I(w){const b=new Uint8Array(w.buffer,w.byteOffset,w.length*4);return k.isLittleEndian()||E(b),f.VSBuffer.wrap(b)}function y(w){const b=new Uint32Array(m(w));let v=0;if(b[v++]=w.id,w.type==="full")b[v++]=1,b[v++]=w.data.length,b.set(w.data,v),v+=w.data.length;else{b[v++]=2,b[v++]=w.deltas.length;for(const s of w.deltas)b[v++]=s.start,b[v++]=s.deleteCount,s.data?(b[v++]=s.data.length,b.set(s.data,v),v+=s.data.length):b[v++]=0}return I(b)}function m(w){let b=0;if(b+=2,w.type==="full")b+=1+w.data.length;else{b+=1,b+=3*w.deltas.length;for(const v of w.deltas)v.data&&(b+=v.data.length)}return b}}),define(re[342],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class f{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(I){if(I&&this._dragOperations.has(I)){const y=this._dragOperations.get(I);return this._dragOperations.delete(I),y}}}e.TreeViewsDnDService=f;class k{constructor(I){this.identifier=I}}e.DraggedTreeItemsIdentifier=k}),define(re[343],ae([1,0,5,202,11,89,168]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class m{static computeUnicodeHighlights(o,t,i){const n=i?i.startLineNumber:1,c=i?i.endLineNumber:o.getLineCount(),u=new b(t),r=u.getCandidateCodePoints();let a;r==="allNonBasicAscii"?a=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):a=new RegExp(`${w(Array.from(r))}`,"g");const l=new k.Searcher(null,a),d=[];let p=!1,h,g=0,C=0,S=0;e:for(let _=n,L=c;_<=L;_++){const D=o.getLineContent(_),T=D.length;l.reset(0);do if(h=l.next(D),h){let N=h.index,A=h.index+h[0].length;if(N>0){const x=D.charCodeAt(N-1);E.isHighSurrogate(x)&&N--}if(A+1<T){const x=D.charCodeAt(A-1);E.isHighSurrogate(x)&&A++}const R=D.substring(N,A);let M=(0,y.getWordAtText)(N+1,y.DEFAULT_WORD_REGEXP,D,0);M&&M.endColumn<=N+1&&(M=null);const P=u.shouldHighlightNonBasicASCII(R,M?M.word:null);if(P!==0){if(P===3?g++:P===2?C++:P===1?S++:(0,I.assertNever)(P),d.length>=1e3){p=!0;break e}d.push(new f.Range(_,N+1,_,A+1))}}while(h)}return{ranges:d,hasMore:p,ambiguousCharacterCount:g,invisibleCharacterCount:C,nonBasicAsciiCharacterCount:S}}static computeUnicodeHighlightReason(o,t){const i=new b(t);switch(i.shouldHighlightNonBasicASCII(o,null)){case 0:return null;case 2:return{kind:1};case 3:{const c=o.codePointAt(0),u=i.ambiguousCharacters.getPrimaryConfusable(c),r=E.AmbiguousCharacters.getLocales().filter(a=>!E.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,a])).isAmbiguous(c));return{kind:0,confusableWith:String.fromCodePoint(u),notAmbiguousInLocales:r}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=m;function w(s,o){return`[${E.escapeRegExpCharacters(s.map(i=>String.fromCodePoint(i)).join(""))}]`}class b{constructor(o){this.options=o,this.allowedCodePoints=new Set(o.allowedCodePoints),this.ambiguousCharacters=E.AmbiguousCharacters.getInstance(new Set(o.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const o=new Set;if(this.options.invisibleCharacters)for(const t of E.InvisibleCharacters.codePoints)v(String.fromCodePoint(t))||o.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())o.add(t);for(const t of this.allowedCodePoints)o.delete(t);return o}shouldHighlightNonBasicASCII(o,t){const i=o.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,c=!1;if(t)for(const u of t){const r=u.codePointAt(0),a=E.isBasicASCII(u);n=n||a,!a&&!this.ambiguousCharacters.isAmbiguous(r)&&!E.InvisibleCharacters.isInvisibleCharacter(r)&&(c=!0)}return!n&&c?0:this.options.invisibleCharacters&&!v(o)&&E.InvisibleCharacters.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function v(s){return s===" "||s===`
`||s==="	"}}),define(re[249],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.ShowLightbulbIconMode=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.PartialAcceptTriggerKind=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.NewSymbolNameTriggerKind=e.NewSymbolNameTag=e.MouseTargetType=e.MinimapSectionHeaderStyle=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineEditTriggerKind=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.HoverVerbosityAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var f;(function(F){F[F.Unknown=0]="Unknown",F[F.Disabled=1]="Disabled",F[F.Enabled=2]="Enabled"})(f||(e.AccessibilitySupport=f={}));var k;(function(F){F[F.Invoke=1]="Invoke",F[F.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var E;(function(F){F[F.None=0]="None",F[F.KeepWhitespace=1]="KeepWhitespace",F[F.InsertAsSnippet=4]="InsertAsSnippet"})(E||(e.CompletionItemInsertTextRule=E={}));var I;(function(F){F[F.Method=0]="Method",F[F.Function=1]="Function",F[F.Constructor=2]="Constructor",F[F.Field=3]="Field",F[F.Variable=4]="Variable",F[F.Class=5]="Class",F[F.Struct=6]="Struct",F[F.Interface=7]="Interface",F[F.Module=8]="Module",F[F.Property=9]="Property",F[F.Event=10]="Event",F[F.Operator=11]="Operator",F[F.Unit=12]="Unit",F[F.Value=13]="Value",F[F.Constant=14]="Constant",F[F.Enum=15]="Enum",F[F.EnumMember=16]="EnumMember",F[F.Keyword=17]="Keyword",F[F.Text=18]="Text",F[F.Color=19]="Color",F[F.File=20]="File",F[F.Reference=21]="Reference",F[F.Customcolor=22]="Customcolor",F[F.Folder=23]="Folder",F[F.TypeParameter=24]="TypeParameter",F[F.User=25]="User",F[F.Issue=26]="Issue",F[F.Snippet=27]="Snippet"})(I||(e.CompletionItemKind=I={}));var y;(function(F){F[F.Deprecated=1]="Deprecated"})(y||(e.CompletionItemTag=y={}));var m;(function(F){F[F.Invoke=0]="Invoke",F[F.TriggerCharacter=1]="TriggerCharacter",F[F.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(m||(e.CompletionTriggerKind=m={}));var w;(function(F){F[F.EXACT=0]="EXACT",F[F.ABOVE=1]="ABOVE",F[F.BELOW=2]="BELOW"})(w||(e.ContentWidgetPositionPreference=w={}));var b;(function(F){F[F.NotSet=0]="NotSet",F[F.ContentFlush=1]="ContentFlush",F[F.RecoverFromMarkers=2]="RecoverFromMarkers",F[F.Explicit=3]="Explicit",F[F.Paste=4]="Paste",F[F.Undo=5]="Undo",F[F.Redo=6]="Redo"})(b||(e.CursorChangeReason=b={}));var v;(function(F){F[F.LF=1]="LF",F[F.CRLF=2]="CRLF"})(v||(e.DefaultEndOfLine=v={}));var s;(function(F){F[F.Text=0]="Text",F[F.Read=1]="Read",F[F.Write=2]="Write"})(s||(e.DocumentHighlightKind=s={}));var o;(function(F){F[F.None=0]="None",F[F.Keep=1]="Keep",F[F.Brackets=2]="Brackets",F[F.Advanced=3]="Advanced",F[F.Full=4]="Full"})(o||(e.EditorAutoIndentStrategy=o={}));var t;(function(F){F[F.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",F[F.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",F[F.accessibilitySupport=2]="accessibilitySupport",F[F.accessibilityPageSize=3]="accessibilityPageSize",F[F.ariaLabel=4]="ariaLabel",F[F.ariaRequired=5]="ariaRequired",F[F.autoClosingBrackets=6]="autoClosingBrackets",F[F.autoClosingComments=7]="autoClosingComments",F[F.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",F[F.autoClosingDelete=9]="autoClosingDelete",F[F.autoClosingOvertype=10]="autoClosingOvertype",F[F.autoClosingQuotes=11]="autoClosingQuotes",F[F.autoIndent=12]="autoIndent",F[F.automaticLayout=13]="automaticLayout",F[F.autoSurround=14]="autoSurround",F[F.bracketPairColorization=15]="bracketPairColorization",F[F.guides=16]="guides",F[F.codeLens=17]="codeLens",F[F.codeLensFontFamily=18]="codeLensFontFamily",F[F.codeLensFontSize=19]="codeLensFontSize",F[F.colorDecorators=20]="colorDecorators",F[F.colorDecoratorsLimit=21]="colorDecoratorsLimit",F[F.columnSelection=22]="columnSelection",F[F.comments=23]="comments",F[F.contextmenu=24]="contextmenu",F[F.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",F[F.cursorBlinking=26]="cursorBlinking",F[F.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",F[F.cursorStyle=28]="cursorStyle",F[F.cursorSurroundingLines=29]="cursorSurroundingLines",F[F.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",F[F.cursorWidth=31]="cursorWidth",F[F.disableLayerHinting=32]="disableLayerHinting",F[F.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",F[F.domReadOnly=34]="domReadOnly",F[F.dragAndDrop=35]="dragAndDrop",F[F.dropIntoEditor=36]="dropIntoEditor",F[F.emptySelectionClipboard=37]="emptySelectionClipboard",F[F.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",F[F.extraEditorClassName=39]="extraEditorClassName",F[F.fastScrollSensitivity=40]="fastScrollSensitivity",F[F.find=41]="find",F[F.fixedOverflowWidgets=42]="fixedOverflowWidgets",F[F.folding=43]="folding",F[F.foldingStrategy=44]="foldingStrategy",F[F.foldingHighlight=45]="foldingHighlight",F[F.foldingImportsByDefault=46]="foldingImportsByDefault",F[F.foldingMaximumRegions=47]="foldingMaximumRegions",F[F.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",F[F.fontFamily=49]="fontFamily",F[F.fontInfo=50]="fontInfo",F[F.fontLigatures=51]="fontLigatures",F[F.fontSize=52]="fontSize",F[F.fontWeight=53]="fontWeight",F[F.fontVariations=54]="fontVariations",F[F.formatOnPaste=55]="formatOnPaste",F[F.formatOnType=56]="formatOnType",F[F.glyphMargin=57]="glyphMargin",F[F.gotoLocation=58]="gotoLocation",F[F.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",F[F.hover=60]="hover",F[F.inDiffEditor=61]="inDiffEditor",F[F.inlineSuggest=62]="inlineSuggest",F[F.inlineEdit=63]="inlineEdit",F[F.letterSpacing=64]="letterSpacing",F[F.lightbulb=65]="lightbulb",F[F.lineDecorationsWidth=66]="lineDecorationsWidth",F[F.lineHeight=67]="lineHeight",F[F.lineNumbers=68]="lineNumbers",F[F.lineNumbersMinChars=69]="lineNumbersMinChars",F[F.linkedEditing=70]="linkedEditing",F[F.links=71]="links",F[F.matchBrackets=72]="matchBrackets",F[F.minimap=73]="minimap",F[F.mouseStyle=74]="mouseStyle",F[F.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",F[F.mouseWheelZoom=76]="mouseWheelZoom",F[F.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",F[F.multiCursorModifier=78]="multiCursorModifier",F[F.multiCursorPaste=79]="multiCursorPaste",F[F.multiCursorLimit=80]="multiCursorLimit",F[F.occurrencesHighlight=81]="occurrencesHighlight",F[F.overviewRulerBorder=82]="overviewRulerBorder",F[F.overviewRulerLanes=83]="overviewRulerLanes",F[F.padding=84]="padding",F[F.pasteAs=85]="pasteAs",F[F.parameterHints=86]="parameterHints",F[F.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",F[F.placeholder=88]="placeholder",F[F.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",F[F.quickSuggestions=90]="quickSuggestions",F[F.quickSuggestionsDelay=91]="quickSuggestionsDelay",F[F.readOnly=92]="readOnly",F[F.readOnlyMessage=93]="readOnlyMessage",F[F.renameOnType=94]="renameOnType",F[F.renderControlCharacters=95]="renderControlCharacters",F[F.renderFinalNewline=96]="renderFinalNewline",F[F.renderLineHighlight=97]="renderLineHighlight",F[F.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",F[F.renderValidationDecorations=99]="renderValidationDecorations",F[F.renderWhitespace=100]="renderWhitespace",F[F.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",F[F.roundedSelection=102]="roundedSelection",F[F.rulers=103]="rulers",F[F.scrollbar=104]="scrollbar",F[F.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",F[F.scrollBeyondLastLine=106]="scrollBeyondLastLine",F[F.scrollPredominantAxis=107]="scrollPredominantAxis",F[F.selectionClipboard=108]="selectionClipboard",F[F.selectionHighlight=109]="selectionHighlight",F[F.selectOnLineNumbers=110]="selectOnLineNumbers",F[F.showFoldingControls=111]="showFoldingControls",F[F.showUnused=112]="showUnused",F[F.snippetSuggestions=113]="snippetSuggestions",F[F.smartSelect=114]="smartSelect",F[F.smoothScrolling=115]="smoothScrolling",F[F.stickyScroll=116]="stickyScroll",F[F.stickyTabStops=117]="stickyTabStops",F[F.stopRenderingLineAfter=118]="stopRenderingLineAfter",F[F.suggest=119]="suggest",F[F.suggestFontSize=120]="suggestFontSize",F[F.suggestLineHeight=121]="suggestLineHeight",F[F.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",F[F.suggestSelection=123]="suggestSelection",F[F.tabCompletion=124]="tabCompletion",F[F.tabIndex=125]="tabIndex",F[F.unicodeHighlighting=126]="unicodeHighlighting",F[F.unusualLineTerminators=127]="unusualLineTerminators",F[F.useShadowDOM=128]="useShadowDOM",F[F.useTabStops=129]="useTabStops",F[F.wordBreak=130]="wordBreak",F[F.wordSegmenterLocales=131]="wordSegmenterLocales",F[F.wordSeparators=132]="wordSeparators",F[F.wordWrap=133]="wordWrap",F[F.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",F[F.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",F[F.wordWrapColumn=136]="wordWrapColumn",F[F.wordWrapOverride1=137]="wordWrapOverride1",F[F.wordWrapOverride2=138]="wordWrapOverride2",F[F.wrappingIndent=139]="wrappingIndent",F[F.wrappingStrategy=140]="wrappingStrategy",F[F.showDeprecated=141]="showDeprecated",F[F.inlayHints=142]="inlayHints",F[F.editorClassName=143]="editorClassName",F[F.pixelRatio=144]="pixelRatio",F[F.tabFocusMode=145]="tabFocusMode",F[F.layoutInfo=146]="layoutInfo",F[F.wrappingInfo=147]="wrappingInfo",F[F.defaultColorDecorators=148]="defaultColorDecorators",F[F.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",F[F.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(t||(e.EditorOption=t={}));var i;(function(F){F[F.TextDefined=0]="TextDefined",F[F.LF=1]="LF",F[F.CRLF=2]="CRLF"})(i||(e.EndOfLinePreference=i={}));var n;(function(F){F[F.LF=0]="LF",F[F.CRLF=1]="CRLF"})(n||(e.EndOfLineSequence=n={}));var c;(function(F){F[F.Left=1]="Left",F[F.Center=2]="Center",F[F.Right=3]="Right"})(c||(e.GlyphMarginLane=c={}));var u;(function(F){F[F.Increase=0]="Increase",F[F.Decrease=1]="Decrease"})(u||(e.HoverVerbosityAction=u={}));var r;(function(F){F[F.None=0]="None",F[F.Indent=1]="Indent",F[F.IndentOutdent=2]="IndentOutdent",F[F.Outdent=3]="Outdent"})(r||(e.IndentAction=r={}));var a;(function(F){F[F.Both=0]="Both",F[F.Right=1]="Right",F[F.Left=2]="Left",F[F.None=3]="None"})(a||(e.InjectedTextCursorStops=a={}));var l;(function(F){F[F.Type=1]="Type",F[F.Parameter=2]="Parameter"})(l||(e.InlayHintKind=l={}));var d;(function(F){F[F.Automatic=0]="Automatic",F[F.Explicit=1]="Explicit"})(d||(e.InlineCompletionTriggerKind=d={}));var p;(function(F){F[F.Invoke=0]="Invoke",F[F.Automatic=1]="Automatic"})(p||(e.InlineEditTriggerKind=p={}));var h;(function(F){F[F.DependsOnKbLayout=-1]="DependsOnKbLayout",F[F.Unknown=0]="Unknown",F[F.Backspace=1]="Backspace",F[F.Tab=2]="Tab",F[F.Enter=3]="Enter",F[F.Shift=4]="Shift",F[F.Ctrl=5]="Ctrl",F[F.Alt=6]="Alt",F[F.PauseBreak=7]="PauseBreak",F[F.CapsLock=8]="CapsLock",F[F.Escape=9]="Escape",F[F.Space=10]="Space",F[F.PageUp=11]="PageUp",F[F.PageDown=12]="PageDown",F[F.End=13]="End",F[F.Home=14]="Home",F[F.LeftArrow=15]="LeftArrow",F[F.UpArrow=16]="UpArrow",F[F.RightArrow=17]="RightArrow",F[F.DownArrow=18]="DownArrow",F[F.Insert=19]="Insert",F[F.Delete=20]="Delete",F[F.Digit0=21]="Digit0",F[F.Digit1=22]="Digit1",F[F.Digit2=23]="Digit2",F[F.Digit3=24]="Digit3",F[F.Digit4=25]="Digit4",F[F.Digit5=26]="Digit5",F[F.Digit6=27]="Digit6",F[F.Digit7=28]="Digit7",F[F.Digit8=29]="Digit8",F[F.Digit9=30]="Digit9",F[F.KeyA=31]="KeyA",F[F.KeyB=32]="KeyB",F[F.KeyC=33]="KeyC",F[F.KeyD=34]="KeyD",F[F.KeyE=35]="KeyE",F[F.KeyF=36]="KeyF",F[F.KeyG=37]="KeyG",F[F.KeyH=38]="KeyH",F[F.KeyI=39]="KeyI",F[F.KeyJ=40]="KeyJ",F[F.KeyK=41]="KeyK",F[F.KeyL=42]="KeyL",F[F.KeyM=43]="KeyM",F[F.KeyN=44]="KeyN",F[F.KeyO=45]="KeyO",F[F.KeyP=46]="KeyP",F[F.KeyQ=47]="KeyQ",F[F.KeyR=48]="KeyR",F[F.KeyS=49]="KeyS",F[F.KeyT=50]="KeyT",F[F.KeyU=51]="KeyU",F[F.KeyV=52]="KeyV",F[F.KeyW=53]="KeyW",F[F.KeyX=54]="KeyX",F[F.KeyY=55]="KeyY",F[F.KeyZ=56]="KeyZ",F[F.Meta=57]="Meta",F[F.ContextMenu=58]="ContextMenu",F[F.F1=59]="F1",F[F.F2=60]="F2",F[F.F3=61]="F3",F[F.F4=62]="F4",F[F.F5=63]="F5",F[F.F6=64]="F6",F[F.F7=65]="F7",F[F.F8=66]="F8",F[F.F9=67]="F9",F[F.F10=68]="F10",F[F.F11=69]="F11",F[F.F12=70]="F12",F[F.F13=71]="F13",F[F.F14=72]="F14",F[F.F15=73]="F15",F[F.F16=74]="F16",F[F.F17=75]="F17",F[F.F18=76]="F18",F[F.F19=77]="F19",F[F.F20=78]="F20",F[F.F21=79]="F21",F[F.F22=80]="F22",F[F.F23=81]="F23",F[F.F24=82]="F24",F[F.NumLock=83]="NumLock",F[F.ScrollLock=84]="ScrollLock",F[F.Semicolon=85]="Semicolon",F[F.Equal=86]="Equal",F[F.Comma=87]="Comma",F[F.Minus=88]="Minus",F[F.Period=89]="Period",F[F.Slash=90]="Slash",F[F.Backquote=91]="Backquote",F[F.BracketLeft=92]="BracketLeft",F[F.Backslash=93]="Backslash",F[F.BracketRight=94]="BracketRight",F[F.Quote=95]="Quote",F[F.OEM_8=96]="OEM_8",F[F.IntlBackslash=97]="IntlBackslash",F[F.Numpad0=98]="Numpad0",F[F.Numpad1=99]="Numpad1",F[F.Numpad2=100]="Numpad2",F[F.Numpad3=101]="Numpad3",F[F.Numpad4=102]="Numpad4",F[F.Numpad5=103]="Numpad5",F[F.Numpad6=104]="Numpad6",F[F.Numpad7=105]="Numpad7",F[F.Numpad8=106]="Numpad8",F[F.Numpad9=107]="Numpad9",F[F.NumpadMultiply=108]="NumpadMultiply",F[F.NumpadAdd=109]="NumpadAdd",F[F.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",F[F.NumpadSubtract=111]="NumpadSubtract",F[F.NumpadDecimal=112]="NumpadDecimal",F[F.NumpadDivide=113]="NumpadDivide",F[F.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",F[F.ABNT_C1=115]="ABNT_C1",F[F.ABNT_C2=116]="ABNT_C2",F[F.AudioVolumeMute=117]="AudioVolumeMute",F[F.AudioVolumeUp=118]="AudioVolumeUp",F[F.AudioVolumeDown=119]="AudioVolumeDown",F[F.BrowserSearch=120]="BrowserSearch",F[F.BrowserHome=121]="BrowserHome",F[F.BrowserBack=122]="BrowserBack",F[F.BrowserForward=123]="BrowserForward",F[F.MediaTrackNext=124]="MediaTrackNext",F[F.MediaTrackPrevious=125]="MediaTrackPrevious",F[F.MediaStop=126]="MediaStop",F[F.MediaPlayPause=127]="MediaPlayPause",F[F.LaunchMediaPlayer=128]="LaunchMediaPlayer",F[F.LaunchMail=129]="LaunchMail",F[F.LaunchApp2=130]="LaunchApp2",F[F.Clear=131]="Clear",F[F.MAX_VALUE=132]="MAX_VALUE"})(h||(e.KeyCode=h={}));var g;(function(F){F[F.Hint=1]="Hint",F[F.Info=2]="Info",F[F.Warning=4]="Warning",F[F.Error=8]="Error"})(g||(e.MarkerSeverity=g={}));var C;(function(F){F[F.Unnecessary=1]="Unnecessary",F[F.Deprecated=2]="Deprecated"})(C||(e.MarkerTag=C={}));var S;(function(F){F[F.Inline=1]="Inline",F[F.Gutter=2]="Gutter"})(S||(e.MinimapPosition=S={}));var _;(function(F){F[F.Normal=1]="Normal",F[F.Underlined=2]="Underlined"})(_||(e.MinimapSectionHeaderStyle=_={}));var L;(function(F){F[F.UNKNOWN=0]="UNKNOWN",F[F.TEXTAREA=1]="TEXTAREA",F[F.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",F[F.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",F[F.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",F[F.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",F[F.CONTENT_TEXT=6]="CONTENT_TEXT",F[F.CONTENT_EMPTY=7]="CONTENT_EMPTY",F[F.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",F[F.CONTENT_WIDGET=9]="CONTENT_WIDGET",F[F.OVERVIEW_RULER=10]="OVERVIEW_RULER",F[F.SCROLLBAR=11]="SCROLLBAR",F[F.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",F[F.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(L||(e.MouseTargetType=L={}));var D;(function(F){F[F.AIGenerated=1]="AIGenerated"})(D||(e.NewSymbolNameTag=D={}));var T;(function(F){F[F.Invoke=0]="Invoke",F[F.Automatic=1]="Automatic"})(T||(e.NewSymbolNameTriggerKind=T={}));var N;(function(F){F[F.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",F[F.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",F[F.TOP_CENTER=2]="TOP_CENTER"})(N||(e.OverlayWidgetPositionPreference=N={}));var A;(function(F){F[F.Left=1]="Left",F[F.Center=2]="Center",F[F.Right=4]="Right",F[F.Full=7]="Full"})(A||(e.OverviewRulerLane=A={}));var R;(function(F){F[F.Word=0]="Word",F[F.Line=1]="Line",F[F.Suggest=2]="Suggest"})(R||(e.PartialAcceptTriggerKind=R={}));var M;(function(F){F[F.Left=0]="Left",F[F.Right=1]="Right",F[F.None=2]="None",F[F.LeftOfInjectedText=3]="LeftOfInjectedText",F[F.RightOfInjectedText=4]="RightOfInjectedText"})(M||(e.PositionAffinity=M={}));var P;(function(F){F[F.Off=0]="Off",F[F.On=1]="On",F[F.Relative=2]="Relative",F[F.Interval=3]="Interval",F[F.Custom=4]="Custom"})(P||(e.RenderLineNumbersType=P={}));var x;(function(F){F[F.None=0]="None",F[F.Text=1]="Text",F[F.Blocks=2]="Blocks"})(x||(e.RenderMinimap=x={}));var O;(function(F){F[F.Smooth=0]="Smooth",F[F.Immediate=1]="Immediate"})(O||(e.ScrollType=O={}));var B;(function(F){F[F.Auto=1]="Auto",F[F.Hidden=2]="Hidden",F[F.Visible=3]="Visible"})(B||(e.ScrollbarVisibility=B={}));var H;(function(F){F[F.LTR=0]="LTR",F[F.RTL=1]="RTL"})(H||(e.SelectionDirection=H={}));var K;(function(F){F.Off="off",F.OnCode="onCode",F.On="on"})(K||(e.ShowLightbulbIconMode=K={}));var V;(function(F){F[F.Invoke=1]="Invoke",F[F.TriggerCharacter=2]="TriggerCharacter",F[F.ContentChange=3]="ContentChange"})(V||(e.SignatureHelpTriggerKind=V={}));var j;(function(F){F[F.File=0]="File",F[F.Module=1]="Module",F[F.Namespace=2]="Namespace",F[F.Package=3]="Package",F[F.Class=4]="Class",F[F.Method=5]="Method",F[F.Property=6]="Property",F[F.Field=7]="Field",F[F.Constructor=8]="Constructor",F[F.Enum=9]="Enum",F[F.Interface=10]="Interface",F[F.Function=11]="Function",F[F.Variable=12]="Variable",F[F.Constant=13]="Constant",F[F.String=14]="String",F[F.Number=15]="Number",F[F.Boolean=16]="Boolean",F[F.Array=17]="Array",F[F.Object=18]="Object",F[F.Key=19]="Key",F[F.Null=20]="Null",F[F.EnumMember=21]="EnumMember",F[F.Struct=22]="Struct",F[F.Event=23]="Event",F[F.Operator=24]="Operator",F[F.TypeParameter=25]="TypeParameter"})(j||(e.SymbolKind=j={}));var U;(function(F){F[F.Deprecated=1]="Deprecated"})(U||(e.SymbolTag=U={}));var Y;(function(F){F[F.Hidden=0]="Hidden",F[F.Blink=1]="Blink",F[F.Smooth=2]="Smooth",F[F.Phase=3]="Phase",F[F.Expand=4]="Expand",F[F.Solid=5]="Solid"})(Y||(e.TextEditorCursorBlinkingStyle=Y={}));var Q;(function(F){F[F.Line=1]="Line",F[F.Block=2]="Block",F[F.Underline=3]="Underline",F[F.LineThin=4]="LineThin",F[F.BlockOutline=5]="BlockOutline",F[F.UnderlineThin=6]="UnderlineThin"})(Q||(e.TextEditorCursorStyle=Q={}));var Z;(function(F){F[F.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",F[F.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",F[F.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",F[F.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Z||(e.TrackedRangeStickiness=Z={}));var G;(function(F){F[F.None=0]="None",F[F.Same=1]="Same",F[F.Indent=2]="Indent",F[F.DeepIndent=3]="DeepIndent"})(G||(e.WrappingIndent=G={}))}),define(re[599],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class f{constructor(y,m,w,b){this.range=y,this.nestingLevel=m,this.nestingLevelOfEqualBracketType=w,this.isInvalid=b}}e.BracketInfo=f;class k{constructor(y,m,w,b,v,s){this.range=y,this.openingBracketRange=m,this.closingBracketRange=w,this.nestingLevel=b,this.nestingLevelOfEqualBracketType=v,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class E extends k{constructor(y,m,w,b,v,s,o){super(y,m,w,b,v,s),this.minVisibleColumnIndentation=o}}e.BracketPairWithMinIndentationInfo=E}),define(re[600],ae([1,0,6,2,599,200,336,105,335,146,247,13,334]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class t extends k.Disposable{didLanguageChange(l){return this.brackets.didLanguageChange(l)}constructor(l,d){if(super(),this.textModel=l,this.getLanguageConfiguration=d,this.didChangeEmitter=new f.Emitter,this.denseKeyProvider=new b.DenseKeyProvider,this.brackets=new y.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],l.tokenization.hasTokens)l.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const p=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),h=new v.FastTokenizer(this.textModel.getValue(),p);this.initialAstWithoutTokens=(0,w.parseDocument)(h,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const l=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,l||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:l}){const d=l.map(p=>new I.TextEditInfo((0,m.toLength)(p.fromLineNumber-1,0),(0,m.toLength)(p.toLineNumber,0),(0,m.toLength)(p.toLineNumber-p.fromLineNumber+1,0)));this.handleEdits(d,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(l){const d=I.TextEditInfo.fromModelContentChanges(l.changes);this.handleEdits(d,!1)}handleEdits(l,d){const p=(0,o.combineTextEditInfos)(this.queuedTextEdits,l);this.queuedTextEdits=p,this.initialAstWithoutTokens&&!d&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,o.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,l))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(l,d,p){const g=d,C=new v.TextBufferTokenizer(this.textModel,this.brackets);return(0,w.parseDocument)(C,l,g,p)}getBracketsInRange(l,d){this.flushQueue();const p=(0,m.toLength)(l.startLineNumber-1,l.startColumn-1),h=(0,m.toLength)(l.endLineNumber-1,l.endColumn-1);return new s.CallbackIterable(g=>{const C=this.initialAstWithoutTokens||this.astWithTokens;c(C,m.lengthZero,C.length,p,h,g,0,0,new Map,d)})}getBracketPairsInRange(l,d){this.flushQueue();const p=(0,m.positionToLength)(l.getStartPosition()),h=(0,m.positionToLength)(l.getEndPosition());return new s.CallbackIterable(g=>{const C=this.initialAstWithoutTokens||this.astWithTokens,S=new u(g,d,this.textModel);r(C,m.lengthZero,C.length,p,h,S,0,new Map)})}getFirstBracketAfter(l){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return n(d,m.lengthZero,d.length,(0,m.positionToLength)(l))}getFirstBracketBefore(l){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return i(d,m.lengthZero,d.length,(0,m.positionToLength)(l))}}e.BracketPairsTree=t;function i(a,l,d,p){if(a.kind===4||a.kind===2){const h=[];for(const g of a.children)d=(0,m.lengthAdd)(l,g.length),h.push({nodeOffsetStart:l,nodeOffsetEnd:d}),l=d;for(let g=h.length-1;g>=0;g--){const{nodeOffsetStart:C,nodeOffsetEnd:S}=h[g];if((0,m.lengthLessThan)(C,p)){const _=i(a.children[g],C,S,p);if(_)return _}}return null}else{if(a.kind===3)return null;if(a.kind===1){const h=(0,m.lengthsToRange)(l,d);return{bracketInfo:a.bracketInfo,range:h}}}return null}function n(a,l,d,p){if(a.kind===4||a.kind===2){for(const h of a.children){if(d=(0,m.lengthAdd)(l,h.length),(0,m.lengthLessThan)(p,d)){const g=n(h,l,d,p);if(g)return g}l=d}return null}else{if(a.kind===3)return null;if(a.kind===1){const h=(0,m.lengthsToRange)(l,d);return{bracketInfo:a.bracketInfo,range:h}}}return null}function c(a,l,d,p,h,g,C,S,_,L,D=!1){if(C>200)return!0;e:for(;;)switch(a.kind){case 4:{const T=a.childrenLength;for(let N=0;N<T;N++){const A=a.getChild(N);if(A){if(d=(0,m.lengthAdd)(l,A.length),(0,m.lengthLessThanEqual)(l,h)&&(0,m.lengthGreaterThanEqual)(d,p)){if((0,m.lengthGreaterThanEqual)(d,h)){a=A;continue e}if(!c(A,l,d,p,h,g,C,0,_,L))return!1}l=d}}return!0}case 2:{const T=!L||!a.closingBracket||a.closingBracket.bracketInfo.closesColorized(a.openingBracket.bracketInfo);let N=0;if(_){let R=_.get(a.openingBracket.text);R===void 0&&(R=0),N=R,T&&(R++,_.set(a.openingBracket.text,R))}const A=a.childrenLength;for(let R=0;R<A;R++){const M=a.getChild(R);if(M){if(d=(0,m.lengthAdd)(l,M.length),(0,m.lengthLessThanEqual)(l,h)&&(0,m.lengthGreaterThanEqual)(d,p)){if((0,m.lengthGreaterThanEqual)(d,h)&&M.kind!==1){a=M,T?(C++,S=N+1):S=N;continue e}if((T||M.kind!==1||!a.closingBracket)&&!c(M,l,d,p,h,g,T?C+1:C,T?N+1:N,_,L,!a.closingBracket))return!1}l=d}}return _?.set(a.openingBracket.text,N),!0}case 3:{const T=(0,m.lengthsToRange)(l,d);return g(new E.BracketInfo(T,C-1,0,!0))}case 1:{const T=(0,m.lengthsToRange)(l,d);return g(new E.BracketInfo(T,C-1,S-1,D))}case 0:return!0}}class u{constructor(l,d,p){this.push=l,this.includeMinIndentation=d,this.textModel=p}}function r(a,l,d,p,h,g,C,S){var _;if(C>200)return!0;let L=!0;if(a.kind===2){let D=0;if(S){let A=S.get(a.openingBracket.text);A===void 0&&(A=0),D=A,A++,S.set(a.openingBracket.text,A)}const T=(0,m.lengthAdd)(l,a.openingBracket.length);let N=-1;if(g.includeMinIndentation&&(N=a.computeMinIndentation(l,g.textModel)),L=g.push(new E.BracketPairWithMinIndentationInfo((0,m.lengthsToRange)(l,d),(0,m.lengthsToRange)(l,T),a.closingBracket?(0,m.lengthsToRange)((0,m.lengthAdd)(T,((_=a.child)===null||_===void 0?void 0:_.length)||m.lengthZero),d):void 0,C,D,a,N)),l=T,L&&a.child){const A=a.child;if(d=(0,m.lengthAdd)(l,A.length),(0,m.lengthLessThanEqual)(l,h)&&(0,m.lengthGreaterThanEqual)(d,p)&&(L=r(A,l,d,p,h,g,C+1,S),!L))return!1}S?.set(a.openingBracket.text,D)}else{let D=l;for(const T of a.children){const N=D;if(D=(0,m.lengthAdd)(D,T.length),(0,m.lengthLessThanEqual)(N,h)&&(0,m.lengthLessThanEqual)(p,D)&&(L=r(T,N,D,p,h,g,C,S),!L))return!1}}return L}}),define(re[601],ae([1,0,13,6,2,5,171,199,600]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class b extends E.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(n,c){super(),this.textModel=n,this.languageConfigurationService=c,this.bracketPairsTree=this._register(new E.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(n){var c;(!n.languageId||!((c=this.bracketPairsTree.value)===null||c===void 0)&&c.object.didLanguageChange(n.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(n){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleContentChanged(n)}handleDidChangeBackgroundTokenizationState(){var n;(n=this.bracketPairsTree.value)===null||n===void 0||n.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(n){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleDidChangeTokens(n)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const n=new E.DisposableStore;this.bracketPairsTree.value=v(n.add(new w.BracketPairsTree(this.textModel,c=>this.languageConfigurationService.getLanguageConfiguration(c))),n),n.add(this.bracketPairsTree.value.object.onDidChange(c=>this.onDidChangeEmitter.fire(c))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(n){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(n,!1))||f.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(n){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(n,!0))||f.CallbackIterable.empty}getBracketsInRange(n,c=!1){var u;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.getBracketsInRange(n,c))||f.CallbackIterable.empty}findMatchingBracketUp(n,c,u){const r=this.textModel.validatePosition(c),a=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const l=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew.getClosingBracketInfo(n);if(!l)return null;const d=this.getBracketPairsInRange(I.Range.fromPositions(c,c)).findLast(p=>l.closes(p.openingBracketInfo));return d?d.openingBracketRange:null}else{const l=n.toLowerCase(),d=this.languageConfigurationService.getLanguageConfiguration(a).brackets;if(!d)return null;const p=d.textIsBracket[l];return p?t(this._findMatchingBracketUp(p,r,s(u))):null}}matchBracket(n,c){if(this.canBuildAST){const u=this.getBracketPairsInRange(I.Range.fromPositions(n,n)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(n)||r.closingBracketRange.containsPosition(n))).findLastMaxBy((0,f.compareBy)(r=>r.openingBracketRange.containsPosition(n)?r.openingBracketRange:r.closingBracketRange,I.Range.compareRangesUsingStarts));return u?[u.openingBracketRange,u.closingBracketRange]:null}else{const u=s(c);return this._matchBracket(this.textModel.validatePosition(n),u)}}_establishBracketSearchOffsets(n,c,u,r){const a=c.getCount(),l=c.getLanguageId(r);let d=Math.max(0,n.column-1-u.maxBracketLength);for(let h=r-1;h>=0;h--){const g=c.getEndOffset(h);if(g<=d)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(h))||c.getLanguageId(h)!==l){d=g;break}}let p=Math.min(c.getLineContent().length,n.column-1+u.maxBracketLength);for(let h=r+1;h<a;h++){const g=c.getStartOffset(h);if(g>=p)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(h))||c.getLanguageId(h)!==l){p=g;break}}return{searchStartOffset:d,searchEndOffset:p}}_matchBracket(n,c){const u=n.lineNumber,r=this.textModel.tokenization.getLineTokens(u),a=this.textModel.getLineContent(u),l=r.findTokenIndexAtOffset(n.column-1);if(l<0)return null;const d=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(l)).brackets;if(d&&!(0,y.ignoreBracketsInToken)(r.getStandardTokenType(l))){let{searchStartOffset:p,searchEndOffset:h}=this._establishBracketSearchOffsets(n,r,d,l),g=null;for(;;){const C=m.BracketsUtils.findNextBracketInRange(d.forwardRegex,u,a,p,h);if(!C)break;if(C.startColumn<=n.column&&n.column<=C.endColumn){const S=a.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),_=this._matchFoundBracket(C,d.textIsBracket[S],d.textIsOpenBracket[S],c);if(_){if(_ instanceof o)return null;g=_}}p=C.endColumn-1}if(g)return g}if(l>0&&r.getStartOffset(l)===n.column-1){const p=l-1,h=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(p)).brackets;if(h&&!(0,y.ignoreBracketsInToken)(r.getStandardTokenType(p))){const{searchStartOffset:g,searchEndOffset:C}=this._establishBracketSearchOffsets(n,r,h,p),S=m.BracketsUtils.findPrevBracketInRange(h.reversedRegex,u,a,g,C);if(S&&S.startColumn<=n.column&&n.column<=S.endColumn){const _=a.substring(S.startColumn-1,S.endColumn-1).toLowerCase(),L=this._matchFoundBracket(S,h.textIsBracket[_],h.textIsOpenBracket[_],c);if(L)return L instanceof o?null:L}}}return null}_matchFoundBracket(n,c,u,r){if(!c)return null;const a=u?this._findMatchingBracketDown(c,n.getEndPosition(),r):this._findMatchingBracketUp(c,n.getStartPosition(),r);return a?a instanceof o?a:[n,a]:null}_findMatchingBracketUp(n,c,u){const r=n.languageId,a=n.reversedRegex;let l=-1,d=0;const p=(h,g,C,S)=>{for(;;){if(u&&++d%100===0&&!u())return o.INSTANCE;const _=m.BracketsUtils.findPrevBracketInRange(a,h,g,C,S);if(!_)break;const L=g.substring(_.startColumn-1,_.endColumn-1).toLowerCase();if(n.isOpen(L)?l++:n.isClose(L)&&l--,l===0)return _;S=_.startColumn-1}return null};for(let h=c.lineNumber;h>=1;h--){const g=this.textModel.tokenization.getLineTokens(h),C=g.getCount(),S=this.textModel.getLineContent(h);let _=C-1,L=S.length,D=S.length;h===c.lineNumber&&(_=g.findTokenIndexAtOffset(c.column-1),L=c.column-1,D=c.column-1);let T=!0;for(;_>=0;_--){const N=g.getLanguageId(_)===r&&!(0,y.ignoreBracketsInToken)(g.getStandardTokenType(_));if(N)T?L=g.getStartOffset(_):(L=g.getStartOffset(_),D=g.getEndOffset(_));else if(T&&L!==D){const A=p(h,S,L,D);if(A)return A}T=N}if(T&&L!==D){const N=p(h,S,L,D);if(N)return N}}return null}_findMatchingBracketDown(n,c,u){const r=n.languageId,a=n.forwardRegex;let l=1,d=0;const p=(g,C,S,_)=>{for(;;){if(u&&++d%100===0&&!u())return o.INSTANCE;const L=m.BracketsUtils.findNextBracketInRange(a,g,C,S,_);if(!L)break;const D=C.substring(L.startColumn-1,L.endColumn-1).toLowerCase();if(n.isOpen(D)?l++:n.isClose(D)&&l--,l===0)return L;S=L.endColumn-1}return null},h=this.textModel.getLineCount();for(let g=c.lineNumber;g<=h;g++){const C=this.textModel.tokenization.getLineTokens(g),S=C.getCount(),_=this.textModel.getLineContent(g);let L=0,D=0,T=0;g===c.lineNumber&&(L=C.findTokenIndexAtOffset(c.column-1),D=c.column-1,T=c.column-1);let N=!0;for(;L<S;L++){const A=C.getLanguageId(L)===r&&!(0,y.ignoreBracketsInToken)(C.getStandardTokenType(L));if(A)N||(D=C.getStartOffset(L)),T=C.getEndOffset(L);else if(N&&D!==T){const R=p(g,_,D,T);if(R)return R}N=A}if(N&&D!==T){const A=p(g,_,D,T);if(A)return A}}return null}findPrevBracket(n){var c;const u=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketBefore(u))||null;let r=null,a=null,l=null;for(let d=u.lineNumber;d>=1;d--){const p=this.textModel.tokenization.getLineTokens(d),h=p.getCount(),g=this.textModel.getLineContent(d);let C=h-1,S=g.length,_=g.length;if(d===u.lineNumber){C=p.findTokenIndexAtOffset(u.column-1),S=u.column-1,_=u.column-1;const D=p.getLanguageId(C);r!==D&&(r=D,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,l=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let L=!0;for(;C>=0;C--){const D=p.getLanguageId(C);if(r!==D){if(a&&l&&L&&S!==_){const N=m.BracketsUtils.findPrevBracketInRange(a.reversedRegex,d,g,S,_);if(N)return this._toFoundBracket(l,N);L=!1}r=D,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,l=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const T=!!a&&!(0,y.ignoreBracketsInToken)(p.getStandardTokenType(C));if(T)L?S=p.getStartOffset(C):(S=p.getStartOffset(C),_=p.getEndOffset(C));else if(l&&a&&L&&S!==_){const N=m.BracketsUtils.findPrevBracketInRange(a.reversedRegex,d,g,S,_);if(N)return this._toFoundBracket(l,N)}L=T}if(l&&a&&L&&S!==_){const D=m.BracketsUtils.findPrevBracketInRange(a.reversedRegex,d,g,S,_);if(D)return this._toFoundBracket(l,D)}}return null}findNextBracket(n){var c;const u=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketAfter(u))||null;const r=this.textModel.getLineCount();let a=null,l=null,d=null;for(let p=u.lineNumber;p<=r;p++){const h=this.textModel.tokenization.getLineTokens(p),g=h.getCount(),C=this.textModel.getLineContent(p);let S=0,_=0,L=0;if(p===u.lineNumber){S=h.findTokenIndexAtOffset(u.column-1),_=u.column-1,L=u.column-1;const T=h.getLanguageId(S);a!==T&&(a=T,l=this.languageConfigurationService.getLanguageConfiguration(a).brackets,d=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew)}let D=!0;for(;S<g;S++){const T=h.getLanguageId(S);if(a!==T){if(d&&l&&D&&_!==L){const A=m.BracketsUtils.findNextBracketInRange(l.forwardRegex,p,C,_,L);if(A)return this._toFoundBracket(d,A);D=!1}a=T,l=this.languageConfigurationService.getLanguageConfiguration(a).brackets,d=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew}const N=!!l&&!(0,y.ignoreBracketsInToken)(h.getStandardTokenType(S));if(N)D||(_=h.getStartOffset(S)),L=h.getEndOffset(S);else if(d&&l&&D&&_!==L){const A=m.BracketsUtils.findNextBracketInRange(l.forwardRegex,p,C,_,L);if(A)return this._toFoundBracket(d,A)}D=N}if(d&&l&&D&&_!==L){const T=m.BracketsUtils.findNextBracketInRange(l.forwardRegex,p,C,_,L);if(T)return this._toFoundBracket(d,T)}}return null}findEnclosingBrackets(n,c){const u=this.textModel.validatePosition(n);if(this.canBuildAST){const _=I.Range.fromPositions(u),L=this.getBracketPairsInRange(I.Range.fromPositions(u,u)).findLast(D=>D.closingBracketRange!==void 0&&D.range.strictContainsRange(_));return L?[L.openingBracketRange,L.closingBracketRange]:null}const r=s(c),a=this.textModel.getLineCount(),l=new Map;let d=[];const p=(_,L)=>{if(!l.has(_)){const D=[];for(let T=0,N=L?L.brackets.length:0;T<N;T++)D[T]=0;l.set(_,D)}d=l.get(_)};let h=0;const g=(_,L,D,T,N)=>{for(;;){if(r&&++h%100===0&&!r())return o.INSTANCE;const A=m.BracketsUtils.findNextBracketInRange(_.forwardRegex,L,D,T,N);if(!A)break;const R=D.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),M=_.textIsBracket[R];if(M&&(M.isOpen(R)?d[M.index]++:M.isClose(R)&&d[M.index]--,d[M.index]===-1))return this._matchFoundBracket(A,M,!1,r);T=A.endColumn-1}return null};let C=null,S=null;for(let _=u.lineNumber;_<=a;_++){const L=this.textModel.tokenization.getLineTokens(_),D=L.getCount(),T=this.textModel.getLineContent(_);let N=0,A=0,R=0;if(_===u.lineNumber){N=L.findTokenIndexAtOffset(u.column-1),A=u.column-1,R=u.column-1;const P=L.getLanguageId(N);C!==P&&(C=P,S=this.languageConfigurationService.getLanguageConfiguration(C).brackets,p(C,S))}let M=!0;for(;N<D;N++){const P=L.getLanguageId(N);if(C!==P){if(S&&M&&A!==R){const O=g(S,_,T,A,R);if(O)return t(O);M=!1}C=P,S=this.languageConfigurationService.getLanguageConfiguration(C).brackets,p(C,S)}const x=!!S&&!(0,y.ignoreBracketsInToken)(L.getStandardTokenType(N));if(x)M||(A=L.getStartOffset(N)),R=L.getEndOffset(N);else if(S&&M&&A!==R){const O=g(S,_,T,A,R);if(O)return t(O)}M=x}if(S&&M&&A!==R){const P=g(S,_,T,A,R);if(P)return t(P)}}return null}_toFoundBracket(n,c){if(!c)return null;let u=this.textModel.getValueInRange(c);u=u.toLowerCase();const r=n.getBracketInfo(u);return r?{range:c,bracketInfo:r}:null}}e.BracketPairsTextModelPart=b;function v(i,n){return{object:i,dispose:()=>n?.dispose()}}function s(i){if(typeof i>"u")return()=>!0;{const n=Date.now();return()=>Date.now()-n<=i}}class o{constructor(){this._searchCanceledBrand=void 0}}o.INSTANCE=new o;function t(i){return i instanceof o?null:i}}),define(re[129],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class f{constructor(){this.changeType=1}}e.ModelRawFlush=f;class k{static applyInjectedText(o,t){if(!t||t.length===0)return o;let i="",n=0;for(const c of t)i+=o.substring(n,c.column-1),n=c.column-1,i+=c.options.content;return i+=o.substring(n),i}static fromDecorations(o){const t=[];for(const i of o)i.options.before&&i.options.before.content.length>0&&t.push(new k(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new k(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,n)=>i.lineNumber===n.lineNumber?i.column===n.column?i.order-n.order:i.column-n.column:i.lineNumber-n.lineNumber),t}constructor(o,t,i,n,c){this.ownerId=o,this.lineNumber=t,this.column=i,this.options=n,this.order=c}}e.LineInjectedText=k;class E{constructor(o,t,i){this.changeType=2,this.lineNumber=o,this.detail=t,this.injectedText=i}}e.ModelRawLineChanged=E;class I{constructor(o,t){this.changeType=3,this.fromLineNumber=o,this.toLineNumber=t}}e.ModelRawLinesDeleted=I;class y{constructor(o,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=o,this.toLineNumber=t,this.detail=i}}e.ModelRawLinesInserted=y;class m{constructor(){this.changeType=5}}e.ModelRawEOLChanged=m;class w{constructor(o,t,i,n){this.changes=o,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(o){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===o)return!0;return!1}static merge(o,t){const i=[].concat(o.changes).concat(t.changes),n=t.versionId,c=o.isUndoing||t.isUndoing,u=o.isRedoing||t.isRedoing;return new w(i,n,c,u)}}e.ModelRawContentChangedEvent=w;class b{constructor(o){this.changes=o}}e.ModelInjectedTextChangedEvent=b;class v{constructor(o,t){this.rawContentChangedEvent=o,this.contentChangedEvent=t}merge(o){const t=w.merge(this.rawContentChangedEvent,o.rawContentChangedEvent),i=v._mergeChangeEvents(this.contentChangedEvent,o.contentChangedEvent);return new v(t,i)}static _mergeChangeEvents(o,t){const i=[].concat(o.changes).concat(t.changes),n=t.eol,c=t.versionId,u=o.isUndoing||t.isUndoing,r=o.isRedoing||t.isRedoing,a=o.isFlush||t.isFlush,l=o.isEolChange&&t.isEolChange;return{changes:i,eol:n,isEolChange:l,versionId:c,isUndoing:u,isRedoing:r,isFlush:a}}}e.InternalModelContentChangeEvent=v}),define(re[602],ae([1,0,102,11,19,74,113,341,129]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const b=(0,f.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:c=>c});class v{static create(u){return new v(new WeakRef(u))}constructor(u){this.targetWindow=u}createLineBreaksComputer(u,r,a,l,d){const p=[],h=[];return{addRequest:(g,C,S)=>{p.push(g),h.push(C)},finalize:()=>s((0,E.assertIsDefined)(this.targetWindow.deref()),p,u,r,a,l,d,h)}}}e.DOMLineBreaksComputerFactory=v;function s(c,u,r,a,l,d,p,h){var g;function C(j){const U=h[j];if(U){const Y=w.LineInjectedText.applyInjectedText(u[j],U),Q=U.map(G=>G.options),Z=U.map(G=>G.column-1);return new m.ModelLineProjectionData(Z,Q,[Y.length],[],0)}else return null}if(l===-1){const j=[];for(let U=0,Y=u.length;U<Y;U++)j[U]=C(U);return j}const S=Math.round(l*r.typicalHalfwidthCharacterWidth),L=Math.round(a*(d===3?2:d===2?1:0)),D=Math.ceil(r.spaceWidth*L),T=document.createElement("div");(0,I.applyFontInfo)(T,r);const N=new y.StringBuilder(1e4),A=[],R=[],M=[],P=[],x=[];for(let j=0;j<u.length;j++){const U=w.LineInjectedText.applyInjectedText(u[j],h[j]);let Y=0,Q=0,Z=S;if(d!==0)if(Y=k.firstNonWhitespaceIndex(U),Y===-1)Y=0;else{for(let te=0;te<Y;te++){const de=U.charCodeAt(te)===9?a-Q%a:1;Q+=de}const J=Math.ceil(r.spaceWidth*Q);J+r.typicalFullwidthCharacterWidth>S?(Y=0,Q=0):Z=S-J}const G=U.substr(Y),F=o(G,Q,a,Z,N,D);A[j]=Y,R[j]=Q,M[j]=G,P[j]=F[0],x[j]=F[1]}const O=N.build(),B=(g=b?.createHTML(O))!==null&&g!==void 0?g:O;T.innerHTML=B,T.style.position="absolute",T.style.top="10000",p==="keepAll"?(T.style.wordBreak="keep-all",T.style.overflowWrap="anywhere"):(T.style.wordBreak="inherit",T.style.overflowWrap="break-word"),c.document.body.appendChild(T);const H=document.createRange(),K=Array.prototype.slice.call(T.children,0),V=[];for(let j=0;j<u.length;j++){const U=K[j],Y=t(H,U,M[j],P[j]);if(Y===null){V[j]=C(j);continue}const Q=A[j],Z=R[j]+L,G=x[j],F=[];for(let he=0,pe=Y.length;he<pe;he++)F[he]=G[Y[he]];if(Q!==0)for(let he=0,pe=Y.length;he<pe;he++)Y[he]+=Q;let J,te;const de=h[j];de?(J=de.map(he=>he.options),te=de.map(he=>he.column-1)):(J=null,te=null),V[j]=new m.ModelLineProjectionData(te,J,Y,F,Z)}return T.remove(),V}function o(c,u,r,a,l,d){if(d!==0){const L=String(d);l.appendString('<div style="text-indent: -'),l.appendString(L),l.appendString("px; padding-left: "),l.appendString(L),l.appendString("px; box-sizing: border-box; width:")}else l.appendString('<div style="width:');l.appendString(String(a)),l.appendString('px;">');const p=c.length;let h=u,g=0;const C=[],S=[];let _=0<p?c.charCodeAt(0):0;l.appendString("<span>");for(let L=0;L<p;L++){L!==0&&L%16384===0&&l.appendString("</span><span>"),C[L]=g,S[L]=h;const D=_;_=L+1<p?c.charCodeAt(L+1):0;let T=1,N=1;switch(D){case 9:T=r-h%r,N=T;for(let A=1;A<=T;A++)A<T?l.appendCharCode(160):l.appendASCIICharCode(32);break;case 32:_===32?l.appendCharCode(160):l.appendASCIICharCode(32);break;case 60:l.appendString("&lt;");break;case 62:l.appendString("&gt;");break;case 38:l.appendString("&amp;");break;case 0:l.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:l.appendCharCode(65533);break;default:k.isFullWidthCharacter(D)&&N++,D<32?l.appendCharCode(9216+D):l.appendCharCode(D)}g+=T,h+=N}return l.appendString("</span>"),C[c.length]=g,S[c.length]=h,l.appendString("</div>"),[C,S]}function t(c,u,r,a){if(r.length<=1)return null;const l=Array.prototype.slice.call(u.children,0),d=[];try{i(c,l,a,0,null,r.length-1,null,d)}catch(p){return console.log(p),null}return d.length===0?null:(d.push(r.length),d)}function i(c,u,r,a,l,d,p,h){if(a===d||(l=l||n(c,u,r[a],r[a+1]),p=p||n(c,u,r[d],r[d+1]),Math.abs(l[0].top-p[0].top)<=.1))return;if(a+1===d){h.push(d);return}const g=a+(d-a)/2|0,C=n(c,u,r[g],r[g+1]);i(c,u,r,a,l,g,C,h),i(c,u,r,g,C,d,p,h)}function n(c,u,r,a){return c.setStart(u[r/16384|0].firstChild,r%16384),c.setEnd(u[a/16384|0].firstChild,a%16384),c.getClientRects()}}),define(re[250],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var f;(function(I){I[I.Disabled=0]="Disabled",I[I.EnabledForActive=1]="EnabledForActive",I[I.Enabled=2]="Enabled"})(f||(e.HorizontalGuidesState=f={}));class k{constructor(y,m,w,b,v,s){if(this.visibleColumn=y,this.column=m,this.className=w,this.horizontalLine=b,this.forWrappedLinesAfterColumn=v,this.forWrappedLinesBeforeOrAtColumn=s,y!==-1==(m!==-1))throw new Error}}e.IndentGuide=k;class E{constructor(y,m){this.top=y,this.endColumn=m}}e.IndentGuideHorizontalLine=E}),define(re[344],ae([1,0,67,11,93,5,338,248,250,8]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class v extends y.TextModelPart{constructor(t,i){super(),this.textModel=t,this.languageConfigurationService=i}getLanguageConfiguration(t){return this.languageConfigurationService.getLanguageConfiguration(t)}_computeIndentLevel(t){return(0,m.computeIndentLevel)(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(t,i,n){this.assertNotDisposed();const c=this.textModel.getLineCount();if(t<1||t>c)throw new b.BugIndicatingError("Illegal value for lineNumber");const u=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=!!(u&&u.offSide);let a=-2,l=-1,d=-2,p=-1;const h=P=>{if(a!==-1&&(a===-2||a>P-1)){a=-1,l=-1;for(let x=P-2;x>=0;x--){const O=this._computeIndentLevel(x);if(O>=0){a=x,l=O;break}}}if(d===-2){d=-1,p=-1;for(let x=P;x<c;x++){const O=this._computeIndentLevel(x);if(O>=0){d=x,p=O;break}}}};let g=-2,C=-1,S=-2,_=-1;const L=P=>{if(g===-2){g=-1,C=-1;for(let x=P-2;x>=0;x--){const O=this._computeIndentLevel(x);if(O>=0){g=x,C=O;break}}}if(S!==-1&&(S===-2||S<P-1)){S=-1,_=-1;for(let x=P;x<c;x++){const O=this._computeIndentLevel(x);if(O>=0){S=x,_=O;break}}}};let D=0,T=!0,N=0,A=!0,R=0,M=0;for(let P=0;T||A;P++){const x=t-P,O=t+P;P>1&&(x<1||x<i)&&(T=!1),P>1&&(O>c||O>n)&&(A=!1),P>5e4&&(T=!1,A=!1);let B=-1;if(T&&x>=1){const K=this._computeIndentLevel(x-1);K>=0?(d=x-1,p=K,B=Math.ceil(K/this.textModel.getOptions().indentSize)):(h(x),B=this._getIndentLevelForWhitespaceLine(r,l,p))}let H=-1;if(A&&O<=c){const K=this._computeIndentLevel(O-1);K>=0?(g=O-1,C=K,H=Math.ceil(K/this.textModel.getOptions().indentSize)):(L(O),H=this._getIndentLevelForWhitespaceLine(r,C,_))}if(P===0){M=B;continue}if(P===1){if(O<=c&&H>=0&&M+1===H){T=!1,D=O,N=O,R=H;continue}if(x>=1&&B>=0&&B-1===M){A=!1,D=x,N=x,R=B;continue}if(D=t,N=t,R=M,R===0)return{startLineNumber:D,endLineNumber:N,indent:R}}T&&(B>=R?D=x:T=!1),A&&(H>=R?N=O:A=!1)}return{startLineNumber:D,endLineNumber:N,indent:R}}getLinesBracketGuides(t,i,n,c){var u;const r=[];for(let g=t;g<=i;g++)r.push([]);const a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new I.Range(t,1,i,this.textModel.getLineMaxColumn(i))).toArray();let d;if(n&&l.length>0){const g=(t<=n.lineNumber&&n.lineNumber<=i?l:this.textModel.bracketPairs.getBracketPairsInRange(I.Range.fromPositions(n)).toArray()).filter(C=>I.Range.strictContainsPosition(C.range,n));d=(u=(0,f.findLast)(g,C=>a||C.range.startLineNumber!==C.range.endLineNumber))===null||u===void 0?void 0:u.range}const p=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,h=new s;for(const g of l){if(!g.closingBracketRange)continue;const C=d&&g.range.equalsRange(d);if(!C&&!c.includeInactive)continue;const S=h.getInlineClassName(g.nestingLevel,g.nestingLevelOfEqualBracketType,p)+(c.highlightActive&&C?" "+h.activeClassName:""),_=g.openingBracketRange.getStartPosition(),L=g.closingBracketRange.getStartPosition(),D=c.horizontalGuides===w.HorizontalGuidesState.Enabled||c.horizontalGuides===w.HorizontalGuidesState.EnabledForActive&&C;if(g.range.startLineNumber===g.range.endLineNumber){a&&D&&r[g.range.startLineNumber-t].push(new w.IndentGuide(-1,g.openingBracketRange.getEndPosition().column,S,new w.IndentGuideHorizontalLine(!1,L.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(L),N=this.getVisibleColumnFromPosition(g.openingBracketRange.getStartPosition()),A=Math.min(N,T,g.minVisibleColumnIndentation+1);let R=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(g.closingBracketRange.startLineNumber))<g.closingBracketRange.startColumn-1&&(R=!0);const x=Math.max(_.lineNumber,t),O=Math.min(L.lineNumber,i),B=R?1:0;for(let H=x;H<O+B;H++)r[H-t].push(new w.IndentGuide(A,-1,S,null,H===_.lineNumber?_.column:-1,H===L.lineNumber?L.column:-1));D&&(_.lineNumber>=t&&N>A&&r[_.lineNumber-t].push(new w.IndentGuide(A,-1,S,new w.IndentGuideHorizontalLine(!1,_.column),-1,-1)),L.lineNumber<=i&&T>A&&r[L.lineNumber-t].push(new w.IndentGuide(A,-1,S,new w.IndentGuideHorizontalLine(!R,L.column),-1,-1)))}for(const g of r)g.sort((C,S)=>C.visibleColumn-S.visibleColumn);return r}getVisibleColumnFromPosition(t){return E.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(t,i){this.assertNotDisposed();const n=this.textModel.getLineCount();if(t<1||t>n)throw new Error("Illegal value for startLineNumber");if(i<1||i>n)throw new Error("Illegal value for endLineNumber");const c=this.textModel.getOptions(),u=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=!!(u&&u.offSide),a=new Array(i-t+1);let l=-2,d=-1,p=-2,h=-1;for(let g=t;g<=i;g++){const C=g-t,S=this._computeIndentLevel(g-1);if(S>=0){l=g-1,d=S,a[C]=Math.ceil(S/c.indentSize);continue}if(l===-2){l=-1,d=-1;for(let _=g-2;_>=0;_--){const L=this._computeIndentLevel(_);if(L>=0){l=_,d=L;break}}}if(p!==-1&&(p===-2||p<g-1)){p=-1,h=-1;for(let _=g;_<n;_++){const L=this._computeIndentLevel(_);if(L>=0){p=_,h=L;break}}}a[C]=this._getIndentLevelForWhitespaceLine(r,d,h)}return a}_getIndentLevelForWhitespaceLine(t,i,n){const c=this.textModel.getOptions();return i===-1||n===-1?0:i<n?1+Math.floor(i/c.indentSize):i===n||t?Math.ceil(n/c.indentSize):1+Math.floor(n/c.indentSize)}}e.GuidesTextModelPart=v;class s{constructor(){this.activeClassName="indent-active"}getInlineClassName(t,i,n){return this.getInlineClassNameOfLevel(n?i:t)}getInlineClassNameOfLevel(t){return`bracket-indent-guide lvl-${t%30}`}}e.BracketPairGuidesClassNames=s}),define(re[603],ae([1,0,6,2]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class E{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(m){this._onDidChange.fire({changedLanguages:m,changedColorMap:!1})}register(m,w){return this._tokenizationSupports.set(m,w),this.handleChange([m]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(m)===w&&(this._tokenizationSupports.delete(m),this.handleChange([m]))})}get(m){return this._tokenizationSupports.get(m)||null}registerFactory(m,w){var b;(b=this._factories.get(m))===null||b===void 0||b.dispose();const v=new I(this,m,w);return this._factories.set(m,v),(0,k.toDisposable)(()=>{const s=this._factories.get(m);!s||s!==v||(this._factories.delete(m),s.dispose())})}async getOrCreate(m){const w=this.get(m);if(w)return w;const b=this._factories.get(m);return!b||b.isResolved?null:(await b.resolve(),this.get(m))}isResolved(m){if(this.get(m))return!0;const b=this._factories.get(m);return!!(!b||b.isResolved)}setColorMap(m){this._colorMap=m,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=E;class I extends k.Disposable{get isResolved(){return this._isResolved}constructor(m,w,b){super(),this._registry=m,this._languageId=w,this._factory=b,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const m=await this._factory.tokenizationSupport;this._isResolved=!0,m&&!this._isDisposed&&this._register(this._registry.register(this._languageId,m))}}}),define(re[604],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class f{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(E,I){this._startLineNumber=E,this._tokens=I}getLineTokens(E){return this._tokens[E-this._startLineNumber]}appendLineTokens(E){this._tokens.push(E)}}e.ContiguousMultilineTokens=f}),define(re[345],ae([1,0,604]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(I,y){if(this._tokens.length>0){const m=this._tokens[this._tokens.length-1];if(m.endLineNumber+1===I){m.appendLineTokens(y);return}}this._tokens.push(new f.ContiguousMultilineTokens(I,[y]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(re[94],ae([1,0,145]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0,e.getStandardTokenTypeAtPosition=I;class k{static createEmpty(m,w){const b=k.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=m.length,v[1]=b,new k(v,m,w)}static createFromTextAndMetadata(m,w){let b=0,v="";const s=new Array;for(const{text:o,metadata:t}of m)s.push(b+o.length,t),b+=o.length,v+=o;return new k(new Uint32Array(s),v,w)}constructor(m,w,b){this._lineTokensBrand=void 0,this._tokens=m,this._tokensCount=this._tokens.length>>>1,this._text=w,this.languageIdCodec=b}equals(m){return m instanceof k?this.slicedEquals(m,0,this._tokensCount):!1}slicedEquals(m,w,b){if(this._text!==m._text||this._tokensCount!==m._tokensCount)return!1;const v=w<<1,s=v+(b<<1);for(let o=v;o<s;o++)if(this._tokens[o]!==m._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(m){return m>0?this._tokens[m-1<<1]:0}getMetadata(m){return this._tokens[(m<<1)+1]}getLanguageId(m){const w=this._tokens[(m<<1)+1],b=f.TokenMetadata.getLanguageId(w);return this.languageIdCodec.decodeLanguageId(b)}getStandardTokenType(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getTokenType(w)}getForeground(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getForeground(w)}getClassName(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getClassNameFromMetadata(w)}getInlineStyle(m,w){const b=this._tokens[(m<<1)+1];return f.TokenMetadata.getInlineStyleFromMetadata(b,w)}getPresentation(m){const w=this._tokens[(m<<1)+1];return f.TokenMetadata.getPresentationFromMetadata(w)}getEndOffset(m){return this._tokens[m<<1]}findTokenIndexAtOffset(m){return k.findIndexInTokensArray(this._tokens,m)}inflate(){return this}sliceAndInflate(m,w,b){return new E(this,m,w,b)}static convertToEndOffset(m,w){const v=(m.length>>>1)-1;for(let s=0;s<v;s++)m[s<<1]=m[s+1<<1];m[v<<1]=w}static findIndexInTokensArray(m,w){if(m.length<=2)return 0;let b=0,v=(m.length>>>1)-1;for(;b<v;){const s=b+Math.floor((v-b)/2),o=m[s<<1];if(o===w)return s+1;o<w?b=s+1:o>w&&(v=s)}return b}withInserted(m){if(m.length===0)return this;let w=0,b=0,v="";const s=new Array;let o=0;for(;;){const t=w<this._tokensCount?this._tokens[w<<1]:-1,i=b<m.length?m[b]:null;if(t!==-1&&(i===null||t<=i.offset)){v+=this._text.substring(o,t);const n=this._tokens[(w<<1)+1];s.push(v.length,n),w++,o=t}else if(i){if(i.offset>o){v+=this._text.substring(o,i.offset);const n=this._tokens[(w<<1)+1];s.push(v.length,n),o=i.offset}v+=i.text,s.push(v.length,i.tokenMetadata),b++}else break}return new k(new Uint32Array(s),v,this.languageIdCodec)}getTokenText(m){const w=this.getStartOffset(m),b=this.getEndOffset(m);return this._text.substring(w,b)}forEach(m){const w=this.getCount();for(let b=0;b<w;b++)m(b)}}e.LineTokens=k,k.defaultTokenMetadata=(32768|2<<24)>>>0;class E{constructor(m,w,b,v){this._source=m,this._startOffset=w,this._endOffset=b,this._deltaOffset=v,this._firstTokenIndex=m.findTokenIndexAtOffset(w),this.languageIdCodec=m.languageIdCodec,this._tokensCount=0;for(let s=this._firstTokenIndex,o=m.getCount();s<o&&!(m.getStartOffset(s)>=b);s++)this._tokensCount++}getMetadata(m){return this._source.getMetadata(this._firstTokenIndex+m)}getLanguageId(m){return this._source.getLanguageId(this._firstTokenIndex+m)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(m){return m instanceof E?this._startOffset===m._startOffset&&this._endOffset===m._endOffset&&this._deltaOffset===m._deltaOffset&&this._source.slicedEquals(m._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(m){return this._source.getStandardTokenType(this._firstTokenIndex+m)}getForeground(m){return this._source.getForeground(this._firstTokenIndex+m)}getEndOffset(m){const w=this._source.getEndOffset(this._firstTokenIndex+m);return Math.min(this._endOffset,w)-this._startOffset+this._deltaOffset}getClassName(m){return this._source.getClassName(this._firstTokenIndex+m)}getInlineStyle(m,w){return this._source.getInlineStyle(this._firstTokenIndex+m,w)}getPresentation(m){return this._source.getPresentation(this._firstTokenIndex+m)}findTokenIndexAtOffset(m){return this._source.findTokenIndexAtOffset(m+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(m){const w=this._firstTokenIndex+m,b=this._source.getStartOffset(w),v=this._source.getEndOffset(w);let s=this._source.getTokenText(w);return b<this._startOffset&&(s=s.substring(this._startOffset-b)),v>this._endOffset&&(s=s.substring(0,s.length-(v-this._endOffset))),s}forEach(m){for(let w=0;w<this.getCount();w++)m(w)}}function I(y,m){const w=m.lineNumber;if(!y.tokenization.isCheapToTokenize(w))return;y.tokenization.forceTokenization(w);const b=y.tokenization.getLineTokens(w),v=b.findTokenIndexAtOffset(m.column-1);return b.getStandardTokenType(v)}}),define(re[251],ae([1,0,11,171,94]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationContextProcessor=e.ProcessedIndentRulesSupport=void 0,e.isLanguageDifferentFromLineStart=w;class I{constructor(v,s,o){this._indentRulesSupport=s,this._indentationLineProcessor=new m(v,o)}shouldIncrease(v,s){const o=this._indentationLineProcessor.getProcessedLine(v,s);return this._indentRulesSupport.shouldIncrease(o)}shouldDecrease(v,s){const o=this._indentationLineProcessor.getProcessedLine(v,s);return this._indentRulesSupport.shouldDecrease(o)}shouldIgnore(v,s){const o=this._indentationLineProcessor.getProcessedLine(v,s);return this._indentRulesSupport.shouldIgnore(o)}shouldIndentNextLine(v,s){const o=this._indentationLineProcessor.getProcessedLine(v,s);return this._indentRulesSupport.shouldIndentNextLine(o)}}e.ProcessedIndentRulesSupport=I;class y{constructor(v,s){this.model=v,this.indentationLineProcessor=new m(v,s)}getProcessedTokenContextAroundRange(v){const s=this._getProcessedTokensBeforeRange(v),o=this._getProcessedTokensAfterRange(v),t=this._getProcessedPreviousLineTokens(v);return{beforeRangeProcessedTokens:s,afterRangeProcessedTokens:o,previousLineProcessedTokens:t}}_getProcessedTokensBeforeRange(v){this.model.tokenization.forceTokenization(v.startLineNumber);const s=this.model.tokenization.getLineTokens(v.startLineNumber),o=(0,k.createScopedLineTokens)(s,v.startColumn-1);let t;if(w(this.model,v.getStartPosition())){const n=v.startColumn-1-o.firstCharOffset,c=o.firstCharOffset,u=c+n;t=s.sliceAndInflate(c,u,0)}else{const n=v.startColumn-1;t=s.sliceAndInflate(0,n,0)}return this.indentationLineProcessor.getProcessedTokens(t)}_getProcessedTokensAfterRange(v){const s=v.isEmpty()?v.getStartPosition():v.getEndPosition();this.model.tokenization.forceTokenization(s.lineNumber);const o=this.model.tokenization.getLineTokens(s.lineNumber),t=(0,k.createScopedLineTokens)(o,s.column-1),i=s.column-1-t.firstCharOffset,n=t.firstCharOffset+i,c=t.firstCharOffset+t.getLineLength(),u=o.sliceAndInflate(n,c,0);return this.indentationLineProcessor.getProcessedTokens(u)}_getProcessedPreviousLineTokens(v){const s=p=>{this.model.tokenization.forceTokenization(p);const h=this.model.tokenization.getLineTokens(p),g=this.model.getLineMaxColumn(p)-1;return(0,k.createScopedLineTokens)(h,g)};this.model.tokenization.forceTokenization(v.startLineNumber);const o=this.model.tokenization.getLineTokens(v.startLineNumber),t=(0,k.createScopedLineTokens)(o,v.startColumn-1),i=E.LineTokens.createEmpty("",t.languageIdCodec),n=v.startLineNumber-1;if(n===0||!(t.firstCharOffset===0))return i;const r=s(n);if(!(t.languageId===r.languageId))return i;const l=r.toIViewLineTokens();return this.indentationLineProcessor.getProcessedTokens(l)}}e.IndentationContextProcessor=y;class m{constructor(v,s){this.model=v,this.languageConfigurationService=s}getProcessedLine(v,s){var o,t;const i=(u,r)=>{const a=f.getLeadingWhitespace(u);return r+u.substring(a.length)};(t=(o=this.model.tokenization).forceTokenization)===null||t===void 0||t.call(o,v);const n=this.model.tokenization.getLineTokens(v);let c=this.getProcessedTokens(n).getLineContent();return s!==void 0&&(c=i(c,s)),c}getProcessedTokens(v){const s=u=>u===2||u===3||u===1,o=v.getLanguageId(0),i=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getBracketRegExp({global:!0}),n=[];return v.forEach(u=>{const r=v.getStandardTokenType(u);let a=v.getTokenText(u);s(r)&&(a=a.replace(i,""));const l=v.getMetadata(u);n.push({text:a,metadata:l})}),E.LineTokens.createFromTextAndMetadata(n,v.languageIdCodec)}}function w(b,v){b.tokenization.forceTokenization(v.lineNumber);const s=b.tokenization.getLineTokens(v.lineNumber),o=(0,k.createScopedLineTokens)(s,v.column-1),t=o.firstCharOffset===0,i=s.getLanguageId(0)===o.languageId;return!t&&!i}}),define(re[252],ae([1,0,11,128,251]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInheritIndentForLine=y,e.getGoodIndentForLine=m,e.getIndentForEnter=w,e.getIndentActionForType=b,e.getIndentMetadata=v;function I(o,t,i){const n=o.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let c,u=-1;for(c=t-1;c>=1;c--){if(o.tokenization.getLanguageIdAtPosition(c,0)!==n)return u;const r=o.getLineContent(c);if(i.shouldIgnore(c)||/^\s+$/.test(r)||r===""){u=c;continue}return c}}return-1}function y(o,t,i,n=!0,c){if(o<4)return null;const u=c.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!u)return null;const r=new E.ProcessedIndentRulesSupport(t,u,c);if(i<=1)return{indentation:"",action:null};for(let l=i-1;l>0&&t.getLineContent(l)==="";l--)if(l===1)return{indentation:"",action:null};const a=I(t,i,r);if(a<0)return null;if(a<1)return{indentation:"",action:null};if(r.shouldIncrease(a)||r.shouldIndentNextLine(a)){const l=t.getLineContent(a);return{indentation:f.getLeadingWhitespace(l),action:k.IndentAction.Indent,line:a}}else if(r.shouldDecrease(a)){const l=t.getLineContent(a);return{indentation:f.getLeadingWhitespace(l),action:null,line:a}}else{if(a===1)return{indentation:f.getLeadingWhitespace(t.getLineContent(a)),action:null,line:a};const l=a-1,d=u.getIndentMetadata(t.getLineContent(l));if(!(d&3)&&d&4){let p=0;for(let h=l-1;h>0;h--)if(!r.shouldIndentNextLine(h)){p=h;break}return{indentation:f.getLeadingWhitespace(t.getLineContent(p+1)),action:null,line:p+1}}if(n)return{indentation:f.getLeadingWhitespace(t.getLineContent(a)),action:null,line:a};for(let p=a;p>0;p--){if(r.shouldIncrease(p))return{indentation:f.getLeadingWhitespace(t.getLineContent(p)),action:k.IndentAction.Indent,line:p};if(r.shouldIndentNextLine(p)){let h=0;for(let g=p-1;g>0;g--)if(!r.shouldIndentNextLine(p)){h=g;break}return{indentation:f.getLeadingWhitespace(t.getLineContent(h+1)),action:null,line:h+1}}else if(r.shouldDecrease(p))return{indentation:f.getLeadingWhitespace(t.getLineContent(p)),action:null,line:p}}return{indentation:f.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}}}function m(o,t,i,n,c,u){if(o<4)return null;const r=u.getLanguageConfiguration(i);if(!r)return null;const a=u.getLanguageConfiguration(i).indentRulesSupport;if(!a)return null;const l=new E.ProcessedIndentRulesSupport(t,a,u),d=y(o,t,n,void 0,u);if(d){const p=d.line;if(p!==void 0){let h=!0;for(let g=p;g<n-1;g++)if(!/^\s*$/.test(t.getLineContent(g))){h=!1;break}if(h){const g=r.onEnter(o,"",t.getLineContent(p),"");if(g){let C=f.getLeadingWhitespace(t.getLineContent(p));return g.removeText&&(C=C.substring(0,C.length-g.removeText)),g.indentAction===k.IndentAction.Indent||g.indentAction===k.IndentAction.IndentOutdent?C=c.shiftIndent(C):g.indentAction===k.IndentAction.Outdent&&(C=c.unshiftIndent(C)),l.shouldDecrease(n)&&(C=c.unshiftIndent(C)),g.appendText&&(C+=g.appendText),f.getLeadingWhitespace(C)}}}return l.shouldDecrease(n)?d.action===k.IndentAction.Indent?d.indentation:c.unshiftIndent(d.indentation):d.action===k.IndentAction.Indent?c.shiftIndent(d.indentation):d.indentation}return null}function w(o,t,i,n,c){if(o<4)return null;const u=t.getLanguageIdAtPosition(i.startLineNumber,i.startColumn),r=c.getLanguageConfiguration(u).indentRulesSupport;if(!r)return null;t.tokenization.forceTokenization(i.startLineNumber);const l=new E.IndentationContextProcessor(t,c).getProcessedTokenContextAroundRange(i),d=l.afterRangeProcessedTokens,p=l.beforeRangeProcessedTokens,h=f.getLeadingWhitespace(p.getLineContent()),g=s(t,i.startLineNumber,p),C=(0,E.isLanguageDifferentFromLineStart)(t,i.getStartPosition()),S=t.getLineContent(i.startLineNumber),_=f.getLeadingWhitespace(S),L=y(o,g,i.startLineNumber+1,void 0,c);if(!L){const T=C?_:h;return{beforeEnter:T,afterEnter:T}}let D=C?_:L.indentation;return L.action===k.IndentAction.Indent&&(D=n.shiftIndent(D)),r.shouldDecrease(d.getLineContent())&&(D=n.unshiftIndent(D)),{beforeEnter:C?_:h,afterEnter:D}}function b(o,t,i,n,c,u){const r=o.autoIndent;if(r<4||(0,E.isLanguageDifferentFromLineStart)(t,i.getStartPosition()))return null;const l=t.getLanguageIdAtPosition(i.startLineNumber,i.startColumn),d=u.getLanguageConfiguration(l).indentRulesSupport;if(!d)return null;const h=new E.IndentationContextProcessor(t,u).getProcessedTokenContextAroundRange(i),g=h.beforeRangeProcessedTokens.getLineContent(),C=h.afterRangeProcessedTokens.getLineContent(),S=g+C,_=g+n+C;if(!d.shouldDecrease(S)&&d.shouldDecrease(_)){const D=y(r,t,i.startLineNumber,!1,u);if(!D)return null;let T=D.indentation;return D.action!==k.IndentAction.Indent&&(T=c.unshiftIndent(T)),T}const L=i.startLineNumber-1;if(L>0){const D=t.getLineContent(L);if(d.shouldIndentNextLine(D)&&d.shouldIncrease(_)){const T=y(r,t,i.startLineNumber,!1,u),N=T?.indentation;if(N!==void 0){const A=t.getLineContent(i.startLineNumber),R=f.getLeadingWhitespace(A),P=c.shiftIndent(N)===R,x=/^\s*$/.test(S),O=o.autoClosingPairs.autoClosingPairsOpenByEnd.get(n),H=O&&O.length>0&&x;if(P&&H)return N}}}return null}function v(o,t,i){const n=i.getLanguageConfiguration(o.getLanguageId()).indentRulesSupport;return!n||t<1||t>o.getLineCount()?null:n.getIndentMetadata(o.getLineContent(t))}function s(o,t,i){return{tokenization:{getLineTokens:c=>c===t?i:o.tokenization.getLineTokens(c),getLanguageId:()=>o.getLanguageId(),getLanguageIdAtPosition:(c,u)=>o.getLanguageIdAtPosition(c,u)},getLineContent:c=>c===t?i.getLineContent():o.getLineContent(c)}}}),define(re[605],ae([1,0,94]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.toUint32Array=E,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(y,m){return y===null||y===e.EMPTY_LINE_TOKENS?y:k.delete(y,0,m)}static deleteEnding(y,m){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const w=E(y),b=w[w.length-2];return k.delete(y,m,b)}static delete(y,m,w){if(y===null||y===e.EMPTY_LINE_TOKENS||m===w)return y;const b=E(y),v=b.length>>>1;if(m===0&&b[b.length-2]===w)return e.EMPTY_LINE_TOKENS;const s=f.LineTokens.findIndexInTokensArray(b,m),o=s>0?b[s-1<<1]:0,t=b[s<<1];if(w<t){const r=w-m;for(let a=s;a<v;a++)b[a<<1]-=r;return y}let i,n;o!==m?(b[s<<1]=m,i=s+1<<1,n=m):(i=s<<1,n=o);const c=w-m;for(let r=s+1;r<v;r++){const a=b[r<<1]-c;a>n&&(b[i++]=a,b[i++]=b[(r<<1)+1],n=a)}if(i===b.length)return y;const u=new Uint32Array(i);return u.set(b.subarray(0,i),0),u.buffer}static append(y,m){if(m===e.EMPTY_LINE_TOKENS)return y;if(y===e.EMPTY_LINE_TOKENS)return m;if(y===null)return y;if(m===null)return null;const w=E(y),b=E(m),v=b.length>>>1,s=new Uint32Array(w.length+b.length);s.set(w,0);let o=w.length;const t=w[w.length-2];for(let i=0;i<v;i++)s[o++]=b[i<<1]+t,s[o++]=b[(i<<1)+1];return s.buffer}static insert(y,m,w){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const b=E(y),v=b.length>>>1;let s=f.LineTokens.findIndexInTokensArray(b,m);s>0&&b[s-1<<1]===m&&s--;for(let o=s;o<v;o++)b[o<<1]+=w;return y}}e.ContiguousTokensEditing=k;function E(I){return I instanceof Uint32Array?I:new Uint32Array(I)}}),define(re[606],ae([1,0,13,9,605,94,145]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class m{constructor(v){this._lineTokens=[],this._len=0,this._languageIdCodec=v}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(v,s,o){let t=null;if(s<this._len&&(t=this._lineTokens[s]),t!==null&&t!==E.EMPTY_LINE_TOKENS)return new I.LineTokens((0,E.toUint32Array)(t),o,this._languageIdCodec);const i=new Uint32Array(2);return i[0]=o.length,i[1]=w(this._languageIdCodec.encodeLanguageId(v)),new I.LineTokens(i,o,this._languageIdCodec)}static _massageTokens(v,s,o){const t=o?(0,E.toUint32Array)(o):null;if(s===0){let i=!1;if(t&&t.length>1&&(i=y.TokenMetadata.getLanguageId(t[1])!==v),!i)return E.EMPTY_LINE_TOKENS}if(!t||t.length===0){const i=new Uint32Array(2);return i[0]=s,i[1]=w(v),i.buffer}return t[t.length-2]=s,t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t}_ensureLine(v){for(;v>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(v,s){s!==0&&(v+s>this._len&&(s=this._len-v),this._lineTokens.splice(v,s),this._len-=s)}_insertLines(v,s){if(s===0)return;const o=[];for(let t=0;t<s;t++)o[t]=null;this._lineTokens=f.arrayInsert(this._lineTokens,v,o),this._len+=s}setTokens(v,s,o,t,i){const n=m._massageTokens(this._languageIdCodec.encodeLanguageId(v),o,t);this._ensureLine(s);const c=this._lineTokens[s];return this._lineTokens[s]=n,i?!m._equals(c,n):!1}static _equals(v,s){if(!v||!s)return!v&&!s;const o=(0,E.toUint32Array)(v),t=(0,E.toUint32Array)(s);if(o.length!==t.length)return!1;for(let i=0,n=o.length;i<n;i++)if(o[i]!==t[i])return!1;return!0}acceptEdit(v,s,o){this._acceptDeleteRange(v),this._acceptInsertText(new k.Position(v.startLineNumber,v.startColumn),s,o)}_acceptDeleteRange(v){const s=v.startLineNumber-1;if(s>=this._len)return;if(v.startLineNumber===v.endLineNumber){if(v.startColumn===v.endColumn)return;this._lineTokens[s]=E.ContiguousTokensEditing.delete(this._lineTokens[s],v.startColumn-1,v.endColumn-1);return}this._lineTokens[s]=E.ContiguousTokensEditing.deleteEnding(this._lineTokens[s],v.startColumn-1);const o=v.endLineNumber-1;let t=null;o<this._len&&(t=E.ContiguousTokensEditing.deleteBeginning(this._lineTokens[o],v.endColumn-1)),this._lineTokens[s]=E.ContiguousTokensEditing.append(this._lineTokens[s],t),this._deleteLines(v.startLineNumber,v.endLineNumber-v.startLineNumber)}_acceptInsertText(v,s,o){if(s===0&&o===0)return;const t=v.lineNumber-1;if(!(t>=this._len)){if(s===0){this._lineTokens[t]=E.ContiguousTokensEditing.insert(this._lineTokens[t],v.column-1,o);return}this._lineTokens[t]=E.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],v.column-1),this._lineTokens[t]=E.ContiguousTokensEditing.insert(this._lineTokens[t],v.column-1,o),this._insertLines(v.lineNumber,s)}}setMultilineTokens(v,s){if(v.length===0)return{changes:[]};const o=[];for(let t=0,i=v.length;t<i;t++){const n=v[t];let c=0,u=0,r=!1;for(let a=n.startLineNumber;a<=n.endLineNumber;a++)r?(this.setTokens(s.getLanguageId(),a-1,s.getLineLength(a),n.getLineTokens(a),!1),u=a):this.setTokens(s.getLanguageId(),a-1,s.getLineLength(a),n.getLineTokens(a),!0)&&(r=!0,c=a,u=a);r&&o.push({fromLineNumber:c,toLineNumber:u})}return{changes:o}}}e.ContiguousTokensStore=m;function w(b){return(b<<0|0|0|32768|2<<24|1024)>>>0}}),define(re[607],ae([1,0,9,5,142]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class I{static create(b,v){return new I(b,new y(v))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(b,v){this._startLineNumber=b,this._tokens=v,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(b){return this._startLineNumber<=b&&b<=this._endLineNumber?this._tokens.getLineTokens(b-this._startLineNumber):null}getRange(){const b=this._tokens.getRange();return b&&new k.Range(this._startLineNumber+b.startLineNumber,b.startColumn,this._startLineNumber+b.endLineNumber,b.endColumn)}removeTokens(b){const v=b.startLineNumber-this._startLineNumber,s=b.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(v,b.startColumn-1,s,b.endColumn-1),this._updateEndLineNumber()}split(b){const v=b.startLineNumber-this._startLineNumber,s=b.endLineNumber-this._startLineNumber,[o,t,i]=this._tokens.split(v,b.startColumn-1,s,b.endColumn-1);return[new I(this._startLineNumber,o),new I(this._startLineNumber+i,t)]}applyEdit(b,v){const[s,o,t]=(0,E.countEOL)(v);this.acceptEdit(b,s,o,t,v.length>0?v.charCodeAt(0):0)}acceptEdit(b,v,s,o,t){this._acceptDeleteRange(b),this._acceptInsertText(new f.Position(b.startLineNumber,b.startColumn),v,s,o,t),this._updateEndLineNumber()}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber&&b.startColumn===b.endColumn)return;const v=b.startLineNumber-this._startLineNumber,s=b.endLineNumber-this._startLineNumber;if(s<0){const t=s-v;this._startLineNumber-=t;return}const o=this._tokens.getMaxDeltaLine();if(!(v>=o+1)){if(v<0&&s>=o+1){this._startLineNumber=0,this._tokens.clear();return}if(v<0){const t=-v;this._startLineNumber-=t,this._tokens.acceptDeleteRange(b.startColumn-1,0,0,s,b.endColumn-1)}else this._tokens.acceptDeleteRange(0,v,b.startColumn-1,s,b.endColumn-1)}}_acceptInsertText(b,v,s,o,t){if(v===0&&s===0)return;const i=b.lineNumber-this._startLineNumber;if(i<0){this._startLineNumber+=v;return}const n=this._tokens.getMaxDeltaLine();i>=n+1||this._tokens.acceptInsertText(i,b.column-1,v,s,o,t)}}e.SparseMultilineTokens=I;class y{constructor(b){this._tokens=b,this._tokenCount=b.length/4}toString(b){const v=[];for(let s=0;s<this._tokenCount;s++)v.push(`(${this._getDeltaLine(s)+b},${this._getStartCharacter(s)}-${this._getEndCharacter(s)})`);return`[${v.join(",")}]`}getMaxDeltaLine(){const b=this._getTokenCount();return b===0?-1:this._getDeltaLine(b-1)}getRange(){const b=this._getTokenCount();if(b===0)return null;const v=this._getStartCharacter(0),s=this._getDeltaLine(b-1),o=this._getEndCharacter(b-1);return new k.Range(0,v+1,s,o+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(b){return this._tokens[4*b]}_getStartCharacter(b){return this._tokens[4*b+1]}_getEndCharacter(b){return this._tokens[4*b+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(b){let v=0,s=this._getTokenCount()-1;for(;v<s;){const o=v+Math.floor((s-v)/2),t=this._getDeltaLine(o);if(t<b)v=o+1;else if(t>b)s=o-1;else{let i=o;for(;i>v&&this._getDeltaLine(i-1)===b;)i--;let n=o;for(;n<s&&this._getDeltaLine(n+1)===b;)n++;return new m(this._tokens.subarray(4*i,4*n+4))}}return this._getDeltaLine(v)===b?new m(this._tokens.subarray(4*v,4*v+4)):null}clear(){this._tokenCount=0}removeTokens(b,v,s,o){const t=this._tokens,i=this._tokenCount;let n=0,c=!1,u=0;for(let r=0;r<i;r++){const a=4*r,l=t[a],d=t[a+1],p=t[a+2],h=t[a+3];if((l>b||l===b&&p>=v)&&(l<s||l===s&&d<=o))c=!0;else{if(n===0&&(u=l),c){const g=4*n;t[g]=l-u,t[g+1]=d,t[g+2]=p,t[g+3]=h}n++}}return this._tokenCount=n,u}split(b,v,s,o){const t=this._tokens,i=this._tokenCount,n=[],c=[];let u=n,r=0,a=0;for(let l=0;l<i;l++){const d=4*l,p=t[d],h=t[d+1],g=t[d+2],C=t[d+3];if(p>b||p===b&&g>=v){if(p<s||p===s&&h<=o)continue;u!==c&&(u=c,r=0,a=p)}u[r++]=p-a,u[r++]=h,u[r++]=g,u[r++]=C}return[new y(new Uint32Array(n)),new y(new Uint32Array(c)),a]}acceptDeleteRange(b,v,s,o,t){const i=this._tokens,n=this._tokenCount,c=o-v;let u=0,r=!1;for(let a=0;a<n;a++){const l=4*a;let d=i[l],p=i[l+1],h=i[l+2];const g=i[l+3];if(d<v||d===v&&h<=s){u++;continue}else if(d===v&&p<s)d===o&&h>t?h-=t-s:h=s;else if(d===v&&p===s)if(d===o&&h>t)h-=t-s;else{r=!0;continue}else if(d<o||d===o&&p<t)if(d===o&&h>t)d=v,p=s,h=p+(h-t);else{r=!0;continue}else if(d>o){if(c===0&&!r){u=n;break}d-=c}else if(d===o&&p>=t)b&&d===0&&(p+=b,h+=b),d-=c,p-=t-s,h-=t-s;else throw new Error("Not possible!");const C=4*u;i[C]=d,i[C+1]=p,i[C+2]=h,i[C+3]=g,u++}this._tokenCount=u}acceptInsertText(b,v,s,o,t,i){const n=s===0&&o===1&&(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122),c=this._tokens,u=this._tokenCount;for(let r=0;r<u;r++){const a=4*r;let l=c[a],d=c[a+1],p=c[a+2];if(!(l<b||l===b&&p<v)){if(l===b&&p===v)if(n)p+=1;else continue;else if(l===b&&d<v&&v<p)s===0?p+=o:p=v;else{if(l===b&&d===v&&n)continue;if(l===b)if(l+=s,s===0)d+=o,p+=o;else{const h=p-d;d=t+(d-v),p=d+h}else l+=s}c[a]=l,c[a+1]=d,c[a+2]=p}}}}class m{constructor(b){this._tokens=b}getCount(){return this._tokens.length/4}getStartCharacter(b){return this._tokens[4*b+1]}getEndCharacter(b){return this._tokens[4*b+2]}getMetadata(b){return this._tokens[4*b+3]}}e.SparseLineTokens=m}),define(re[608],ae([1,0,13,94]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class E{constructor(y){this._pieces=[],this._isComplete=!1,this._languageIdCodec=y}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(y,m){this._pieces=y||[],this._isComplete=m}setPartial(y,m){let w=y;if(m.length>0){const v=m[0].getRange(),s=m[m.length-1].getRange();if(!v||!s)return y;w=y.plusRange(v).plusRange(s)}let b=null;for(let v=0,s=this._pieces.length;v<s;v++){const o=this._pieces[v];if(o.endLineNumber<w.startLineNumber)continue;if(o.startLineNumber>w.endLineNumber){b=b||{index:v};break}if(o.removeTokens(w),o.isEmpty()){this._pieces.splice(v,1),v--,s--;continue}if(o.endLineNumber<w.startLineNumber)continue;if(o.startLineNumber>w.endLineNumber){b=b||{index:v};continue}const[t,i]=o.split(w);if(t.isEmpty()){b=b||{index:v};continue}i.isEmpty()||(this._pieces.splice(v,1,t,i),v++,s++,b=b||{index:v})}return b=b||{index:this._pieces.length},m.length>0&&(this._pieces=f.arrayInsert(this._pieces,b.index,m)),w}isComplete(){return this._isComplete}addSparseTokens(y,m){if(m.getLineContent().length===0)return m;const w=this._pieces;if(w.length===0)return m;const b=E._findFirstPieceWithLine(w,y),v=w[b].getLineTokens(y);if(!v)return m;const s=m.getCount(),o=v.getCount();let t=0;const i=[];let n=0,c=0;const u=(r,a)=>{r!==c&&(c=r,i[n++]=r,i[n++]=a)};for(let r=0;r<o;r++){const a=v.getStartCharacter(r),l=v.getEndCharacter(r),d=v.getMetadata(r),p=((d&1?2048:0)|(d&2?4096:0)|(d&4?8192:0)|(d&8?16384:0)|(d&16?16744448:0)|(d&32?4278190080:0))>>>0,h=~p>>>0;for(;t<s&&m.getEndOffset(t)<=a;)u(m.getEndOffset(t),m.getMetadata(t)),t++;for(t<s&&m.getStartOffset(t)<a&&u(a,m.getMetadata(t));t<s&&m.getEndOffset(t)<l;)u(m.getEndOffset(t),m.getMetadata(t)&h|d&p),t++;if(t<s)u(l,m.getMetadata(t)&h|d&p),m.getEndOffset(t)===l&&t++;else{const g=Math.min(Math.max(0,t-1),s-1);u(l,m.getMetadata(g)&h|d&p)}}for(;t<s;)u(m.getEndOffset(t),m.getMetadata(t)),t++;return new k.LineTokens(new Uint32Array(i),m.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(y,m){let w=0,b=y.length-1;for(;w<b;){let v=w+Math.floor((b-w)/2);if(y[v].endLineNumber<m)w=v+1;else if(y[v].startLineNumber>m)b=v-1;else{for(;v>w&&y[v-1].startLineNumber<=m&&m<=y[v-1].endLineNumber;)v--;return v}}return w}acceptEdit(y,m,w,b,v){for(const s of this._pieces)s.acceptEdit(y,m,w,b,v)}}e.SparseTokensStore=E}),define(re[172],ae([1,0,2]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends f.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(I){return!1}onCompositionEnd(I){return!1}onConfigurationChanged(I){return!1}onCursorStateChanged(I){return!1}onDecorationsChanged(I){return!1}onFlushed(I){return!1}onFocusChanged(I){return!1}onLanguageConfigurationChanged(I){return!1}onLineMappingChanged(I){return!1}onLinesChanged(I){return!1}onLinesDeleted(I){return!1}onLinesInserted(I){return!1}onRevealRangeRequest(I){return!1}onScrollChanged(I){return!1}onThemeChanged(I){return!1}onTokensChanged(I){return!1}onTokensColorsChanged(I){return!1}onZonesChanged(I){return!1}handleEvents(I){let y=!1;for(let m=0,w=I.length;m<w;m++){const b=I[m];switch(b.type){case 0:this.onCompositionStart(b)&&(y=!0);break;case 1:this.onCompositionEnd(b)&&(y=!0);break;case 2:this.onConfigurationChanged(b)&&(y=!0);break;case 3:this.onCursorStateChanged(b)&&(y=!0);break;case 4:this.onDecorationsChanged(b)&&(y=!0);break;case 5:this.onFlushed(b)&&(y=!0);break;case 6:this.onFocusChanged(b)&&(y=!0);break;case 7:this.onLanguageConfigurationChanged(b)&&(y=!0);break;case 8:this.onLineMappingChanged(b)&&(y=!0);break;case 9:this.onLinesChanged(b)&&(y=!0);break;case 10:this.onLinesDeleted(b)&&(y=!0);break;case 11:this.onLinesInserted(b)&&(y=!0);break;case 12:this.onRevealRangeRequest(b)&&(y=!0);break;case 13:this.onScrollChanged(b)&&(y=!0);break;case 15:this.onTokensChanged(b)&&(y=!0);break;case 14:this.onThemeChanged(b)&&(y=!0);break;case 16:this.onTokensColorsChanged(b)&&(y=!0);break;case 17:this.onZonesChanged(b)&&(y=!0);break;default:console.info("View received unknown event: "),console.info(b)}}y&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(re[130],ae([1,0,172]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends f.ViewEventHandler{}e.DynamicViewOverlay=k}),define(re[57],ae([1,0,172]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends f.ViewEventHandler{constructor(y){super(),this._context=y,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class E{static write(y,m){y.setAttribute("data-mprt",String(m))}static read(y){const m=y.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}static collect(y,m){const w=[];let b=0;for(;y&&y!==y.ownerDocument.body&&y!==m;)y.nodeType===y.ELEMENT_NODE&&(w[b++]=this.read(y)),y=y.parentElement;const v=new Uint8Array(b);for(let s=0;s<b;s++)v[s]=w[b-s-1];return v}}e.PartFingerprints=E}),define(re[609],ae([1,0,39,74,241,57]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class y extends I.ViewPart{constructor(s){super(s),this._visibleLines=new E.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration.options.get(50);(0,k.applyFontInfo)(this.domNode,t),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let s=0,o=this._dynamicOverlays.length;s<o;s++)if(this._dynamicOverlays[s].shouldRender())return!0;return!1}dispose(){super.dispose();for(let s=0,o=this._dynamicOverlays.length;s<o;s++)this._dynamicOverlays[s].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new m(this._dynamicOverlays)}addDynamicOverlay(s){this._dynamicOverlays.push(s)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s);const t=this._context.configuration.options.get(50);return(0,k.applyFontInfo)(this.domNode,t),!0}onFlushed(s){return this._visibleLines.onFlushed(s)}onFocusChanged(s){return this._isFocused=s.isFocused,!0}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onScrollChanged(s){return this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._visibleLines.onZonesChanged(s)}prepareRender(s){const o=this._dynamicOverlays.filter(t=>t.shouldRender());for(let t=0,i=o.length;t<i;t++){const n=o[t];n.prepareRender(s),n.onDidRender()}}render(s){this._viewOverlaysRender(s),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(s){this._visibleLines.renderLines(s.viewportData)}}e.ViewOverlays=y;class m{constructor(s){this._dynamicOverlays=s,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(s){this._domNode=(0,f.createFastDomNode)(s)}onContentChanged(){}onTokensChanged(){}renderLine(s,o,t,i,n){let c="";for(let u=0,r=this._dynamicOverlays.length;u<r;u++){const a=this._dynamicOverlays[u];c+=a.render(i.startLineNumber,s)}return this._renderedContent===c?!1:(this._renderedContent=c,n.appendString('<div style="top:'),n.appendString(String(o)),n.appendString("px;height:"),n.appendString(String(t)),n.appendString('px;">'),n.appendString(c),n.appendString("</div>"),!0)}layoutLine(s,o,t){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(t))}}e.ViewOverlayLine=m;class w extends y{constructor(s){super(s);const t=this._context.configuration.options.get(146);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(s){const t=this._context.configuration.options.get(146);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollWidthChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s),this.domNode.setWidth(Math.max(s.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=w;class b extends y{constructor(s){super(s);const o=this._context.configuration.options,t=o.get(146);this._contentLeft=t.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,o.get(50))}onConfigurationChanged(s){const o=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,o.get(50));const t=o.get(146);return this._contentLeft=t.contentLeft,super.onConfigurationChanged(s)||!0}onScrollChanged(s){return super.onScrollChanged(s)||s.scrollHeightChanged}_viewOverlaysRender(s){super._viewOverlaysRender(s);const o=Math.min(s.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=b}),define(re[610],ae([1,0,39,57,492]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class E extends k.ViewPart{constructor(y){super(y),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let y=!1;const w=this._context.configuration.options.get(146),b=w.contentWidth-w.verticalScrollbarWidth;this.contentWidth!==b&&(this.contentWidth=b,y=!0);const v=w.contentLeft;return this.contentLeft!==v&&(this.contentLeft=v,y=!0),y}dispose(){super.dispose()}onConfigurationChanged(y){return this.update()}onScrollChanged(y){return y.scrollTopChanged||y.scrollLeftChanged}onDecorationsChanged(y){return!0}onZonesChanged(y){return!0}prepareRender(y){}render(y){var m;let w=0;const b=y.getDecorationsInViewport();for(const v of b){if(!v.options.blockClassName)continue;let s=this.blocks[w];s||(s=this.blocks[w]=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(s));let o,t;v.options.blockIsAfterEnd?(o=y.getVerticalOffsetAfterLineNumber(v.range.endLineNumber,!1),t=y.getVerticalOffsetAfterLineNumber(v.range.endLineNumber,!0)):(o=y.getVerticalOffsetForLineNumber(v.range.startLineNumber,!0),t=v.range.isEmpty()&&!v.options.blockDoesNotCollapse?y.getVerticalOffsetForLineNumber(v.range.startLineNumber,!1):y.getVerticalOffsetAfterLineNumber(v.range.endLineNumber,!0));const[i,n,c,u]=(m=v.options.blockPadding)!==null&&m!==void 0?m:[0,0,0,0];s.setClassName("blockDecorations-block "+v.options.blockClassName),s.setLeft(this.contentLeft-u),s.setWidth(this.contentWidth+u+n),s.setTop(o-y.scrollTop-i),s.setHeight(t-o+i+c),w++}for(let v=w;v<this.blocks.length;v++)this.blocks[v].domNode.remove();this.blocks.length=w}}e.BlockDecorations=E}),define(re[611],ae([1,0,4,39,57]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class I extends E.ViewPart{constructor(o,t){super(o),this._viewDomNode=t,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(o){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(o);return!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onLineMappingChanged(o){return this._updateAnchorsViewPositions(),!0}onLinesChanged(o){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(o){return this._updateAnchorsViewPositions(),!0}onLinesInserted(o){return this._updateAnchorsViewPositions(),!0}onScrollChanged(o){return!0}onZonesChanged(o){return!0}_updateAnchorsViewPositions(){const o=Object.keys(this._widgets);for(const t of o)this._widgets[t].updateAnchorViewPosition()}addWidget(o){const t=new y(this._context,this._viewDomNode,o);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(o,t,i,n,c){this._widgets[o.getId()].setPosition(t,i,n,c),this.setShouldRender()}removeWidget(o){const t=o.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const n=i.domNode.domNode;n.remove(),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(o){return this._widgets.hasOwnProperty(o)?this._widgets[o].suppressMouseDown:!1}onBeforeRender(o){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(o)}prepareRender(o){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(o)}render(o){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(o)}}e.ViewContentWidgets=I;class y{constructor(o,t,i){this._primaryAnchor=new m(null,null),this._secondaryAnchor=new m(null,null),this._context=o,this._viewDomNode=t,this._actual=i,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,c=n.get(146);this._fixedOverflowWidgets=n.get(42),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=n.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(o){const t=this._context.configuration.options;if(this._lineHeight=t.get(67),o.hasChanged(146)){const i=t.get(146);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(o,t,i){this._affinity=o,this._primaryAnchor=n(t,this._context.viewModel,this._affinity),this._secondaryAnchor=n(i,this._context.viewModel,this._affinity);function n(c,u,r){if(!c)return new m(null,null);const a=u.model.validatePosition(c);if(u.coordinatesConverter.modelPositionIsVisible(a)){const l=u.coordinatesConverter.convertModelPositionToViewPosition(a,r??void 0);return new m(c,l)}return new m(c,null)}}_getMaxWidth(){const o=this.domNode.domNode.ownerDocument,t=o.defaultView;return this.allowEditorOverflow?t?.innerWidth||o.documentElement.offsetWidth||o.body.offsetWidth:this._contentWidth}setPosition(o,t,i,n){this._setPosition(n,o,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(o,t,i,n){const c=o.top,u=c,r=o.top+o.height,a=n.viewportHeight-r,l=c-i,d=u>=i,p=r,h=a>=i;let g=o.left;return g+t>n.scrollLeft+n.viewportWidth&&(g=n.scrollLeft+n.viewportWidth-t),g<n.scrollLeft&&(g=n.scrollLeft),{fitsAbove:d,aboveTop:l,fitsBelow:h,belowTop:p,left:g}}_layoutHorizontalSegmentInPage(o,t,i,n){var c;const a=Math.max(15,t.left-n),l=Math.min(t.left+t.width+n,o.width-15),p=this._viewDomNode.domNode.ownerDocument.defaultView;let h=t.left+i-((c=p?.scrollX)!==null&&c!==void 0?c:0);if(h+n>l){const g=h-(l-n);h-=g,i-=g}if(h<a){const g=h-a;h-=g,i-=g}return[i,h]}_layoutBoxInPage(o,t,i,n){var c,u;const r=o.top-i,a=o.top+o.height,l=f.getDomNodePagePosition(this._viewDomNode.domNode),d=this._viewDomNode.domNode.ownerDocument,p=d.defaultView,h=l.top+r-((c=p?.scrollY)!==null&&c!==void 0?c:0),g=l.top+a-((u=p?.scrollY)!==null&&u!==void 0?u:0),C=f.getClientArea(d.body),[S,_]=this._layoutHorizontalSegmentInPage(C,l,o.left-n.scrollLeft+this._contentLeft,t),L=22,D=22,T=h>=L,N=g+i<=C.height-D;return this._fixedOverflowWidgets?{fitsAbove:T,aboveTop:Math.max(h,L),fitsBelow:N,belowTop:g,left:_}:{fitsAbove:T,aboveTop:r,fitsBelow:N,belowTop:a,left:S}}_prepareRenderWidgetAtExactPositionOverflowing(o){return new w(o.top,o.left+this._contentLeft)}_getAnchorsCoordinates(o){var t,i;const n=r(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),c=((t=this._secondaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)===((i=this._primaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)?this._secondaryAnchor.viewPosition:null,u=r(c,this._affinity,this._lineHeight);return{primary:n,secondary:u};function r(a,l,d){if(!a)return null;const p=o.visibleRangeForPosition(a);if(!p)return null;const h=a.column===1&&l===3?0:p.left,g=o.getVerticalOffsetForLineNumber(a.lineNumber)-o.scrollTop;return new b(g,h,d)}}_reduceAnchorCoordinates(o,t,i){if(!t)return o;const n=this._context.configuration.options.get(50);let c=t.left;return c<o.left?c=Math.max(c,o.left-i+n.typicalFullwidthCharacterWidth):c=Math.min(c,o.left+i-n.typicalFullwidthCharacterWidth),new b(o.top,c,o.height)}_prepareRenderWidget(o){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(o);if(!t)return{kind:"offViewport",preserveFocus:this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)};if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let u=null;if(typeof this._actual.beforeRender=="function"&&(u=v(this._actual.beforeRender,this._actual)),u)this._cachedDomNodeOffsetWidth=u.width,this._cachedDomNodeOffsetHeight=u.height;else{const a=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(a.width),this._cachedDomNodeOffsetHeight=Math.round(a.height)}}const n=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let c;this.allowEditorOverflow?c=this._layoutBoxInPage(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,o):c=this._layoutBoxInViewport(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,o);for(let u=1;u<=2;u++)for(const r of this._preference)if(r===1){if(!c)return null;if(u===2||c.fitsAbove)return{kind:"inViewport",coordinate:new w(c.aboveTop,c.left),position:1}}else if(r===2){if(!c)return null;if(u===2||c.fitsBelow)return{kind:"inViewport",coordinate:new w(c.belowTop,c.left),position:2}}else return this.allowEditorOverflow?{kind:"inViewport",coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new w(n.top,n.left)),position:0}:{kind:"inViewport",coordinate:new w(n.top,n.left),position:0};return null}onBeforeRender(o){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<o.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>o.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(o){this._renderData=this._prepareRenderWidget(o)}render(o){var t;if(!this._renderData||this._renderData.kind==="offViewport"){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,((t=this._renderData)===null||t===void 0?void 0:t.kind)==="offViewport"&&this._renderData.preserveFocus?this.domNode.setTop(-1e3):this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+o.scrollTop-o.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}class m{constructor(o,t){this.modelPosition=o,this.viewPosition=t}}class w{constructor(o,t){this.top=o,this.left=t,this._coordinateBrand=void 0}}class b{constructor(o,t,i){this.top=o,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function v(s,o,...t){try{return s.call(o,...t)}catch{return null}}}),define(re[612],ae([1,0,130,164,5,494]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class I extends f.DynamicViewOverlay{constructor(m){super(),this._context=m;const w=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const w=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged||m.scrollWidthChanged}onZonesChanged(m){return!0}prepareRender(m){const w=m.getDecorationsInViewport();let b=[],v=0;for(let i=0,n=w.length;i<n;i++){const c=w[i];c.options.className&&(b[v++]=c)}b=b.sort((i,n)=>{if(i.options.zIndex<n.options.zIndex)return-1;if(i.options.zIndex>n.options.zIndex)return 1;const c=i.options.className,u=n.options.className;return c<u?-1:c>u?1:E.Range.compareRangesUsingStarts(i.range,n.range)});const s=m.visibleRange.startLineNumber,o=m.visibleRange.endLineNumber,t=[];for(let i=s;i<=o;i++){const n=i-s;t[n]=""}this._renderWholeLineDecorations(m,b,t),this._renderNormalDecorations(m,b,t),this._renderResult=t}_renderWholeLineDecorations(m,w,b){const v=m.visibleRange.startLineNumber,s=m.visibleRange.endLineNumber;for(let o=0,t=w.length;o<t;o++){const i=w[o];if(!i.options.isWholeLine)continue;const n='<div class="cdr '+i.options.className+'" style="left:0;width:100%;"></div>',c=Math.max(i.range.startLineNumber,v),u=Math.min(i.range.endLineNumber,s);for(let r=c;r<=u;r++){const a=r-v;b[a]+=n}}}_renderNormalDecorations(m,w,b){var v;const s=m.visibleRange.startLineNumber;let o=null,t=!1,i=null,n=!1;for(let c=0,u=w.length;c<u;c++){const r=w[c];if(r.options.isWholeLine)continue;const a=r.options.className,l=!!r.options.showIfCollapsed;let d=r.range;if(l&&d.endColumn===1&&d.endLineNumber!==d.startLineNumber&&(d=new E.Range(d.startLineNumber,d.startColumn,d.endLineNumber-1,this._context.viewModel.getLineMaxColumn(d.endLineNumber-1))),o===a&&t===l&&E.Range.areIntersectingOrTouching(i,d)){i=E.Range.plusRange(i,d);continue}o!==null&&this._renderNormalDecoration(m,i,o,n,t,s,b),o=a,t=l,i=d,n=(v=r.options.shouldFillLineOnLineBreak)!==null&&v!==void 0?v:!1}o!==null&&this._renderNormalDecoration(m,i,o,n,t,s,b)}_renderNormalDecoration(m,w,b,v,s,o,t){const i=m.linesVisibleRangesForRange(w,b==="findMatch");if(i)for(let n=0,c=i.length;n<c;n++){const u=i[n];if(u.outsideRenderedLine)continue;const r=u.lineNumber-o;if(s&&u.ranges.length===1){const a=u.ranges[0];if(a.width<this._typicalHalfwidthCharacterWidth){const l=Math.round(a.left+a.width/2),d=Math.max(0,Math.round(l-this._typicalHalfwidthCharacterWidth/2));u.ranges[0]=new k.HorizontalRange(d,this._typicalHalfwidthCharacterWidth)}}for(let a=0,l=u.ranges.length;a<l;a++){const d=v&&u.continuesOnNextLine&&l===1,p=u.ranges[a],h='<div class="cdr '+b+'" style="left:'+String(p.left)+"px;width:"+(d?"100%;":String(p.width)+"px;")+'"></div>';t[r]+=h}}}render(m,w){if(!this._renderResult)return"";const b=w-m;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}e.DecorationsOverlay=I}),define(re[253],ae([1,0,39,13,130,57,9,5,41,495]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class b{constructor(r,a,l,d,p){this.startLineNumber=r,this.endLineNumber=a,this.className=l,this.tooltip=d,this._decorationToRenderBrand=void 0,this.zIndex=p??0}}e.DecorationToRender=b;class v{constructor(r,a,l){this.className=r,this.zIndex=a,this.tooltip=l}}e.LineDecorationToRender=v;class s{constructor(){this.decorations=[]}add(r){this.decorations.push(r)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=s;class o extends E.DynamicViewOverlay{_render(r,a,l){const d=[];for(let g=r;g<=a;g++){const C=g-r;d[C]=new s}if(l.length===0)return d;l.sort((g,C)=>g.className===C.className?g.startLineNumber===C.startLineNumber?g.endLineNumber-C.endLineNumber:g.startLineNumber-C.startLineNumber:g.className<C.className?-1:1);let p=null,h=0;for(let g=0,C=l.length;g<C;g++){const S=l[g],_=S.className,L=S.zIndex;let D=Math.max(S.startLineNumber,r)-r;const T=Math.min(S.endLineNumber,a)-r;p===_?(D=Math.max(h+1,D),h=Math.max(h,T)):(p=_,h=T);for(let N=D;N<=h;N++)d[N].add(new v(_,L,S.tooltip))}return d}}e.DedupOverlay=o;class t extends I.ViewPart{constructor(r){super(r),this._widgets={},this._context=r;const a=this._context.configuration.options,l=a.get(146);this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=a.get(67),this._glyphMargin=a.get(57),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._glyphMarginDecorationLaneCount=l.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(r){const a=this._context.configuration.options,l=a.get(146);return this._lineHeight=a.get(67),this._glyphMargin=a.get(57),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._glyphMarginDecorationLaneCount=l.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}addWidget(r){const a=(0,f.createFastDomNode)(r.getDomNode());this._widgets[r.getId()]={widget:r,preference:r.getPosition(),domNode:a,renderInfo:null},a.setPosition("absolute"),a.setDisplay("none"),a.setAttribute("widgetId",r.getId()),this.domNode.appendChild(a),this.setShouldRender()}setWidgetPosition(r,a){const l=this._widgets[r.getId()];return l.preference.lane===a.lane&&l.preference.zIndex===a.zIndex&&m.Range.equalsRange(l.preference.range,a.range)?!1:(l.preference=a,this.setShouldRender(),!0)}removeWidget(r){const a=r.getId();if(this._widgets[a]){const d=this._widgets[a].domNode.domNode;delete this._widgets[a],d.remove(),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(r,a){var l,d,p;const h=r.visibleRange.startLineNumber,g=r.visibleRange.endLineNumber,C=r.getDecorationsInViewport();for(const S of C){const _=S.options.glyphMarginClassName;if(!_)continue;const L=Math.max(S.range.startLineNumber,h),D=Math.min(S.range.endLineNumber,g),T=(d=(l=S.options.glyphMargin)===null||l===void 0?void 0:l.position)!==null&&d!==void 0?d:w.GlyphMarginLane.Center,N=(p=S.options.zIndex)!==null&&p!==void 0?p:0;for(let A=L;A<=D;A++){const R=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(A,0)),M=this._context.viewModel.glyphLanes.getLanesAtLine(R.lineNumber).indexOf(T);a.push(new i(A,M,N,_))}}}_collectWidgetBasedGlyphRenderRequest(r,a){const l=r.visibleRange.startLineNumber,d=r.visibleRange.endLineNumber;for(const p of Object.values(this._widgets)){const h=p.preference.range,{startLineNumber:g,endLineNumber:C}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(m.Range.lift(h));if(!g||!C||C<l||g>d)continue;const S=Math.max(g,l),_=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(S,0)),L=this._context.viewModel.glyphLanes.getLanesAtLine(_.lineNumber).indexOf(p.preference.lane);a.push(new n(S,L,p.preference.zIndex,p))}}_collectSortedGlyphRenderRequests(r){const a=[];return this._collectDecorationBasedGlyphRenderRequest(r,a),this._collectWidgetBasedGlyphRenderRequest(r,a),a.sort((l,d)=>l.lineNumber===d.lineNumber?l.laneIndex===d.laneIndex?l.zIndex===d.zIndex?d.type===l.type?l.type===0&&d.type===0?l.className<d.className?-1:1:0:d.type-l.type:d.zIndex-l.zIndex:l.laneIndex-d.laneIndex:l.lineNumber-d.lineNumber),a}prepareRender(r){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const d of Object.values(this._widgets))d.renderInfo=null;const a=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(r)),l=[];for(;a.length>0;){const d=a.peek();if(!d)break;const p=a.takeWhile(g=>g.lineNumber===d.lineNumber&&g.laneIndex===d.laneIndex);if(!p||p.length===0)break;const h=p[0];if(h.type===0){const g=[];for(const C of p){if(C.zIndex!==h.zIndex||C.type!==h.type)break;(g.length===0||g[g.length-1]!==C.className)&&g.push(C.className)}l.push(h.accept(g.join(" ")))}else h.widget.renderInfo={lineNumber:h.lineNumber,laneIndex:h.laneIndex}}this._decorationGlyphsToRender=l}render(r){if(!this._glyphMargin){for(const l of Object.values(this._widgets))l.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const l=this._managedDomNodes.pop();l?.domNode.remove()}return}const a=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const l of Object.values(this._widgets))if(!l.renderInfo)l.domNode.setDisplay("none");else{const d=r.viewportData.relativeVerticalOffset[l.renderInfo.lineNumber-r.viewportData.startLineNumber],p=this._glyphMarginLeft+l.renderInfo.laneIndex*this._lineHeight;l.domNode.setDisplay("block"),l.domNode.setTop(d),l.domNode.setLeft(p),l.domNode.setWidth(a),l.domNode.setHeight(this._lineHeight)}for(let l=0;l<this._decorationGlyphsToRender.length;l++){const d=this._decorationGlyphsToRender[l],p=r.viewportData.relativeVerticalOffset[d.lineNumber-r.viewportData.startLineNumber],h=this._glyphMarginLeft+d.laneIndex*this._lineHeight;let g;l<this._managedDomNodes.length?g=this._managedDomNodes[l]:(g=(0,f.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(g),this.domNode.appendChild(g)),g.setClassName("cgmr codicon "+d.combinedClassName),g.setPosition("absolute"),g.setTop(p),g.setLeft(h),g.setWidth(a),g.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const l=this._managedDomNodes.pop();l?.domNode.remove()}}}e.GlyphMarginWidgets=t;class i{constructor(r,a,l,d){this.lineNumber=r,this.laneIndex=a,this.zIndex=l,this.className=d,this.type=0}accept(r){return new c(this.lineNumber,this.laneIndex,r)}}class n{constructor(r,a,l,d){this.lineNumber=r,this.laneIndex=a,this.zIndex=l,this.widget=d,this.type=1}}class c{constructor(r,a,l){this.lineNumber=r,this.laneIndex=a,this.combinedClassName=l}}}),define(re[613],ae([1,0,253,499]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(I){super(),this._context=I;const m=this._context.configuration.options.get(146);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){const m=this._context.configuration.options.get(146);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){var y,m;const w=I.getDecorationsInViewport(),b=[];let v=0;for(let s=0,o=w.length;s<o;s++){const t=w[s],i=t.options.linesDecorationsClassName,n=t.options.zIndex;i&&(b[v++]=new f.DecorationToRender(t.range.startLineNumber,t.range.endLineNumber,i,(y=t.options.linesDecorationsTooltip)!==null&&y!==void 0?y:null,n));const c=t.options.firstLineDecorationClassName;c&&(b[v++]=new f.DecorationToRender(t.range.startLineNumber,t.range.startLineNumber,c,(m=t.options.linesDecorationsTooltip)!==null&&m!==void 0?m:null,n))}return b}prepareRender(I){const y=I.visibleRange.startLineNumber,m=I.visibleRange.endLineNumber,w=this._render(y,m,this._getDecorations(I)),b=this._decorationsLeft.toString(),v=this._decorationsWidth.toString(),s='" style="left:'+b+"px;width:"+v+'px;"></div>',o=[];for(let t=y;t<=m;t++){const i=t-y,n=w[i].getDecorations();let c="";for(const u of n){let r='<div class="cldr '+u.className;u.tooltip!==null&&(r+='" title="'+u.tooltip),r+=s,c+=r}o[i]=c}this._renderResult=o}render(I,y){return this._renderResult?this._renderResult[y-I]:""}}e.LinesDecorationsOverlay=k}),define(re[346],ae([1,0,39,57,500]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class E extends k.ViewPart{constructor(y){super(y);const m=this._context.configuration.options,w=m.get(146);this._canUseLayerHinting=!m.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(E.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,f.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(E.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(y){const m=this._context.configuration.options,w=m.get(146);return this._canUseLayerHinting=!m.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,!0}onScrollChanged(y){return super.onScrollChanged(y)||y.scrollTopChanged}prepareRender(y){}render(y){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const m=y.scrollTop-y.bigNumbersDelta;this._domNode.setTop(-m);const w=Math.min(y.scrollHeight,1e6);this._domNode.setHeight(w),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(w)}}e.Margin=E,E.CLASS_NAME="glyph-margin",E.OUTER_CLASS_NAME="margin"}),define(re[614],ae([1,0,253,501]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(I){super(),this._context=I,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){return!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const y=I.getDecorationsInViewport(),m=[];let w=0;for(let b=0,v=y.length;b<v;b++){const s=y[b],o=s.options.marginClassName,t=s.options.zIndex;o&&(m[w++]=new f.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,o,null,t))}return m}prepareRender(I){const y=I.visibleRange.startLineNumber,m=I.visibleRange.endLineNumber,w=this._render(y,m,this._getDecorations(I)),b=[];for(let v=y;v<=m;v++){const s=v-y,o=w[s].getDecorations();let t="";for(const i of o)t+='<div class="cmdr '+i.className+'" style=""></div>';b[s]=t}this._renderResult=b}render(I,y){return this._renderResult?this._renderResult[y-I]:""}}e.MarginViewLineDecorationsOverlay=k}),define(re[615],ae([1,0,39,57,4,503]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class I extends k.ViewPart{constructor(m,w){super(m),this._viewDomNode=w;const v=this._context.configuration.options.get(146);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(m){const b=this._context.configuration.options.get(146);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(m){const w=(0,f.createFastDomNode)(m.getDomNode());this._widgets[m.getId()]={widget:m,preference:null,domNode:w},w.setPosition("absolute"),w.setAttribute("widgetId",m.getId()),m.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(w):this._domNode.appendChild(w),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(m,w){const b=this._widgets[m.getId()],v=w?w.preference:null,s=w?.stackOridinal;return b.preference===v&&b.stack===s?(this._updateMaxMinWidth(),!1):(b.preference=v,b.stack=s,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(m){const w=m.getId();if(this._widgets.hasOwnProperty(w)){const v=this._widgets[w].domNode.domNode;delete this._widgets[w],v.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var m,w;let b=0;const v=Object.keys(this._widgets);for(let s=0,o=v.length;s<o;s++){const t=v[s],n=(w=(m=this._widgets[t].widget).getMinContentWidthInPx)===null||w===void 0?void 0:w.call(m);typeof n<"u"&&(b=Math.max(b,n))}this._context.viewLayout.setOverlayWidgetsMinWidth(b)}_renderWidget(m,w){const b=m.domNode;if(m.preference===null){b.setTop("");return}const v=2*this._verticalScrollbarWidth+this._minimapWidth;if(m.preference===0||m.preference===1){if(m.preference===1){const s=b.domNode.clientHeight;b.setTop(this._editorHeight-s-2*this._horizontalScrollbarHeight)}else b.setTop(0);m.stack!==void 0?(b.setTop(w[m.preference]),w[m.preference]+=b.domNode.clientWidth):b.setRight(v)}else if(m.preference===2)b.domNode.style.right="50%",m.stack!==void 0?(b.setTop(w[2]),w[2]+=b.domNode.clientHeight):b.setTop(0);else{const{top:s,left:o}=m.preference;if(this._context.configuration.options.get(42)&&m.widget.allowEditorOverflow){const i=this._viewDomNodeRect;b.setTop(s+i.top),b.setLeft(o+i.left),b.setPosition("fixed")}else b.setTop(s),b.setLeft(o),b.setPosition("absolute")}}prepareRender(m){this._viewDomNodeRect=E.getDomNodePagePosition(this._viewDomNode.domNode)}render(m){this._domNode.setWidth(this._editorWidth);const w=Object.keys(this._widgets),b=Array.from({length:3},()=>0);w.sort((v,s)=>(this._widgets[v].stack||0)-(this._widgets[s].stack||0));for(let v=0,s=w.length;v<s;v++){const o=w[v];this._renderWidget(this._widgets[o],b)}}}e.ViewOverlayWidgets=I}),define(re[616],ae([1,0,39,57,504]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class E extends k.ViewPart{constructor(y){super(y),this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const m=this._context.configuration.options;this._rulers=m.get(103),this._typicalHalfwidthCharacterWidth=m.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(y){const m=this._context.configuration.options;return this._rulers=m.get(103),this._typicalHalfwidthCharacterWidth=m.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(y){return y.scrollHeightChanged}prepareRender(y){}_ensureRulersCount(){const y=this._renderedRulers.length,m=this._rulers.length;if(y===m)return;if(y<m){const{tabSize:b}=this._context.viewModel.model.getOptions(),v=b;let s=m-y;for(;s>0;){const o=(0,f.createFastDomNode)(document.createElement("div"));o.setClassName("view-ruler"),o.setWidth(v),this.domNode.appendChild(o),this._renderedRulers.push(o),s--}return}let w=y-m;for(;w>0;){const b=this._renderedRulers.pop();this.domNode.removeChild(b),w--}}render(y){this._ensureRulersCount();for(let m=0,w=this._rulers.length;m<w;m++){const b=this._renderedRulers[m],v=this._rulers[m];b.setBoxShadow(v.color?`1px 0 0 0 ${v.color} inset`:""),b.setHeight(Math.min(y.scrollHeight,1e6)),b.setLeft(v.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=E}),define(re[617],ae([1,0,39,57,505]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class E extends k.ViewPart{constructor(y){super(y),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const w=this._context.configuration.options.get(104);this._useShadows=w.useShadows,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const y=this._useShadows&&this._scrollTop>0;return this._shouldShow!==y?(this._shouldShow=y,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const m=this._context.configuration.options.get(146);m.minimap.renderMinimap===0||m.minimap.minimapWidth>0&&m.minimap.minimapLeft===0?this._width=m.width:this._width=m.width-m.verticalScrollbarWidth}onConfigurationChanged(y){const w=this._context.configuration.options.get(104);return this._useShadows=w.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(y){return this._scrollTop=y.scrollTop,this._updateShouldShow()}prepareRender(y){}render(y){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=E}),define(re[618],ae([1,0,39,8,57,9]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const y=()=>{throw new Error("Invalid change accessor")};class m extends E.ViewPart{constructor(v){super(v);const s=this._context.configuration.options,o=s.get(146);this._lineHeight=s.get(67),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,f.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const v=this._context.viewLayout.getWhitespaces(),s=new Map;for(const t of v)s.set(t.id,t);let o=!1;return this._context.viewModel.changeWhitespace(t=>{const i=Object.keys(this._zones);for(let n=0,c=i.length;n<c;n++){const u=i[n],r=this._zones[u],a=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=a.isInHiddenArea;const l=s.get(u);l&&(l.afterLineNumber!==a.afterViewLineNumber||l.height!==a.heightInPx)&&(t.changeOneWhitespace(u,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(r.delegate,a.heightInPx),o=!0)}}),o}onConfigurationChanged(v){const s=this._context.configuration.options,o=s.get(146);return this._lineHeight=s.get(67),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,v.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(v){return this._recomputeWhitespacesProps()}onLinesDeleted(v){return!0}onScrollChanged(v){return v.scrollTopChanged||v.scrollWidthChanged}onZonesChanged(v){return!0}onLinesInserted(v){return!0}_getZoneOrdinal(v){var s,o;return(o=(s=v.ordinal)!==null&&s!==void 0?s:v.afterColumn)!==null&&o!==void 0?o:1e4}_computeWhitespaceProps(v){if(v.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(v),minWidthInPx:this._minWidthInPixels(v)};let s;if(typeof v.afterColumn<"u")s=this._context.viewModel.model.validatePosition({lineNumber:v.afterLineNumber,column:v.afterColumn});else{const n=this._context.viewModel.model.validatePosition({lineNumber:v.afterLineNumber,column:1}).lineNumber;s=new I.Position(n,this._context.viewModel.model.getLineMaxColumn(n))}let o;s.column===this._context.viewModel.model.getLineMaxColumn(s.lineNumber)?o=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber+1,column:1}):o=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber,column:s.column+1});const t=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s,v.afterColumnAffinity,!0),i=v.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(o);return{isInHiddenArea:!i,afterViewLineNumber:t.lineNumber,heightInPx:i?this._heightInPixels(v):0,minWidthInPx:this._minWidthInPixels(v)}}changeViewZones(v){let s=!1;return this._context.viewModel.changeWhitespace(o=>{const t={addZone:i=>(s=!0,this._addZone(o,i)),removeZone:i=>{i&&(s=this._removeZone(o,i)||s)},layoutZone:i=>{i&&(s=this._layoutZone(o,i)||s)}};w(v,t),t.addZone=y,t.removeZone=y,t.layoutZone=y}),s}_addZone(v,s){const o=this._computeWhitespaceProps(s),i={whitespaceId:v.insertWhitespace(o.afterViewLineNumber,this._getZoneOrdinal(s),o.heightInPx,o.minWidthInPx),delegate:s,isInHiddenArea:o.isInHiddenArea,isVisible:!1,domNode:(0,f.createFastDomNode)(s.domNode),marginDomNode:s.marginDomNode?(0,f.createFastDomNode)(s.marginDomNode):null};return this._safeCallOnComputedHeight(i.delegate,o.heightInPx),i.domNode.setPosition("absolute"),i.domNode.domNode.style.width="100%",i.domNode.setDisplay("none"),i.domNode.setAttribute("monaco-view-zone",i.whitespaceId),this.domNode.appendChild(i.domNode),i.marginDomNode&&(i.marginDomNode.setPosition("absolute"),i.marginDomNode.domNode.style.width="100%",i.marginDomNode.setDisplay("none"),i.marginDomNode.setAttribute("monaco-view-zone",i.whitespaceId),this.marginDomNode.appendChild(i.marginDomNode)),this._zones[i.whitespaceId]=i,this.setShouldRender(),i.whitespaceId}_removeZone(v,s){if(this._zones.hasOwnProperty(s)){const o=this._zones[s];return delete this._zones[s],v.removeWhitespace(o.whitespaceId),o.domNode.removeAttribute("monaco-visible-view-zone"),o.domNode.removeAttribute("monaco-view-zone"),o.domNode.domNode.remove(),o.marginDomNode&&(o.marginDomNode.removeAttribute("monaco-visible-view-zone"),o.marginDomNode.removeAttribute("monaco-view-zone"),o.marginDomNode.domNode.remove()),this.setShouldRender(),!0}return!1}_layoutZone(v,s){if(this._zones.hasOwnProperty(s)){const o=this._zones[s],t=this._computeWhitespaceProps(o.delegate);return o.isInHiddenArea=t.isInHiddenArea,v.changeOneWhitespace(o.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(o.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(v){return this._zones.hasOwnProperty(v)?!!this._zones[v].delegate.suppressMouseDown:!1}_heightInPixels(v){return typeof v.heightInPx=="number"?v.heightInPx:typeof v.heightInLines=="number"?this._lineHeight*v.heightInLines:this._lineHeight}_minWidthInPixels(v){return typeof v.minWidthInPx=="number"?v.minWidthInPx:0}_safeCallOnComputedHeight(v,s){if(typeof v.onComputedHeight=="function")try{v.onComputedHeight(s)}catch(o){(0,k.onUnexpectedError)(o)}}_safeCallOnDomNodeTop(v,s){if(typeof v.onDomNodeTop=="function")try{v.onDomNodeTop(s)}catch(o){(0,k.onUnexpectedError)(o)}}prepareRender(v){}render(v){const s=v.viewportData.whitespaceViewportData,o={};let t=!1;for(const n of s)this._zones[n.id].isInHiddenArea||(o[n.id]=n,t=!0);const i=Object.keys(this._zones);for(let n=0,c=i.length;n<c;n++){const u=i[n],r=this._zones[u];let a=0,l=0,d="none";o.hasOwnProperty(u)?(a=o[u].verticalOffset-v.bigNumbersDelta,l=o[u].height,d="block",r.isVisible||(r.domNode.setAttribute("monaco-visible-view-zone","true"),r.isVisible=!0),this._safeCallOnDomNodeTop(r.delegate,v.getScrolledTopFromAbsoluteTop(o[u].verticalOffset))):(r.isVisible&&(r.domNode.removeAttribute("monaco-visible-view-zone"),r.isVisible=!1),this._safeCallOnDomNodeTop(r.delegate,v.getScrolledTopFromAbsoluteTop(-1e6))),r.domNode.setTop(a),r.domNode.setHeight(l),r.domNode.setDisplay(d),r.marginDomNode&&(r.marginDomNode.setTop(a),r.marginDomNode.setHeight(l),r.marginDomNode.setDisplay(d))}t&&(this.domNode.setWidth(Math.max(v.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=m;function w(b,v){try{return b(v)}catch(s){(0,k.onUnexpectedError)(s)}}}),define(re[254],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class f{constructor(){this.type=0}}e.ViewCompositionStartEvent=f;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class E{constructor(d){this.type=2,this._source=d}hasChanged(d){return this._source.hasChanged(d)}}e.ViewConfigurationChangedEvent=E;class I{constructor(d,p,h){this.selections=d,this.modelSelections=p,this.reason=h,this.type=3}}e.ViewCursorStateChangedEvent=I;class y{constructor(d){this.type=4,d?(this.affectsMinimap=d.affectsMinimap,this.affectsOverviewRuler=d.affectsOverviewRuler,this.affectsGlyphMargin=d.affectsGlyphMargin,this.affectsLineNumber=d.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}e.ViewDecorationsChangedEvent=y;class m{constructor(){this.type=5}}e.ViewFlushedEvent=m;class w{constructor(d){this.type=6,this.isFocused=d}}e.ViewFocusChangedEvent=w;class b{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=b;class v{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=v;class s{constructor(d,p){this.fromLineNumber=d,this.count=p,this.type=9}}e.ViewLinesChangedEvent=s;class o{constructor(d,p){this.type=10,this.fromLineNumber=d,this.toLineNumber=p}}e.ViewLinesDeletedEvent=o;class t{constructor(d,p){this.type=11,this.fromLineNumber=d,this.toLineNumber=p}}e.ViewLinesInsertedEvent=t;class i{constructor(d,p,h,g,C,S,_){this.source=d,this.minimalReveal=p,this.range=h,this.selections=g,this.verticalType=C,this.revealHorizontal=S,this.scrollType=_,this.type=12}}e.ViewRevealRangeRequestEvent=i;class n{constructor(d){this.type=13,this.scrollWidth=d.scrollWidth,this.scrollLeft=d.scrollLeft,this.scrollHeight=d.scrollHeight,this.scrollTop=d.scrollTop,this.scrollWidthChanged=d.scrollWidthChanged,this.scrollLeftChanged=d.scrollLeftChanged,this.scrollHeightChanged=d.scrollHeightChanged,this.scrollTopChanged=d.scrollTopChanged}}e.ViewScrollChangedEvent=n;class c{constructor(d){this.theme=d,this.type=14}}e.ViewThemeChangedEvent=c;class u{constructor(d){this.type=15,this.ranges=d}}e.ViewTokensChangedEvent=u;class r{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=r;class a{constructor(){this.type=17}}e.ViewZonesChangedEvent=a}),define(re[147],ae([1,0,11]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(w,b,v,s){this.startColumn=w,this.endColumn=b,this.className=v,this.type=s,this._lineDecorationBrand=void 0}static _equals(w,b){return w.startColumn===b.startColumn&&w.endColumn===b.endColumn&&w.className===b.className&&w.type===b.type}static equalsArr(w,b){const v=w.length,s=b.length;if(v!==s)return!1;for(let o=0;o<v;o++)if(!k._equals(w[o],b[o]))return!1;return!0}static extractWrapped(w,b,v){if(w.length===0)return w;const s=b+1,o=v+1,t=v-b,i=[];let n=0;for(const c of w)c.endColumn<=s||c.startColumn>=o||(i[n++]=new k(Math.max(1,c.startColumn-s+1),Math.min(t+1,c.endColumn-s+1),c.className,c.type));return i}static filter(w,b,v,s){if(w.length===0)return[];const o=[];let t=0;for(let i=0,n=w.length;i<n;i++){const c=w[i],u=c.range;if(u.endLineNumber<b||u.startLineNumber>b||u.isEmpty()&&(c.type===0||c.type===3))continue;const r=u.startLineNumber===b?u.startColumn:v,a=u.endLineNumber===b?u.endColumn:s;o[t++]=new k(r,a,c.inlineClassName,c.type)}return o}static _typeCompare(w,b){const v=[2,0,1,3];return v[w]-v[b]}static compare(w,b){if(w.startColumn!==b.startColumn)return w.startColumn-b.startColumn;if(w.endColumn!==b.endColumn)return w.endColumn-b.endColumn;const v=k._typeCompare(w.type,b.type);return v!==0?v:w.className!==b.className?w.className<b.className?-1:1:0}}e.LineDecoration=k;class E{constructor(w,b,v,s){this.startOffset=w,this.endOffset=b,this.className=v,this.metadata=s}}e.DecorationSegment=E;class I{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(w){let b=0;for(let v=0,s=w.length;v<s;v++)b|=w[v];return b}consumeLowerThan(w,b,v){for(;this.count>0&&this.stopOffsets[0]<w;){let s=0;for(;s+1<this.count&&this.stopOffsets[s]===this.stopOffsets[s+1];)s++;v.push(new E(b,this.stopOffsets[s],this.classNames.join(" "),I._metadata(this.metadata))),b=this.stopOffsets[s]+1,this.stopOffsets.splice(0,s+1),this.classNames.splice(0,s+1),this.metadata.splice(0,s+1),this.count-=s+1}return this.count>0&&b<w&&(v.push(new E(b,w-1,this.classNames.join(" "),I._metadata(this.metadata))),b=w),b}insert(w,b,v){if(this.count===0||this.stopOffsets[this.count-1]<=w)this.stopOffsets.push(w),this.classNames.push(b),this.metadata.push(v);else for(let s=0;s<this.count;s++)if(this.stopOffsets[s]>=w){this.stopOffsets.splice(s,0,w),this.classNames.splice(s,0,b),this.metadata.splice(s,0,v);break}this.count++}}class y{static normalize(w,b){if(b.length===0)return[];const v=[],s=new I;let o=0;for(let t=0,i=b.length;t<i;t++){const n=b[t];let c=n.startColumn,u=n.endColumn;const r=n.className,a=n.type===1?2:n.type===2?4:0;if(c>1){const p=w.charCodeAt(c-2);f.isHighSurrogate(p)&&c--}if(u>1){const p=w.charCodeAt(u-2);f.isHighSurrogate(p)&&u--}const l=c-1,d=u-2;o=s.consumeLowerThan(l,o,v),s.count===0&&(o=l),s.insert(d,r,a)}return s.consumeLowerThan(1073741824,o,v),v}}e.LineDecorationsNormalizer=y}),define(re[619],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class f{constructor(E,I,y,m){this.endIndex=E,this.type=I,this.metadata=y,this.containsRTL=m,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=f}),define(re[620],ae([1,0,11]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(m){this._hasPending=!0,this._inserts.push(m)}change(m){this._hasPending=!0,this._changes.push(m)}remove(m){this._hasPending=!0,this._removes.push(m)}mustCommit(){return this._hasPending}commit(m){if(!this._hasPending)return;const w=this._inserts,b=this._changes,v=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],m._commitPendingChanges(w,b,v)}}class E{constructor(m,w,b,v,s){this.id=m,this.afterLineNumber=w,this.ordinal=b,this.height=v,this.minWidth=s,this.prefixSum=0}}e.EditorWhitespace=E;class I{constructor(m,w,b,v){this._instanceId=f.singleLetterHash(++I.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=m,this._lineHeight=w,this._paddingTop=b,this._paddingBottom=v}static findInsertionIndex(m,w,b){let v=0,s=m.length;for(;v<s;){const o=v+s>>>1;w===m[o].afterLineNumber?b<m[o].ordinal?s=o:v=o+1:w<m[o].afterLineNumber?s=o:v=o+1}return v}setLineHeight(m){this._checkPendingChanges(),this._lineHeight=m}setPadding(m,w){this._paddingTop=m,this._paddingBottom=w}onFlushed(m){this._checkPendingChanges(),this._lineCount=m}changeWhitespace(m){let w=!1;try{m({insertWhitespace:(v,s,o,t)=>{w=!0,v=v|0,s=s|0,o=o|0,t=t|0;const i=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new E(i,v,s,o,t)),i},changeOneWhitespace:(v,s,o)=>{w=!0,s=s|0,o=o|0,this._pendingChanges.change({id:v,newAfterLineNumber:s,newHeight:o})},removeWhitespace:v=>{w=!0,this._pendingChanges.remove({id:v})}})}finally{this._pendingChanges.commit(this)}return w}_commitPendingChanges(m,w,b){if((m.length>0||b.length>0)&&(this._minWidth=-1),m.length+w.length+b.length<=1){for(const i of m)this._insertWhitespace(i);for(const i of w)this._changeOneWhitespace(i.id,i.newAfterLineNumber,i.newHeight);for(const i of b){const n=this._findWhitespaceIndex(i.id);n!==-1&&this._removeWhitespace(n)}return}const v=new Set;for(const i of b)v.add(i.id);const s=new Map;for(const i of w)s.set(i.id,i);const o=i=>{const n=[];for(const c of i)if(!v.has(c.id)){if(s.has(c.id)){const u=s.get(c.id);c.afterLineNumber=u.newAfterLineNumber,c.height=u.newHeight}n.push(c)}return n},t=o(this._arr).concat(o(m));t.sort((i,n)=>i.afterLineNumber===n.afterLineNumber?i.ordinal-n.ordinal:i.afterLineNumber-n.afterLineNumber),this._arr=t,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(m){const w=I.findInsertionIndex(this._arr,m.afterLineNumber,m.ordinal);this._arr.splice(w,0,m),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,w-1)}_findWhitespaceIndex(m){const w=this._arr;for(let b=0,v=w.length;b<v;b++)if(w[b].id===m)return b;return-1}_changeOneWhitespace(m,w,b){const v=this._findWhitespaceIndex(m);if(v!==-1&&(this._arr[v].height!==b&&(this._arr[v].height=b,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)),this._arr[v].afterLineNumber!==w)){const s=this._arr[v];this._removeWhitespace(v),s.afterLineNumber=w,this._insertWhitespace(s)}}_removeWhitespace(m){this._arr.splice(m,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}onLinesDeleted(m,w){this._checkPendingChanges(),m=m|0,w=w|0,this._lineCount-=w-m+1;for(let b=0,v=this._arr.length;b<v;b++){const s=this._arr[b].afterLineNumber;m<=s&&s<=w?this._arr[b].afterLineNumber=m-1:s>w&&(this._arr[b].afterLineNumber-=w-m+1)}}onLinesInserted(m,w){this._checkPendingChanges(),m=m|0,w=w|0,this._lineCount+=w-m+1;for(let b=0,v=this._arr.length;b<v;b++){const s=this._arr[b].afterLineNumber;m<=s&&(this._arr[b].afterLineNumber+=w-m+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(m){this._checkPendingChanges(),m=m|0;let w=Math.max(0,this._prefixSumValidIndex+1);w===0&&(this._arr[0].prefixSum=this._arr[0].height,w++);for(let b=w;b<=m;b++)this._arr[b].prefixSum=this._arr[b-1].prefixSum+this._arr[b].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,m),this._arr[m].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const m=this._lineHeight*this._lineCount,w=this.getWhitespacesTotalHeight();return m+w+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(m){this._checkPendingChanges(),m=m|0;const w=this._findLastWhitespaceBeforeLineNumber(m);return w===-1?0:this.getWhitespacesAccumulatedHeight(w)}_findLastWhitespaceBeforeLineNumber(m){m=m|0;const w=this._arr;let b=0,v=w.length-1;for(;b<=v;){const o=(v-b|0)/2|0,t=b+o|0;if(w[t].afterLineNumber<m){if(t+1>=w.length||w[t+1].afterLineNumber>=m)return t;b=t+1|0}else v=t-1|0}return-1}_findFirstWhitespaceAfterLineNumber(m){m=m|0;const b=this._findLastWhitespaceBeforeLineNumber(m)+1;return b<this._arr.length?b:-1}getFirstWhitespaceIndexAfterLineNumber(m){return this._checkPendingChanges(),m=m|0,this._findFirstWhitespaceAfterLineNumber(m)}getVerticalOffsetForLineNumber(m,w=!1){this._checkPendingChanges(),m=m|0;let b;m>1?b=this._lineHeight*(m-1):b=0;const v=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m-(w?1:0));return b+v+this._paddingTop}getVerticalOffsetAfterLineNumber(m,w=!1){this._checkPendingChanges(),m=m|0;const b=this._lineHeight*m,v=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m+(w?1:0));return b+v+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let m=0;for(let w=0,b=this._arr.length;w<b;w++)m=Math.max(m,this._arr[w].minWidth);this._minWidth=m}return this._minWidth}isAfterLines(m){this._checkPendingChanges();const w=this.getLinesTotalHeight();return m>w}isInTopPadding(m){return this._paddingTop===0?!1:(this._checkPendingChanges(),m<this._paddingTop)}isInBottomPadding(m){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const w=this.getLinesTotalHeight();return m>=w-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(m){if(this._checkPendingChanges(),m=m|0,m<0)return 1;const w=this._lineCount|0,b=this._lineHeight;let v=1,s=w;for(;v<s;){const o=(v+s)/2|0,t=this.getVerticalOffsetForLineNumber(o)|0;if(m>=t+b)v=o+1;else{if(m>=t)return o;s=o}}return v>w?w:v}getLinesViewportData(m,w){this._checkPendingChanges(),m=m|0,w=w|0;const b=this._lineHeight,v=this.getLineNumberAtOrAfterVerticalOffset(m)|0,s=this.getVerticalOffsetForLineNumber(v)|0;let o=this._lineCount|0,t=this.getFirstWhitespaceIndexAfterLineNumber(v)|0;const i=this.getWhitespacesCount()|0;let n,c;t===-1?(t=i,c=o+1,n=0):(c=this.getAfterLineNumberForWhitespaceIndex(t)|0,n=this.getHeightForWhitespaceIndex(t)|0);let u=s,r=u;const a=5e5;let l=0;s>=a&&(l=Math.floor(s/a)*a,l=Math.floor(l/b)*b,r-=l);const d=[],p=m+(w-m)/2;let h=-1;for(let _=v;_<=o;_++){if(h===-1){const L=u,D=u+b;(L<=p&&p<D||L>p)&&(h=_)}for(u+=b,d[_-v]=r,r+=b;c===_;)r+=n,u+=n,t++,t>=i?c=o+1:(c=this.getAfterLineNumberForWhitespaceIndex(t)|0,n=this.getHeightForWhitespaceIndex(t)|0);if(u>=w){o=_;break}}h===-1&&(h=o);const g=this.getVerticalOffsetForLineNumber(o)|0;let C=v,S=o;return C<S&&s<m&&C++,C<S&&g+b>w&&S--,{bigNumbersDelta:l,startLineNumber:v,endLineNumber:o,relativeVerticalOffset:d,centeredLineNumber:h,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:S,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(m){this._checkPendingChanges(),m=m|0;const w=this.getAfterLineNumberForWhitespaceIndex(m);let b;w>=1?b=this._lineHeight*w:b=0;let v;return m>0?v=this.getWhitespacesAccumulatedHeight(m-1):v=0,b+v+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(m){this._checkPendingChanges(),m=m|0;let w=0,b=this.getWhitespacesCount()-1;if(b<0)return-1;const v=this.getVerticalOffsetForWhitespaceIndex(b),s=this.getHeightForWhitespaceIndex(b);if(m>=v+s)return-1;for(;w<b;){const o=Math.floor((w+b)/2),t=this.getVerticalOffsetForWhitespaceIndex(o),i=this.getHeightForWhitespaceIndex(o);if(m>=t+i)w=o+1;else{if(m>=t)return o;b=o}}return w}getWhitespaceAtVerticalOffset(m){this._checkPendingChanges(),m=m|0;const w=this.getWhitespaceIndexAtOrAfterVerticallOffset(m);if(w<0||w>=this.getWhitespacesCount())return null;const b=this.getVerticalOffsetForWhitespaceIndex(w);if(b>m)return null;const v=this.getHeightForWhitespaceIndex(w),s=this.getIdForWhitespaceIndex(w),o=this.getAfterLineNumberForWhitespaceIndex(w);return{id:s,afterLineNumber:o,verticalOffset:b,height:v}}getWhitespaceViewportData(m,w){this._checkPendingChanges(),m=m|0,w=w|0;const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(m),v=this.getWhitespacesCount()-1;if(b<0)return[];const s=[];for(let o=b;o<=v;o++){const t=this.getVerticalOffsetForWhitespaceIndex(o),i=this.getHeightForWhitespaceIndex(o);if(t>=w)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:t,height:i})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].id}getAfterLineNumberForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].afterLineNumber}getHeightForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].height}}e.LinesLayout=I,I.INSTANCE_COUNT=0}),define(re[621],ae([1,0,5]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(I,y,m,w){this.selections=I,this.startLineNumber=y.startLineNumber|0,this.endLineNumber=y.endLineNumber|0,this.relativeVerticalOffset=y.relativeVerticalOffset,this.bigNumbersDelta=y.bigNumbersDelta|0,this.lineHeight=y.lineHeight|0,this.whitespaceViewportData=m,this._model=w,this.visibleRange=new f.Range(y.startLineNumber,this._model.getLineMinColumn(y.startLineNumber),y.endLineNumber,this._model.getLineMaxColumn(y.endLineNumber))}getViewLineRenderingData(I){return this._model.getViewportViewLineRenderingData(this.visibleRange,I)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(re[95],ae([1,0,13,11,5]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class I{constructor(i,n,c,u){this._viewportBrand=void 0,this.top=i|0,this.left=n|0,this.width=c|0,this.height=u|0}}e.Viewport=I;class y{constructor(i,n){this.tabSize=i,this.data=n}}e.MinimapLinesRenderingData=y;class m{constructor(i,n,c,u,r,a,l){this._viewLineDataBrand=void 0,this.content=i,this.continuesWithWrappedLine=n,this.minColumn=c,this.maxColumn=u,this.startVisibleColumn=r,this.tokens=a,this.inlineDecorations=l}}e.ViewLineData=m;class w{constructor(i,n,c,u,r,a,l,d,p,h){this.minColumn=i,this.maxColumn=n,this.content=c,this.continuesWithWrappedLine=u,this.isBasicASCII=w.isBasicASCII(c,a),this.containsRTL=w.containsRTL(c,this.isBasicASCII,r),this.tokens=l,this.inlineDecorations=d,this.tabSize=p,this.startVisibleColumn=h}static isBasicASCII(i,n){return n?k.isBasicASCII(i):!0}static containsRTL(i,n,c){return!n&&c?k.containsRTL(i):!1}}e.ViewLineRenderingData=w;class b{constructor(i,n,c){this.range=i,this.inlineClassName=n,this.type=c}}e.InlineDecoration=b;class v{constructor(i,n,c,u){this.startOffset=i,this.endOffset=n,this.inlineClassName=c,this.inlineClassNameAffectsLetterSpacing=u}toInlineDecoration(i){return new b(new E.Range(i,this.startOffset+1,i,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=v;class s{constructor(i,n){this._viewModelDecorationBrand=void 0,this.range=i,this.options=n}}e.ViewModelDecoration=s;class o{constructor(i,n,c){this.color=i,this.zIndex=n,this.data=c}static compareByRenderingProps(i,n){return i.zIndex===n.zIndex?i.color<n.color?-1:i.color>n.color?1:0:i.zIndex-n.zIndex}static equals(i,n){return i.color===n.color&&i.zIndex===n.zIndex&&f.equals(i.data,n.data)}static equalsArr(i,n){return f.equals(i,n,o.equals)}}e.OverviewRulerDecorationsGroup=o}),define(re[622],ae([1,0,41]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginLanesModel=void 0;const k=f.GlyphMarginLane.Right;class E{constructor(y){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((y+1)*k/8))}reset(y){const m=Math.ceil((y+1)*k/8);this.lanes.length<m?this.lanes=new Uint8Array(m):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(y,m,w){w&&(this.persist|=1<<y-1);for(let b=m.startLineNumber;b<=m.endLineNumber;b++){const v=k*b+(y-1);this.lanes[v>>>3]|=1<<v%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(b))}}getLanesAtLine(y){const m=[];let w=k*y;for(let b=0;b<k;b++)(this.persist&1<<b||this.lanes[w>>>3]&1<<w%8)&&m.push(b+1),w++;return m.length?m:[f.GlyphMarginLane.Center]}countAtLine(y){let m=k*y,w=0;for(let b=0;b<k;b++)(this.persist&1<<b||this.lanes[m>>>3]&1<<m%8)&&w++,m++;return w}}e.GlyphMarginLanesModel=E}),define(re[623],ae([1,0,94,9,129,95]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=y;function y(t,i){return t===null?i?w.INSTANCE:b.INSTANCE:new m(t,i)}class m{constructor(i,n){this._projectionData=i,this._isVisible=n}isVisible(){return this._isVisible}setVisible(i){return this._isVisible=i,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(i,n,c){this._assertVisible();const u=c>0?this._projectionData.breakOffsets[c-1]:0,r=this._projectionData.breakOffsets[c];let a;if(this._projectionData.injectionOffsets!==null){const l=this._projectionData.injectionOffsets.map((p,h)=>new E.LineInjectedText(0,0,p+1,this._projectionData.injectionOptions[h],0));a=E.LineInjectedText.applyInjectedText(i.getLineContent(n),l).substring(u,r)}else a=i.getValueInRange({startLineNumber:n,startColumn:u+1,endLineNumber:n,endColumn:r+1});return c>0&&(a=s(this._projectionData.wrappedTextIndentLength)+a),a}getViewLineLength(i,n,c){return this._assertVisible(),this._projectionData.getLineLength(c)}getViewLineMinColumn(i,n,c){return this._assertVisible(),this._projectionData.getMinOutputOffset(c)+1}getViewLineMaxColumn(i,n,c){return this._assertVisible(),this._projectionData.getMaxOutputOffset(c)+1}getViewLineData(i,n,c){const u=new Array;return this.getViewLinesData(i,n,c,1,0,[!0],u),u[0]}getViewLinesData(i,n,c,u,r,a,l){this._assertVisible();const d=this._projectionData,p=d.injectionOffsets,h=d.injectionOptions;let g=null;if(p){g=[];let S=0,_=0;for(let L=0;L<d.getOutputLineCount();L++){const D=new Array;g[L]=D;const T=L>0?d.breakOffsets[L-1]:0,N=d.breakOffsets[L];for(;_<p.length;){const A=h[_].content.length,R=p[_]+S,M=R+A;if(R>N)break;if(T<M){const P=h[_];if(P.inlineClassName){const x=L>0?d.wrappedTextIndentLength:0,O=x+Math.max(R-T,0),B=x+Math.min(M-T,N-T);O!==B&&D.push(new I.SingleLineInlineDecoration(O,B,P.inlineClassName,P.inlineClassNameAffectsLetterSpacing))}}if(M<=N)S+=A,_++;else break}}}let C;p?C=i.tokenization.getLineTokens(n).withInserted(p.map((S,_)=>({offset:S,text:h[_].content,tokenMetadata:f.LineTokens.defaultTokenMetadata}))):C=i.tokenization.getLineTokens(n);for(let S=c;S<c+u;S++){const _=r+S-c;if(!a[_]){l[_]=null;continue}l[_]=this._getViewLineData(C,g?g[S]:null,S)}}_getViewLineData(i,n,c){this._assertVisible();const u=this._projectionData,r=c>0?u.wrappedTextIndentLength:0,a=c>0?u.breakOffsets[c-1]:0,l=u.breakOffsets[c],d=i.sliceAndInflate(a,l,r);let p=d.getLineContent();c>0&&(p=s(u.wrappedTextIndentLength)+p);const h=this._projectionData.getMinOutputOffset(c)+1,g=p.length+1,C=c+1<this.getViewLineCount(),S=c===0?0:u.breakOffsetsVisibleColumn[c-1];return new I.ViewLineData(p,C,h,g,S,d,n)}getModelColumnOfViewPosition(i,n){return this._assertVisible(),this._projectionData.translateToInputOffset(i,n-1)+1}getViewPositionOfModelPosition(i,n,c=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(n-1,c).toPosition(i)}getViewLineNumberOfModelPosition(i,n){this._assertVisible();const c=this._projectionData.translateToOutputPosition(n-1);return i+c.outputLineIndex}normalizePosition(i,n,c){const u=n.lineNumber-i;return this._projectionData.normalizeOutputPosition(i,n.column-1,c).toPosition(u)}getInjectedTextAt(i,n){return this._projectionData.getInjectedText(i,n-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class w{constructor(){}isVisible(){return!0}setVisible(i){return i?this:b.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(i,n,c){return i.getLineContent(n)}getViewLineLength(i,n,c){return i.getLineLength(n)}getViewLineMinColumn(i,n,c){return i.getLineMinColumn(n)}getViewLineMaxColumn(i,n,c){return i.getLineMaxColumn(n)}getViewLineData(i,n,c){const u=i.tokenization.getLineTokens(n),r=u.getLineContent();return new I.ViewLineData(r,!1,1,r.length+1,0,u.inflate(),null)}getViewLinesData(i,n,c,u,r,a,l){if(!a[r]){l[r]=null;return}l[r]=this.getViewLineData(i,n,0)}getModelColumnOfViewPosition(i,n){return n}getViewPositionOfModelPosition(i,n){return new k.Position(i,n)}getViewLineNumberOfModelPosition(i,n){return i}normalizePosition(i,n,c){return n}getInjectedTextAt(i,n){return null}}w.INSTANCE=new w;class b{constructor(){}isVisible(){return!1}setVisible(i){return i?w.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(i,n,c){throw new Error("Not supported")}getViewLineLength(i,n,c){throw new Error("Not supported")}getViewLineMinColumn(i,n,c){throw new Error("Not supported")}getViewLineMaxColumn(i,n,c){throw new Error("Not supported")}getViewLineData(i,n,c){throw new Error("Not supported")}getViewLinesData(i,n,c,u,r,a,l){throw new Error("Not supported")}getModelColumnOfViewPosition(i,n){throw new Error("Not supported")}getViewPositionOfModelPosition(i,n){throw new Error("Not supported")}getViewLineNumberOfModelPosition(i,n){throw new Error("Not supported")}normalizePosition(i,n,c){throw new Error("Not supported")}getInjectedTextAt(i,n){throw new Error("Not supported")}}b.INSTANCE=new b;const v=[""];function s(t){if(t>=v.length)for(let i=1;i<=t;i++)v[i]=o(i);return v[t]}function o(t){return new Array(t+1).join(" ")}}),define(re[624],ae([1,0,11,141,129,341]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y{static create(u){return new y(u.get(135),u.get(134))}constructor(u,r){this.classifier=new m(u,r)}createLineBreaksComputer(u,r,a,l,d){const p=[],h=[],g=[];return{addRequest:(C,S,_)=>{p.push(C),h.push(S),g.push(_)},finalize:()=>{const C=u.typicalFullwidthCharacterWidth/u.typicalHalfwidthCharacterWidth,S=[];for(let _=0,L=p.length;_<L;_++){const D=h[_],T=g[_];T&&!T.injectionOptions&&!D?S[_]=v(this.classifier,T,p[_],r,a,C,l,d):S[_]=s(this.classifier,p[_],D,r,a,C,l,d)}return w.length=0,b.length=0,S}}}}e.MonospaceLineBreaksComputerFactory=y;class m extends k.CharacterClassifier{constructor(u,r){super(0);for(let a=0;a<u.length;a++)this.set(u.charCodeAt(a),1);for(let a=0;a<r.length;a++)this.set(r.charCodeAt(a),2)}get(u){return u>=0&&u<256?this._asciiMap[u]:u>=12352&&u<=12543||u>=13312&&u<=19903||u>=19968&&u<=40959?3:this._map.get(u)||this._defaultValue}}let w=[],b=[];function v(c,u,r,a,l,d,p,h){if(l===-1)return null;const g=r.length;if(g<=1)return null;const C=h==="keepAll",S=u.breakOffsets,_=u.breakOffsetsVisibleColumn,L=n(r,a,l,d,p),D=l-L,T=w,N=b;let A=0,R=0,M=0,P=l;const x=S.length;let O=0;if(O>=0){let B=Math.abs(_[O]-P);for(;O+1<x;){const H=Math.abs(_[O+1]-P);if(H>=B)break;B=H,O++}}for(;O<x;){let B=O<0?0:S[O],H=O<0?0:_[O];R>B&&(B=R,H=M);let K=0,V=0,j=0,U=0;if(H<=P){let Q=H,Z=B===0?0:r.charCodeAt(B-1),G=B===0?0:c.get(Z),F=!0;for(let J=B;J<g;J++){const te=J,de=r.charCodeAt(J);let he,pe;if(f.isHighSurrogate(de)?(J++,he=0,pe=2):(he=c.get(de),pe=o(de,Q,a,d)),te>R&&i(Z,G,de,he,C)&&(K=te,V=Q),Q+=pe,Q>P){te>R?(j=te,U=Q-pe):(j=J+1,U=Q),Q-V>D&&(K=0),F=!1;break}Z=de,G=he}if(F){A>0&&(T[A]=S[S.length-1],N[A]=_[S.length-1],A++);break}}if(K===0){let Q=H,Z=r.charCodeAt(B),G=c.get(Z),F=!1;for(let J=B-1;J>=R;J--){const te=J+1,de=r.charCodeAt(J);if(de===9){F=!0;break}let he,pe;if(f.isLowSurrogate(de)?(J--,he=0,pe=2):(he=c.get(de),pe=f.isFullWidthCharacter(de)?d:1),Q<=P){if(j===0&&(j=te,U=Q),Q<=P-D)break;if(i(de,he,Z,G,C)){K=te,V=Q;break}}Q-=pe,Z=de,G=he}if(K!==0){const J=D-(U-V);if(J<=a){const te=r.charCodeAt(j);let de;f.isHighSurrogate(te)?de=2:de=o(te,U,a,d),J-de<0&&(K=0)}}if(F){O--;continue}}if(K===0&&(K=j,V=U),K<=R){const Q=r.charCodeAt(R);f.isHighSurrogate(Q)?(K=R+2,V=M+2):(K=R+1,V=M+o(Q,M,a,d))}for(R=K,T[A]=K,M=V,N[A]=V,A++,P=V+D;O<0||O<x&&_[O]<V;)O++;let Y=Math.abs(_[O]-P);for(;O+1<x;){const Q=Math.abs(_[O+1]-P);if(Q>=Y)break;Y=Q,O++}}return A===0?null:(T.length=A,N.length=A,w=u.breakOffsets,b=u.breakOffsetsVisibleColumn,u.breakOffsets=T,u.breakOffsetsVisibleColumn=N,u.wrappedTextIndentLength=L,u)}function s(c,u,r,a,l,d,p,h){const g=E.LineInjectedText.applyInjectedText(u,r);let C,S;if(r&&r.length>0?(C=r.map(V=>V.options),S=r.map(V=>V.column-1)):(C=null,S=null),l===-1)return C?new I.ModelLineProjectionData(S,C,[g.length],[],0):null;const _=g.length;if(_<=1)return C?new I.ModelLineProjectionData(S,C,[g.length],[],0):null;const L=h==="keepAll",D=n(g,a,l,d,p),T=l-D,N=[],A=[];let R=0,M=0,P=0,x=l,O=g.charCodeAt(0),B=c.get(O),H=o(O,0,a,d),K=1;f.isHighSurrogate(O)&&(H+=1,O=g.charCodeAt(1),B=c.get(O),K++);for(let V=K;V<_;V++){const j=V,U=g.charCodeAt(V);let Y,Q;f.isHighSurrogate(U)?(V++,Y=0,Q=2):(Y=c.get(U),Q=o(U,H,a,d)),i(O,B,U,Y,L)&&(M=j,P=H),H+=Q,H>x&&((M===0||H-P>T)&&(M=j,P=H-Q),N[R]=M,A[R]=P,R++,x=P+T,M=0),O=U,B=Y}return R===0&&(!r||r.length===0)?null:(N[R]=_,A[R]=H,new I.ModelLineProjectionData(S,C,N,A,D))}function o(c,u,r,a){return c===9?r-u%r:f.isFullWidthCharacter(c)||c<32?a:1}function t(c,u){return u-c%u}function i(c,u,r,a,l){return r!==32&&(u===2&&a!==2||u!==1&&a===1||!l&&u===3&&a!==2||!l&&a===3&&u!==1)}function n(c,u,r,a,l){let d=0;if(l!==0){const p=f.firstNonWhitespaceIndex(c);if(p!==-1){for(let g=0;g<p;g++){const C=c.charCodeAt(g)===9?t(d,u):1;d+=C}const h=l===3?2:l===2?1:0;for(let g=0;g<h;g++){const C=t(d,u);d+=C}d+a>r&&(d=0)}}return d}}),define(re[347],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class f{constructor(y,m,w){this._colorZoneBrand=void 0,this.from=y|0,this.to=m|0,this.colorId=w|0}static compare(y,m){return y.colorId===m.colorId?y.from===m.from?y.to-m.to:y.from-m.from:y.colorId-m.colorId}}e.ColorZone=f;class k{constructor(y,m,w,b){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=m,this.heightInLines=w,this.color=b,this._colorZone=null}static compare(y,m){return y.color===m.color?y.startLineNumber===m.startLineNumber?y.heightInLines===m.heightInLines?y.endLineNumber-m.endLineNumber:y.heightInLines-m.heightInLines:y.startLineNumber-m.startLineNumber:y.color<m.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class E{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(k.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,m=Math.floor(this._lineHeight),w=Math.floor(this.getCanvasHeight()),b=Math.floor(this._outerHeight),v=w/b,s=Math.floor(4*this._pixelRatio/2),o=[];for(let t=0,i=this._zones.length;t<i;t++){const n=this._zones[t];if(!y){const C=n.getColorZones();if(C){o.push(C);continue}}const c=this._getVerticalOffsetForLine(n.startLineNumber),u=n.heightInLines===0?this._getVerticalOffsetForLine(n.endLineNumber)+m:c+n.heightInLines*m,r=Math.floor(v*c),a=Math.floor(v*u);let l=Math.floor((r+a)/2),d=a-l;d<s&&(d=s),l-d<0&&(l=d),l+d>w&&(l=w-d);const p=n.color;let h=this._color2Id[p];h||(h=++this._lastAssignedId,this._color2Id[p]=h,this._id2Color[h]=p);const g=new f(l-d,l+d,h);n.setColorZone(g),o.push(g)}return this._colorZonesInvalid=!1,o.sort(f.compare),o}}e.OverviewZoneManager=E}),define(re[625],ae([1,0,39,347,172]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class I extends E.ViewEventHandler{constructor(m,w){super(),this._context=m;const b=this._context.configuration.options;this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(w),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(v=>this._context.viewLayout.getVerticalOffsetForLineNumber(v)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(b.get(67)),this._zoneManager.setPixelRatio(b.get(144)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(m){const w=this._context.configuration.options;return m.hasChanged(67)&&(this._zoneManager.setLineHeight(w.get(67)),this._render()),m.hasChanged(144)&&(this._zoneManager.setPixelRatio(w.get(144)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(m){return this._render(),!0}onScrollChanged(m){return m.scrollHeightChanged&&(this._zoneManager.setOuterHeight(m.scrollHeight),this._render()),!0}onZonesChanged(m){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(m){this._domNode.setTop(m.top),this._domNode.setRight(m.right);let w=!1;w=this._zoneManager.setDOMWidth(m.width)||w,w=this._zoneManager.setDOMHeight(m.height)||w,w&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(m){this._zoneManager.setZones(m),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const m=this._zoneManager.getCanvasWidth(),w=this._zoneManager.getCanvasHeight(),b=this._zoneManager.resolveColorZones(),v=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,m,w),b.length>0&&this._renderOneLane(s,b,v,m),!0}_renderOneLane(m,w,b,v){let s=0,o=0,t=0;for(const i of w){const n=i.colorId,c=i.from,u=i.to;n!==s?(m.fillRect(0,o,v,t-o),s=n,m.fillStyle=b[s],o=c,t=u):t>=c?t=Math.max(t,u):(m.fillRect(0,o,v,t-o),o=c,t=u)}m.fillRect(0,o,v,t-o)}}e.OverviewRuler=I}),define(re[626],ae([1,0,573]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(I,y,m){this.configuration=I,this.theme=new f.EditorTheme(y),this.viewModel=m,this.viewLayout=m.viewLayout}addEventHandler(I){this.viewModel.addViewEventHandler(I)}removeEventHandler(I){this.viewModel.removeViewEventHandler(I)}}e.ViewContext=k}),define(re[255],ae([1,0,6,2]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class E extends k.Disposable{constructor(){super(),this._onEvent=this._register(new f.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(l){this._addOutgoingEvent(l),this._emitOutgoingEvents()}_addOutgoingEvent(l){for(let d=0,p=this._outgoingEvents.length;d<p;d++){const h=this._outgoingEvents[d].kind===l.kind?this._outgoingEvents[d].attemptToMerge(l):null;if(h){this._outgoingEvents[d]=h;return}}this._outgoingEvents.push(l)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const l=this._outgoingEvents.shift();l.isNoOp()||this._onEvent.fire(l)}}addViewEventHandler(l){for(let d=0,p=this._eventHandlers.length;d<p;d++)this._eventHandlers[d]===l&&console.warn("Detected duplicate listener in ViewEventDispatcher",l);this._eventHandlers.push(l)}removeViewEventHandler(l){for(let d=0;d<this._eventHandlers.length;d++)if(this._eventHandlers[d]===l){this._eventHandlers.splice(d,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new I),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const l=this._collector.outgoingEvents,d=this._collector.viewEvents;this._collector=null;for(const p of l)this._addOutgoingEvent(p);d.length>0&&this._emitMany(d)}this._emitOutgoingEvents()}emitSingleViewEvent(l){try{this.beginEmitViewEvents().emitViewEvent(l)}finally{this.endEmitViewEvents()}}_emitMany(l){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(l):this._viewEventQueue=l,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const l=this._viewEventQueue;this._viewEventQueue=null;const d=this._eventHandlers.slice(0);for(const p of d)p.handleEvents(l)}}}e.ViewModelEventDispatcher=E;class I{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(l){this.viewEvents.push(l)}emitOutgoingEvent(l){this.outgoingEvents.push(l)}}e.ViewModelEventsCollector=I;class y{constructor(l,d,p,h){this.kind=0,this._oldContentWidth=l,this._oldContentHeight=d,this.contentWidth=p,this.contentHeight=h,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(l){return l.kind!==this.kind?null:new y(this._oldContentWidth,this._oldContentHeight,l.contentWidth,l.contentHeight)}}e.ContentSizeChangedEvent=y;class m{constructor(l,d){this.kind=1,this.oldHasFocus=l,this.hasFocus=d}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(l){return l.kind!==this.kind?null:new m(this.oldHasFocus,l.hasFocus)}}e.FocusChangedEvent=m;class w{constructor(l,d,p,h,g,C,S,_){this.kind=2,this._oldScrollWidth=l,this._oldScrollLeft=d,this._oldScrollHeight=p,this._oldScrollTop=h,this.scrollWidth=g,this.scrollLeft=C,this.scrollHeight=S,this.scrollTop=_,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(l){return l.kind!==this.kind?null:new w(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop)}}e.ScrollChangedEvent=w;class b{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=b;class v{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=v;class s{constructor(l,d,p,h,g,C,S){this.kind=6,this.oldSelections=l,this.selections=d,this.oldModelVersionId=p,this.modelVersionId=h,this.source=g,this.reason=C,this.reachedMaxCursorCount=S}static _selectionsAreEqual(l,d){if(!l&&!d)return!0;if(!l||!d)return!1;const p=l.length,h=d.length;if(p!==h)return!1;for(let g=0;g<p;g++)if(!l[g].equalsSelection(d[g]))return!1;return!0}isNoOp(){return s._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(l){return l.kind!==this.kind?null:new s(this.oldSelections,l.selections,this.oldModelVersionId,l.modelVersionId,l.source,l.reason,this.reachedMaxCursorCount||l.reachedMaxCursorCount)}}e.CursorStateChangedEvent=s;class o{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=o;class t{constructor(l){this.event=l,this.kind=7}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelDecorationsChangedEvent=t;class i{constructor(l){this.event=l,this.kind=8}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelLanguageChangedEvent=i;class n{constructor(l){this.event=l,this.kind=9}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelLanguageConfigurationChangedEvent=n;class c{constructor(l){this.event=l,this.kind=10}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelContentChangedEvent=c;class u{constructor(l){this.event=l,this.kind=11}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelOptionsChangedEvent=u;class r{constructor(l){this.event=l,this.kind=12}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelTokensChangedEvent=r}),define(re[627],ae([1,0,6,2,160,620,95,255]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const w=125;class b{constructor(t,i,n,c){t=t|0,i=i|0,n=n|0,c=c|0,t<0&&(t=0),i<0&&(i=0),n<0&&(n=0),c<0&&(c=0),this.width=t,this.contentWidth=i,this.scrollWidth=Math.max(t,i),this.height=n,this.contentHeight=c,this.scrollHeight=Math.max(n,c)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class v extends k.Disposable{constructor(t,i){super(),this._onDidContentSizeChange=this._register(new f.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new b(0,0,0,0),this._scrollable=this._register(new E.Scrollable({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:i})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const i=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const n=i.contentWidth!==t.contentWidth,c=i.contentHeight!==t.contentHeight;(n||c)&&this._onDidContentSizeChange.fire(new m.ContentSizeChangedEvent(i.contentWidth,i.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class s extends k.Disposable{constructor(t,i,n){super(),this._configuration=t;const c=this._configuration.options,u=c.get(146),r=c.get(84);this._linesLayout=new I.LinesLayout(i,c.get(67),r.top,r.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new v(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new b(u.contentWidth,0,u.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(115)?w:0)}onConfigurationChanged(t){const i=this._configuration.options;if(t.hasChanged(67)&&this._linesLayout.setLineHeight(i.get(67)),t.hasChanged(84)){const n=i.get(84);this._linesLayout.setPadding(n.top,n.bottom)}if(t.hasChanged(146)){const n=i.get(146),c=n.contentWidth,u=n.height,r=this._scrollable.getScrollDimensions(),a=r.contentWidth;this._scrollable.setScrollDimensions(new b(c,r.contentWidth,u,this._getContentHeight(c,u,a)))}else this._updateHeight();t.hasChanged(115)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,i){this._linesLayout.onLinesDeleted(t,i)}onLinesInserted(t,i){this._linesLayout.onLinesInserted(t,i)}_getHorizontalScrollbarHeight(t,i){const c=this._configuration.options.get(104);return c.horizontal===2||t>=i?0:c.horizontalScrollbarSize}_getContentHeight(t,i,n){const c=this._configuration.options;let u=this._linesLayout.getLinesTotalHeight();return c.get(106)?u+=Math.max(0,i-c.get(67)-c.get(84).bottom):c.get(104).ignoreHorizontalScrollbarInContentHeight||(u+=this._getHorizontalScrollbarHeight(t,n)),u}_updateHeight(){const t=this._scrollable.getScrollDimensions(),i=t.width,n=t.height,c=t.contentWidth;this._scrollable.setScrollDimensions(new b(i,t.contentWidth,n,this._getContentHeight(i,n,c)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),i=this._scrollable.getCurrentScrollPosition();return new y.Viewport(i.scrollTop,i.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),i=this._scrollable.getFutureScrollPosition();return new y.Viewport(i.scrollTop,i.scrollLeft,t.width,t.height)}_computeContentWidth(){const t=this._configuration.options,i=this._maxLineWidth,n=t.get(147),c=t.get(50),u=t.get(146);if(n.isViewportWrapping){const r=t.get(73);return i>u.contentWidth+c.typicalHalfwidthCharacterWidth&&r.enabled&&r.side==="right"?i+u.verticalScrollbarWidth:i}else{const r=t.get(105)*c.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+r+u.verticalScrollbarWidth,a,this._overlayWidgetsMinWidth)}}setMaxLineWidth(t){this._maxLineWidth=t,this._updateContentWidth()}setOverlayWidgetsMinWidth(t){this._overlayWidgetsMinWidth=t,this._updateContentWidth()}_updateContentWidth(){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new b(t.width,this._computeContentWidth(),t.height,t.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),i=t.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i),c=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n);return{scrollTop:i,scrollTopWithoutViewZones:i-c,scrollLeft:t.scrollLeft}}changeWhitespace(t){const i=this._linesLayout.changeWhitespace(t);return i&&this.onHeightMaybeChanged(),i}getVerticalOffsetForLineNumber(t,i=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,i)}getVerticalOffsetAfterLineNumber(t,i=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,i)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const i=this._scrollable.getScrollDimensions();return t+i.height>i.scrollHeight&&(t=i.scrollHeight-i.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+i.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,i){i===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(t,i){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+t,scrollTop:n.scrollTop+i})}}e.ViewLayout=s}),define(re[628],ae([1,0,5,23]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class E{constructor(y,m){this._selection=y,this._isMovingLeft=m}getEditOperations(y,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const w=this._selection.startLineNumber,b=this._selection.startColumn,v=this._selection.endColumn;if(!(this._isMovingLeft&&b===1)&&!(!this._isMovingLeft&&v===y.getLineMaxColumn(w)))if(this._isMovingLeft){const s=new f.Range(w,b-1,w,b),o=y.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new f.Range(w,v,w,v),o)}else{const s=new f.Range(w,v,w,v+1),o=y.getValueInRange(s);m.addEditOperation(s,null),m.addEditOperation(new f.Range(w,b,w,b),o)}}computeCursorState(y,m){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=E}),define(re[131],ae([1,0,8,90]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.CodeActionTriggerSource=e.CodeActionKind=void 0,e.mayIncludeActionsOfKind=I,e.filtersAction=y,e.CodeActionKind=new class{constructor(){this.QuickFix=new k.HierarchicalKind("quickfix"),this.Refactor=new k.HierarchicalKind("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new k.HierarchicalKind("notebook"),this.Source=new k.HierarchicalKind("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var E;(function(v){v.Refactor="refactor",v.RefactorPreview="refactor preview",v.Lightbulb="lightbulb",v.Default="other (default)",v.SourceAction="source action",v.QuickFix="quick fix action",v.FixAll="fix all",v.OrganizeImports="organize imports",v.AutoFix="auto fix",v.QuickFixHover="quick fix hover window",v.OnSave="save participants",v.ProblemsView="problems view"})(E||(e.CodeActionTriggerSource=E={}));function I(v,s){return!(v.include&&!v.include.intersects(s)||v.excludes&&v.excludes.some(o=>m(s,o,v.include))||!v.includeSourceActions&&e.CodeActionKind.Source.contains(s))}function y(v,s){const o=s.kind?new k.HierarchicalKind(s.kind):void 0;return!(v.include&&(!o||!v.include.contains(o))||v.excludes&&o&&v.excludes.some(t=>m(o,t,v.include))||!v.includeSourceActions&&o&&e.CodeActionKind.Source.contains(o)||v.onlyIncludePreferredActions&&!s.isPreferred)}function m(v,s,o){return!(!s.contains(v)||o&&s.contains(o))}class w{static fromUser(s,o){return!s||typeof s!="object"?new w(o.kind,o.apply,!1):new w(w.getKindFromUser(s,o.kind),w.getApplyFromUser(s,o.apply),w.getPreferredUser(s))}static getApplyFromUser(s,o){switch(typeof s.apply=="string"?s.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return o}}static getKindFromUser(s,o){return typeof s.kind=="string"?new k.HierarchicalKind(s.kind):o}static getPreferredUser(s){return typeof s.preferred=="boolean"?s.preferred:!1}constructor(s,o,t){this.kind=s,this.apply=o,this.preferred=t}}e.CodeActionCommandArgs=w;class b{constructor(s,o,t){this.action=s,this.provider=o,this.highlightRange=t}async resolve(s){var o;if(!((o=this.provider)===null||o===void 0)&&o.resolveCodeAction&&!this.action.edit){let t;try{t=await this.provider.resolveCodeAction(this.action,s)}catch(i){(0,f.onUnexpectedExternalError)(i)}t&&(this.action.edit=t.edit)}return this}}e.CodeActionItem=b}),define(re[629],ae([1,0,6]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(I){this._color.equals(I)||(this._color=I,this._onDidChangeColor.fire(I))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(I){this._colorPresentations=I,this.presentationIndex>I.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(I,y,m){this.presentationIndex=m,this._onColorFlushed=new f.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new f.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new f.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=I,this._color=I,this._colorPresentations=y}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(I,y){let m=-1;for(let w=0;w<this.colorPresentations.length;w++)if(y.toLowerCase()===this.colorPresentations[w].label){m=w;break}if(m===-1){const w=y.split("(")[0].toLowerCase();for(let b=0;b<this.colorPresentations.length;b++)if(this.colorPresentations[b].label.toLowerCase().startsWith(w)){m=b;break}}m!==-1&&m!==this.presentationIndex&&(this.presentationIndex=m,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(re[348],ae([1,0,75,9,5,23]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class y{constructor(w,b,v){this.languageConfigurationService=v,this._selection=w,this._insertSpace=b,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,b,v){if(v<0)return!1;const s=b.length,o=w.length;if(v+s>o)return!1;for(let t=0;t<s;t++){const i=w.charCodeAt(v+t),n=b.charCodeAt(t);if(i!==n&&!(i>=65&&i<=90&&i+32===n)&&!(n>=65&&n<=90&&n+32===i))return!1}return!0}_createOperationsForBlockComment(w,b,v,s,o,t){const i=w.startLineNumber,n=w.startColumn,c=w.endLineNumber,u=w.endColumn,r=o.getLineContent(i),a=o.getLineContent(c);let l=r.lastIndexOf(b,n-1+b.length),d=a.indexOf(v,u-1-v.length);if(l!==-1&&d!==-1)if(i===c)r.substring(l+b.length,d).indexOf(v)>=0&&(l=-1,d=-1);else{const h=r.substring(l+b.length),g=a.substring(0,d);(h.indexOf(v)>=0||g.indexOf(v)>=0)&&(l=-1,d=-1)}let p;l!==-1&&d!==-1?(s&&l+b.length<r.length&&r.charCodeAt(l+b.length)===32&&(b=b+" "),s&&d>0&&a.charCodeAt(d-1)===32&&(v=" "+v,d-=1),p=y._createRemoveBlockCommentOperations(new E.Range(i,l+b.length+1,c,d+1),b,v)):(p=y._createAddBlockCommentOperations(w,b,v,this._insertSpace),this._usedEndToken=p.length===1?v:null);for(const h of p)t.addTrackedEditOperation(h.range,h.text)}static _createRemoveBlockCommentOperations(w,b,v){const s=[];return E.Range.isEmpty(w)?s.push(f.EditOperation.delete(new E.Range(w.startLineNumber,w.startColumn-b.length,w.endLineNumber,w.endColumn+v.length))):(s.push(f.EditOperation.delete(new E.Range(w.startLineNumber,w.startColumn-b.length,w.startLineNumber,w.startColumn))),s.push(f.EditOperation.delete(new E.Range(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+v.length)))),s}static _createAddBlockCommentOperations(w,b,v,s){const o=[];return E.Range.isEmpty(w)?o.push(f.EditOperation.replace(new E.Range(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),b+"  "+v)):(o.push(f.EditOperation.insert(new k.Position(w.startLineNumber,w.startColumn),b+(s?" ":""))),o.push(f.EditOperation.insert(new k.Position(w.endLineNumber,w.endColumn),(s?" ":"")+v))),o}getEditOperations(w,b){const v=this._selection.startLineNumber,s=this._selection.startColumn;w.tokenization.tokenizeIfCheap(v);const o=w.getLanguageIdAtPosition(v,s),t=this.languageConfigurationService.getLanguageConfiguration(o).comments;!t||!t.blockCommentStartToken||!t.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,t.blockCommentStartToken,t.blockCommentEndToken,this._insertSpace,w,b)}computeCursorState(w,b){const v=b.getInverseEditOperations();if(v.length===2){const s=v[0],o=v[1];return new I.Selection(s.range.endLineNumber,s.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{const s=v[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new I.Selection(s.endLineNumber,s.endColumn+o,s.endLineNumber,s.endColumn+o)}}}e.BlockCommentCommand=y}),define(re[630],ae([1,0,11,75,9,5,23,348]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class w{constructor(v,s,o,t,i,n,c){this.languageConfigurationService=v,this._selection=s,this._indentSize=o,this._type=t,this._insertSpace=i,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=n,this._ignoreFirstLine=c||!1}static _gatherPreflightCommentStrings(v,s,o,t){v.tokenization.tokenizeIfCheap(s);const i=v.getLanguageIdAtPosition(s,1),n=t.getLanguageConfiguration(i).comments,c=n?n.lineCommentToken:null;if(!c)return null;const u=[];for(let r=0,a=o-s+1;r<a;r++)u[r]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return u}static _analyzeLines(v,s,o,t,i,n,c,u){let r=!0,a;v===0?a=!0:v===1?a=!1:a=!0;for(let l=0,d=t.length;l<d;l++){const p=t[l],h=i+l;if(h===i&&c){p.ignore=!0;continue}const g=o.getLineContent(h),C=f.firstNonWhitespaceIndex(g);if(C===-1){p.ignore=n,p.commentStrOffset=g.length;continue}if(r=!1,p.ignore=!1,p.commentStrOffset=C,a&&!m.BlockCommentCommand._haystackHasNeedleAtOffset(g,p.commentStr,C)&&(v===0?a=!1:v===1||(p.ignore=!0)),a&&s){const S=C+p.commentStrLength;S<g.length&&g.charCodeAt(S)===32&&(p.commentStrLength+=1)}}if(v===0&&r){a=!1;for(let l=0,d=t.length;l<d;l++)t[l].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:t}}static _gatherPreflightData(v,s,o,t,i,n,c,u){const r=w._gatherPreflightCommentStrings(o,t,i,u);return r===null?{supported:!1}:w._analyzeLines(v,s,o,r,t,n,c,u)}_executeLineComments(v,s,o,t){let i;o.shouldRemoveComments?i=w._createRemoveLineCommentsOperations(o.lines,t.startLineNumber):(w._normalizeInsertionPoint(v,o.lines,t.startLineNumber,this._indentSize),i=this._createAddLineCommentsOperations(o.lines,t.startLineNumber));const n=new E.Position(t.positionLineNumber,t.positionColumn);for(let c=0,u=i.length;c<u;c++)s.addEditOperation(i[c].range,i[c].text),I.Range.isEmpty(i[c].range)&&I.Range.getStartPosition(i[c].range).equals(n)&&v.getLineContent(n.lineNumber).length+1===n.column&&(this._deltaColumn=(i[c].text||"").length);this._selectionId=s.trackSelection(t)}_attemptRemoveBlockComment(v,s,o,t){let i=s.startLineNumber,n=s.endLineNumber;const c=t.length+Math.max(v.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn);let u=v.getLineContent(i).lastIndexOf(o,c-1),r=v.getLineContent(n).indexOf(t,s.endColumn-1-o.length);return u!==-1&&r===-1&&(r=v.getLineContent(i).indexOf(t,u+o.length),n=i),u===-1&&r!==-1&&(u=v.getLineContent(n).lastIndexOf(o,r),i=n),s.isEmpty()&&(u===-1||r===-1)&&(u=v.getLineContent(i).indexOf(o),u!==-1&&(r=v.getLineContent(i).indexOf(t,u+o.length))),u!==-1&&v.getLineContent(i).charCodeAt(u+o.length)===32&&(o+=" "),r!==-1&&v.getLineContent(n).charCodeAt(r-1)===32&&(t=" "+t,r-=1),u!==-1&&r!==-1?m.BlockCommentCommand._createRemoveBlockCommentOperations(new I.Range(i,u+o.length+1,n,r+1),o,t):null}_executeBlockComment(v,s,o){v.tokenization.tokenizeIfCheap(o.startLineNumber);const t=v.getLanguageIdAtPosition(o.startLineNumber,1),i=this.languageConfigurationService.getLanguageConfiguration(t).comments;if(!i||!i.blockCommentStartToken||!i.blockCommentEndToken)return;const n=i.blockCommentStartToken,c=i.blockCommentEndToken;let u=this._attemptRemoveBlockComment(v,o,n,c);if(!u){if(o.isEmpty()){const r=v.getLineContent(o.startLineNumber);let a=f.firstNonWhitespaceIndex(r);a===-1&&(a=r.length),u=m.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(o.startLineNumber,a+1,o.startLineNumber,r.length+1),n,c,this._insertSpace)}else u=m.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(o.startLineNumber,v.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.endLineNumber,v.getLineMaxColumn(o.endLineNumber)),n,c,this._insertSpace);u.length===1&&(this._deltaColumn=n.length+1)}this._selectionId=s.trackSelection(o);for(const r of u)s.addEditOperation(r.range,r.text)}getEditOperations(v,s){let o=this._selection;if(this._moveEndPositionDown=!1,o.startLineNumber===o.endLineNumber&&this._ignoreFirstLine){s.addEditOperation(new I.Range(o.startLineNumber,v.getLineMaxColumn(o.startLineNumber),o.startLineNumber+1,1),o.startLineNumber===v.getLineCount()?"":`
`),this._selectionId=s.trackSelection(o);return}o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,v.getLineMaxColumn(o.endLineNumber-1)));const t=w._gatherPreflightData(this._type,this._insertSpace,v,o.startLineNumber,o.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return t.supported?this._executeLineComments(v,s,t,o):this._executeBlockComment(v,s,o)}computeCursorState(v,s){let o=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(o=o.setEndPosition(o.endLineNumber+1,1)),new y.Selection(o.selectionStartLineNumber,o.selectionStartColumn+this._deltaColumn,o.positionLineNumber,o.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(v,s){const o=[];for(let t=0,i=v.length;t<i;t++){const n=v[t];n.ignore||o.push(k.EditOperation.delete(new I.Range(s+t,n.commentStrOffset+1,s+t,n.commentStrOffset+n.commentStrLength+1)))}return o}_createAddLineCommentsOperations(v,s){const o=[],t=this._insertSpace?" ":"";for(let i=0,n=v.length;i<n;i++){const c=v[i];c.ignore||o.push(k.EditOperation.insert(new E.Position(s+i,c.commentStrOffset+1),c.commentStr+t))}return o}static nextVisibleColumn(v,s,o,t){return o?v+(s-v%s):v+t}static _normalizeInsertionPoint(v,s,o,t){let i=1073741824,n,c;for(let u=0,r=s.length;u<r;u++){if(s[u].ignore)continue;const a=v.getLineContent(o+u);let l=0;for(let d=0,p=s[u].commentStrOffset;l<i&&d<p;d++)l=w.nextVisibleColumn(l,t,a.charCodeAt(d)===9,1);l<i&&(i=l)}i=Math.floor(i/t)*t;for(let u=0,r=s.length;u<r;u++){if(s[u].ignore)continue;const a=v.getLineContent(o+u);let l=0;for(n=0,c=s[u].commentStrOffset;l<i&&n<c;n++)l=w.nextVisibleColumn(l,t,a.charCodeAt(n)===9,1);l>i?s[u].commentStrOffset=n-1:s[u].commentStrOffset=n}}}e.LineCommentCommand=w}),define(re[631],ae([1,0,5,23]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class E{constructor(y,m,w){this.selection=y,this.targetPosition=m,this.copy=w,this.targetSelection=null}getEditOperations(y,m){const w=y.getValueInRange(this.selection);if(this.copy||m.addEditOperation(this.selection,null),m.addEditOperation(new f.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),w),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(y,m){return this.targetSelection}}e.DragAndDropCommand=E}),define(re[632],ae([1,0,5]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(I,y,m){this._editorSelection=I,this._ranges=y,this._replaceStrings=m,this._trackedEditorSelectionId=null}getEditOperations(I,y){if(this._ranges.length>0){const m=[];for(let v=0;v<this._ranges.length;v++)m.push({range:this._ranges[v],text:this._replaceStrings[v]});m.sort((v,s)=>f.Range.compareRangesUsingStarts(v.range,s.range));const w=[];let b=m[0];for(let v=1;v<m.length;v++)b.range.endLineNumber===m[v].range.startLineNumber&&b.range.endColumn===m[v].range.startColumn?(b.range=b.range.plusRange(m[v].range),b.text=b.text+m[v].text):(w.push(b),b=m[v]);w.push(b);for(const v of w)y.addEditOperation(v.range,v.text)}this._trackedEditorSelectionId=y.trackSelection(this._editorSelection)}computeCursorState(I,y){return y.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(re[633],ae([1,0,454]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplacePiece=e.ReplacePattern=void 0,e.parseReplaceString=w;class k{constructor(v){this.staticValue=v,this.kind=0}}class E{constructor(v){this.pieces=v,this.kind=1}}class I{static fromStaticValue(v){return new I([y.staticValue(v)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(v){!v||v.length===0?this._state=new k(""):v.length===1&&v[0].staticValue!==null?this._state=new k(v[0].staticValue):this._state=new E(v)}buildReplaceString(v,s){if(this._state.kind===0)return s?(0,f.buildReplaceStringWithCasePreserved)(v,this._state.staticValue):this._state.staticValue;let o="";for(let t=0,i=this._state.pieces.length;t<i;t++){const n=this._state.pieces[t];if(n.staticValue!==null){o+=n.staticValue;continue}let c=I._substitute(n.matchIndex,v);if(n.caseOps!==null&&n.caseOps.length>0){const u=[],r=n.caseOps.length;let a=0;for(let l=0,d=c.length;l<d;l++){if(a>=r){u.push(c.slice(l));break}switch(n.caseOps[a]){case"U":u.push(c[l].toUpperCase());break;case"u":u.push(c[l].toUpperCase()),a++;break;case"L":u.push(c[l].toLowerCase());break;case"l":u.push(c[l].toLowerCase()),a++;break;default:u.push(c[l])}}c=u.join("")}o+=c}return o}static _substitute(v,s){if(s===null)return"";if(v===0)return s[0];let o="";for(;v>0;){if(v<s.length)return(s[v]||"")+o;o=String(v%10)+o,v=Math.floor(v/10)}return"$"+o}}e.ReplacePattern=I;class y{static staticValue(v){return new y(v,-1,null)}static caseOps(v,s){return new y(null,v,s)}constructor(v,s,o){this.staticValue=v,this.matchIndex=s,!o||o.length===0?this.caseOps=null:this.caseOps=o.slice(0)}}e.ReplacePiece=y;class m{constructor(v){this._source=v,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(v){this._emitStatic(this._source.substring(this._lastCharIndex,v)),this._lastCharIndex=v}emitStatic(v,s){this._emitStatic(v),this._lastCharIndex=s}_emitStatic(v){v.length!==0&&(this._currentStaticPiece+=v)}emitMatchIndex(v,s,o){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=y.caseOps(v,o),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}function w(b){if(!b||b.length===0)return new I(null);const v=[],s=new m(b);for(let o=0,t=b.length;o<t;o++){const i=b.charCodeAt(o);if(i===92){if(o++,o>=t)break;const n=b.charCodeAt(o);switch(n){case 92:s.emitUnchanged(o-1),s.emitStatic("\\",o+1);break;case 110:s.emitUnchanged(o-1),s.emitStatic(`
`,o+1);break;case 116:s.emitUnchanged(o-1),s.emitStatic("	",o+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(o-1),s.emitStatic("",o+1),v.push(String.fromCharCode(n));break}continue}if(i===36){if(o++,o>=t)break;const n=b.charCodeAt(o);if(n===36){s.emitUnchanged(o-1),s.emitStatic("$",o+1);continue}if(n===48||n===38){s.emitUnchanged(o-1),s.emitMatchIndex(0,o+1,v),v.length=0;continue}if(49<=n&&n<=57){let c=n-48;if(o+1<t){const u=b.charCodeAt(o+1);if(48<=u&&u<=57){o++,c=c*10+(u-48),s.emitUnchanged(o-2),s.emitMatchIndex(c,o+1,v),v.length=0;continue}}s.emitUnchanged(o-1),s.emitMatchIndex(c,o+1,v),v.length=0;continue}}}return s.finalize()}}),define(re[203],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={0:" ",1:"u",2:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const f=4278190080;class k{constructor(m){const w=Math.ceil(m/32);this._states=new Uint32Array(w)}get(m){const w=m/32|0,b=m%32;return(this._states[w]&1<<b)!==0}set(m,w){const b=m/32|0,v=m%32,s=this._states[b];w?this._states[b]=s|1<<v:this._states[b]=s&~(1<<v)}}class E{constructor(m,w,b){if(m.length!==w.length||m.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=m,this._endIndexes=w,this._collapseStates=new k(m.length),this._userDefinedStates=new k(m.length),this._recoveredStates=new k(m.length),this._types=b,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const m=[],w=(b,v)=>{const s=m[m.length-1];return this.getStartLineNumber(s)<=b&&this.getEndLineNumber(s)>=v};for(let b=0,v=this._startIndexes.length;b<v;b++){const s=this._startIndexes[b],o=this._endIndexes[b];if(s>e.MAX_LINE_NUMBER||o>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;m.length>0&&!w(s,o);)m.pop();const t=m.length>0?m[m.length-1]:-1;m.push(b),this._startIndexes[b]=s+((t&255)<<24),this._endIndexes[b]=o+((t&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(m){return this._startIndexes[m]&e.MAX_LINE_NUMBER}getEndLineNumber(m){return this._endIndexes[m]&e.MAX_LINE_NUMBER}getType(m){return this._types?this._types[m]:void 0}hasTypes(){return!!this._types}isCollapsed(m){return this._collapseStates.get(m)}setCollapsed(m,w){this._collapseStates.set(m,w)}isUserDefined(m){return this._userDefinedStates.get(m)}setUserDefined(m,w){return this._userDefinedStates.set(m,w)}isRecovered(m){return this._recoveredStates.get(m)}setRecovered(m,w){return this._recoveredStates.set(m,w)}getSource(m){return this.isUserDefined(m)?1:this.isRecovered(m)?2:0}setSource(m,w){w===1?(this.setUserDefined(m,!0),this.setRecovered(m,!1)):w===2?(this.setUserDefined(m,!1),this.setRecovered(m,!0)):(this.setUserDefined(m,!1),this.setRecovered(m,!1))}setCollapsedAllOfType(m,w){let b=!1;if(this._types)for(let v=0;v<this._types.length;v++)this._types[v]===m&&(this.setCollapsed(v,w),b=!0);return b}toRegion(m){return new I(this,m)}getParentIndex(m){this.ensureParentIndices();const w=((this._startIndexes[m]&f)>>>24)+((this._endIndexes[m]&f)>>>16);return w===e.MAX_FOLDING_REGIONS?-1:w}contains(m,w){return this.getStartLineNumber(m)<=w&&this.getEndLineNumber(m)>=w}findIndex(m){let w=0,b=this._startIndexes.length;if(b===0)return-1;for(;w<b;){const v=Math.floor((w+b)/2);m<this.getStartLineNumber(v)?b=v:w=v+1}return w-1}findRange(m){let w=this.findIndex(m);if(w>=0){if(this.getEndLineNumber(w)>=m)return w;for(w=this.getParentIndex(w);w!==-1;){if(this.contains(w,m))return w;w=this.getParentIndex(w)}}return-1}toString(){const m=[];for(let w=0;w<this.length;w++)m[w]=`[${e.foldSourceAbbr[this.getSource(w)]}${this.isCollapsed(w)?"+":"-"}] ${this.getStartLineNumber(w)}/${this.getEndLineNumber(w)}`;return m.join(", ")}toFoldRange(m){return{startLineNumber:this._startIndexes[m]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[m]&e.MAX_LINE_NUMBER,type:this._types?this._types[m]:void 0,isCollapsed:this.isCollapsed(m),source:this.getSource(m)}}static fromFoldRanges(m){const w=m.length,b=new Uint32Array(w),v=new Uint32Array(w);let s=[],o=!1;for(let i=0;i<w;i++){const n=m[i];b[i]=n.startLineNumber,v[i]=n.endLineNumber,s.push(n.type),n.type&&(o=!0)}o||(s=void 0);const t=new E(b,v,s);for(let i=0;i<w;i++)m[i].isCollapsed&&t.setCollapsed(i,!0),t.setSource(i,m[i].source);return t}static sanitizeAndMerge(m,w,b){b=b??Number.MAX_VALUE;const v=(d,p)=>Array.isArray(d)?h=>h<p?d[h]:void 0:h=>h<p?d.toFoldRange(h):void 0,s=v(m,m.length),o=v(w,w.length);let t=0,i=0,n=s(0),c=o(0);const u=[];let r,a=0;const l=[];for(;n||c;){let d;if(c&&(!n||n.startLineNumber>=c.startLineNumber))n&&n.startLineNumber===c.startLineNumber?(c.source===1?d=c:(d=n,d.isCollapsed=c.isCollapsed&&n.endLineNumber===c.endLineNumber,d.source=0),n=s(++t)):(d=c,c.isCollapsed&&c.source===0&&(d.source=2)),c=o(++i);else{let p=i,h=c;for(;;){if(!h||h.startLineNumber>n.endLineNumber){d=n;break}if(h.source===1&&h.endLineNumber>n.endLineNumber)break;h=o(++p)}n=s(++t)}if(d){for(;r&&r.endLineNumber<d.startLineNumber;)r=u.pop();d.endLineNumber>d.startLineNumber&&d.startLineNumber>a&&d.endLineNumber<=b&&(!r||r.endLineNumber>=d.endLineNumber)&&(l.push(d),a=d.startLineNumber,r&&u.push(r),r=d)}}return l}}e.FoldingRegions=E;class I{constructor(m,w){this.ranges=m,this.index=w}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(m){return m.startLineNumber<=this.startLineNumber&&m.endLineNumber>=this.endLineNumber}containsLine(m){return this.startLineNumber<=m&&m<=this.endLineNumber}}e.FoldingRegion=I}),define(re[349],ae([1,0,6,203,127]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingModel=void 0,e.toggleCollapseState=y,e.setCollapseStateLevelsDown=m,e.setCollapseStateLevelsUp=w,e.setCollapseStateUp=b,e.setCollapseStateAtLevel=v,e.setCollapseStateForRest=s,e.setCollapseStateForMatchingLines=o,e.setCollapseStateForType=t,e.getParentFoldLine=i,e.getPreviousFoldLine=n,e.getNextFoldLine=c;class I{get regions(){return this._regions}get textModel(){return this._textModel}constructor(r,a){this._updateEventEmitter=new f.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=r,this._decorationProvider=a,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(r){if(!r.length)return;r=r.sort((l,d)=>l.regionIndex-d.regionIndex);const a={};this._decorationProvider.changeDecorations(l=>{let d=0,p=-1,h=-1;const g=C=>{for(;d<C;){const S=this._regions.getEndLineNumber(d),_=this._regions.isCollapsed(d);if(S<=p){const L=this.regions.getSource(d)!==0;l.changeDecorationOptions(this._editorDecorationIds[d],this._decorationProvider.getDecorationOption(_,S<=h,L))}_&&S>h&&(h=S),d++}};for(const C of r){const S=C.regionIndex,_=this._editorDecorationIds[S];if(_&&!a[_]){a[_]=!0,g(S);const L=!this._regions.isCollapsed(S);this._regions.setCollapsed(S,L),p=Math.max(p,this._regions.getEndLineNumber(S))}}g(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:r})}removeManualRanges(r){const a=new Array,l=d=>{for(const p of r)if(!(p.startLineNumber>d.endLineNumber||d.startLineNumber>p.endLineNumber))return!0;return!1};for(let d=0;d<this._regions.length;d++){const p=this._regions.toFoldRange(d);(p.source===0||!l(p))&&a.push(p)}this.updatePost(k.FoldingRegions.fromFoldRanges(a))}update(r,a=[]){const l=this._currentFoldedOrManualRanges(a),d=k.FoldingRegions.sanitizeAndMerge(r,l,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(d))}updatePost(r){const a=[];let l=-1;for(let d=0,p=r.length;d<p;d++){const h=r.getStartLineNumber(d),g=r.getEndLineNumber(d),C=r.isCollapsed(d),S=r.getSource(d)!==0,_={startLineNumber:h,startColumn:this._textModel.getLineMaxColumn(h),endLineNumber:g,endColumn:this._textModel.getLineMaxColumn(g)+1};a.push({range:_,options:this._decorationProvider.getDecorationOption(C,g<=l,S)}),C&&g>l&&(l=g)}this._decorationProvider.changeDecorations(d=>this._editorDecorationIds=d.deltaDecorations(this._editorDecorationIds,a)),this._regions=r,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(r=[]){const a=(d,p)=>{for(const h of r)if(d<h&&h<=p)return!0;return!1},l=[];for(let d=0,p=this._regions.length;d<p;d++){let h=this.regions.isCollapsed(d);const g=this.regions.getSource(d);if(h||g!==0){const C=this._regions.toFoldRange(d),S=this._textModel.getDecorationRange(this._editorDecorationIds[d]);S&&(h&&a(S.startLineNumber,S.endLineNumber)&&(h=!1),l.push({startLineNumber:S.startLineNumber,endLineNumber:S.endLineNumber,type:C.type,isCollapsed:h,source:g}))}}return l}getMemento(){const r=this._currentFoldedOrManualRanges(),a=[],l=this._textModel.getLineCount();for(let d=0,p=r.length;d<p;d++){const h=r[d];if(h.startLineNumber>=h.endLineNumber||h.startLineNumber<1||h.endLineNumber>l)continue;const g=this._getLinesChecksum(h.startLineNumber+1,h.endLineNumber);a.push({startLineNumber:h.startLineNumber,endLineNumber:h.endLineNumber,isCollapsed:h.isCollapsed,source:h.source,checksum:g})}return a.length>0?a:void 0}applyMemento(r){var a,l;if(!Array.isArray(r))return;const d=[],p=this._textModel.getLineCount();for(const g of r){if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>p)continue;const C=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);(!g.checksum||C===g.checksum)&&d.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,type:void 0,isCollapsed:(a=g.isCollapsed)!==null&&a!==void 0?a:!0,source:(l=g.source)!==null&&l!==void 0?l:0})}const h=k.FoldingRegions.sanitizeAndMerge(this._regions,d,p);this.updatePost(k.FoldingRegions.fromFoldRanges(h))}_getLinesChecksum(r,a){return(0,E.hash)(this._textModel.getLineContent(r)+this._textModel.getLineContent(a))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(r,a){const l=[];if(this._regions){let d=this._regions.findRange(r),p=1;for(;d>=0;){const h=this._regions.toRegion(d);(!a||a(h,p))&&l.push(h),p++,d=h.parentIndex}}return l}getRegionAtLine(r){if(this._regions){const a=this._regions.findRange(r);if(a>=0)return this._regions.toRegion(a)}return null}getRegionsInside(r,a){const l=[],d=r?r.regionIndex+1:0,p=r?r.endLineNumber:Number.MAX_VALUE;if(a&&a.length===2){const h=[];for(let g=d,C=this._regions.length;g<C;g++){const S=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<p){for(;h.length>0&&!S.containedBy(h[h.length-1]);)h.pop();h.push(S),a(S,h.length)&&l.push(S)}else break}}else for(let h=d,g=this._regions.length;h<g;h++){const C=this._regions.toRegion(h);if(this._regions.getStartLineNumber(h)<p)(!a||a(C))&&l.push(C);else break}return l}}e.FoldingModel=I;function y(u,r,a){const l=[];for(const d of a){const p=u.getRegionAtLine(d);if(p){const h=!p.isCollapsed;if(l.push(p),r>1){const g=u.getRegionsInside(p,(C,S)=>C.isCollapsed!==h&&S<r);l.push(...g)}}}u.toggleCollapseState(l)}function m(u,r,a=Number.MAX_VALUE,l){const d=[];if(l&&l.length>0)for(const p of l){const h=u.getRegionAtLine(p);if(h&&(h.isCollapsed!==r&&d.push(h),a>1)){const g=u.getRegionsInside(h,(C,S)=>C.isCollapsed!==r&&S<a);d.push(...g)}}else{const p=u.getRegionsInside(null,(h,g)=>h.isCollapsed!==r&&g<a);d.push(...p)}u.toggleCollapseState(d)}function w(u,r,a,l){const d=[];for(const p of l){const h=u.getAllRegionsAtLine(p,(g,C)=>g.isCollapsed!==r&&C<=a);d.push(...h)}u.toggleCollapseState(d)}function b(u,r,a){const l=[];for(const d of a){const p=u.getAllRegionsAtLine(d,h=>h.isCollapsed!==r);p.length>0&&l.push(p[0])}u.toggleCollapseState(l)}function v(u,r,a,l){const d=(h,g)=>g===r&&h.isCollapsed!==a&&!l.some(C=>h.containsLine(C)),p=u.getRegionsInside(null,d);u.toggleCollapseState(p)}function s(u,r,a){const l=[];for(const h of a){const g=u.getAllRegionsAtLine(h,void 0);g.length>0&&l.push(g[0])}const d=h=>l.every(g=>!g.containedBy(h)&&!h.containedBy(g))&&h.isCollapsed!==r,p=u.getRegionsInside(null,d);u.toggleCollapseState(p)}function o(u,r,a){const l=u.textModel,d=u.regions,p=[];for(let h=d.length-1;h>=0;h--)if(a!==d.isCollapsed(h)){const g=d.getStartLineNumber(h);r.test(l.getLineContent(g))&&p.push(d.toRegion(h))}u.toggleCollapseState(p)}function t(u,r,a){const l=u.regions,d=[];for(let p=l.length-1;p>=0;p--)a!==l.isCollapsed(p)&&r===l.getType(p)&&d.push(l.toRegion(p));u.toggleCollapseState(d)}function i(u,r){let a=null;const l=r.getRegionAtLine(u);if(l!==null&&(a=l.startLineNumber,u===a)){const d=l.parentIndex;d!==-1?a=r.regions.getStartLineNumber(d):a=null}return a}function n(u,r){let a=r.getRegionAtLine(u);if(a!==null&&a.startLineNumber===u){if(u!==a.startLineNumber)return a.startLineNumber;{const l=a.parentIndex;let d=0;for(l!==-1&&(d=r.regions.getStartLineNumber(a.parentIndex));a!==null;)if(a.regionIndex>0){if(a=r.regions.toRegion(a.regionIndex-1),a.startLineNumber<=d)return null;if(a.parentIndex===l)return a.startLineNumber}else return null}}else if(r.regions.length>0)for(a=r.regions.toRegion(r.regions.length-1);a!==null;){if(a.startLineNumber<u)return a.startLineNumber;a.regionIndex>0?a=r.regions.toRegion(a.regionIndex-1):a=null}return null}function c(u,r){let a=r.getRegionAtLine(u);if(a!==null&&a.startLineNumber===u){const l=a.parentIndex;let d=0;if(l!==-1)d=r.regions.getEndLineNumber(a.parentIndex);else{if(r.regions.length===0)return null;d=r.regions.getEndLineNumber(r.regions.length-1)}for(;a!==null;)if(a.regionIndex<r.regions.length){if(a=r.regions.toRegion(a.regionIndex+1),a.startLineNumber>=d)return null;if(a.parentIndex===l)return a.startLineNumber}else return null}else if(r.regions.length>0)for(a=r.regions.toRegion(0);a!==null;){if(a.startLineNumber>u)return a.startLineNumber;a.regionIndex<r.regions.length?a=r.regions.toRegion(a.regionIndex+1):a=null}return null}}),define(re[634],ae([1,0,67,6,5,142]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(v){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=v,this._foldingModelListener=v.onDidChange(s=>this.updateHiddenRanges()),this._hiddenRanges=[],v.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(v){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=v.changes.some(s=>s.range.endLineNumber!==s.range.startLineNumber||(0,I.countEOL)(s.text)[0]!==0))}updateHiddenRanges(){let v=!1;const s=[];let o=0,t=0,i=Number.MAX_VALUE,n=-1;const c=this._foldingModel.regions;for(;o<c.length;o++){if(!c.isCollapsed(o))continue;const u=c.getStartLineNumber(o)+1,r=c.getEndLineNumber(o);i<=u&&r<=n||(!v&&t<this._hiddenRanges.length&&this._hiddenRanges[t].startLineNumber===u&&this._hiddenRanges[t].endLineNumber===r?(s.push(this._hiddenRanges[t]),t++):(v=!0,s.push(new E.Range(u,1,r,1))),i=u,n=r)}(this._hasLineChanges||v||t<this._hiddenRanges.length)&&this.applyHiddenRanges(s)}applyHiddenRanges(v){this._hiddenRanges=v,this._hasLineChanges=!1,this._updateEventEmitter.fire(v)}hasRanges(){return this._hiddenRanges.length>0}isHidden(v){return w(this._hiddenRanges,v)!==null}adjustSelections(v){let s=!1;const o=this._foldingModel.textModel;let t=null;const i=n=>((!t||!m(n,t))&&(t=w(this._hiddenRanges,n)),t?t.startLineNumber-1:null);for(let n=0,c=v.length;n<c;n++){let u=v[n];const r=i(u.startLineNumber);r&&(u=u.setStartPosition(r,o.getLineMaxColumn(r)),s=!0);const a=i(u.endLineNumber);a&&(u=u.setEndPosition(a,o.getLineMaxColumn(a)),s=!0),v[n]=u}return s}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=y;function m(b,v){return b>=v.startLineNumber&&b<=v.endLineNumber}function w(b,v){const s=(0,f.findFirstIdxMonotonousOrArrLen)(b,o=>v<o.startLineNumber)-1;return s>=0&&b[s].endLineNumber>=v?b[s]:null}}),define(re[350],ae([1,0,248,203]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangesCollector=e.IndentRangeProvider=void 0,e.computeRanges=b;const E=5e3,I="indent";class y{constructor(s,o,t){this.editorModel=s,this.languageConfigurationService=o,this.foldingRangesLimit=t,this.id=I}dispose(){}compute(s){const o=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,t=o&&!!o.offSide,i=o&&o.markers;return Promise.resolve(b(this.editorModel,t,i,this.foldingRangesLimit))}}e.IndentRangeProvider=y;class m{constructor(s){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=s}insertFirst(s,o,t){if(s>k.MAX_LINE_NUMBER||o>k.MAX_LINE_NUMBER)return;const i=this._length;this._startIndexes[i]=s,this._endIndexes[i]=o,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}toIndentRanges(s){const o=this._foldingRangesLimit.limit;if(this._length<=o){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=this._length-1,c=0;n>=0;n--,c++)t[c]=this._startIndexes[n],i[c]=this._endIndexes[n];return new k.FoldingRegions(t,i)}else{this._foldingRangesLimit.update(this._length,o);let t=0,i=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){const a=this._indentOccurrences[r];if(a){if(a+t>o){i=r;break}t+=a}}const n=s.getOptions().tabSize,c=new Uint32Array(o),u=new Uint32Array(o);for(let r=this._length-1,a=0;r>=0;r--){const l=this._startIndexes[r],d=s.getLineContent(l),p=(0,f.computeIndentLevel)(d,n);(p<i||p===i&&t++<o)&&(c[a]=l,u[a]=this._endIndexes[r],a++)}return new k.FoldingRegions(c,u)}}}e.RangesCollector=m;const w={limit:E,update:()=>{}};function b(v,s,o,t=w){const i=v.getOptions().tabSize,n=new m(t);let c;o&&(c=new RegExp(`(${o.start.source})|(?:${o.end.source})`));const u=[],r=v.getLineCount()+1;u.push({indent:-1,endAbove:r,line:r});for(let a=v.getLineCount();a>0;a--){const l=v.getLineContent(a),d=(0,f.computeIndentLevel)(l,i);let p=u[u.length-1];if(d===-1){s&&(p.endAbove=a);continue}let h;if(c&&(h=l.match(c)))if(h[1]){let g=u.length-1;for(;g>0&&u[g].indent!==-2;)g--;if(g>0){u.length=g+1,p=u[g],n.insertFirst(a,p.line,d),p.line=a,p.indent=d,p.endAbove=a;continue}}else{u.push({indent:-2,endAbove:a,line:a});continue}if(p.indent>d){do u.pop(),p=u[u.length-1];while(p.indent>d);const g=p.endAbove-1;g-a>=1&&n.insertFirst(a,g,d)}p.indent===d?p.endAbove=a:u.push({indent:d,endAbove:a,line:a})}return n.toIndentRanges(v)}}),define(re[351],ae([1,0,8,2,203]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyntaxRangeProvider=void 0,e.sanitizeRanges=v;const I={},y="syntax";class m{constructor(o,t,i,n,c){this.editorModel=o,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=n,this.fallbackRangeProvider=c,this.id=y,this.disposables=new k.DisposableStore,c&&this.disposables.add(c);for(const u of t)typeof u.onDidChange=="function"&&this.disposables.add(u.onDidChange(i))}compute(o){return w(this.providers,this.editorModel,o).then(t=>{var i,n;return t?v(t,this.foldingRangesLimit):(n=(i=this.fallbackRangeProvider)===null||i===void 0?void 0:i.compute(o))!==null&&n!==void 0?n:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=m;function w(s,o,t){let i=null;const n=s.map((c,u)=>Promise.resolve(c.provideFoldingRanges(o,I,t)).then(r=>{if(!t.isCancellationRequested&&Array.isArray(r)){Array.isArray(i)||(i=[]);const a=o.getLineCount();for(const l of r)l.start>0&&l.end>l.start&&l.end<=a&&i.push({start:l.start,end:l.end,rank:u,kind:l.kind})}},f.onUnexpectedExternalError));return Promise.all(n).then(c=>i)}class b{constructor(o){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=o}add(o,t,i,n){if(o>E.MAX_LINE_NUMBER||t>E.MAX_LINE_NUMBER)return;const c=this._length;this._startIndexes[c]=o,this._endIndexes[c]=t,this._nestingLevels[c]=n,this._types[c]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const o=this._foldingRangesLimit.limit;if(this._length<=o){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=0;n<this._length;n++)t[n]=this._startIndexes[n],i[n]=this._endIndexes[n];return new E.FoldingRegions(t,i,this._types)}else{this._foldingRangesLimit.update(this._length,o);let t=0,i=this._nestingLevelCounts.length;for(let r=0;r<this._nestingLevelCounts.length;r++){const a=this._nestingLevelCounts[r];if(a){if(a+t>o){i=r;break}t+=a}}const n=new Uint32Array(o),c=new Uint32Array(o),u=[];for(let r=0,a=0;r<this._length;r++){const l=this._nestingLevels[r];(l<i||l===i&&t++<o)&&(n[a]=this._startIndexes[r],c[a]=this._endIndexes[r],u[a]=this._types[r],a++)}return new E.FoldingRegions(n,c,u)}}}function v(s,o){const t=s.sort((u,r)=>{let a=u.start-r.start;return a===0&&(a=u.rank-r.rank),a}),i=new b(o);let n;const c=[];for(const u of t)if(!n)n=u,i.add(u.start,u.end,u.kind&&u.kind.value,c.length);else if(u.start>n.start)if(u.end<=n.end)c.push(n),n=u,i.add(u.start,u.end,u.kind&&u.kind.value,c.length);else{if(u.start>n.end){do n=c.pop();while(n&&u.start>n.end);n&&c.push(n),n=u}i.add(u.start,u.end,u.kind&&u.kind.value,c.length)}return i.toIndentRanges()}}),define(re[352],ae([1,0,75,5,140]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class I{static _handleEolEdits(m,w){let b;const v=[];for(const s of w)typeof s.eol=="number"&&(b=s.eol),s.range&&typeof s.text=="string"&&v.push(s);return typeof b=="number"&&m.hasModel()&&m.getModel().pushEOL(b),v}static _isFullModelReplaceEdit(m,w){if(!m.hasModel())return!1;const b=m.getModel(),v=b.validateRange(w.range);return b.getFullModelRange().equalsRange(v)}static execute(m,w,b){b&&m.pushUndoStop();const v=E.StableEditorScrollState.capture(m),s=I._handleEolEdits(m,w);s.length===1&&I._isFullModelReplaceEdit(m,s[0])?m.executeEdits("formatEditsCommand",s.map(o=>f.EditOperation.replace(k.Range.lift(o.range),o.text))):m.executeEdits("formatEditsCommand",s.map(o=>f.EditOperation.replaceMove(k.Range.lift(o.range),o.text))),b&&m.pushUndoStop(),v.restoreRelativeVerticalPositionOfCursor(m)}}e.FormattingEdit=I}),define(re[204],ae([1,0,6,2,16]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function I(s,o){return!!s[o]}class y{constructor(o,t){this.target=o.target,this.isLeftClick=o.event.leftButton,this.isMiddleClick=o.event.middleButton,this.isRightClick=o.event.rightButton,this.hasTriggerModifier=I(o.event,t.triggerModifier),this.hasSideBySideModifier=I(o.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.event.detail<=1}}e.ClickLinkMouseEvent=y;class m{constructor(o,t){this.keyCodeIsTriggerKey=o.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=I(o,t.triggerModifier)}}e.ClickLinkKeyboardEvent=m;class w{constructor(o,t,i,n){this.triggerKey=o,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(o){return this.triggerKey===o.triggerKey&&this.triggerModifier===o.triggerModifier&&this.triggerSideBySideKey===o.triggerSideBySideKey&&this.triggerSideBySideModifier===o.triggerSideBySideModifier}}e.ClickLinkOptions=w;function b(s){return s==="altKey"?E.isMacintosh?new w(57,"metaKey",6,"altKey"):new w(5,"ctrlKey",6,"altKey"):E.isMacintosh?new w(6,"altKey",57,"metaKey"):new w(6,"altKey",5,"ctrlKey")}class v extends k.Disposable{constructor(o,t){var i;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new f.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new f.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new f.Emitter),this.onCancel=this._onCancel.event,this._editor=o,this._extractLineNumberFromMouseEvent=(i=t?.extractLineNumberFromMouseEvent)!==null&&i!==void 0?i:n=>n.target.position?n.target.position.lineNumber:0,this._opts=b(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(78)){const c=b(this._editor.getOption(78));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new y(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new y(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new y(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new m(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new m(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(o){o.selection&&o.selection.startColumn!==o.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(o){this._lastMouseMoveEvent=o,this._onMouseMoveOrRelevantKeyDown.fire([o,null])}_onEditorMouseDown(o){this._hasTriggerKeyOnMouseDown=o.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(o)}_onEditorMouseUp(o){const t=this._extractLineNumberFromMouseEvent(o);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(o)}_onEditorKeyDown(o){this._lastMouseMoveEvent&&(o.keyCodeIsTriggerKey||o.keyCodeIsSideBySideKey&&o.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,o]):o.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(o){o.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=v}),define(re[635],ae([1,0,13,14]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverComputer=void 0;class E{get anchor(){return this._anchor}set anchor(y){this._anchor=y}get shouldFocus(){return this._shouldFocus}set shouldFocus(y){this._shouldFocus=y}get source(){return this._source}set source(y){this._source=y}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(y){this._insistOnKeepingHoverVisible=y}constructor(y,m){this._editor=y,this._participants=m,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(y,m){if(m.type!==1&&!m.supportsMarkerHover)return[];const w=y.getModel(),b=m.range.startLineNumber;if(b>w.getLineCount())return[];const v=w.getLineMaxColumn(b);return y.getLineDecorations(b).filter(s=>{if(s.options.isWholeLine)return!0;const o=s.range.startLineNumber===b?s.range.startColumn:1,t=s.range.endLineNumber===b?s.range.endColumn:v;if(s.options.showIfCollapsed){if(o>m.range.startColumn+1||m.range.endColumn-1>t)return!1}else if(o>m.range.startColumn||m.range.endColumn>t)return!1;return!0})}computeAsync(y){const m=this._anchor;if(!this._editor.hasModel()||!m)return k.AsyncIterableObject.EMPTY;const w=E._getLineDecorations(this._editor,m);return k.AsyncIterableObject.merge(this._participants.map(b=>b.computeAsync?b.computeAsync(m,w,y):k.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const y=E._getLineDecorations(this._editor,this._anchor);let m=[];for(const w of this._participants)m=m.concat(w.computeSync(this._anchor,y));return(0,f.coalesce)(m)}}e.ContentHoverComputer=E}),define(re[636],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FilteredHoverResult=e.HoverResult=void 0;class f{constructor(I,y,m){this.anchor=I,this.hoverParts=y,this.isComplete=m}filter(I){const y=this.hoverParts.filter(m=>m.isValidForHoverAnchor(I));return y.length===this.hoverParts.length?this:new k(this,this.anchor,y,this.isComplete)}}e.HoverResult=f;class k extends f{constructor(I,y,m,w){super(y,m,w),this.original=I}filter(I){return this.original.filter(I)}}e.FilteredHoverResult=k}),define(re[353],ae([1,0,14,8,6,2]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class y{constructor(b,v,s){this.value=b,this.isComplete=v,this.hasLoadingMessage=s}}e.HoverResult=y;class m extends I.Disposable{constructor(b,v){super(),this._editor=b,this._computer=v,this._onResult=this._register(new E.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(b,v=!0){this._state=b,v&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,f.createCancelableAsyncIterable)(b=>this._computer.computeAsync(b)),(async()=>{try{for await(const b of this._asyncIterable)b&&(this._result.push(b),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(b){(0,k.onUnexpectedError)(b)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const b=this._state===0,v=this._state===4;this._onResult.fire(new y(this._result.slice(0),b,v))}start(b){if(b===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=m}),define(re[69],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.RenderedHoverParts=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class f{constructor(y,m,w,b){this.priority=y,this.range=m,this.initialMousePosX=w,this.initialMousePosY=b,this.type=1}equals(y){return y.type===1&&this.range.equalsRange(y.range)}canAdoptVisibleHover(y,m){return y.type===1&&m.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=f;class k{constructor(y,m,w,b,v,s){this.priority=y,this.owner=m,this.range=w,this.initialMousePosX=b,this.initialMousePosY=v,this.supportsMarkerHover=s,this.type=2}equals(y){return y.type===2&&this.owner===y.owner}canAdoptVisibleHover(y,m){return y.type===2&&this.owner===y.owner}}e.HoverForeignElementAnchor=k;class E{constructor(y){this.renderedHoverParts=y}dispose(){for(const y of this.renderedHoverParts)y.dispose()}}e.RenderedHoverParts=E,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(y){this._participants.push(y)}getAll(){return this._participants}}}),define(re[637],ae([1,0,13,55,41]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverComputer=void 0;class I{get lineNumber(){return this._lineNumber}set lineNumber(m){this._lineNumber=m}get lane(){return this._laneOrLine}set lane(m){this._laneOrLine=m}constructor(m){this._editor=m,this._lineNumber=-1,this._laneOrLine=E.GlyphMarginLane.Center}computeSync(){var m,w;const b=t=>({value:t}),v=this._editor.getLineDecorations(this._lineNumber),s=[],o=this._laneOrLine==="lineNo";if(!v)return s;for(const t of v){const i=(w=(m=t.options.glyphMargin)===null||m===void 0?void 0:m.position)!==null&&w!==void 0?w:E.GlyphMarginLane.Center;if(!o&&i!==this._laneOrLine)continue;const n=o?t.options.lineNumberHoverMessage:t.options.glyphMarginHoverMessage;!n||(0,k.isEmptyMarkdownString)(n)||s.push(...(0,f.asArray)(n).map(b))}return s}}e.MarginHoverComputer=I}),define(re[638],ae([1,0,234,2,9,4]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const y=30,m=24;class w extends k.Disposable{constructor(v,s=new I.Dimension(10,10)){super(),this._editor=v,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new f.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=I.Dimension.lift(s),this._resizableNode.layout(s.height,s.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(o=>{this._resize(new I.Dimension(o.dimension.width,o.dimension.height)),o.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var v;return!((v=this._contentPosition)===null||v===void 0)&&v.position?E.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(v){const s=this._editor.getDomNode(),o=this._editor.getScrolledVisiblePosition(v);return!s||!o?void 0:I.getDomNodePagePosition(s).top+o.top-y}_availableVerticalSpaceBelow(v){const s=this._editor.getDomNode(),o=this._editor.getScrolledVisiblePosition(v);if(!s||!o)return;const t=I.getDomNodePagePosition(s),i=I.getClientArea(s.ownerDocument.body),n=t.top+o.top+o.height;return i.height-n-m}_findPositionPreference(v,s){var o,t;const i=Math.min((o=this._availableVerticalSpaceBelow(s))!==null&&o!==void 0?o:1/0,v),n=Math.min((t=this._availableVerticalSpaceAbove(s))!==null&&t!==void 0?t:1/0,v),c=Math.min(Math.max(n,i),v),u=Math.min(v,c);let r;return this._editor.getOption(60).above?r=u<=n?1:2:r=u<=i?2:1,r===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),r}_resize(v){this._resizableNode.layout(v.height,v.width)}}e.ResizableContentWidget=w}),define(re[639],ae([1,0,23]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(I,y,m){this._editRange=I,this._originalSelection=y,this._text=m}getEditOperations(I,y){y.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(I,y){const w=y.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new f.Selection(w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn),w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn)):new f.Selection(w.endLineNumber,w.endColumn-this._text.length,w.endLineNumber,w.endColumn)}}e.InPlaceReplaceCommand=k}),define(re[354],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpaceCnt=f,e.generateIndent=k;function f(E,I){let y=0;for(let m=0;m<E.length;m++)E.charAt(m)==="	"?y+=I:y++;return y}function k(E,I,y){E=E<0?0:E;let m="";if(!y){const w=Math.floor(E/I);E=E%I;for(let b=0;b<w;b++)m+="	"}for(let w=0;w<E;w++)m+=" ";return m}}),define(re[355],ae([1,0,8,2,9,5,46,22]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0,e.asCommandLink=s;class w{constructor(t,i){this.range=t,this.direction=i}}e.InlayHintAnchor=w;class b{constructor(t,i,n){this.hint=t,this.anchor=i,this.provider=n,this._isResolved=!1}with(t){const i=new b(this.hint,t.anchor,this.provider);return i._isResolved=this._isResolved,i._currentResolve=this._currentResolve,i}async resolve(t){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(t){var i,n,c;try{const u=await Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(i=u?.tooltip)!==null&&i!==void 0?i:this.hint.tooltip,this.hint.label=(n=u?.label)!==null&&n!==void 0?n:this.hint.label,this.hint.textEdits=(c=u?.textEdits)!==null&&c!==void 0?c:this.hint.textEdits,this._isResolved=!0}catch(u){(0,f.onUnexpectedExternalError)(u),this._isResolved=!1}}}e.InlayHintItem=b;class v{static async create(t,i,n,c){const u=[],r=t.ordered(i).reverse().map(a=>n.map(async l=>{try{const d=await a.provideInlayHints(i,l,c);(d?.hints.length||a.onDidChangeInlayHints)&&u.push([d??v._emptyInlayHintList,a])}catch(d){(0,f.onUnexpectedExternalError)(d)}}));if(await Promise.all(r.flat()),c.isCancellationRequested||i.isDisposed())throw new f.CancellationError;return new v(n,u,i)}constructor(t,i,n){this._disposables=new k.DisposableStore,this.ranges=t,this.provider=new Set;const c=[];for(const[u,r]of i){this._disposables.add(u),this.provider.add(r);for(const a of u.hints){const l=n.validatePosition(a.position);let d="before";const p=v._getRangeAtPosition(n,l);let h;p.getStartPosition().isBefore(l)?(h=I.Range.fromPositions(p.getStartPosition(),l),d="after"):(h=I.Range.fromPositions(l,p.getEndPosition()),d="before"),c.push(new b(a,new w(h,d),r))}}this.items=c.sort((u,r)=>E.Position.compare(u.hint.position,r.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,i){const n=i.lineNumber,c=t.getWordAtPosition(i);if(c)return new I.Range(n,c.startColumn,n,c.endColumn);t.tokenization.tokenizeIfCheap(n);const u=t.tokenization.getLineTokens(n),r=i.column-1,a=u.findTokenIndexAtOffset(r);let l=u.getStartOffset(a),d=u.getEndOffset(a);return d-l===1&&(l===r&&a>1?(l=u.getStartOffset(a-1),d=u.getEndOffset(a-1)):d===r&&a<u.getCount()-1&&(l=u.getStartOffset(a+1),d=u.getEndOffset(a+1))),new I.Range(n,l+1,n,d+1)}}e.InlayHintsFragments=v,v._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function s(o){return m.URI.from({scheme:y.Schemas.command,path:o.id,query:o.arguments&&encodeURIComponent(JSON.stringify(o.arguments))}).toString()}}),define(re[256],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(re[205],ae([1,0,13,11,9,5,103]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0,e.ghostTextsOrReplacementsEqual=v,e.ghostTextOrReplacementEquals=s;class m{constructor(t,i){this.lineNumber=t,this.parts=i}equals(t){return this.lineNumber===t.lineNumber&&this.parts.length===t.parts.length&&this.parts.every((i,n)=>i.equals(t.parts[n]))}renderForScreenReader(t){if(this.parts.length===0)return"";const i=this.parts[this.parts.length-1],n=t.substr(0,i.column-1);return new y.TextEdit([...this.parts.map(u=>new y.SingleTextEdit(I.Range.fromPositions(new E.Position(1,u.column)),u.lines.join(`
`)))]).applyToString(n).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(t=>t.lines.length===0)}get lineCount(){return 1+this.parts.reduce((t,i)=>t+i.lines.length-1,0)}}e.GhostText=m;class w{constructor(t,i,n){this.column=t,this.text=i,this.preview=n,this.lines=(0,k.splitLines)(this.text)}equals(t){return this.column===t.column&&this.lines.length===t.lines.length&&this.lines.every((i,n)=>i===t.lines[n])}}e.GhostTextPart=w;class b{constructor(t,i,n,c=0){this.lineNumber=t,this.columnRange=i,this.text=n,this.additionalReservedLineCount=c,this.parts=[new w(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,k.splitLines)(this.text)}renderForScreenReader(t){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(t=>t.lines.length===0)}equals(t){return this.lineNumber===t.lineNumber&&this.columnRange.equals(t.columnRange)&&this.newLines.length===t.newLines.length&&this.newLines.every((i,n)=>i===t.newLines[n])&&this.additionalReservedLineCount===t.additionalReservedLineCount}}e.GhostTextReplacement=b;function v(o,t){return(0,f.equals)(o,t,s)}function s(o,t){return o===t?!0:!o||!t?!1:o instanceof m&&t instanceof m||o instanceof b&&t instanceof b?o.equals(t):!1}}),define(re[640],ae([1,0,2]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsAccessibleView=void 0;class k extends f.Disposable{constructor(){super()}}e.InlineCompletionsAccessibleView=k}),define(re[257],ae([1,0,189,11,5,114,103,205]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleTextRemoveCommonPrefix=w,e.singleTextEditAugments=b,e.computeGhostText=v;function w(c,u,r){const a=r?c.range.intersectRanges(r):c.range;if(!a)return c;const l=u.getValueInRange(a,1),d=(0,k.commonPrefixLength)(l,c.text),p=I.TextLength.ofText(l.substring(0,d)).addToPosition(c.range.getStartPosition()),h=c.text.substring(d),g=E.Range.fromPositions(p,c.range.getEndPosition());return new y.SingleTextEdit(g,h)}function b(c,u){return c.text.startsWith(u.text)&&s(c.range,u.range)}function v(c,u,r,a,l=0){let d=w(c,u);if(d.range.endLineNumber!==d.range.startLineNumber)return;const p=u.getLineContent(d.range.startLineNumber),h=(0,k.getLeadingWhitespace)(p).length;if(d.range.startColumn-1<=h){const T=(0,k.getLeadingWhitespace)(d.text).length,N=p.substring(d.range.startColumn-1,h),[A,R]=[d.range.getStartPosition(),d.range.getEndPosition()],M=A.column+N.length<=R.column?A.delta(0,N.length):R,P=E.Range.fromPositions(M,R),x=d.text.startsWith(N)?d.text.substring(N.length):d.text.substring(T);d=new y.SingleTextEdit(P,x)}const C=u.getValueInRange(d.range),S=t(C,d.text);if(!S)return;const _=d.range.startLineNumber,L=new Array;if(r==="prefix"){const T=S.filter(N=>N.originalLength===0);if(T.length>1||T.length===1&&T[0].originalStart!==C.length)return}const D=d.text.length-l;for(const T of S){const N=d.range.startColumn+T.originalStart+T.originalLength;if(r==="subwordSmart"&&a&&a.lineNumber===d.range.startLineNumber&&N<a.column||T.originalLength>0)return;if(T.modifiedLength===0)continue;const A=T.modifiedStart+T.modifiedLength,R=Math.max(T.modifiedStart,Math.min(A,D)),M=d.text.substring(T.modifiedStart,R),P=d.text.substring(R,Math.max(T.modifiedStart,A));M.length>0&&L.push(new m.GhostTextPart(N,M,!1)),P.length>0&&L.push(new m.GhostTextPart(N,P,!0))}return new m.GhostText(_,L)}function s(c,u){return u.getStartPosition().equals(c.getStartPosition())&&u.getEndPosition().isBeforeOrEqual(c.getEndPosition())}let o;function t(c,u){if(o?.originalValue===c&&o?.newValue===u)return o?.changes;{let r=n(c,u,!0);if(r){const a=i(r);if(a>0){const l=n(c,u,!1);l&&i(l)<a&&(r=l)}}return o={originalValue:c,newValue:u,changes:r},r}}function i(c){let u=0;for(const r of c)u+=r.originalLength;return u}function n(c,u,r){if(c.length>5e3||u.length>5e3)return;function a(C){let S=0;for(let _=0,L=C.length;_<L;_++){const D=C.charCodeAt(_);D>S&&(S=D)}return S}const l=Math.max(a(c),a(u));function d(C){if(C<0)throw new Error("unexpected");return l+C+1}function p(C){let S=0,_=0;const L=new Int32Array(C.length);for(let D=0,T=C.length;D<T;D++)if(r&&C[D]==="("){const N=_*100+S;L[D]=d(2*N),S++}else if(r&&C[D]===")"){S=Math.max(S-1,0);const N=_*100+S;L[D]=d(2*N+1),S===0&&_++}else L[D]=C.charCodeAt(D);return L}const h=p(c),g=p(u);return new f.LcsDiff({getElements:()=>h},{getElements:()=>g}).ComputeDiff(!1).changes}}),define(re[206],ae([1,0,8,2,21,9,5]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnRange=void 0,e.getReadonlyEmptyArray=w,e.applyObservableDecorations=v,e.addPositions=s,e.subtractPositions=o;const m=[];function w(){return m}class b{constructor(i,n){if(this.startColumn=i,this.endColumnExclusive=n,i>n)throw new f.BugIndicatingError(`startColumn ${i} cannot be after endColumnExclusive ${n}`)}toRange(i){return new y.Range(i,this.startColumn,i,this.endColumnExclusive)}equals(i){return this.startColumn===i.startColumn&&this.endColumnExclusive===i.endColumnExclusive}}e.ColumnRange=b;function v(t,i){const n=new k.DisposableStore,c=t.createDecorationsCollection();return n.add((0,E.autorunOpts)({debugName:()=>`Apply decorations from ${i.debugName}`},u=>{const r=i.read(u);c.set(r)})),n.add({dispose:()=>{c.clear()}}),n}function s(t,i){return new I.Position(t.lineNumber+i.lineNumber-1,i.lineNumber===1?t.column+i.column-1:i.column)}function o(t,i){return new I.Position(t.lineNumber-i.lineNumber+1,t.lineNumber-i.lineNumber===0?t.column-i.column+1:t.column)}}),define(re[641],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineEditJumpBackId=e.inlineEditJumpToId=e.inlineEditRejectId=e.inlineEditAcceptId=void 0,e.inlineEditAcceptId="editor.action.inlineEdit.accept",e.inlineEditRejectId="editor.action.inlineEdit.reject",e.inlineEditJumpToId="editor.action.inlineEdit.jumpTo",e.inlineEditJumpBackId="editor.action.inlineEdit.jumpBack"}),define(re[642],ae([1,0,5,23]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class E{constructor(y,m,w){this._selection=y,this._isCopyingDown=m,this._noop=w||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(y,m){let w=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,w.startLineNumber<w.endLineNumber&&w.endColumn===1&&(this._endLineNumberDelta=1,w=w.setEndPosition(w.endLineNumber-1,y.getLineMaxColumn(w.endLineNumber-1)));const b=[];for(let s=w.startLineNumber;s<=w.endLineNumber;s++)b.push(y.getLineContent(s));const v=b.join(`
`);v===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?m.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber+1,1),w.endLineNumber===y.getLineCount()?"":`
`):this._isCopyingDown?m.addEditOperation(new f.Range(w.startLineNumber,1,w.startLineNumber,1),v+`
`):m.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber,y.getLineMaxColumn(w.endLineNumber)),`
`+v),this._selectionId=m.trackSelection(w),this._selectionDirection=this._selection.getDirection()}computeCursorState(y,m){let w=m.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let b=w.startLineNumber,v=w.startColumn,s=w.endLineNumber,o=w.endColumn;this._startLineNumberDelta!==0&&(b=b+this._startLineNumberDelta,v=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,o=1),w=k.Selection.createWithDirection(b,v,s,o,this._selectionDirection)}return w}}e.CopyLinesCommand=E}),define(re[643],ae([1,0,75,5]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class E{static getCollator(){return E._COLLATOR||(E._COLLATOR=new Intl.Collator),E._COLLATOR}constructor(w,b){this.selection=w,this.descending=b,this.selectionId=null}getEditOperations(w,b){const v=y(w,this.selection,this.descending);v&&b.addEditOperation(v.range,v.text),this.selectionId=b.trackSelection(this.selection)}computeCursorState(w,b){return b.getTrackedSelection(this.selectionId)}static canRun(w,b,v){if(w===null)return!1;const s=I(w,b,v);if(!s)return!1;for(let o=0,t=s.before.length;o<t;o++)if(s.before[o]!==s.after[o])return!0;return!1}}e.SortLinesCommand=E,E._COLLATOR=null;function I(m,w,b){const v=w.startLineNumber;let s=w.endLineNumber;if(w.endColumn===1&&s--,v>=s)return null;const o=[];for(let i=v;i<=s;i++)o.push(m.getLineContent(i));let t=o.slice(0);return t.sort(E.getCollator().compare),b===!0&&(t=t.reverse()),{startLineNumber:v,endLineNumber:s,before:o,after:t}}function y(m,w,b){const v=I(m,w,b);return v?f.EditOperation.replace(new k.Range(v.startLineNumber,1,v.endLineNumber,m.getLineMaxColumn(v.endLineNumber)),v.after.join(`
`)):null}}),define(re[356],ae([1,0,4,101,2,21,72,166]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlaceholderTextContribution=void 0;class w extends E.Disposable{constructor(s){super(),this._editor=s,this._editorObs=(0,m.observableCodeEditor)(this._editor),this._placeholderText=this._editorObs.getOption(88),this._state=(0,I.derivedOpts)({owner:this,equalsFn:k.structuralEquals},o=>{const t=this._placeholderText.read(o);if(t&&this._editorObs.valueIsEmpty.read(o))return{placeholder:t}}),this._shouldViewBeAlive=b(this,o=>{var t;return((t=this._state.read(o))===null||t===void 0?void 0:t.placeholder)!==void 0}),this._view=(0,y.derivedWithStore)((o,t)=>{if(!this._shouldViewBeAlive.read(o))return;const i=(0,f.h)("div.editorPlaceholder");t.add((0,I.autorun)(n=>{var c;const u=this._state.read(n),r=u?.placeholder!==void 0;i.root.style.display=r?"block":"none",i.root.innerText=(c=u?.placeholder)!==null&&c!==void 0?c:""})),t.add((0,I.autorun)(n=>{const c=this._editorObs.layoutInfo.read(n);i.root.style.left=`${c.contentLeft}px`,i.root.style.width=c.contentWidth-c.verticalScrollbarWidth+"px",i.root.style.top=`${this._editor.getTopForLineNumber(0)}px`})),t.add((0,I.autorun)(n=>{i.root.style.fontFamily=this._editorObs.getOption(49).read(n),i.root.style.fontSize=this._editorObs.getOption(52).read(n)+"px",i.root.style.lineHeight=this._editorObs.getOption(67).read(n)+"px"})),t.add(this._editorObs.createOverlayWidget({allowEditorOverflow:!1,minContentWidthInPx:(0,I.constObservable)(0),position:(0,I.constObservable)(null),domNode:i.root}))}),this._view.recomputeInitiallyAndOnChange(this._store)}}e.PlaceholderTextContribution=w,w.ID="editor.contrib.placeholderText";function b(v,s){return(0,I.derivedObservableWithCache)(v,(o,t)=>t===!0?!0:s(o))}}),define(re[357],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.isSemanticColoringEnabled=f,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function f(k,E,I){var y;const m=(y=I.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||y===void 0?void 0:y.enabled;return typeof m=="boolean"?m:E.getColorTheme().semanticHighlighting}}),define(re[358],ae([1,0,71,9,5]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class I{async provideSelectionRanges(m,w){const b=[];for(const v of w){const s=[];b.push(s);const o=new Map;await new Promise(t=>I._bracketsRightYield(t,0,m,v,o)),await new Promise(t=>I._bracketsLeftYield(t,0,m,v,o,s))}return b}static _bracketsRightYield(m,w,b,v,s){const o=new Map,t=Date.now();for(;;){if(w>=I._maxRounds){m();break}if(!v){m();break}const i=b.bracketPairs.findNextBracket(v);if(!i){m();break}if(Date.now()-t>I._maxDuration){setTimeout(()=>I._bracketsRightYield(m,w+1,b,v,s));break}if(i.bracketInfo.isOpeningBracket){const c=i.bracketInfo.bracketText,u=o.has(c)?o.get(c):0;o.set(c,u+1)}else{const c=i.bracketInfo.getOpeningBrackets()[0].bracketText;let u=o.has(c)?o.get(c):0;if(u-=1,o.set(c,Math.max(0,u)),u<0){let r=s.get(c);r||(r=new f.LinkedList,s.set(c,r)),r.push(i.range)}}v=i.range.getEndPosition()}}static _bracketsLeftYield(m,w,b,v,s,o){const t=new Map,i=Date.now();for(;;){if(w>=I._maxRounds&&s.size===0){m();break}if(!v){m();break}const n=b.bracketPairs.findPrevBracket(v);if(!n){m();break}if(Date.now()-i>I._maxDuration){setTimeout(()=>I._bracketsLeftYield(m,w+1,b,v,s,o));break}if(n.bracketInfo.isOpeningBracket){const u=n.bracketInfo.bracketText;let r=t.has(u)?t.get(u):0;if(r-=1,t.set(u,Math.max(0,r)),r<0){const a=s.get(u);if(a){const l=a.shift();a.size===0&&s.delete(u);const d=E.Range.fromPositions(n.range.getEndPosition(),l.getStartPosition()),p=E.Range.fromPositions(n.range.getStartPosition(),l.getEndPosition());o.push({range:d}),o.push({range:p}),I._addBracketLeading(b,p,o)}}}else{const u=n.bracketInfo.getOpeningBrackets()[0].bracketText,r=t.has(u)?t.get(u):0;t.set(u,r+1)}v=n.range.getStartPosition()}}static _addBracketLeading(m,w,b){if(w.startLineNumber===w.endLineNumber)return;const v=w.startLineNumber,s=m.getLineFirstNonWhitespaceColumn(v);s!==0&&s!==w.startColumn&&(b.push({range:E.Range.fromPositions(new k.Position(v,s),w.getEndPosition())}),b.push({range:E.Range.fromPositions(new k.Position(v,1),w.getEndPosition())}));const o=v-1;if(o>0){const t=m.getLineFirstNonWhitespaceColumn(o);t===w.startColumn&&t!==m.getLineLastNonWhitespaceColumn(o)&&(b.push({range:E.Range.fromPositions(new k.Position(o,t),w.getEndPosition())}),b.push({range:E.Range.fromPositions(new k.Position(o,1),w.getEndPosition())}))}}}e.BracketSelectionRangeProvider=I,I._maxDuration=30,I._maxRounds=2}),define(re[644],ae([1,0,11,5]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class E{constructor(y=!0){this.selectSubwords=y}provideSelectionRanges(y,m){const w=[];for(const b of m){const v=[];w.push(v),this.selectSubwords&&this._addInWordRanges(v,y,b),this._addWordRanges(v,y,b),this._addWhitespaceLine(v,y,b),v.push({range:y.getFullModelRange()})}return w}_addInWordRanges(y,m,w){const b=m.getWordAtPosition(w);if(!b)return;const{word:v,startColumn:s}=b,o=w.column-s;let t=o,i=o,n=0;for(;t>=0;t--){const c=v.charCodeAt(t);if(t!==o&&(c===95||c===45))break;if((0,f.isLowerAsciiLetter)(c)&&(0,f.isUpperAsciiLetter)(n))break;n=c}for(t+=1;i<v.length;i++){const c=v.charCodeAt(i);if((0,f.isUpperAsciiLetter)(c)&&(0,f.isLowerAsciiLetter)(n))break;if(c===95||c===45)break;n=c}t<i&&y.push({range:new k.Range(w.lineNumber,s+t,w.lineNumber,s+i)})}_addWordRanges(y,m,w){const b=m.getWordAtPosition(w);b&&y.push({range:new k.Range(w.lineNumber,b.startColumn,w.lineNumber,b.endColumn)})}_addWhitespaceLine(y,m,w){m.getLineLength(w.lineNumber)>0&&m.getLineFirstNonWhitespaceColumn(w.lineNumber)===0&&m.getLineLastNonWhitespaceColumn(w.lineNumber)===0&&y.push({range:new k.Range(w.lineNumber,1,w.lineNumber,m.getLineMaxColumn(w.lineNumber))})}}e.WordSelectionRangeProvider=E}),define(re[132],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class f{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const n=this.pos;let c=0,u=this.value.charCodeAt(n),r;if(r=f._table[u],typeof r=="number")return this.pos+=1,{type:r,pos:n,len:1};if(f.isDigitCharacter(u)){r=8;do c+=1,u=this.value.charCodeAt(n+c);while(f.isDigitCharacter(u));return this.pos+=c,{type:r,pos:n,len:c}}if(f.isVariableCharacter(u)){r=9;do u=this.value.charCodeAt(n+ ++c);while(f.isVariableCharacter(u)||f.isDigitCharacter(u));return this.pos+=c,{type:r,pos:n,len:c}}r=10;do c+=1,u=this.value.charCodeAt(n+c);while(!isNaN(u)&&typeof f._table[u]>"u"&&!f.isDigitCharacter(u)&&!f.isVariableCharacter(u));return this.pos+=c,{type:r,pos:n,len:c}}}e.Scanner=f,f._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class k{constructor(){this._children=[]}appendChild(n){return n instanceof E&&this._children[this._children.length-1]instanceof E?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,c){const{parent:u}=n,r=u.children.indexOf(n),a=u.children.slice(0);a.splice(r,1,...c),u._children=a,function l(d,p){for(const h of d)h.parent=p,l(h.children,h)}(c,u)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof o)return n;n=n.parent}}toString(){return this.children.reduce((n,c)=>n+c.toString(),"")}len(){return 0}}e.Marker=k;class E extends k{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new E(this.value)}}e.Text=E;class I extends k{}e.TransformableMarker=I;class y extends I{static compareByIndex(n,c){return n.index===c.index?0:n.isFinalTabstop?1:c.isFinalTabstop||n.index<c.index?-1:n.index>c.index?1:0}constructor(n){super(),this.index=n}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof m?this._children[0]:void 0}clone(){const n=new y(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(c=>c.clone()),n}}e.Placeholder=y;class m extends k{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof E&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new m;return this.options.forEach(n.appendChild,n),n}}e.Choice=m;class w extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const c=this;let u=!1,r=n.replace(this.regexp,function(){return u=!0,c._replace(Array.prototype.slice.call(arguments,0,-2))});return!u&&this._children.some(a=>a instanceof b&&!!a.elseValue)&&(r=this._replace([])),r}_replace(n){let c="";for(const u of this._children)if(u instanceof b){let r=n[u.index]||"";r=u.resolve(r),c+=r}else c+=u.toString();return c}toString(){return""}clone(){const n=new w;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(c=>c.clone()),n}}e.Transform=w;class b extends k{constructor(n,c,u,r){super(),this.index=n,this.shorthandName=c,this.ifValue=u,this.elseValue=r}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":n&&typeof this.ifValue=="string"?this.ifValue:!n&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const c=n.match(/[a-z0-9]+/gi);return c?c.map(u=>u.charAt(0).toUpperCase()+u.substr(1)).join(""):n}_toCamelCase(n){const c=n.match(/[a-z0-9]+/gi);return c?c.map((u,r)=>r===0?u.charAt(0).toLowerCase()+u.substr(1):u.charAt(0).toUpperCase()+u.substr(1)).join(""):n}clone(){return new b(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=b;class v extends I{constructor(n){super(),this.name=n}resolve(n){let c=n.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this._children=[new E(c)],!0):!1}clone(){const n=new v(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(c=>c.clone()),n}}e.Variable=v;function s(i,n){const c=[...i];for(;c.length>0;){const u=c.shift();if(!n(u))break;c.unshift(...u.children)}}class o extends k{get placeholderInfo(){if(!this._placeholders){const n=[];let c;this.walk(function(u){return u instanceof y&&(n.push(u),c=!c||c.index<u.index?u:c),!0}),this._placeholders={all:n,last:c}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let c=0,u=!1;return this.walk(r=>r===n?(u=!0,!1):(c+=r.len(),!0)),u?c:-1}fullLen(n){let c=0;return s([n],u=>(c+=u.len(),!0)),c}enclosingPlaceholders(n){const c=[];let{parent:u}=n;for(;u;)u instanceof y&&c.push(u),u=u.parent;return c}resolveVariables(n){return this.walk(c=>(c instanceof v&&c.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,c){return this._placeholders=void 0,super.replace(n,c)}clone(){const n=new o;return this._children=this.children.map(c=>c.clone()),n}walk(n){s(this.children,n)}}e.TextmateSnippet=o;class t{constructor(){this._scanner=new f,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,c,u){const r=new o;return this.parseFragment(n,r),this.ensureFinalTabstop(r,u??!1,c??!1),r}parseFragment(n,c){const u=c.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(c););const r=new Map,a=[];c.walk(p=>(p instanceof y&&(p.isFinalTabstop?r.set(0,void 0):!r.has(p.index)&&p.children.length>0?r.set(p.index,p.children):a.push(p)),!0));const l=(p,h)=>{const g=r.get(p.index);if(!g)return;const C=new y(p.index);C.transform=p.transform;for(const S of g){const _=S.clone();C.appendChild(_),_ instanceof y&&r.has(_.index)&&!h.has(_.index)&&(h.add(_.index),l(_,h),h.delete(_.index))}c.replace(p,[C])},d=new Set;for(const p of a)l(p,d);return c.children.slice(u)}ensureFinalTabstop(n,c,u){(c||u&&n.placeholders.length>0)&&(n.placeholders.find(a=>a.index===0)||n.appendChild(new y(0)))}_accept(n,c){if(n===void 0||this._token.type===n){const u=c?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),u}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const c=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const u=this._scanner.value.substring(c.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),u}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let c;return(c=this._accept(5,!0))?(c=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||c,n.appendChild(new E(c)),!0):!1}_parseTabstopOrVariableName(n){let c;const u=this._token;return this._accept(0)&&(c=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(c)?new y(Number(c)):new v(c)),!0):this._backTo(u)}_parseComplexPlaceholder(n){let c;const u=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(8,!0))))return this._backTo(u);const a=new y(Number(c));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(a),!0;if(!this._parse(a))return n.appendChild(new E("${"+c+":")),a.children.forEach(n.appendChild,n),!0}else if(a.index>0&&this._accept(7)){const l=new m;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(a.appendChild(l),this._accept(4)))return n.appendChild(a),!0}return this._backTo(u),!1}}else return this._accept(6)?this._parseTransform(a)?(n.appendChild(a),!0):(this._backTo(u),!1):this._accept(4)?(n.appendChild(a),!0):this._backTo(u)}_parseChoiceElement(n){const c=this._token,u=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(c),!1;u.push(r)}return u.length===0?(this._backTo(c),!1):(n.appendChild(new E(u.join(""))),!0)}_parseComplexVariable(n){let c;const u=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(9,!0))))return this._backTo(u);const a=new v(c);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(a),!0;if(!this._parse(a))return n.appendChild(new E("${"+c+":")),a.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(a)?(n.appendChild(a),!0):(this._backTo(u),!1):this._accept(4)?(n.appendChild(a),!0):this._backTo(u)}_parseTransform(n){const c=new w;let u="",r="";for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(6,!0)||a,u+=a;continue}if(this._token.type!==14){u+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(5,!0)||this._accept(6,!0)||a,c.appendChild(new E(a));continue}if(!(this._parseFormatString(c)||this._parseAnything(c)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{c.regexp=new RegExp(u,r)}catch{return!1}return n.transform=c,!0}_parseFormatString(n){const c=this._token;if(!this._accept(0))return!1;let u=!1;this._accept(3)&&(u=!0);const r=this._accept(8,!0);if(r)if(u){if(this._accept(4))return n.appendChild(new b(Number(r))),!0;if(!this._accept(1))return this._backTo(c),!1}else return n.appendChild(new b(Number(r))),!0;else return this._backTo(c),!1;if(this._accept(6)){const a=this._accept(9,!0);return!a||!this._accept(4)?(this._backTo(c),!1):(n.appendChild(new b(Number(r),a)),!0)}else if(this._accept(11)){const a=this._until(4);if(a)return n.appendChild(new b(Number(r),void 0,a,void 0)),!0}else if(this._accept(12)){const a=this._until(4);if(a)return n.appendChild(new b(Number(r),void 0,void 0,a)),!0}else if(this._accept(13)){const a=this._until(1);if(a){const l=this._until(4);if(l)return n.appendChild(new b(Number(r),void 0,a,l)),!0}}else{const a=this._until(4);if(a)return n.appendChild(new b(Number(r),void 0,void 0,a)),!0}return this._backTo(c),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new E(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=t}),define(re[359],ae([1,0,89,14,18,44,8,9,5,589,103,206,132]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=void 0,e.provideInlineCompletions=t;async function t(a,l,d,p,h=E.CancellationToken.None,g){const C=l instanceof m.Position?u(l,d):l,S=a.all(d),_=new I.SetMap;for(const x of S)x.groupId&&_.add(x.groupId,x);function L(x){if(!x.yieldsToGroupIds)return[];const O=[];for(const B of x.yieldsToGroupIds||[]){const H=_.get(B);for(const K of H)O.push(K)}return O}const D=new Map,T=new Set;function N(x,O){if(O=[...O,x],T.has(x))return O;T.add(x);try{const B=L(x);for(const H of B){const K=N(H,O);if(K)return K}}finally{T.delete(x)}}function A(x){const O=D.get(x);if(O)return O;const B=N(x,[]);B&&(0,y.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${B.map(K=>K.toString?K.toString():""+K).join(" -> ")}`));const H=new k.DeferredPromise;return D.set(x,H.p),(async()=>{var K;if(!B){const V=L(x);for(const j of V){const U=await A(j);if(U&&U.items.length>0)return}}try{return l instanceof m.Position?await x.provideInlineCompletions(d,l,p,h):await((K=x.provideInlineEdits)===null||K===void 0?void 0:K.call(x,d,l,p,h))}catch(V){(0,y.onUnexpectedExternalError)(V);return}})().then(K=>H.complete(K),K=>H.error(K)),H.p}const R=await Promise.all(S.map(async x=>({provider:x,completions:await A(x)}))),M=new Map,P=[];for(const x of R){const O=x.completions;if(!O)continue;const B=new n(O,x.provider);P.push(B);for(const H of O.items){const K=c.from(H,B,C,d,g);M.set(K.hash(),K)}}return new i(Array.from(M.values()),new Set(M.keys()),P)}class i{constructor(l,d,p){this.completions=l,this.hashs=d,this.providerResults=p}has(l){return this.hashs.has(l.hash())}dispose(){for(const l of this.providerResults)l.removeRef()}}e.InlineCompletionProviderResult=i;class n{constructor(l,d){this.inlineCompletions=l,this.provider=d,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=n;class c{static from(l,d,p,h,g){let C,S,_=l.range?w.Range.lift(l.range):p;if(typeof l.insertText=="string"){if(C=l.insertText,g&&l.completeBracketPairs){C=r(C,_.getStartPosition(),h,g);const L=C.length-l.insertText.length;L!==0&&(_=new w.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn+L))}S=void 0}else if("snippet"in l.insertText){const L=l.insertText.snippet.length;if(g&&l.completeBracketPairs){l.insertText.snippet=r(l.insertText.snippet,_.getStartPosition(),h,g);const T=l.insertText.snippet.length-L;T!==0&&(_=new w.Range(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn+T))}const D=new o.SnippetParser().parse(l.insertText.snippet);D.children.length===1&&D.children[0]instanceof o.Text?(C=D.children[0].value,S=void 0):(C=D.toString(),S={snippet:l.insertText.snippet,range:_})}else(0,f.assertNever)(l.insertText);return new c(C,l.command,_,C,S,l.additionalTextEdits||(0,s.getReadonlyEmptyArray)(),l,d)}constructor(l,d,p,h,g,C,S,_){this.filterText=l,this.command=d,this.range=p,this.insertText=h,this.snippetInfo=g,this.additionalTextEdits=C,this.sourceInlineCompletion=S,this.source=_,l=l.replace(/\r\n|\r/g,`
`),h=l.replace(/\r\n|\r/g,`
`)}withRange(l){return new c(this.filterText,this.command,l,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}toSingleTextEdit(){return new v.SingleTextEdit(this.range,this.insertText)}}e.InlineCompletionItem=c;function u(a,l){const d=l.getWordAtPosition(a),p=l.getLineMaxColumn(a.lineNumber);return d?new w.Range(a.lineNumber,d.startColumn,a.lineNumber,p):w.Range.fromPositions(a,a.with(void 0,p))}function r(a,l,d,p){const g=d.getLineContent(l.lineNumber).substring(0,l.column-1)+a,C=d.tokenization.tokenizeLineWithEdit(l,g.length-(l.column-1),a),S=C?.sliceAndInflate(l.column-1,g.length,0);return S?(0,b.fixBracketsInLine)(S,p):a}}),define(re[360],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class f{constructor(y,m){this.startLineNumber=y,this.endLineNumber=m}}e.StickyRange=f;class k{constructor(y,m,w){this.range=y,this.children=m,this.parent=w}}e.StickyElement=k;class E{constructor(y,m,w,b){this.uri=y,this.version=m,this.element=w,this.outlineProviderId=b}}e.StickyModel=E}),define(re[361],ae([1,0,13,83,11]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class I{constructor(w,b){this.leadingLineContent=w,this.characterCountDelta=b}}e.LineContext=I;class y{constructor(w,b,v,s,o,t,i=k.FuzzyScoreOptions.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=y._compareCompletionItems,this._items=w,this._column=b,this._wordDistance=s,this._options=o,this._refilterKind=1,this._lineContext=v,this._fuzzyScoreOptions=i,t==="top"?this._snippetCompareFn=y._compareCompletionItemsSnippetsUp:t==="bottom"&&(this._snippetCompareFn=y._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(w){(this._lineContext.leadingLineContent!==w.leadingLineContent||this._lineContext.characterCountDelta!==w.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<w.characterCountDelta&&this._filteredItems?2:1,this._lineContext=w)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const w=new Set;for(const[b,v]of this.getItemsByProvider())v.length>0&&v[0].container.incomplete&&w.add(b);return w}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const w=[],{leadingLineContent:b,characterCountDelta:v}=this._lineContext;let s="",o="";const t=this._refilterKind===1?this._items:this._filteredItems,i=[],n=!this._options.filterGraceful||t.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let c=0;c<t.length;c++){const u=t[c];if(u.isInvalid)continue;const r=this._itemsByProvider.get(u.provider);r?r.push(u):this._itemsByProvider.set(u.provider,[u]);const a=u.position.column-u.editStart.column,l=a+v-(u.position.column-this._column);if(s.length!==l&&(s=l===0?"":b.slice(-l),o=s.toLowerCase()),u.word=s,l===0)u.score=k.FuzzyScore.Default;else{let d=0;for(;d<a;){const p=s.charCodeAt(d);if(p===32||p===9)d+=1;else break}if(d>=l)u.score=k.FuzzyScore.Default;else if(typeof u.completion.filterText=="string"){const p=n(s,o,d,u.completion.filterText,u.filterTextLow,0,this._fuzzyScoreOptions);if(!p)continue;(0,E.compareIgnoreCase)(u.completion.filterText,u.textLabel)===0?u.score=p:(u.score=(0,k.anyScore)(s,o,d,u.textLabel,u.labelLow,0),u.score[0]=p[0])}else{const p=n(s,o,d,u.textLabel,u.labelLow,0,this._fuzzyScoreOptions);if(!p)continue;u.score=p}}u.idx=c,u.distance=this._wordDistance.distance(u.position,u.completion),i.push(u),w.push(u.textLabel.length)}this._filteredItems=i.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:w.length?(0,f.quickSelect)(w.length-.85,w,(c,u)=>c-u):0}}static _compareCompletionItems(w,b){return w.score[0]>b.score[0]?-1:w.score[0]<b.score[0]?1:w.distance<b.distance?-1:w.distance>b.distance?1:w.idx<b.idx?-1:w.idx>b.idx?1:0}static _compareCompletionItemsSnippetsDown(w,b){if(w.completion.kind!==b.completion.kind){if(w.completion.kind===27)return 1;if(b.completion.kind===27)return-1}return y._compareCompletionItems(w,b)}static _compareCompletionItemsSnippetsUp(w,b){if(w.completion.kind!==b.completion.kind){if(w.completion.kind===27)return-1;if(b.completion.kind===27)return 1}return y._compareCompletionItems(w,b)}}e.CompletionModel=y}),define(re[645],ae([1,0,13,2,141]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class I{constructor(m,w,b,v){this._disposables=new k.DisposableStore,this._disposables.add(b.onDidSuggest(s=>{s.completionModel.items.length===0&&this.reset()})),this._disposables.add(b.onDidCancel(s=>{this.reset()})),this._disposables.add(w.onDidShow(()=>this._onItem(w.getFocusedItem()))),this._disposables.add(w.onDidFocus(this._onItem,this)),this._disposables.add(w.onDidHide(this.reset,this)),this._disposables.add(m.onWillType(s=>{if(this._active&&!w.isFrozen()&&b.state!==0){const o=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(o)&&m.getOption(0)&&v(this._active.item)}}))}_onItem(m){if(!m||!(0,f.isNonEmptyArray)(m.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===m.item)return;const w=new E.CharacterSet;for(const b of m.item.completion.commitCharacters)b.length>0&&w.add(b.charCodeAt(0));this._active={acceptCharacters:w,item:m}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=I}),define(re[646],ae([1,0,2]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(I,y){this._disposables=new f.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(I.onWillType(()=>{if(this._locked||!I.hasModel())return;const m=I.getSelections(),w=m.length;let b=!1;for(let s=0;s<w;s++)if(!m[s].isEmpty()){b=!0;break}if(!b){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const v=I.getModel();for(let s=0;s<w;s++){const o=m[s];if(v.getValueLengthInRange(o)>k._maxSelectionLength)return;this._lastOvertyped[s]={value:v.getValueInRange(o),multiline:o.startLineNumber!==o.endLineNumber}}})),this._disposables.add(y.onDidTrigger(m=>{this._locked=!0})),this._disposables.add(y.onDidCancel(m=>{this._locked=!1}))}getLastOvertypedInfo(I){if(I>=0&&I<this._lastOvertyped.length)return this._lastOvertyped[I]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(re[362],ae([1,0,13,5,358]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class I{static async create(m,w){if(!w.getOption(119).localityBonus||!w.hasModel())return I.None;const b=w.getModel(),v=w.getPosition();if(!m.canComputeWordRanges(b.uri))return I.None;const[s]=await new E.BracketSelectionRangeProvider().provideSelectionRanges(b,[v]);if(s.length===0)return I.None;const o=await m.computeWordRanges(b.uri,s[0].range);if(!o)return I.None;const t=b.getWordUntilPosition(v);return delete o[t.word],new class extends I{distance(i,n){if(!v.equals(w.getPosition()))return 0;if(n.kind===17)return 2<<20;const c=typeof n.label=="string"?n.label:n.label.label,u=o[c];if((0,f.isFalsyOrEmpty)(u))return 2<<20;const r=(0,f.binarySearch)(u,k.Range.fromPositions(i),k.Range.compareRangesUsingStarts),a=r>=0?u[r]:u[Math.max(0,~r-1)];let l=s.length;for(const d of s){if(!k.Range.containsRange(d.range,a))break;l-=1}return l}}}}e.WordDistance=I,I.None=new class extends I{distance(){return 0}}}),define(re[363],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFuzzyActionArr=f,e.isFuzzyAction=k,e.isString=E,e.isIAction=I,e.empty=y,e.fixCase=m,e.sanitize=w,e.log=b,e.createError=v,e.substituteMatches=s,e.substituteMatchesRe=o,e.findRules=t,e.stateExists=i;function f(n){return Array.isArray(n)}function k(n){return!f(n)}function E(n){return typeof n=="string"}function I(n){return!E(n)}function y(n){return!n}function m(n,c){return n.ignoreCase&&c?c.toLowerCase():c}function w(n){return n.replace(/[&<>'"_]/g,"-")}function b(n,c){console.log(`${n.languageId}: ${c}`)}function v(n,c){return new Error(`${n.languageId}: ${c}`)}function s(n,c,u,r,a){const l=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let d=null;return c.replace(l,function(p,h,g,C,S,_,L,D,T){return y(g)?y(C)?!y(S)&&S<r.length?m(n,r[S]):!y(L)&&n&&typeof n[L]=="string"?n[L]:(d===null&&(d=a.split("."),d.unshift(a)),!y(_)&&_<d.length?m(n,d[_]):""):m(n,u):"$"})}function o(n,c,u){const r=/\$[sS](\d\d?)/g;let a=null;return c.replace(r,function(l,d){return a===null&&(a=u.split("."),a.unshift(u)),!y(d)&&d<a.length?m(n,a[d]):""})}function t(n,c){let u=c;for(;u&&u.length>0;){const r=n.tokenizer[u];if(r)return r;const a=u.lastIndexOf(".");a<0?u=null:u=u.substr(0,a)}return null}function i(n,c){let u=c;for(;u&&u.length>0;){if(n.stateNames[u])return!0;const a=u.lastIndexOf(".");a<0?u=null:u=u.substr(0,a)}return!1}}),define(re[647],ae([1,0,363]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=t;function k(i,n){if(!n||!Array.isArray(n))return!1;for(const c of n)if(!i(c))return!1;return!0}function E(i,n){return typeof i=="boolean"?i:n}function I(i,n){return typeof i=="string"?i:n}function y(i){const n={};for(const c of i)n[c]=!0;return n}function m(i,n=!1){n&&(i=i.map(function(u){return u.toLowerCase()}));const c=y(i);return n?function(u){return c[u.toLowerCase()]!==void 0&&c.hasOwnProperty(u.toLowerCase())}:function(u){return c[u]!==void 0&&c.hasOwnProperty(u)}}function w(i,n,c){n=n.replace(/@@/g,"");let u=0,r;do r=!1,n=n.replace(/@(\w+)/g,function(l,d){r=!0;let p="";if(typeof i[d]=="string")p=i[d];else if(i[d]&&i[d]instanceof RegExp)p=i[d].source;else throw i[d]===void 0?f.createError(i,"language definition does not contain attribute '"+d+"', used at: "+n):f.createError(i,"attribute reference '"+d+"' must be a string, used at: "+n);return f.empty(p)?"":"(?:"+p+")"}),u++;while(r&&u<5);n=n.replace(/\x01/g,"@");const a=(i.ignoreCase?"i":"")+(i.unicode?"u":"");if(c&&n.match(/\$[sS](\d\d?)/g)){let d=null,p=null;return h=>(p&&d===h||(d=h,p=new RegExp(f.substituteMatchesRe(i,n,h),a)),p)}return new RegExp(n,a)}function b(i,n,c,u){if(u<0)return i;if(u<n.length)return n[u];if(u>=100){u=u-100;const r=c.split(".");if(r.unshift(c),u<r.length)return r[u]}return null}function v(i,n,c,u){let r=-1,a=c,l=c.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(r=parseInt(l[3]),l[2]&&(r=r+100)),a=l[4]);let d="~",p=a;!a||a.length===0?(d="!=",p=""):/^\w*$/.test(p)?d="==":(l=a.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(d=l[1],p=l[2]));let h;if((d==="~"||d==="!~")&&/^(\w|\|)*$/.test(p)){const g=m(p.split("|"),i.ignoreCase);h=function(C){return d==="~"?g(C):!g(C)}}else if(d==="@"||d==="!@"){const g=i[p];if(!g)throw f.createError(i,"the @ match target '"+p+"' is not defined, in rule: "+n);if(!k(function(S){return typeof S=="string"},g))throw f.createError(i,"the @ match target '"+p+"' must be an array of strings, in rule: "+n);const C=m(g,i.ignoreCase);h=function(S){return d==="@"?C(S):!C(S)}}else if(d==="~"||d==="!~")if(p.indexOf("$")<0){const g=w(i,"^"+p+"$",!1);h=function(C){return d==="~"?g.test(C):!g.test(C)}}else h=function(g,C,S,_){return w(i,"^"+f.substituteMatches(i,p,C,S,_)+"$",!1).test(g)};else if(p.indexOf("$")<0){const g=f.fixCase(i,p);h=function(C){return d==="=="?C===g:C!==g}}else{const g=f.fixCase(i,p);h=function(C,S,_,L,D){const T=f.substituteMatches(i,g,S,_,L);return d==="=="?C===T:C!==T}}return r===-1?{name:c,value:u,test:function(g,C,S,_){return h(g,g,C,S,_)}}:{name:c,value:u,test:function(g,C,S,_){const L=b(g,C,S,r);return h(L||"",g,C,S,_)}}}function s(i,n,c){if(c){if(typeof c=="string")return c;if(c.token||c.token===""){if(typeof c.token!="string")throw f.createError(i,"a 'token' attribute must be of type string, in rule: "+n);{const u={token:c.token};if(c.token.indexOf("$")>=0&&(u.tokenSubst=!0),typeof c.bracket=="string")if(c.bracket==="@open")u.bracket=1;else if(c.bracket==="@close")u.bracket=-1;else throw f.createError(i,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+n);if(c.next){if(typeof c.next!="string")throw f.createError(i,"the next state must be a string value in rule: "+n);{let r=c.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!f.stateExists(i,f.substituteMatches(i,r,"",[],""))))throw f.createError(i,"the next state '"+c.next+"' is not defined in rule: "+n);u.next=r}}return typeof c.goBack=="number"&&(u.goBack=c.goBack),typeof c.switchTo=="string"&&(u.switchTo=c.switchTo),typeof c.log=="string"&&(u.log=c.log),typeof c.nextEmbedded=="string"&&(u.nextEmbedded=c.nextEmbedded,i.usesEmbedded=!0),u}}else if(Array.isArray(c)){const u=[];for(let r=0,a=c.length;r<a;r++)u[r]=s(i,n,c[r]);return{group:u}}else if(c.cases){const u=[];for(const a in c.cases)if(c.cases.hasOwnProperty(a)){const l=s(i,n,c.cases[a]);a==="@default"||a==="@"||a===""?u.push({test:void 0,value:l,name:a}):a==="@eos"?u.push({test:function(d,p,h,g){return g},value:l,name:a}):u.push(v(i,n,a,l))}const r=i.defaultToken;return{test:function(a,l,d,p){for(const h of u)if(!h.test||h.test(a,l,d,p))return h.value;return r}}}else throw f.createError(i,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+n)}else return{token:""}}class o{constructor(n){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=n}setRegex(n,c){let u;if(typeof c=="string")u=c;else if(c instanceof RegExp)u=c.source;else throw f.createError(n,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=u.length>0&&u[0]==="^",this.name=this.name+": "+u,this.regex=w(n,"^(?:"+(this.matchOnlyAtLineStart?u.substr(1):u)+")",!0)}setAction(n,c){this.action=s(n,this.name,c)}resolveRegex(n){return this.regex instanceof RegExp?this.regex:this.regex(n)}}function t(i,n){if(!n||typeof n!="object")throw new Error("Monarch: expecting a language definition object");const c={languageId:i,includeLF:E(n.includeLF,!1),noThrow:!1,maxStack:100,start:typeof n.start=="string"?n.start:null,ignoreCase:E(n.ignoreCase,!1),unicode:E(n.unicode,!1),tokenPostfix:I(n.tokenPostfix,"."+i),defaultToken:I(n.defaultToken,"source"),usesEmbedded:!1,stateNames:{},tokenizer:{},brackets:[]},u=n;u.languageId=i,u.includeLF=c.includeLF,u.ignoreCase=c.ignoreCase,u.unicode=c.unicode,u.noThrow=c.noThrow,u.usesEmbedded=c.usesEmbedded,u.stateNames=n.tokenizer,u.defaultToken=c.defaultToken;function r(l,d,p){for(const h of p){let g=h.include;if(g){if(typeof g!="string")throw f.createError(c,"an 'include' attribute must be a string at: "+l);if(g[0]==="@"&&(g=g.substr(1)),!n.tokenizer[g])throw f.createError(c,"include target '"+g+"' is not defined at: "+l);r(l+"."+g,d,n.tokenizer[g])}else{const C=new o(l);if(Array.isArray(h)&&h.length>=1&&h.length<=3)if(C.setRegex(u,h[0]),h.length>=3)if(typeof h[1]=="string")C.setAction(u,{token:h[1],next:h[2]});else if(typeof h[1]=="object"){const S=h[1];S.next=h[2],C.setAction(u,S)}else throw f.createError(c,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+l);else C.setAction(u,h[1]);else{if(!h.regex)throw f.createError(c,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+l);h.name&&typeof h.name=="string"&&(C.name=h.name),h.matchOnlyAtStart&&(C.matchOnlyAtLineStart=E(h.matchOnlyAtLineStart,!1)),C.setRegex(u,h.regex),C.setAction(u,h.action)}d.push(C)}}}if(!n.tokenizer||typeof n.tokenizer!="object")throw f.createError(c,"a language definition must define the 'tokenizer' attribute as an object");c.tokenizer=[];for(const l in n.tokenizer)if(n.tokenizer.hasOwnProperty(l)){c.start||(c.start=l);const d=n.tokenizer[l];c.tokenizer[l]=new Array,r("tokenizer."+l,c.tokenizer[l],d)}if(c.usesEmbedded=u.usesEmbedded,n.brackets){if(!Array.isArray(n.brackets))throw f.createError(c,"the 'brackets' attribute must be defined as an array")}else n.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const a=[];for(const l of n.brackets){let d=l;if(d&&Array.isArray(d)&&d.length===3&&(d={token:d[2],open:d[0],close:d[1]}),d.open===d.close)throw f.createError(c,"open and close brackets in a 'brackets' attribute must be different: "+d.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof d.open=="string"&&typeof d.token=="string"&&typeof d.close=="string")a.push({token:d.token+c.tokenPostfix,open:f.fixCase(c,d.open),close:f.fixCase(c,d.close)});else throw f.createError(c,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return c.brackets=a,c.noThrow=!0,c}}),define(re[3],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.localize=E,e.localize2=y;const f=globalThis._VSCODE_NLS_LANGUAGE==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function k(m,w){let b;return w.length===0?b=m:b=m.replace(/\{(\d+)\}/g,(v,s)=>{const o=s[0],t=w[o];let i=v;return typeof t=="string"?i=t:(typeof t=="number"||typeof t=="boolean"||t===void 0||t===null)&&(i=String(t)),i}),f&&(b="\uFF3B"+b.replace(/[aouei]/g,"$&$&")+"\uFF3D"),b}function E(m,w,...b){return k(typeof m=="number"?I(m,w):w,b)}function I(m,w){var b;const v=(b=globalThis._VSCODE_NLS_MESSAGES)===null||b===void 0?void 0:b[m];if(typeof v!="string"){if(typeof w=="string")return w;throw new Error(`!!! NLS MISSING: ${m} !!!`)}return v}function y(m,w,...b){let v;typeof m=="number"?v=I(m,w):v=w;const s=k(v,b);return{value:s,original:w===v?s:k(w,b)}}}),define(re[364],ae([1,0,43,163,26,3]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const y=I.localize(1032,"Match Case"),m=I.localize(1033,"Match Whole Word"),w=I.localize(1034,"Use Regular Expression");class b extends k.Toggle{constructor(t){var i;super({icon:E.Codicon.caseSensitive,title:y+t.appendTitle,isChecked:t.isChecked,hoverDelegate:(i=t.hoverDelegate)!==null&&i!==void 0?i:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.CaseSensitiveToggle=b;class v extends k.Toggle{constructor(t){var i;super({icon:E.Codicon.wholeWord,title:m+t.appendTitle,isChecked:t.isChecked,hoverDelegate:(i=t.hoverDelegate)!==null&&i!==void 0?i:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.WholeWordsToggle=v;class s extends k.Toggle{constructor(t){var i;super({icon:E.Codicon.regex,title:w+t.appendTitle,isChecked:t.isChecked,hoverDelegate:(i=t.hoverDelegate)!==null&&i!==void 0?i:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.RegexToggle=s}),define(re[173],ae([1,0,4,45,85,2,3,472]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDownAction=e.ClickAction=e.HoverAction=e.HoverWidget=void 0,e.getHoverAccessibleViewHint=v;const m=f.$;class w extends I.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new E.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=w;class b extends I.Disposable{static render(i,n,c){return new b(i,n,c)}constructor(i,n,c){super(),this.actionLabel=n.label,this.actionKeybindingLabel=c,this.actionContainer=f.append(i,m("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=f.append(this.actionContainer,m("a.action")),this.action.setAttribute("role","button"),n.iconClass&&f.append(this.action,m(`span.icon.${n.iconClass}`));const u=f.append(this.action,m("span"));u.textContent=c?`${n.label} (${c})`:n.label,this._store.add(new s(this.actionContainer,n.run)),this._store.add(new o(this.actionContainer,n.run,[3,10])),this.setEnabled(!0)}setEnabled(i){i?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=b;function v(t,i){return t&&i?(0,y.localize)(1028,"Inspect this in the accessible view with {0}.",i):t?(0,y.localize)(1029,"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class s extends I.Disposable{constructor(i,n){super(),this._register(f.addDisposableListener(i,f.EventType.CLICK,c=>{c.stopPropagation(),c.preventDefault(),n(i)}))}}e.ClickAction=s;class o extends I.Disposable{constructor(i,n,c){super(),this._register(f.addDisposableListener(i,f.EventType.KEY_DOWN,u=>{const r=new k.StandardKeyboardEvent(u);c.some(a=>r.equals(a))&&(u.stopPropagation(),u.preventDefault(),n(i))}))}}e.KeyDownAction=o}),define(re[648],ae([1,0,4,92,45,192,82,43,112,13,6,70,2,16,3,483]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=f.$,c="selectOption.entry.template";class u{get templateId(){return c}renderTemplate(l){const d=Object.create(null);return d.root=l,d.text=f.append(l,n(".option-text")),d.detail=f.append(l,n(".option-detail")),d.decoratorRight=f.append(l,n(".option-decorator-right")),d}renderElement(l,d,p){const h=p,g=l.text,C=l.detail,S=l.decoratorRight,_=l.isDisabled;h.text.textContent=g,h.detail.textContent=C||"",h.decoratorRight.innerText=S||"",_?h.root.classList.add("option-disabled"):h.root.classList.remove("option-disabled")}disposeTemplate(l){}}class r extends o.Disposable{constructor(l,d,p,h,g){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=h,this.selectBoxOptions=g||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=r.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new v.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(p),this.selected=d||0,l&&this.setOptions(l,d),this.initStyleSheet()}setTitle(l){!this._hover&&l?this._hover=this._register((0,y.getBaseLayerHoverDelegate)().setupManagedHover((0,m.getDefaultHoverDelegate)("mouse"),this.selectElement,l)):this._hover&&this._hover.update(l)}getHeight(){return 22}getTemplateId(){return c}constructSelectDropDown(l){this.contextViewProvider=l,this.selectDropDownContainer=f.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=f.append(this.selectDropDownContainer,n(".select-box-details-pane"));const d=f.append(this.selectDropDownContainer,n(".select-box-dropdown-container-width-control")),p=f.append(d,n(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",f.append(p,this.widthControlElement),this._dropDownPosition=0,this.styleElement=f.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.DRAG_START,h=>{f.EventHelper.stop(h,!0)}))}registerListeners(){this._register(f.addStandardDisposableListener(this.selectElement,"change",d=>{this.selected=d.target.selectedIndex,this._onDidSelect.fire({index:d.target.selectedIndex,selected:d.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(f.addDisposableListener(this.selectElement,f.EventType.CLICK,d=>{f.EventHelper.stop(d),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.MOUSE_DOWN,d=>{f.EventHelper.stop(d)}));let l;this._register(f.addDisposableListener(this.selectElement,"touchstart",d=>{l=this._isVisible})),this._register(f.addDisposableListener(this.selectElement,"touchend",d=>{f.EventHelper.stop(d),l?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.KEY_DOWN,d=>{const p=new E.StandardKeyboardEvent(d);let h=!1;t.isMacintosh?(p.keyCode===18||p.keyCode===16||p.keyCode===10||p.keyCode===3)&&(h=!0):(p.keyCode===18&&p.altKey||p.keyCode===16&&p.altKey||p.keyCode===10||p.keyCode===3)&&(h=!0),h&&(this.showSelectDropDown(),f.EventHelper.stop(d,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(l,d){b.equals(this.options,l)||(this.options=l,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((p,h)=>{this.selectElement.add(this.createOption(p.text,h,p.isDisabled)),typeof p.description=="string"&&(this._hasDetails=!0)})),d!==void 0&&(this.select(d),this._currentSelection=this.selected)}setOptionsList(){var l;(l=this.selectList)===null||l===void 0||l.splice(0,this.selectList.length,this.options)}select(l){l>=0&&l<this.options.length?this.selected=l:l>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(l){this.selectElement.tabIndex=l?0:-1}render(l){this.container=l,l.classList.add("select-container"),l.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const l=[];this.styles.listFocusBackground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(l.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),l.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&l.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),l.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),l.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=l.join(`
`)}styleSelectElement(){var l,d,p;const h=(l=this.styles.selectBackground)!==null&&l!==void 0?l:"",g=(d=this.styles.selectForeground)!==null&&d!==void 0?d:"",C=(p=this.styles.selectBorder)!==null&&p!==void 0?p:"";this.selectElement.style.backgroundColor=h,this.selectElement.style.color=g,this.selectElement.style.borderColor=C}styleList(){var l,d;const p=(l=this.styles.selectBackground)!==null&&l!==void 0?l:"",h=f.asCssValueWithDefault(this.styles.selectListBackground,p);this.selectDropDownListContainer.style.backgroundColor=h,this.selectionDetailsPane.style.backgroundColor=h;const g=(d=this.styles.focusBorder)!==null&&d!==void 0?d:"";this.selectDropDownContainer.style.outlineColor=g,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(l,d,p){const h=document.createElement("option");return h.value=l,h.text=l,h.disabled=!!p,h}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:l=>this.renderSelectDropDown(l,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:l=>this.renderSelectDropDown(l),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(l){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),l&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(l,d){return l.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(d),{dispose:()=>{this.selectDropDownContainer.remove()}}}measureMaxDetailsHeight(){let l=0;return this.options.forEach((d,p)=>{this.updateDetail(p),this.selectionDetailsPane.offsetHeight>l&&(l=this.selectionDetailsPane.offsetHeight)}),l}layoutSelectDropDown(l){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const d=f.getWindow(this.selectElement),p=f.getDomNodePagePosition(this.selectElement),h=f.getWindow(this.selectElement).getComputedStyle(this.selectElement),g=parseFloat(h.getPropertyValue("--dropdown-padding-top"))+parseFloat(h.getPropertyValue("--dropdown-padding-bottom")),C=d.innerHeight-p.top-p.height-(this.selectBoxOptions.minBottomMargin||0),S=p.top-r.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,_=this.selectElement.offsetWidth,L=this.setWidthControlElement(this.widthControlElement),D=Math.max(L,Math.round(_)).toString()+"px";this.selectDropDownContainer.style.width=D,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let T=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const N=this._hasDetails?this._cachedMaxDetailsHeight:0,A=T+g+N,R=Math.floor((C-g-N)/this.getHeight()),M=Math.floor((S-g-N)/this.getHeight());if(l)return p.top+p.height>d.innerHeight-22||p.top<r.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||R<1&&M<1?!1:(R<r.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&M>R&&this.options.length>R?(this._dropDownPosition=1,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(p.top+p.height>d.innerHeight-22||p.top<r.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&R<1||this._dropDownPosition===1&&M<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&R+M<1)return this.hideSelectDropDown(!0),!1;A>C&&(T=R*this.getHeight())}else A>S&&(T=M*this.getHeight());return this.selectList.layout(T),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=T+g+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=T+g+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=D,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(l){let d=0;if(l){let p=0,h=0;this.options.forEach((g,C)=>{const S=g.detail?g.detail.length:0,_=g.decoratorRight?g.decoratorRight.length:0,L=g.text.length+S+_;L>h&&(p=C,h=L)}),l.textContent=this.options[p].text+(this.options[p].decoratorRight?this.options[p].decoratorRight+" ":""),d=f.getTotalWidth(l)}return d}createSelectList(l){if(this.selectList)return;this.selectDropDownListContainer=f.append(l,n(".select-box-dropdown-list-container")),this.listRenderer=new u,this.selectList=new w.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:h=>{let g=h.text;return h.detail&&(g+=`. ${h.detail}`),h.decoratorRight&&(g+=`. ${h.decoratorRight}`),h.description&&(g+=`. ${h.description}`),g},getWidgetAriaLabel:()=>(0,i.localize)(1021,"Select Box"),getRole:()=>t.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const d=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),p=v.Event.chain(d.event,h=>h.filter(()=>this.selectList.length>0).map(g=>new E.StandardKeyboardEvent(g)));this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===3))(this.onEnter,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===2))(this.onEnter,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===9))(this.onEscape,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===16))(this.onUpArrow,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===18))(this.onDownArrow,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===12))(this.onPageDown,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===11))(this.onPageUp,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===14))(this.onHome,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode===13))(this.onEnd,this)),this._register(v.Event.chain(p,h=>h.filter(g=>g.keyCode>=21&&g.keyCode<=56||g.keyCode>=85&&g.keyCode<=113))(this.onCharacter,this)),this._register(f.addDisposableListener(this.selectList.getHTMLElement(),f.EventType.POINTER_UP,h=>this.onPointerUp(h))),this._register(this.selectList.onMouseOver(h=>typeof h.index<"u"&&this.selectList.setFocus([h.index]))),this._register(this.selectList.onDidChangeFocus(h=>this.onListFocus(h))),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.FOCUS_OUT,h=>{!this._isVisible||f.isAncestor(h.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(l){if(!this.selectList.length)return;f.EventHelper.stop(l);const d=l.target;if(!d||d.classList.contains("slider"))return;const p=d.closest(".monaco-list-row");if(!p)return;const h=Number(p.getAttribute("data-index")),g=p.classList.contains("option-disabled");h>=0&&h<this.options.length&&!g&&(this.selected=h,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(l,d){const p=g=>{for(let C=0;C<g.childNodes.length;C++){const S=g.childNodes.item(C);(S.tagName&&S.tagName.toLowerCase())==="img"?S.remove():p(S)}},h=(0,I.renderMarkdown)({value:l,supportThemeIcons:!0},{actionHandler:d});return h.element.classList.add("select-box-description-markdown"),p(h.element),h.element}onListFocus(l){!this._isVisible||!this._hasDetails||this.updateDetail(l.indexes[0])}updateDetail(l){var d,p;this.selectionDetailsPane.innerText="";const h=this.options[l],g=(d=h?.description)!==null&&d!==void 0?d:"",C=(p=h?.descriptionIsMarkdown)!==null&&p!==void 0?p:!1;if(g){if(C){const S=h.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(g,S))}else this.selectionDetailsPane.innerText=g;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(l){f.EventHelper.stop(l),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(l){f.EventHelper.stop(l),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(l){if(this.selected<this.options.length-1){f.EventHelper.stop(l,!0);const d=this.options[this.selected+1].isDisabled;if(d&&this.options.length>this.selected+2)this.selected+=2;else{if(d)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(l){this.selected>0&&(f.EventHelper.stop(l,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(l){f.EventHelper.stop(l),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(l){f.EventHelper.stop(l),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(l){f.EventHelper.stop(l),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(l){f.EventHelper.stop(l),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(l){const d=s.KeyCodeUtils.toString(l.keyCode);let p=-1;for(let h=0;h<this.options.length-1;h++)if(p=(h+this.selected+1)%this.options.length,this.options[p].text.charAt(0).toUpperCase()===d&&!this.options[p].isDisabled){this.select(p),this.selectList.setFocus([p]),this.selectList.reveal(this.selectList.getFocus()[0]),f.EventHelper.stop(l);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=r,r.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,r.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,r.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(re[649],ae([1,0,648,461,84,16,482]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class y extends E.Widget{constructor(w,b,v,s,o){super(),I.isMacintosh&&!o?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(w,b,s,o):this.selectBoxDelegate=new f.SelectBoxList(w,b,v,s,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(w,b){this.selectBoxDelegate.setOptions(w,b)}select(w){this.selectBoxDelegate.select(w)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(w){this.selectBoxDelegate.setFocusable(w)}render(w){this.selectBoxDelegate.render(w)}}e.SelectBox=y}),define(re[40],ae([1,0,6,2,3]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0,e.toAction=v;class I extends k.Disposable{constructor(o,t="",i="",n=!0,c){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=o,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=c}get id(){return this._id}get label(){return this._label}set label(o){this._setLabel(o)}_setLabel(o){this._label!==o&&(this._label=o,this._onDidChange.fire({label:o}))}get tooltip(){return this._tooltip||""}set tooltip(o){this._setTooltip(o)}_setTooltip(o){this._tooltip!==o&&(this._tooltip=o,this._onDidChange.fire({tooltip:o}))}get class(){return this._cssClass}set class(o){this._setClass(o)}_setClass(o){this._cssClass!==o&&(this._cssClass=o,this._onDidChange.fire({class:o}))}get enabled(){return this._enabled}set enabled(o){this._setEnabled(o)}_setEnabled(o){this._enabled!==o&&(this._enabled=o,this._onDidChange.fire({enabled:o}))}get checked(){return this._checked}set checked(o){this._setChecked(o)}_setChecked(o){this._checked!==o&&(this._checked=o,this._onDidChange.fire({checked:o}))}async run(o,t){this._actionCallback&&await this._actionCallback(o)}}e.Action=I;class y extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new f.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new f.Emitter),this.onDidRun=this._onDidRun.event}async run(o,t){if(!o.enabled)return;this._onWillRun.fire({action:o});let i;try{await this.runAction(o,t)}catch(n){i=n}this._onDidRun.fire({action:o,error:i})}async runAction(o,t){await o.run(t)}}e.ActionRunner=y;class m{constructor(){this.id=m.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...o){let t=[];for(const i of o)i.length&&(t.length?t=[...t,new m,...i]:t=i);return t}async run(){}}e.Separator=m,m.ID="vs.actions.separator";class w{get actions(){return this._actions}constructor(o,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=o,this.label=t,this.class=n,this._actions=i}async run(){}}e.SubmenuAction=w;class b extends I{constructor(){super(b.ID,E.localize(1853,"(empty)"),void 0,!1)}}e.EmptySubmenuAction=b,b.ID="vs.actions.empty";function v(s){var o,t;return{id:s.id,label:s.label,tooltip:(o=s.tooltip)!==null&&o!==void 0?o:s.label,class:s.class,enabled:(t=s.enabled)!==null&&t!==void 0?t:!0,checked:s.checked,run:async(...i)=>s.run(...i)}}}),define(re[148],ae([1,0,65,221,4,68,43,649,40,2,16,19,3,82,309]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class i extends b.Disposable{get action(){return this._action}constructor(r,a,l={}){super(),this.options=l,this._context=r||this,this._action=a,a instanceof w.Action&&this._register(a.onDidChange(d=>{this.element&&this.handleActionChangeEvent(d)}))}handleActionChangeEvent(r){r.enabled!==void 0&&this.updateEnabled(),r.checked!==void 0&&this.updateChecked(),r.class!==void 0&&this.updateClass(),r.label!==void 0&&(this.updateLabel(),this.updateTooltip()),r.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.ActionRunner)),this._actionRunner}set actionRunner(r){this._actionRunner=r}isEnabled(){return this._action.enabled}setActionContext(r){this._context=r}render(r){const a=this.element=r;this._register(I.Gesture.addTarget(r));const l=this.options&&this.options.draggable;l&&(r.draggable=!0,f.isFirefox&&this._register((0,E.addDisposableListener)(r,E.EventType.DRAG_START,d=>{var p;return(p=d.dataTransfer)===null||p===void 0?void 0:p.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,E.addDisposableListener)(a,I.EventType.Tap,d=>this.onClick(d,!0))),this._register((0,E.addDisposableListener)(a,E.EventType.MOUSE_DOWN,d=>{l||E.EventHelper.stop(d,!0),this._action.enabled&&d.button===0&&a.classList.add("active")})),v.isMacintosh&&this._register((0,E.addDisposableListener)(a,E.EventType.CONTEXT_MENU,d=>{d.button===0&&d.ctrlKey===!0&&this.onClick(d)})),this._register((0,E.addDisposableListener)(a,E.EventType.CLICK,d=>{E.EventHelper.stop(d,!0),this.options&&this.options.isMenu||this.onClick(d)})),this._register((0,E.addDisposableListener)(a,E.EventType.DBLCLICK,d=>{E.EventHelper.stop(d,!0)})),[E.EventType.MOUSE_UP,E.EventType.MOUSE_OUT].forEach(d=>{this._register((0,E.addDisposableListener)(a,d,p=>{E.EventHelper.stop(p),a.classList.remove("active")}))})}onClick(r,a=!1){var l;E.EventHelper.stop(r,!0);const d=s.isUndefinedOrNull(this._context)?!((l=this.options)===null||l===void 0)&&l.useEventAsContext?r:{preserveFocus:a}:this._context;this.actionRunner.run(this._action,d)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(r){this.element&&(this.element.tabIndex=r?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var r,a,l;if(!this.element)return;const d=(r=this.getTooltip())!==null&&r!==void 0?r:"";if(this.updateAriaLabel(),!((a=this.options.hoverDelegate)===null||a===void 0)&&a.showNativeHover)this.element.title=d;else if(!this.customHover&&d!==""){const p=(l=this.options.hoverDelegate)!==null&&l!==void 0?l:(0,y.getDefaultHoverDelegate)("element");this.customHover=this._store.add((0,t.getBaseLayerHoverDelegate)().setupManagedHover(p,this.element,d))}else this.customHover&&this.customHover.update(d)}updateAriaLabel(){var r;if(this.element){const a=(r=this.getTooltip())!==null&&r!==void 0?r:"";this.element.setAttribute("aria-label",a)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=i;class n extends i{constructor(r,a,l){super(r,a,l),this.options=l,this.options.icon=l.icon!==void 0?l.icon:!1,this.options.label=l.label!==void 0?l.label:!0,this.cssClass=""}render(r){super.render(r),s.assertType(this.element);const a=document.createElement("a");if(a.classList.add("action-label"),a.setAttribute("role",this.getDefaultAriaRole()),this.label=a,this.element.appendChild(a),this.options.label&&this.options.keybinding){const l=document.createElement("span");l.classList.add("keybinding"),l.textContent=this.options.keybinding,this.element.appendChild(l)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===w.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(r){this.label&&(this.label.tabIndex=r?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let r=null;return this.action.tooltip?r=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(r=this.action.label,this.options.keybinding&&(r=o.localize(1036,"{0} ({1})",r,this.options.keybinding))),r??void 0}updateClass(){var r;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(r=this.label)===null||r===void 0||r.classList.remove("codicon")}updateEnabled(){var r,a;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(r=this.element)===null||r===void 0||r.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(a=this.element)===null||a===void 0||a.classList.add("disabled"))}updateAriaLabel(){var r;if(this.label){const a=(r=this.getTooltip())!==null&&r!==void 0?r:"";this.label.setAttribute("aria-label",a)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=n;class c extends i{constructor(r,a,l,d,p,h,g){super(r,a),this.selectBox=new m.SelectBox(l,d,p,h,g),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(r){this.selectBox.select(r)}registerListeners(){this._register(this.selectBox.onDidSelect(r=>this.runAction(r.selected,r.index)))}runAction(r,a){this.actionRunner.run(this._action,this.getActionContext(r,a))}getActionContext(r,a){return r}setFocusable(r){this.selectBox.setFocusable(r)}focus(){var r;(r=this.selectBox)===null||r===void 0||r.focus()}blur(){var r;(r=this.selectBox)===null||r===void 0||r.blur()}render(r){this.selectBox.render(r)}}e.SelectActionViewItem=c}),define(re[87],ae([1,0,4,45,148,43,40,6,2,19,309]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class v extends w.Disposable{constructor(o,t={}){var i,n,c,u,r,a,l;super(),this._actionRunnerDisposables=this._register(new w.DisposableStore),this.viewItemDisposables=this._register(new w.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new m.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new m.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new m.Emitter),this.onWillRun=this._onWillRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(u=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keyDown)!==null&&u!==void 0?u:!1,keys:(a=(r=this.options.triggerKeys)===null||r===void 0?void 0:r.keys)!==null&&a!==void 0?a:[3,10]},this._hoverDelegate=(l=t.hoverDelegate)!==null&&l!==void 0?l:this._register((0,I.createInstantHoverDelegate)()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new y.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(h=>this._onWillRun.fire(h))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let d,p;switch(this._orientation){case 0:d=[15],p=[17];break;case 1:d=[16],p=[18],this.domNode.className+=" vertical";break}this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_DOWN,h=>{const g=new k.StandardKeyboardEvent(h);let C=!0;const S=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;d&&(g.equals(d[0])||g.equals(d[1]))?C=this.focusPrevious():p&&(g.equals(p[0])||g.equals(p[1]))?C=this.focusNext():g.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():g.equals(14)?C=this.focusFirst():g.equals(13)?C=this.focusLast():g.equals(2)&&S instanceof E.BaseActionViewItem&&S.trapsArrowNavigation?C=this.focusNext():this.isTriggerKeyEvent(g)?this._triggerKeys.keyDown?this.doTrigger(g):this.triggerKeyDown=!0:C=!1,C&&(g.preventDefault(),g.stopPropagation())})),this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_UP,h=>{const g=new k.StandardKeyboardEvent(h);this.isTriggerKeyEvent(g)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(g)),g.preventDefault(),g.stopPropagation()):(g.equals(2)||g.equals(1026)||g.equals(16)||g.equals(18)||g.equals(15)||g.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(f.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(f.getActiveElement()===this.domNode||!f.isAncestor(f.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),o.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(o){if(this.focusable=o,this.focusable){const t=this.viewItems.find(i=>i instanceof E.BaseActionViewItem&&i.isEnabled());t instanceof E.BaseActionViewItem&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof E.BaseActionViewItem&&t.setFocusable(!1)})}isTriggerKeyEvent(o){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||o.equals(i)}),t}updateFocusedItem(){var o,t;for(let i=0;i<this.actionsList.children.length;i++){const n=this.actionsList.children[i];if(f.isAncestor(f.getActiveElement(),n)){this.focusedItem=i,(t=(o=this.viewItems[this.focusedItem])===null||o===void 0?void 0:o.showHover)===null||t===void 0||t.call(o);break}}}get context(){return this._context}set context(o){this._context=o,this.viewItems.forEach(t=>t.setActionContext(o))}get actionRunner(){return this._actionRunner}set actionRunner(o){this._actionRunner=o,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=o)}getContainer(){return this.domNode}getAction(o){var t;if(typeof o=="number")return(t=this.viewItems[o])===null||t===void 0?void 0:t.action;if(f.isHTMLElement(o)){for(;o.parentElement!==this.actionsList;){if(!o.parentElement)return;o=o.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===o)return this.viewItems[i].action}}push(o,t={}){const i=Array.isArray(o)?o:[o];let n=b.isNumber(t.index)?t.index:null;i.forEach(c=>{const u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation");let r;const a={hoverDelegate:this._hoverDelegate,...t};this.options.actionViewItemProvider&&(r=this.options.actionViewItemProvider(c,a)),r||(r=new E.ActionViewItem(this.context,c,a)),this.options.allowContextMenu||this.viewItemDisposables.set(r,f.addDisposableListener(u,f.EventType.CONTEXT_MENU,l=>{f.EventHelper.stop(l,!0)})),r.actionRunner=this._actionRunner,r.setActionContext(this.context),r.render(u),this.focusable&&r instanceof E.BaseActionViewItem&&this.viewItems.length===0&&r.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(r)):(this.actionsList.insertBefore(u,this.actionsList.children[n]),this.viewItems.splice(n,0,r),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,w.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),f.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(o){let t=!1,i;if(o===void 0?t=!0:typeof o=="number"?i=o:typeof o=="boolean"&&(t=o),t&&typeof this.focusedItem>"u"){const n=this.viewItems.findIndex(c=>c.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(o){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!o&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===y.Separator.ID));return this.updateFocus(),!0}focusPrevious(o){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!o&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===y.Separator.ID));return this.updateFocus(!0),!0}updateFocus(o,t,i=!1){var n,c;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const u=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(u){let r=!0;b.isFunction(u.focus)||(r=!1),this.options.focusOnlyEnabledItems&&b.isFunction(u.isEnabled)&&!u.isEnabled()&&(r=!1),u.action.id===y.Separator.ID&&(r=!1),r?(i||this.previouslyFocusedItem!==this.focusedItem)&&(u.focus(o),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),r&&((c=u.showHover)===null||c===void 0||c.call(u))}}doTrigger(o){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof E.BaseActionViewItem){const i=t._context===null||t._context===void 0?o:t._context;this.run(t._action,i)}}async run(o,t){await this._actionRunner.run(o,t)}dispose(){this._context=void 0,this.viewItems=(0,w.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=v}),define(re[650],ae([1,0,4,45,68,40,6,312]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class m extends I.ActionRunner{constructor(v,s){super(),this._onDidChangeVisibility=this._register(new y.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,f.append)(v,(0,f.$)(".monaco-dropdown")),this._label=(0,f.append)(this._element,(0,f.$)(".dropdown-label"));let o=s.labelRenderer;o||(o=i=>(i.textContent=s.label||"",null));for(const i of[f.EventType.CLICK,f.EventType.MOUSE_DOWN,E.EventType.Tap])this._register((0,f.addDisposableListener)(this.element,i,n=>f.EventHelper.stop(n,!0)));for(const i of[f.EventType.MOUSE_DOWN,E.EventType.Tap])this._register((0,f.addDisposableListener)(this._label,i,n=>{(0,f.isMouseEvent)(n)&&(n.detail>1||n.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,f.addDisposableListener)(this._label,f.EventType.KEY_UP,i=>{const n=new k.StandardKeyboardEvent(i);(n.equals(3)||n.equals(10))&&(f.EventHelper.stop(i,!0),this.visible?this.hide():this.show())}));const t=o(this._label);t&&this._register(t),this._register(E.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class w extends m{constructor(v,s){super(v,s),this._options=s,this._actions=[],this.actions=s.actions||[]}set menuOptions(v){this._menuOptions=v}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(v){this._actions=v}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(v,s)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(v,s):void 0,getKeyBinding:v=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(v):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=w}),define(re[365],ae([1,0,4,148,650,6,43,82,312]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends k.BaseActionViewItem{constructor(v,s,o,t=Object.create(null)){super(null,v,t),this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=s,this.contextMenuProvider=o,this.options=t,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const s=i=>{var n;this.element=(0,f.append)(i,(0,f.$)("a.action-label"));let c=[];return typeof this.options.classNames=="string"?c=this.options.classNames.split(/\s+/g).filter(u=>!!u):this.options.classNames&&(c=this.options.classNames),c.find(u=>u==="icon")||c.push("codicon"),this.element.classList.add(...c),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,m.getBaseLayerHoverDelegate)().setupManagedHover((n=this.options.hoverDelegate)!==null&&n!==void 0?n:(0,y.getDefaultHoverDelegate)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},o=Array.isArray(this.menuActionsOrProvider),t={contextMenuProvider:this.contextMenuProvider,labelRenderer:s,menuAsChild:this.options.menuAsChild,actions:o?this.menuActionsOrProvider:void 0,actionProvider:o?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new E.DropdownMenu(v,t)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return i.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let v=null;return this.action.tooltip?v=this.action.tooltip:this.action.label&&(v=this.action.label),v??void 0}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}show(){var v;(v=this.dropdownMenu)===null||v===void 0||v.show()}updateEnabled(){var v,s;const o=!this.action.enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",o),(s=this.element)===null||s===void 0||s.classList.toggle("disabled",o)}}e.DropdownMenuActionViewItem=w}),define(re[258],ae([1,0,4,92,305,87,47,82,43,85,84,6,447,54,3,474]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const n=f.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class c extends v.Widget{constructor(a,l,d){var p;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new s.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new s.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=d,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(p=this.options.tooltip)!==null&&p!==void 0?p:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=f.append(a,n(".monaco-inputbox.idle"));const h=this.options.flexibleHeight?"textarea":"input",g=f.append(this.element,n(".ibwrapper"));if(this.input=f.append(g,n(h+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=f.append(g,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),f.append(a,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(_=>this.input.scrollTop=_.scrollTop));const C=this._register(new k.DomEmitter(a.ownerDocument,"selectionchange")),S=s.Event.filter(C.event,()=>{const _=a.ownerDocument.getSelection();return _?.anchorNode===g});this._register(S(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new I.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(a){this.placeholder=a,this.input.setAttribute("placeholder",a)}setTooltip(a){this.tooltip=a,this.hover?this.hover.update(a):this.hover=this._register((0,m.getBaseLayerHoverDelegate)().setupManagedHover((0,w.getDefaultHoverDelegate)("mouse"),this.input,a))}get inputElement(){return this.input}get value(){return this.input.value}set value(a){this.input.value!==a&&(this.input.value=a,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:f.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return f.isActiveElement(this.input)}select(a=null){this.input.select(),a&&(this.input.setSelectionRange(a.start,a.end),a.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){var a;const l=this.input.selectionStart;if(l===null)return null;const d=(a=this.input.selectionEnd)!==null&&a!==void 0?a:l;return{start:l,end:d}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(a){this.input.style.width=`calc(100% - ${a}px)`,this.mirror&&(this.mirror.style.paddingRight=a+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const a=this.cachedContentHeight,l=this.cachedHeight,d=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:a,height:l}),this.scrollableElement.setScrollPosition({scrollTop:d})}showMessage(a,l){if(this.state==="open"&&(0,t.equals)(this.message,a))return;this.message=a,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(a.type));const d=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${f.asCssValueWithDefault(d.border,"transparent")}`,this.message.content&&(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let a=null;return this.validation&&(a=this.validation(this.value),a?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(a)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),a?.type}stylesForType(a){const l=this.options.inputBoxStyles;switch(a){case 1:return{border:l.inputValidationInfoBorder,background:l.inputValidationInfoBackground,foreground:l.inputValidationInfoForeground};case 2:return{border:l.inputValidationWarningBorder,background:l.inputValidationWarningBackground,foreground:l.inputValidationWarningForeground};default:return{border:l.inputValidationErrorBorder,background:l.inputValidationErrorBackground,foreground:l.inputValidationErrorForeground}}}classForType(a){switch(a){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let a;const l=()=>a.style.width=f.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:p=>{var h,g;if(!this.message)return null;a=f.append(p,n(".monaco-inputbox-container")),l();const C={inline:!0,className:"monaco-inputbox-message"},S=this.message.formatContent?(0,E.renderFormattedText)(this.message.content,C):(0,E.renderText)(this.message.content,C);S.classList.add(this.classForType(this.message.type));const _=this.stylesForType(this.message.type);return S.style.backgroundColor=(h=_.background)!==null&&h!==void 0?h:"",S.style.color=(g=_.foreground)!==null&&g!==void 0?g:"",S.style.border=_.border?`1px solid ${_.border}`:"",f.append(a,S),null},onHide:()=>{this.state="closed"},layout:l});let d;this.message.type===3?d=i.localize(1022,"Error: {0}",this.message.content):this.message.type===2?d=i.localize(1023,"Warning: {0}",this.message.content):d=i.localize(1024,"Info: {0}",this.message.content),y.alert(d),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const a=this.value,d=a.charCodeAt(a.length-1)===10?" ":"";(a+d).replace(/\u000c/g,"")?this.mirror.textContent=a+d:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var a,l,d;const p=this.options.inputBoxStyles,h=(a=p.inputBackground)!==null&&a!==void 0?a:"",g=(l=p.inputForeground)!==null&&l!==void 0?l:"",C=(d=p.inputBorder)!==null&&d!==void 0?d:"";this.element.style.backgroundColor=h,this.element.style.color=g,this.input.style.backgroundColor="inherit",this.input.style.color=g,this.element.style.border=`1px solid ${f.asCssValueWithDefault(C,"transparent")}`}layout(){if(!this.mirror)return;const a=this.cachedContentHeight;this.cachedContentHeight=f.getTotalHeight(this.mirror),a!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(a){const l=this.inputElement,d=l.selectionStart,p=l.selectionEnd,h=l.value;d!==null&&p!==null&&(this.value=h.substr(0,d)+a+h.substr(p),l.setSelectionRange(d+1,d+1),this.layout())}dispose(){var a;this._hideMessage(),this.message=null,(a=this.actionbar)===null||a===void 0||a.dispose(),super.dispose()}}e.InputBox=c;class u extends c{constructor(a,l,d){const p=i.localize(1025," or {0} for history","\u21C5"),h=i.localize(1026," ({0} for history)","\u21C5");super(a,l,d),this._onDidFocus=this._register(new s.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new s.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new o.HistoryNavigator(d.history,100);const g=()=>{if(d.showHistoryHint&&d.showHistoryHint()&&!this.placeholder.endsWith(p)&&!this.placeholder.endsWith(h)&&this.history.getHistory().length){const C=this.placeholder.endsWith(")")?p:h,S=this.placeholder+C;d.showPlaceholderOnFocus&&!f.isActiveElement(this.input)?this.placeholder=S:this.setPlaceHolder(S)}};this.observer=new MutationObserver((C,S)=>{C.forEach(_=>{_.target.textContent||g()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>g()),this.onblur(this.input,()=>{const C=S=>{if(this.placeholder.endsWith(S)){const _=this.placeholder.slice(0,this.placeholder.length-S.length);return d.showPlaceholderOnFocus?this.placeholder=_:this.setPlaceHolder(_),!0}else return!1};C(h)||C(p)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(a){this.value&&(a||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let a=this.getNextValue();a&&(a=a===this.value?this.getNextValue():a),this.value=a??"",y.status(this.value?this.value:i.localize(1027,"Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let a=this.getPreviousValue();a&&(a=a===this.value?this.getPreviousValue():a),a&&(this.value=a,y.status(this.value))}setPlaceHolder(a){super.setPlaceHolder(a),this.setTooltip(a)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let a=this.history.current();return a||(a=this.history.last(),this.history.next()),a}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=u}),define(re[259],ae([1,0,4,364,258,84,6,3,2,43,313]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=m.localize(1035,"input");class s extends I.Widget{constructor(t,i,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new w.MutableDisposable),this.additionalToggles=[],this._onDidOptionChange=this._register(new y.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new y.Emitter),this._onKeyUp=this._register(new y.Emitter),this._onCaseSensitiveKeyDown=this._register(new y.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new y.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||v,this.showCommonFindToggles=!!n.showCommonFindToggles;const c=n.appendCaseSensitiveLabel||"",u=n.appendWholeWordsLabel||"",r=n.appendRegexLabel||"",a=n.history||[],l=!!n.flexibleHeight,d=!!n.flexibleWidth,p=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new E.HistoryInputBox(this.domNode,i,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:n.showHistoryHint,flexibleHeight:l,flexibleWidth:d,flexibleMaxHeight:p,inputBoxStyles:n.inputBoxStyles}));const h=this._register((0,b.createInstantHoverDelegate)());if(this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle({appendTitle:r,isChecked:!1,hoverDelegate:h,...n.toggleStyles})),this._register(this.regex.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(C=>{this._onRegexKeyDown.fire(C)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:u,isChecked:!1,hoverDelegate:h,...n.toggleStyles})),this._register(this.wholeWords.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:c,isChecked:!1,hoverDelegate:h,...n.toggleStyles})),this._register(this.caseSensitive.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(C=>{this._onCaseSensitiveKeyDown.fire(C)}));const g=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,C=>{if(C.equals(15)||C.equals(17)||C.equals(9)){const S=g.indexOf(this.domNode.ownerDocument.activeElement);if(S>=0){let _=-1;C.equals(17)?_=(S+1)%g.length:C.equals(15)&&(S===0?_=g.length-1:_=S-1),C.equals(9)?(g[S].blur(),this.inputBox.focus()):_>=0&&g[_].focus(),f.EventHelper.stop(C,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),t?.appendChild(this.domNode),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionstart",g=>{this.imeSessionInProgress=!0})),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionend",g=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}get onDidChange(){return this.inputBox.onDidChange}layout(t){this.inputBox.layout(),this.updateInputBoxPadding(t.collapsedFindWidget)}enable(){var t,i,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(t=this.regex)===null||t===void 0||t.enable(),(i=this.wholeWords)===null||i===void 0||i.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const c of this.additionalToggles)c.enable()}disable(){var t,i,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(t=this.regex)===null||t===void 0||t.disable(),(i=this.wholeWords)===null||i===void 0||i.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const c of this.additionalToggles)c.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}setAdditionalToggles(t){for(const i of this.additionalToggles)i.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new w.DisposableStore;for(const i of t??[])this.additionalTogglesDisposables.value.add(i),this.controls.appendChild(i.domNode),this.additionalTogglesDisposables.value.add(i.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(i);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(t=!1){var i,n,c,u,r,a;t?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(i=this.caseSensitive)===null||i===void 0?void 0:i.width())!==null&&n!==void 0?n:0)+((u=(c=this.wholeWords)===null||c===void 0?void 0:c.width())!==null&&u!==void 0?u:0)+((a=(r=this.regex)===null||r===void 0?void 0:r.width())!==null&&a!==void 0?a:0)+this.additionalToggles.reduce((l,d)=>l+d.width(),0)}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var t,i;return(i=(t=this.caseSensitive)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0?i:!1}setCaseSensitive(t){this.caseSensitive&&(this.caseSensitive.checked=t)}getWholeWords(){var t,i;return(i=(t=this.wholeWords)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0?i:!1}setWholeWords(t){this.wholeWords&&(this.wholeWords.checked=t)}getRegex(){var t,i;return(i=(t=this.regex)===null||t===void 0?void 0:t.checked)!==null&&i!==void 0?i:!1}setRegex(t){this.regex&&(this.regex.checked=t,this.validate())}focusOnCaseSensitive(){var t;(t=this.caseSensitive)===null||t===void 0||t.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(t){this.inputBox.showMessage(t)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=s}),define(re[651],ae([1,0,4,163,258,84,26,6,3,43,313]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const v=w.localize(1030,"input"),s=w.localize(1031,"Preserve Case");class o extends k.Toggle{constructor(n){var c;super({icon:y.Codicon.preserveCase,title:s+n.appendTitle,isChecked:n.isChecked,hoverDelegate:(c=n.hoverDelegate)!==null&&c!==void 0?c:(0,b.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}class t extends I.Widget{constructor(n,c,u,r){super(),this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new m.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new m.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new m.Emitter),this._onInput=this._register(new m.Emitter),this._onKeyUp=this._register(new m.Emitter),this._onPreserveCaseKeyDown=this._register(new m.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=c,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||v;const a=r.appendPreserveCaseLabel||"",l=r.history||[],d=!!r.flexibleHeight,p=!!r.flexibleWidth,h=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new E.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:l,showHistoryHint:r.showHistoryHint,flexibleHeight:d,flexibleWidth:p,flexibleMaxHeight:h,inputBoxStyles:r.inputBoxStyles})),this.preserveCase=this._register(new o({appendTitle:a,isChecked:!1,...r.toggleStyles})),this._register(this.preserveCase.onChange(S=>{this._onDidOptionChange.fire(S),!S&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(S=>{this._onPreserveCaseKeyDown.fire(S)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const g=[this.preserveCase.domNode];this.onkeydown(this.domNode,S=>{if(S.equals(15)||S.equals(17)||S.equals(9)){const _=g.indexOf(this.domNode.ownerDocument.activeElement);if(_>=0){let L=-1;S.equals(17)?L=(_+1)%g.length:S.equals(15)&&(_===0?L=g.length-1:L=_-1),S.equals(9)?(g[_].blur(),this.inputBox.focus()):L>=0&&g[L].focus(),f.EventHelper.stop(S,!0)}}});const C=document.createElement("div");C.className="controls",C.style.display=this._showOptionButtons?"block":"none",C.appendChild(this.preserveCase.domNode),this.domNode.appendChild(C),n?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,S=>this._onKeyDown.fire(S)),this.onkeyup(this.inputBox.inputElement,S=>this._onKeyUp.fire(S)),this.oninput(this.inputBox.inputElement,S=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,S=>this._onMouseDown.fire(S))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(n){n?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(n){this.preserveCase.checked=n}focusOnPreserve(){this.preserveCase.focus()}validate(){var n;(n=this.inputBox)===null||n===void 0||n.validate()}set width(n){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=n+"px"}dispose(){super.dispose()}}e.ReplaceInput=t}),define(re[652],ae([1,0,65,68,4,45,73,87,148,310,85,40,14,26,190,30,139,2,16,11]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=e.VerticalDirection=e.HorizontalDirection=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.cleanMnemonic=S,e.formatRule=_,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var l;(function(D){D[D.Right=0]="Right",D[D.Left=1]="Left"})(l||(e.HorizontalDirection=l={}));var d;(function(D){D[D.Above=0]="Above",D[D.Below=1]="Below"})(d||(e.VerticalDirection=d={}));class p extends m.ActionBar{constructor(T,N,A,R){T.classList.add("monaco-menu-container"),T.setAttribute("role","presentation");const M=document.createElement("div");M.classList.add("monaco-menu"),M.setAttribute("role","presentation"),super(M,{orientation:1,actionViewItemProvider:B=>this.doGetActionViewItem(B,A,P),context:A.context,actionRunner:A.actionRunner,ariaLabel:A.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...r.isMacintosh||r.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=R,this.menuElement=M,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(T,R),this._register(k.Gesture.addTarget(M)),this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,B=>{new I.StandardKeyboardEvent(B).equals(2)&&B.preventDefault()})),A.enableMnemonics&&this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,B=>{const H=B.key.toLocaleLowerCase();if(this.mnemonics.has(H)){E.EventHelper.stop(B,!0);const K=this.mnemonics.get(H);if(K.length===1&&(K[0]instanceof g&&K[0].container&&this.focusItemByElement(K[0].container),K[0].onClick(B)),K.length>1){const V=K.shift();V&&V.container&&(this.focusItemByElement(V.container),K.push(V)),this.mnemonics.set(H,K)}}})),r.isLinux&&this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,B=>{const H=new I.StandardKeyboardEvent(B);H.equals(14)||H.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),E.EventHelper.stop(B,!0)):(H.equals(13)||H.equals(12))&&(this.focusedItem=0,this.focusPrevious(),E.EventHelper.stop(B,!0))})),this._register((0,E.addDisposableListener)(this.domNode,E.EventType.MOUSE_OUT,B=>{const H=B.relatedTarget;(0,E.isAncestor)(H,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),B.stopPropagation())})),this._register((0,E.addDisposableListener)(this.actionsList,E.EventType.MOUSE_OVER,B=>{let H=B.target;if(!(!H||!(0,E.isAncestor)(H,this.actionsList)||H===this.actionsList)){for(;H.parentElement!==this.actionsList&&H.parentElement!==null;)H=H.parentElement;if(H.classList.contains("action-item")){const K=this.focusedItem;this.setFocusedItem(H),K!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,E.addDisposableListener)(this.actionsList,k.EventType.Tap,B=>{let H=B.initialTarget;if(!(!H||!(0,E.isAncestor)(H,this.actionsList)||H===this.actionsList)){for(;H.parentElement!==this.actionsList&&H.parentElement!==null;)H=H.parentElement;if(H.classList.contains("action-item")){const K=this.focusedItem;this.setFocusedItem(H),K!==this.focusedItem&&this.updateFocus()}}}));const P={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new v.DomScrollableElement(M,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const x=this.scrollableElement.getDomNode();x.style.position="",this.styleScrollElement(x,R),this._register((0,E.addDisposableListener)(M,k.EventType.Change,B=>{E.EventHelper.stop(B,!0);const H=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:H-B.translationY})})),this._register((0,E.addDisposableListener)(x,E.EventType.MOUSE_UP,B=>{B.preventDefault()}));const O=(0,E.getWindow)(T);M.style.maxHeight=`${Math.max(10,O.innerHeight-T.getBoundingClientRect().top-35)}px`,N=N.filter((B,H)=>{var K;return!((K=A.submenuIds)===null||K===void 0)&&K.has(B.id)?(console.warn(`Found submenu cycle: ${B.id}`),!1):!(B instanceof s.Separator&&(H===N.length-1||H===0||N[H-1]instanceof s.Separator))}),this.push(N,{icon:!0,label:!0,isMenu:!0}),T.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(B=>!(B instanceof C)).forEach((B,H,K)=>{B.updatePositionInSet(H+1,K.length)})}initializeOrUpdateStyleSheet(T,N){this.styleSheet||((0,E.isInShadowDOM)(T)?this.styleSheet=(0,E.createStyleSheet)(T):(p.globalStyleSheet||(p.globalStyleSheet=(0,E.createStyleSheet)()),this.styleSheet=p.globalStyleSheet)),this.styleSheet.textContent=L(N,(0,E.isInShadowDOM)(T))}styleScrollElement(T,N){var A,R;const M=(A=N.foregroundColor)!==null&&A!==void 0?A:"",P=(R=N.backgroundColor)!==null&&R!==void 0?R:"",x=N.borderColor?`1px solid ${N.borderColor}`:"",O="5px",B=N.shadowColor?`0 2px 8px ${N.shadowColor}`:"";T.style.outline=x,T.style.borderRadius=O,T.style.color=M,T.style.backgroundColor=P,T.style.boxShadow=B}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(T){const N=this.focusedItem;this.setFocusedItem(T),N!==this.focusedItem&&this.updateFocus()}setFocusedItem(T){for(let N=0;N<this.actionsList.children.length;N++){const A=this.actionsList.children[N];if(T===A){this.focusedItem=N;break}}}updateFocus(T){super.updateFocus(T,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(T,N,A){if(T instanceof s.Separator)return new C(N.context,T,{icon:!0},this.menuStyles);if(T instanceof s.SubmenuAction){const R=new g(T,T.actions,A,{...N,submenuIds:new Set([...N.submenuIds||[],T.id])},this.menuStyles);if(N.enableMnemonics){const M=R.getMnemonic();if(M&&R.isEnabled()){let P=[];this.mnemonics.has(M)&&(P=this.mnemonics.get(M)),P.push(R),this.mnemonics.set(M,P)}}return R}else{const R={enableMnemonics:N.enableMnemonics,useEventAsContext:N.useEventAsContext};if(N.getKeyBinding){const P=N.getKeyBinding(T);if(P){const x=P.getLabel();x&&(R.keybinding=x)}}const M=new h(N.context,T,R,this.menuStyles);if(N.enableMnemonics){const P=M.getMnemonic();if(P&&M.isEnabled()){let x=[];this.mnemonics.has(P)&&(x=this.mnemonics.get(P)),x.push(M),this.mnemonics.set(P,x)}}return M}}}e.Menu=p;class h extends w.BaseActionViewItem{constructor(T,N,A,R){if(A.isMenu=!0,super(N,N,A),this.menuStyle=R,this.options=A,this.options.icon=A.icon!==void 0?A.icon:!1,this.options.label=A.label!==void 0?A.label:!0,this.cssClass="",this.options.label&&A.enableMnemonics){const M=this.action.label;if(M){const P=e.MENU_MNEMONIC_REGEX.exec(M);P&&(this.mnemonic=(P[1]?P[1]:P[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new o.RunOnceScheduler(()=>{this.element&&(this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_UP,M=>{if(E.EventHelper.stop(M,!0),f.isFirefox){if(new y.StandardMouseEvent((0,E.getWindow)(this.element),M).rightButton)return;this.onClick(M)}else setTimeout(()=>{this.onClick(M)},0)})),this._register((0,E.addDisposableListener)(this.element,E.EventType.CONTEXT_MENU,M=>{E.EventHelper.stop(M,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(T){super.render(T),this.element&&(this.container=T,this.item=(0,E.append)(this.element,(0,E.$)("a.action-menu-item")),this._action.id===s.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,E.append)(this.item,(0,E.$)("span.menu-item-check"+n.ThemeIcon.asCSSSelector(t.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,E.append)(this.item,(0,E.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,E.append)(this.item,(0,E.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var T;super.focus(),(T=this.item)===null||T===void 0||T.focus(),this.applyStyle()}updatePositionInSet(T,N){this.item&&(this.item.setAttribute("aria-posinset",`${T}`),this.item.setAttribute("aria-setsize",`${N}`))}updateLabel(){var T;if(this.label&&this.options.label){(0,E.clearNode)(this.label);let N=(0,c.stripIcons)(this.action.label);if(N){const A=S(N);this.options.enableMnemonics||(N=A),this.label.setAttribute("aria-label",A.replace(/&&/g,"&"));const R=e.MENU_MNEMONIC_REGEX.exec(N);if(R){N=a.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;M&&M[1];)M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const P=x=>x.replace(/&amp;&amp;/g,"&amp;");M?this.label.append(a.ltrim(P(N.substr(0,M.index))," "),(0,E.$)("u",{"aria-hidden":"true"},M[3]),a.rtrim(P(N.substr(M.index+M[0].length))," ")):this.label.innerText=P(N).trim(),(T=this.item)===null||T===void 0||T.setAttribute("aria-keyshortcuts",(R[1]?R[1]:R[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const T=this.action.checked;this.item.classList.toggle("checked",!!T),T!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",T?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const T=this.element&&this.element.classList.contains("focused"),N=T&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,A=T&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,R=T&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",M=T&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=N??"",this.item.style.backgroundColor=A??"",this.item.style.outline=R,this.item.style.outlineOffset=M),this.check&&(this.check.style.color=N??"")}}class g extends h{constructor(T,N,A,R,M){super(T,T,R,M),this.submenuActions=N,this.parentData=A,this.submenuOptions=R,this.mysubmenu=null,this.submenuDisposables=this._register(new u.DisposableStore),this.mouseOver=!1,this.expandDirection=R&&R.expandDirection!==void 0?R.expandDirection:{horizontal:l.Right,vertical:d.Below},this.showScheduler=new o.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new o.RunOnceScheduler(()=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(T){super.render(T),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,E.append)(this.item,(0,E.$)("span.submenu-indicator"+n.ThemeIcon.asCSSSelector(t.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,E.addDisposableListener)(this.element,E.EventType.KEY_UP,N=>{const A=new I.StandardKeyboardEvent(N);(A.equals(17)||A.equals(3))&&(E.EventHelper.stop(N,!0),this.createSubmenu(!0))})),this._register((0,E.addDisposableListener)(this.element,E.EventType.KEY_DOWN,N=>{const A=new I.StandardKeyboardEvent(N);(0,E.getActiveElement)()===this.item&&(A.equals(17)||A.equals(3))&&E.EventHelper.stop(N,!0)})),this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_OVER,N=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_LEAVE,N=>{this.mouseOver=!1})),this._register((0,E.addDisposableListener)(this.element,E.EventType.FOCUS_OUT,N=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(T){E.EventHelper.stop(T,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(T){if(this.parentData.submenu&&(T||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(T,N,A,R){const M={top:0,left:0};return M.left=(0,b.layout)(T.width,N.width,{position:R.horizontal===l.Right?0:1,offset:A.left,size:A.width}),M.left>=A.left&&M.left<A.left+A.width&&(A.left+10+N.width<=T.width&&(M.left=A.left+10),A.top+=10,A.height=0),M.top=(0,b.layout)(T.height,N.height,{position:0,offset:A.top,size:0}),M.top+N.height===A.top&&M.top+A.height+N.height<=T.height&&(M.top+=A.height),M}createSubmenu(T=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,E.append)(this.element,(0,E.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const N=(0,E.getWindow)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),A=parseFloat(N.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new p(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new s.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const R=this.element.getBoundingClientRect(),M={top:R.top-A,left:R.left,height:R.height+2*A,width:R.width},P=this.submenuContainer.getBoundingClientRect(),x=(0,E.getWindow)(this.element),{top:O,left:B}=this.calculateSubmenuMenuLayout(new E.Dimension(x.innerWidth,x.innerHeight),E.Dimension.lift(P),M,this.expandDirection);this.submenuContainer.style.left=`${B-P.left}px`,this.submenuContainer.style.top=`${O-P.top}px`,this.submenuDisposables.add((0,E.addDisposableListener)(this.submenuContainer,E.EventType.KEY_UP,H=>{new I.StandardKeyboardEvent(H).equals(15)&&(E.EventHelper.stop(H,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,E.addDisposableListener)(this.submenuContainer,E.EventType.KEY_DOWN,H=>{new I.StandardKeyboardEvent(H).equals(15)&&E.EventHelper.stop(H,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(T),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(T){var N;this.item&&((N=this.item)===null||N===void 0||N.setAttribute("aria-expanded",T))}applyStyle(){super.applyStyle();const N=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=N??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class C extends w.ActionViewItem{constructor(T,N,A,R){super(T,N,A),this.menuStyles=R}render(T){super.render(T),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function S(D){const T=e.MENU_MNEMONIC_REGEX,N=T.exec(D);if(!N)return D;const A=!N[1];return D.replace(T,A?"$2$3":"").trim()}function _(D){const T=(0,i.getCodiconFontCharacters)()[D.id];return`.codicon-${D.id}:before { content: '\\${T.toString(16)}'; }`}function L(D,T){let N=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${_(t.Codicon.menuSelection)}
${_(t.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(T){N+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const A=D.scrollbarShadow;A&&(N+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${A} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${A} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${A} 6px 6px 6px -6px inset;
				}
			`);const R=D.scrollbarSliderBackground;R&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${R};
				}
			`);const M=D.scrollbarSliderHoverBackground;M&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${M};
				}
			`);const P=D.scrollbarSliderActiveBackground;P&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${P};
				}
			`)}return N}}),define(re[653],ae([1,0,87,365,40,26,30,6,2,3,43,488]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class s extends w.Disposable{constructor(i,n,c={orientation:0}){var u;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new m.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new w.DisposableStore),c.hoverDelegate=(u=c.hoverDelegate)!==null&&u!==void 0?u:this._register((0,v.createInstantHoverDelegate)()),this.options=c,this.toggleMenuAction=this._register(new o(()=>{var r;return(r=this.toggleMenuActionViewItem)===null||r===void 0?void 0:r.show()},c.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",i.appendChild(this.element),this.actionBar=this._register(new f.ActionBar(this.element,{orientation:c.orientation,ariaLabel:c.ariaLabel,actionRunner:c.actionRunner,allowContextMenu:c.allowContextMenu,highlightToggledItems:c.highlightToggledItems,hoverDelegate:c.hoverDelegate,actionViewItemProvider:(r,a)=>{var l;if(r.id===o.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(r,r.menuActions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:y.ThemeIcon.asClassNameArray((l=c.moreIcon)!==null&&l!==void 0?l:I.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(c.actionViewItemProvider){const d=c.actionViewItemProvider(r,a);if(d)return d}if(r instanceof E.SubmenuAction){const d=new k.DropdownMenuActionViewItem(r,r.actions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:r.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return d.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(d),this.disposables.add(this._onDidChangeDropdownVisibility.add(d.onDidChangeVisibility)),d}}}))}set actionRunner(i){this.actionBar.actionRunner=i}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(i){return this.actionBar.getAction(i)}setActions(i,n){this.clear();const c=i?i.slice(0):[];this.hasSecondaryActions=!!(n&&n.length>0),this.hasSecondaryActions&&n&&(this.toggleMenuAction.menuActions=n.slice(0),c.push(this.toggleMenuAction)),c.forEach(u=>{var r,a;this.actionBar.push(u,{icon:(r=this.options.icon)!==null&&r!==void 0?r:!0,label:(a=this.options.label)!==null&&a!==void 0?a:!1,keybinding:this.getKeybindingLabel(u)})})}getKeybindingLabel(i){var n,c,u;const r=(c=(n=this.options).getKeyBinding)===null||c===void 0?void 0:c.call(n,i);return(u=r?.getLabel())!==null&&u!==void 0?u:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=s;class o extends E.Action{constructor(i,n){n=n||b.localize(1020,"More Actions..."),super(o.ID,n,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=i}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(i){this._menuActions=i}}e.ToggleMenuAction=o,o.ID="toolbar.toggle.more"}),define(re[174],ae([1,0,4,92,45,87,259,258,235,112,163,225,155,40,13,14,26,30,44,6,83,2,138,19,3,43,21,489]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.TreeRenderer=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class _ extends w.ElementsDragAndDropData{constructor(W){super(W.elements.map(q=>q.element)),this.data=W}}function L(ne){return ne instanceof w.ElementsDragAndDropData?new _(ne):ne}class D{constructor(W,q){this.modelProvider=W,this.dnd=q,this.autoExpandDisposable=d.Disposable.None,this.disposables=new d.DisposableStore}getDragURI(W){return this.dnd.getDragURI(W.element)}getDragLabel(W,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W.map(z=>z.element),q)}onDragStart(W,q){var z,$;($=(z=this.dnd).onDragStart)===null||$===void 0||$.call(z,L(W),q)}onDragOver(W,q,z,$,X,ee=!0){const oe=this.dnd.onDragOver(L(W),q&&q.element,z,$,X),ce=this.autoExpandNode!==q;if(ce&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=q),typeof q>"u")return oe;if(ce&&typeof oe!="boolean"&&oe.autoExpand&&(this.autoExpandDisposable=(0,n.disposableTimeout)(()=>{const Ce=this.modelProvider(),Ee=Ce.getNodeLocation(q);Ce.isCollapsed(Ee)&&Ce.setCollapsed(Ee,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof oe=="boolean"||!oe.accept||typeof oe.bubble>"u"||oe.feedback){if(!ee){const Ce=typeof oe=="boolean"?oe:oe.accept,Ee=typeof oe=="boolean"?void 0:oe.effect;return{accept:Ce,effect:Ee,feedback:[z]}}return oe}if(oe.bubble===1){const Ce=this.modelProvider(),Ee=Ce.getNodeLocation(q),Le=Ce.getParentNodeLocation(Ee),Te=Ce.getNode(Le),Ae=Le&&Ce.getListIndex(Le);return this.onDragOver(W,Te,Ae,$,X,!1)}const fe=this.modelProvider(),ve=fe.getNodeLocation(q),_e=fe.getListIndex(ve),Ie=fe.getListRenderCount(ve);return{...oe,feedback:(0,i.range)(_e,_e+Ie)}}drop(W,q,z,$,X){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(L(W),q&&q.element,z,$,X)}onDragEnd(W){var q,z;(z=(q=this.dnd).onDragEnd)===null||z===void 0||z.call(q,W)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function T(ne,W){return W&&{...W,identityProvider:W.identityProvider&&{getId(q){return W.identityProvider.getId(q.element)}},dnd:W.dnd&&new D(ne,W.dnd),multipleSelectionController:W.multipleSelectionController&&{isSelectionSingleChangeEvent(q){return W.multipleSelectionController.isSelectionSingleChangeEvent({...q,element:q.element})},isSelectionRangeChangeEvent(q){return W.multipleSelectionController.isSelectionRangeChangeEvent({...q,element:q.element})}},accessibilityProvider:W.accessibilityProvider&&{...W.accessibilityProvider,getSetSize(q){const z=ne(),$=z.getNodeLocation(q),X=z.getParentNodeLocation($);return z.getNode(X).visibleChildrenCount},getPosInSet(q){return q.visibleChildIndex+1},isChecked:W.accessibilityProvider&&W.accessibilityProvider.isChecked?q=>W.accessibilityProvider.isChecked(q.element):void 0,getRole:W.accessibilityProvider&&W.accessibilityProvider.getRole?q=>W.accessibilityProvider.getRole(q.element):()=>"treeitem",getAriaLabel(q){return W.accessibilityProvider.getAriaLabel(q.element)},getWidgetAriaLabel(){return W.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:W.accessibilityProvider&&W.accessibilityProvider.getWidgetRole?()=>W.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:W.accessibilityProvider&&W.accessibilityProvider.getAriaLevel?q=>W.accessibilityProvider.getAriaLevel(q.element):q=>q.depth,getActiveDescendantId:W.accessibilityProvider.getActiveDescendantId&&(q=>W.accessibilityProvider.getActiveDescendantId(q.element))},keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&{...W.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(q){return W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}}}}class N{constructor(W){this.delegate=W}getHeight(W){return this.delegate.getHeight(W.element)}getTemplateId(W){return this.delegate.getTemplateId(W.element)}hasDynamicHeight(W){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(W.element)}setDynamicHeight(W,q){var z,$;($=(z=this.delegate).setDynamicHeight)===null||$===void 0||$.call(z,W.element,q)}}e.ComposedTreeDelegate=N;var A;(function(ne){ne.None="none",ne.OnHover="onHover",ne.Always="always"})(A||(e.RenderIndentGuides=A={}));class R{get elements(){return this._elements}constructor(W,q=[]){this._elements=q,this.disposables=new d.DisposableStore,this.onDidChange=a.Event.forEach(W,z=>this._elements=z,this.disposables)}dispose(){this.disposables.dispose()}}class M{constructor(W,q,z,$,X,ee={}){var oe;this.renderer=W,this.modelProvider=q,this.activeNodes=$,this.renderedIndentGuides=X,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=M.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=d.Disposable.None,this.disposables=new d.DisposableStore,this.templateId=W.templateId,this.updateOptions(ee),a.Event.map(z,ce=>ce.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(oe=W.onDidChangeTwistieState)===null||oe===void 0||oe.call(W,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(W={}){if(typeof W.indent<"u"){const q=(0,p.clamp)(W.indent,0,40);if(q!==this.indent){this.indent=q;for(const[z,$]of this.renderedNodes)this.renderTreeElement(z,$)}}if(typeof W.renderIndentGuides<"u"){const q=W.renderIndentGuides!==A.None;if(q!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=q;for(const[z,$]of this.renderedNodes)this._renderIndentGuides(z,$);if(this.indentGuidesDisposable.dispose(),q){const z=new d.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,z),this.indentGuidesDisposable=z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof W.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=W.hideTwistiesOfChildlessElements)}renderTemplate(W){const q=(0,f.append)(W,(0,f.$)(".monaco-tl-row")),z=(0,f.append)(q,(0,f.$)(".monaco-tl-indent")),$=(0,f.append)(q,(0,f.$)(".monaco-tl-twistie")),X=(0,f.append)(q,(0,f.$)(".monaco-tl-contents")),ee=this.renderer.renderTemplate(X);return{container:W,indent:z,twistie:$,indentGuidesDisposable:d.Disposable.None,templateData:ee}}renderElement(W,q,z,$){this.renderedNodes.set(W,z),this.renderedElements.set(W.element,W),this.renderTreeElement(W,z),this.renderer.renderElement(W,q,z.templateData,$)}disposeElement(W,q,z,$){var X,ee;z.indentGuidesDisposable.dispose(),(ee=(X=this.renderer).disposeElement)===null||ee===void 0||ee.call(X,W,q,z.templateData,$),typeof $=="number"&&(this.renderedNodes.delete(W),this.renderedElements.delete(W.element))}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}onDidChangeTwistieState(W){const q=this.renderedElements.get(W);q&&this.onDidChangeNodeTwistieState(q)}onDidChangeNodeTwistieState(W){const q=this.renderedNodes.get(W);q&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(W,q))}renderTreeElement(W,q){const z=M.DefaultIndent+(W.depth-1)*this.indent;q.twistie.style.paddingLeft=`${z}px`,q.indent.style.width=`${z+this.indent-16}px`,W.collapsible?q.container.setAttribute("aria-expanded",String(!W.collapsed)):q.container.removeAttribute("aria-expanded"),q.twistie.classList.remove(...u.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded));let $=!1;this.renderer.renderTwistie&&($=this.renderer.renderTwistie(W.element,q.twistie)),W.collapsible&&(!this.hideTwistiesOfChildlessElements||W.visibleChildrenCount>0)?($||q.twistie.classList.add(...u.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded)),q.twistie.classList.add("collapsible"),q.twistie.classList.toggle("collapsed",W.collapsed)):q.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(W,q)}_renderIndentGuides(W,q){if((0,f.clearNode)(q.indent),q.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const z=new d.DisposableStore,$=this.modelProvider();for(;;){const X=$.getNodeLocation(W),ee=$.getParentNodeLocation(X);if(!ee)break;const oe=$.getNode(ee),ce=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(oe)&&ce.classList.add("active"),q.indent.childElementCount===0?q.indent.appendChild(ce):q.indent.insertBefore(ce,q.indent.firstElementChild),this.renderedIndentGuides.add(oe,ce),z.add((0,d.toDisposable)(()=>this.renderedIndentGuides.delete(oe,ce))),W=oe}q.indentGuidesDisposable=z}_onDidChangeActiveNodes(W){if(!this.shouldRenderIndentGuides)return;const q=new Set,z=this.modelProvider();W.forEach($=>{const X=z.getNodeLocation($);try{const ee=z.getParentNodeLocation(X);$.collapsible&&$.children.length>0&&!$.collapsed?q.add($):ee&&q.add(z.getNode(ee))}catch{}}),this.activeIndentNodes.forEach($=>{q.has($)||this.renderedIndentGuides.forEach($,X=>X.classList.remove("active"))}),q.forEach($=>{this.activeIndentNodes.has($)||this.renderedIndentGuides.forEach($,X=>X.classList.add("active"))}),this.activeIndentNodes=q}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,d.dispose)(this.disposables)}}e.TreeRenderer=M,M.DefaultIndent=8;class P{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(W,q,z){this.tree=W,this.keyboardNavigationLabelProvider=q,this._filter=z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new d.DisposableStore,W.onWillRefilter(this.reset,this,this.disposables)}filter(W,q){let z=1;if(this._filter){const ee=this._filter.filter(W,q);if(typeof ee=="boolean"?z=ee?1:0:(0,s.isFilterResult)(ee)?z=(0,s.getVisibleState)(ee.visibility):z=ee,z===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:l.FuzzyScore.Default,visibility:z};const $=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W),X=Array.isArray($)?$:[$];for(const ee of X){const oe=ee&&ee.toString();if(typeof oe>"u")return{data:l.FuzzyScore.Default,visibility:z};let ce;if(this.tree.findMatchType===K.Contiguous){const fe=oe.toLowerCase().indexOf(this._lowercasePattern);if(fe>-1){ce=[Number.MAX_SAFE_INTEGER,0];for(let ve=this._lowercasePattern.length;ve>0;ve--)ce.push(fe+ve-1)}}else ce=(0,l.fuzzyScore)(this._pattern,this._lowercasePattern,0,oe,oe.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ce)return this._matchCount++,X.length===1?{data:ce,visibility:z}:{data:{label:oe,score:ce},visibility:z}}return this.tree.findMode===H.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(W):2:{data:l.FuzzyScore.Default,visibility:z}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,d.dispose)(this.disposables)}}class x extends v.Toggle{constructor(W){var q,z;super({icon:c.Codicon.listFilter,title:(0,g.localize)(1013,"Filter"),isChecked:(q=W.isChecked)!==null&&q!==void 0?q:!1,hoverDelegate:(z=W.hoverDelegate)!==null&&z!==void 0?z:(0,C.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.ModeToggle=x;class O extends v.Toggle{constructor(W){var q,z;super({icon:c.Codicon.searchFuzzy,title:(0,g.localize)(1014,"Fuzzy Match"),isChecked:(q=W.isChecked)!==null&&q!==void 0?q:!1,hoverDelegate:(z=W.hoverDelegate)!==null&&z!==void 0?z:(0,C.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.FuzzyToggle=O;const B={inputBoxStyles:m.unthemedInboxStyles,toggleStyles:v.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var H;(function(ne){ne[ne.Highlight=0]="Highlight",ne[ne.Filter=1]="Filter"})(H||(e.TreeFindMode=H={}));var K;(function(ne){ne[ne.Fuzzy=0]="Fuzzy",ne[ne.Contiguous=1]="Contiguous"})(K||(e.TreeFindMatchType=K={}));class V extends d.Disposable{set mode(W){this.modeToggle.checked=W===H.Filter,this.findInput.inputBox.setPlaceHolder(W===H.Filter?(0,g.localize)(1015,"Type to filter"):(0,g.localize)(1016,"Type to search"))}set matchType(W){this.matchTypeToggle.checked=W===K.Fuzzy}constructor(W,q,z,$,X,ee){var oe;super(),this.tree=q,this.elements=(0,f.h)(".monaco-tree-type-filter",[(0,f.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,f.h)(".monaco-tree-type-filter-input@findInput"),(0,f.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new a.Emitter,W.appendChild(this.elements.root),this._register((0,d.toDisposable)(()=>this.elements.root.remove()));const ce=(oe=ee?.styles)!==null&&oe!==void 0?oe:B;ce.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=ce.listFilterWidgetBackground),ce.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${ce.listFilterWidgetShadow}`);const fe=this._register((0,C.createInstantHoverDelegate)());this.modeToggle=this._register(new x({...ce.toggleStyles,isChecked:$===H.Filter,hoverDelegate:fe})),this.matchTypeToggle=this._register(new O({...ce.toggleStyles,isChecked:X===K.Fuzzy,hoverDelegate:fe})),this.onDidChangeMode=a.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?H.Filter:H.Highlight,this._store),this.onDidChangeMatchType=a.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?K.Fuzzy:K.Contiguous,this._store),this.findInput=this._register(new y.FindInput(this.elements.findInput,z,{label:(0,g.localize)(1017,"Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ce.inputBoxStyles,toggleStyles:ce.toggleStyles,history:ee?.history})),this.actionbar=this._register(new I.ActionBar(this.elements.actionbar)),this.mode=$;const ve=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),_e=a.Event.chain(ve.event,Le=>Le.map(Te=>new E.StandardKeyboardEvent(Te)));this._register(_e(Le=>{if(Le.equals(3)){Le.preventDefault(),Le.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Le.equals(18)){Le.preventDefault(),Le.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Le.equals(16)){Le.preventDefault(),Le.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const Ie=this._register(new t.Action("close",(0,g.localize)(1018,"Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(Ie,{icon:!0,label:!1});const Ce=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(Ce.event(Le=>{const Te=new d.DisposableStore,Ae=Te.add(new k.DomEmitter((0,f.getWindow)(Le),"mousemove")),Pe=Te.add(new k.DomEmitter((0,f.getWindow)(Le),"mouseup")),Re=this.right,We=Le.pageX,De=this.top,Ne=Le.pageY;this.elements.grab.classList.add("grabbing");const me=this.elements.root.style.transition;this.elements.root.style.transition="unset";const we=Fe=>{const xe=Fe.pageX-We;this.right=Re-xe;const je=Fe.pageY-Ne;this.top=De+je,this.layout()};Te.add(Ae.event(we)),Te.add(Pe.event(Fe=>{we(Fe),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=me,Te.dispose()}))}));const Ee=a.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event,Le=>Le.map(Te=>new E.StandardKeyboardEvent(Te)));this._register(Ee(Le=>{let Te,Ae;if(Le.keyCode===15?Te=Number.POSITIVE_INFINITY:Le.keyCode===17?Te=0:Le.keyCode===10&&(Te=this.right===0?Number.POSITIVE_INFINITY:0),Le.keyCode===16?Ae=0:Le.keyCode===18&&(Ae=Number.POSITIVE_INFINITY),Te!==void 0&&(Le.preventDefault(),Le.stopPropagation(),this.right=Te,this.layout()),Ae!==void 0){Le.preventDefault(),Le.stopPropagation(),this.top=Ae;const Pe=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=Pe},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(W=this.width){this.width=W,this.right=(0,p.clamp)(this.right,0,Math.max(0,W-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,p.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(W){this.findInput.showMessage(W)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await(0,n.timeout)(300),super.dispose()}}class j{get pattern(){return this._pattern}get mode(){return this._mode}set mode(W){W!==this._mode&&(this._mode=W,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(W))}get matchType(){return this._matchType}set matchType(W){W!==this._matchType&&(this._matchType=W,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(W))}constructor(W,q,z,$,X,ee={}){var oe,ce;this.tree=W,this.view=z,this.filter=$,this.contextViewProvider=X,this.options=ee,this._pattern="",this.width=0,this._onDidChangeMode=new a.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new a.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new a.Emitter,this._onDidChangeOpenState=new a.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new d.DisposableStore,this.disposables=new d.DisposableStore,this._mode=(oe=W.options.defaultFindMode)!==null&&oe!==void 0?oe:H.Highlight,this._matchType=(ce=W.options.defaultFindMatchType)!==null&&ce!==void 0?ce:K.Fuzzy,q.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(W={}){W.defaultFindMode!==void 0&&(this.mode=W.defaultFindMode),W.defaultFindMatchType!==void 0&&(this.matchType=W.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var W,q,z,$;const X=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&X?!((W=this.tree.options.showNotFoundMessage)!==null&&W!==void 0)||W?(q=this.widget)===null||q===void 0||q.showMessage({type:2,content:(0,g.localize)(1019,"No elements found.")}):(z=this.widget)===null||z===void 0||z.showMessage({type:2}):($=this.widget)===null||$===void 0||$.clearMessage()}shouldAllowFocus(W){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!l.FuzzyScore.isDefault(W.filterData)}layout(W){var q;this.width=W,(q=this.widget)===null||q===void 0||q.layout(W)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function U(ne,W){return ne.position===W.position&&Y(ne,W)}function Y(ne,W){return ne.node.element===W.node.element&&ne.startIndex===W.startIndex&&ne.height===W.height&&ne.endIndex===W.endIndex}class Q{constructor(W=[]){this.stickyNodes=W}get count(){return this.stickyNodes.length}equal(W){return(0,i.equals)(this.stickyNodes,W.stickyNodes,U)}lastNodePartiallyVisible(){if(this.count===0)return!1;const W=this.stickyNodes[this.count-1];if(this.count===1)return W.position!==0;const q=this.stickyNodes[this.count-2];return q.position+q.height!==W.position}animationStateChanged(W){if(!(0,i.equals)(this.stickyNodes,W.stickyNodes,Y)||this.count===0)return!1;const q=this.stickyNodes[this.count-1],z=W.stickyNodes[W.count-1];return q.position!==z.position}}class Z{constrainStickyScrollNodes(W,q,z){for(let $=0;$<W.length;$++){const X=W[$];if(X.position+X.height>z||$>=q)return W.slice(0,$)}return W}}class G extends d.Disposable{constructor(W,q,z,$,X,ee={}){var oe;super(),this.tree=W,this.model=q,this.view=z,this.treeDelegate=X,this.maxWidgetViewRatio=.4;const ce=this.validateStickySettings(ee);this.stickyScrollMaxItemCount=ce.stickyScrollMaxItemCount,this.stickyScrollDelegate=(oe=ee.stickyScrollDelegate)!==null&&oe!==void 0?oe:new Z,this._widget=this._register(new F(z.getScrollableElement(),z,W,$,X,ee.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(z.onDidScroll(()=>this.update())),this._register(z.onDidChangeContentHeight(()=>this.update())),this._register(W.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(W){let q;if(W===0?q=this.view.firstVisibleIndex:q=this.view.indexAt(W+this.view.scrollTop),!(q<0||q>=this.view.length))return this.view.element(q)}update(){const W=this.getNodeAtHeight(0);if(!W||this.tree.scrollTop===0){this._widget.setState(void 0);return}const q=this.findStickyState(W);this._widget.setState(q)}findStickyState(W){const q=[];let z=W,$=0,X=this.getNextStickyNode(z,void 0,$);for(;X&&(q.push(X),$+=X.height,!(q.length<=this.stickyScrollMaxItemCount&&(z=this.getNextVisibleNode(X),!z)));)X=this.getNextStickyNode(z,X.node,$);const ee=this.constrainStickyNodes(q);return ee.length?new Q(ee):void 0}getNextVisibleNode(W){return this.getNodeAtHeight(W.position+W.height)}getNextStickyNode(W,q,z){const $=this.getAncestorUnderPrevious(W,q);if($&&!($===W&&(!this.nodeIsUncollapsedParent(W)||this.nodeTopAlignsWithStickyNodesBottom(W,z))))return this.createStickyScrollNode($,z)}nodeTopAlignsWithStickyNodesBottom(W,q){const z=this.getNodeIndex(W),$=this.view.getElementTop(z),X=q;return this.view.scrollTop===$-X}createStickyScrollNode(W,q){const z=this.treeDelegate.getHeight(W),{startIndex:$,endIndex:X}=this.getNodeRange(W),ee=this.calculateStickyNodePosition(X,q,z);return{node:W,position:ee,height:z,startIndex:$,endIndex:X}}getAncestorUnderPrevious(W,q=void 0){let z=W,$=this.getParentNode(z);for(;$;){if($===q)return z;z=$,$=this.getParentNode(z)}if(q===void 0)return z}calculateStickyNodePosition(W,q,z){let $=this.view.getRelativeTop(W);if($===null&&this.view.firstVisibleIndex===W&&W+1<this.view.length){const fe=this.treeDelegate.getHeight(this.view.element(W)),ve=this.view.getRelativeTop(W+1);$=ve?ve-fe/this.view.renderHeight:null}if($===null)return q;const X=this.view.element(W),ee=this.treeDelegate.getHeight(X),ce=$*this.view.renderHeight+ee;return q+z>ce&&q<=ce?ce-z:q}constrainStickyNodes(W){if(W.length===0)return[];const q=this.view.renderHeight*this.maxWidgetViewRatio,z=W[W.length-1];if(W.length<=this.stickyScrollMaxItemCount&&z.position+z.height<=q)return W;const $=this.stickyScrollDelegate.constrainStickyScrollNodes(W,this.stickyScrollMaxItemCount,q);if(!$.length)return[];const X=$[$.length-1];if($.length>this.stickyScrollMaxItemCount||X.position+X.height>q)throw new Error("stickyScrollDelegate violates constraints");return $}getParentNode(W){const q=this.model.getNodeLocation(W),z=this.model.getParentNodeLocation(q);return z?this.model.getNode(z):void 0}nodeIsUncollapsedParent(W){const q=this.model.getNodeLocation(W);return this.model.getListRenderCount(q)>1}getNodeIndex(W){const q=this.model.getNodeLocation(W);return this.model.getListIndex(q)}getNodeRange(W){const q=this.model.getNodeLocation(W),z=this.model.getListIndex(q);if(z<0)throw new Error("Node not found in tree");const $=this.model.getListRenderCount(q),X=z+$-1;return{startIndex:z,endIndex:X}}nodePositionTopBelowWidget(W){const q=[];let z=this.getParentNode(W);for(;z;)q.push(z),z=this.getParentNode(z);let $=0;for(let X=0;X<q.length&&X<this.stickyScrollMaxItemCount;X++)$+=this.treeDelegate.getHeight(q[X]);return $}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(W={}){if(!W.stickyScrollMaxItemCount)return;const q=this.validateStickySettings(W);this.stickyScrollMaxItemCount!==q.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=q.stickyScrollMaxItemCount,this.update())}validateStickySettings(W){let q=7;return typeof W.stickyScrollMaxItemCount=="number"&&(q=Math.max(W.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:q}}}class F{constructor(W,q,z,$,X,ee){this.view=q,this.tree=z,this.treeRenderers=$,this.treeDelegate=X,this.accessibilityProvider=ee,this._previousElements=[],this._previousStateDisposables=new d.DisposableStore,this._rootDomNode=(0,f.$)(".monaco-tree-sticky-container.empty"),W.appendChild(this._rootDomNode);const oe=(0,f.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(oe),this.stickyScrollFocus=new J(this._rootDomNode,q),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const W=this._previousState.stickyNodes[this._previousState.count-1];return W.position+W.height}setState(W){const q=!!this._previousState&&this._previousState.count>0,z=!!W&&W.count>0;if(!q&&!z||q&&z&&this._previousState.equal(W))return;if(q!==z&&this.setVisible(z),!z){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const $=W.stickyNodes[W.count-1];if(this._previousState&&W.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${$.position}px`;else{this._previousStateDisposables.clear();const X=Array(W.count);for(let ee=W.count-1;ee>=0;ee--){const oe=W.stickyNodes[ee],{element:ce,disposable:fe}=this.createElement(oe,ee,W.count);X[ee]=ce,this._rootDomNode.appendChild(ce),this._previousStateDisposables.add(fe)}this.stickyScrollFocus.updateElements(X,W),this._previousElements=X}this._previousState=W,this._rootDomNode.style.height=`${$.position+$.height}px`}createElement(W,q,z){const $=W.startIndex,X=document.createElement("div");X.style.top=`${W.position}px`,this.tree.options.setRowHeight!==!1&&(X.style.height=`${W.height}px`),this.tree.options.setRowLineHeight!==!1&&(X.style.lineHeight=`${W.height}px`),X.classList.add("monaco-tree-sticky-row"),X.classList.add("monaco-list-row"),X.setAttribute("data-index",`${$}`),X.setAttribute("data-parity",$%2===0?"even":"odd"),X.setAttribute("id",this.view.getElementID($));const ee=this.setAccessibilityAttributes(X,W.node.element,q,z),oe=this.treeDelegate.getTemplateId(W.node),ce=this.treeRenderers.find(Ie=>Ie.templateId===oe);if(!ce)throw new Error(`No renderer found for template id ${oe}`);let fe=W.node;fe===this.tree.getNode(this.tree.getNodeLocation(W.node))&&(fe=new Proxy(W.node,{}));const ve=ce.renderTemplate(X);ce.renderElement(fe,W.startIndex,ve,W.height);const _e=(0,d.toDisposable)(()=>{ee.dispose(),ce.disposeElement(fe,W.startIndex,ve,W.height),ce.disposeTemplate(ve),X.remove()});return{element:X,disposable:_e}}setAccessibilityAttributes(W,q,z,$){var X;if(!this.accessibilityProvider)return d.Disposable.None;this.accessibilityProvider.getSetSize&&W.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(q,z,$))),this.accessibilityProvider.getPosInSet&&W.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(q,z))),this.accessibilityProvider.getRole&&W.setAttribute("role",(X=this.accessibilityProvider.getRole(q))!==null&&X!==void 0?X:"treeitem");const ee=this.accessibilityProvider.getAriaLabel(q),oe=ee&&typeof ee!="string"?ee:(0,S.constObservable)(ee),ce=(0,S.autorun)(ve=>{const _e=ve.readObservable(oe);_e?W.setAttribute("aria-label",_e):W.removeAttribute("aria-label")});typeof ee=="string"||ee&&W.setAttribute("aria-label",ee.get());const fe=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(q);return typeof fe=="number"&&W.setAttribute("aria-level",`${fe}`),W.setAttribute("aria-selected",String(!1)),ce}setVisible(W){this._rootDomNode.classList.toggle("empty",!W),W||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class J extends d.Disposable{get domHasFocus(){return this._domHasFocus}set domHasFocus(W){W!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(W),this._domHasFocus=W)}constructor(W,q){super(),this.container=W,this.view=q,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new a.Emitter,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new a.Emitter,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(z=>this.onKeyDown(z))),this._register(this.view.onMouseDown(z=>this.onMouseDown(z))),this._register(this.view.onContextMenu(z=>this.handleContextMenu(z)))}handleContextMenu(W){const q=W.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){this.focusedLast()&&this.view.domFocus();return}if(!(0,f.isKeyboardEvent)(W.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const ee=this.state.stickyNodes.findIndex(oe=>{var ce;return oe.node.element===((ce=W.element)===null||ce===void 0?void 0:ce.element)});if(ee===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(ee);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const $=this.state.stickyNodes[this.focusedIndex].node.element,X=this.elements[this.focusedIndex];this._onContextMenu.fire({element:$,anchor:X,browserEvent:W.browserEvent,isStickyScroll:!0})}onKeyDown(W){if(this.domHasFocus&&this.state){if(W.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),W.preventDefault(),W.stopPropagation();else if(W.key==="ArrowDown"||W.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const q=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([q]),this.scrollNodeUnderWidget(q,this.state)}else this.setFocusedElement(this.focusedIndex+1);W.preventDefault(),W.stopPropagation()}}}onMouseDown(W){const q=W.browserEvent.target;!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)||(W.browserEvent.preventDefault(),W.browserEvent.stopPropagation())}updateElements(W,q){if(q&&q.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(q&&q.count!==W.length)throw new Error("Sticky scroll focus received illigel state");const z=this.focusedIndex;if(this.removeFocus(),this.elements=W,this.state=q,q){const $=(0,p.clamp)(z,0,q.count-1);this.setFocus($)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=q?0:-1}setFocusedElement(W){const q=this.state;if(!q)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(W),!(W<q.count-1)&&q.lastNodePartiallyVisible()){const z=q.stickyNodes[W];this.scrollNodeUnderWidget(z.endIndex+1,q)}}scrollNodeUnderWidget(W,q){const z=q.stickyNodes[q.count-1],$=q.count>1?q.stickyNodes[q.count-2]:void 0,X=this.view.getElementTop(W),ee=$?$.position+$.height+z.height:z.height;this.view.scrollTop=X-ee}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(W){if(0>W)throw new Error("addFocus() can not remove focus");if(!this.state&&W>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&W>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const q=this.focusedIndex;q>=0&&this.toggleElementFocus(this.elements[q],!1),W>=0&&this.toggleElementFocus(this.elements[W],!0),this.focusedIndex=W}toggleElementFocus(W,q){this.toggleElementActiveFocus(W,q&&this.domHasFocus),this.toggleElementPassiveFocus(W,q)}toggleCurrentElementActiveFocus(W){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],W)}toggleElementActiveFocus(W,q){W.classList.toggle("focused",q)}toggleElementPassiveFocus(W,q){W.classList.toggle("passive-focused",q)}toggleStickyScrollFocused(W){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",W)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function te(ne){let W=o.TreeMouseEventTarget.Unknown;return(0,f.hasParentWithClass)(ne.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?W=o.TreeMouseEventTarget.Twistie:(0,f.hasParentWithClass)(ne.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?W=o.TreeMouseEventTarget.Element:(0,f.hasParentWithClass)(ne.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(W=o.TreeMouseEventTarget.Filter),{browserEvent:ne.browserEvent,element:ne.element?ne.element.element:null,target:W}}function de(ne){const W=(0,b.isStickyScrollContainer)(ne.browserEvent.target);return{element:ne.element?ne.element.element:null,browserEvent:ne.browserEvent,anchor:ne.anchor,isStickyScroll:W}}function he(ne,W){W(ne),ne.children.forEach(q=>he(q,W))}class pe{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(W,q){this.getFirstViewElementWithTrait=W,this.identityProvider=q,this.nodes=[],this._onDidChange=new a.Emitter,this.onDidChange=this._onDidChange.event}set(W,q){!q?.__forceEvent&&(0,i.equals)(this.nodes,W)||this._set(W,!1,q)}_set(W,q,z){if(this.nodes=[...W],this.elements=void 0,this._nodeSet=void 0,!q){const $=this;this._onDidChange.fire({get elements(){return $.get()},browserEvent:z})}}get(){return this.elements||(this.elements=this.nodes.map(W=>W.element)),[...this.elements]}getNodes(){return this.nodes}has(W){return this.nodeSet.has(W)}onDidModelSplice({insertedNodes:W,deletedNodes:q}){if(!this.identityProvider){const ce=this.createNodeSet(),fe=ve=>ce.delete(ve);q.forEach(ve=>he(ve,fe)),this.set([...ce.values()]);return}const z=new Set,$=ce=>z.add(this.identityProvider.getId(ce.element).toString());q.forEach(ce=>he(ce,$));const X=new Map,ee=ce=>X.set(this.identityProvider.getId(ce.element).toString(),ce);W.forEach(ce=>he(ce,ee));const oe=[];for(const ce of this.nodes){const fe=this.identityProvider.getId(ce.element).toString();if(!z.has(fe))oe.push(ce);else{const _e=X.get(fe);_e&&_e.visible&&oe.push(_e)}}if(this.nodes.length>0&&oe.length===0){const ce=this.getFirstViewElementWithTrait();ce&&oe.push(ce)}this._set(oe,!0)}createNodeSet(){const W=new Set;for(const q of this.nodes)W.add(q);return W}}class ue extends b.MouseController{constructor(W,q,z){super(W),this.tree=q,this.stickyScrollProvider=z}onViewPointer(W){if((0,b.isButton)(W.browserEvent.target)||(0,b.isInputElement)(W.browserEvent.target)||(0,b.isMonacoEditor)(W.browserEvent.target)||W.browserEvent.isHandledByList)return;const q=W.element;if(!q)return super.onViewPointer(W);if(this.isSelectionRangeChangeEvent(W)||this.isSelectionSingleChangeEvent(W))return super.onViewPointer(W);const z=W.browserEvent.target,$=z.classList.contains("monaco-tl-twistie")||z.classList.contains("monaco-icon-label")&&z.classList.contains("folder-icon")&&W.browserEvent.offsetX<16,X=(0,b.isStickyScrollElement)(W.browserEvent.target);let ee=!1;if(X?ee=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?ee=this.tree.expandOnlyOnTwistieClick(q.element):ee=!!this.tree.expandOnlyOnTwistieClick,X)this.handleStickyScrollMouseEvent(W,q);else{if(ee&&!$&&W.browserEvent.detail!==2)return super.onViewPointer(W);if(!this.tree.expandOnDoubleClick&&W.browserEvent.detail===2)return super.onViewPointer(W)}if(q.collapsible&&(!X||$)){const oe=this.tree.getNodeLocation(q),ce=W.browserEvent.altKey;if(this.tree.setFocus([oe]),this.tree.toggleCollapsed(oe,ce),$){W.browserEvent.isHandledByList=!0;return}}X||super.onViewPointer(W)}handleStickyScrollMouseEvent(W,q){if((0,b.isMonacoCustomToggle)(W.browserEvent.target)||(0,b.isActionItem)(W.browserEvent.target))return;const z=this.stickyScrollProvider();if(!z)throw new Error("Sticky scroll controller not found");const $=this.list.indexOf(q),X=this.list.getElementTop($),ee=z.nodePositionTopBelowWidget(q);this.tree.scrollTop=X-ee,this.list.domFocus(),this.list.setFocus([$]),this.list.setSelection([$])}onDoubleClick(W){W.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||W.browserEvent.isHandledByList||super.onDoubleClick(W)}onMouseDown(W){const q=W.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){super.onMouseDown(W);return}}onContextMenu(W){const q=W.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){super.onContextMenu(W);return}}}class ie extends b.List{constructor(W,q,z,$,X,ee,oe,ce){super(W,q,z,$,ce),this.focusTrait=X,this.selectionTrait=ee,this.anchorTrait=oe}createMouseController(W){return new ue(this,W.tree,W.stickyScrollProvider)}splice(W,q,z=[]){if(super.splice(W,q,z),z.length===0)return;const $=[],X=[];let ee;z.forEach((oe,ce)=>{this.focusTrait.has(oe)&&$.push(W+ce),this.selectionTrait.has(oe)&&X.push(W+ce),this.anchorTrait.has(oe)&&(ee=W+ce)}),$.length>0&&super.setFocus((0,i.distinct)([...super.getFocus(),...$])),X.length>0&&super.setSelection((0,i.distinct)([...super.getSelection(),...X])),typeof ee=="number"&&super.setAnchor(ee)}setFocus(W,q,z=!1){super.setFocus(W,q),z||this.focusTrait.set(W.map($=>this.element($)),q)}setSelection(W,q,z=!1){super.setSelection(W,q),z||this.selectionTrait.set(W.map($=>this.element($)),q)}setAnchor(W,q=!1){super.setAnchor(W),q||(typeof W>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(W)]))}}class se{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return a.Event.filter(a.Event.map(this.view.onMouseDblClick,te),W=>W.target!==o.TreeMouseEventTarget.Filter)}get onMouseOver(){return a.Event.map(this.view.onMouseOver,te)}get onMouseOut(){return a.Event.map(this.view.onMouseOut,te)}get onContextMenu(){var W,q;return a.Event.any(a.Event.filter(a.Event.map(this.view.onContextMenu,de),z=>!z.isStickyScroll),(q=(W=this.stickyScrollController)===null||W===void 0?void 0:W.onContextMenu)!==null&&q!==void 0?q:a.Event.None)}get onPointer(){return a.Event.map(this.view.onPointer,te)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return a.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var W,q;return(q=(W=this.findController)===null||W===void 0?void 0:W.mode)!==null&&q!==void 0?q:H.Highlight}set findMode(W){this.findController&&(this.findController.mode=W)}get findMatchType(){var W,q;return(q=(W=this.findController)===null||W===void 0?void 0:W.matchType)!==null&&q!==void 0?q:K.Fuzzy}set findMatchType(W){this.findController&&(this.findController.matchType=W)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(W,q,z,$,X={}){var ee;this._user=W,this._options=X,this.eventBufferer=new a.EventBufferer,this.onDidChangeFindOpenState=a.Event.None,this.onDidChangeStickyScrollFocused=a.Event.None,this.disposables=new d.DisposableStore,this._onWillRefilter=new a.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new a.Emitter,this.treeDelegate=new N(z);const oe=new a.Relay,ce=new a.Relay,fe=this.disposables.add(new R(ce.event)),ve=new r.SetMap;this.renderers=$.map(Le=>new M(Le,()=>this.model,oe.event,fe,ve,X));for(const Le of this.renderers)this.disposables.add(Le);let _e;X.keyboardNavigationLabelProvider&&(_e=new P(this,X.keyboardNavigationLabelProvider,X.filter),X={...X,filter:_e},this.disposables.add(_e)),this.focus=new pe(()=>this.view.getFocusedElements()[0],X.identityProvider),this.selection=new pe(()=>this.view.getSelectedElements()[0],X.identityProvider),this.anchor=new pe(()=>this.view.getAnchorElement(),X.identityProvider),this.view=new ie(W,q,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...T(()=>this.model,X),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(W,this.view,X),oe.input=this.model.onDidChangeCollapseState;const Ie=a.Event.forEach(this.model.onDidSplice,Le=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Le),this.selection.onDidModelSplice(Le)})},this.disposables);Ie(()=>null,null,this.disposables);const Ce=this.disposables.add(new a.Emitter),Ee=this.disposables.add(new n.Delayer(0));if(this.disposables.add(a.Event.any(Ie,this.focus.onDidChange,this.selection.onDidChange)(()=>{Ee.trigger(()=>{const Le=new Set;for(const Te of this.focus.getNodes())Le.add(Te);for(const Te of this.selection.getNodes())Le.add(Te);Ce.fire([...Le.values()])})})),ce.input=Ce.event,X.keyboardSupport!==!1){const Le=a.Event.chain(this.view.onKeyDown,Te=>Te.filter(Ae=>!(0,b.isInputElement)(Ae.target)).map(Ae=>new E.StandardKeyboardEvent(Ae)));a.Event.chain(Le,Te=>Te.filter(Ae=>Ae.keyCode===15))(this.onLeftArrow,this,this.disposables),a.Event.chain(Le,Te=>Te.filter(Ae=>Ae.keyCode===17))(this.onRightArrow,this,this.disposables),a.Event.chain(Le,Te=>Te.filter(Ae=>Ae.keyCode===10))(this.onSpace,this,this.disposables)}if((!((ee=X.findWidgetEnabled)!==null&&ee!==void 0)||ee)&&X.keyboardNavigationLabelProvider&&X.contextViewProvider){const Le=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new j(this,this.model,this.view,_e,X.contextViewProvider,Le),this.focusNavigationFilter=Te=>this.findController.shouldAllowFocus(Te),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=a.Event.None,this.onDidChangeFindMatchType=a.Event.None;X.enableStickyScroll&&(this.stickyScrollController=new G(this,this.model,this.view,this.renderers,this.treeDelegate,X),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,f.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}updateOptions(W={}){var q;this._options={...this._options,...W};for(const z of this.renderers)z.updateOptions(W);this.view.updateOptions(this._options),(q=this.findController)===null||q===void 0||q.updateOptions(W),this.updateStickyScroll(W),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}get options(){return this._options}updateStickyScroll(W){var q;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new G(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=a.Event.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(q=this.stickyScrollController)===null||q===void 0||q.updateOptions(W)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(W){this.view.scrollTop=W}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(W){this.view.ariaLabel=W}domFocus(){var W;!((W=this.stickyScrollController)===null||W===void 0)&&W.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(W,q){var z;this.view.layout(W,q),(0,h.isNumber)(q)&&((z=this.findController)===null||z===void 0||z.layout(q))}style(W){var q,z;const $=`.${this.view.domId}`,X=[];W.treeIndentGuidesStroke&&(X.push(`.monaco-list${$}:hover .monaco-tl-indent > .indent-guide, .monaco-list${$}.always .monaco-tl-indent > .indent-guide  { border-color: ${W.treeInactiveIndentGuidesStroke}; }`),X.push(`.monaco-list${$} .monaco-tl-indent > .indent-guide.active { border-color: ${W.treeIndentGuidesStroke}; }`));const ee=(q=W.treeStickyScrollBackground)!==null&&q!==void 0?q:W.listBackground;ee&&(X.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${ee}; }`),X.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${ee}; }`)),W.treeStickyScrollBorder&&X.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${W.treeStickyScrollBorder}; }`),W.treeStickyScrollShadow&&X.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${W.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),W.listFocusForeground&&(X.push(`.monaco-list${$}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),X.push(`.monaco-list${$}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const oe=(0,f.asCssValueWithDefault)(W.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(W.listSelectionOutline,(z=W.listFocusOutline)!==null&&z!==void 0?z:""));oe&&(X.push(`.monaco-list${$}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${oe}; outline-offset: -1px;}`),X.push(`.monaco-list${$}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),W.listFocusOutline&&(X.push(`.monaco-list${$}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),X.push(`.monaco-list${$}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),X.push(`.monaco-workbench.context-menu-visible .monaco-list${$}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),X.push(`.monaco-workbench.context-menu-visible .monaco-list${$}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),X.push(`.monaco-workbench.context-menu-visible .monaco-list${$}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=X.join(`
`),this.view.style(W)}getParentElement(W){const q=this.model.getParentNodeLocation(W);return this.model.getNode(q).element}getFirstElementChild(W){return this.model.getFirstElementChild(W)}getNode(W){return this.model.getNode(W)}getNodeLocation(W){return this.model.getNodeLocation(W)}collapse(W,q=!1){return this.model.setCollapsed(W,!0,q)}expand(W,q=!1){return this.model.setCollapsed(W,!1,q)}toggleCollapsed(W,q=!1){return this.model.setCollapsed(W,void 0,q)}isCollapsible(W){return this.model.isCollapsible(W)}setCollapsible(W,q){return this.model.setCollapsible(W,q)}isCollapsed(W){return this.model.isCollapsed(W)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(W,q){this.eventBufferer.bufferEvents(()=>{const z=W.map(X=>this.model.getNode(X));this.selection.set(z,q);const $=W.map(X=>this.model.getListIndex(X)).filter(X=>X>-1);this.view.setSelection($,q,!0)})}getSelection(){return this.selection.get()}setFocus(W,q){this.eventBufferer.bufferEvents(()=>{const z=W.map(X=>this.model.getNode(X));this.focus.set(z,q);const $=W.map(X=>this.model.getListIndex(X)).filter(X=>X>-1);this.view.setFocus($,q,!0)})}focusNext(W=1,q=!1,z,$=(0,f.isKeyboardEvent)(z)&&z.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(W,q,z,$)}focusPrevious(W=1,q=!1,z,$=(0,f.isKeyboardEvent)(z)&&z.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(W,q,z,$)}focusNextPage(W,q=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(W,q)}focusPreviousPage(W,q=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(W,q,()=>{var z,$;return($=(z=this.stickyScrollController)===null||z===void 0?void 0:z.height)!==null&&$!==void 0?$:0})}focusLast(W,q=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(W,q)}focusFirst(W,q=(0,f.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(W,q)}getFocus(){return this.focus.get()}reveal(W,q){this.model.expandTo(W);const z=this.model.getListIndex(W);if(z!==-1)if(!this.stickyScrollController)this.view.reveal(z,q);else{const $=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(W));this.view.reveal(z,q,$)}}onLeftArrow(W){W.preventDefault(),W.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const z=q[0],$=this.model.getNodeLocation(z);if(!this.model.setCollapsed($,!0)){const ee=this.model.getParentNodeLocation($);if(!ee)return;const oe=this.model.getListIndex(ee);this.view.reveal(oe),this.view.setFocus([oe])}}onRightArrow(W){W.preventDefault(),W.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const z=q[0],$=this.model.getNodeLocation(z);if(!this.model.setCollapsed($,!1)){if(!z.children.some(ce=>ce.visible))return;const[ee]=this.view.getFocus(),oe=ee+1;this.view.reveal(oe),this.view.setFocus([oe])}}onSpace(W){W.preventDefault(),W.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const z=q[0],$=this.model.getNodeLocation(z),X=W.browserEvent.altKey;this.model.setCollapsed($,void 0,X)}dispose(){var W;(0,d.dispose)(this.disposables),(W=this.stickyScrollController)===null||W===void 0||W.dispose(),this.view.dispose()}}e.AbstractTree=se}),define(re[654],ae([1,0,174,226]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class E extends f.AbstractTree{constructor(y,m,w,b,v,s={}){super(y,m,w,b,s),this.user=y,this.dataSource=v,this.identityProvider=s.identityProvider}createModel(y,m,w){return new k.ObjectTreeModel(y,m,w)}}e.DataTree=E}),define(re[366],ae([1,0,174,456,226,124,53]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class m extends f.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(t,i,n,c,u={}){super(t,i,n,c,u),this.user=t}setChildren(t,i=y.Iterable.empty(),n){this.model.setChildren(t,i,n)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}hasElement(t){return this.model.has(t)}createModel(t,i,n){return new E.ObjectTreeModel(t,i,n)}}e.ObjectTree=m;class w{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(t,i,n){this._compressedTreeNodeProvider=t,this.stickyScrollDelegate=i,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(t){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(t)}}renderElement(t,i,n,c){let u=this.stickyScrollDelegate.getCompressedNode(t);u||(u=this.compressedTreeNodeProvider.getCompressedTreeNode(t.element)),u.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(t,i,n.data,c)):(n.compressedTreeNode=u,this.renderer.renderCompressedElements(u,i,n.data,c))}disposeElement(t,i,n,c){var u,r,a,l;n.compressedTreeNode?(r=(u=this.renderer).disposeCompressedElements)===null||r===void 0||r.call(u,n.compressedTreeNode,i,n.data,c):(l=(a=this.renderer).disposeElement)===null||l===void 0||l.call(a,t,i,n.data,c)}disposeTemplate(t){this.renderer.disposeTemplate(t.data)}renderTwistie(t,i){return this.renderer.renderTwistie?this.renderer.renderTwistie(t,i):!1}}ke([I.memoize],w.prototype,"compressedTreeNodeProvider",null);class b{constructor(t){this.modelProvider=t,this.compressedStickyNodes=new Map}getCompressedNode(t){return this.compressedStickyNodes.get(t)}constrainStickyScrollNodes(t,i,n){if(this.compressedStickyNodes.clear(),t.length===0)return[];for(let c=0;c<t.length;c++){const u=t[c],r=u.position+u.height;if(c+1<t.length&&r+t[c+1].height>n||c>=i-1&&i<t.length){const l=t.slice(0,c),d=t.slice(c),p=this.compressStickyNodes(d);return[...l,p]}}return t}compressStickyNodes(t){if(t.length===0)throw new Error("Can't compress empty sticky nodes");const i=this.modelProvider();if(!i.isCompressionEnabled())return t[0];const n=[];for(let d=0;d<t.length;d++){const p=t[d],h=i.getCompressedTreeNode(p.node.element);if(h.element){if(d!==0&&h.element.incompressible)break;n.push(...h.element.elements)}}if(n.length<2)return t[0];const c=t[t.length-1],u={elements:n,incompressible:!1},r={...c.node,children:[],element:u},a=new Proxy(t[0].node,{}),l={node:a,startIndex:t[0].startIndex,endIndex:c.endIndex,position:t[0].position,height:t[0].height};return this.compressedStickyNodes.set(a,r),l}}function v(o,t){return t&&{...t,keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=o().getCompressedTreeNode(i)}catch{return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return n.element.elements.length===1?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}}}class s extends m{constructor(t,i,n,c,u={}){const r=()=>this,a=new b(()=>this.model),l=c.map(d=>new w(r,a,d));super(t,i,n,l,{...v(r,u),stickyScrollDelegate:a})}setChildren(t,i=y.Iterable.empty(),n){this.model.setChildren(t,i,n)}createModel(t,i,n){return new k.CompressibleObjectTreeModel(t,i,n)}updateOptions(t={}){super.updateOptions(t),typeof t.compressionEnabled<"u"&&this.model.setCompressionEnabled(t.compressionEnabled)}getCompressedTreeNode(t=null){return this.model.getCompressedTreeNode(t)}}e.CompressibleObjectTree=s}),define(re[655],ae([1,0,235,174,225,366,155,14,26,30,8,6,53,2,19]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function n(R){return{...R,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function c(R,M){return M.parent?M.parent===R?!0:c(R,M.parent):!1}function u(R,M){return R===M||c(R,M)||c(M,R)}class r{get element(){return this.node.element.element}get children(){return this.node.children.map(M=>new r(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class a{constructor(M,P,x){this.renderer=M,this.nodeMapper=P,this.onDidChangeTwistieState=x,this.renderedNodes=new Map,this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,P,x,O){this.renderer.renderElement(this.nodeMapper.map(M),P,x.templateData,O)}renderTwistie(M,P){return M.slow?(P.classList.add(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,P,x,O){var B,H;(H=(B=this.renderer).disposeElement)===null||H===void 0||H.call(B,this.nodeMapper.map(M),P,x.templateData,O)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear()}}function l(R){return{browserEvent:R.browserEvent,elements:R.elements.map(M=>M.element)}}function d(R){return{browserEvent:R.browserEvent,element:R.element&&R.element.element,target:R.target}}class p extends f.ElementsDragAndDropData{constructor(M){super(M.elements.map(P=>P.element)),this.data=M}}function h(R){return R instanceof f.ElementsDragAndDropData?new p(R):R}class g{constructor(M){this.dnd=M}getDragURI(M){return this.dnd.getDragURI(M.element)}getDragLabel(M,P){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(M.map(x=>x.element),P)}onDragStart(M,P){var x,O;(O=(x=this.dnd).onDragStart)===null||O===void 0||O.call(x,h(M),P)}onDragOver(M,P,x,O,B,H=!0){return this.dnd.onDragOver(h(M),P&&P.element,x,O,B)}drop(M,P,x,O,B){this.dnd.drop(h(M),P&&P.element,x,O,B)}onDragEnd(M){var P,x;(x=(P=this.dnd).onDragEnd)===null||x===void 0||x.call(P,M)}dispose(){this.dnd.dispose()}}function C(R){return R&&{...R,collapseByDefault:!0,identityProvider:R.identityProvider&&{getId(M){return R.identityProvider.getId(M.element)}},dnd:R.dnd&&new g(R.dnd),multipleSelectionController:R.multipleSelectionController&&{isSelectionSingleChangeEvent(M){return R.multipleSelectionController.isSelectionSingleChangeEvent({...M,element:M.element})},isSelectionRangeChangeEvent(M){return R.multipleSelectionController.isSelectionRangeChangeEvent({...M,element:M.element})}},accessibilityProvider:R.accessibilityProvider&&{...R.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:R.accessibilityProvider.getRole?M=>R.accessibilityProvider.getRole(M.element):()=>"treeitem",isChecked:R.accessibilityProvider.isChecked?M=>{var P;return!!(!((P=R.accessibilityProvider)===null||P===void 0)&&P.isChecked(M.element))}:void 0,getAriaLabel(M){return R.accessibilityProvider.getAriaLabel(M.element)},getWidgetAriaLabel(){return R.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:R.accessibilityProvider.getWidgetRole?()=>R.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:R.accessibilityProvider.getAriaLevel&&(M=>R.accessibilityProvider.getAriaLevel(M.element)),getActiveDescendantId:R.accessibilityProvider.getActiveDescendantId&&(M=>R.accessibilityProvider.getActiveDescendantId(M.element))},filter:R.filter&&{filter(M,P){return R.filter.filter(M.element,P)}},keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&{...R.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(M){return R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(M.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof R.expandOnlyOnTwistieClick>"u"?void 0:typeof R.expandOnlyOnTwistieClick!="function"?R.expandOnlyOnTwistieClick:M=>R.expandOnlyOnTwistieClick(M.element),defaultFindVisibility:M=>M.hasChildren&&M.stale?1:typeof R.defaultFindVisibility=="number"?R.defaultFindVisibility:typeof R.defaultFindVisibility>"u"?2:R.defaultFindVisibility(M.element)}}function S(R,M){M(R),R.children.forEach(P=>S(P,M))}class _{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return s.Event.map(this.tree.onDidChangeFocus,l)}get onDidChangeSelection(){return s.Event.map(this.tree.onDidChangeSelection,l)}get onMouseDblClick(){return s.Event.map(this.tree.onMouseDblClick,d)}get onPointer(){return s.Event.map(this.tree.onPointer,d)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(M,P,x,O,B,H={}){this.user=M,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new s.Emitter,this._onDidChangeNodeSlowState=new s.Emitter,this.nodeMapper=new y.WeakMapper(K=>new r(K)),this.disposables=new t.DisposableStore,this.identityProvider=H.identityProvider,this.autoExpandSingleChildren=typeof H.autoExpandSingleChildren>"u"?!1:H.autoExpandSingleChildren,this.sorter=H.sorter,this.getDefaultCollapseState=K=>H.collapseByDefault?H.collapseByDefault(K)?y.ObjectTreeElementCollapseState.PreserveOrCollapsed:y.ObjectTreeElementCollapseState.PreserveOrExpanded:void 0,this.tree=this.createTree(M,P,x,O,H),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=n({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(M,P,x,O,B){const H=new k.ComposedTreeDelegate(x),K=O.map(j=>new a(j,this.nodeMapper,this._onDidChangeNodeSlowState.event)),V=C(B)||{};return new I.ObjectTree(M,P,H,K,V)}updateOptions(M={}){this.tree.updateOptions(M)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(M){this.tree.scrollTop=M}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(M,P){this.tree.layout(M,P)}style(M){this.tree.style(M)}getInput(){return this.root.element}async setInput(M,P){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=M;const x=P&&{viewState:P,focus:[],selection:[]};await this._updateChildren(M,!0,!1,x),x&&(this.tree.setFocus(x.focus),this.tree.setSelection(x.selection)),P&&typeof P.scrollTop=="number"&&(this.scrollTop=P.scrollTop)}async _updateChildren(M=this.root.element,P=!0,x=!1,O,B){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await s.Event.toPromise(this._onDidRender.event));const H=this.getDataNode(M);if(await this.refreshAndRenderNode(H,P,O,B),x)try{this.tree.rerender(H)}catch{}}rerender(M){if(M===void 0||M===this.root.element){this.tree.rerender();return}const P=this.getDataNode(M);this.tree.rerender(P)}getNode(M=this.root.element){const P=this.getDataNode(M),x=this.tree.getNode(P===this.root?null:P);return this.nodeMapper.map(x)}collapse(M,P=!1){const x=this.getDataNode(M);return this.tree.collapse(x===this.root?null:x,P)}async expand(M,P=!1){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await s.Event.toPromise(this._onDidRender.event));const x=this.getDataNode(M);if(this.tree.hasElement(x)&&!this.tree.isCollapsible(x)||(x.refreshPromise&&(await this.root.refreshPromise,await s.Event.toPromise(this._onDidRender.event)),x!==this.root&&!x.refreshPromise&&!this.tree.isCollapsed(x)))return!1;const O=this.tree.expand(x===this.root?null:x,P);return x.refreshPromise&&(await this.root.refreshPromise,await s.Event.toPromise(this._onDidRender.event)),O}setSelection(M,P){const x=M.map(O=>this.getDataNode(O));this.tree.setSelection(x,P)}getSelection(){return this.tree.getSelection().map(P=>P.element)}setFocus(M,P){const x=M.map(O=>this.getDataNode(O));this.tree.setFocus(x,P)}getFocus(){return this.tree.getFocus().map(P=>P.element)}reveal(M,P){this.tree.reveal(this.getDataNode(M),P)}getParentElement(M){const P=this.tree.getParentElement(this.getDataNode(M));return P&&P.element}getFirstElementChild(M=this.root.element){const P=this.getDataNode(M),x=this.tree.getFirstElementChild(P===this.root?null:P);return x&&x.element}getDataNode(M){const P=this.nodes.get(M===this.root.element?null:M);if(!P)throw new y.TreeError(this.user,`Data tree node not found: ${M}`);return P}async refreshAndRenderNode(M,P,x,O){await this.refreshNode(M,P,x),!this.disposables.isDisposed&&this.render(M,x,O)}async refreshNode(M,P,x){let O;if(this.subTreeRefreshPromises.forEach((B,H)=>{!O&&u(H,M)&&(O=B.then(()=>this.refreshNode(M,P,x)))}),O)return O;if(M!==this.root&&this.tree.getNode(M).collapsed){M.hasChildren=!!this.dataSource.hasChildren(M.element),M.stale=!0,this.setChildren(M,[],P,x);return}return this.doRefreshSubTree(M,P,x)}async doRefreshSubTree(M,P,x){let O;M.refreshPromise=new Promise(B=>O=B),this.subTreeRefreshPromises.set(M,M.refreshPromise),M.refreshPromise.finally(()=>{M.refreshPromise=void 0,this.subTreeRefreshPromises.delete(M)});try{const B=await this.doRefreshNode(M,P,x);M.stale=!1,await m.Promises.settled(B.map(H=>this.doRefreshSubTree(H,P,x)))}finally{O()}}async doRefreshNode(M,P,x){M.hasChildren=!!this.dataSource.hasChildren(M.element);let O;if(!M.hasChildren)O=Promise.resolve(o.Iterable.empty());else{const B=this.doGetChildren(M);if((0,i.isIterable)(B))O=Promise.resolve(B);else{const H=(0,m.timeout)(800);H.then(()=>{M.slow=!0,this._onDidChangeNodeSlowState.fire(M)},K=>null),O=B.finally(()=>H.cancel())}}try{const B=await O;return this.setChildren(M,B,P,x)}catch(B){if(M!==this.root&&this.tree.hasElement(M)&&this.tree.collapse(M),(0,v.isCancellationError)(B))return[];throw B}finally{M.slow&&(M.slow=!1,this._onDidChangeNodeSlowState.fire(M))}}doGetChildren(M){let P=this.refreshPromises.get(M);if(P)return P;const x=this.dataSource.getChildren(M.element);return(0,i.isIterable)(x)?this.processChildren(x):(P=(0,m.createCancelablePromise)(async()=>this.processChildren(await x)),this.refreshPromises.set(M,P),P.finally(()=>{this.refreshPromises.delete(M)}))}_onDidChangeCollapseState({node:M,deep:P}){M.element!==null&&!M.collapsed&&M.element.stale&&(P?this.collapse(M.element.element):this.refreshAndRenderNode(M.element,!1).catch(v.onUnexpectedError))}setChildren(M,P,x,O){const B=[...P];if(M.children.length===0&&B.length===0)return[];const H=new Map,K=new Map;for(const U of M.children)H.set(U.element,U),this.identityProvider&&K.set(U.id,{node:U,collapsed:this.tree.hasElement(U)&&this.tree.isCollapsed(U)});const V=[],j=B.map(U=>{const Y=!!this.dataSource.hasChildren(U);if(!this.identityProvider){const F=n({element:U,parent:M,hasChildren:Y,defaultCollapseState:this.getDefaultCollapseState(U)});return Y&&F.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded&&V.push(F),F}const Q=this.identityProvider.getId(U).toString(),Z=K.get(Q);if(Z){const F=Z.node;return H.delete(F.element),this.nodes.delete(F.element),this.nodes.set(U,F),F.element=U,F.hasChildren=Y,x?Z.collapsed?(F.children.forEach(J=>S(J,te=>this.nodes.delete(te.element))),F.children.splice(0,F.children.length),F.stale=!0):V.push(F):Y&&!Z.collapsed&&V.push(F),F}const G=n({element:U,parent:M,id:Q,hasChildren:Y,defaultCollapseState:this.getDefaultCollapseState(U)});return O&&O.viewState.focus&&O.viewState.focus.indexOf(Q)>-1&&O.focus.push(G),O&&O.viewState.selection&&O.viewState.selection.indexOf(Q)>-1&&O.selection.push(G),(O&&O.viewState.expanded&&O.viewState.expanded.indexOf(Q)>-1||Y&&G.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded)&&V.push(G),G});for(const U of H.values())S(U,Y=>this.nodes.delete(Y.element));for(const U of j)this.nodes.set(U.element,U);return M.children.splice(0,M.children.length,...j),M!==this.root&&this.autoExpandSingleChildren&&j.length===1&&V.length===0&&(j[0].forceExpanded=!0,V.push(j[0])),V}render(M,P,x){const O=M.children.map(H=>this.asTreeElement(H,P)),B=x&&{...x,diffIdentityProvider:x.diffIdentityProvider&&{getId(H){return x.diffIdentityProvider.getId(H.element)}}};this.tree.setChildren(M===this.root?null:M,O,B),M!==this.root&&this.tree.setCollapsible(M,M.hasChildren),this._onDidRender.fire()}asTreeElement(M,P){if(M.stale)return{element:M,collapsible:M.hasChildren,collapsed:!0};let x;return P&&P.viewState.expanded&&M.id&&P.viewState.expanded.indexOf(M.id)>-1?x=!1:M.forceExpanded?(x=!1,M.forceExpanded=!1):x=M.defaultCollapseState,{element:M,children:M.hasChildren?o.Iterable.map(M.children,O=>this.asTreeElement(O,P)):[],collapsible:M.hasChildren,collapsed:x}}processChildren(M){return this.sorter&&(M=[...M].sort(this.sorter.compare.bind(this.sorter))),M}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=_;class L{get element(){return{elements:this.node.element.elements.map(M=>M.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(M=>new L(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class D{constructor(M,P,x,O){this.renderer=M,this.nodeMapper=P,this.compressibleNodeMapperProvider=x,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,P,x,O){this.renderer.renderElement(this.nodeMapper.map(M),P,x.templateData,O)}renderCompressedElements(M,P,x,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(M),P,x.templateData,O)}renderTwistie(M,P){return M.slow?(P.classList.add(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,P,x,O){var B,H;(H=(B=this.renderer).disposeElement)===null||H===void 0||H.call(B,this.nodeMapper.map(M),P,x.templateData,O)}disposeCompressedElements(M,P,x,O){var B,H;(H=(B=this.renderer).disposeCompressedElements)===null||H===void 0||H.call(B,this.compressibleNodeMapperProvider().map(M),P,x.templateData,O)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,t.dispose)(this.disposables)}}function T(R){const M=R&&C(R);return M&&{...M,keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&{...M.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(P){return R.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(P.map(x=>x.element))}}}}class N extends _{constructor(M,P,x,O,B,H,K={}){super(M,P,x,B,H,K),this.compressionDelegate=O,this.compressibleNodeMapper=new y.WeakMapper(V=>new L(V)),this.filter=K.filter}createTree(M,P,x,O,B){const H=new k.ComposedTreeDelegate(x),K=O.map(j=>new D(j,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),V=T(B)||{};return new I.CompressibleObjectTree(M,P,H,K,V)}asTreeElement(M,P){return{incompressible:this.compressionDelegate.isIncompressible(M.element),...super.asTreeElement(M,P)}}updateOptions(M={}){this.tree.updateOptions(M)}render(M,P,x){if(!this.identityProvider)return super.render(M,P);const O=Z=>this.identityProvider.getId(Z).toString(),B=Z=>{const G=new Set;for(const F of Z){const J=this.tree.getCompressedTreeNode(F===this.root?null:F);if(J.element)for(const te of J.element.elements)G.add(O(te.element))}return G},H=B(this.tree.getSelection()),K=B(this.tree.getFocus());super.render(M,P,x);const V=this.getSelection();let j=!1;const U=this.getFocus();let Y=!1;const Q=Z=>{const G=Z.element;if(G)for(let F=0;F<G.elements.length;F++){const J=O(G.elements[F].element),te=G.elements[G.elements.length-1].element;H.has(J)&&V.indexOf(te)===-1&&(V.push(te),j=!0),K.has(J)&&U.indexOf(te)===-1&&(U.push(te),Y=!0)}Z.children.forEach(Q)};Q(this.tree.getCompressedTreeNode(M===this.root?null:M)),j&&this.setSelection(V),Y&&this.setFocus(U)}processChildren(M){return this.filter&&(M=o.Iterable.filter(M,P=>{const x=this.filter.filter(P,1),O=A(x);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(M)}}e.CompressibleAsyncDataTree=N;function A(R){return typeof R=="boolean"?R?1:0:(0,E.isFilterResult)(R)?(0,E.getVisibleState)(R.visibility):(0,E.getVisibleState)(R)}}),define(re[367],ae([1,0,13,19,3]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=w;function I(b,v){return v&&(b.stack||b.stacktrace)?E.localize(1847,"{0}: {1}",m(b),y(b.stack)||y(b.stacktrace)):m(b)}function y(b){return Array.isArray(b)?b.join(`
`):b}function m(b){return b.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${b.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof b.code=="string"&&typeof b.errno=="number"&&typeof b.syscall=="string"?E.localize(1848,"A system error occurred ({0})",b.message):b.message||E.localize(1849,"An unknown error occurred. Please consult the log for more details.")}function w(b=null,v=!1){if(!b)return E.localize(1850,"An unknown error occurred. Please consult the log for more details.");if(Array.isArray(b)){const s=f.coalesce(b),o=w(s[0],v);return s.length>1?E.localize(1851,"{0} ({1} errors in total)",o,s.length):o}if(k.isString(b))return b;if(b.detail){const s=b.detail;if(s.error)return I(s.error,v);if(s.exception)return I(s.exception,v)}return b.stack?I(b,v):b.message?b.message:E.localize(1852,"An unknown error occurred. Please consult the log for more details.")}}),define(re[260],ae([1,0,3]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(y,m,w=m){this.modifierLabels=[null],this.modifierLabels[2]=y,this.modifierLabels[1]=m,this.modifierLabels[3]=w}toLabel(y,m,w){if(m.length===0)return null;const b=[];for(let v=0,s=m.length;v<s;v++){const o=m[v],t=w(o);if(t===null)return null;b[v]=E(o,t,this.modifierLabels[y])}return b.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:f.localize(1827,"Ctrl"),shiftKey:f.localize(1828,"Shift"),altKey:f.localize(1829,"Alt"),metaKey:f.localize(1830,"Windows"),separator:"+"},{ctrlKey:f.localize(1831,"Ctrl"),shiftKey:f.localize(1832,"Shift"),altKey:f.localize(1833,"Alt"),metaKey:f.localize(1834,"Super"),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:f.localize(1835,"Control"),shiftKey:f.localize(1836,"Shift"),altKey:f.localize(1837,"Option"),metaKey:f.localize(1838,"Command"),separator:"+"},{ctrlKey:f.localize(1839,"Control"),shiftKey:f.localize(1840,"Shift"),altKey:f.localize(1841,"Alt"),metaKey:f.localize(1842,"Windows"),separator:"+"},{ctrlKey:f.localize(1843,"Control"),shiftKey:f.localize(1844,"Shift"),altKey:f.localize(1845,"Alt"),metaKey:f.localize(1846,"Super"),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function E(I,y,m){if(y===null)return"";const w=[];return I.ctrlKey&&w.push(m.ctrlKey),I.shiftKey&&w.push(m.shiftKey),I.altKey&&w.push(m.altKey),I.metaKey&&w.push(m.metaKey),y!==""&&w.push(y),w.join(m.separator)}}),define(re[207],ae([1,0,4,82,43,260,2,54,3,475]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const b=f.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class v extends y.Disposable{constructor(o,t,i){super(),this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=f.append(o,b(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.hover=this._register((0,k.getBaseLayerHoverDelegate)().setupManagedHover((0,E.getDefaultHoverDelegate)("mouse"),this.domNode,"")),this.didEverRender=!1,o.appendChild(this.domNode)}get element(){return this.domNode}set(o,t){this.didEverRender&&this.keybinding===o&&v.areSame(this.matches,t)||(this.keybinding=o,this.matches=t,this.render())}render(){var o;if(this.clear(),this.keybinding){const t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let n=1;n<t.length;n++)f.append(this.domNode,b("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[n],this.matches?this.matches.chordPart:null);const i=(o=this.options.disableTitle)!==null&&o!==void 0&&o?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(i),this.domNode.setAttribute("aria-label",i||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){f.clearNode(this.domNode),this.keyElements.clear()}renderChord(o,t,i){const n=I.UILabelProvider.modifierLabels[this.os];t.ctrlKey&&this.renderKey(o,n.ctrlKey,!!i?.ctrlKey,n.separator),t.shiftKey&&this.renderKey(o,n.shiftKey,!!i?.shiftKey,n.separator),t.altKey&&this.renderKey(o,n.altKey,!!i?.altKey,n.separator),t.metaKey&&this.renderKey(o,n.metaKey,!!i?.metaKey,n.separator);const c=t.keyLabel;c&&this.renderKey(o,c,!!i?.keyCode,"")}renderKey(o,t,i,n){f.append(o,this.createKeyElement(t,i?".highlight":"")),n&&f.append(o,b("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(o){f.append(o,this.createKeyElement((0,w.localize)(1012,"Unbound")))}createKeyElement(o,t=""){const i=b("span.monaco-keybinding-key"+t,void 0,o);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(o,t){return o===t||!o&&!t?!0:!!o&&!!t&&(0,m.equals)(o.firstPart,t.firstPart)&&(0,m.equals)(o.chordPart,t.chordPart)}}e.KeybindingLabel=v}),define(re[656],ae([1,0,4,18,55,19,3]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ManagedHoverWidget=void 0;class m{constructor(b,v,s){this.hoverDelegate=b,this.target=v,this.fadeInAnimation=s}async update(b,v,s){var o;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let t;if(b===void 0||(0,I.isString)(b)||(0,f.isHTMLElement)(b))t=b;else if(!(0,I.isFunction)(b.markdown))t=(o=b.markdown)!==null&&o!==void 0?o:b.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,y.localize)(784,"Loading..."),v,s),this._cancellationTokenSource=new k.CancellationTokenSource;const i=this._cancellationTokenSource.token;if(t=await b.markdown(i),t===void 0&&(t=b.markdownNotSupportedFallback),this.isDisposed||i.isCancellationRequested)return}this.show(t,v,s)}show(b,v,s){const o=this._hoverWidget;if(this.hasContent(b)){const t={content:b,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!o},position:{hoverPosition:2},...s};this._hoverWidget=this.hoverDelegate.showHover(t,v)}o?.dispose()}hasContent(b){return b?(0,E.isMarkdownString)(b)?!!b.value:!0:!1}get isDisposed(){var b;return(b=this._hoverWidget)===null||b===void 0?void 0:b.isDisposed}dispose(){var b,v;(b=this._hoverWidget)===null||b===void 0||b.dispose(),(v=this._cancellationTokenSource)===null||v===void 0||v.dispose(!0),this._cancellationTokenSource=void 0}}e.ManagedHoverWidget=m}),define(re[657],ae([1,0,4,40,26,2,16,30,3]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class b extends I.Disposable{get visibility(){return this._visibility}set visibility(s){this._visibility!==s&&(this._visibility=s,this._diffActions.style.visibility=s?"visible":"hidden")}constructor(s,o,t,i,n,c,u,r,a){super(),this._getViewZoneId=s,this._marginDomNode=o,this._modifiedEditor=t,this._diff=i,this._editor=n,this._viewLineCounts=c,this._originalTextModel=u,this._contextMenuService=r,this._clipboardService=a,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=m.ThemeIcon.asClassName(E.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const l=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${l}px`,this._diffActions.style.lineHeight=`${l}px`,this._marginDomNode.appendChild(this._diffActions);let d=0;const p=t.getOption(128)&&!y.isIOS,h=(g,C)=>{var S;this._contextMenuService.showContextMenu({domForShadowRoot:p&&(S=t.getDomNode())!==null&&S!==void 0?S:void 0,getAnchor:()=>({x:g,y:C}),getActions:()=>{const _=[],L=i.modified.isEmpty;return _.push(new k.Action("diff.clipboard.copyDeletedContent",L?i.original.length>1?(0,w.localize)(0,"Copy deleted lines"):(0,w.localize)(1,"Copy deleted line"):i.original.length>1?(0,w.localize)(2,"Copy changed lines"):(0,w.localize)(3,"Copy changed line"),void 0,!0,async()=>{const T=this._originalTextModel.getValueInRange(i.original.toExclusiveRange());await this._clipboardService.writeText(T)})),i.original.length>1&&_.push(new k.Action("diff.clipboard.copyDeletedLineContent",L?(0,w.localize)(4,"Copy deleted line ({0})",i.original.startLineNumber+d):(0,w.localize)(5,"Copy changed line ({0})",i.original.startLineNumber+d),void 0,!0,async()=>{let T=this._originalTextModel.getLineContent(i.original.startLineNumber+d);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(T)})),t.getOption(92)||_.push(new k.Action("diff.inline.revertChange",(0,w.localize)(6,"Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)})),_},autoSelectFirstItem:!0})};this._register((0,f.addStandardDisposableListener)(this._diffActions,"mousedown",g=>{if(!g.leftButton)return;const{top:C,height:S}=(0,f.getDomNodePagePosition)(this._diffActions),_=Math.floor(l/3);g.preventDefault(),h(g.posx,C+S+_)})),this._register(t.onMouseMove(g=>{(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()?(d=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,l),this.visibility=!0):this.visibility=!1})),this._register(t.onMouseDown(g=>{g.event.leftButton&&(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()&&(g.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,l),h(g.event.posx,g.event.posy+l))}))}_updateLightBulbPosition(s,o,t){const{top:i}=(0,f.getDomNodePagePosition)(s),n=o-i,c=Math.floor(n/t),u=c*t;if(this._diffActions.style.top=`${u}px`,this._viewLineCounts){let r=0;for(let a=0;a<this._viewLineCounts.length;a++)if(r+=this._viewLineCounts[a],c<r)return a}return c}}e.InlineDiffDeletedCodeMargin=b}),define(re[368],ae([1,0,4,87,40,13,67,26,2,21,30,86,66,3]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesFeature=void 0;class i extends w.Disposable{constructor(r,a,l,d,p){super(),this._rootElement=r,this._diffModel=a,this._originalEditorLayoutInfo=l,this._modifiedEditorLayoutInfo=d,this._editors=p,this._originalScrollTop=(0,b.observableFromEvent)(this,this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,b.observableFromEvent)(this,this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,b.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,b.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,b.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,b.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,b.derivedWithStore)(this,(_,L)=>{var D;this._element.replaceChildren();const T=this._diffModel.read(_),N=(D=T?.diff.read(_))===null||D===void 0?void 0:D.movedTexts;if(!N||N.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(_);const A=this._originalEditorLayoutInfo.read(_),R=this._modifiedEditorLayoutInfo.read(_);if(!A||!R){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(_),this._originalViewZonesChangedSignal.read(_);const M=N.map(V=>{function j(de,he){const pe=he.getTopForLineNumber(de.startLineNumber,!0),ue=he.getTopForLineNumber(de.endLineNumberExclusive,!0);return(pe+ue)/2}const U=j(V.lineRangeMapping.original,this._editors.original),Y=this._originalScrollTop.read(_),Q=j(V.lineRangeMapping.modified,this._editors.modified),Z=this._modifiedScrollTop.read(_),G=U-Y,F=Q-Z,J=Math.min(U,Q),te=Math.max(U,Q);return{range:new o.OffsetRange(J,te),from:G,to:F,fromWithoutScroll:U,toWithoutScroll:Q,move:V}});M.sort((0,I.tieBreakComparators)((0,I.compareBy)(V=>V.fromWithoutScroll>V.toWithoutScroll,I.booleanComparator),(0,I.compareBy)(V=>V.fromWithoutScroll>V.toWithoutScroll?V.fromWithoutScroll:-V.toWithoutScroll,I.numberComparator)));const P=n.compute(M.map(V=>V.range)),x=10,O=A.verticalScrollbarWidth,B=(P.getTrackCount()-1)*10+x*2,H=O+B+(R.contentLeft-i.movedCodeBlockPadding);let K=0;for(const V of M){const j=P.getTrack(K),U=O+x+j*10,Y=15,Q=15,Z=H,G=R.glyphMarginWidth+R.lineNumbersWidth,F=18,J=document.createElementNS("http://www.w3.org/2000/svg","rect");J.classList.add("arrow-rectangle"),J.setAttribute("x",`${Z-G}`),J.setAttribute("y",`${V.to-F/2}`),J.setAttribute("width",`${G}`),J.setAttribute("height",`${F}`),this._element.appendChild(J);const te=document.createElementNS("http://www.w3.org/2000/svg","g"),de=document.createElementNS("http://www.w3.org/2000/svg","path");de.setAttribute("d",`M 0 ${V.from} L ${U} ${V.from} L ${U} ${V.to} L ${Z-Q} ${V.to}`),de.setAttribute("fill","none"),te.appendChild(de);const he=document.createElementNS("http://www.w3.org/2000/svg","polygon");he.classList.add("arrow"),L.add((0,b.autorun)(pe=>{de.classList.toggle("currentMove",V.move===T.activeMovedText.read(pe)),he.classList.toggle("currentMove",V.move===T.activeMovedText.read(pe))})),he.setAttribute("points",`${Z-Q},${V.to-Y/2} ${Z},${V.to} ${Z-Q},${V.to+Y/2}`),te.appendChild(he),this._element.appendChild(te),K++}this.width.set(B,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,w.toDisposable)(()=>this._element.remove())),this._register((0,b.autorun)(_=>{const L=this._originalEditorLayoutInfo.read(_),D=this._modifiedEditorLayoutInfo.read(_);!L||!D||(this._element.style.left=`${L.width-L.verticalScrollbarWidth}px`,this._element.style.height=`${L.height}px`,this._element.style.width=`${L.verticalScrollbarWidth+L.contentLeft-i.movedCodeBlockPadding+this.width.read(_)}px`)})),this._register((0,b.recomputeInitiallyAndOnChange)(this._state));const h=(0,b.derived)(_=>{const L=this._diffModel.read(_),D=L?.diff.read(_);return D?D.movedTexts.map(T=>({move:T,original:new s.PlaceholderViewZone((0,b.constObservable)(T.lineRangeMapping.original.startLineNumber-1),18),modified:new s.PlaceholderViewZone((0,b.constObservable)(T.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,s.applyViewZones)(this._editors.original,h.map(_=>_.map(L=>L.original)))),this._register((0,s.applyViewZones)(this._editors.modified,h.map(_=>_.map(L=>L.modified)))),this._register((0,b.autorunWithStore)((_,L)=>{const D=h.read(_);for(const T of D)L.add(new c(this._editors.original,T.original,T.move,"original",this._diffModel.get())),L.add(new c(this._editors.modified,T.modified,T.move,"modified",this._diffModel.get()))}));const g=(0,b.observableSignalFromEvent)("original.onDidFocusEditorWidget",_=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>_(void 0),0))),C=(0,b.observableSignalFromEvent)("modified.onDidFocusEditorWidget",_=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>_(void 0),0)));let S="modified";this._register((0,b.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(_,L)=>(_.didChange(g)&&(S="original"),_.didChange(C)&&(S="modified"),!0)},_=>{g.read(_),C.read(_);const L=this._diffModel.read(_);if(!L)return;const D=L.diff.read(_);let T;if(D&&S==="original"){const N=this._editors.originalCursor.read(_);N&&(T=D.movedTexts.find(A=>A.lineRangeMapping.original.contains(N.lineNumber)))}if(D&&S==="modified"){const N=this._editors.modifiedCursor.read(_);N&&(T=D.movedTexts.find(A=>A.lineRangeMapping.modified.contains(N.lineNumber)))}T!==L.movedTextToCompare.get()&&L.movedTextToCompare.set(void 0,void 0),L.setActiveMovedText(T)}))}}e.MovedBlocksLinesFeature=i,i.movedCodeBlockPadding=4;class n{static compute(r){const a=[],l=[];for(const d of r){let p=a.findIndex(h=>!h.intersectsStrict(d));p===-1&&(a.length>=6?p=(0,y.findMaxIdx)(a,(0,I.compareBy)(g=>g.intersectWithRangeLength(d),I.numberComparator)):(p=a.length,a.push(new o.OffsetRangeSet))),a[p].addRange(d),l.push(p)}return new n(a.length,l)}constructor(r,a){this._trackCount=r,this.trackPerLineIdx=a}getTrack(r){return this.trackPerLineIdx[r]}getTrackCount(){return this._trackCount}}class c extends s.ViewZoneOverlayWidget{constructor(r,a,l,d,p){const h=(0,f.h)("div.diff-hidden-lines-widget");super(r,a,h.root),this._editor=r,this._move=l,this._kind=d,this._diffModel=p,this._nodes=(0,f.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,f.h)("div.text-content@textContent"),(0,f.h)("div.action-bar@actionBar")]),h.root.appendChild(this._nodes.root);const g=(0,b.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,s.applyStyle)(this._nodes.root,{paddingRight:g.map(D=>D.verticalScrollbarWidth)}));let C;l.changes.length>0?C=this._kind==="original"?(0,t.localize)(24,"Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,t.localize)(25,"Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):C=this._kind==="original"?(0,t.localize)(26,"Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,t.localize)(27,"Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const S=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),_=new E.Action("",C,"",!1);S.push(_,{icon:!1,label:!0});const L=new E.Action("","Compare",v.ThemeIcon.asClassName(m.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===l?void 0:this._move,void 0)});this._register((0,b.autorun)(D=>{const T=this._diffModel.movedTextToCompare.read(D)===l;L.checked=T})),S.push(L,{icon:!1,label:!0})}}}),define(re[658],ae([1,0,4,111,26,2,21,56,5,104,41,3]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertButton=e.RevertButtonsFeature=void 0;const o=[];class t extends I.Disposable{constructor(c,u,r,a){super(),this._editors=c,this._diffModel=u,this._options=r,this._widget=a,this._selectedDiffs=(0,y.derived)(this,l=>{const d=this._diffModel.read(l),p=d?.diff.read(l);if(!p)return o;const h=this._editors.modifiedSelections.read(l);if(h.every(_=>_.isEmpty()))return o;const g=new m.LineRangeSet(h.map(_=>m.LineRange.fromRangeInclusive(_))),S=p.mappings.filter(_=>_.lineRangeMapping.innerChanges&&g.intersects(_.lineRangeMapping.modified)).map(_=>({mapping:_,rangeMappings:_.lineRangeMapping.innerChanges.filter(L=>h.some(D=>w.Range.areIntersecting(L.modifiedRange,D)))}));return S.length===0||S.every(_=>_.rangeMappings.length===0)?o:S}),this._register((0,y.autorunWithStore)((l,d)=>{if(!this._options.shouldRenderOldRevertArrows.read(l))return;const p=this._diffModel.read(l),h=p?.diff.read(l);if(!p||!h||p.movedTextToCompare.read(l))return;const g=[],C=this._selectedDiffs.read(l),S=new Set(C.map(_=>_.mapping));if(C.length>0){const _=this._editors.modifiedSelections.read(l),L=d.add(new i(_[_.length-1].positionLineNumber,this._widget,C.flatMap(D=>D.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(L),g.push(L)}for(const _ of h.mappings)if(!S.has(_)&&!_.lineRangeMapping.modified.isEmpty&&_.lineRangeMapping.innerChanges){const L=d.add(new i(_.lineRangeMapping.modified.startLineNumber,this._widget,_.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(L),g.push(L)}d.add((0,I.toDisposable)(()=>{for(const _ of g)this._editors.modified.removeGlyphMarginWidget(_)}))}))}}e.RevertButtonsFeature=t;class i extends I.Disposable{getId(){return this._id}constructor(c,u,r,a){super(),this._lineNumber=c,this._widget=u,this._diffs=r,this._revertSelection=a,this._id=`revertButton${i.counter++}`,this._domNode=(0,f.h)("div.revertButton",{title:this._revertSelection?(0,s.localize)(22,"Revert Selected Changes"):(0,s.localize)(23,"Revert Change")},[(0,k.renderIcon)(E.Codicon.arrowRight)]).root,this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_DOWN,l=>{l.button!==2&&(l.stopPropagation(),l.preventDefault())})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_UP,l=>{l.stopPropagation(),l.preventDefault()})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.CLICK,l=>{this._diffs instanceof b.LineRangeMapping?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),l.stopPropagation(),l.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:v.GlyphMarginLane.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}e.RevertButton=i,i.counter=0}),define(re[369],ae([1,0,40]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionRunnerWithContext=void 0;class k extends f.ActionRunner{constructor(I){super(),this._getContext=I}runAction(I,y){const m=this._getContext();return super.runAction(I,m)}}e.ActionRunnerWithContext=k}),define(re[37],ae([1,0,13,54,16,196,168,3]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.ShowLightbulbIconMode=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.boolean=n,e.clampedInt=u,e.clampedFloat=a,e.stringSet=p,e.filterValidationDecorations=ne,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(me){this._values=me}hasChanged(me){return this._values[me]}}e.ConfigurationChangedEvent=w;class b{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=b;class v{constructor(me,we,Fe,xe){this.id=me,this.name=we,this.defaultValue=Fe,this.schema=xe}applyUpdate(me,we){return o(me,we)}compute(me,we,Fe){return Fe}}class s{constructor(me,we){this.newValue=me,this.didChange=we}}e.ApplyUpdateResult=s;function o(Ne,me){if(typeof Ne!="object"||typeof me!="object"||!Ne||!me)return new s(me,Ne!==me);if(Array.isArray(Ne)||Array.isArray(me)){const Fe=Array.isArray(Ne)&&Array.isArray(me)&&f.equals(Ne,me);return new s(me,!Fe)}let we=!1;for(const Fe in me)if(me.hasOwnProperty(Fe)){const xe=o(Ne[Fe],me[Fe]);xe.didChange&&(Ne[Fe]=xe.newValue,we=!0)}return new s(Ne,we)}class t{constructor(me){this.schema=void 0,this.id=me,this.name="_never_",this.defaultValue=void 0}applyUpdate(me,we){return o(me,we)}validate(me){return this.defaultValue}}class i{constructor(me,we,Fe,xe){this.id=me,this.name=we,this.defaultValue=Fe,this.schema=xe}applyUpdate(me,we){return o(me,we)}validate(me){return typeof me>"u"?this.defaultValue:me}compute(me,we,Fe){return Fe}}function n(Ne,me){return typeof Ne>"u"?me:Ne==="false"?!1:!!Ne}class c extends i{constructor(me,we,Fe,xe=void 0){typeof xe<"u"&&(xe.type="boolean",xe.default=Fe),super(me,we,Fe,xe)}validate(me){return n(me,this.defaultValue)}}function u(Ne,me,we,Fe){if(typeof Ne>"u")return me;let xe=parseInt(Ne,10);return isNaN(xe)?me:(xe=Math.max(we,xe),xe=Math.min(Fe,xe),xe|0)}class r extends i{static clampedInt(me,we,Fe,xe){return u(me,we,Fe,xe)}constructor(me,we,Fe,xe,je,Ze=void 0){typeof Ze<"u"&&(Ze.type="integer",Ze.default=Fe,Ze.minimum=xe,Ze.maximum=je),super(me,we,Fe,Ze),this.minimum=xe,this.maximum=je}validate(me){return r.clampedInt(me,this.defaultValue,this.minimum,this.maximum)}}function a(Ne,me,we,Fe){if(typeof Ne>"u")return me;const xe=l.float(Ne,me);return l.clamp(xe,we,Fe)}class l extends i{static clamp(me,we,Fe){return me<we?we:me>Fe?Fe:me}static float(me,we){if(typeof me=="number")return me;if(typeof me>"u")return we;const Fe=parseFloat(me);return isNaN(Fe)?we:Fe}constructor(me,we,Fe,xe,je){typeof je<"u"&&(je.type="number",je.default=Fe),super(me,we,Fe,je),this.validationFn=xe}validate(me){return this.validationFn(l.float(me,this.defaultValue))}}class d extends i{static string(me,we){return typeof me!="string"?we:me}constructor(me,we,Fe,xe=void 0){typeof xe<"u"&&(xe.type="string",xe.default=Fe),super(me,we,Fe,xe)}validate(me){return d.string(me,this.defaultValue)}}function p(Ne,me,we,Fe){return typeof Ne!="string"?me:Fe&&Ne in Fe?Fe[Ne]:we.indexOf(Ne)===-1?me:Ne}class h extends i{constructor(me,we,Fe,xe,je=void 0){typeof je<"u"&&(je.type="string",je.enum=xe,je.default=Fe),super(me,we,Fe,je),this._allowedValues=xe}validate(me){return p(me,this.defaultValue,this._allowedValues)}}class g extends v{constructor(me,we,Fe,xe,je,Ze,Ye=void 0){typeof Ye<"u"&&(Ye.type="string",Ye.enum=je,Ye.default=xe),super(me,we,Fe,Ye),this._allowedValues=je,this._convert=Ze}validate(me){return typeof me!="string"?this.defaultValue:this._allowedValues.indexOf(me)===-1?this.defaultValue:this._convert(me)}}function C(Ne){switch(Ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class S extends v{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m.localize(1138,"Use platform APIs to detect when a Screen Reader is attached."),m.localize(1139,"Optimize for usage with a Screen Reader."),m.localize(1140,"Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:m.localize(1141,"Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(me){switch(me){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(me,we,Fe){return Fe===0?me.accessibilitySupport:Fe}}class _ extends v{constructor(){const me={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",me,{"editor.comments.insertSpace":{type:"boolean",default:me.insertSpace,description:m.localize(1142,"Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:me.ignoreEmptyLines,description:m.localize(1143,"Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{insertSpace:n(we.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:n(we.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function L(Ne){switch(Ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var D;(function(Ne){Ne[Ne.Line=1]="Line",Ne[Ne.Block=2]="Block",Ne[Ne.Underline=3]="Underline",Ne[Ne.LineThin=4]="LineThin",Ne[Ne.BlockOutline=5]="BlockOutline",Ne[Ne.UnderlineThin=6]="UnderlineThin"})(D||(e.TextEditorCursorStyle=D={}));function T(Ne){switch(Ne){case"line":return D.Line;case"block":return D.Block;case"underline":return D.Underline;case"line-thin":return D.LineThin;case"block-outline":return D.BlockOutline;case"underline-thin":return D.UnderlineThin}}class N extends t{constructor(){super(143)}compute(me,we,Fe){const xe=["monaco-editor"];return we.get(39)&&xe.push(we.get(39)),me.extraEditorClassName&&xe.push(me.extraEditorClassName),we.get(74)==="default"?xe.push("mouse-default"):we.get(74)==="copy"&&xe.push("mouse-copy"),we.get(112)&&xe.push("showUnused"),we.get(141)&&xe.push("showDeprecated"),xe.join(" ")}}class A extends c{constructor(){super(37,"emptySelectionClipboard",!0,{description:m.localize(1144,"Controls whether copying without a selection copies the current line.")})}compute(me,we,Fe){return Fe&&me.emptySelectionClipboard}}class R extends v{constructor(){const me={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",me,{"editor.find.cursorMoveOnType":{type:"boolean",default:me.cursorMoveOnType,description:m.localize(1145,"Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:me.seedSearchStringFromSelection,enumDescriptions:[m.localize(1146,"Never seed search string from the editor selection."),m.localize(1147,"Always seed search string from the editor selection, including word at cursor position."),m.localize(1148,"Only seed search string from the editor selection.")],description:m.localize(1149,"Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:me.autoFindInSelection,enumDescriptions:[m.localize(1150,"Never turn on Find in Selection automatically (default)."),m.localize(1151,"Always turn on Find in Selection automatically."),m.localize(1152,"Turn on Find in Selection automatically when multiple lines of content are selected.")],description:m.localize(1153,"Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:me.globalFindClipboard,description:m.localize(1154,"Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:E.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:me.addExtraSpaceOnTop,description:m.localize(1155,"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:me.loop,description:m.localize(1156,"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{cursorMoveOnType:n(we.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof me.seedSearchStringFromSelection=="boolean"?me.seedSearchStringFromSelection?"always":"never":p(we.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof me.autoFindInSelection=="boolean"?me.autoFindInSelection?"always":"never":p(we.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:n(we.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:n(we.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:n(we.loop,this.defaultValue.loop)}}}class M extends v{constructor(){super(51,"fontLigatures",M.OFF,{anyOf:[{type:"boolean",description:m.localize(1157,"Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:m.localize(1158,"Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:m.localize(1159,"Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"||me.length===0?M.OFF:me==="true"?M.ON:me:me?M.ON:M.OFF}}e.EditorFontLigatures=M,M.OFF='"liga" off, "calt" off',M.ON='"liga" on, "calt" on';class P extends v{constructor(){super(54,"fontVariations",P.OFF,{anyOf:[{type:"boolean",description:m.localize(1160,"Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:m.localize(1161,"Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:m.localize(1162,"Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"?P.OFF:me==="true"?P.TRANSLATE:me:me?P.TRANSLATE:P.OFF}compute(me,we,Fe){return me.fontInfo.fontVariationSettings}}e.EditorFontVariations=P,P.OFF="normal",P.TRANSLATE="translate";class x extends t{constructor(){super(50)}compute(me,we,Fe){return me.fontInfo}}class O extends i{constructor(){super(52,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:m.localize(1163,"Controls the font size in pixels.")})}validate(me){const we=l.float(me,this.defaultValue);return we===0?e.EDITOR_FONT_DEFAULTS.fontSize:l.clamp(we,6,100)}compute(me,we,Fe){return me.fontInfo.fontSize}}class B extends v{constructor(){super(53,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:B.MINIMUM_VALUE,maximum:B.MAXIMUM_VALUE,errorMessage:m.localize(1164,'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:B.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:m.localize(1165,'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(me){return me==="normal"||me==="bold"?me:String(r.clampedInt(me,e.EDITOR_FONT_DEFAULTS.fontWeight,B.MINIMUM_VALUE,B.MAXIMUM_VALUE))}}B.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],B.MINIMUM_VALUE=1,B.MAXIMUM_VALUE=1e3;class H extends v{constructor(){const me={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},we={type:"string",enum:["peek","gotoAndPeek","goto"],default:me.multiple,enumDescriptions:[m.localize(1166,"Show Peek view of the results (default)"),m.localize(1167,"Go to the primary result and show a Peek view"),m.localize(1168,"Go to the primary result and enable Peek-less navigation to others")]},Fe=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",me,{"editor.gotoLocation.multiple":{deprecationMessage:m.localize(1169,"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:m.localize(1170,"Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...we},"editor.gotoLocation.multipleTypeDefinitions":{description:m.localize(1171,"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...we},"editor.gotoLocation.multipleDeclarations":{description:m.localize(1172,"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...we},"editor.gotoLocation.multipleImplementations":{description:m.localize(1173,"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...we},"editor.gotoLocation.multipleReferences":{description:m.localize(1174,"Controls the behavior the 'Go to References'-command when multiple target locations exist."),...we},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:me.alternativeDefinitionCommand,enum:Fe,description:m.localize(1175,"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:me.alternativeTypeDefinitionCommand,enum:Fe,description:m.localize(1176,"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:me.alternativeDeclarationCommand,enum:Fe,description:m.localize(1177,"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:me.alternativeImplementationCommand,enum:Fe,description:m.localize(1178,"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:me.alternativeReferenceCommand,enum:Fe,description:m.localize(1179,"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(me){var we,Fe,xe,je,Ze;if(!me||typeof me!="object")return this.defaultValue;const Ye=me;return{multiple:p(Ye.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(we=Ye.multipleDefinitions)!==null&&we!==void 0?we:p(Ye.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Fe=Ye.multipleTypeDefinitions)!==null&&Fe!==void 0?Fe:p(Ye.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(xe=Ye.multipleDeclarations)!==null&&xe!==void 0?xe:p(Ye.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(je=Ye.multipleImplementations)!==null&&je!==void 0?je:p(Ye.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Ze=Ye.multipleReferences)!==null&&Ze!==void 0?Ze:p(Ye.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(Ye.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(Ye.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(Ye.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(Ye.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(Ye.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class K extends v{constructor(){const me={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",me,{"editor.hover.enabled":{type:"boolean",default:me.enabled,description:m.localize(1180,"Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:me.delay,minimum:0,maximum:1e4,description:m.localize(1181,"Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:me.sticky,description:m.localize(1182,"Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:me.hidingDelay,description:m.localize(1183,"Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:me.above,description:m.localize(1184,"Prefer showing hovers above the line, if there's space.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),delay:r.clampedInt(we.delay,this.defaultValue.delay,0,1e4),sticky:n(we.sticky,this.defaultValue.sticky),hidingDelay:r.clampedInt(we.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:n(we.above,this.defaultValue.above)}}}class V extends t{constructor(){super(146)}compute(me,we,Fe){return V.computeLayout(we,{memory:me.memory,outerWidth:me.outerWidth,outerHeight:me.outerHeight,isDominatedByLongLines:me.isDominatedByLongLines,lineHeight:me.fontInfo.lineHeight,viewLineCount:me.viewLineCount,lineNumbersDigitCount:me.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:me.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:me.fontInfo.maxDigitWidth,pixelRatio:me.pixelRatio,glyphMarginDecorationLaneCount:me.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(me){const we=me.height/me.lineHeight,Fe=Math.floor(me.paddingTop/me.lineHeight);let xe=Math.floor(me.paddingBottom/me.lineHeight);me.scrollBeyondLastLine&&(xe=Math.max(xe,we-1));const je=(Fe+me.viewLineCount+xe)/(me.pixelRatio*me.height),Ze=Math.floor(me.viewLineCount/je);return{typicalViewportLineCount:we,extraLinesBeforeFirstLine:Fe,extraLinesBeyondLastLine:xe,desiredRatio:je,minimapLineCount:Ze}}static _computeMinimapLayout(me,we){const Fe=me.outerWidth,xe=me.outerHeight,je=me.pixelRatio;if(!me.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(je*xe),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:xe};const Ze=we.stableMinimapLayoutInput,Ye=Ze&&me.outerHeight===Ze.outerHeight&&me.lineHeight===Ze.lineHeight&&me.typicalHalfwidthCharacterWidth===Ze.typicalHalfwidthCharacterWidth&&me.pixelRatio===Ze.pixelRatio&&me.scrollBeyondLastLine===Ze.scrollBeyondLastLine&&me.paddingTop===Ze.paddingTop&&me.paddingBottom===Ze.paddingBottom&&me.minimap.enabled===Ze.minimap.enabled&&me.minimap.side===Ze.minimap.side&&me.minimap.size===Ze.minimap.size&&me.minimap.showSlider===Ze.minimap.showSlider&&me.minimap.renderCharacters===Ze.minimap.renderCharacters&&me.minimap.maxColumn===Ze.minimap.maxColumn&&me.minimap.scale===Ze.minimap.scale&&me.verticalScrollbarWidth===Ze.verticalScrollbarWidth&&me.isViewportWrapping===Ze.isViewportWrapping,tt=me.lineHeight,nt=me.typicalHalfwidthCharacterWidth,dt=me.scrollBeyondLastLine,ct=me.minimap.renderCharacters;let st=je>=2?Math.round(me.minimap.scale*2):me.minimap.scale;const Je=me.minimap.maxColumn,ht=me.minimap.size,_t=me.minimap.side,Lt=me.verticalScrollbarWidth,ut=me.viewLineCount,pt=me.remainingWidth,Se=me.isViewportWrapping,be=ct?2:3;let ye=Math.floor(je*xe);const Me=ye/je;let Be=!1,Ue=!1,He=be*st,Ke=st/je,Ge=1;if(ht==="fill"||ht==="fit"){const{typicalViewportLineCount:Xe,extraLinesBeforeFirstLine:rt,extraLinesBeyondLastLine:it,desiredRatio:ot,minimapLineCount:at}=V.computeContainedMinimapLineCount({viewLineCount:ut,scrollBeyondLastLine:dt,paddingTop:me.paddingTop,paddingBottom:me.paddingBottom,height:xe,lineHeight:tt,pixelRatio:je});if(ut/at>1)Be=!0,Ue=!0,st=1,He=1,Ke=st/je;else{let vt=!1,lt=st+1;if(ht==="fit"){const ft=Math.ceil((rt+ut+it)*He);Se&&Ye&&pt<=we.stableFitRemainingWidth?(vt=!0,lt=we.stableFitMaxMinimapScale):vt=ft>ye}if(ht==="fill"||vt){Be=!0;const ft=st;He=Math.min(tt*je,Math.max(1,Math.floor(1/ot))),Se&&Ye&&pt<=we.stableFitRemainingWidth&&(lt=we.stableFitMaxMinimapScale),st=Math.min(lt,Math.max(1,Math.floor(He/be))),st>ft&&(Ge=Math.min(2,st/ft)),Ke=st/je/Ge,ye=Math.ceil(Math.max(Xe,rt+ut+it)*He),Se?(we.stableMinimapLayoutInput=me,we.stableFitRemainingWidth=pt,we.stableFitMaxMinimapScale=st):(we.stableMinimapLayoutInput=null,we.stableFitRemainingWidth=0)}}}const ze=Math.floor(Je*Ke),Oe=Math.min(ze,Math.max(0,Math.floor((pt-Lt-2)*Ke/(nt+Ke)))+e.MINIMAP_GUTTER_WIDTH);let Ve=Math.floor(je*Oe);const qe=Ve/je;Ve=Math.floor(Ve*Ge);const $e=ct?1:2,et=_t==="left"?0:Fe-Oe-Lt;return{renderMinimap:$e,minimapLeft:et,minimapWidth:Oe,minimapHeightIsEditorHeight:Be,minimapIsSampling:Ue,minimapScale:st,minimapLineHeight:He,minimapCanvasInnerWidth:Ve,minimapCanvasInnerHeight:ye,minimapCanvasOuterWidth:qe,minimapCanvasOuterHeight:Me}}static computeLayout(me,we){const Fe=we.outerWidth|0,xe=we.outerHeight|0,je=we.lineHeight|0,Ze=we.lineNumbersDigitCount|0,Ye=we.typicalHalfwidthCharacterWidth,tt=we.maxDigitWidth,nt=we.pixelRatio,dt=we.viewLineCount,ct=me.get(138),st=ct==="inherit"?me.get(137):ct,Je=st==="inherit"?me.get(133):st,ht=me.get(136),_t=we.isDominatedByLongLines,Lt=me.get(57),ut=me.get(68).renderType!==0,pt=me.get(69),Se=me.get(106),be=me.get(84),ye=me.get(73),Me=me.get(104),Be=Me.verticalScrollbarSize,Ue=Me.verticalHasArrows,He=Me.arrowSize,Ke=Me.horizontalScrollbarSize,Ge=me.get(43),ze=me.get(111)!=="never";let Oe=me.get(66);Ge&&ze&&(Oe+=16);let Ve=0;if(ut){const Et=Math.max(Ze,pt);Ve=Math.round(Et*tt)}let qe=0;Lt&&(qe=je*we.glyphMarginDecorationLaneCount);let $e=0,et=$e+qe,Xe=et+Ve,rt=Xe+Oe;const it=Fe-qe-Ve-Oe;let ot=!1,at=!1,gt=-1;st==="inherit"&&_t?(ot=!0,at=!0):Je==="on"||Je==="bounded"?at=!0:Je==="wordWrapColumn"&&(gt=ht);const vt=V._computeMinimapLayout({outerWidth:Fe,outerHeight:xe,lineHeight:je,typicalHalfwidthCharacterWidth:Ye,pixelRatio:nt,scrollBeyondLastLine:Se,paddingTop:be.top,paddingBottom:be.bottom,minimap:ye,verticalScrollbarWidth:Be,viewLineCount:dt,remainingWidth:it,isViewportWrapping:at},we.memory||new b);vt.renderMinimap!==0&&vt.minimapLeft===0&&($e+=vt.minimapWidth,et+=vt.minimapWidth,Xe+=vt.minimapWidth,rt+=vt.minimapWidth);const lt=it-vt.minimapWidth,ft=Math.max(1,Math.floor((lt-Be-2)/Ye)),It=Ue?He:0;return at&&(gt=Math.max(1,ft),Je==="bounded"&&(gt=Math.min(gt,ht))),{width:Fe,height:xe,glyphMarginLeft:$e,glyphMarginWidth:qe,glyphMarginDecorationLaneCount:we.glyphMarginDecorationLaneCount,lineNumbersLeft:et,lineNumbersWidth:Ve,decorationsLeft:Xe,decorationsWidth:Oe,contentLeft:rt,contentWidth:lt,minimap:vt,viewportColumn:ft,isWordWrapMinified:ot,isViewportWrapping:at,wrappingColumn:gt,verticalScrollbarWidth:Be,horizontalScrollbarHeight:Ke,overviewRuler:{top:It,width:Be,height:xe-2*It,right:0}}}}e.EditorLayoutInfoComputer=V;class j extends v{constructor(){super(140,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m.localize(1185,"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),m.localize(1186,"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:m.localize(1187,"Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(me){return p(me,"simple",["simple","advanced"])}compute(me,we,Fe){return we.get(2)===2?"advanced":Fe}}var U;(function(Ne){Ne.Off="off",Ne.OnCode="onCode",Ne.On="on"})(U||(e.ShowLightbulbIconMode=U={}));class Y extends v{constructor(){const me={enabled:U.On};super(65,"lightbulb",me,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[U.Off,U.OnCode,U.On],default:me.enabled,enumDescriptions:[m.localize(1188,"Disable the code action menu."),m.localize(1189,"Show the code action menu when the cursor is on lines with code."),m.localize(1190,"Show the code action menu when the cursor is on lines with code or on empty lines.")],description:m.localize(1191,"Enables the Code Action lightbulb in the editor.")}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{enabled:p(me.enabled,this.defaultValue.enabled,[U.Off,U.OnCode,U.On])}}}class Q extends v{constructor(){const me={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(116,"stickyScroll",me,{"editor.stickyScroll.enabled":{type:"boolean",default:me.enabled,description:m.localize(1192,"Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:me.maxLineCount,minimum:1,maximum:20,description:m.localize(1193,"Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:me.defaultModel,description:m.localize(1194,"Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:me.scrollWithEditor,description:m.localize(1195,"Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),maxLineCount:r.clampedInt(we.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:p(we.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:n(we.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class Z extends v{constructor(){const me={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(142,"inlayHints",me,{"editor.inlayHints.enabled":{type:"string",default:me.enabled,description:m.localize(1196,"Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m.localize(1197,"Inlay hints are enabled"),m.localize(1198,"Inlay hints are showing by default and hide when holding {0}",E.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(1199,"Inlay hints are hidden by default and show when holding {0}",E.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(1200,"Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:me.fontSize,markdownDescription:m.localize(1201,"Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:me.fontFamily,markdownDescription:m.localize(1202,"Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:me.padding,description:m.localize(1203,"Enables the padding around the inlay hints in the editor.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return typeof we.enabled=="boolean"&&(we.enabled=we.enabled?"on":"off"),{enabled:p(we.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:r.clampedInt(we.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(we.fontFamily,this.defaultValue.fontFamily),padding:n(we.padding,this.defaultValue.padding)}}}class G extends v{constructor(){super(66,"lineDecorationsWidth",10)}validate(me){return typeof me=="string"&&/^\d+(\.\d+)?ch$/.test(me)?-parseFloat(me.substring(0,me.length-2)):r.clampedInt(me,this.defaultValue,0,1e3)}compute(me,we,Fe){return Fe<0?r.clampedInt(-Fe*me.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Fe}}class F extends l{constructor(){super(67,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,me=>l.clamp(me,0,150),{markdownDescription:m.localize(1204,`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(me,we,Fe){return me.fontInfo.lineHeight}}class J extends v{constructor(){const me={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(73,"minimap",me,{"editor.minimap.enabled":{type:"boolean",default:me.enabled,description:m.localize(1205,"Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:me.autohide,description:m.localize(1206,"Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m.localize(1207,"The minimap has the same size as the editor contents (and might scroll)."),m.localize(1208,"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),m.localize(1209,"The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:me.size,description:m.localize(1210,"Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:me.side,description:m.localize(1211,"Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:me.showSlider,description:m.localize(1212,"Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:me.scale,minimum:1,maximum:3,enum:[1,2,3],description:m.localize(1213,"Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:me.renderCharacters,description:m.localize(1214,"Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:me.maxColumn,description:m.localize(1215,"Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:me.showRegionSectionHeaders,description:m.localize(1216,"Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:me.showMarkSectionHeaders,description:m.localize(1217,"Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:me.sectionHeaderFontSize,description:m.localize(1218,"Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:me.sectionHeaderLetterSpacing,description:m.localize(1219,"Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(me){var we,Fe;if(!me||typeof me!="object")return this.defaultValue;const xe=me;return{enabled:n(xe.enabled,this.defaultValue.enabled),autohide:n(xe.autohide,this.defaultValue.autohide),size:p(xe.size,this.defaultValue.size,["proportional","fill","fit"]),side:p(xe.side,this.defaultValue.side,["right","left"]),showSlider:p(xe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:n(xe.renderCharacters,this.defaultValue.renderCharacters),scale:r.clampedInt(xe.scale,1,1,3),maxColumn:r.clampedInt(xe.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:n(xe.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:n(xe.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:l.clamp((we=xe.sectionHeaderFontSize)!==null&&we!==void 0?we:this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:l.clamp((Fe=xe.sectionHeaderLetterSpacing)!==null&&Fe!==void 0?Fe:this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}function te(Ne){return Ne==="ctrlCmd"?E.isMacintosh?"metaKey":"ctrlKey":"altKey"}class de extends v{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(1220,"Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(1221,"Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{top:r.clampedInt(we.top,0,0,1e3),bottom:r.clampedInt(we.bottom,0,0,1e3)}}}class he extends v{constructor(){const me={enabled:!0,cycle:!0};super(86,"parameterHints",me,{"editor.parameterHints.enabled":{type:"boolean",default:me.enabled,description:m.localize(1222,"Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:me.cycle,description:m.localize(1223,"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),cycle:n(we.cycle,this.defaultValue.cycle)}}}class pe extends t{constructor(){super(144)}compute(me,we,Fe){return me.pixelRatio}}class ue extends v{constructor(){super(88,"placeholder",void 0)}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me:this.defaultValue}}class ie extends v{constructor(){const me={other:"on",comments:"off",strings:"off"},we=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m.localize(1224,"Quick suggestions show inside the suggest widget"),m.localize(1225,"Quick suggestions show as ghost text"),m.localize(1226,"Quick suggestions are disabled")]}];super(90,"quickSuggestions",me,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:we,default:me.strings,description:m.localize(1227,"Enable quick suggestions inside strings.")},comments:{anyOf:we,default:me.comments,description:m.localize(1228,"Enable quick suggestions inside comments.")},other:{anyOf:we,default:me.other,description:m.localize(1229,"Enable quick suggestions outside of strings and comments.")}},default:me,markdownDescription:m.localize(1230,"Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=me}validate(me){if(typeof me=="boolean"){const nt=me?"on":"off";return{comments:nt,strings:nt,other:nt}}if(!me||typeof me!="object")return this.defaultValue;const{other:we,comments:Fe,strings:xe}=me,je=["on","inline","off"];let Ze,Ye,tt;return typeof we=="boolean"?Ze=we?"on":"off":Ze=p(we,this.defaultValue.other,je),typeof Fe=="boolean"?Ye=Fe?"on":"off":Ye=p(Fe,this.defaultValue.comments,je),typeof xe=="boolean"?tt=xe?"on":"off":tt=p(xe,this.defaultValue.strings,je),{other:Ze,comments:Ye,strings:tt}}}class se extends v{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m.localize(1231,"Line numbers are not rendered."),m.localize(1232,"Line numbers are rendered as absolute number."),m.localize(1233,"Line numbers are rendered as distance in lines to cursor position."),m.localize(1234,"Line numbers are rendered every 10 lines.")],default:"on",description:m.localize(1235,"Controls the display of line numbers.")})}validate(me){let we=this.defaultValue.renderType,Fe=this.defaultValue.renderFn;return typeof me<"u"&&(typeof me=="function"?(we=4,Fe=me):me==="interval"?we=3:me==="relative"?we=2:me==="on"?we=1:we=0),{renderType:we,renderFn:Fe}}}function ne(Ne){const me=Ne.get(99);return me==="editable"?Ne.get(92):me!=="on"}class W extends v{constructor(){const me=[],we={type:"number",description:m.localize(1236,"Number of monospace characters at which this editor ruler will render.")};super(103,"rulers",me,{type:"array",items:{anyOf:[we,{type:["object"],properties:{column:we,color:{type:"string",description:m.localize(1237,"Color of this editor ruler."),format:"color-hex"}}}]},default:me,description:m.localize(1238,"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(me){if(Array.isArray(me)){const we=[];for(const Fe of me)if(typeof Fe=="number")we.push({column:r.clampedInt(Fe,0,0,1e4),color:null});else if(Fe&&typeof Fe=="object"){const xe=Fe;we.push({column:r.clampedInt(xe.column,0,0,1e4),color:xe.color})}return we.sort((Fe,xe)=>Fe.column-xe.column),we}return this.defaultValue}}class q extends v{constructor(){super(93,"readOnlyMessage",void 0)}validate(me){return!me||typeof me!="object"?this.defaultValue:me}}function z(Ne,me){if(typeof Ne!="string")return me;switch(Ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class $ extends v{constructor(){const me={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(104,"scrollbar",me,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(1239,"The vertical scrollbar will be visible only when necessary."),m.localize(1240,"The vertical scrollbar will always be visible."),m.localize(1241,"The vertical scrollbar will always be hidden.")],default:"auto",description:m.localize(1242,"Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(1243,"The horizontal scrollbar will be visible only when necessary."),m.localize(1244,"The horizontal scrollbar will always be visible."),m.localize(1245,"The horizontal scrollbar will always be hidden.")],default:"auto",description:m.localize(1246,"Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:me.verticalScrollbarSize,description:m.localize(1247,"The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:me.horizontalScrollbarSize,description:m.localize(1248,"The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:me.scrollByPage,description:m.localize(1249,"Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:me.ignoreHorizontalScrollbarInContentHeight,description:m.localize(1250,"When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me,Fe=r.clampedInt(we.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),xe=r.clampedInt(we.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:r.clampedInt(we.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:z(we.vertical,this.defaultValue.vertical),horizontal:z(we.horizontal,this.defaultValue.horizontal),useShadows:n(we.useShadows,this.defaultValue.useShadows),verticalHasArrows:n(we.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:n(we.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:n(we.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:n(we.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Fe,horizontalSliderSize:r.clampedInt(we.horizontalSliderSize,Fe,0,1e3),verticalScrollbarSize:xe,verticalSliderSize:r.clampedInt(we.verticalSliderSize,xe,0,1e3),scrollByPage:n(we.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:n(we.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class X extends v{constructor(){const me={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(126,"unicodeHighlight",me,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.nonBasicASCII,description:m.localize(1251,"Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:me.invisibleCharacters,description:m.localize(1252,"Controls whether characters that just reserve space or have no width at all are highlighted.")},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:me.ambiguousCharacters,description:m.localize(1253,"Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeComments,description:m.localize(1254,"Controls whether characters in comments should also be subject to Unicode highlighting.")},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeStrings,description:m.localize(1255,"Controls whether characters in strings should also be subject to Unicode highlighting.")},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:me.allowedCharacters,description:m.localize(1256,"Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:me.allowedLocales,description:m.localize(1257,"Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(me,we){let Fe=!1;we.allowedCharacters&&me&&(k.equals(me.allowedCharacters,we.allowedCharacters)||(me={...me,allowedCharacters:we.allowedCharacters},Fe=!0)),we.allowedLocales&&me&&(k.equals(me.allowedLocales,we.allowedLocales)||(me={...me,allowedLocales:we.allowedLocales},Fe=!0));const xe=super.applyUpdate(me,we);return Fe?new s(xe.newValue,!0):xe}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{nonBasicASCII:ve(we.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:n(we.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:n(we.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ve(we.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:ve(we.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(me.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(me.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(me,we){if(typeof me!="object"||!me)return we;const Fe={};for(const[xe,je]of Object.entries(me))je===!0&&(Fe[xe]=!0);return Fe}}class ee extends v{constructor(){const me={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",me,{"editor.inlineSuggest.enabled":{type:"boolean",default:me.enabled,description:m.localize(1258,"Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[m.localize(1259,"Show the inline suggestion toolbar whenever an inline suggestion is shown."),m.localize(1260,"Show the inline suggestion toolbar when hovering over an inline suggestion."),m.localize(1261,"Never show the inline suggestion toolbar.")],description:m.localize(1262,"Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:me.suppressSuggestions,description:m.localize(1263,"Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:me.fontFamily,description:m.localize(1264,"Controls the font family of the inline suggestions.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),mode:p(we.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:p(we.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:n(we.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:n(we.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:d.string(we.fontFamily,this.defaultValue.fontFamily)}}}class oe extends v{constructor(){const me={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",me,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:me.enabled,description:m.localize(1265,"Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[m.localize(1266,"Show the inline edit toolbar whenever an inline suggestion is shown."),m.localize(1267,"Show the inline edit toolbar when hovering over an inline suggestion."),m.localize(1268,"Never show the inline edit toolbar.")],description:m.localize(1269,"Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:me.fontFamily,description:m.localize(1270,"Controls the font family of the inline edit.")},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:me.backgroundColoring,description:m.localize(1271,"Controls whether to color the background of inline edits.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),showToolbar:p(we.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:d.string(we.fontFamily,this.defaultValue.fontFamily),keepOnBlur:n(we.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:n(we.backgroundColoring,this.defaultValue.backgroundColoring)}}}class ce extends v{constructor(){const me={enabled:I.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:I.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",me,{"editor.bracketPairColorization.enabled":{type:"boolean",default:me.enabled,markdownDescription:m.localize(1272,"Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:me.independentColorPoolPerBracketType,description:m.localize(1273,"Controls whether each bracket type has its own independent color pool.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:n(we.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class fe extends v{constructor(){const me={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",me,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(1274,"Enables bracket pair guides."),m.localize(1275,"Enables bracket pair guides only for the active bracket pair."),m.localize(1276,"Disables bracket pair guides.")],default:me.bracketPairs,description:m.localize(1277,"Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(1278,"Enables horizontal guides as addition to vertical bracket pair guides."),m.localize(1279,"Enables horizontal guides only for the active bracket pair."),m.localize(1280,"Disables horizontal bracket pair guides.")],default:me.bracketPairsHorizontal,description:m.localize(1281,"Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:me.highlightActiveBracketPair,description:m.localize(1282,"Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:me.indentation,description:m.localize(1283,"Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m.localize(1284,"Highlights the active indent guide."),m.localize(1285,"Highlights the active indent guide even if bracket guides are highlighted."),m.localize(1286,"Do not highlight the active indent guide.")],default:me.highlightActiveIndentation,description:m.localize(1287,"Controls whether the editor should highlight the active indent guide.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{bracketPairs:ve(we.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ve(we.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:n(we.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:n(we.indentation,this.defaultValue.indentation),highlightActiveIndentation:ve(we.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ve(Ne,me,we){const Fe=we.indexOf(Ne);return Fe===-1?me:we[Fe]}class _e extends v{constructor(){const me={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(119,"suggest",me,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m.localize(1288,"Insert suggestion without overwriting text right of the cursor."),m.localize(1289,"Insert suggestion and overwrite text right of the cursor.")],default:me.insertMode,description:m.localize(1290,"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:me.filterGraceful,description:m.localize(1291,"Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:me.localityBonus,description:m.localize(1292,"Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:me.shareSuggestSelections,markdownDescription:m.localize(1293,"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m.localize(1294,"Always select a suggestion when automatically triggering IntelliSense."),m.localize(1295,"Never select a suggestion when automatically triggering IntelliSense."),m.localize(1296,"Select a suggestion only when triggering IntelliSense from a trigger character."),m.localize(1297,"Select a suggestion only when triggering IntelliSense as you type.")],default:me.selectionMode,markdownDescription:m.localize(1298,"Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:me.snippetsPreventQuickSuggestions,description:m.localize(1299,"Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:me.showIcons,description:m.localize(1300,"Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:me.showStatusBar,description:m.localize(1301,"Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:me.preview,description:m.localize(1302,"Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:me.showInlineDetails,description:m.localize(1303,"Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m.localize(1304,"This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m.localize(1305,"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m.localize(1306,"When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m.localize(1307,"When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m.localize(1308,"When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m.localize(1309,"When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m.localize(1310,"When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m.localize(1311,"When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m.localize(1312,"When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m.localize(1313,"When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m.localize(1314,"When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m.localize(1315,"When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m.localize(1316,"When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m.localize(1317,"When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m.localize(1318,"When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m.localize(1319,"When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m.localize(1320,"When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m.localize(1321,"When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m.localize(1322,"When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m.localize(1323,"When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m.localize(1324,"When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m.localize(1325,"When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m.localize(1326,"When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m.localize(1327,"When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m.localize(1328,"When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m.localize(1329,"When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m.localize(1330,"When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m.localize(1331,"When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m.localize(1332,"When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m.localize(1333,"When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m.localize(1334,"When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m.localize(1335,"When enabled IntelliSense shows `issues`-suggestions.")}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{insertMode:p(we.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:n(we.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:n(we.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:n(we.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:n(we.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:p(we.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:n(we.showIcons,this.defaultValue.showIcons),showStatusBar:n(we.showStatusBar,this.defaultValue.showStatusBar),preview:n(we.preview,this.defaultValue.preview),previewMode:p(we.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:n(we.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:n(we.showMethods,this.defaultValue.showMethods),showFunctions:n(we.showFunctions,this.defaultValue.showFunctions),showConstructors:n(we.showConstructors,this.defaultValue.showConstructors),showDeprecated:n(we.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:n(we.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:n(we.showFields,this.defaultValue.showFields),showVariables:n(we.showVariables,this.defaultValue.showVariables),showClasses:n(we.showClasses,this.defaultValue.showClasses),showStructs:n(we.showStructs,this.defaultValue.showStructs),showInterfaces:n(we.showInterfaces,this.defaultValue.showInterfaces),showModules:n(we.showModules,this.defaultValue.showModules),showProperties:n(we.showProperties,this.defaultValue.showProperties),showEvents:n(we.showEvents,this.defaultValue.showEvents),showOperators:n(we.showOperators,this.defaultValue.showOperators),showUnits:n(we.showUnits,this.defaultValue.showUnits),showValues:n(we.showValues,this.defaultValue.showValues),showConstants:n(we.showConstants,this.defaultValue.showConstants),showEnums:n(we.showEnums,this.defaultValue.showEnums),showEnumMembers:n(we.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:n(we.showKeywords,this.defaultValue.showKeywords),showWords:n(we.showWords,this.defaultValue.showWords),showColors:n(we.showColors,this.defaultValue.showColors),showFiles:n(we.showFiles,this.defaultValue.showFiles),showReferences:n(we.showReferences,this.defaultValue.showReferences),showFolders:n(we.showFolders,this.defaultValue.showFolders),showTypeParameters:n(we.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:n(we.showSnippets,this.defaultValue.showSnippets),showUsers:n(we.showUsers,this.defaultValue.showUsers),showIssues:n(we.showIssues,this.defaultValue.showIssues)}}}class Ie extends v{constructor(){super(114,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m.localize(1336,"Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:m.localize(1337,"Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:n(me.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:n(me.selectSubwords,this.defaultValue.selectSubwords)}}}class Ce extends v{constructor(){const me=[];super(131,"wordSegmenterLocales",me,{anyOf:[{description:m.localize(1338,"Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:m.localize(1339,"Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(me){if(typeof me=="string"&&(me=[me]),Array.isArray(me)){const we=[];for(const Fe of me)if(typeof Fe=="string")try{Intl.Segmenter.supportedLocalesOf(Fe).length>0&&we.push(Fe)}catch{}return we}return this.defaultValue}}class Ee extends v{constructor(){super(139,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m.localize(1340,"No indentation. Wrapped lines begin at column 1."),m.localize(1341,"Wrapped lines get the same indentation as the parent."),m.localize(1342,"Wrapped lines get +1 indentation toward the parent."),m.localize(1343,"Wrapped lines get +2 indentation toward the parent.")],description:m.localize(1344,"Controls the indentation of wrapped lines."),default:"same"}})}validate(me){switch(me){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(me,we,Fe){return we.get(2)===2?0:Fe}}class Le extends t{constructor(){super(147)}compute(me,we,Fe){const xe=we.get(146);return{isDominatedByLongLines:me.isDominatedByLongLines,isWordWrapMinified:xe.isWordWrapMinified,isViewportWrapping:xe.isViewportWrapping,wrappingColumn:xe.wrappingColumn}}}class Te extends v{constructor(){const me={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",me,{"editor.dropIntoEditor.enabled":{type:"boolean",default:me.enabled,markdownDescription:m.localize(1345,"Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:m.localize(1346,"Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[m.localize(1347,"Show the drop selector widget after a file is dropped into the editor."),m.localize(1348,"Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),showDropSelector:p(we.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ae extends v{constructor(){const me={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",me,{"editor.pasteAs.enabled":{type:"boolean",default:me.enabled,markdownDescription:m.localize(1349,"Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:m.localize(1350,"Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[m.localize(1351,"Show the paste selector widget after content is pasted into the editor."),m.localize(1352,"Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const we=me;return{enabled:n(we.enabled,this.defaultValue.enabled),showPasteSelector:p(we.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Pe="Consolas, 'Courier New', monospace",Re="Menlo, Monaco, 'Courier New', monospace",We="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:E.isMacintosh?Re:E.isLinux?We:Pe,fontWeight:"normal",fontSize:E.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function De(Ne){return e.editorOptionsRegistry[Ne.id]=Ne,Ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:De(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m.localize(1353,"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:De(new h(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m.localize(1354,"Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:m.localize(1355,"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:De(new S),accessibilityPageSize:De(new r(3,"accessibilityPageSize",10,1,1073741824,{description:m.localize(1356,"Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:De(new d(4,"ariaLabel",m.localize(1357,"Editor content"))),ariaRequired:De(new c(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:De(new c(8,"screenReaderAnnounceInlineSuggestion",!0,{description:m.localize(1358,"Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:De(new h(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(1359,"Use language configurations to determine when to autoclose brackets."),m.localize(1360,"Autoclose brackets only when the cursor is to the left of whitespace."),""],description:m.localize(1361,"Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:De(new h(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(1362,"Use language configurations to determine when to autoclose comments."),m.localize(1363,"Autoclose comments only when the cursor is to the left of whitespace."),""],description:m.localize(1364,"Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:De(new h(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m.localize(1365,"Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:m.localize(1366,"Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:De(new h(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m.localize(1367,"Type over closing quotes or brackets only if they were automatically inserted."),""],description:m.localize(1368,"Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:De(new h(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(1369,"Use language configurations to determine when to autoclose quotes."),m.localize(1370,"Autoclose quotes only when the cursor is to the left of whitespace."),""],description:m.localize(1371,"Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:De(new g(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],C,{enumDescriptions:[m.localize(1372,"The editor will not insert indentation automatically."),m.localize(1373,"The editor will keep the current line's indentation."),m.localize(1374,"The editor will keep the current line's indentation and honor language defined brackets."),m.localize(1375,"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),m.localize(1376,"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:m.localize(1377,"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:De(new c(13,"automaticLayout",!1)),autoSurround:De(new h(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m.localize(1378,"Use language configurations to determine when to automatically surround selections."),m.localize(1379,"Surround with quotes but not brackets."),m.localize(1380,"Surround with brackets but not quotes."),""],description:m.localize(1381,"Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:De(new ce),bracketPairGuides:De(new fe),stickyTabStops:De(new c(117,"stickyTabStops",!1,{description:m.localize(1382,"Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:De(new c(17,"codeLens",!0,{description:m.localize(1383,"Controls whether the editor shows CodeLens.")})),codeLensFontFamily:De(new d(18,"codeLensFontFamily","",{description:m.localize(1384,"Controls the font family for CodeLens.")})),codeLensFontSize:De(new r(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m.localize(1385,"Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:De(new c(20,"colorDecorators",!0,{description:m.localize(1386,"Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:De(new h(149,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[m.localize(1387,"Make the color picker appear both on click and hover of the color decorator"),m.localize(1388,"Make the color picker appear on hover of the color decorator"),m.localize(1389,"Make the color picker appear on click of the color decorator")],description:m.localize(1390,"Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:De(new r(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m.localize(1391,"Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:De(new c(22,"columnSelection",!1,{description:m.localize(1392,"Enable that the selection with the mouse and keys is doing column selection.")})),comments:De(new _),contextmenu:De(new c(24,"contextmenu",!0)),copyWithSyntaxHighlighting:De(new c(25,"copyWithSyntaxHighlighting",!0,{description:m.localize(1393,"Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:De(new g(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],L,{description:m.localize(1394,"Control the cursor animation style.")})),cursorSmoothCaretAnimation:De(new h(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m.localize(1395,"Smooth caret animation is disabled."),m.localize(1396,"Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),m.localize(1397,"Smooth caret animation is always enabled.")],description:m.localize(1398,"Controls whether the smooth caret animation should be enabled.")})),cursorStyle:De(new g(28,"cursorStyle",D.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:m.localize(1399,"Controls the cursor style.")})),cursorSurroundingLines:De(new r(29,"cursorSurroundingLines",0,0,1073741824,{description:m.localize(1400,"Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:De(new h(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m.localize(1401,"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),m.localize(1402,"`cursorSurroundingLines` is enforced always.")],markdownDescription:m.localize(1403,"Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:De(new r(31,"cursorWidth",0,0,1073741824,{markdownDescription:m.localize(1404,"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:De(new c(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:De(new c(33,"disableMonospaceOptimizations",!1)),domReadOnly:De(new c(34,"domReadOnly",!1)),dragAndDrop:De(new c(35,"dragAndDrop",!0,{description:m.localize(1405,"Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:De(new A),dropIntoEditor:De(new Te),stickyScroll:De(new Q),experimentalWhitespaceRendering:De(new h(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m.localize(1406,"Use a new rendering method with svgs."),m.localize(1407,"Use a new rendering method with font characters."),m.localize(1408,"Use the stable rendering method.")],description:m.localize(1409,"Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:De(new d(39,"extraEditorClassName","")),fastScrollSensitivity:De(new l(40,"fastScrollSensitivity",5,Ne=>Ne<=0?5:Ne,{markdownDescription:m.localize(1410,"Scrolling speed multiplier when pressing `Alt`.")})),find:De(new R),fixedOverflowWidgets:De(new c(42,"fixedOverflowWidgets",!1)),folding:De(new c(43,"folding",!0,{description:m.localize(1411,"Controls whether the editor has code folding enabled.")})),foldingStrategy:De(new h(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m.localize(1412,"Use a language-specific folding strategy if available, else the indentation-based one."),m.localize(1413,"Use the indentation-based folding strategy.")],description:m.localize(1414,"Controls the strategy for computing folding ranges.")})),foldingHighlight:De(new c(45,"foldingHighlight",!0,{description:m.localize(1415,"Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:De(new c(46,"foldingImportsByDefault",!1,{description:m.localize(1416,"Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:De(new r(47,"foldingMaximumRegions",5e3,10,65e3,{description:m.localize(1417,"The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:De(new c(48,"unfoldOnClickAfterEndOfLine",!1,{description:m.localize(1418,"Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:De(new d(49,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:m.localize(1419,"Controls the font family.")})),fontInfo:De(new x),fontLigatures2:De(new M),fontSize:De(new O),fontWeight:De(new B),fontVariations:De(new P),formatOnPaste:De(new c(55,"formatOnPaste",!1,{description:m.localize(1420,"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:De(new c(56,"formatOnType",!1,{description:m.localize(1421,"Controls whether the editor should automatically format the line after typing.")})),glyphMargin:De(new c(57,"glyphMargin",!0,{description:m.localize(1422,"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:De(new H),hideCursorInOverviewRuler:De(new c(59,"hideCursorInOverviewRuler",!1,{description:m.localize(1423,"Controls whether the cursor should be hidden in the overview ruler.")})),hover:De(new K),inDiffEditor:De(new c(61,"inDiffEditor",!1)),letterSpacing:De(new l(64,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Ne=>l.clamp(Ne,-5,20),{description:m.localize(1424,"Controls the letter spacing in pixels.")})),lightbulb:De(new Y),lineDecorationsWidth:De(new G),lineHeight:De(new F),lineNumbers:De(new se),lineNumbersMinChars:De(new r(69,"lineNumbersMinChars",5,1,300)),linkedEditing:De(new c(70,"linkedEditing",!1,{description:m.localize(1425,"Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:De(new c(71,"links",!0,{description:m.localize(1426,"Controls whether the editor should detect links and make them clickable.")})),matchBrackets:De(new h(72,"matchBrackets","always",["always","near","never"],{description:m.localize(1427,"Highlight matching brackets.")})),minimap:De(new J),mouseStyle:De(new h(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:De(new l(75,"mouseWheelScrollSensitivity",1,Ne=>Ne===0?1:Ne,{markdownDescription:m.localize(1428,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:De(new c(76,"mouseWheelZoom",!1,{markdownDescription:E.isMacintosh?m.localize(1429,"Zoom the font of the editor when using mouse wheel and holding `Cmd`."):m.localize(1430,"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:De(new c(77,"multiCursorMergeOverlapping",!0,{description:m.localize(1431,"Merge multiple cursors when they are overlapping.")})),multiCursorModifier:De(new g(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],te,{markdownEnumDescriptions:[m.localize(1432,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),m.localize(1433,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:m.localize(1434,"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:De(new h(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m.localize(1435,"Each cursor pastes a single line of the text."),m.localize(1436,"Each cursor pastes the full text.")],markdownDescription:m.localize(1437,"Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:De(new r(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m.localize(1438,"Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:De(new h(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[m.localize(1439,"Does not highlight occurrences."),m.localize(1440,"Highlights occurrences only in the current file."),m.localize(1441,"Experimental: Highlights occurrences across all valid open files.")],markdownDescription:m.localize(1442,"Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:De(new c(82,"overviewRulerBorder",!0,{description:m.localize(1443,"Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:De(new r(83,"overviewRulerLanes",3,0,3)),padding:De(new de),pasteAs:De(new Ae),parameterHints:De(new he),peekWidgetDefaultFocus:De(new h(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m.localize(1444,"Focus the tree when opening peek"),m.localize(1445,"Focus the editor when opening peek")],description:m.localize(1446,"Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:De(new ue),definitionLinkOpensInPeek:De(new c(89,"definitionLinkOpensInPeek",!1,{description:m.localize(1447,"Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:De(new ie),quickSuggestionsDelay:De(new r(91,"quickSuggestionsDelay",10,0,1073741824,{description:m.localize(1448,"Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:De(new c(92,"readOnly",!1)),readOnlyMessage:De(new q),renameOnType:De(new c(94,"renameOnType",!1,{description:m.localize(1449,"Controls whether the editor auto renames on type."),markdownDeprecationMessage:m.localize(1450,"Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:De(new c(95,"renderControlCharacters",!0,{description:m.localize(1451,"Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:De(new h(96,"renderFinalNewline",E.isLinux?"dimmed":"on",["off","on","dimmed"],{description:m.localize(1452,"Render last line number when the file ends with a newline.")})),renderLineHighlight:De(new h(97,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m.localize(1453,"Highlights both the gutter and the current line.")],description:m.localize(1454,"Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:De(new c(98,"renderLineHighlightOnlyWhenFocus",!1,{description:m.localize(1455,"Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:De(new h(99,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:De(new h(100,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m.localize(1456,"Render whitespace characters except for single spaces between words."),m.localize(1457,"Render whitespace characters only on selected text."),m.localize(1458,"Render only trailing whitespace characters."),""],description:m.localize(1459,"Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:De(new r(101,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:De(new c(102,"roundedSelection",!0,{description:m.localize(1460,"Controls whether selections should have rounded corners.")})),rulers:De(new W),scrollbar:De(new $),scrollBeyondLastColumn:De(new r(105,"scrollBeyondLastColumn",4,0,1073741824,{description:m.localize(1461,"Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:De(new c(106,"scrollBeyondLastLine",!0,{description:m.localize(1462,"Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:De(new c(107,"scrollPredominantAxis",!0,{description:m.localize(1463,"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:De(new c(108,"selectionClipboard",!0,{description:m.localize(1464,"Controls whether the Linux primary clipboard should be supported."),included:E.isLinux})),selectionHighlight:De(new c(109,"selectionHighlight",!0,{description:m.localize(1465,"Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:De(new c(110,"selectOnLineNumbers",!0)),showFoldingControls:De(new h(111,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m.localize(1466,"Always show the folding controls."),m.localize(1467,"Never show the folding controls and reduce the gutter size."),m.localize(1468,"Only show the folding controls when the mouse is over the gutter.")],description:m.localize(1469,"Controls when the folding controls on the gutter are shown.")})),showUnused:De(new c(112,"showUnused",!0,{description:m.localize(1470,"Controls fading out of unused code.")})),showDeprecated:De(new c(141,"showDeprecated",!0,{description:m.localize(1471,"Controls strikethrough deprecated variables.")})),inlayHints:De(new Z),snippetSuggestions:De(new h(113,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m.localize(1472,"Show snippet suggestions on top of other suggestions."),m.localize(1473,"Show snippet suggestions below other suggestions."),m.localize(1474,"Show snippets suggestions with other suggestions."),m.localize(1475,"Do not show snippet suggestions.")],description:m.localize(1476,"Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:De(new Ie),smoothScrolling:De(new c(115,"smoothScrolling",!1,{description:m.localize(1477,"Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:De(new r(118,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:De(new _e),inlineSuggest:De(new ee),inlineEdit:De(new oe),inlineCompletionsAccessibilityVerbose:De(new c(150,"inlineCompletionsAccessibilityVerbose",!1,{description:m.localize(1478,"Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:De(new r(120,"suggestFontSize",0,0,1e3,{markdownDescription:m.localize(1479,"Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:De(new r(121,"suggestLineHeight",0,0,1e3,{markdownDescription:m.localize(1480,"Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:De(new c(122,"suggestOnTriggerCharacters",!0,{description:m.localize(1481,"Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:De(new h(123,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m.localize(1482,"Always select the first suggestion."),m.localize(1483,"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),m.localize(1484,"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:m.localize(1485,"Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:De(new h(124,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m.localize(1486,"Tab complete will insert the best matching suggestion when pressing tab."),m.localize(1487,"Disable tab completions."),m.localize(1488,"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:m.localize(1489,"Enables tab completions.")})),tabIndex:De(new r(125,"tabIndex",0,-1,1073741824)),unicodeHighlight:De(new X),unusualLineTerminators:De(new h(127,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m.localize(1490,"Unusual line terminators are automatically removed."),m.localize(1491,"Unusual line terminators are ignored."),m.localize(1492,"Unusual line terminators prompt to be removed.")],description:m.localize(1493,"Remove unusual line terminators that might cause problems.")})),useShadowDOM:De(new c(128,"useShadowDOM",!0)),useTabStops:De(new c(129,"useTabStops",!0,{description:m.localize(1494,"Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:De(new h(130,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m.localize(1495,"Use the default line break rule."),m.localize(1496,"Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:m.localize(1497,"Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:De(new Ce),wordSeparators:De(new d(132,"wordSeparators",y.USUAL_WORD_SEPARATORS,{description:m.localize(1498,"Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:De(new h(133,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m.localize(1499,"Lines will never wrap."),m.localize(1500,"Lines will wrap at the viewport width."),m.localize(1501,"Lines will wrap at `#editor.wordWrapColumn#`."),m.localize(1502,"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:m.localize(1503,"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:De(new d(134,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:De(new d(135,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:De(new r(136,"wordWrapColumn",80,1,1073741824,{markdownDescription:m.localize(1504,"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:De(new h(137,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:De(new h(138,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:De(new N),defaultColorDecorators:De(new c(148,"defaultColorDecorators",!1,{markdownDescription:m.localize(1505,"Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:De(new pe),tabFocusMode:De(new c(145,"tabFocusMode",!1,{markdownDescription:m.localize(1506,"Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:De(new V),wrappingInfo:De(new Le),wrappingIndent:De(new Ee),wrappingStrategy:De(new j)}}),define(re[659],ae([1,0,4,39,11,74,37,9,5,233]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=e.CursorPlurality=void 0;class v{constructor(i,n,c,u,r,a,l){this.top=i,this.left=n,this.paddingLeft=c,this.width=u,this.height=r,this.textContent=a,this.textContentClassName=l}}var s;(function(t){t[t.Single=0]="Single",t[t.MultiPrimary=1]="MultiPrimary",t[t.MultiSecondary=2]="MultiSecondary"})(s||(e.CursorPlurality=s={}));class o{constructor(i,n){this._context=i;const c=this._context.configuration.options,u=c.get(50);this._cursorStyle=c.get(28),this._lineHeight=c.get(67),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${b.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,I.applyFontInfo)(this._domNode,u),this._domNode.setDisplay("none"),this._position=new m.Position(1,1),this._pluralityClass="",this.setPlurality(n),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(i){switch(i){default:case s.Single:this._pluralityClass="";break;case s.MultiPrimary:this._pluralityClass="cursor-primary";break;case s.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const n=this._context.configuration.options,c=n.get(50);return this._cursorStyle=n.get(28),this._lineHeight=n.get(67),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(31),this._typicalHalfwidthCharacterWidth),(0,I.applyFontInfo)(this._domNode,c),!0}onCursorPositionChanged(i,n){return n?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:n}=this._position,c=this._context.viewModel.getLineContent(i),[u,r]=E.getCharContainingOffset(c,n-1);return[new m.Position(i,u+1),c.substring(u,r)]}_prepareRender(i){let n="",c="";const[u,r]=this._getGraphemeAwarePosition();if(this._cursorStyle===y.TextEditorCursorStyle.Line||this._cursorStyle===y.TextEditorCursorStyle.LineThin){const C=i.visibleRangeForPosition(u);if(!C||C.outsideRenderedLine)return null;const S=f.getWindow(this._domNode.domNode);let _;this._cursorStyle===y.TextEditorCursorStyle.Line?(_=f.computeScreenAwareSize(S,this._lineCursorWidth>0?this._lineCursorWidth:2),_>2&&(n=r,c=this._getTokenClassName(u))):_=f.computeScreenAwareSize(S,1);let L=C.left,D=0;_>=2&&L>=1&&(D=1,L-=D);const T=i.getVerticalOffsetForLineNumber(u.lineNumber)-i.bigNumbersDelta;return new v(T,L,D,_,this._lineHeight,n,c)}const a=i.linesVisibleRangesForRange(new w.Range(u.lineNumber,u.column,u.lineNumber,u.column+r.length),!1);if(!a||a.length===0)return null;const l=a[0];if(l.outsideRenderedLine||l.ranges.length===0)return null;const d=l.ranges[0],p=r==="	"?this._typicalHalfwidthCharacterWidth:d.width<1?this._typicalHalfwidthCharacterWidth:d.width;this._cursorStyle===y.TextEditorCursorStyle.Block&&(n=r,c=this._getTokenClassName(u));let h=i.getVerticalOffsetForLineNumber(u.lineNumber)-i.bigNumbersDelta,g=this._lineHeight;return(this._cursorStyle===y.TextEditorCursorStyle.Underline||this._cursorStyle===y.TextEditorCursorStyle.UnderlineThin)&&(h+=this._lineHeight-2,g=2),new v(h,d.left,0,p,g,n,c)}_getTokenClassName(i){const n=this._context.viewModel.getViewLineData(i.lineNumber),c=n.tokens.findTokenIndexAtOffset(i.column-1);return n.tokens.getClassName(c)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${b.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=o}),define(re[261],ae([1,0,16,37,165]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const I=f.isMacintosh?1.5:1.35,y=8;class m{static createFromValidatedSettings(v,s,o){const t=v.get(49),i=v.get(53),n=v.get(52),c=v.get(51),u=v.get(54),r=v.get(67),a=v.get(64);return m._create(t,i,n,c,u,r,a,s,o)}static _create(v,s,o,t,i,n,c,u,r){n===0?n=I*o:n<y&&(n=n*o),n=Math.round(n),n<y&&(n=y);const a=1+(r?0:E.EditorZoom.getZoomLevel()*.1);return o*=a,n*=a,i===k.EditorFontVariations.TRANSLATE&&(s==="normal"||s==="bold"?i=k.EditorFontVariations.OFF:(i=`'wght' ${parseInt(s,10)}`,s="normal")),new m({pixelRatio:u,fontFamily:v,fontWeight:s,fontSize:o,fontFeatureSettings:t,fontVariationSettings:i,lineHeight:n,letterSpacing:c})}constructor(v){this._bareFontInfoBrand=void 0,this.pixelRatio=v.pixelRatio,this.fontFamily=String(v.fontFamily),this.fontWeight=String(v.fontWeight),this.fontSize=v.fontSize,this.fontFeatureSettings=v.fontFeatureSettings,this.fontVariationSettings=v.fontVariationSettings,this.lineHeight=v.lineHeight|0,this.letterSpacing=v.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const v=k.EDITOR_FONT_DEFAULTS.fontFamily,s=m._wrapInQuotes(this.fontFamily);return v&&this.fontFamily!==v?`${s}, ${v}`:s}static _wrapInQuotes(v){return/[,"']/.test(v)?v:/[+ ]/.test(v)?`"${v}"`:v}}e.BareFontInfo=m,e.SERIALIZED_FONT_INFO_VERSION=2;class w extends m{constructor(v,s){super(v),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=s,this.isMonospace=v.isMonospace,this.typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=v.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=v.canUseHalfwidthRightwardsArrow,this.spaceWidth=v.spaceWidth,this.middotWidth=v.middotWidth,this.wsmiddotWidth=v.wsmiddotWidth,this.maxDigitWidth=v.maxDigitWidth}equals(v){return this.fontFamily===v.fontFamily&&this.fontWeight===v.fontWeight&&this.fontSize===v.fontSize&&this.fontFeatureSettings===v.fontFeatureSettings&&this.fontVariationSettings===v.fontVariationSettings&&this.lineHeight===v.lineHeight&&this.letterSpacing===v.letterSpacing&&this.typicalHalfwidthCharacterWidth===v.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===v.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.maxDigitWidth===v.maxDigitWidth}}e.FontInfo=w}),define(re[370],ae([1,0,4,229,6,2,555,37,261]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class b extends I.Disposable{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(o){const t=(0,f.getWindowId)(o);let i=this._cache.get(t);return i||(i=new v,this._cache.set(t,i)),i}_writeToCache(o,t,i){this._ensureCache(o).put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=o.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(o)},5e3))}_evictUntrustedReadings(o){const t=this._ensureCache(o),i=t.getValues();let n=!1;for(const c of i)c.isTrusted||(n=!0,t.remove(c));n&&this._onDidChange.fire()}readFontInfo(o,t){const i=this._ensureCache(o);if(!i.has(t)){let n=this._actualReadFontInfo(o,t);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(o).value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(o,t,n)}return i.get(t)}_createRequest(o,t,i,n){const c=new y.CharWidthRequest(o,t);return i.push(c),n?.push(c),c}_actualReadFontInfo(o,t){const i=[],n=[],c=this._createRequest("n",0,i,n),u=this._createRequest("\uFF4D",0,i,null),r=this._createRequest(" ",0,i,n),a=this._createRequest("0",0,i,n),l=this._createRequest("1",0,i,n),d=this._createRequest("2",0,i,n),p=this._createRequest("3",0,i,n),h=this._createRequest("4",0,i,n),g=this._createRequest("5",0,i,n),C=this._createRequest("6",0,i,n),S=this._createRequest("7",0,i,n),_=this._createRequest("8",0,i,n),L=this._createRequest("9",0,i,n),D=this._createRequest("\u2192",0,i,n),T=this._createRequest("\uFFEB",0,i,null),N=this._createRequest("\xB7",0,i,n),A=this._createRequest("\u2E31",0,i,null),R="|/-_ilm%";for(let B=0,H=R.length;B<H;B++)this._createRequest(R.charAt(B),0,i,n),this._createRequest(R.charAt(B),1,i,n),this._createRequest(R.charAt(B),2,i,n);(0,y.readCharWidths)(o,t,i);const M=Math.max(a.width,l.width,d.width,p.width,h.width,g.width,C.width,S.width,_.width,L.width);let P=t.fontFeatureSettings===m.EditorFontLigatures.OFF;const x=n[0].width;for(let B=1,H=n.length;P&&B<H;B++){const K=x-n[B].width;if(K<-.001||K>.001){P=!1;break}}let O=!0;return P&&T.width!==x&&(O=!1),T.width>D.width&&(O=!1),new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(o).value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:P,typicalHalfwidthCharacterWidth:c.width,typicalFullwidthCharacterWidth:u.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:r.width,middotWidth:N.width,wsmiddotWidth:A.width,maxDigitWidth:M},!0)}}e.FontMeasurementsImpl=b;class v{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(o){const t=o.getId();return!!this._values[t]}get(o){const t=o.getId();return this._values[t]}put(o,t){const i=o.getId();this._keys[i]=o,this._values[i]=t}remove(o){const t=o.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(o=>this._values[o])}}e.FontMeasurements=new b}),define(re[27],ae([1,0,26,22,5,603,3]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditTriggerKind=e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.NewSymbolNameTriggerKind=e.NewSymbolNameTag=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.symbolKindNames=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.DocumentPasteTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.HoverVerbosityAction=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0,e.isLocationLink=u,e.getAriaLabelForSymbol=r;class m{constructor(D,T,N){this.offset=D,this.type=T,this.language=N,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=m;class w{constructor(D,T){this.tokens=D,this.endState=T,this._tokenizationResultBrand=void 0}}e.TokenizationResult=w;class b{constructor(D,T){this.tokens=D,this.endState=T,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=b;var v;(function(L){L[L.Increase=0]="Increase",L[L.Decrease=1]="Decrease"})(v||(e.HoverVerbosityAction=v={}));var s;(function(L){const D=new Map;D.set(0,f.Codicon.symbolMethod),D.set(1,f.Codicon.symbolFunction),D.set(2,f.Codicon.symbolConstructor),D.set(3,f.Codicon.symbolField),D.set(4,f.Codicon.symbolVariable),D.set(5,f.Codicon.symbolClass),D.set(6,f.Codicon.symbolStruct),D.set(7,f.Codicon.symbolInterface),D.set(8,f.Codicon.symbolModule),D.set(9,f.Codicon.symbolProperty),D.set(10,f.Codicon.symbolEvent),D.set(11,f.Codicon.symbolOperator),D.set(12,f.Codicon.symbolUnit),D.set(13,f.Codicon.symbolValue),D.set(15,f.Codicon.symbolEnum),D.set(14,f.Codicon.symbolConstant),D.set(15,f.Codicon.symbolEnum),D.set(16,f.Codicon.symbolEnumMember),D.set(17,f.Codicon.symbolKeyword),D.set(27,f.Codicon.symbolSnippet),D.set(18,f.Codicon.symbolText),D.set(19,f.Codicon.symbolColor),D.set(20,f.Codicon.symbolFile),D.set(21,f.Codicon.symbolReference),D.set(22,f.Codicon.symbolCustomColor),D.set(23,f.Codicon.symbolFolder),D.set(24,f.Codicon.symbolTypeParameter),D.set(25,f.Codicon.account),D.set(26,f.Codicon.issues);function T(R){let M=D.get(R);return M||(console.info("No codicon found for CompletionItemKind "+R),M=f.Codicon.symbolProperty),M}L.toIcon=T;const N=new Map;N.set("method",0),N.set("function",1),N.set("constructor",2),N.set("field",3),N.set("variable",4),N.set("class",5),N.set("struct",6),N.set("interface",7),N.set("module",8),N.set("property",9),N.set("event",10),N.set("operator",11),N.set("unit",12),N.set("value",13),N.set("constant",14),N.set("enum",15),N.set("enum-member",16),N.set("enumMember",16),N.set("keyword",17),N.set("snippet",27),N.set("text",18),N.set("color",19),N.set("file",20),N.set("reference",21),N.set("customcolor",22),N.set("folder",23),N.set("type-parameter",24),N.set("typeParameter",24),N.set("account",25),N.set("issue",26);function A(R,M){let P=N.get(R);return typeof P>"u"&&!M&&(P=9),P}L.fromString=A})(s||(e.CompletionItemKinds=s={}));var o;(function(L){L[L.Automatic=0]="Automatic",L[L.Explicit=1]="Explicit"})(o||(e.InlineCompletionTriggerKind=o={}));class t{constructor(D,T,N,A){this.range=D,this.text=T,this.completionKind=N,this.isSnippetText=A}equals(D){return E.Range.lift(this.range).equalsRange(D.range)&&this.text===D.text&&this.completionKind===D.completionKind&&this.isSnippetText===D.isSnippetText}}e.SelectedSuggestionInfo=t;var i;(function(L){L[L.Automatic=0]="Automatic",L[L.PasteAs=1]="PasteAs"})(i||(e.DocumentPasteTriggerKind=i={}));var n;(function(L){L[L.Invoke=1]="Invoke",L[L.TriggerCharacter=2]="TriggerCharacter",L[L.ContentChange=3]="ContentChange"})(n||(e.SignatureHelpTriggerKind=n={}));var c;(function(L){L[L.Text=0]="Text",L[L.Read=1]="Read",L[L.Write=2]="Write"})(c||(e.DocumentHighlightKind=c={}));function u(L){return L&&k.URI.isUri(L.uri)&&E.Range.isIRange(L.range)&&(E.Range.isIRange(L.originSelectionRange)||E.Range.isIRange(L.targetSelectionRange))}e.symbolKindNames={17:(0,y.localize)(1753,"array"),16:(0,y.localize)(1754,"boolean"),4:(0,y.localize)(1755,"class"),13:(0,y.localize)(1756,"constant"),8:(0,y.localize)(1757,"constructor"),9:(0,y.localize)(1758,"enumeration"),21:(0,y.localize)(1759,"enumeration member"),23:(0,y.localize)(1760,"event"),7:(0,y.localize)(1761,"field"),0:(0,y.localize)(1762,"file"),11:(0,y.localize)(1763,"function"),10:(0,y.localize)(1764,"interface"),19:(0,y.localize)(1765,"key"),5:(0,y.localize)(1766,"method"),1:(0,y.localize)(1767,"module"),2:(0,y.localize)(1768,"namespace"),20:(0,y.localize)(1769,"null"),15:(0,y.localize)(1770,"number"),18:(0,y.localize)(1771,"object"),24:(0,y.localize)(1772,"operator"),3:(0,y.localize)(1773,"package"),6:(0,y.localize)(1774,"property"),14:(0,y.localize)(1775,"string"),22:(0,y.localize)(1776,"struct"),25:(0,y.localize)(1777,"type parameter"),12:(0,y.localize)(1778,"variable")};function r(L,D){return(0,y.localize)(1779,"{0} ({1})",L,e.symbolKindNames[D])}var a;(function(L){const D=new Map;D.set(0,f.Codicon.symbolFile),D.set(1,f.Codicon.symbolModule),D.set(2,f.Codicon.symbolNamespace),D.set(3,f.Codicon.symbolPackage),D.set(4,f.Codicon.symbolClass),D.set(5,f.Codicon.symbolMethod),D.set(6,f.Codicon.symbolProperty),D.set(7,f.Codicon.symbolField),D.set(8,f.Codicon.symbolConstructor),D.set(9,f.Codicon.symbolEnum),D.set(10,f.Codicon.symbolInterface),D.set(11,f.Codicon.symbolFunction),D.set(12,f.Codicon.symbolVariable),D.set(13,f.Codicon.symbolConstant),D.set(14,f.Codicon.symbolString),D.set(15,f.Codicon.symbolNumber),D.set(16,f.Codicon.symbolBoolean),D.set(17,f.Codicon.symbolArray),D.set(18,f.Codicon.symbolObject),D.set(19,f.Codicon.symbolKey),D.set(20,f.Codicon.symbolNull),D.set(21,f.Codicon.symbolEnumMember),D.set(22,f.Codicon.symbolStruct),D.set(23,f.Codicon.symbolEvent),D.set(24,f.Codicon.symbolOperator),D.set(25,f.Codicon.symbolTypeParameter);function T(N){let A=D.get(N);return A||(console.info("No codicon found for SymbolKind "+N),A=f.Codicon.symbolProperty),A}L.toIcon=T})(a||(e.SymbolKinds=a={}));class l{}e.TextEdit=l;class d{static fromValue(D){switch(D){case"comment":return d.Comment;case"imports":return d.Imports;case"region":return d.Region}return new d(D)}constructor(D){this.value=D}}e.FoldingRangeKind=d,d.Comment=new d("comment"),d.Imports=new d("imports"),d.Region=new d("region");var p;(function(L){L[L.AIGenerated=1]="AIGenerated"})(p||(e.NewSymbolNameTag=p={}));var h;(function(L){L[L.Invoke=0]="Invoke",L[L.Automatic=1]="Automatic"})(h||(e.NewSymbolNameTriggerKind=h={}));var g;(function(L){function D(T){return!T||typeof T!="object"?!1:typeof T.id=="string"&&typeof T.title=="string"}L.is=D})(g||(e.Command=g={}));var C;(function(L){L[L.Type=1]="Type",L[L.Parameter=2]="Parameter"})(C||(e.InlayHintKind=C={}));class S{constructor(D){this.createSupport=D,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(D=>{D&&D.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=S,e.TokenizationRegistry=new I.TokenizationRegistry;var _;(function(L){L[L.Invoke=0]="Invoke",L[L.Automatic=1]="Automatic"})(_||(e.InlineEditTriggerKind=_={}))}),define(re[175],ae([1,0,27]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullState=void 0,e.nullTokenize=k,e.nullTokenizeEncoded=E,e.NullState=new class{clone(){return this}equals(I){return this===I}};function k(I,y){return new f.TokenizationResult([new f.Token(0,"",I)],y)}function E(I,y){const m=new Uint32Array(2);return m[0]=0,m[1]=(I<<0|0|0|32768|2<<24)>>>0,new f.EncodedTokenizationResult(m,y===null?e.NullState:y)}}),define(re[371],ae([1,0,11,94,27,175]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeToString=m,e.tokenizeLineToHTML=w,e._tokenizeToString=b;const y={getInitialState:()=>I.NullState,tokenizeEncoded:(v,s,o)=>(0,I.nullTokenizeEncoded)(0,o)};async function m(v,s,o){if(!o)return b(s,v.languageIdCodec,y);const t=await E.TokenizationRegistry.getOrCreate(o);return b(s,v.languageIdCodec,t||y)}function w(v,s,o,t,i,n,c){let u="<div>",r=t,a=0,l=!0;for(let d=0,p=s.getCount();d<p;d++){const h=s.getEndOffset(d);if(h<=t)continue;let g="";for(;r<h&&r<i;r++){const C=v.charCodeAt(r);switch(C){case 9:{let S=n-(r+a)%n;for(a+=S-1;S>0;)c&&l?(g+="&#160;",l=!1):(g+=" ",l=!0),S--;break}case 60:g+="&lt;",l=!1;break;case 62:g+="&gt;",l=!1;break;case 38:g+="&amp;",l=!1;break;case 0:g+="&#00;",l=!1;break;case 65279:case 8232:case 8233:case 133:g+="\uFFFD",l=!1;break;case 13:g+="&#8203",l=!1;break;case 32:c&&l?(g+="&#160;",l=!1):(g+=" ",l=!0);break;default:g+=String.fromCharCode(C),l=!1}}if(u+=`<span style="${s.getInlineStyle(d,o)}">${g}</span>`,h>i||r>=i)break}return u+="</div>",u}function b(v,s,o){let t='<div class="monaco-tokenized-source">';const i=f.splitLines(v);let n=o.getInitialState();for(let c=0,u=i.length;c<u;c++){const r=i[c];c>0&&(t+="<br/>");const a=o.tokenizeEncoded(r,!0,n);k.LineTokens.convertToEndOffset(a.tokens,r.length);const d=new k.LineTokens(a.tokens,r,s).inflate();let p=0;for(let h=0,g=d.getCount();h<g;h++){const C=d.getClassName(h),S=d.getEndOffset(h);t+=`<span class="${C}">${f.escape(r.substring(p,S))}</span>`,p=S}n=a.endState}return t+="</div>",t}}),define(re[372],ae([1,0,3,8,23,22,325,156,50]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0,e.isEditStackElement=i;function b(c){return c.toString()}class v{static create(u,r){const a=u.getAlternativeVersionId(),l=t(u);return new v(a,a,l,l,r,r,[])}constructor(u,r,a,l,d,p,h){this.beforeVersionId=u,this.afterVersionId=r,this.beforeEOL=a,this.afterEOL=l,this.beforeCursorState=d,this.afterCursorState=p,this.changes=h}append(u,r,a,l,d){r.length>0&&(this.changes=(0,y.compressConsecutiveTextChanges)(this.changes,r)),this.afterEOL=a,this.afterVersionId=l,this.afterCursorState=d}static _writeSelectionsSize(u){return 4+4*4*(u?u.length:0)}static _writeSelections(u,r,a){if(m.writeUInt32BE(u,r?r.length:0,a),a+=4,r)for(const l of r)m.writeUInt32BE(u,l.selectionStartLineNumber,a),a+=4,m.writeUInt32BE(u,l.selectionStartColumn,a),a+=4,m.writeUInt32BE(u,l.positionLineNumber,a),a+=4,m.writeUInt32BE(u,l.positionColumn,a),a+=4;return a}static _readSelections(u,r,a){const l=m.readUInt32BE(u,r);r+=4;for(let d=0;d<l;d++){const p=m.readUInt32BE(u,r);r+=4;const h=m.readUInt32BE(u,r);r+=4;const g=m.readUInt32BE(u,r);r+=4;const C=m.readUInt32BE(u,r);r+=4,a.push(new E.Selection(p,h,g,C))}return r}serialize(){let u=10+v._writeSelectionsSize(this.beforeCursorState)+v._writeSelectionsSize(this.afterCursorState)+4;for(const l of this.changes)u+=l.writeSize();const r=new Uint8Array(u);let a=0;m.writeUInt32BE(r,this.beforeVersionId,a),a+=4,m.writeUInt32BE(r,this.afterVersionId,a),a+=4,m.writeUInt8(r,this.beforeEOL,a),a+=1,m.writeUInt8(r,this.afterEOL,a),a+=1,a=v._writeSelections(r,this.beforeCursorState,a),a=v._writeSelections(r,this.afterCursorState,a),m.writeUInt32BE(r,this.changes.length,a),a+=4;for(const l of this.changes)a=l.write(r,a);return r.buffer}static deserialize(u){const r=new Uint8Array(u);let a=0;const l=m.readUInt32BE(r,a);a+=4;const d=m.readUInt32BE(r,a);a+=4;const p=m.readUInt8(r,a);a+=1;const h=m.readUInt8(r,a);a+=1;const g=[];a=v._readSelections(r,a,g);const C=[];a=v._readSelections(r,a,C);const S=m.readUInt32BE(r,a);a+=4;const _=[];for(let L=0;L<S;L++)a=y.TextChange.read(r,a,_);return new v(l,d,p,h,g,C,_)}}e.SingleModelEditStackData=v;class s{get type(){return 0}get resource(){return I.URI.isUri(this.model)?this.model:this.model.uri}constructor(u,r,a,l){this.label=u,this.code=r,this.model=a,this._data=v.create(a,l)}toString(){return(this._data instanceof v?this._data:v.deserialize(this._data)).changes.map(r=>r.toString()).join(", ")}matchesResource(u){return(I.URI.isUri(this.model)?this.model:this.model.uri).toString()===u.toString()}setModel(u){this.model=u}canAppend(u){return this.model===u&&this._data instanceof v}append(u,r,a,l,d){this._data instanceof v&&this._data.append(u,r,a,l,d)}close(){this._data instanceof v&&(this._data=this._data.serialize())}open(){this._data instanceof v||(this._data=v.deserialize(this._data))}undo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const u=v.deserialize(this._data);this.model._applyUndo(u.changes,u.beforeEOL,u.beforeVersionId,u.beforeCursorState)}redo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const u=v.deserialize(this._data);this.model._applyRedo(u.changes,u.afterEOL,u.afterVersionId,u.afterCursorState)}heapSize(){return this._data instanceof v&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=s;class o{get resources(){return this._editStackElementsArr.map(u=>u.resource)}constructor(u,r,a){this.label=u,this.code=r,this.type=1,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;for(const l of this._editStackElementsArr){const d=b(l.resource);this._editStackElementsMap.set(d,l)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(u){const r=b(u);return this._editStackElementsMap.has(r)}setModel(u){const r=b(I.URI.isUri(u)?u:u.uri);this._editStackElementsMap.has(r)&&this._editStackElementsMap.get(r).setModel(u)}canAppend(u){if(!this._isOpen)return!1;const r=b(u.uri);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).canAppend(u):!1}append(u,r,a,l,d){const p=b(u.uri);this._editStackElementsMap.get(p).append(u,r,a,l,d)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const u of this._editStackElementsArr)u.undo()}redo(){for(const u of this._editStackElementsArr)u.redo()}heapSize(u){const r=b(u);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).heapSize():0}split(){return this._editStackElementsArr}toString(){const u=[];for(const r of this._editStackElementsArr)u.push(`${(0,w.basename)(r.resource)}: ${r}`);return`{${u.join(", ")}}`}}e.MultiModelEditStackElement=o;function t(c){return c.getEOL()===`
`?0:1}function i(c){return c?c instanceof s||c instanceof o:!1}class n{constructor(u,r){this._model=u,this._undoRedoService=r}pushStackElement(){const u=this._undoRedoService.getLastElement(this._model.uri);i(u)&&u.close()}popStackElement(){const u=this._undoRedoService.getLastElement(this._model.uri);i(u)&&u.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(u,r){const a=this._undoRedoService.getLastElement(this._model.uri);if(i(a)&&a.canAppend(this._model))return a;const l=new s(f.localize(1043,"Typing"),"undoredo.textBufferEdit",this._model,u);return this._undoRedoService.pushElement(l,r),l}pushEOL(u){const r=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(u),r.append(this._model,[],t(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(u,r,a,l){const d=this._getOrCreateEditStackElement(u,l),p=this._model.applyEdits(r,!0),h=n._computeCursorState(a,p),g=p.map((C,S)=>({index:S,textChange:C.textChange}));return g.sort((C,S)=>C.textChange.oldPosition===S.textChange.oldPosition?C.index-S.index:C.textChange.oldPosition-S.textChange.oldPosition),d.append(this._model,g.map(C=>C.textChange),t(this._model),this._model.getAlternativeVersionId(),h),h}static _computeCursorState(u,r){try{return u?u(r):null}catch(a){return(0,k.onUnexpectedError)(a),null}}}e.EditStack=n}),define(re[660],ae([1,0,14,8,16,59,142,56,66,175,590,345,94]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class t{constructor(d,p){this.tokenizationSupport=p,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new n(d)}getStartState(d){return this.store.getStartState(d,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=t;class i extends t{constructor(d,p,h,g){super(d,p),this._textModel=h,this._languageIdCodec=g}updateTokensUntilLine(d,p){const h=this._textModel.getLanguageId();for(;;){const g=this.getFirstInvalidLine();if(!g||g.lineNumber>p)break;const C=this._textModel.getLineContent(g.lineNumber),S=r(this._languageIdCodec,h,this.tokenizationSupport,C,!0,g.startState);d.add(g.lineNumber,S.tokens),this.store.setEndState(g.lineNumber,S.endState)}}getTokenTypeIfInsertingCharacter(d,p){const h=this.getStartState(d.lineNumber);if(!h)return 0;const g=this._textModel.getLanguageId(),C=this._textModel.getLineContent(d.lineNumber),S=C.substring(0,d.column-1)+p+C.substring(d.column-1),_=r(this._languageIdCodec,g,this.tokenizationSupport,S,!0,h),L=new o.LineTokens(_.tokens,S,this._languageIdCodec);if(L.getCount()===0)return 0;const D=L.findTokenIndexAtOffset(d.column-1);return L.getStandardTokenType(D)}tokenizeLineWithEdit(d,p,h){const g=d.lineNumber,C=d.column,S=this.getStartState(g);if(!S)return null;const _=this._textModel.getLineContent(g),L=_.substring(0,C-1)+h+_.substring(C-1+p),D=this._textModel.getLanguageIdAtPosition(g,0),T=r(this._languageIdCodec,D,this.tokenizationSupport,L,!0,S);return new o.LineTokens(T.tokens,L,this._languageIdCodec)}hasAccurateTokensForLine(d){const p=this.store.getFirstInvalidEndStateLineNumberOrMax();return d<p}isCheapToTokenize(d){const p=this.store.getFirstInvalidEndStateLineNumberOrMax();return d<p||d===p&&this._textModel.getLineLength(d)<2048}tokenizeHeuristically(d,p,h){if(h<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(p<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(d,h),{heuristicTokens:!1};let g=this.guessStartState(p);const C=this._textModel.getLanguageId();for(let S=p;S<=h;S++){const _=this._textModel.getLineContent(S),L=r(this._languageIdCodec,C,this.tokenizationSupport,_,!0,g);d.add(S,L.tokens),g=L.endState}return{heuristicTokens:!0}}guessStartState(d){let p=this._textModel.getLineFirstNonWhitespaceColumn(d);const h=[];let g=null;for(let _=d-1;p>1&&_>=1;_--){const L=this._textModel.getLineFirstNonWhitespaceColumn(_);if(L!==0&&L<p&&(h.push(this._textModel.getLineContent(_)),p=L,g=this.getStartState(_),g))break}g||(g=this.tokenizationSupport.getInitialState()),h.reverse();const C=this._textModel.getLanguageId();let S=g;for(const _ of h)S=r(this._languageIdCodec,C,this.tokenizationSupport,_,!1,S).endState;return S}}e.TokenizerWithStateStoreAndTextModel=i;class n{constructor(d){this.lineCount=d,this._tokenizationStateStore=new c,this._invalidEndStatesLineNumbers=new u,this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(1,d+1))}getEndState(d){return this._tokenizationStateStore.getEndState(d)}setEndState(d,p){if(!p)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(d);const h=this._tokenizationStateStore.setEndState(d,p);return h&&d<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(d+1,d+2)),h}acceptChange(d,p){this.lineCount+=p-d.length,this._tokenizationStateStore.acceptChange(d,p),this._invalidEndStatesLineNumbers.addRangeAndResize(new w.OffsetRange(d.startLineNumber,d.endLineNumberExclusive),p)}acceptChanges(d){for(const p of d){const[h]=(0,y.countEOL)(p.text);this.acceptChange(new m.LineRange(p.range.startLineNumber,p.range.endLineNumber+1),h+1)}}invalidateEndStateRange(d){this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(d.startLineNumber,d.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(d,p){return d===1?p:this.getEndState(d-1)}getFirstInvalidLine(d){const p=this.getFirstInvalidEndStateLineNumber();if(p===null)return null;const h=this.getStartState(p,d);if(!h)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:p,startState:h}}}e.TrackingTokenizationStateStore=n;class c{constructor(){this._lineEndStates=new v.FixedArray(null)}getEndState(d){return this._lineEndStates.get(d)}setEndState(d,p){const h=this._lineEndStates.get(d);return h&&h.equals(p)?!1:(this._lineEndStates.set(d,p),!0)}acceptChange(d,p){let h=d.length;p>0&&h>0&&(h--,p--),this._lineEndStates.replace(d.startLineNumber,h,p)}}e.TokenizationStateStore=c;class u{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(d){const p=this._ranges.findIndex(h=>h.contains(d));if(p!==-1){const h=this._ranges[p];h.start===d?h.endExclusive===d+1?this._ranges.splice(p,1):this._ranges[p]=new w.OffsetRange(d+1,h.endExclusive):h.endExclusive===d+1?this._ranges[p]=new w.OffsetRange(h.start,d):this._ranges.splice(p,1,new w.OffsetRange(h.start,d),new w.OffsetRange(d+1,h.endExclusive))}}addRange(d){w.OffsetRange.addRange(d,this._ranges)}addRangeAndResize(d,p){let h=0;for(;!(h>=this._ranges.length||d.start<=this._ranges[h].endExclusive);)h++;let g=h;for(;!(g>=this._ranges.length||d.endExclusive<this._ranges[g].start);)g++;const C=p-d.length;for(let S=g;S<this._ranges.length;S++)this._ranges[S]=this._ranges[S].delta(C);if(h===g){const S=new w.OffsetRange(d.start,d.start+p);S.isEmpty||this._ranges.splice(h,0,S)}else{const S=Math.min(d.start,this._ranges[h].start),_=Math.max(d.endExclusive,this._ranges[g-1].endExclusive),L=new w.OffsetRange(S,_+C);L.isEmpty?this._ranges.splice(h,g-h):this._ranges.splice(h,g-h,L)}}toString(){return this._ranges.map(d=>d.toString()).join(" + ")}}e.RangePriorityQueueImpl=u;function r(l,d,p,h,g,C){let S=null;if(p)try{S=p.tokenizeEncoded(h,g,C.clone())}catch(_){(0,k.onUnexpectedError)(_)}return S||(S=(0,b.nullTokenizeEncoded)(l.encodeLanguageId(d),C)),o.LineTokens.convertToEndOffset(S.tokens,h.length),S}class a{constructor(d,p){this._tokenizerWithStateStore=d,this._backgroundTokenStore=p,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,f.runWhenGlobalIdle)(d=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(d)}))}_backgroundTokenizeWithDeadline(d){const p=Date.now()+d.timeRemaining(),h=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<p?(0,E.setTimeout0)(h):this._beginBackgroundTokenization())};h()}_backgroundTokenizeForAtLeast1ms(){const d=this._tokenizerWithStateStore._textModel.getLineCount(),p=new s.ContiguousMultilineTokensBuilder,h=I.StopWatch.create(!1);do if(h.elapsed()>1||this._tokenizeOneInvalidLine(p)>=d)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(p.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(d){var p;const h=(p=this._tokenizerWithStateStore)===null||p===void 0?void 0:p.getFirstInvalidLine();return h?(this._tokenizerWithStateStore.updateTokensUntilLine(d,h.lineNumber),h.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(d,p){this._tokenizerWithStateStore.store.invalidateEndStateRange(new m.LineRange(d,p))}}e.DefaultBackgroundTokenizer=a}),define(re[661],ae([1,0,13,14,8,6,2,142,56,9,168,27,338,660,345,606,608]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class u extends o.TextModelPart{constructor(d,p,h,g,C,S){super(),this._languageService=d,this._languageConfigurationService=p,this._textModel=h,this._bracketPairsTextModelPart=g,this._languageId=C,this._attachedViews=S,this._semanticTokens=new c.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new I.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new I.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new I.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new r(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this.grammarTokens.onDidChangeTokens(_=>{this._emitModelTokensChangedEvent(_)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(_=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleLanguageConfigurationServiceChange(d){d.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(d){if(d.isFlush)this._semanticTokens.flush();else if(!d.isEolChange)for(const p of d.changes){const[h,g,C]=(0,m.countEOL)(p.text);this._semanticTokens.acceptEdit(p.range,h,g,C,p.text.length>0?p.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(d)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(d){this.validateLineNumber(d);const p=this.grammarTokens.getLineTokens(d);return this._semanticTokens.addSparseTokens(d,p)}_emitModelTokensChangedEvent(d){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(d),this._onDidChangeTokens.fire(d))}validateLineNumber(d){if(d<1||d>this._textModel.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(d){this.validateLineNumber(d),this.grammarTokens.forceTokenization(d)}hasAccurateTokensForLine(d){return this.validateLineNumber(d),this.grammarTokens.hasAccurateTokensForLine(d)}isCheapToTokenize(d){return this.validateLineNumber(d),this.grammarTokens.isCheapToTokenize(d)}tokenizeIfCheap(d){this.validateLineNumber(d),this.grammarTokens.tokenizeIfCheap(d)}getTokenTypeIfInsertingCharacter(d,p,h){return this.grammarTokens.getTokenTypeIfInsertingCharacter(d,p,h)}tokenizeLineWithEdit(d,p,h){return this.grammarTokens.tokenizeLineWithEdit(d,p,h)}setSemanticTokens(d,p){this._semanticTokens.set(d,p),this._emitModelTokensChangedEvent({semanticTokensApplied:d!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(d,p){if(this.hasCompleteSemanticTokens())return;const h=this._textModel.validateRange(this._semanticTokens.setPartial(d,p));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:h.startLineNumber,toLineNumber:h.endLineNumber}]})}getWordAtPosition(d){this.assertNotDisposed();const p=this._textModel.validatePosition(d),h=this._textModel.getLineContent(p.lineNumber),g=this.getLineTokens(p.lineNumber),C=g.findTokenIndexAtOffset(p.column-1),[S,_]=u._findLanguageBoundaries(g,C),L=(0,v.getWordAtText)(p.column,this.getLanguageConfiguration(g.getLanguageId(C)).getWordDefinition(),h.substring(S,_),S);if(L&&L.startColumn<=d.column&&d.column<=L.endColumn)return L;if(C>0&&S===p.column-1){const[D,T]=u._findLanguageBoundaries(g,C-1),N=(0,v.getWordAtText)(p.column,this.getLanguageConfiguration(g.getLanguageId(C-1)).getWordDefinition(),h.substring(D,T),D);if(N&&N.startColumn<=d.column&&d.column<=N.endColumn)return N}return null}getLanguageConfiguration(d){return this._languageConfigurationService.getLanguageConfiguration(d)}static _findLanguageBoundaries(d,p){const h=d.getLanguageId(p);let g=0;for(let S=p;S>=0&&d.getLanguageId(S)===h;S--)g=d.getStartOffset(S);let C=d.getLineContent().length;for(let S=p,_=d.getCount();S<_&&d.getLanguageId(S)===h;S++)C=d.getEndOffset(S);return[g,C]}getWordUntilPosition(d){const p=this.getWordAtPosition(d);return p?{word:p.word.substr(0,d.column-p.startColumn),startColumn:p.startColumn,endColumn:d.column}:{word:"",startColumn:d.column,endColumn:d.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(d,p){const h=this._textModel.validatePosition(new b.Position(d,p)),g=this.getLineTokens(h.lineNumber);return g.getLanguageId(g.findTokenIndexAtOffset(h.column-1))}setLanguageId(d,p="api"){if(this._languageId===d)return;const h={oldLanguage:this._languageId,newLanguage:d,source:p};this._languageId=d,this._bracketPairsTextModelPart.handleDidChangeLanguage(h),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(h),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=u;class r extends y.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(d,p,h,g){super(),this._languageIdCodec=d,this._textModel=p,this.getLanguageId=h,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new y.MutableDisposable),this._tokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new y.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new I.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new I.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new y.DisposableMap),this._register(s.TokenizationRegistry.onDidChange(C=>{const S=this.getLanguageId();C.changedLanguages.indexOf(S)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(g.onDidChangeVisibleRanges(({view:C,state:S})=>{if(S){let _=this._attachedViewStates.get(C);_||(_=new a(()=>this.refreshRanges(_.lineRanges)),this._attachedViewStates.set(C,_)),_.handleStateChange(S)}else this._attachedViewStates.deleteAndDispose(C)}))}resetTokenization(d=!0){var p;this._tokens.flush(),(p=this._debugBackgroundTokens)===null||p===void 0||p.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new t.TrackingTokenizationStateStore(this._textModel.getLineCount())),d&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const h=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const S=s.TokenizationRegistry.get(this.getLanguageId());if(!S)return[null,null];let _;try{_=S.getInitialState()}catch(L){return(0,E.onUnexpectedError)(L),[null,null]}return[S,_]},[g,C]=h();if(g&&C?this._tokenizer=new t.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),g,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const S={setTokens:_=>{this.setTokens(_)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const _=2;this._backgroundTokenizationState=_,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(_,L)=>{var D;if(!this._tokenizer)return;const T=this._tokenizer.store.getFirstInvalidEndStateLineNumber();T!==null&&_>=T&&((D=this._tokenizer)===null||D===void 0||D.store.setEndState(_,L))}};g&&g.createBackgroundTokenizer&&!g.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=g.createBackgroundTokenizer(this._textModel,S)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new t.DefaultBackgroundTokenizer(this._tokenizer,S),this._defaultBackgroundTokenizer.handleChanges()),g?.backgroundTokenizerShouldOnlyVerifyTokens&&g.createBackgroundTokenizer?(this._debugBackgroundTokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new t.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=g.createBackgroundTokenizer(this._textModel,{setTokens:_=>{var L;(L=this._debugBackgroundTokens)===null||L===void 0||L.setMultilineTokens(_,this._textModel)},backgroundTokenizationFinished(){},setEndState:(_,L)=>{var D;(D=this._debugBackgroundStates)===null||D===void 0||D.setEndState(_,L)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var d;(d=this._defaultBackgroundTokenizer)===null||d===void 0||d.handleChanges()}handleDidChangeContent(d){var p,h,g;if(d.isFlush)this.resetTokenization(!1);else if(!d.isEolChange){for(const C of d.changes){const[S,_]=(0,m.countEOL)(C.text);this._tokens.acceptEdit(C.range,S,_),(p=this._debugBackgroundTokens)===null||p===void 0||p.acceptEdit(C.range,S,_)}(h=this._debugBackgroundStates)===null||h===void 0||h.acceptChanges(d.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(d.changes),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.handleChanges()}}setTokens(d){const{changes:p}=this._tokens.setMultilineTokens(d,this._textModel);return p.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:p}),{changes:p}}refreshAllVisibleLineTokens(){const d=w.LineRange.joinMany([...this._attachedViewStates].map(([p,h])=>h.lineRanges));this.refreshRanges(d)}refreshRanges(d){for(const p of d)this.refreshRange(p.startLineNumber,p.endLineNumberExclusive-1)}refreshRange(d,p){var h,g;if(!this._tokenizer)return;d=Math.max(1,Math.min(this._textModel.getLineCount(),d)),p=Math.min(this._textModel.getLineCount(),p);const C=new i.ContiguousMultilineTokensBuilder,{heuristicTokens:S}=this._tokenizer.tokenizeHeuristically(C,d,p),_=this.setTokens(C.finalize());if(S)for(const L of _.changes)(h=this._backgroundTokenizer.value)===null||h===void 0||h.requestTokens(L.fromLineNumber,L.toLineNumber+1);(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}forceTokenization(d){var p,h;const g=new i.ContiguousMultilineTokensBuilder;(p=this._tokenizer)===null||p===void 0||p.updateTokensUntilLine(g,d),this.setTokens(g.finalize()),(h=this._defaultBackgroundTokenizer)===null||h===void 0||h.checkFinished()}hasAccurateTokensForLine(d){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(d):!0}isCheapToTokenize(d){return this._tokenizer?this._tokenizer.isCheapToTokenize(d):!0}tokenizeIfCheap(d){this.isCheapToTokenize(d)&&this.forceTokenization(d)}getLineTokens(d){var p;const h=this._textModel.getLineContent(d),g=this._tokens.getTokens(this._textModel.getLanguageId(),d-1,h);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>d&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>d){const C=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),d-1,h);!g.equals(C)&&(!((p=this._debugBackgroundTokenizer.value)===null||p===void 0)&&p.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(d)}return g}getTokenTypeIfInsertingCharacter(d,p,h){if(!this._tokenizer)return 0;const g=this._textModel.validatePosition(new b.Position(d,p));return this.forceTokenization(g.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(g,h)}tokenizeLineWithEdit(d,p,h){if(!this._tokenizer)return null;const g=this._textModel.validatePosition(d);return this.forceTokenization(g.lineNumber),this._tokenizer.tokenizeLineWithEdit(g,p,h)}get hasTokens(){return this._tokens.hasTokens}}class a extends y.Disposable{get lineRanges(){return this._lineRanges}constructor(d){super(),this._refreshTokens=d,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,f.equals)(this._computedLineRanges,this._lineRanges,(d,p)=>d.equals(p))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(d){this._lineRanges=d.visibleLineRanges,d.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(re[373],ae([1,0,18,6,70,22,9,5,23,27,249]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyMod=void 0,e.createMonacoBaseAPI=o;class s{static chord(i,n){return(0,E.KeyChord)(i,n)}}e.KeyMod=s,s.CtrlCmd=2048,s.Shift=1024,s.Alt=512,s.WinCtrl=256;function o(){return{editor:void 0,languages:void 0,CancellationTokenSource:f.CancellationTokenSource,Emitter:k.Emitter,KeyCode:v.KeyCode,KeyMod:s,Position:y.Position,Range:m.Range,Selection:w.Selection,SelectionDirection:v.SelectionDirection,MarkerSeverity:v.MarkerSeverity,MarkerTag:v.MarkerTag,Uri:I.URI,Token:b.Token}}}),define(re[662],ae([1,0,189,22,9,5,594,168,575,581,373,59,343,572,54,574,597]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSimpleWorker=void 0,e.create=a;class u extends y.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(d){const p=[];for(let h=0;h<this._lines.length;h++){const g=this._lines[h],C=this.offsetAt(new E.Position(h+1,1)),S=g.matchAll(d);for(const _ of S)(_.index||_.index===0)&&(_.index=_.index+C),p.push(_)}return p}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(d){return this._lines[d-1]}getWordAtPosition(d,p){const h=(0,m.getWordAtText)(d.column,(0,m.ensureValidWordDefinition)(p),this._lines[d.lineNumber-1],0);return h?new I.Range(d.lineNumber,h.startColumn,d.lineNumber,h.endColumn):null}words(d){const p=this._lines,h=this._wordenize.bind(this);let g=0,C="",S=0,_=[];return{*[Symbol.iterator](){for(;;)if(S<_.length){const L=C.substring(_[S].start,_[S].end);S+=1,yield L}else if(g<p.length)C=p[g],_=h(C,d),S=0,g+=1;else break}}}getLineWords(d,p){const h=this._lines[d-1],g=this._wordenize(h,p),C=[];for(const S of g)C.push({word:h.substring(S.start,S.end),startColumn:S.start+1,endColumn:S.end+1});return C}_wordenize(d,p){const h=[];let g;for(p.lastIndex=0;(g=p.exec(d))&&g[0].length!==0;)h.push({start:g.index,end:g.index+g[0].length});return h}getValueInRange(d){if(d=this._validateRange(d),d.startLineNumber===d.endLineNumber)return this._lines[d.startLineNumber-1].substring(d.startColumn-1,d.endColumn-1);const p=this._eol,h=d.startLineNumber-1,g=d.endLineNumber-1,C=[];C.push(this._lines[h].substring(d.startColumn-1));for(let S=h+1;S<g;S++)C.push(this._lines[S]);return C.push(this._lines[g].substring(0,d.endColumn-1)),C.join(p)}offsetAt(d){return d=this._validatePosition(d),this._ensureLineStarts(),this._lineStarts.getPrefixSum(d.lineNumber-2)+(d.column-1)}positionAt(d){d=Math.floor(d),d=Math.max(0,d),this._ensureLineStarts();const p=this._lineStarts.getIndexOf(d),h=this._lines[p.index].length;return{lineNumber:1+p.index,column:1+Math.min(p.remainder,h)}}_validateRange(d){const p=this._validatePosition({lineNumber:d.startLineNumber,column:d.startColumn}),h=this._validatePosition({lineNumber:d.endLineNumber,column:d.endColumn});return p.lineNumber!==d.startLineNumber||p.column!==d.startColumn||h.lineNumber!==d.endLineNumber||h.column!==d.endColumn?{startLineNumber:p.lineNumber,startColumn:p.column,endLineNumber:h.lineNumber,endColumn:h.column}:d}_validatePosition(d){if(!E.Position.isIPosition(d))throw new Error("bad position");let{lineNumber:p,column:h}=d,g=!1;if(p<1)p=1,h=1,g=!0;else if(p>this._lines.length)p=this._lines.length,h=this._lines[p-1].length+1,g=!0;else{const C=this._lines[p-1].length+1;h<1?(h=1,g=!0):h>C&&(h=C,g=!0)}return g?{lineNumber:p,column:h}:d}}class r{constructor(d,p){this._host=d,this._models=Object.create(null),this._foreignModuleFactory=p,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(d){return this._models[d]}_getModels(){const d=[];return Object.keys(this._models).forEach(p=>d.push(this._models[p])),d}acceptNewModel(d){this._models[d.url]=new u(k.URI.parse(d.url),d.lines,d.EOL,d.versionId)}acceptModelChanged(d,p){if(!this._models[d])return;this._models[d].onEvents(p)}acceptRemovedModel(d){this._models[d]&&delete this._models[d]}async computeUnicodeHighlights(d,p,h){const g=this._getModel(d);return g?o.UnicodeTextModelHighlighter.computeUnicodeHighlights(g,p,h):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async findSectionHeaders(d,p){const h=this._getModel(d);return h?(0,c.findSectionHeaders)(h,p):[]}async computeDiff(d,p,h,g){const C=this._getModel(d),S=this._getModel(p);return!C||!S?null:r.computeDiff(C,S,h,g)}static computeDiff(d,p,h,g){const C=g==="advanced"?t.linesDiffComputers.getDefault():t.linesDiffComputers.getLegacy(),S=d.getLinesContent(),_=p.getLinesContent(),L=C.computeDiff(S,_,h),D=L.changes.length>0?!1:this._modelsAreIdentical(d,p);function T(N){return N.map(A=>{var R;return[A.original.startLineNumber,A.original.endLineNumberExclusive,A.modified.startLineNumber,A.modified.endLineNumberExclusive,(R=A.innerChanges)===null||R===void 0?void 0:R.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:D,quitEarly:L.hitTimeout,changes:T(L.changes),moves:L.moves.map(N=>[N.lineRangeMapping.original.startLineNumber,N.lineRangeMapping.original.endLineNumberExclusive,N.lineRangeMapping.modified.startLineNumber,N.lineRangeMapping.modified.endLineNumberExclusive,T(N.changes)])}}static _modelsAreIdentical(d,p){const h=d.getLineCount(),g=p.getLineCount();if(h!==g)return!1;for(let C=1;C<=h;C++){const S=d.getLineContent(C),_=p.getLineContent(C);if(S!==_)return!1}return!0}async computeMoreMinimalEdits(d,p,h){const g=this._getModel(d);if(!g)return p;const C=[];let S;p=p.slice(0).sort((L,D)=>{if(L.range&&D.range)return I.Range.compareRangesUsingStarts(L.range,D.range);const T=L.range?0:1,N=D.range?0:1;return T-N});let _=0;for(let L=1;L<p.length;L++)I.Range.getEndPosition(p[_].range).equals(I.Range.getStartPosition(p[L].range))?(p[_].range=I.Range.fromPositions(I.Range.getStartPosition(p[_].range),I.Range.getEndPosition(p[L].range)),p[_].text+=p[L].text):(_++,p[_]=p[L]);p.length=_+1;for(let{range:L,text:D,eol:T}of p){if(typeof T=="number"&&(S=T),I.Range.isEmpty(L)&&!D)continue;const N=g.getValueInRange(L);if(D=D.replace(/\r\n|\n|\r/g,g.eol),N===D)continue;if(Math.max(D.length,N.length)>r._diffLimit){C.push({range:L,text:D});continue}const A=(0,f.stringDiff)(N,D,h),R=g.offsetAt(I.Range.lift(L).getStartPosition());for(const M of A){const P=g.positionAt(R+M.originalStart),x=g.positionAt(R+M.originalStart+M.originalLength),O={text:D.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:P.lineNumber,startColumn:P.column,endLineNumber:x.lineNumber,endColumn:x.column}};g.getValueInRange(O.range)!==O.text&&C.push(O)}}return typeof S=="number"&&C.push({eol:S,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),C}async computeLinks(d){const p=this._getModel(d);return p?(0,w.computeLinks)(p):null}async computeDefaultDocumentColors(d){const p=this._getModel(d);return p?(0,n.computeDefaultDocumentColors)(p):null}async textualSuggest(d,p,h,g){const C=new s.StopWatch,S=new RegExp(h,g),_=new Set;e:for(const L of d){const D=this._getModel(L);if(D){for(const T of D.words(S))if(!(T===p||!isNaN(Number(T)))&&(_.add(T),_.size>r._suggestionsLimit))break e}}return{words:Array.from(_),duration:C.elapsed()}}async computeWordRanges(d,p,h,g){const C=this._getModel(d);if(!C)return Object.create(null);const S=new RegExp(h,g),_=Object.create(null);for(let L=p.startLineNumber;L<p.endLineNumber;L++){const D=C.getLineWords(L,S);for(const T of D){if(!isNaN(Number(T.word)))continue;let N=_[T.word];N||(N=[],_[T.word]=N),N.push({startLineNumber:L,startColumn:T.startColumn,endLineNumber:L,endColumn:T.endColumn})}}return _}async navigateValueSet(d,p,h,g,C){const S=this._getModel(d);if(!S)return null;const _=new RegExp(g,C);p.startColumn===p.endColumn&&(p={startLineNumber:p.startLineNumber,startColumn:p.startColumn,endLineNumber:p.endLineNumber,endColumn:p.endColumn+1});const L=S.getValueInRange(p),D=S.getWordAtPosition({lineNumber:p.startLineNumber,column:p.startColumn},_);if(!D)return null;const T=S.getValueInRange(D);return b.BasicInplaceReplace.INSTANCE.navigateValueSet(p,L,D,T,h)}loadForeignModule(d,p,h){const g=(_,L)=>this._host.fhr(_,L),S={host:(0,i.createProxyObject)(h,g),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(S,p),Promise.resolve((0,i.getAllMethodNames)(this._foreignModule))):new Promise((_,L)=>{le([d],D=>{this._foreignModule=D.create(S,p),_((0,i.getAllMethodNames)(this._foreignModule))},L)})}fmr(d,p){if(!this._foreignModule||typeof this._foreignModule[d]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+d));try{return Promise.resolve(this._foreignModule[d].apply(this._foreignModule,p))}catch(h){return Promise.reject(h)}}}e.EditorSimpleWorker=r,r._diffLimit=1e5,r._suggestionsLimit=1e4;function a(l){return new r(l,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,v.createMonacoBaseAPI)())}),define(re[106],ae([1,0,3]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(s){s.inspectTokensAction=f.localize(1742,"Developer: Inspect Tokens")})(k||(e.InspectTokensNLS=k={}));var E;(function(s){s.gotoLineActionLabel=f.localize(1743,"Go to Line/Column...")})(E||(e.GoToLineNLS=E={}));var I;(function(s){s.helpQuickAccessActionLabel=f.localize(1744,"Show all Quick Access Providers")})(I||(e.QuickHelpNLS=I={}));var y;(function(s){s.quickCommandActionLabel=f.localize(1745,"Command Palette"),s.quickCommandHelp=f.localize(1746,"Show And Run Commands")})(y||(e.QuickCommandNLS=y={}));var m;(function(s){s.quickOutlineActionLabel=f.localize(1747,"Go to Symbol..."),s.quickOutlineByCategoryActionLabel=f.localize(1748,"Go to Symbol by Category...")})(m||(e.QuickOutlineNLS=m={}));var w;(function(s){s.editorViewAccessibleLabel=f.localize(1749,"Editor content"),s.accessibilityHelpMessage=f.localize(1750,"Press Alt+F1 for Accessibility Options.")})(w||(e.StandaloneCodeEditorNLS=w={}));var b;(function(s){s.toggleHighContrast=f.localize(1751,"Toggle High Contrast Theme")})(b||(e.ToggleHighContrastNLS=b={}));var v;(function(s){s.bulkEditServiceSummary=f.localize(1752,"Made {0} edits in {1} files")})(v||(e.StandaloneServicesNLS=v={}))}),define(re[133],ae([1,0,3,11,113,147,619]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLineOutput2=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0,e.renderViewLine=o,e.renderViewLine2=i;class m{constructor(_,L){this.startOffset=_,this.endOffset=L}equals(_){return this.startOffset===_.startOffset&&this.endOffset===_.endOffset}}e.LineRange=m;class w{constructor(_,L,D,T,N,A,R,M,P,x,O,B,H,K,V,j,U,Y,Q){this.useMonospaceOptimizations=_,this.canUseHalfwidthRightwardsArrow=L,this.lineContent=D,this.continuesWithWrappedLine=T,this.isBasicASCII=N,this.containsRTL=A,this.fauxIndentLength=R,this.lineTokens=M,this.lineDecorations=P.sort(I.LineDecoration.compare),this.tabSize=x,this.startVisibleColumn=O,this.spaceWidth=B,this.stopRenderingLineAfter=V,this.renderWhitespace=j==="all"?4:j==="boundary"?1:j==="selection"?2:j==="trailing"?3:0,this.renderControlCharacters=U,this.fontLigatures=Y,this.selectionsOnLine=Q&&Q.sort((F,J)=>F.startOffset<J.startOffset?-1:1);const Z=Math.abs(K-B),G=Math.abs(H-B);Z<G?(this.renderSpaceWidth=K,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=H,this.renderSpaceCharCode=183)}sameSelection(_){if(this.selectionsOnLine===null)return _===null;if(_===null||_.length!==this.selectionsOnLine.length)return!1;for(let L=0;L<this.selectionsOnLine.length;L++)if(!this.selectionsOnLine[L].equals(_[L]))return!1;return!0}equals(_){return this.useMonospaceOptimizations===_.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.lineContent===_.lineContent&&this.continuesWithWrappedLine===_.continuesWithWrappedLine&&this.isBasicASCII===_.isBasicASCII&&this.containsRTL===_.containsRTL&&this.fauxIndentLength===_.fauxIndentLength&&this.tabSize===_.tabSize&&this.startVisibleColumn===_.startVisibleColumn&&this.spaceWidth===_.spaceWidth&&this.renderSpaceWidth===_.renderSpaceWidth&&this.renderSpaceCharCode===_.renderSpaceCharCode&&this.stopRenderingLineAfter===_.stopRenderingLineAfter&&this.renderWhitespace===_.renderWhitespace&&this.renderControlCharacters===_.renderControlCharacters&&this.fontLigatures===_.fontLigatures&&I.LineDecoration.equalsArr(this.lineDecorations,_.lineDecorations)&&this.lineTokens.equals(_.lineTokens)&&this.sameSelection(_.selectionsOnLine)}}e.RenderLineInput=w;class b{constructor(_,L){this.partIndex=_,this.charIndex=L}}e.DomPosition=b;class v{static getPartIndex(_){return(_&4294901760)>>>16}static getCharIndex(_){return(_&65535)>>>0}constructor(_,L){this.length=_,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(_,L,D,T){const N=(L<<16|D<<0)>>>0;this._data[_-1]=N,this._horizontalOffset[_-1]=T}getHorizontalOffset(_){return this._horizontalOffset.length===0?0:this._horizontalOffset[_-1]}charOffsetToPartData(_){return this.length===0?0:_<0?this._data[0]:_>=this.length?this._data[this.length-1]:this._data[_]}getDomPosition(_){const L=this.charOffsetToPartData(_-1),D=v.getPartIndex(L),T=v.getCharIndex(L);return new b(D,T)}getColumn(_,L){return this.partDataToCharOffset(_.partIndex,L,_.charIndex)+1}partDataToCharOffset(_,L,D){if(this.length===0)return 0;const T=(_<<16|D<<0)>>>0;let N=0,A=this.length-1;for(;N+1<A;){const V=N+A>>>1,j=this._data[V];if(j===T)return V;j>T?A=V:N=V}if(N===A)return N;const R=this._data[N],M=this._data[A];if(R===T)return N;if(M===T)return A;const P=v.getPartIndex(R),x=v.getCharIndex(R),O=v.getPartIndex(M);let B;P!==O?B=L:B=v.getCharIndex(M);const H=D-x,K=B-D;return H<=K?N:A}}e.CharacterMapping=v;class s{constructor(_,L,D){this._renderLineOutputBrand=void 0,this.characterMapping=_,this.containsRTL=L,this.containsForeignElements=D}}e.RenderLineOutput=s;function o(S,_){if(S.lineContent.length===0){if(S.lineDecorations.length>0){_.appendString("<span>");let L=0,D=0,T=0;for(const A of S.lineDecorations)(A.type===1||A.type===2)&&(_.appendString('<span class="'),_.appendString(A.className),_.appendString('"></span>'),A.type===1&&(T|=1,L++),A.type===2&&(T|=2,D++));_.appendString("</span>");const N=new v(1,L+D);return N.setColumnInfo(1,L,0,0),new s(N,!1,T)}return _.appendString("<span><span></span></span>"),new s(new v(0,0),!1,0)}return h(c(S),_)}class t{constructor(_,L,D,T){this.characterMapping=_,this.html=L,this.containsRTL=D,this.containsForeignElements=T}}e.RenderLineOutput2=t;function i(S){const _=new E.StringBuilder(1e4),L=o(S,_);return new t(L.characterMapping,_.build(),L.containsRTL,L.containsForeignElements)}class n{constructor(_,L,D,T,N,A,R,M,P,x,O,B,H,K,V,j){this.fontIsMonospace=_,this.canUseHalfwidthRightwardsArrow=L,this.lineContent=D,this.len=T,this.isOverflowing=N,this.overflowingCharCount=A,this.parts=R,this.containsForeignElements=M,this.fauxIndentLength=P,this.tabSize=x,this.startVisibleColumn=O,this.containsRTL=B,this.spaceWidth=H,this.renderSpaceCharCode=K,this.renderWhitespace=V,this.renderControlCharacters=j}}function c(S){const _=S.lineContent;let L,D,T;S.stopRenderingLineAfter!==-1&&S.stopRenderingLineAfter<_.length?(L=!0,D=_.length-S.stopRenderingLineAfter,T=S.stopRenderingLineAfter):(L=!1,D=0,T=_.length);let N=u(_,S.containsRTL,S.lineTokens,S.fauxIndentLength,T);S.renderControlCharacters&&!S.isBasicASCII&&(N=l(_,N)),(S.renderWhitespace===4||S.renderWhitespace===1||S.renderWhitespace===2&&S.selectionsOnLine||S.renderWhitespace===3&&!S.continuesWithWrappedLine)&&(N=d(S,_,T,N));let A=0;if(S.lineDecorations.length>0){for(let R=0,M=S.lineDecorations.length;R<M;R++){const P=S.lineDecorations[R];P.type===3||P.type===1?A|=1:P.type===2&&(A|=2)}N=p(_,T,N,S.lineDecorations)}return S.containsRTL||(N=r(_,N,!S.isBasicASCII||S.fontLigatures)),new n(S.useMonospaceOptimizations,S.canUseHalfwidthRightwardsArrow,_,T,L,D,N,A,S.fauxIndentLength,S.tabSize,S.startVisibleColumn,S.containsRTL,S.spaceWidth,S.renderSpaceCharCode,S.renderWhitespace,S.renderControlCharacters)}function u(S,_,L,D,T){const N=[];let A=0;D>0&&(N[A++]=new y.LinePart(D,"",0,!1));let R=D;for(let M=0,P=L.getCount();M<P;M++){const x=L.getEndOffset(M);if(x<=D)continue;const O=L.getClassName(M);if(x>=T){const H=_?k.containsRTL(S.substring(R,T)):!1;N[A++]=new y.LinePart(T,O,0,H);break}const B=_?k.containsRTL(S.substring(R,x)):!1;N[A++]=new y.LinePart(x,O,0,B),R=x}return N}function r(S,_,L){let D=0;const T=[];let N=0;if(L)for(let A=0,R=_.length;A<R;A++){const M=_[A],P=M.endIndex;if(D+50<P){const x=M.type,O=M.metadata,B=M.containsRTL;let H=-1,K=D;for(let V=D;V<P;V++)S.charCodeAt(V)===32&&(H=V),H!==-1&&V-K>=50&&(T[N++]=new y.LinePart(H+1,x,O,B),K=H+1,H=-1);K!==P&&(T[N++]=new y.LinePart(P,x,O,B))}else T[N++]=M;D=P}else for(let A=0,R=_.length;A<R;A++){const M=_[A],P=M.endIndex,x=P-D;if(x>50){const O=M.type,B=M.metadata,H=M.containsRTL,K=Math.ceil(x/50);for(let V=1;V<K;V++){const j=D+V*50;T[N++]=new y.LinePart(j,O,B,H)}T[N++]=new y.LinePart(P,O,B,H)}else T[N++]=M;D=P}return T}function a(S){return S<32?S!==9:S===127||S>=8234&&S<=8238||S>=8294&&S<=8297||S>=8206&&S<=8207||S===1564}function l(S,_){const L=[];let D=new y.LinePart(0,"",0,!1),T=0;for(const N of _){const A=N.endIndex;for(;T<A;T++){const R=S.charCodeAt(T);a(R)&&(T>D.endIndex&&(D=new y.LinePart(T,N.type,N.metadata,N.containsRTL),L.push(D)),D=new y.LinePart(T+1,"mtkcontrol",N.metadata,!1),L.push(D))}T>D.endIndex&&(D=new y.LinePart(A,N.type,N.metadata,N.containsRTL),L.push(D))}return L}function d(S,_,L,D){const T=S.continuesWithWrappedLine,N=S.fauxIndentLength,A=S.tabSize,R=S.startVisibleColumn,M=S.useMonospaceOptimizations,P=S.selectionsOnLine,x=S.renderWhitespace===1,O=S.renderWhitespace===3,B=S.renderSpaceWidth!==S.spaceWidth,H=[];let K=0,V=0,j=D[V].type,U=D[V].containsRTL,Y=D[V].endIndex;const Q=D.length;let Z=!1,G=k.firstNonWhitespaceIndex(_),F;G===-1?(Z=!0,G=L,F=L):F=k.lastNonWhitespaceIndex(_);let J=!1,te=0,de=P&&P[te],he=R%A;for(let ue=N;ue<L;ue++){const ie=_.charCodeAt(ue);de&&ue>=de.endOffset&&(te++,de=P&&P[te]);let se;if(ue<G||ue>F)se=!0;else if(ie===9)se=!0;else if(ie===32)if(x)if(J)se=!0;else{const ne=ue+1<L?_.charCodeAt(ue+1):0;se=ne===32||ne===9}else se=!0;else se=!1;if(se&&P&&(se=!!de&&de.startOffset<=ue&&de.endOffset>ue),se&&O&&(se=Z||ue>F),se&&U&&ue>=G&&ue<=F&&(se=!1),J){if(!se||!M&&he>=A){if(B){const ne=K>0?H[K-1].endIndex:N;for(let W=ne+1;W<=ue;W++)H[K++]=new y.LinePart(W,"mtkw",1,!1)}else H[K++]=new y.LinePart(ue,"mtkw",1,!1);he=he%A}}else(ue===Y||se&&ue>N)&&(H[K++]=new y.LinePart(ue,j,0,U),he=he%A);for(ie===9?he=A:k.isFullWidthCharacter(ie)?he+=2:he++,J=se;ue===Y&&(V++,V<Q);)j=D[V].type,U=D[V].containsRTL,Y=D[V].endIndex}let pe=!1;if(J)if(T&&x){const ue=L>0?_.charCodeAt(L-1):0,ie=L>1?_.charCodeAt(L-2):0;ue===32&&ie!==32&&ie!==9||(pe=!0)}else pe=!0;if(pe)if(B){const ue=K>0?H[K-1].endIndex:N;for(let ie=ue+1;ie<=L;ie++)H[K++]=new y.LinePart(ie,"mtkw",1,!1)}else H[K++]=new y.LinePart(L,"mtkw",1,!1);else H[K++]=new y.LinePart(L,j,0,U);return H}function p(S,_,L,D){D.sort(I.LineDecoration.compare);const T=I.LineDecorationsNormalizer.normalize(S,D),N=T.length;let A=0;const R=[];let M=0,P=0;for(let O=0,B=L.length;O<B;O++){const H=L[O],K=H.endIndex,V=H.type,j=H.metadata,U=H.containsRTL;for(;A<N&&T[A].startOffset<K;){const Y=T[A];if(Y.startOffset>P&&(P=Y.startOffset,R[M++]=new y.LinePart(P,V,j,U)),Y.endOffset+1<=K)P=Y.endOffset+1,R[M++]=new y.LinePart(P,V+" "+Y.className,j|Y.metadata,U),A++;else{P=K,R[M++]=new y.LinePart(P,V+" "+Y.className,j|Y.metadata,U);break}}K>P&&(P=K,R[M++]=new y.LinePart(P,V,j,U))}const x=L[L.length-1].endIndex;if(A<N&&T[A].startOffset===x)for(;A<N&&T[A].startOffset===x;){const O=T[A];R[M++]=new y.LinePart(P,O.className,O.metadata,!1),A++}return R}function h(S,_){const L=S.fontIsMonospace,D=S.canUseHalfwidthRightwardsArrow,T=S.containsForeignElements,N=S.lineContent,A=S.len,R=S.isOverflowing,M=S.overflowingCharCount,P=S.parts,x=S.fauxIndentLength,O=S.tabSize,B=S.startVisibleColumn,H=S.containsRTL,K=S.spaceWidth,V=S.renderSpaceCharCode,j=S.renderWhitespace,U=S.renderControlCharacters,Y=new v(A+1,P.length);let Q=!1,Z=0,G=B,F=0,J=0,te=0;H?_.appendString('<span dir="ltr">'):_.appendString("<span>");for(let de=0,he=P.length;de<he;de++){const pe=P[de],ue=pe.endIndex,ie=pe.type,se=pe.containsRTL,ne=j!==0&&pe.isWhitespace(),W=ne&&!L&&(ie==="mtkw"||!T),q=Z===ue&&pe.isPseudoAfter();if(F=0,_.appendString("<span "),se&&_.appendString('style="unicode-bidi:isolate" '),_.appendString('class="'),_.appendString(W?"mtkz":ie),_.appendASCIICharCode(34),ne){let z=0;{let $=Z,X=G;for(;$<ue;$++){const oe=(N.charCodeAt($)===9?O-X%O:1)|0;z+=oe,$>=x&&(X+=oe)}}for(W&&(_.appendString(' style="width:'),_.appendString(String(K*z)),_.appendString('px"')),_.appendASCIICharCode(62);Z<ue;Z++){Y.setColumnInfo(Z+1,de-te,F,J),te=0;const $=N.charCodeAt(Z);let X,ee;if($===9){X=O-G%O|0,ee=X,!D||ee>1?_.appendCharCode(8594):_.appendCharCode(65515);for(let oe=2;oe<=ee;oe++)_.appendCharCode(160)}else X=2,ee=1,_.appendCharCode(V),_.appendCharCode(8204);F+=X,J+=ee,Z>=x&&(G+=ee)}}else for(_.appendASCIICharCode(62);Z<ue;Z++){Y.setColumnInfo(Z+1,de-te,F,J),te=0;const z=N.charCodeAt(Z);let $=1,X=1;switch(z){case 9:$=O-G%O,X=$;for(let ee=1;ee<=$;ee++)_.appendCharCode(160);break;case 32:_.appendCharCode(160);break;case 60:_.appendString("&lt;");break;case 62:_.appendString("&gt;");break;case 38:_.appendString("&amp;");break;case 0:U?_.appendCharCode(9216):_.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:_.appendCharCode(65533);break;default:k.isFullWidthCharacter(z)&&X++,U&&z<32?_.appendCharCode(9216+z):U&&z===127?_.appendCharCode(9249):U&&a(z)?(_.appendString("[U+"),_.appendString(g(z)),_.appendString("]"),$=8,X=$):_.appendCharCode(z)}F+=$,J+=X,Z>=x&&(G+=X)}q?te++:te=0,Z>=A&&!Q&&pe.isPseudoAfter()&&(Q=!0,Y.setColumnInfo(Z+1,de,F,J)),_.appendString("</span>")}return Q||Y.setColumnInfo(A+1,P.length-1,F,J),R&&(_.appendString('<span class="mtkoverflow">'),_.appendString(f.localize(1065,"Show more ({0})",C(M))),_.appendString("</span>")),_.appendString("</span>"),new s(Y,H,T)}function g(S){return S.toString(16).toUpperCase().padStart(4,"0")}function C(S){return S<1024?f.localize(1066,"{0} chars",S):S<1024*1024?`${(S/1024).toFixed(1)} KB`:`${(S/1024/1024).toFixed(1)} MB`}}),define(re[663],ae([1,0,102,74,37,113,147,133,95]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=void 0,e.renderLines=v;const b=(0,f.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:i=>i});function v(i,n,c,u){(0,k.applyFontInfo)(u,n.fontInfo);const r=c.length>0,a=new I.StringBuilder(1e4);let l=0,d=0;const p=[];for(let S=0;S<i.lineTokens.length;S++){const _=S+1,L=i.lineTokens[S],D=i.lineBreakData[S],T=y.LineDecoration.filter(c,_,1,Number.MAX_SAFE_INTEGER);if(D){let N=0;for(const A of D.breakOffsets){const R=L.sliceAndInflate(N,A,0);l=Math.max(l,t(d,R,y.LineDecoration.extractWrapped(T,N,A),r,i.mightContainNonBasicASCII,i.mightContainRTL,n,a)),d++,N=A}p.push(D.breakOffsets.length)}else p.push(1),l=Math.max(l,t(d,L,T,r,i.mightContainNonBasicASCII,i.mightContainRTL,n,a)),d++}l+=n.scrollBeyondLastColumn;const h=a.build(),g=b?b.createHTML(h):h;u.innerHTML=g;const C=l*n.typicalHalfwidthCharacterWidth;return{heightInLines:d,minWidthInPx:C,viewLineCounts:p}}class s{constructor(n,c,u,r){this.lineTokens=n,this.lineBreakData=c,this.mightContainNonBasicASCII=u,this.mightContainRTL=r}}e.LineSource=s;class o{static fromEditor(n){var c;const u=n.getOptions(),r=u.get(50),a=u.get(146);return new o(((c=n.getModel())===null||c===void 0?void 0:c.getOptions().tabSize)||0,r,u.get(33),r.typicalHalfwidthCharacterWidth,u.get(105),u.get(67),a.decorationsWidth,u.get(118),u.get(100),u.get(95),u.get(51))}constructor(n,c,u,r,a,l,d,p,h,g,C){this.tabSize=n,this.fontInfo=c,this.disableMonospaceOptimizations=u,this.typicalHalfwidthCharacterWidth=r,this.scrollBeyondLastColumn=a,this.lineHeight=l,this.lineDecorationsWidth=d,this.stopRenderingLineAfter=p,this.renderWhitespace=h,this.renderControlCharacters=g,this.fontLigatures=C}}e.RenderOptions=o;function t(i,n,c,u,r,a,l,d){d.appendString('<div class="view-line'),u||d.appendString(" char-delete"),d.appendString('" style="top:'),d.appendString(String(i*l.lineHeight)),d.appendString('px;width:1000000px;">');const p=n.getLineContent(),h=w.ViewLineRenderingData.isBasicASCII(p,r),g=w.ViewLineRenderingData.containsRTL(p,h,a),C=(0,m.renderViewLine)(new m.RenderLineInput(l.fontInfo.isMonospace&&!l.disableMonospaceOptimizations,l.fontInfo.canUseHalfwidthRightwardsArrow,p,!1,h,g,0,n,c,l.tabSize,0,l.fontInfo.spaceWidth,l.fontInfo.middotWidth,l.fontInfo.wsmiddotWidth,l.stopRenderingLineAfter,l.renderWhitespace,l.renderControlCharacters,l.fontLigatures!==E.EditorFontLigatures.OFF,null),d);return d.appendString("</div>"),C.characterMapping.getHorizontalOffset(C.characterMapping.length)}}),define(re[374],ae([1,0,6,2,323,27]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new y)),this._INSTANCE}constructor(){super(),this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(I.TokenizationRegistry.onDidChange(w=>{w.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const w=I.TokenizationRegistry.getColorMap();if(!w){this._colors=[E.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[E.RGBA8.Empty];for(let v=1;v<w.length;v++){const s=w[v].rgba;this._colors[v]=new E.RGBA8(s.r,s.g,s.b,Math.round(s.a*255))}const b=w[2].getRelativeLuminance();this._backgroundIsLight=b>=.5,this._onDidChange.fire(void 0)}getColor(w){return(w<1||w>=this._colors.length)&&(w=2),this._colors[w]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=y,y._INSTANCE=null}),define(re[375],ae([1,0,9,5,95,37]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0,e.isModelDecorationVisible=m,e.isModelDecorationInComment=w,e.isModelDecorationInString=b;class y{constructor(o,t,i,n,c){this.editorId=o,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(o){const t=o.id;let i=this._decorationsCache[t];if(!i){const n=o.range,c=o.options;let u;if(c.isWholeLine){const r=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(n.startLineNumber,1),0,!1,!0),a=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);u=new k.Range(r.lineNumber,r.column,a.lineNumber,a.column)}else u=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new E.ViewModelDecoration(u,c),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(o){return this._getDecorationsInRange(o,!0,!1).decorations}getDecorationsViewportData(o){let t=this._cachedModelDecorationsResolver!==null;return t=t&&o.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(o,!1,!1),this._cachedModelDecorationsResolverViewRange=o),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(o,t=!1,i=!1){const n=new k.Range(o,this._linesCollection.getViewLineMinColumn(o),o,this._linesCollection.getViewLineMaxColumn(o));return this._getDecorationsInRange(n,t,i).inlineDecorations[0]}_getDecorationsInRange(o,t,i){const n=this._linesCollection.getDecorationsInRange(o,this.editorId,(0,I.filterValidationDecorations)(this.configuration.options),t,i),c=o.startLineNumber,u=o.endLineNumber,r=[];let a=0;const l=[];for(let d=c;d<=u;d++)l[d-c]=[];for(let d=0,p=n.length;d<p;d++){const h=n[d],g=h.options;if(!m(this.model,h))continue;const C=this._getOrCreateViewModelDecoration(h),S=C.range;if(r[a++]=C,g.inlineClassName){const _=new E.InlineDecoration(S,g.inlineClassName,g.inlineClassNameAffectsLetterSpacing?3:0),L=Math.max(c,S.startLineNumber),D=Math.min(u,S.endLineNumber);for(let T=L;T<=D;T++)l[T-c].push(_)}if(g.beforeContentClassName&&c<=S.startLineNumber&&S.startLineNumber<=u){const _=new E.InlineDecoration(new k.Range(S.startLineNumber,S.startColumn,S.startLineNumber,S.startColumn),g.beforeContentClassName,1);l[S.startLineNumber-c].push(_)}if(g.afterContentClassName&&c<=S.endLineNumber&&S.endLineNumber<=u){const _=new E.InlineDecoration(new k.Range(S.endLineNumber,S.endColumn,S.endLineNumber,S.endColumn),g.afterContentClassName,2);l[S.endLineNumber-c].push(_)}}return{decorations:r,inlineDecorations:l}}}e.ViewModelDecorations=y;function m(s,o){return!(o.options.hideInCommentTokens&&w(s,o)||o.options.hideInStringTokens&&b(s,o))}function w(s,o){return v(s,o.range,t=>t===1)}function b(s,o){return v(s,o.range,t=>t===2)}function v(s,o,t){for(let i=o.startLineNumber;i<=o.endLineNumber;i++){const n=s.tokenization.getLineTokens(i),c=i===o.startLineNumber,u=i===o.endLineNumber;let r=c?n.findTokenIndexAtOffset(o.startColumn-1):0;for(;r<n.getCount()&&!(u&&n.getStartOffset(r)>o.endColumn-1);){if(!t(n.getStandardTokenType(r)))return!1;r++}}return!0}}),define(re[176],ae([1,0,8,6,187,2,44,50,11,5,3]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class s{constructor(c,u,r,a){this.isProviderFirst=c,this.parent=u,this.link=r,this._rangeCallback=a,this.id=E.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var c,u;return(u=(c=this._range)!==null&&c!==void 0?c:this.link.targetSelectionRange)!==null&&u!==void 0?u:this.link.range}set range(c){this._range=c,this._rangeCallback(this)}get ariaMessage(){var c;const u=(c=this.parent.getPreview(this))===null||c===void 0?void 0:c.preview(this.range);return u?(0,v.localize)(577,"{0} in {1} on line {2} at column {3}",u.value,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,v.localize)(576,"in {0} on line {1} at column {2}",(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=s;class o{constructor(c){this._modelReference=c}dispose(){this._modelReference.dispose()}preview(c,u=8){const r=this._modelReference.object.textEditorModel;if(!r)return;const{startLineNumber:a,startColumn:l,endLineNumber:d,endColumn:p}=c,h=r.getWordUntilPosition({lineNumber:a,column:l-u}),g=new b.Range(a,h.startColumn,a,l),C=new b.Range(d,p,d,1073741824),S=r.getValueInRange(g).replace(/^\s+/,""),_=r.getValueInRange(c),L=r.getValueInRange(C).replace(/\s+$/,"");return{value:S+_+L,highlight:{start:S.length,end:S.length+_.length}}}}e.FilePreview=o;class t{constructor(c,u){this.parent=c,this.uri=u,this.children=[],this._previews=new y.ResourceMap}dispose(){(0,I.dispose)(this._previews.values()),this._previews.clear()}getPreview(c){return this._previews.get(c.uri)}get ariaMessage(){const c=this.children.length;return c===1?(0,v.localize)(578,"1 symbol in {0}, full path {1}",(0,m.basename)(this.uri),this.uri.fsPath):(0,v.localize)(579,"{0} symbols in {1}, full path {2}",c,(0,m.basename)(this.uri),this.uri.fsPath)}async resolve(c){if(this._previews.size!==0)return this;for(const u of this.children)if(!this._previews.has(u.uri))try{const r=await c.createModelReference(u.uri);this._previews.set(u.uri,new o(r))}catch(r){(0,f.onUnexpectedError)(r)}return this}}e.FileReferences=t;class i{constructor(c,u){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=c,this._title=u;const[r]=c;c.sort(i._compareReferences);let a;for(const l of c)if((!a||!m.extUri.isEqual(a.uri,l.uri,!0))&&(a=new t(this,l.uri),this.groups.push(a)),a.children.length===0||i._compareReferences(l,a.children[a.children.length-1])!==0){const d=new s(r===l,a,l,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(d),a.children.push(d)}}dispose(){(0,I.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new i(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,v.localize)(580,"No results found"):this.references.length===1?(0,v.localize)(581,"Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,v.localize)(582,"Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,v.localize)(583,"Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(c,u){const{parent:r}=c;let a=r.children.indexOf(c);const l=r.children.length,d=r.parent.groups.length;return d===1||u&&a+1<l||!u&&a>0?(u?a=(a+1)%l:a=(a+l-1)%l,r.children[a]):(a=r.parent.groups.indexOf(r),u?(a=(a+1)%d,r.parent.groups[a].children[0]):(a=(a+d-1)%d,r.parent.groups[a].children[r.parent.groups[a].children.length-1]))}nearestReference(c,u){const r=this.references.map((a,l)=>({idx:l,prefixLen:w.commonPrefixLength(a.uri.toString(),c.toString()),offsetDist:Math.abs(a.range.startLineNumber-u.lineNumber)*100+Math.abs(a.range.startColumn-u.column)})).sort((a,l)=>a.prefixLen>l.prefixLen?-1:a.prefixLen<l.prefixLen?1:a.offsetDist<l.offsetDist?-1:a.offsetDist>l.offsetDist?1:0)[0];if(r)return this.references[r.idx]}referenceAt(c,u){for(const r of this.references)if(r.uri.toString()===c.toString()&&b.Range.containsPosition(r.range,u))return r}firstReference(){for(const c of this.references)if(c.isProviderFirst)return c;return this.references[0]}static _compareReferences(c,u){return m.extUri.compare(c.uri,u.uri)||b.Range.compareRangesUsingStarts(c.range,u.range)}}e.ReferencesModel=i}),define(re[208],ae([1,0,3]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DECREASE_HOVER_VERBOSITY_ACTION_LABEL=e.DECREASE_HOVER_VERBOSITY_ACTION_ID=e.INCREASE_HOVER_VERBOSITY_ACTION_LABEL=e.INCREASE_HOVER_VERBOSITY_ACTION_ID=e.GO_TO_BOTTOM_HOVER_ACTION_ID=e.GO_TO_TOP_HOVER_ACTION_ID=e.PAGE_DOWN_HOVER_ACTION_ID=e.PAGE_UP_HOVER_ACTION_ID=e.SCROLL_RIGHT_HOVER_ACTION_ID=e.SCROLL_LEFT_HOVER_ACTION_ID=e.SCROLL_DOWN_HOVER_ACTION_ID=e.SCROLL_UP_HOVER_ACTION_ID=e.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID=e.SHOW_OR_FOCUS_HOVER_ACTION_ID=void 0,e.SHOW_OR_FOCUS_HOVER_ACTION_ID="editor.action.showHover",e.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID="editor.action.showDefinitionPreviewHover",e.SCROLL_UP_HOVER_ACTION_ID="editor.action.scrollUpHover",e.SCROLL_DOWN_HOVER_ACTION_ID="editor.action.scrollDownHover",e.SCROLL_LEFT_HOVER_ACTION_ID="editor.action.scrollLeftHover",e.SCROLL_RIGHT_HOVER_ACTION_ID="editor.action.scrollRightHover",e.PAGE_UP_HOVER_ACTION_ID="editor.action.pageUpHover",e.PAGE_DOWN_HOVER_ACTION_ID="editor.action.pageDownHover",e.GO_TO_TOP_HOVER_ACTION_ID="editor.action.goToTopHover",e.GO_TO_BOTTOM_HOVER_ACTION_ID="editor.action.goToBottomHover",e.INCREASE_HOVER_VERBOSITY_ACTION_ID="editor.action.increaseHoverVerbosityLevel",e.INCREASE_HOVER_VERBOSITY_ACTION_LABEL=f.localize(510,"Increase Hover Verbosity Level"),e.DECREASE_HOVER_VERBOSITY_ACTION_ID="editor.action.decreaseHoverVerbosityLevel",e.DECREASE_HOVER_VERBOSITY_ACTION_LABEL=f.localize(511,"Decrease Hover Verbosity Level")}),define(re[664],ae([1,0,3,27,208,2]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHoverAccessibleView=e.HoverAccessibleViewProvider=e.HoverAccessibilityHelpProvider=e.HoverAccessibilityHelp=e.HoverAccessibleView=void 0;var y;(function(t){t.introHoverPart=(0,f.localize)(512,"The focused hover part content is the following:"),t.introHoverFull=(0,f.localize)(513,"The full focused hover content is the following:"),t.increaseVerbosity=(0,f.localize)(514,"- The focused hover part verbosity level can be increased with the Increase Hover Verbosity command<keybinding:{0}>.",E.INCREASE_HOVER_VERBOSITY_ACTION_ID),t.decreaseVerbosity=(0,f.localize)(515,"- The focused hover part verbosity level can be decreased with the Decrease Hover Verbosity command<keybinding:{0}>.",E.DECREASE_HOVER_VERBOSITY_ACTION_ID)})(y||(y={}));class m{dispose(){var i;(i=this._provider)===null||i===void 0||i.dispose()}}e.HoverAccessibleView=m;class w{dispose(){var i;(i=this._provider)===null||i===void 0||i.dispose()}}e.HoverAccessibilityHelp=w;class b extends I.Disposable{constructor(i){super(),this._hoverController=i,this._focusedHoverPartIndex=-1}provideContentAtIndex(i,n){if(i!==-1){const c=this._hoverController.getAccessibleWidgetContentAtIndex(i);if(c===void 0)return"";const u=[];return n&&u.push(...this._descriptionsOfVerbosityActionsForIndex(i)),u.push(y.introHoverPart),u.push(c),u.join(`

`)}else{const c=this._hoverController.getAccessibleWidgetContent();if(c===void 0)return"";const u=[];return u.push(y.introHoverFull),u.push(c),u.join(`

`)}}_descriptionsOfVerbosityActionsForIndex(i){const n=[],c=this._descriptionOfVerbosityActionForIndex(k.HoverVerbosityAction.Increase,i);c!==void 0&&n.push(c);const u=this._descriptionOfVerbosityActionForIndex(k.HoverVerbosityAction.Decrease,i);return u!==void 0&&n.push(u),n}_descriptionOfVerbosityActionForIndex(i,n){if(this._hoverController.doesHoverAtIndexSupportVerbosityAction(n,i))switch(i){case k.HoverVerbosityAction.Increase:return y.increaseVerbosity;case k.HoverVerbosityAction.Decrease:return y.decreaseVerbosity}}}class v extends b{constructor(i){super(i),this.options={type:"help"}}}e.HoverAccessibilityHelpProvider=v;class s extends b{constructor(i,n,c){super(c),this._keybindingService=i,this._editor=n,this.options={type:"view"},this._initializeOptions(this._editor,c)}_initializeOptions(i,n){var c;const u=this._register(new v(n));this.options.language=(c=i.getModel())===null||c===void 0?void 0:c.getLanguageId(),this.options.customHelp=()=>u.provideContentAtIndex(this._focusedHoverPartIndex,!0)}}e.HoverAccessibleViewProvider=s;class o{dispose(){}}e.ExtHoverAccessibleView=o}),define(re[376],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleViewRegistry=void 0,e.AccessibleViewRegistry=new class{constructor(){this._implementations=[]}register(k){return this._implementations.push(k),{dispose:()=>{const E=this._implementations.indexOf(k);E!==-1&&this._implementations.splice(E,1),k.dispose()}}}getImplementations(){return this._implementations}}}),define(re[377],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLocalizedString=f,e.isICommandActionToggleInfo=k;function f(E){return E&&typeof E=="object"&&typeof E.original=="string"&&typeof E.value=="string"}function k(E){return E?E.condition!==void 0:!1}}),define(re[665],ae([1,0,3]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:(0,f.localize2)(1727,"View"),Help:(0,f.localize2)(1728,"Help"),Test:(0,f.localize2)(1729,"Test"),File:(0,f.localize2)(1730,"File"),Preferences:(0,f.localize2)(1731,"Preferences"),Developer:(0,f.localize2)(1732,"Developer")})}),define(re[666],ae([1,0,8,3]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function E(...w){switch(w.length){case 1:return(0,k.localize)(1624,"Did you mean {0}?",w[0]);case 2:return(0,k.localize)(1625,"Did you mean {0} or {1}?",w[0],w[1]);case 3:return(0,k.localize)(1626,"Did you mean {0}, {1} or {2}?",w[0],w[1],w[2]);default:return}}const I=(0,k.localize)(1627,"Did you forget to open or close the quote?"),y=(0,k.localize)(1628,"Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class m{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,f.illegalState)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}reset(b){return this._input=b,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const v=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:v})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const v=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:v})}else this._match(126)?this._addToken(9):this._error(E("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(E("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(E("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(b){return this._isAtEnd()||this._input.charCodeAt(this._current)!==b?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(b){this._tokens.push({type:b,offset:this._start})}_error(b){const v=this._start,s=this._input.substring(this._start,this._current),o={type:19,offset:this._start,lexeme:s};this._errors.push({offset:v,lexeme:s,additionalInfo:b}),this._tokens.push(o)}_string(){this.stringRe.lastIndex=this._start;const b=this.stringRe.exec(this._input);if(b){this._current=this._start+b[0].length;const v=this._input.substring(this._start,this._current),s=m._keywords.get(v);s?this._addToken(s):this._tokens.push({type:17,lexeme:v,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(I);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let b=this._current,v=!1,s=!1;for(;;){if(b>=this._input.length){this._current=b,this._error(y);return}const t=this._input.charCodeAt(b);if(v)v=!1;else if(t===47&&!s){b++;break}else t===91?s=!0:t===92?v=!0:t===93&&(s=!1);b++}for(;b<this._input.length&&m._regexFlags.has(this._input.charCodeAt(b));)b++;this._current=b;const o=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:o,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=m,m._regexFlags=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0))),m._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(re[667],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var f;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(f||(e.EditorOpenSource=f={}))}),define(re[668],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class f{constructor(I){this.value=I,this._lower=I.toLowerCase()}static toKey(I){return typeof I=="string"?I.toLowerCase():I._lower}}e.ExtensionIdentifier=f;class k{constructor(I){if(this._set=new Set,I)for(const y of I)this.add(y)}add(I){this._set.add(f.toKey(I))}has(I){return this._set.has(f.toKey(I))}}e.ExtensionIdentifierSet=k}),define(re[378],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var f;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(f||(e.FileKind=f={}))}),define(re[669],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=f;function f(k){var E,I;return((E=k.lookupKeybinding("history.showPrevious"))===null||E===void 0?void 0:E.getElectronAccelerator())==="Up"&&((I=k.lookupKeybinding("history.showNext"))===null||I===void 0?void 0:I.getElectronAccelerator())==="Down"}}),define(re[262],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class f{constructor(E,I=[],y=!1){this.ctor=E,this.staticArguments=I,this.supportsDelayedInstantiation=y}}e.SyncDescriptor=f}),define(re[48],ae([1,0,262]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerSingleton=E,e.getSingletonServiceDescriptors=I;const k=[];function E(y,m,w){m instanceof f.SyncDescriptor||(m=new f.SyncDescriptor(m,[],!!w)),k.push([y,m])}function I(){return k}}),define(re[670],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class f{constructor(I,y){this.key=I,this.data=y,this.incoming=new Map,this.outgoing=new Map}}e.Node=f;class k{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(const y of this._nodes.values())y.outgoing.size===0&&I.push(y);return I}insertEdge(I,y){const m=this.lookupOrInsertNode(I),w=this.lookupOrInsertNode(y);m.outgoing.set(w.key,w),w.incoming.set(m.key,m)}removeNode(I){const y=this._hashFn(I);this._nodes.delete(y);for(const m of this._nodes.values())m.outgoing.delete(y),m.incoming.delete(y)}lookupOrInsertNode(I){const y=this._hashFn(I);let m=this._nodes.get(y);return m||(m=new f(y,I),this._nodes.set(y,m)),m}isEmpty(){return this._nodes.size===0}toString(){const I=[];for(const[y,m]of this._nodes)I.push(`${y}
	(-> incoming)[${[...m.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...m.outgoing.keys()].join(",")}]
`);return I.join(`
`)}findCycleSlow(){for(const[I,y]of this._nodes){const m=new Set([I]),w=this._findCycle(y,m);if(w)return w}}_findCycle(I,y){for(const[m,w]of I.outgoing){if(y.has(m))return[...y,m].join(" -> ");y.add(m);const b=this._findCycle(w,y);if(b)return b;y.delete(m)}}}e.Graph=k}),define(re[7],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IInstantiationService=e._util=void 0,e.createDecorator=E;var f;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function y(m){return m[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=y})(f||(e._util=f={})),e.IInstantiationService=E("instantiationService");function k(I,y,m){y[f.DI_TARGET]===y?y[f.DI_DEPENDENCIES].push({id:I,index:m}):(y[f.DI_DEPENDENCIES]=[{id:I,index:m}],y[f.DI_TARGET]=y)}function E(I){if(f.serviceIds.has(I))return f.serviceIds.get(I);const y=function(m,w,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(y,m,b)};return y.toString=()=>I,f.serviceIds.set(I,y),y}}),define(re[149],ae([1,0,7,22,19]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,f.createDecorator)("IWorkspaceEditService");class I{constructor(b){this.metadata=b}static convert(b){return b.edits.map(v=>{if(y.is(v))return y.lift(v);if(m.is(v))return m.lift(v);throw new Error("Unsupported edit")})}}e.ResourceEdit=I;class y extends I{static is(b){return b instanceof y?!0:(0,E.isObject)(b)&&k.URI.isUri(b.resource)&&(0,E.isObject)(b.textEdit)}static lift(b){return b instanceof y?b:new y(b.resource,b.textEdit,b.versionId,b.metadata)}constructor(b,v,s=void 0,o){super(o),this.resource=b,this.textEdit=v,this.versionId=s}}e.ResourceTextEdit=y;class m extends I{static is(b){return b instanceof m?!0:(0,E.isObject)(b)&&(!!b.newResource||!!b.oldResource)}static lift(b){return b instanceof m?b:new m(b.oldResource,b.newResource,b.options,b.metadata)}constructor(b,v,s={},o){super(o),this.oldResource=b,this.newResource=v,this.options=s}}e.ResourceFileEdit=m}),define(re[35],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,f.createDecorator)("codeEditorService")});var ge=this&&this.__param||function(le,e){return function(f,k){e(f,k,le)}};define(re[379],ae([1,0,4,111,26,55,2,21,72,30,19,86,56,9,5,27,3,7]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let a=r=class extends y.Disposable{static setBreadcrumbsSourceFactory(p){this._breadcrumbsSourceFactory.set(p,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(p,h,g,C){super(),this._editors=p,this._diffModel=h,this._options=g,this._instantiationService=C,this._modifiedOutlineSource=(0,w.derivedDisposable)(this,D=>{const T=this._editors.modifiedModel.read(D),N=r._breadcrumbsSourceFactory.read(D);return!T||!N?void 0:N(T,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(D=>{if(D.reason===1)return;const T=this._diffModel.get();(0,m.transaction)(N=>{for(const A of this._editors.original.getSelections()||[])T?.ensureOriginalLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureOriginalLineIsVisible(A.getEndPosition().lineNumber,0,N)})})),this._register(this._editors.modified.onDidChangeCursorPosition(D=>{if(D.reason===1)return;const T=this._diffModel.get();(0,m.transaction)(N=>{for(const A of this._editors.modified.getSelections()||[])T?.ensureModifiedLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureModifiedLineIsVisible(A.getEndPosition().lineNumber,0,N)})}));const S=this._diffModel.map((D,T)=>{var N,A;const R=(N=D?.unchangedRegions.read(T))!==null&&N!==void 0?N:[];return R.length===1&&R[0].modifiedLineNumber===1&&R[0].lineCount===((A=this._editors.modifiedModel.read(T))===null||A===void 0?void 0:A.getLineCount())?[]:R});this.viewZones=(0,m.derivedWithStore)(this,(D,T)=>{const N=this._modifiedOutlineSource.read(D);if(!N)return{origViewZones:[],modViewZones:[]};const A=[],R=[],M=this._options.renderSideBySide.read(D),P=S.read(D);for(const x of P)if(!x.shouldHideControls(D)){{const O=(0,m.derived)(this,H=>x.getHiddenOriginalRange(H).startLineNumber-1),B=new s.PlaceholderViewZone(O,24);A.push(B),T.add(new l(this._editors.original,B,x,x.originalUnchangedRange,!M,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}{const O=(0,m.derived)(this,H=>x.getHiddenModifiedRange(H).startLineNumber-1),B=new s.PlaceholderViewZone(O,24);R.push(B),T.add(new l(this._editors.modified,B,x,x.modifiedUnchangedRange,!1,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}}return{origViewZones:A,modViewZones:R}});const _={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},L={description:"Fold Unchanged",glyphMarginHoverMessage:new I.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,c.localize)(28,"Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+b.ThemeIcon.asClassName(E.Codicon.fold),zIndex:10001};this._register((0,s.applyObservableDecorations)(this._editors.original,(0,m.derived)(this,D=>{const T=S.read(D),N=T.map(A=>({range:A.originalUnchangedRange.toInclusiveRange(),options:_}));for(const A of T)A.shouldHideControls(D)&&N.push({range:i.Range.fromPositions(new t.Position(A.originalLineNumber,1)),options:L});return N}))),this._register((0,s.applyObservableDecorations)(this._editors.modified,(0,m.derived)(this,D=>{const T=S.read(D),N=T.map(A=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:_}));for(const A of T)A.shouldHideControls(D)&&N.push({range:o.LineRange.ofLength(A.modifiedLineNumber,1).toInclusiveRange(),options:L});return N}))),this._register((0,m.autorun)(D=>{const T=S.read(D);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(T.map(N=>N.getHiddenOriginalRange(D).toInclusiveRange()).filter(v.isDefined)),this._editors.modified.setHiddenAreas(T.map(N=>N.getHiddenModifiedRange(D).toInclusiveRange()).filter(v.isDefined))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(D=>{var T;if(!D.event.rightButton&&D.target.position&&(!((T=D.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=D.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const R=A.unchangedRegions.get().find(M=>M.modifiedUnchangedRange.includes(N));if(!R)return;R.collapseAll(void 0),D.event.stopPropagation(),D.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(D=>{var T;if(!D.event.rightButton&&D.target.position&&(!((T=D.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=D.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const R=A.unchangedRegions.get().find(M=>M.originalUnchangedRange.includes(N));if(!R)return;R.collapseAll(void 0),D.event.stopPropagation(),D.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=a,a._breadcrumbsSourceFactory=(0,m.observableValue)("breadcrumbsSourceFactory",void 0),e.HideUnchangedRegionsFeature=a=r=ke([ge(3,u.IInstantiationService)],a);class l extends s.ViewZoneOverlayWidget{constructor(p,h,g,C,S,_,L,D){const T=(0,f.h)("div.diff-hidden-lines-widget");super(p,h,T.root),this._editor=p,this._unchangedRegion=g,this._unchangedRegionRange=C,this._hide=S,this._modifiedOutlineSource=_,this._revealModifiedHiddenLine=L,this._options=D,this._nodes=(0,f.h)("div.diff-hidden-lines",[(0,f.h)("div.top@top",{title:(0,c.localize)(29,"Click or drag to show more above")}),(0,f.h)("div.center@content",{style:{display:"flex"}},[(0,f.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,f.$)("a",{title:(0,c.localize)(30,"Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,f.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,f.h)("div.bottom@bottom",{title:(0,c.localize)(31,"Click or drag to show more below"),role:"button"})]),T.root.appendChild(this._nodes.root);const N=(0,m.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,f.reset)(this._nodes.first):this._register((0,s.applyStyle)(this._nodes.first,{width:N.map(R=>R.contentLeft)})),this._register((0,m.autorun)(R=>{const M=this._unchangedRegion.visibleLineCountTop.read(R)+this._unchangedRegion.visibleLineCountBottom.read(R)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!M),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(R)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(R)>0),this._nodes.top.classList.toggle("canMoveBottom",!M);const P=this._unchangedRegion.isDragged.read(R),x=this._editor.getDomNode();x&&(x.classList.toggle("draggingUnchangedRegion",!!P),P==="top"?(x.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(R)>0),x.classList.toggle("canMoveBottom",!M)):P==="bottom"?(x.classList.toggle("canMoveTop",!M),x.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(R)>0)):(x.classList.toggle("canMoveTop",!1),x.classList.toggle("canMoveBottom",!1)))}));const A=this._editor;this._register((0,f.addDisposableListener)(this._nodes.top,"mousedown",R=>{if(R.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),R.preventDefault();const M=R.clientY;let P=!1;const x=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const O=(0,f.getWindow)(this._nodes.top),B=(0,f.addDisposableListener)(O,"mousemove",K=>{const j=K.clientY-M;P=P||Math.abs(j)>2;const U=Math.round(j/A.getOption(67)),Y=Math.max(0,Math.min(x+U,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(Y,void 0)}),H=(0,f.addDisposableListener)(O,"mouseup",K=>{P||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),B.dispose(),H.dispose()})})),this._register((0,f.addDisposableListener)(this._nodes.bottom,"mousedown",R=>{if(R.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),R.preventDefault();const M=R.clientY;let P=!1;const x=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const O=(0,f.getWindow)(this._nodes.bottom),B=(0,f.addDisposableListener)(O,"mousemove",K=>{const j=K.clientY-M;P=P||Math.abs(j)>2;const U=Math.round(j/A.getOption(67)),Y=Math.max(0,Math.min(x-U,this._unchangedRegion.getMaxVisibleLineCountBottom())),Q=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(Y,void 0);const Z=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(Z-Q))}),H=(0,f.addDisposableListener)(O,"mouseup",K=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!P){const V=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const j=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(j-V))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),B.dispose(),H.dispose()})})),this._register((0,m.autorun)(R=>{const M=[];if(!this._hide){const P=g.getHiddenModifiedRange(R).length,x=(0,c.localize)(32,"{0} hidden lines",P),O=(0,f.$)("span",{title:(0,c.localize)(33,"Double click to unfold")},x);O.addEventListener("dblclick",K=>{K.button===0&&(K.preventDefault(),this._unchangedRegion.showAll(void 0))}),M.push(O);const B=this._unchangedRegion.getHiddenModifiedRange(R),H=this._modifiedOutlineSource.getBreadcrumbItems(B,R);if(H.length>0){M.push((0,f.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let K=0;K<H.length;K++){const V=H[K],j=n.SymbolKinds.toIcon(V.kind),U=(0,f.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(j),"\xA0",V.name,...K===H.length-1?[]:[(0,k.renderIcon)(E.Codicon.chevronRight)]]).root;M.push(U),U.onclick=()=>{this._revealModifiedHiddenLine(V.startLineNumber)}}}}(0,f.reset)(this._nodes.others,...M)}))}}}),define(re[42],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,f.createDecorator)("languageService")}),define(re[115],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,f.createDecorator)("editorWorkerService")}),define(re[17],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,f.createDecorator)("ILanguageFeaturesService")}),define(re[671],ae([1,0,586,17,48]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class I{constructor(){this.referenceProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.newSymbolNamesProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.multiDocumentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentDropEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this))}_score(m){var w;return(w=this._notebookTypeResolver)===null||w===void 0?void 0:w.call(this,m)}}e.LanguageFeaturesService=I,(0,E.registerSingleton)(k.ILanguageFeaturesService,I,1)}),define(re[263],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,f.createDecorator)("markerDecorationsService")}),define(re[51],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,f.createDecorator)("modelService")}),define(re[77],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,f.createDecorator)("textModelService")}),define(re[264],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,f.createDecorator)("semanticTokensStylingService")}),define(re[209],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,f.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,f.createDecorator)("textResourcePropertiesService")}),define(re[672],ae([1,0,48,7,342]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,f.registerSingleton)(e.ITreeViewsDnDService,E.TreeViewsDnDService,1)}),define(re[265],ae([1,0,149,132]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCombinedWorkspaceEdit=E,e.sortEditsByYieldTo=I;function E(y,m,w){var b,v,s,o;return(typeof w.insertText=="string"?w.insertText==="":w.insertText.snippet==="")?{edits:(v=(b=w.additionalEdit)===null||b===void 0?void 0:b.edits)!==null&&v!==void 0?v:[]}:{edits:[...m.map(t=>new f.ResourceTextEdit(y,{range:t,text:typeof w.insertText=="string"?k.SnippetParser.escape(w.insertText)+"$0":w.insertText.snippet,insertAsSnippet:!0})),...(o=(s=w.additionalEdit)===null||s===void 0?void 0:s.edits)!==null&&o!==void 0?o:[]]}}function I(y){var m;function w(t,i){return"mimeType"in t?t.mimeType===i.handledMimeType:!!i.kind&&t.kind.contains(i.kind)}const b=new Map;for(const t of y)for(const i of(m=t.yieldTo)!==null&&m!==void 0?m:[])for(const n of y)if(n!==t&&w(i,n)){let c=b.get(t);c||(c=[],b.set(t,c)),c.push(n)}if(!b.size)return Array.from(y);const v=new Set,s=[];function o(t){if(!t.length)return[];const i=t[0];if(s.includes(i))return console.warn("Yield to cycle detected",i),t;if(v.has(i))return o(t.slice(1));let n=[];const c=b.get(i);return c&&(s.push(i),n=o(c),s.pop()),v.add(i),[...n,i,...o(t.slice(1))]}return o(Array.from(y))}}),define(re[380],ae([1,0,102,6,2,21,11,74,37,9,5,113,42,41,94,147,133,205,206,527]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttPolicy=e.AdditionalLinesWidget=e.GhostTextWidget=e.GHOST_TEXT_DESCRIPTION=void 0,e.GHOST_TEXT_DESCRIPTION="ghost-text";let a=class extends E.Disposable{constructor(h,g,C){super(),this.editor=h,this.model=g,this.languageService=C,this.isDisposed=(0,I.observableValue)(this,!1),this.currentTextModel=(0,I.observableFromEvent)(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,I.derived)(this,S=>{if(this.isDisposed.read(S))return;const _=this.currentTextModel.read(S);if(_!==this.model.targetTextModel.read(S))return;const L=this.model.ghostText.read(S);if(!L)return;const D=L instanceof u.GhostTextReplacement?L.columnRange:void 0,T=[],N=[];function A(O,B){if(N.length>0){const H=N[N.length-1];B&&H.decorations.push(new n.LineDecoration(H.content.length+1,H.content.length+1+O[0].length,B,0)),H.content+=O[0],O=O.slice(1)}for(const H of O)N.push({content:H,decorations:B?[new n.LineDecoration(1,H.length+1,B,0)]:[]})}const R=_.getLineContent(L.lineNumber);let M,P=0;for(const O of L.parts){let B=O.lines;M===void 0?(T.push({column:O.column,text:B[0],preview:O.preview}),B=B.slice(1)):A([R.substring(P,O.column-1)],void 0),B.length>0&&(A(B,e.GHOST_TEXT_DESCRIPTION),M===void 0&&O.column<=R.length&&(M=O.column)),P=O.column-1}M!==void 0&&A([R.substring(P)],void 0);const x=M!==void 0?new r.ColumnRange(M,R.length+1):void 0;return{replacedRange:D,inlineTexts:T,additionalLines:N,hiddenRange:x,lineNumber:L.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(S),targetTextModel:_}}),this.decorations=(0,I.derived)(this,S=>{const _=this.uiState.read(S);if(!_)return[];const L=[];_.replacedRange&&L.push({range:_.replacedRange.toRange(_.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),_.hiddenRange&&L.push({range:_.hiddenRange.toRange(_.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const D of _.inlineTexts)L.push({range:v.Range.fromPositions(new b.Position(_.lineNumber,D.column)),options:{description:e.GHOST_TEXT_DESCRIPTION,after:{content:D.text,inlineClassName:D.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:t.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return L}),this.additionalLinesWidget=this._register(new l(this.editor,this.languageService.languageIdCodec,(0,I.derived)(S=>{const _=this.uiState.read(S);return _?{lineNumber:_.lineNumber,additionalLines:_.additionalLines,minReservedLineCount:_.additionalReservedLineCount,targetTextModel:_.targetTextModel}:void 0}))),this._register((0,E.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,r.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(h){return this.additionalLinesWidget.viewZoneId===h}};e.GhostTextWidget=a,e.GhostTextWidget=a=ke([ge(2,o.ILanguageService)],a);class l extends E.Disposable{get viewZoneId(){return this._viewZoneId}constructor(h,g,C){super(),this.editor=h,this.languageIdCodec=g,this.lines=C,this._viewZoneId=void 0,this.editorOptionsChanged=(0,I.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,S=>S.hasChanged(33)||S.hasChanged(118)||S.hasChanged(100)||S.hasChanged(95)||S.hasChanged(51)||S.hasChanged(50)||S.hasChanged(67))),this._register((0,I.autorun)(S=>{const _=this.lines.read(S);this.editorOptionsChanged.read(S),_?this.updateLines(_.lineNumber,_.additionalLines,_.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(h=>{this._viewZoneId&&(h.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(h,g,C){const S=this.editor.getModel();if(!S)return;const{tabSize:_}=S.getOptions();this.editor.changeViewZones(L=>{this._viewZoneId&&(L.removeZone(this._viewZoneId),this._viewZoneId=void 0);const D=Math.max(g.length,C);if(D>0){const T=document.createElement("div");d(T,_,g,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=L.addZone({afterLineNumber:h,heightInLines:D,domNode:T,afterColumnAffinity:1})}})}}e.AdditionalLinesWidget=l;function d(p,h,g,C,S){const _=C.get(33),L=C.get(118),D="none",T=C.get(95),N=C.get(51),A=C.get(50),R=C.get(67),M=new s.StringBuilder(1e4);M.appendString('<div class="suggest-preview-text">');for(let O=0,B=g.length;O<B;O++){const H=g[O],K=H.content;M.appendString('<div class="view-line'),M.appendString('" style="top:'),M.appendString(String(O*R)),M.appendString('px;width:1000000px;">');const V=y.isBasicASCII(K),j=y.containsRTL(K),U=i.LineTokens.createEmpty(K,S);(0,c.renderViewLine)(new c.RenderLineInput(A.isMonospace&&!_,A.canUseHalfwidthRightwardsArrow,K,!1,V,j,0,U,H.decorations,h,0,A.spaceWidth,A.middotWidth,A.wsmiddotWidth,L,D,T,N!==w.EditorFontLigatures.OFF,null),M),M.appendString("</div>")}M.appendString("</div>"),(0,m.applyFontInfo)(p,A);const P=M.build(),x=e.ttPolicy?e.ttPolicy.createHTML(P):P;p.innerHTML=x}e.ttPolicy=(0,f.createTrustedTypesPolicy)("editorGhostText",{createHTML:p=>p})}),define(re[673],ae([1,0,2,21,9,5,42,41,147,380,206,529]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.INLINE_EDIT_DESCRIPTION=void 0,e.INLINE_EDIT_DESCRIPTION="inline-edit";let s=class extends f.Disposable{constructor(t,i,n){super(),this.editor=t,this.model=i,this.languageService=n,this.isDisposed=(0,k.observableValue)(this,!1),this.currentTextModel=(0,k.observableFromEvent)(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,k.derived)(this,c=>{var u;if(this.isDisposed.read(c))return;const r=this.currentTextModel.read(c);if(r!==this.model.targetTextModel.read(c))return;const a=this.model.ghostText.read(c);if(!a)return;let l=(u=this.model.range)===null||u===void 0?void 0:u.read(c);l&&l.startLineNumber===l.endLineNumber&&l.startColumn===l.endColumn&&(l=void 0);const d=(l?l.startLineNumber===l.endLineNumber:!0)&&a.parts.length===1&&a.parts[0].lines.length===1,p=a.parts.length===1&&a.parts[0].lines.every(N=>N.length===0),h=[],g=[];function C(N,A){if(g.length>0){const R=g[g.length-1];A&&R.decorations.push(new w.LineDecoration(R.content.length+1,R.content.length+1+N[0].length,A,0)),R.content+=N[0],N=N.slice(1)}for(const R of N)g.push({content:R,decorations:A?[new w.LineDecoration(1,R.length+1,A,0)]:[]})}const S=r.getLineContent(a.lineNumber);let _,L=0;if(!p){for(const N of a.parts){let A=N.lines;l&&!d&&(C(A,e.INLINE_EDIT_DESCRIPTION),A=[]),_===void 0?(h.push({column:N.column,text:A[0],preview:N.preview}),A=A.slice(1)):C([S.substring(L,N.column-1)],void 0),A.length>0&&(C(A,e.INLINE_EDIT_DESCRIPTION),_===void 0&&N.column<=S.length&&(_=N.column)),L=N.column-1}_!==void 0&&C([S.substring(L)],void 0)}const D=_!==void 0?new v.ColumnRange(_,S.length+1):void 0,T=d||!l?a.lineNumber:l.endLineNumber-1;return{inlineTexts:h,additionalLines:g,hiddenRange:D,lineNumber:T,additionalReservedLineCount:this.model.minReservedLineCount.read(c),targetTextModel:r,range:l,isSingleLine:d,isPureRemove:p,backgroundColoring:this.model.backgroundColoring.read(c)}}),this.decorations=(0,k.derived)(this,c=>{const u=this.uiState.read(c);if(!u)return[];const r=[];if(u.hiddenRange&&r.push({range:u.hiddenRange.toRange(u.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),u.range){const a=[];if(u.isSingleLine)a.push(u.range);else if(u.isPureRemove){const d=u.range.endLineNumber-u.range.startLineNumber;for(let p=0;p<d;p++){const h=u.range.startLineNumber+p,g=u.targetTextModel.getLineFirstNonWhitespaceColumn(h),C=u.targetTextModel.getLineLastNonWhitespaceColumn(h),S=new I.Range(h,g,h,C);a.push(S)}}else{const d=u.range.endLineNumber-u.range.startLineNumber;for(let p=0;p<d;p++){const h=u.range.startLineNumber+p,g=u.targetTextModel.getLineFirstNonWhitespaceColumn(h),C=u.targetTextModel.getLineLastNonWhitespaceColumn(h),S=new I.Range(h,g,h,C);a.push(S)}}const l=u.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const d of a)r.push({range:d,options:{inlineClassName:l,description:"inline-edit-remove"}})}for(const a of u.inlineTexts)r.push({range:I.Range.fromPositions(new E.Position(u.lineNumber,a.column)),options:{description:e.INLINE_EDIT_DESCRIPTION,after:{content:a.text,inlineClassName:a.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:m.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return r}),this.additionalLinesWidget=this._register(new b.AdditionalLinesWidget(this.editor,this.languageService.languageIdCodec,(0,k.derived)(c=>{const u=this.uiState.read(c);return u&&!u.isPureRemove?{lineNumber:u.lineNumber,additionalLines:u.additionalLines,minReservedLineCount:u.additionalReservedLineCount,targetTextModel:u.targetTextModel}:void 0}))),this._register((0,f.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,v.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(t){return this.additionalLinesWidget.viewZoneId===t}};e.GhostTextWidget=s,e.GhostTextWidget=s=ke([ge(2,y.ILanguageService)],s)}),define(re[150],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,f.createDecorator)("themeService")}),define(re[134],ae([1,0,3,7]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilitySignal=e.SoundSource=e.Sound=e.AcknowledgeDocCommentsToken=e.IAccessibilitySignalService=void 0,e.IAccessibilitySignalService=(0,k.createDecorator)("accessibilitySignalService"),e.AcknowledgeDocCommentsToken=Symbol("AcknowledgeDocCommentsToken");class E{static register(w){return new E(w.fileName)}constructor(w){this.fileName=w}}e.Sound=E,E.error=E.register({fileName:"error.mp3"}),E.warning=E.register({fileName:"warning.mp3"}),E.success=E.register({fileName:"success.mp3"}),E.foldedArea=E.register({fileName:"foldedAreas.mp3"}),E.break=E.register({fileName:"break.mp3"}),E.quickFixes=E.register({fileName:"quickFixes.mp3"}),E.taskCompleted=E.register({fileName:"taskCompleted.mp3"}),E.taskFailed=E.register({fileName:"taskFailed.mp3"}),E.terminalBell=E.register({fileName:"terminalBell.mp3"}),E.diffLineInserted=E.register({fileName:"diffLineInserted.mp3"}),E.diffLineDeleted=E.register({fileName:"diffLineDeleted.mp3"}),E.diffLineModified=E.register({fileName:"diffLineModified.mp3"}),E.chatRequestSent=E.register({fileName:"chatRequestSent.mp3"}),E.chatResponseReceived1=E.register({fileName:"chatResponseReceived1.mp3"}),E.chatResponseReceived2=E.register({fileName:"chatResponseReceived2.mp3"}),E.chatResponseReceived3=E.register({fileName:"chatResponseReceived3.mp3"}),E.chatResponseReceived4=E.register({fileName:"chatResponseReceived4.mp3"}),E.clear=E.register({fileName:"clear.mp3"}),E.save=E.register({fileName:"save.mp3"}),E.format=E.register({fileName:"format.mp3"}),E.voiceRecordingStarted=E.register({fileName:"voiceRecordingStarted.mp3"}),E.voiceRecordingStopped=E.register({fileName:"voiceRecordingStopped.mp3"}),E.progress=E.register({fileName:"progress.mp3"});class I{constructor(w){this.randomOneOf=w}}e.SoundSource=I;class y{constructor(w,b,v,s,o,t,i){this.sound=w,this.name=b,this.legacySoundSettingsKey=v,this.settingsKey=s,this.legacyAnnouncementSettingsKey=o,this.announcementMessage=t,this.delaySettingsKey=i}static register(w){const b=new I("randomOneOf"in w.sound?w.sound.randomOneOf:[w.sound]),v=new y(b,w.name,w.legacySoundSettingsKey,w.settingsKey,w.legacyAnnouncementSettingsKey,w.announcementMessage,w.delaySettingsKey);return y._signals.add(v),v}}e.AccessibilitySignal=y,y._signals=new Set,y.errorAtPosition=y.register({name:(0,f.localize)(1678,"Error at Position"),sound:E.error,announcementMessage:(0,f.localize)(1679,"Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"}),y.warningAtPosition=y.register({name:(0,f.localize)(1680,"Warning at Position"),sound:E.warning,announcementMessage:(0,f.localize)(1681,"Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"}),y.errorOnLine=y.register({name:(0,f.localize)(1682,"Error on Line"),sound:E.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,f.localize)(1683,"Error on Line"),settingsKey:"accessibility.signals.lineHasError"}),y.warningOnLine=y.register({name:(0,f.localize)(1684,"Warning on Line"),sound:E.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,f.localize)(1685,"Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"}),y.foldedArea=y.register({name:(0,f.localize)(1686,"Folded Area on Line"),sound:E.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,f.localize)(1687,"Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),y.break=y.register({name:(0,f.localize)(1688,"Breakpoint on Line"),sound:E.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,f.localize)(1689,"Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),y.inlineSuggestion=y.register({name:(0,f.localize)(1690,"Inline Suggestion on Line"),sound:E.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),y.terminalQuickFix=y.register({name:(0,f.localize)(1691,"Terminal Quick Fix"),sound:E.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,f.localize)(1692,"Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),y.onDebugBreak=y.register({name:(0,f.localize)(1693,"Debugger Stopped on Breakpoint"),sound:E.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,f.localize)(1694,"Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),y.noInlayHints=y.register({name:(0,f.localize)(1695,"No Inlay Hints on Line"),sound:E.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,f.localize)(1696,"No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),y.taskCompleted=y.register({name:(0,f.localize)(1697,"Task Completed"),sound:E.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,f.localize)(1698,"Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),y.taskFailed=y.register({name:(0,f.localize)(1699,"Task Failed"),sound:E.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,f.localize)(1700,"Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),y.terminalCommandFailed=y.register({name:(0,f.localize)(1701,"Terminal Command Failed"),sound:E.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,f.localize)(1702,"Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),y.terminalCommandSucceeded=y.register({name:(0,f.localize)(1703,"Terminal Command Succeeded"),sound:E.success,announcementMessage:(0,f.localize)(1704,"Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"}),y.terminalBell=y.register({name:(0,f.localize)(1705,"Terminal Bell"),sound:E.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,f.localize)(1706,"Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),y.notebookCellCompleted=y.register({name:(0,f.localize)(1707,"Notebook Cell Completed"),sound:E.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,f.localize)(1708,"Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),y.notebookCellFailed=y.register({name:(0,f.localize)(1709,"Notebook Cell Failed"),sound:E.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,f.localize)(1710,"Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),y.diffLineInserted=y.register({name:(0,f.localize)(1711,"Diff Line Inserted"),sound:E.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),y.diffLineDeleted=y.register({name:(0,f.localize)(1712,"Diff Line Deleted"),sound:E.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),y.diffLineModified=y.register({name:(0,f.localize)(1713,"Diff Line Modified"),sound:E.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),y.chatRequestSent=y.register({name:(0,f.localize)(1714,"Chat Request Sent"),sound:E.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,f.localize)(1715,"Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),y.chatResponseReceived=y.register({name:(0,f.localize)(1716,"Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[E.chatResponseReceived1,E.chatResponseReceived2,E.chatResponseReceived3,E.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),y.progress=y.register({name:(0,f.localize)(1717,"Progress"),sound:E.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:(0,f.localize)(1718,"Progress"),settingsKey:"accessibility.signals.progress"}),y.clear=y.register({name:(0,f.localize)(1719,"Clear"),sound:E.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,f.localize)(1720,"Clear"),settingsKey:"accessibility.signals.clear"}),y.save=y.register({name:(0,f.localize)(1721,"Save"),sound:E.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,f.localize)(1722,"Save"),settingsKey:"accessibility.signals.save"}),y.format=y.register({name:(0,f.localize)(1723,"Format"),sound:E.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,f.localize)(1724,"Format"),settingsKey:"accessibility.signals.format"}),y.voiceRecordingStarted=y.register({name:(0,f.localize)(1725,"Voice Recording Started"),sound:E.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),y.voiceRecordingStopped=y.register({name:(0,f.localize)(1726,"Voice Recording Stopped"),sound:E.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}),define(re[116],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,f.createDecorator)("clipboardService")}),define(re[24],ae([1,0,6,53,2,71,19,7]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,m.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new f.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,b){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!b)throw new Error("invalid command");return this.registerCommand({id:w,handler:b})}if(w.metadata&&Array.isArray(w.metadata.args)){const i=[];for(const c of w.metadata.args)i.push(c.constraint);const n=w.handler;w.handler=function(c,...u){return(0,y.validateConstraints)(u,i),n(c,...u)}}const{id:v}=w;let s=this._commands.get(v);s||(s=new I.LinkedList,this._commands.set(v,s));const o=s.unshift(w),t=(0,E.toDisposable)(()=>{o();const i=this._commands.get(v);i?.isEmpty()&&this._commands.delete(v)});return this._onDidRegisterCommand.fire(v),t}registerCommandAlias(w,b){return e.CommandsRegistry.registerCommand(w,(v,...s)=>v.get(e.ICommandService).executeCommand(b,...s))}getCommand(w){const b=this._commands.get(w);if(!(!b||b.isEmpty()))return k.Iterable.first(b)}getCommands(){const w=new Map;for(const b of this._commands.keys()){const v=this.getCommand(b);v&&w.set(b,v)}return w}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(re[381],ae([1,0,18,8,2,19,22,51,24,17]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensModel=void 0,e.getCodeLensModel=s;class v{constructor(){this.lenses=[],this._disposables=new E.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,i){this._disposables.add(t);for(const n of t.lenses)this.lenses.push({symbol:n,provider:i})}}e.CodeLensModel=v;async function s(o,t,i){const n=o.ordered(t),c=new Map,u=new v,r=n.map(async(a,l)=>{c.set(a,l);try{const d=await Promise.resolve(a.provideCodeLenses(t,i));d&&u.add(d,a)}catch(d){(0,k.onUnexpectedExternalError)(d)}});return await Promise.all(r),u.lenses=u.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:c.get(a.provider)<c.get(l.provider)?-1:c.get(a.provider)>c.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),u}w.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(o,...t){let[i,n]=t;(0,I.assertType)(y.URI.isUri(i)),(0,I.assertType)(typeof n=="number"||!n);const{codeLensProvider:c}=o.get(b.ILanguageFeaturesService),u=o.get(m.IModelService).getModel(i);if(!u)throw(0,k.illegalArgument)();const r=[],a=new E.DisposableStore;return s(c,u,f.CancellationToken.None).then(l=>{a.add(l);const d=[];for(const p of l.lenses)n==null||p.symbol.command?r.push(p.symbol):n-- >0&&p.provider.resolveCodeLens&&d.push(Promise.resolve(p.provider.resolveCodeLens(u,p.symbol,f.CancellationToken.None)).then(h=>r.push(h||p.symbol)));return Promise.all(d)}).then(()=>r).finally(()=>{setTimeout(()=>a.dispose(),100)})})}),define(re[674],ae([1,0,13,18,8,2,19,22,5,51,24,17]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinksList=e.Link=void 0,e.getLinks=i;class o{constructor(c,u){this._link=c,this._provider=u}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(c){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,c)).then(u=>(this._link=u||this._link,this._link.url?this.resolve(c):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}}e.Link=o;class t{constructor(c){this._disposables=new I.DisposableStore;let u=[];for(const[r,a]of c){const l=r.links.map(d=>new o(d,a));u=t._union(u,l),(0,I.isDisposable)(r)&&this._disposables.add(r)}this.links=u}dispose(){this._disposables.dispose(),this.links.length=0}static _union(c,u){const r=[];let a,l,d,p;for(a=0,d=0,l=c.length,p=u.length;a<l&&d<p;){const h=c[a],g=u[d];if(w.Range.areIntersectingOrTouching(h.range,g.range)){a++;continue}w.Range.compareRangesUsingStarts(h.range,g.range)<0?(r.push(h),a++):(r.push(g),d++)}for(;a<l;a++)r.push(c[a]);for(;d<p;d++)r.push(u[d]);return r}}e.LinksList=t;function i(n,c,u){const r=[],a=n.ordered(c).reverse().map((l,d)=>Promise.resolve(l.provideLinks(c,u)).then(p=>{p&&(r[d]=[p,l])},E.onUnexpectedExternalError));return Promise.all(a).then(()=>{const l=new t((0,f.coalesce)(r));return u.isCancellationRequested?(l.dispose(),new t([])):l})}v.CommandsRegistry.registerCommand("_executeLinkProvider",async(n,...c)=>{let[u,r]=c;(0,y.assertType)(u instanceof m.URI),typeof r!="number"&&(r=0);const{linkProvider:a}=n.get(s.ILanguageFeaturesService),l=n.get(b.IModelService).getModel(u);if(!l)return[];const d=await i(a,l,k.CancellationToken.None);if(!d)return[];for(let h=0;h<Math.min(r,d.links.length);h++)await d.links[h].resolve(k.CancellationToken.None);const p=d.links.slice(0);return d.dispose(),p})}),define(re[382],ae([1,0,18,8,22,51,24,19,598,5,17]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensResult=void 0,e.isSemanticTokens=s,e.isSemanticTokensEdits=o,e.hasDocumentSemanticTokensProvider=i,e.getDocumentSemanticTokens=c,e.hasDocumentRangeSemanticTokensProvider=a,e.getDocumentRangeSemanticTokens=d;function s(p){return p&&!!p.data}function o(p){return p&&Array.isArray(p.edits)}class t{constructor(h,g,C){this.provider=h,this.tokens=g,this.error=C}}e.DocumentSemanticTokensResult=t;function i(p,h){return p.has(h)}function n(p,h){const g=p.orderedGroups(h);return g.length>0?g[0]:[]}async function c(p,h,g,C,S){const _=n(p,h),L=await Promise.all(_.map(async D=>{let T,N=null;try{T=await D.provideDocumentSemanticTokens(h,D===g?C:null,S)}catch(A){N=A,T=null}return(!T||!s(T)&&!o(T))&&(T=null),new t(D,T,N)}));for(const D of L){if(D.error)throw D.error;if(D.tokens)return D}return L.length>0?L[0]:null}function u(p,h){const g=p.orderedGroups(h);return g.length>0?g[0]:null}class r{constructor(h,g){this.provider=h,this.tokens=g}}function a(p,h){return p.has(h)}function l(p,h){const g=p.orderedGroups(h);return g.length>0?g[0]:[]}async function d(p,h,g,C){const S=l(p,h),_=await Promise.all(S.map(async L=>{let D;try{D=await L.provideDocumentRangeSemanticTokens(h,g,C)}catch(T){(0,k.onUnexpectedExternalError)(T),D=null}return(!D||!s(D))&&(D=null),new r(L,D)}));for(const L of _)if(L.tokens)return L;return _.length>0?_[0]:null}y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async(p,...h)=>{const[g]=h;(0,m.assertType)(g instanceof E.URI);const C=p.get(I.IModelService).getModel(g);if(!C)return;const{documentSemanticTokensProvider:S}=p.get(v.ILanguageFeaturesService),_=u(S,C);return _?_[0].getLegend():p.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",g)}),y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async(p,...h)=>{const[g]=h;(0,m.assertType)(g instanceof E.URI);const C=p.get(I.IModelService).getModel(g);if(!C)return;const{documentSemanticTokensProvider:S}=p.get(v.ILanguageFeaturesService);if(!i(S,C))return p.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",g,C.getFullModelRange());const _=await c(S,C,null,null,f.CancellationToken.None);if(!_)return;const{provider:L,tokens:D}=_;if(!D||!s(D))return;const T=(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:D.data});return D.resultId&&L.releaseDocumentSemanticTokens(D.resultId),T}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(p,...h)=>{const[g,C]=h;(0,m.assertType)(g instanceof E.URI);const S=p.get(I.IModelService).getModel(g);if(!S)return;const{documentRangeSemanticTokensProvider:_}=p.get(v.ILanguageFeaturesService),L=l(_,S);if(L.length===0)return;if(L.length===1)return L[0].getLegend();if(!C||!b.Range.isIRange(C))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),L[0].getLegend();const D=await d(_,S,b.Range.lift(C),f.CancellationToken.None);if(D)return D.provider.getLegend()}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async(p,...h)=>{const[g,C]=h;(0,m.assertType)(g instanceof E.URI),(0,m.assertType)(b.Range.isIRange(C));const S=p.get(I.IModelService).getModel(g);if(!S)return;const{documentRangeSemanticTokensProvider:_}=p.get(v.ILanguageFeaturesService),L=await d(_,S,b.Range.lift(C),f.CancellationToken.None);if(!(!L||!L.tokens))return(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:L.tokens.data})})}),define(re[28],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationService=void 0,e.toValuesTree=k,e.addToValueTree=E,e.removeFromValueTree=I,e.getConfigurationValue=m,e.getLanguageTagSettingPlainKey=w,e.IConfigurationService=(0,f.createDecorator)("configurationService");function k(b,v){const s=Object.create(null);for(const o in b)E(s,o,b[o],v);return s}function E(b,v,s,o){const t=v.split("."),i=t.pop();let n=b;for(let c=0;c<t.length;c++){const u=t[c];let r=n[u];switch(typeof r){case"undefined":r=n[u]=Object.create(null);break;case"object":if(r===null){o(`Ignoring ${v} as ${t.slice(0,c+1).join(".")} is null`);return}break;default:o(`Ignoring ${v} as ${t.slice(0,c+1).join(".")} is ${JSON.stringify(r)}`);return}n=r}if(typeof n=="object"&&n!==null)try{n[i]=s}catch{o(`Ignoring ${v} as ${t.join(".")} is ${JSON.stringify(n)}`)}else o(`Ignoring ${v} as ${t.join(".")} is ${JSON.stringify(n)}`)}function I(b,v){const s=v.split(".");y(b,s)}function y(b,v){const s=v.shift();if(v.length===0){delete b[s];return}if(Object.keys(b).indexOf(s)!==-1){const o=b[s];typeof o=="object"&&!Array.isArray(o)&&(y(o,v),Object.keys(o).length===0&&delete b[s])}}function m(b,v,s){function o(n,c){let u=n;for(const r of c){if(typeof u!="object"||u===null)return;u=u[r]}return u}const t=v.split("."),i=o(b,t);return typeof i>"u"?s:i}function w(b){return b.replace(/[\[\]]/g,"")}}),define(re[383],ae([1,0,2,27,175,363,28]),function(le,e,f,k,E,I,y){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const w=5;class b{static create(a,l){return this._INSTANCE.create(a,l)}constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}create(a,l){if(a!==null&&a.depth>=this._maxCacheDepth)return new v(a,l);let d=v.getStackElementId(a);d.length>0&&(d+="|"),d+=l;let p=this._entries[d];return p||(p=new v(a,l),this._entries[d]=p,p)}}b._INSTANCE=new b(w);class v{constructor(a,l){this.parent=a,this.state=l,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(a){let l="";for(;a!==null;)l.length>0&&(l+="|"),l+=a.state,a=a.parent;return l}static _equals(a,l){for(;a!==null&&l!==null;){if(a===l)return!0;if(a.state!==l.state)return!1;a=a.parent,l=l.parent}return a===null&&l===null}equals(a){return v._equals(this,a)}push(a){return b.create(this,a)}pop(){return this.parent}popall(){let a=this;for(;a.parent;)a=a.parent;return a}switchTo(a){return b.create(this.parent,a)}}class s{constructor(a,l){this.languageId=a,this.state=l}equals(a){return this.languageId===a.languageId&&this.state.equals(a.state)}clone(){return this.state.clone()===this.state?this:new s(this.languageId,this.state)}}class o{static create(a,l){return this._INSTANCE.create(a,l)}constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}create(a,l){if(l!==null)return new t(a,l);if(a!==null&&a.depth>=this._maxCacheDepth)return new t(a,l);const d=v.getStackElementId(a);let p=this._entries[d];return p||(p=new t(a,null),this._entries[d]=p,p)}}o._INSTANCE=new o(w);class t{constructor(a,l){this.stack=a,this.embeddedLanguageData=l}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:o.create(this.stack,this.embeddedLanguageData)}equals(a){return!(a instanceof t)||!this.stack.equals(a.stack)?!1:this.embeddedLanguageData===null&&a.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||a.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(a.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(a){this._languageId=a}emit(a,l){this._lastTokenType===l&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=l,this._lastTokenLanguage=this._languageId,this._tokens.push(new k.Token(a,l,this._languageId)))}nestedLanguageTokenize(a,l,d,p){const h=d.languageId,g=d.state,C=k.TokenizationRegistry.get(h);if(!C)return this.enterLanguage(h),this.emit(p,""),g;const S=C.tokenize(a,l,g);if(p!==0)for(const _ of S.tokens)this._tokens.push(new k.Token(_.offset+p,_.type,_.language));else this._tokens=this._tokens.concat(S.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,S.endState}finalize(a){return new k.TokenizationResult(this._tokens,a)}}class n{constructor(a,l){this._languageService=a,this._theme=l,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(a){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(a)}emit(a,l){const d=this._theme.match(this._currentLanguageId,l)|1024;this._lastTokenMetadata!==d&&(this._lastTokenMetadata=d,this._tokens.push(a),this._tokens.push(d))}static _merge(a,l,d){const p=a!==null?a.length:0,h=l.length,g=d!==null?d.length:0;if(p===0&&h===0&&g===0)return new Uint32Array(0);if(p===0&&h===0)return d;if(h===0&&g===0)return a;const C=new Uint32Array(p+h+g);a!==null&&C.set(a);for(let S=0;S<h;S++)C[p+S]=l[S];return d!==null&&C.set(d,p+h),C}nestedLanguageTokenize(a,l,d,p){const h=d.languageId,g=d.state,C=k.TokenizationRegistry.get(h);if(!C)return this.enterLanguage(h),this.emit(p,""),g;const S=C.tokenizeEncoded(a,l,g);if(p!==0)for(let _=0,L=S.tokens.length;_<L;_+=2)S.tokens[_]+=p;return this._prependTokens=n._merge(this._prependTokens,this._tokens,S.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,S.endState}finalize(a){return new k.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),a)}}let c=m=class extends f.Disposable{constructor(a,l,d,p,h){super(),this._configurationService=h,this._languageService=a,this._standaloneThemeService=l,this._languageId=d,this._lexer=p,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let g=!1;this._register(k.TokenizationRegistry.onDidChange(C=>{if(g)return;let S=!1;for(let _=0,L=C.changedLanguages.length;_<L;_++){const D=C.changedLanguages[_];if(this._embeddedLanguages[D]){S=!0;break}}S&&(g=!0,k.TokenizationRegistry.handleChange([this._languageId]),g=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(C=>{C.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const a=[];for(const l in this._embeddedLanguages){const d=k.TokenizationRegistry.get(l);if(d){if(d instanceof m){const p=d.getLoadStatus();p.loaded===!1&&a.push(p.promise)}continue}k.TokenizationRegistry.isResolved(l)||a.push(k.TokenizationRegistry.getOrCreate(l))}return a.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(a).then(l=>{})}}getInitialState(){const a=b.create(null,this._lexer.start);return o.create(a,null)}tokenize(a,l,d){if(a.length>=this._maxTokenizationLineLength)return(0,E.nullTokenize)(this._languageId,d);const p=new i,h=this._tokenize(a,l,d,p);return p.finalize(h)}tokenizeEncoded(a,l,d){if(a.length>=this._maxTokenizationLineLength)return(0,E.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),d);const p=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),h=this._tokenize(a,l,d,p);return p.finalize(h)}_tokenize(a,l,d,p){return d.embeddedLanguageData?this._nestedTokenize(a,l,d,0,p):this._myTokenize(a,l,d,0,p)}_findLeavingNestedLanguageOffset(a,l){let d=this._lexer.tokenizer[l.stack.state];if(!d&&(d=I.findRules(this._lexer,l.stack.state),!d))throw I.createError(this._lexer,"tokenizer state is not defined: "+l.stack.state);let p=-1,h=!1;for(const g of d){if(!I.isIAction(g.action)||g.action.nextEmbedded!=="@pop")continue;h=!0;let C=g.resolveRegex(l.stack.state);const S=C.source;if(S.substr(0,4)==="^(?:"&&S.substr(S.length-1,1)===")"){const L=(C.ignoreCase?"i":"")+(C.unicode?"u":"");C=new RegExp(S.substr(4,S.length-5),L)}const _=a.search(C);_===-1||_!==0&&g.matchOnlyAtLineStart||(p===-1||_<p)&&(p=_)}if(!h)throw I.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+l.stack.state);return p}_nestedTokenize(a,l,d,p,h){const g=this._findLeavingNestedLanguageOffset(a,d);if(g===-1){const _=h.nestedLanguageTokenize(a,l,d.embeddedLanguageData,p);return o.create(d.stack,new s(d.embeddedLanguageData.languageId,_))}const C=a.substring(0,g);C.length>0&&h.nestedLanguageTokenize(C,!1,d.embeddedLanguageData,p);const S=a.substring(g);return this._myTokenize(S,l,d,p+g,h)}_safeRuleName(a){return a?a.name:"(unknown)"}_myTokenize(a,l,d,p,h){h.enterLanguage(this._languageId);const g=a.length,C=l&&this._lexer.includeLF?a+`
`:a,S=C.length;let _=d.embeddedLanguageData,L=d.stack,D=0,T=null,N=!0;for(;N||D<S;){const A=D,R=L.depth,M=T?T.groups.length:0,P=L.state;let x=null,O=null,B=null,H=null,K=null;if(T){x=T.matches;const U=T.groups.shift();O=U.matched,B=U.action,H=T.rule,T.groups.length===0&&(T=null)}else{if(!N&&D>=S)break;N=!1;let U=this._lexer.tokenizer[P];if(!U&&(U=I.findRules(this._lexer,P),!U))throw I.createError(this._lexer,"tokenizer state is not defined: "+P);const Y=C.substr(D);for(const Q of U)if((D===0||!Q.matchOnlyAtLineStart)&&(x=Y.match(Q.resolveRegex(P)),x)){O=x[0],B=Q.action;break}}if(x||(x=[""],O=""),B||(D<S&&(x=[C.charAt(D)],O=x[0]),B=this._lexer.defaultToken),O===null)break;for(D+=O.length;I.isFuzzyAction(B)&&I.isIAction(B)&&B.test;)B=B.test(O,x,P,D===S);let V=null;if(typeof B=="string"||Array.isArray(B))V=B;else if(B.group)V=B.group;else if(B.token!==null&&B.token!==void 0){if(B.tokenSubst?V=I.substituteMatches(this._lexer,B.token,O,x,P):V=B.token,B.nextEmbedded)if(B.nextEmbedded==="@pop"){if(!_)throw I.createError(this._lexer,"cannot pop embedded language if not inside one");_=null}else{if(_)throw I.createError(this._lexer,"cannot enter embedded language from within an embedded language");K=I.substituteMatches(this._lexer,B.nextEmbedded,O,x,P)}if(B.goBack&&(D=Math.max(0,D-B.goBack)),B.switchTo&&typeof B.switchTo=="string"){let U=I.substituteMatches(this._lexer,B.switchTo,O,x,P);if(U[0]==="@"&&(U=U.substr(1)),I.findRules(this._lexer,U))L=L.switchTo(U);else throw I.createError(this._lexer,"trying to switch to a state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}else{if(B.transform&&typeof B.transform=="function")throw I.createError(this._lexer,"action.transform not supported");if(B.next)if(B.next==="@push"){if(L.depth>=this._lexer.maxStack)throw I.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(P)}else if(B.next==="@pop"){if(L.depth<=1)throw I.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(H));L=L.pop()}else if(B.next==="@popall")L=L.popall();else{let U=I.substituteMatches(this._lexer,B.next,O,x,P);if(U[0]==="@"&&(U=U.substr(1)),I.findRules(this._lexer,U))L=L.push(U);else throw I.createError(this._lexer,"trying to set a next state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}}B.log&&typeof B.log=="string"&&I.log(this._lexer,this._lexer.languageId+": "+I.substituteMatches(this._lexer,B.log,O,x,P))}if(V===null)throw I.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(H));const j=U=>{const Y=this._languageService.getLanguageIdByLanguageName(U)||this._languageService.getLanguageIdByMimeType(U)||U,Q=this._getNestedEmbeddedLanguageData(Y);if(D<S){const Z=a.substr(D);return this._nestedTokenize(Z,l,o.create(L,Q),p+D,h)}else return o.create(L,Q)};if(Array.isArray(V)){if(T&&T.groups.length>0)throw I.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(H));if(x.length!==V.length+1)throw I.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(H));let U=0;for(let Y=1;Y<x.length;Y++)U+=x[Y].length;if(U!==O.length)throw I.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(H));T={rule:H,matches:x,groups:[]};for(let Y=0;Y<V.length;Y++)T.groups[Y]={action:V[Y],matched:x[Y+1]};D-=O.length;continue}else{if(V==="@rematch"&&(D-=O.length,O="",x=null,V="",K!==null))return j(K);if(O.length===0){if(S===0||R!==L.depth||P!==L.state||(T?T.groups.length:0)!==M)continue;throw I.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(H))}let U=null;if(I.isString(V)&&V.indexOf("@brackets")===0){const Y=V.substr(9),Q=u(this._lexer,O);if(!Q)throw I.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);U=I.sanitize(Q.token+Y)}else{const Y=V===""?"":V+this._lexer.tokenPostfix;U=I.sanitize(Y)}A<g&&h.emit(A+p,U)}if(K!==null)return j(K)}return o.create(L,_)}_getNestedEmbeddedLanguageData(a){if(!this._languageService.isRegisteredLanguageId(a))return new s(a,E.NullState);a!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(a),k.TokenizationRegistry.getOrCreate(a),this._embeddedLanguages[a]=!0);const l=k.TokenizationRegistry.get(a);return l?new s(a,l.getInitialState()):new s(a,E.NullState)}};e.MonarchTokenizer=c,e.MonarchTokenizer=c=m=ke([ge(4,y.IConfigurationService)],c);function u(r,a){if(!a)return null;a=I.fixCase(r,a);const l=r.brackets;for(const d of l){if(d.open===a)return{token:d.token,bracketType:1};if(d.close===a)return{token:d.token,bracketType:-1}}return null}}),define(re[675],ae([1,0,102,11,27,94,133,95,383]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const b=(0,f.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:i=>i});class v{static colorizeElement(n,c,u,r){r=r||{};const a=r.theme||"vs",l=r.mimeType||u.getAttribute("lang")||u.getAttribute("data-lang");if(!l)return console.error("Mode not detected"),Promise.resolve();const d=c.getLanguageIdByMimeType(l)||l;n.setTheme(a);const p=u.firstChild?u.firstChild.nodeValue:"";u.className+=" "+a;const h=g=>{var C;const S=(C=b?.createHTML(g))!==null&&C!==void 0?C:g;u.innerHTML=S};return this.colorize(c,p||"",d,r).then(h,g=>console.error(g))}static async colorize(n,c,u,r){const a=n.languageIdCodec;let l=4;r&&typeof r.tabSize=="number"&&(l=r.tabSize),k.startsWithUTF8BOM(c)&&(c=c.substr(1));const d=k.splitLines(c);if(!n.isRegisteredLanguageId(u))return o(d,l,a);const p=await E.TokenizationRegistry.getOrCreate(u);return p?s(d,l,p,a):o(d,l,a)}static colorizeLine(n,c,u,r,a=4){const l=m.ViewLineRenderingData.isBasicASCII(n,c),d=m.ViewLineRenderingData.containsRTL(n,l,u);return(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,n,!1,l,d,0,r,[],a,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(n,c,u=4){const r=n.getLineContent(c);n.tokenization.forceTokenization(c);const l=n.tokenization.getLineTokens(c).inflate();return this.colorizeLine(r,n.mightContainNonBasicASCII(),n.mightContainRTL(),l,u)}}e.Colorizer=v;function s(i,n,c,u){return new Promise((r,a)=>{const l=()=>{const d=t(i,n,c,u);if(c instanceof w.MonarchTokenizer){const p=c.getLoadStatus();if(p.loaded===!1){p.promise.then(l,a);return}}r(d)};l()})}function o(i,n,c){let u=[];const a=new Uint32Array(2);a[0]=0,a[1]=33587200;for(let l=0,d=i.length;l<d;l++){const p=i[l];a[0]=p.length;const h=new I.LineTokens(a,p,c),g=m.ViewLineRenderingData.isBasicASCII(p,!0),C=m.ViewLineRenderingData.containsRTL(p,g,!0),S=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,p,!1,g,C,0,h,[],n,0,0,0,0,-1,"none",!1,!1,null));u=u.concat(S.html),u.push("<br/>")}return u.join("")}function t(i,n,c,u){let r=[],a=c.getInitialState();for(let l=0,d=i.length;l<d;l++){const p=i[l],h=c.tokenizeEncoded(p,!0,a);I.LineTokens.convertToEndOffset(h.tokens,p.length);const g=new I.LineTokens(h.tokens,p,u),C=m.ViewLineRenderingData.isBasicASCII(p,!0),S=m.ViewLineRenderingData.containsRTL(p,C,!0),_=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,p,!1,C,S,0,g.inflate(),[],n,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(_.html),r.push("<br/>"),a=h.endState}return r.join("")}}),define(re[12],ae([1,0,16,11,666,7,3]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=e.Parser=void 0,e.expressionsAreEqualWithConstantSubstitution=l,e.implies=U;const m=new Map;m.set("false",!1),m.set("true",!0),m.set("isMac",f.isMacintosh),m.set("isLinux",f.isLinux),m.set("isWindows",f.isWindows),m.set("isWeb",f.isWeb),m.set("isMacNative",f.isMacintosh&&!f.isWeb),m.set("isEdge",f.isEdge),m.set("isFirefox",f.isFirefox),m.set("isChrome",f.isChrome),m.set("isSafari",f.isSafari);const w=Object.prototype.hasOwnProperty,b={regexParsingWithErrorRecovery:!0},v=(0,y.localize)(1638,"Empty context key expression"),s=(0,y.localize)(1639,"Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),o=(0,y.localize)(1640,"'in' after 'not'."),t=(0,y.localize)(1641,"closing parenthesis ')'"),i=(0,y.localize)(1642,"Unexpected token"),n=(0,y.localize)(1643,"Did you forget to put && or || before the token?"),c=(0,y.localize)(1644,"Unexpected end of expression"),u=(0,y.localize)(1645,"Did you forget to put a context key?");class r{constructor(G=b){this._config=G,this._scanner=new E.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(G){if(G===""){this._parsingErrors.push({message:v,offset:0,lexeme:"",additionalInfo:s});return}this._tokens=this._scanner.reset(G).scan(),this._current=0,this._parsingErrors=[];try{const F=this._expr();if(!this._isAtEnd()){const J=this._peek(),te=J.type===17?n:void 0;throw this._parsingErrors.push({message:i,offset:J.offset,lexeme:E.Scanner.getLexeme(J),additionalInfo:te}),r._parseError}return F}catch(F){if(F!==r._parseError)throw F;return}}_expr(){return this._or()}_or(){const G=[this._and()];for(;this._matchOne(16);){const F=this._and();G.push(F)}return G.length===1?G[0]:a.or(...G)}_and(){const G=[this._term()];for(;this._matchOne(15);){const F=this._term();G.push(F)}return G.length===1?G[0]:a.and(...G)}_term(){if(this._matchOne(2)){const G=this._peek();switch(G.type){case 11:return this._advance(),p.INSTANCE;case 12:return this._advance(),h.INSTANCE;case 0:{this._advance();const F=this._expr();return this._consume(1,t),F?.negate()}case 17:return this._advance(),D.create(G.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",G)}}return this._primary()}_primary(){const G=this._peek();switch(G.type){case 11:return this._advance(),a.true();case 12:return this._advance(),a.false();case 0:{this._advance();const F=this._expr();return this._consume(1,t),F}case 17:{const F=G.lexeme;if(this._advance(),this._matchOne(9)){const te=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),te.type!==10)throw this._errExpectedButGot("REGEX",te);const de=te.lexeme,he=de.lastIndexOf("/"),pe=he===de.length-1?void 0:this._removeFlagsGY(de.substring(he+1));let ue;try{ue=new RegExp(de.substring(1,he),pe)}catch{throw this._errExpectedButGot("REGEX",te)}return P.create(F,ue)}switch(te.type){case 10:case 19:{const de=[te.lexeme];this._advance();let he=this._peek(),pe=0;for(let W=0;W<te.lexeme.length;W++)te.lexeme.charCodeAt(W)===40?pe++:te.lexeme.charCodeAt(W)===41&&pe--;for(;!this._isAtEnd()&&he.type!==15&&he.type!==16;){switch(he.type){case 0:pe++;break;case 1:pe--;break;case 10:case 18:for(let W=0;W<he.lexeme.length;W++)he.lexeme.charCodeAt(W)===40?pe++:te.lexeme.charCodeAt(W)===41&&pe--}if(pe<0)break;de.push(E.Scanner.getLexeme(he)),this._advance(),he=this._peek()}const ue=de.join(""),ie=ue.lastIndexOf("/"),se=ie===ue.length-1?void 0:this._removeFlagsGY(ue.substring(ie+1));let ne;try{ne=new RegExp(ue.substring(1,ie),se)}catch{throw this._errExpectedButGot("REGEX",te)}return a.regex(F,ne)}case 18:{const de=te.lexeme;this._advance();let he=null;if(!(0,k.isFalsyOrWhitespace)(de)){const pe=de.indexOf("/"),ue=de.lastIndexOf("/");if(pe!==ue&&pe>=0){const ie=de.slice(pe+1,ue),se=de[ue+1]==="i"?"i":"";try{he=new RegExp(ie,se)}catch{throw this._errExpectedButGot("REGEX",te)}}}if(he===null)throw this._errExpectedButGot("REGEX",te);return P.create(F,he)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,o);const te=this._value();return a.notIn(F,te)}switch(this._peek().type){case 3:{this._advance();const te=this._value();if(this._previous().type===18)return a.equals(F,te);switch(te){case"true":return a.has(F);case"false":return a.not(F);default:return a.equals(F,te)}}case 4:{this._advance();const te=this._value();if(this._previous().type===18)return a.notEquals(F,te);switch(te){case"true":return a.not(F);case"false":return a.has(F);default:return a.notEquals(F,te)}}case 5:return this._advance(),R.create(F,this._value());case 6:return this._advance(),M.create(F,this._value());case 7:return this._advance(),N.create(F,this._value());case 8:return this._advance(),A.create(F,this._value());case 13:return this._advance(),a.in(F,this._value());default:return a.has(F)}}case 20:throw this._parsingErrors.push({message:c,offset:G.offset,lexeme:"",additionalInfo:u}),r._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const G=this._peek();switch(G.type){case 17:case 18:return this._advance(),G.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(G){return G.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(G){return this._check(G)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(G,F){if(this._check(G))return this._advance();throw this._errExpectedButGot(F,this._peek())}_errExpectedButGot(G,F,J){const te=(0,y.localize)(1646,`Expected: {0}
Received: '{1}'.`,G,E.Scanner.getLexeme(F)),de=F.offset,he=E.Scanner.getLexeme(F);return this._parsingErrors.push({message:te,offset:de,lexeme:he,additionalInfo:J}),r._parseError}_check(G){return this._peek().type===G}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=r,r._parseError=new Error;class a{static false(){return p.INSTANCE}static true(){return h.INSTANCE}static has(G){return g.create(G)}static equals(G,F){return C.create(G,F)}static notEquals(G,F){return L.create(G,F)}static regex(G,F){return P.create(G,F)}static in(G,F){return S.create(G,F)}static notIn(G,F){return _.create(G,F)}static not(G){return D.create(G)}static and(...G){return B.create(G,null,!0)}static or(...G){return H.create(G,null,!0)}static deserialize(G){return G==null?void 0:this._parser.parse(G)}}e.ContextKeyExpr=a,a._parser=new r({regexParsingWithErrorRecovery:!1});function l(Z,G){const F=Z?Z.substituteConstants():void 0,J=G?G.substituteConstants():void 0;return!F&&!J?!0:!F||!J?!1:F.equals(J)}function d(Z,G){return Z.cmp(G)}class p{constructor(){this.type=0}cmp(G){return this.type-G.type}equals(G){return G.type===this.type}substituteConstants(){return this}evaluate(G){return!1}serialize(){return"false"}keys(){return[]}negate(){return h.INSTANCE}}e.ContextKeyFalseExpr=p,p.INSTANCE=new p;class h{constructor(){this.type=1}cmp(G){return this.type-G.type}equals(G){return G.type===this.type}substituteConstants(){return this}evaluate(G){return!0}serialize(){return"true"}keys(){return[]}negate(){return p.INSTANCE}}e.ContextKeyTrueExpr=h,h.INSTANCE=new h;class g{static create(G,F=null){const J=m.get(G);return typeof J=="boolean"?J?h.INSTANCE:p.INSTANCE:new g(G,F)}constructor(G,F){this.key=G,this.negated=F,this.type=2}cmp(G){return G.type!==this.type?this.type-G.type:V(this.key,G.key)}equals(G){return G.type===this.type?this.key===G.key:!1}substituteConstants(){const G=m.get(this.key);return typeof G=="boolean"?G?h.INSTANCE:p.INSTANCE:this}evaluate(G){return!!G.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=D.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=g;class C{static create(G,F,J=null){if(typeof F=="boolean")return F?g.create(G,J):D.create(G,J);const te=m.get(G);return typeof te=="boolean"?F===(te?"true":"false")?h.INSTANCE:p.INSTANCE:new C(G,F,J)}constructor(G,F,J){this.key=G,this.value=F,this.negated=J,this.type=4}cmp(G){return G.type!==this.type?this.type-G.type:j(this.key,this.value,G.key,G.value)}equals(G){return G.type===this.type?this.key===G.key&&this.value===G.value:!1}substituteConstants(){const G=m.get(this.key);if(typeof G=="boolean"){const F=G?"true":"false";return this.value===F?h.INSTANCE:p.INSTANCE}return this}evaluate(G){return G.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=C;class S{static create(G,F){return new S(G,F)}constructor(G,F){this.key=G,this.valueKey=F,this.type=10,this.negated=null}cmp(G){return G.type!==this.type?this.type-G.type:j(this.key,this.valueKey,G.key,G.valueKey)}equals(G){return G.type===this.type?this.key===G.key&&this.valueKey===G.valueKey:!1}substituteConstants(){return this}evaluate(G){const F=G.getValue(this.valueKey),J=G.getValue(this.key);return Array.isArray(F)?F.includes(J):typeof J=="string"&&typeof F=="object"&&F!==null?w.call(F,J):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=_.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=S;class _{static create(G,F){return new _(G,F)}constructor(G,F){this.key=G,this.valueKey=F,this.type=11,this._negated=S.create(G,F)}cmp(G){return G.type!==this.type?this.type-G.type:this._negated.cmp(G._negated)}equals(G){return G.type===this.type?this._negated.equals(G._negated):!1}substituteConstants(){return this}evaluate(G){return!this._negated.evaluate(G)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=_;class L{static create(G,F,J=null){if(typeof F=="boolean")return F?D.create(G,J):g.create(G,J);const te=m.get(G);return typeof te=="boolean"?F===(te?"true":"false")?p.INSTANCE:h.INSTANCE:new L(G,F,J)}constructor(G,F,J){this.key=G,this.value=F,this.negated=J,this.type=5}cmp(G){return G.type!==this.type?this.type-G.type:j(this.key,this.value,G.key,G.value)}equals(G){return G.type===this.type?this.key===G.key&&this.value===G.value:!1}substituteConstants(){const G=m.get(this.key);if(typeof G=="boolean"){const F=G?"true":"false";return this.value===F?p.INSTANCE:h.INSTANCE}return this}evaluate(G){return G.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=L;class D{static create(G,F=null){const J=m.get(G);return typeof J=="boolean"?J?p.INSTANCE:h.INSTANCE:new D(G,F)}constructor(G,F){this.key=G,this.negated=F,this.type=3}cmp(G){return G.type!==this.type?this.type-G.type:V(this.key,G.key)}equals(G){return G.type===this.type?this.key===G.key:!1}substituteConstants(){const G=m.get(this.key);return typeof G=="boolean"?G?p.INSTANCE:h.INSTANCE:this}evaluate(G){return!G.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=D;function T(Z,G){if(typeof Z=="string"){const F=parseFloat(Z);isNaN(F)||(Z=F)}return typeof Z=="string"||typeof Z=="number"?G(Z):p.INSTANCE}class N{static create(G,F,J=null){return T(F,te=>new N(G,te,J))}constructor(G,F,J){this.key=G,this.value=F,this.negated=J,this.type=12}cmp(G){return G.type!==this.type?this.type-G.type:j(this.key,this.value,G.key,G.value)}equals(G){return G.type===this.type?this.key===G.key&&this.value===G.value:!1}substituteConstants(){return this}evaluate(G){return typeof this.value=="string"?!1:parseFloat(G.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=N;class A{static create(G,F,J=null){return T(F,te=>new A(G,te,J))}constructor(G,F,J){this.key=G,this.value=F,this.negated=J,this.type=13}cmp(G){return G.type!==this.type?this.type-G.type:j(this.key,this.value,G.key,G.value)}equals(G){return G.type===this.type?this.key===G.key&&this.value===G.value:!1}substituteConstants(){return this}evaluate(G){return typeof this.value=="string"?!1:parseFloat(G.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=A;class R{static create(G,F,J=null){return T(F,te=>new R(G,te,J))}constructor(G,F,J){this.key=G,this.value=F,this.negated=J,this.type=14}cmp(G){return G.type!==this.type?this.type-G.type:j(this.key,this.value,G.key,G.value)}equals(G){return G.type===this.type?this.key===G.key&&this.value===G.value:!1}substituteConstants(){return this}evaluate(G){return typeof this.value=="string"?!1:parseFloat(G.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=R;class M{static create(G,F,J=null){return T(F,te=>new M(G,te,J))}constructor(G,F,J){this.key=G,this.value=F,this.negated=J,this.type=15}cmp(G){return G.type!==this.type?this.type-G.type:j(this.key,this.value,G.key,G.value)}equals(G){return G.type===this.type?this.key===G.key&&this.value===G.value:!1}substituteConstants(){return this}evaluate(G){return typeof this.value=="string"?!1:parseFloat(G.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=M;class P{static create(G,F){return new P(G,F)}constructor(G,F){this.key=G,this.regexp=F,this.type=7,this.negated=null}cmp(G){if(G.type!==this.type)return this.type-G.type;if(this.key<G.key)return-1;if(this.key>G.key)return 1;const F=this.regexp?this.regexp.source:"",J=G.regexp?G.regexp.source:"";return F<J?-1:F>J?1:0}equals(G){if(G.type===this.type){const F=this.regexp?this.regexp.source:"",J=G.regexp?G.regexp.source:"";return this.key===G.key&&F===J}return!1}substituteConstants(){return this}evaluate(G){const F=G.getValue(this.key);return this.regexp?this.regexp.test(F):!1}serialize(){const G=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${G}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}e.ContextKeyRegexExpr=P;class x{static create(G){return new x(G)}constructor(G){this._actual=G,this.type=8}cmp(G){return G.type!==this.type?this.type-G.type:this._actual.cmp(G._actual)}equals(G){return G.type===this.type?this._actual.equals(G._actual):!1}substituteConstants(){return this}evaluate(G){return!this._actual.evaluate(G)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=x;function O(Z){let G=null;for(let F=0,J=Z.length;F<J;F++){const te=Z[F].substituteConstants();if(Z[F]!==te&&G===null){G=[];for(let de=0;de<F;de++)G[de]=Z[de]}G!==null&&(G[F]=te)}return G===null?Z:G}class B{static create(G,F,J){return B._normalizeArr(G,F,J)}constructor(G,F){this.expr=G,this.negated=F,this.type=6}cmp(G){if(G.type!==this.type)return this.type-G.type;if(this.expr.length<G.expr.length)return-1;if(this.expr.length>G.expr.length)return 1;for(let F=0,J=this.expr.length;F<J;F++){const te=d(this.expr[F],G.expr[F]);if(te!==0)return te}return 0}equals(G){if(G.type===this.type){if(this.expr.length!==G.expr.length)return!1;for(let F=0,J=this.expr.length;F<J;F++)if(!this.expr[F].equals(G.expr[F]))return!1;return!0}return!1}substituteConstants(){const G=O(this.expr);return G===this.expr?this:B.create(G,this.negated,!1)}evaluate(G){for(let F=0,J=this.expr.length;F<J;F++)if(!this.expr[F].evaluate(G))return!1;return!0}static _normalizeArr(G,F,J){const te=[];let de=!1;for(const he of G)if(he){if(he.type===1){de=!0;continue}if(he.type===0)return p.INSTANCE;if(he.type===6){te.push(...he.expr);continue}te.push(he)}if(te.length===0&&de)return h.INSTANCE;if(te.length!==0){if(te.length===1)return te[0];te.sort(d);for(let he=1;he<te.length;he++)te[he-1].equals(te[he])&&(te.splice(he,1),he--);if(te.length===1)return te[0];for(;te.length>1;){const he=te[te.length-1];if(he.type!==9)break;te.pop();const pe=te.pop(),ue=te.length===0,ie=H.create(he.expr.map(se=>B.create([se,pe],null,J)),null,ue);ie&&(te.push(ie),te.sort(d))}if(te.length===1)return te[0];if(J){for(let he=0;he<te.length;he++)for(let pe=he+1;pe<te.length;pe++)if(te[he].negate().equals(te[pe]))return p.INSTANCE;if(te.length===1)return te[0]}return new B(te,F)}}serialize(){return this.expr.map(G=>G.serialize()).join(" && ")}keys(){const G=[];for(const F of this.expr)G.push(...F.keys());return G}negate(){if(!this.negated){const G=[];for(const F of this.expr)G.push(F.negate());this.negated=H.create(G,this,!0)}return this.negated}}e.ContextKeyAndExpr=B;class H{static create(G,F,J){return H._normalizeArr(G,F,J)}constructor(G,F){this.expr=G,this.negated=F,this.type=9}cmp(G){if(G.type!==this.type)return this.type-G.type;if(this.expr.length<G.expr.length)return-1;if(this.expr.length>G.expr.length)return 1;for(let F=0,J=this.expr.length;F<J;F++){const te=d(this.expr[F],G.expr[F]);if(te!==0)return te}return 0}equals(G){if(G.type===this.type){if(this.expr.length!==G.expr.length)return!1;for(let F=0,J=this.expr.length;F<J;F++)if(!this.expr[F].equals(G.expr[F]))return!1;return!0}return!1}substituteConstants(){const G=O(this.expr);return G===this.expr?this:H.create(G,this.negated,!1)}evaluate(G){for(let F=0,J=this.expr.length;F<J;F++)if(this.expr[F].evaluate(G))return!0;return!1}static _normalizeArr(G,F,J){let te=[],de=!1;if(G){for(let he=0,pe=G.length;he<pe;he++){const ue=G[he];if(ue){if(ue.type===0){de=!0;continue}if(ue.type===1)return h.INSTANCE;if(ue.type===9){te=te.concat(ue.expr);continue}te.push(ue)}}if(te.length===0&&de)return p.INSTANCE;te.sort(d)}if(te.length!==0){if(te.length===1)return te[0];for(let he=1;he<te.length;he++)te[he-1].equals(te[he])&&(te.splice(he,1),he--);if(te.length===1)return te[0];if(J){for(let he=0;he<te.length;he++)for(let pe=he+1;pe<te.length;pe++)if(te[he].negate().equals(te[pe]))return h.INSTANCE;if(te.length===1)return te[0]}return new H(te,F)}}serialize(){return this.expr.map(G=>G.serialize()).join(" || ")}keys(){const G=[];for(const F of this.expr)G.push(...F.keys());return G}negate(){if(!this.negated){const G=[];for(const F of this.expr)G.push(F.negate());for(;G.length>1;){const F=G.shift(),J=G.shift(),te=[];for(const de of Q(F))for(const he of Q(J))te.push(B.create([de,he],null,!1));G.unshift(H.create(te,null,!1))}this.negated=H.create(G,this,!0)}return this.negated}}e.ContextKeyOrExpr=H;class K extends g{static all(){return K._info.values()}constructor(G,F,J){super(G,null),this._defaultValue=F,typeof J=="object"?K._info.push({...J,key:G}):J!==!0&&K._info.push({key:G,description:J,type:F!=null?typeof F:void 0})}bindTo(G){return G.createKey(this.key,this._defaultValue)}getValue(G){return G.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(G){return C.create(this.key,G)}}e.RawContextKey=K,K._info=[],e.IContextKeyService=(0,I.createDecorator)("contextKeyService");function V(Z,G){return Z<G?-1:Z>G?1:0}function j(Z,G,F,J){return Z<F?-1:Z>F?1:G<J?-1:G>J?1:0}function U(Z,G){if(Z.type===0||G.type===1)return!0;if(Z.type===9)return G.type===9?Y(Z.expr,G.expr):!1;if(G.type===9){for(const F of G.expr)if(U(Z,F))return!0;return!1}if(Z.type===6){if(G.type===6)return Y(G.expr,Z.expr);for(const F of Z.expr)if(U(F,G))return!0;return!1}return Z.equals(G)}function Y(Z,G){let F=0,J=0;for(;F<Z.length&&J<G.length;){const te=Z[F].cmp(G[J]);if(te<0)return!1;te===0&&F++,J++}return F===Z.length}function Q(Z){return Z.type===9?Z.expr:[Z]}}),define(re[20],ae([1,0,3,12]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var E;(function(I){I.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),I.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,f.localize(1780,"Whether the editor text has focus (cursor is blinking)")),I.focus=new k.RawContextKey("editorFocus",!1,f.localize(1781,"Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),I.textInputFocus=new k.RawContextKey("textInputFocus",!1,f.localize(1782,"Whether an editor or a rich text input has focus (cursor is blinking)")),I.readOnly=new k.RawContextKey("editorReadonly",!1,f.localize(1783,"Whether the editor is read-only")),I.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,f.localize(1784,"Whether the context is a diff editor")),I.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,f.localize(1785,"Whether the context is an embedded diff editor")),I.inMultiDiffEditor=new k.RawContextKey("inMultiDiffEditor",!1,f.localize(1786,"Whether the context is a multi diff editor")),I.multiDiffEditorAllCollapsed=new k.RawContextKey("multiDiffEditorAllCollapsed",void 0,f.localize(1787,"Whether all files in multi diff editor are collapsed")),I.hasChanges=new k.RawContextKey("diffEditorHasChanges",!1,f.localize(1788,"Whether the diff editor has changes")),I.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,f.localize(1789,"Whether a moved code block is selected for comparison")),I.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,f.localize(1790,"Whether the accessible diff viewer is visible")),I.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,f.localize(1791,"Whether the diff editor render side by side inline breakpoint is reached")),I.diffEditorInlineMode=new k.RawContextKey("diffEditorInlineMode",!1,f.localize(1792,"Whether inline mode is active")),I.diffEditorOriginalWritable=new k.RawContextKey("diffEditorOriginalWritable",!1,f.localize(1793,"Whether modified is writable in the diff editor")),I.diffEditorModifiedWritable=new k.RawContextKey("diffEditorModifiedWritable",!1,f.localize(1794,"Whether modified is writable in the diff editor")),I.diffEditorOriginalUri=new k.RawContextKey("diffEditorOriginalUri","",f.localize(1795,"The uri of the original document")),I.diffEditorModifiedUri=new k.RawContextKey("diffEditorModifiedUri","",f.localize(1796,"The uri of the modified document")),I.columnSelection=new k.RawContextKey("editorColumnSelection",!1,f.localize(1797,"Whether `editor.columnSelection` is enabled")),I.writable=I.readOnly.toNegated(),I.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,f.localize(1798,"Whether the editor has text selected")),I.hasOnlyEmptySelection=I.hasNonEmptySelection.toNegated(),I.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,f.localize(1799,"Whether the editor has multiple selections")),I.hasSingleSelection=I.hasMultipleSelections.toNegated(),I.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,f.localize(1800,"Whether `Tab` will move focus out of the editor")),I.tabDoesNotMoveFocus=I.tabMovesFocus.toNegated(),I.isInEmbeddedEditor=new k.RawContextKey("isInEmbeddedEditor",!1,!0),I.canUndo=new k.RawContextKey("canUndo",!1,!0),I.canRedo=new k.RawContextKey("canRedo",!1,!0),I.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,f.localize(1801,"Whether the editor hover is visible")),I.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,f.localize(1802,"Whether the editor hover is focused")),I.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,f.localize(1803,"Whether the sticky scroll is focused")),I.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,f.localize(1804,"Whether the sticky scroll is visible")),I.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,f.localize(1805,"Whether the standalone color picker is visible")),I.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,f.localize(1806,"Whether the standalone color picker is focused")),I.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,f.localize(1807,"Whether the editor is part of a larger editor (e.g. notebooks)")),I.notInCompositeEditor=I.inCompositeEditor.toNegated(),I.languageId=new k.RawContextKey("editorLangId","",f.localize(1808,"The language identifier of the editor")),I.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,f.localize(1809,"Whether the editor has a completion item provider")),I.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,f.localize(1810,"Whether the editor has a code actions provider")),I.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,f.localize(1811,"Whether the editor has a code lens provider")),I.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,f.localize(1812,"Whether the editor has a definition provider")),I.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,f.localize(1813,"Whether the editor has a declaration provider")),I.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,f.localize(1814,"Whether the editor has an implementation provider")),I.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,f.localize(1815,"Whether the editor has a type definition provider")),I.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,f.localize(1816,"Whether the editor has a hover provider")),I.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,f.localize(1817,"Whether the editor has a document highlight provider")),I.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,f.localize(1818,"Whether the editor has a document symbol provider")),I.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,f.localize(1819,"Whether the editor has a reference provider")),I.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,f.localize(1820,"Whether the editor has a rename provider")),I.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,f.localize(1821,"Whether the editor has a signature help provider")),I.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,f.localize(1822,"Whether the editor has an inline hints provider")),I.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,f.localize(1823,"Whether the editor has a document formatting provider")),I.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,f.localize(1824,"Whether the editor has a document selection formatting provider")),I.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,f.localize(1825,"Whether the editor has multiple document formatting providers")),I.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,f.localize(1826,"Whether the editor has multiple document selection formatting providers"))})(E||(e.EditorContextKeys=E={}))}),define(re[266],ae([1,0,21,11,93,12,2,3]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class w extends y.Disposable{constructor(v,s){super(),this.contextKeyService=v,this.model=s,this.inlineCompletionVisible=w.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=w.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=w.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=w.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,f.autorun)(o=>{const t=this.model.read(o),i=t?.state.read(o),n=!!i?.inlineCompletion&&i?.primaryGhostText!==void 0&&!i?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(n),i?.primaryGhostText&&i?.inlineCompletion&&this.suppressSuggestions.set(i.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,f.autorun)(o=>{const t=this.model.read(o);let i=!1,n=!0;const c=t?.primaryGhostText.read(o);if(t?.selectedSuggestItem&&c&&c.parts.length>0){const{column:u,lines:r}=c.parts[0],a=r[0],l=t.textModel.getLineIndentColumn(c.lineNumber);if(u<=l){let p=(0,k.firstNonWhitespaceIndex)(a);p===-1&&(p=a.length-1),i=p>0;const h=t.textModel.getOptions().tabSize;n=E.CursorColumns.visibleColumnFromColumn(a,p+1,h)<h}}this.inlineCompletionSuggestsIndentation.set(i),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}))}}e.InlineCompletionContextKeys=w,w.inlineSuggestionVisible=new I.RawContextKey("inlineSuggestionVisible",!1,(0,m.localize)(406,"Whether an inline suggestion is visible")),w.inlineSuggestionHasIndentation=new I.RawContextKey("inlineSuggestionHasIndentation",!1,(0,m.localize)(407,"Whether the inline suggestion starts with whitespace")),w.inlineSuggestionHasIndentationLessThanTabSize=new I.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,m.localize)(408,"Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),w.suppressSuggestions=new I.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,m.localize)(409,"Whether suggestions should be suppressed for the current suggestion"))}),define(re[384],ae([1,0,3,12]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPinnedContextKey=e.inlineEditVisible=e.showNextInlineEditActionId=e.showPreviousInlineEditActionId=e.inlineEditAcceptId=void 0,e.inlineEditAcceptId="editor.action.inlineEdits.accept",e.showPreviousInlineEditActionId="editor.action.inlineEdits.showPrevious",e.showNextInlineEditActionId="editor.action.inlineEdits.showNext",e.inlineEditVisible=new k.RawContextKey("inlineEditsVisible",!1,(0,f.localize)(465,"Whether an inline edit is visible")),e.isPinnedContextKey=new k.RawContextKey("inlineEditsIsPinned",!1,(0,f.localize)(466,"Whether an inline edit is visible"))}),define(re[267],ae([1,0,18,8,19,22,9,27,17,77,24,12]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0,e.provideSignatureHelp=o,e.Context={Visible:new s.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new s.RawContextKey("parameterHintsMultipleSignatures",!1)};async function o(t,i,n,c,u){const r=t.ordered(i);for(const a of r)try{const l=await a.provideSignatureHelp(i,n,u,c);if(l)return l}catch(l){(0,k.onUnexpectedExternalError)(l)}}v.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async(t,...i)=>{const[n,c,u]=i;(0,E.assertType)(I.URI.isUri(n)),(0,E.assertType)(y.Position.isIPosition(c)),(0,E.assertType)(typeof u=="string"||!u);const r=t.get(w.ILanguageFeaturesService),a=await t.get(b.ITextModelService).createModelReference(n);try{const l=await o(r.signatureHelpProvider,a.object.textEditorModel,y.Position.lift(c),{triggerKind:m.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:u},f.CancellationToken.None);return l?(setTimeout(()=>l.dispose(),0),l.value):void 0}finally{a.dispose()}})}),define(re[676],ae([1,0,14,8,6,2,141,27,267]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var b;(function(o){o.Default={type:0};class t{constructor(c,u){this.request=c,this.previouslyActiveHints=u,this.type=2}}o.Pending=t;class i{constructor(c){this.hints=c,this.type=1}}o.Active=i})(b||(b={}));class v extends I.Disposable{constructor(t,i,n=v.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new E.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=b.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new I.MutableDisposable),this.triggerChars=new y.CharacterSet,this.retriggerChars=new y.CharacterSet,this.triggerId=0,this.editor=t,this.providers=i,this.throttledDelayer=new f.Delayer(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(c=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(c=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(c=>this.onCursorChange(c))),this._register(this.editor.onDidChangeModelContent(c=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(c=>this.onDidType(c))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=b.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,i){const n=this.editor.getModel();if(!n||!this.providers.has(n))return;const c=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(c),i).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,i=this.state.hints.activeSignature,n=i%t===t-1,c=this.editor.getOption(86).cycle;if((t<2||n)&&!c){this.cancel();return}this.updateActiveSignature(n&&c?0:i+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,i=this.state.hints.activeSignature,n=i===0,c=this.editor.getOption(86).cycle;if((t<2||n)&&!c){this.cancel();return}this.updateActiveSignature(n&&c?t-1:i-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new b.Active({...this.state.hints,activeSignature:t}),this._onChangedHints.fire(this.state.hints))}async doTrigger(t){const i=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const c=this._pendingTriggers.reduce(s);this._pendingTriggers=[];const u={triggerKind:c.triggerKind,triggerCharacter:c.triggerCharacter,isRetrigger:i,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),a=this.editor.getPosition();this.state=new b.Pending((0,f.createCancelablePromise)(l=>(0,w.provideSignatureHelp)(this.providers,r,a,u,l)),n);try{const l=await this.state.request;return t!==this.triggerId?(l?.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new b.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return t===this.triggerId&&(this.state=b.Default),(0,k.onUnexpectedError)(l),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const t=this.editor.getModel();if(t)for(const i of this.providers.ordered(t)){for(const n of i.signatureHelpTriggerCharacters||[])if(n.length){const c=n.charCodeAt(0);this.triggerChars.add(c),this.retriggerChars.add(c)}for(const n of i.signatureHelpRetriggerCharacters||[])n.length&&this.retriggerChars.add(n.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const i=t.length-1,n=t.charCodeAt(i);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:t.charAt(i)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=v,v.DEFAULT_DELAY=120;function s(o,t){switch(t.triggerKind){case m.SignatureHelpTriggerKind.Invoke:return t;case m.SignatureHelpTriggerKind.ContentChange:return o;case m.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}}),define(re[677],ae([1,0,12]),function(le,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let E=k=class{constructor(y,m){this._editor=y,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(m)}dispose(){this.reset()}reset(){var y;this._ckOtherSuggestions.reset(),(y=this._listener)===null||y===void 0||y.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:y,index:m},w){if(y.items.length===0){this.reset();return}if(k._moveIndex(!0,y,m)===m){this.reset();return}this._acceptNext=w,this._model=y,this._index=m,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(y,m,w){let b=w;for(let v=m.items.length;v>0&&(b=(b+m.items.length+(y?1:-1))%m.items.length,!(b===w||!m.items[b].completion.additionalTextEdits));v--);return b}next(){this._move(!0)}prev(){this._move(!1)}_move(y){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(y,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=E,E.OtherSuggestions=new f.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=E=k=ke([ge(1,f.IContextKeyService)],E)}),define(re[678],ae([1,0,12]),function(le,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let E=k=class{constructor(y,m){this._editor=y,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(m),this._configListener=this._editor.onDidChangeConfiguration(w=>w.hasChanged(124)&&this._update()),this._update()}dispose(){var y;this._configListener.dispose(),(y=this._selectionListener)===null||y===void 0||y.dispose(),this._ckAtEnd.reset()}_update(){const y=this._editor.getOption(124)==="on";if(this._enabled!==y)if(this._enabled=y,this._enabled){const m=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const w=this._editor.getModel(),b=this._editor.getSelection(),v=w.getWordAtPosition(b.getStartPosition());if(!v){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(v.endColumn===b.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(m),m()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=E,E.AtEnd=new f.RawContextKey("atEndOfWord",!1),e.WordContextKey=E=k=ke([ge(1,f.IContextKeyService)],E)}),define(re[60],ae([1,0,12,7]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new f.RawContextKey("accessibilityModeEnabled",!1)}),define(re[679],ae([1,0,65,13,6,2,54,16,317,370,556,239,37,165,261,60,4,229]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let r=class extends I.Disposable{constructor(S,_,L,D,T){super(),this._accessibilityService=T,this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new E.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new o.ComputeOptionsMemory,this.isSimpleWidget=S,this.contextMenuId=_,this._containerObserver=this._register(new w.ElementSizeObserver(D,L.dimension)),this._targetWindowId=(0,c.getWindow)(D).vscodeWindowId,this._rawOptions=g(L),this._validatedOptions=h.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(t.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(s.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(b.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(u.PixelRatio.getInstance((0,c.getWindow)(D)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const S=this._computeOptions(),_=h.checkEquals(this.options,S);_!==null&&(this.options=S,this._onDidChangeFast.fire(_),this._onDidChange.fire(_))}_computeOptions(){const S=this._readEnvConfiguration(),_=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,S.pixelRatio,this.isSimpleWidget),L=this._readFontInfo(_),D={memory:this._computeOptionsMemory,outerWidth:S.outerWidth,outerHeight:S.outerHeight-this._reservedHeight,fontInfo:L,extraEditorClassName:S.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:S.emptySelectionClipboard,pixelRatio:S.pixelRatio,tabFocusMode:s.TabFocus.getTabFocusMode(),accessibilitySupport:S.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return h.computeOptions(this._validatedOptions,D)}_readEnvConfiguration(){return{extraEditorClassName:l(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:f.isWebKit||f.isFirefox,pixelRatio:u.PixelRatio.getInstance((0,c.getWindowById)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(S){return b.FontMeasurements.readFontInfo((0,c.getWindowById)(this._targetWindowId,!0).window,S)}getRawOptions(){return this._rawOptions}updateOptions(S){const _=g(S);h.applyUpdate(this._rawOptions,_)&&(this._validatedOptions=h.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(S){this._containerObserver.observe(S)}setIsDominatedByLongLines(S){this._isDominatedByLongLines!==S&&(this._isDominatedByLongLines=S,this._recomputeOptions())}setModelLineCount(S){const _=a(S);this._lineNumbersDigitCount!==_&&(this._lineNumbersDigitCount=_,this._recomputeOptions())}setViewLineCount(S){this._viewLineCount!==S&&(this._viewLineCount=S,this._recomputeOptions())}setReservedHeight(S){this._reservedHeight!==S&&(this._reservedHeight=S,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(S){this._glyphMarginDecorationLaneCount!==S&&(this._glyphMarginDecorationLaneCount=S,this._recomputeOptions())}};e.EditorConfiguration=r,e.EditorConfiguration=r=ke([ge(4,n.IAccessibilityService)],r);function a(C){let S=0;for(;C;)C=Math.floor(C/10),S++;return S||1}function l(){let C="";return!f.isSafari&&!f.isWebkitWebView&&(C+="no-user-select "),f.isSafari&&(C+="no-minimap-shadow ",C+="enable-user-select "),m.isMacintosh&&(C+="mac "),C}class d{constructor(){this._values=[]}_read(S){return this._values[S]}get(S){return this._values[S]}_write(S,_){this._values[S]=_}}class p{constructor(){this._values=[]}_read(S){if(S>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[S]}get(S){return this._read(S)}_write(S,_){this._values[S]=_}}e.ComputedEditorOptions=p;class h{static validateOptions(S){const _=new d;for(const L of o.editorOptionsRegistry){const D=L.name==="_never_"?void 0:S[L.name];_._write(L.id,L.validate(D))}return _}static computeOptions(S,_){const L=new p;for(const D of o.editorOptionsRegistry)L._write(D.id,D.compute(_,L,S._read(D.id)));return L}static _deepEquals(S,_){if(typeof S!="object"||typeof _!="object"||!S||!_)return S===_;if(Array.isArray(S)||Array.isArray(_))return Array.isArray(S)&&Array.isArray(_)?k.equals(S,_):!1;if(Object.keys(S).length!==Object.keys(_).length)return!1;for(const L in S)if(!h._deepEquals(S[L],_[L]))return!1;return!0}static checkEquals(S,_){const L=[];let D=!1;for(const T of o.editorOptionsRegistry){const N=!h._deepEquals(S._read(T.id),_._read(T.id));L[T.id]=N,N&&(D=!0)}return D?new o.ConfigurationChangedEvent(L):null}static applyUpdate(S,_){let L=!1;for(const D of o.editorOptionsRegistry)if(_.hasOwnProperty(D.name)){const T=D.applyUpdate(S[D.name],_[D.name]);S[D.name]=T.newValue,L=L||T.didChange}return L}}function g(C){const S=y.deepClone(C);return(0,v.migrateOptions)(S),S}}),define(re[680],ae([1,0,21,320,37,60]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;let y=class{get editorOptions(){return this._options}constructor(b,v){this._accessibilityService=v,this._diffEditorWidth=(0,f.observableValue)(this,0),this._screenReaderMode=(0,f.observableFromEvent)(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=(0,f.derived)(this,o=>this._options.read(o).renderSideBySide&&this._diffEditorWidth.read(o)<=this._options.read(o).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,f.derived)(this,o=>this._options.read(o).renderOverviewRuler),this.renderSideBySide=(0,f.derived)(this,o=>this._options.read(o).renderSideBySide&&!(this._options.read(o).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(o)&&!this._screenReaderMode.read(o))),this.readOnly=(0,f.derived)(this,o=>this._options.read(o).readOnly),this.shouldRenderOldRevertArrows=(0,f.derived)(this,o=>!(!this._options.read(o).renderMarginRevertIcon||!this.renderSideBySide.read(o)||this.readOnly.read(o)||this.shouldRenderGutterMenu.read(o))),this.shouldRenderGutterMenu=(0,f.derived)(this,o=>this._options.read(o).renderGutterMenu),this.renderIndicators=(0,f.derived)(this,o=>this._options.read(o).renderIndicators),this.enableSplitViewResizing=(0,f.derived)(this,o=>this._options.read(o).enableSplitViewResizing),this.splitViewDefaultRatio=(0,f.derived)(this,o=>this._options.read(o).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,f.derived)(this,o=>this._options.read(o).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,f.derived)(this,o=>this._options.read(o).maxComputationTime),this.showMoves=(0,f.derived)(this,o=>this._options.read(o).experimental.showMoves&&this.renderSideBySide.read(o)),this.isInEmbeddedEditor=(0,f.derived)(this,o=>this._options.read(o).isInEmbeddedEditor),this.diffWordWrap=(0,f.derived)(this,o=>this._options.read(o).diffWordWrap),this.originalEditable=(0,f.derived)(this,o=>this._options.read(o).originalEditable),this.diffCodeLens=(0,f.derived)(this,o=>this._options.read(o).diffCodeLens),this.accessibilityVerbose=(0,f.derived)(this,o=>this._options.read(o).accessibilityVerbose),this.diffAlgorithm=(0,f.derived)(this,o=>this._options.read(o).diffAlgorithm),this.showEmptyDecorations=(0,f.derived)(this,o=>this._options.read(o).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,f.derived)(this,o=>this._options.read(o).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,f.derived)(this,o=>this._options.read(o).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,f.derived)(this,o=>this._options.read(o).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,f.derived)(this,o=>this._options.read(o).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,f.derived)(this,o=>this._options.read(o).hideUnchangedRegions.minimumLineCount);const s={...b,...m(b,k.diffEditorDefaultOptions)};this._options=(0,f.observableValue)(this,s)}updateOptions(b){const v=m(b,this._options.get()),s={...this._options.get(),...b,...v};this._options.set(s,void 0,{changedOptions:b})}setWidth(b){this._diffEditorWidth.set(b,void 0)}};e.DiffEditorOptions=y,e.DiffEditorOptions=y=ke([ge(1,I.IAccessibilityService)],y);function m(w,b){var v,s,o,t,i,n,c,u;return{enableSplitViewResizing:(0,E.boolean)(w.enableSplitViewResizing,b.enableSplitViewResizing),splitViewDefaultRatio:(0,E.clampedFloat)(w.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,E.boolean)(w.renderSideBySide,b.renderSideBySide),renderMarginRevertIcon:(0,E.boolean)(w.renderMarginRevertIcon,b.renderMarginRevertIcon),maxComputationTime:(0,E.clampedInt)(w.maxComputationTime,b.maxComputationTime,0,1073741824),maxFileSize:(0,E.clampedInt)(w.maxFileSize,b.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,E.boolean)(w.ignoreTrimWhitespace,b.ignoreTrimWhitespace),renderIndicators:(0,E.boolean)(w.renderIndicators,b.renderIndicators),originalEditable:(0,E.boolean)(w.originalEditable,b.originalEditable),diffCodeLens:(0,E.boolean)(w.diffCodeLens,b.diffCodeLens),renderOverviewRuler:(0,E.boolean)(w.renderOverviewRuler,b.renderOverviewRuler),diffWordWrap:(0,E.stringSet)(w.diffWordWrap,b.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,E.stringSet)(w.diffAlgorithm,b.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,E.boolean)(w.accessibilityVerbose,b.accessibilityVerbose),experimental:{showMoves:(0,E.boolean)((v=w.experimental)===null||v===void 0?void 0:v.showMoves,b.experimental.showMoves),showEmptyDecorations:(0,E.boolean)((s=w.experimental)===null||s===void 0?void 0:s.showEmptyDecorations,b.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,E.boolean)((t=(o=w.hideUnchangedRegions)===null||o===void 0?void 0:o.enabled)!==null&&t!==void 0?t:(i=w.experimental)===null||i===void 0?void 0:i.collapseUnchangedRegions,b.hideUnchangedRegions.enabled),contextLineCount:(0,E.clampedInt)((n=w.hideUnchangedRegions)===null||n===void 0?void 0:n.contextLineCount,b.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,E.clampedInt)((c=w.hideUnchangedRegions)===null||c===void 0?void 0:c.minimumLineCount,b.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,E.clampedInt)((u=w.hideUnchangedRegions)===null||u===void 0?void 0:u.revealLineCount,b.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,E.boolean)(w.isInEmbeddedEditor,b.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,E.boolean)(w.onlyShowAccessibleDiffViewer,b.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,E.clampedInt)(w.renderSideBySideInlineBreakpoint,b.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,E.boolean)(w.useInlineViewWhenSpaceIsLimited,b.useInlineViewWhenSpaceIsLimited),renderGutterMenu:(0,E.boolean)(w.renderGutterMenu,b.renderGutterMenu)}}}),define(re[681],ae([1,0,6,53,2,54,227,22,3,24,28,12]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0,e.setContext=C;const o="data-keybinding-context";class t{constructor(L,D){this._id=L,this._parent=D,this._value=Object.create(null),this._value._contextId=L}get value(){return{...this._value}}setValue(L,D){return this._value[L]!==D?(this._value[L]=D,!0):!1}removeValue(L){return L in this._value?(delete this._value[L],!0):!1}getValue(L){const D=this._value[L];return typeof D>"u"&&this._parent?this._parent.getValue(L):D}}e.Context=t;class i extends t{constructor(){super(-1,null)}setValue(L,D){return!1}removeValue(L){return!1}getValue(L){}}i.INSTANCE=new i;class n extends t{constructor(L,D,T){super(L,null),this._configurationService=D,this._values=y.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(N=>{if(N.source===7){const A=Array.from(this._values,([R])=>R);this._values.clear(),T.fire(new r(A))}else{const A=[];for(const R of N.affectedKeys){const M=`config.${R}`,P=this._values.findSuperstr(M);P!==void 0&&(A.push(...k.Iterable.map(P,([x])=>x)),this._values.deleteSuperstr(M)),this._values.has(M)&&(A.push(M),this._values.delete(M))}T.fire(new r(A))}})}dispose(){this._listener.dispose()}getValue(L){if(L.indexOf(n._keyPrefix)!==0)return super.getValue(L);if(this._values.has(L))return this._values.get(L);const D=L.substr(n._keyPrefix.length),T=this._configurationService.getValue(D);let N;switch(typeof T){case"number":case"boolean":case"string":N=T;break;default:Array.isArray(T)?N=JSON.stringify(T):N=T}return this._values.set(L,N),N}setValue(L,D){return super.setValue(L,D)}removeValue(L){return super.removeValue(L)}}n._keyPrefix="config.";class c{constructor(L,D,T){this._service=L,this._key=D,this._defaultValue=T,this.reset()}set(L){this._service.setContext(this._key,L)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class u{constructor(L){this.key=L}affectsSome(L){return L.has(this.key)}allKeysContainedIn(L){return this.affectsSome(L)}}class r{constructor(L){this.keys=L}affectsSome(L){for(const D of this.keys)if(L.has(D))return!0;return!1}allKeysContainedIn(L){return this.keys.every(D=>L.has(D))}}class a{constructor(L){this.events=L}affectsSome(L){for(const D of this.events)if(D.affectsSome(L))return!0;return!1}allKeysContainedIn(L){return this.events.every(D=>D.allKeysContainedIn(L))}}function l(_,L){return _.allKeysContainedIn(new Set(Object.keys(L)))}class d extends E.Disposable{constructor(L){super(),this._onDidChangeContext=this._register(new f.PauseableEmitter({merge:D=>new a(D)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=L}createKey(L,D){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new c(this,L,D)}bufferChangeEvents(L){this._onDidChangeContext.pause();try{L()}finally{this._onDidChangeContext.resume()}}createScoped(L){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,L)}contextMatchesRules(L){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const D=this.getContextValuesContainer(this._myContextId);return L?L.evaluate(D):!0}getContextKeyValue(L){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(L)}setContext(L,D){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(L,D)&&this._onDidChangeContext.fire(new u(L))}removeContext(L){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(L)&&this._onDidChangeContext.fire(new u(L))}getContext(L){return this._isDisposed?i.INSTANCE:this.getContextValuesContainer(g(L))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=d;let p=class extends d{constructor(L){super(0),this._contexts=new Map,this._lastContextId=0;const D=this._register(new n(this._myContextId,L,this._onDidChangeContext));this._contexts.set(this._myContextId,D)}getContextValuesContainer(L){return this._isDisposed?i.INSTANCE:this._contexts.get(L)||i.INSTANCE}createChildContext(L=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const D=++this._lastContextId;return this._contexts.set(D,new t(D,this.getContextValuesContainer(L))),D}disposeContext(L){this._isDisposed||this._contexts.delete(L)}};e.ContextKeyService=p,e.ContextKeyService=p=ke([ge(0,v.IConfigurationService)],p);class h extends d{constructor(L,D){if(super(L.createChildContext()),this._parentChangeListener=this._register(new E.MutableDisposable),this._parent=L,this._updateParentChangeListener(),this._domNode=D,this._domNode.hasAttribute(o)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(o,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(L=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;l(L,T)||this._onDidChangeContext.fire(L)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(o),super.dispose())}getContextValuesContainer(L){return this._isDisposed?i.INSTANCE:this._parent.getContextValuesContainer(L)}createChildContext(L=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(L)}disposeContext(L){this._isDisposed||this._parent.disposeContext(L)}}function g(_){for(;_;){if(_.hasAttribute(o)){const L=_.getAttribute(o);return L?parseInt(L,10):NaN}_=_.parentElement}return 0}function C(_,L,D){_.get(s.IContextKeyService).createKey(String(L),S(D))}function S(_){return(0,I.cloneAndChange)(_,L=>{if(typeof L=="object"&&L.$mid===1)return m.URI.revive(L).toString();if(L instanceof m.URI)return L.toString()})}b.CommandsRegistry.registerCommand("_setContext",C),b.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...s.RawContextKey.all()].sort((_,L)=>_.key.localeCompare(L.key))},metadata:{description:(0,w.localize)(1657,"A command that returns information about context keys"),args:[]}}),b.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const _=[],L=new Set;for(const D of s.RawContextKey.all())L.has(D.key)||(L.add(D.key),_.push(D));_.sort((D,T)=>D.key.localeCompare(T.key)),console.log(JSON.stringify(_,void 0,2))})}),define(re[177],ae([1,0,16,3,12]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new E.RawContextKey("isMac",f.isMacintosh,(0,k.localize)(1629,"Whether the operating system is macOS")),e.IsLinuxContext=new E.RawContextKey("isLinux",f.isLinux,(0,k.localize)(1630,"Whether the operating system is Linux")),e.IsWindowsContext=new E.RawContextKey("isWindows",f.isWindows,(0,k.localize)(1631,"Whether the operating system is Windows")),e.IsWebContext=new E.RawContextKey("isWeb",f.isWeb,(0,k.localize)(1632,"Whether the platform is a web browser")),e.IsMacNativeContext=new E.RawContextKey("isMacNative",f.isMacintosh&&!f.isWeb,(0,k.localize)(1633,"Whether the operating system is macOS on a non-browser platform")),e.IsIOSContext=new E.RawContextKey("isIOS",f.isIOS,(0,k.localize)(1634,"Whether the operating system is iOS")),e.IsMobileContext=new E.RawContextKey("isMobile",f.isMobile,(0,k.localize)(1635,"Whether the platform is a mobile web browser")),e.IsDevelopmentContext=new E.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new E.RawContextKey("productQualityType","",(0,k.localize)(1636,"Quality type of VS Code")),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new E.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(1637,"Whether keyboard focus is inside an input box"))}),define(re[58],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,f.createDecorator)("contextViewService"),e.IContextMenuService=(0,f.createDecorator)("contextMenuService")}),define(re[178],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,f.createDecorator)("dialogService")}),define(re[268],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,f.createDecorator)("environmentService")}),define(re[117],ae([1,0,7,2,28,4]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nativeHoverDelegate=e.WorkbenchHoverDelegate=e.IHoverService=void 0,e.IHoverService=(0,f.createDecorator)("hoverService");let y=class extends k.Disposable{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(w,b,v={},s,o){super(),this.placement=w,this.instantHover=b,this.overrideOptions=v,this.configurationService=s,this.hoverService=o,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new k.DisposableStore),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(w,b){const v=typeof this.overrideOptions=="function"?this.overrideOptions(w,b):this.overrideOptions;this.hoverDisposables.clear();const s=(0,I.isHTMLElement)(w.target)?[w.target]:w.target.targetElements;for(const t of s)this.hoverDisposables.add((0,I.addStandardDisposableListener)(t,"keydown",i=>{i.equals(9)&&this.hoverService.hideHover()}));const o=(0,I.isHTMLElement)(w.content)?void 0:w.content.toString();return this.hoverService.showHover({...w,...v,persistence:{hideOnKeyDown:!0,...v.persistence},id:o,appearance:{...w.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...v.appearance}},b)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};e.WorkbenchHoverDelegate=y,e.WorkbenchHoverDelegate=y=ke([ge(3,E.IConfigurationService),ge(4,e.IHoverService)],y),e.nativeHoverDelegate={showHover:function(){throw new Error("Native hover function not implemented.")},delay:0,showNativeHover:!0}}),define(re[179],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class f{constructor(...E){this._entries=new Map;for(const[I,y]of E)this.set(I,y)}set(E,I){const y=this._entries.get(E);return this._entries.set(E,I),y}get(E){return this._entries.get(E)}}e.ServiceCollection=f}),define(re[682],ae([1,0,14,8,2,262,670,7,179,71]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const v=!1;class s extends Error{constructor(n){var c;super("cyclic dependency between services"),this.message=(c=n.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${n.toString()}`}}class o{constructor(n=new w.ServiceCollection,c=!1,u,r=v){var a;this._services=n,this._strict=c,this._parent=u,this._enableTracing=r,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(m.IInstantiationService,this),this._globalGraph=r?(a=u?._globalGraph)!==null&&a!==void 0?a:new y.Graph(l=>l):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,(0,E.dispose)(this._children),this._children.clear();for(const n of this._servicesToMaybeDispose)(0,E.isDisposable)(n)&&n.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(n,c){this._throwIfDisposed();const u=this,r=new class extends o{dispose(){u._children.delete(r),super.dispose()}}(n,this._strict,this,this._enableTracing);return this._children.add(r),c?.add(r),r}invokeFunction(n,...c){this._throwIfDisposed();const u=t.traceInvocation(this._enableTracing,n);let r=!1;try{return n({get:l=>{if(r)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const d=this._getOrCreateServiceInstance(l,u);if(!d)throw new Error(`[invokeFunction] unknown service '${l}'`);return d}},...c)}finally{r=!0,u.stop()}}createInstance(n,...c){this._throwIfDisposed();let u,r;return n instanceof I.SyncDescriptor?(u=t.traceCreation(this._enableTracing,n.ctor),r=this._createInstance(n.ctor,n.staticArguments.concat(c),u)):(u=t.traceCreation(this._enableTracing,n),r=this._createInstance(n,c,u)),u.stop(),r}_createInstance(n,c=[],u){const r=m._util.getServiceDependencies(n).sort((d,p)=>d.index-p.index),a=[];for(const d of r){const p=this._getOrCreateServiceInstance(d.id,u);p||this._throwIfStrict(`[createInstance] ${n.name} depends on UNKNOWN service ${d.id}.`,!1),a.push(p)}const l=r.length>0?r[0].index:c.length;if(c.length!==l){console.trace(`[createInstance] First service dependency of ${n.name} at position ${l+1} conflicts with ${c.length} static arguments`);const d=l-c.length;d>0?c=c.concat(new Array(d)):c=c.slice(0,l)}return Reflect.construct(n,c.concat(a))}_setCreatedServiceInstance(n,c){if(this._services.get(n)instanceof I.SyncDescriptor)this._services.set(n,c);else if(this._parent)this._parent._setCreatedServiceInstance(n,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(n){const c=this._services.get(n);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):c}_getOrCreateServiceInstance(n,c){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(n));const u=this._getServiceInstanceOrDescriptor(n);return u instanceof I.SyncDescriptor?this._safeCreateAndCacheServiceInstance(n,u,c.branch(n,!0)):(c.branch(n,!1),u)}_safeCreateAndCacheServiceInstance(n,c,u){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,c,u)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,c,u){var r;const a=new y.Graph(h=>h.id.toString());let l=0;const d=[{id:n,desc:c,_trace:u}],p=new Set;for(;d.length;){const h=d.pop();if(!p.has(String(h.id))){if(p.add(String(h.id)),a.lookupOrInsertNode(h),l++>1e3)throw new s(a);for(const g of m._util.getServiceDependencies(h.desc.ctor)){const C=this._getServiceInstanceOrDescriptor(g.id);if(C||this._throwIfStrict(`[createInstance] ${n} depends on ${g.id} which is NOT registered.`,!0),(r=this._globalGraph)===null||r===void 0||r.insertEdge(String(h.id),String(g.id)),C instanceof I.SyncDescriptor){const S={id:g.id,desc:C,_trace:h._trace.branch(g.id,!0)};a.insertEdge(h,S),d.push(S)}}}}for(;;){const h=a.roots();if(h.length===0){if(!a.isEmpty())throw new s(a);break}for(const{data:g}of h){if(this._getServiceInstanceOrDescriptor(g.id)instanceof I.SyncDescriptor){const S=this._createServiceInstanceWithOwner(g.id,g.desc.ctor,g.desc.staticArguments,g.desc.supportsDelayedInstantiation,g._trace);this._setCreatedServiceInstance(g.id,S)}a.removeNode(g)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,c,u=[],r,a){if(this._services.get(n)instanceof I.SyncDescriptor)return this._createServiceInstance(n,c,u,r,a,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,c,u,r,a);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(n,c,u=[],r,a,l){if(r){const d=new o(void 0,this._strict,this,this._enableTracing);d._globalGraphImplicitDependency=String(n);const p=new Map,h=new f.GlobalIdleValue(()=>{const g=d._createInstance(c,u,a);for(const[C,S]of p){const _=g[C];if(typeof _=="function")for(const L of S)L.disposable=_.apply(g,L.listener)}return p.clear(),l.add(g),g});return new Proxy(Object.create(null),{get(g,C){if(!h.isInitialized&&typeof C=="string"&&(C.startsWith("onDid")||C.startsWith("onWill"))){let L=p.get(C);return L||(L=new b.LinkedList,p.set(C,L)),(T,N,A)=>{if(h.isInitialized)return h.value[C](T,N,A);{const R={listener:[T,N,A],disposable:void 0},M=L.push(R);return(0,E.toDisposable)(()=>{var x;M(),(x=R.disposable)===null||x===void 0||x.dispose()})}}}if(C in g)return g[C];const S=h.value;let _=S[C];return typeof _!="function"||(_=_.bind(S),g[C]=_),_},set(g,C,S){return h.value[C]=S,!0},getPrototypeOf(g){return c.prototype}})}else{const d=this._createInstance(c,u,a);return l.add(d),d}}_throwIfStrict(n,c){if(c&&console.warn(n),this._strict)throw new Error(n)}}e.InstantiationService=o;class t{static traceInvocation(n,c){return n?new t(2,c.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):t._None}static traceCreation(n,c){return n?new t(1,c.name):t._None}constructor(n,c){this.type=n,this.name=c,this._start=Date.now(),this._dep=[]}branch(n,c){const u=new t(3,n.toString());return this._dep.push([n,c,u]),u}stop(){const n=Date.now()-this._start;t._totals+=n;let c=!1;function u(a,l){const d=[],p=new Array(a+1).join("	");for(const[h,g,C]of l._dep)if(g&&C){c=!0,d.push(`${p}CREATES -> ${h}`);const S=u(a+1,C);S&&d.push(S)}else d.push(`${p}uses -> ${h}`);return d.join(`
`)}const r=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${u(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${t._totals.toFixed(2)}ms)`];(n>2||c)&&t.all.add(r.join(`
`))}}e.Trace=t,t.all=new Set,t._None=new class extends t{constructor(){super(0,null)}stop(){}branch(){return this}},t._totals=0}),define(re[683],ae([1,0,8,260,137]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class I extends E.ResolvedKeybinding{constructor(m,w){if(super(),w.length===0)throw(0,f.illegalArgument)("chords");this._os=m,this._chords=w}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,m=>this._getLabel(m))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,m=>this._getAriaLabel(m))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,m=>this._getElectronAccelerator(m))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,m=>this._getUserSettingsLabel(m))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(m=>this._getChord(m))}_getChord(m){return new E.ResolvedChord(m.ctrlKey,m.shiftKey,m.altKey,m.metaKey,this._getLabel(m),this._getAriaLabel(m))}getDispatchChords(){return this._chords.map(m=>this._getChordDispatch(m))}getSingleModifierDispatchChords(){return this._chords.map(m=>this._getSingleModifierChordDispatch(m))}}e.BaseResolvedKeybinding=I}),define(re[31],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,f.createDecorator)("keybindingService")}),define(re[385],ae([1,0,4,173,2,31]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=void 0;const y=f.$;let m=class extends E.Disposable{get hasContent(){return this._hasContent}constructor(b){super(),this._keybindingService=b,this.actions=[],this._hasContent=!1,this.hoverElement=y("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=f.append(this.hoverElement,y("div.actions"))}addAction(b){const v=this._keybindingService.lookupKeybinding(b.commandId),s=v?v.getLabel():null;this._hasContent=!0;const o=this._register(k.HoverAction.render(this.actionsElement,b,s));return this.actions.push(o),o}append(b){const v=f.append(this.actionsElement,b);return this._hasContent=!0,v}};e.EditorHoverStatusBar=m,e.EditorHoverStatusBar=m=ke([ge(0,I.IKeybindingService)],m)}),define(re[386],ae([1,0,4,31,638,12,28,60,20,173,6]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=void 0;const o=30,t=6;let i=s=class extends E.ResizableContentWidget{get isVisibleFromKeyboard(){var u;return((u=this._renderedHover)===null||u===void 0?void 0:u.source)===1}get isVisible(){var u;return(u=this._hoverVisibleKey.get())!==null&&u!==void 0?u:!1}get isFocused(){var u;return(u=this._hoverFocusedKey.get())!==null&&u!==void 0?u:!1}constructor(u,r,a,l,d){const p=u.getOption(67)+8,h=150,g=new f.Dimension(h,p);super(u,g),this._configurationService=a,this._accessibilityService=l,this._keybindingService=d,this._hover=this._register(new b.HoverWidget),this._onDidResize=this._register(new v.Emitter),this.onDidResize=this._onDidResize.event,this._minimumSize=g,this._hoverVisibleKey=w.EditorContextKeys.hoverVisible.bindTo(r),this._hoverFocusedKey=w.EditorContextKeys.hoverFocused.bindTo(r),f.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(S=>{S.hasChanged(50)&&this._updateFont()}));const C=this._register(f.trackFocus(this._resizableNode.domNode));this._register(C.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(C.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setRenderedHover(void 0),this._editor.addContentWidget(this)}dispose(){var u;super.dispose(),(u=this._renderedHover)===null||u===void 0||u.dispose(),this._editor.removeContentWidget(this)}getId(){return s.ID}static _applyDimensions(u,r,a){const l=typeof r=="number"?`${r}px`:r,d=typeof a=="number"?`${a}px`:a;u.style.width=l,u.style.height=d}_setContentsDomNodeDimensions(u,r){const a=this._hover.contentsDomNode;return s._applyDimensions(a,u,r)}_setContainerDomNodeDimensions(u,r){const a=this._hover.containerDomNode;return s._applyDimensions(a,u,r)}_setHoverWidgetDimensions(u,r){this._setContentsDomNodeDimensions(u,r),this._setContainerDomNodeDimensions(u,r),this._layoutContentWidget()}static _applyMaxDimensions(u,r,a){const l=typeof r=="number"?`${r}px`:r,d=typeof a=="number"?`${a}px`:a;u.style.maxWidth=l,u.style.maxHeight=d}_setHoverWidgetMaxDimensions(u,r){s._applyMaxDimensions(this._hover.contentsDomNode,u,r),s._applyMaxDimensions(this._hover.containerDomNode,u,r),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof u=="number"?`${u}px`:u),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(u){this._setHoverWidgetMaxDimensions("none","none");const r=u.width,a=u.height;this._setHoverWidgetDimensions(r,a)}_updateResizableNodeMaxDimensions(){var u,r;const a=(u=this._findMaximumRenderingWidth())!==null&&u!==void 0?u:1/0,l=(r=this._findMaximumRenderingHeight())!==null&&r!==void 0?r:1/0;this._resizableNode.maxSize=new f.Dimension(a,l),this._setHoverWidgetMaxDimensions(a,l)}_resize(u){s._lastDimensions=new f.Dimension(u.width,u.height),this._setAdjustedHoverWidgetDimensions(u),this._resizableNode.layout(u.height,u.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),this._onDidResize.fire()}_findAvailableSpaceVertically(){var u;const r=(u=this._renderedHover)===null||u===void 0?void 0:u.showAtPosition;if(r)return this._positionPreference===1?this._availableVerticalSpaceAbove(r):this._availableVerticalSpaceBelow(r)}_findMaximumRenderingHeight(){const u=this._findAvailableSpaceVertically();if(!u)return;let r=t;return Array.from(this._hover.contentsDomNode.children).forEach(a=>{r+=a.clientHeight}),Math.min(u,r)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const u=Array.from(this._hover.contentsDomNode.children).some(r=>r.scrollWidth>r.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),u}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const u=this._isHoverTextOverflowing(),r=typeof this._contentWidth>"u"?0:this._contentWidth-2;return u||this._hover.containerDomNode.clientWidth<r?f.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(u,r){if(!this._renderedHover)return!1;if(this._renderedHover.initialMousePosX===void 0||this._renderedHover.initialMousePosY===void 0)return this._renderedHover.initialMousePosX=u,this._renderedHover.initialMousePosY=r,!1;const a=f.getDomNodePagePosition(this.getDomNode());this._renderedHover.closestMouseDistance===void 0&&(this._renderedHover.closestMouseDistance=n(this._renderedHover.initialMousePosX,this._renderedHover.initialMousePosY,a.left,a.top,a.width,a.height));const l=n(u,r,a.left,a.top,a.width,a.height);return l>this._renderedHover.closestMouseDistance+4?!1:(this._renderedHover.closestMouseDistance=Math.min(this._renderedHover.closestMouseDistance,l),!0)}_setRenderedHover(u){var r;(r=this._renderedHover)===null||r===void 0||r.dispose(),this._renderedHover=u,this._hoverVisibleKey.set(!!u),this._hover.containerDomNode.classList.toggle("hidden",!u)}_updateFont(){const{fontSize:u,lineHeight:r}=this._editor.getOption(50),a=this._hover.contentsDomNode;a.style.fontSize=`${u}px`,a.style.lineHeight=`${r/u}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(d=>this._editor.applyFontInfo(d))}_updateContent(u){const r=this._hover.contentsDomNode;r.style.paddingBottom="",r.textContent="",r.appendChild(u)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const u=Math.max(this._editor.getLayoutInfo().height/4,250,s._lastDimensions.height),r=Math.max(this._editor.getLayoutInfo().width*.66,500,s._lastDimensions.width);this._setHoverWidgetMaxDimensions(r,u)}_render(u){this._setRenderedHover(u),this._updateFont(),this._updateContent(u.domNode),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var u;return this._renderedHover?{position:this._renderedHover.showAtPosition,secondaryPosition:this._renderedHover.showAtSecondaryPosition,positionAffinity:this._renderedHover.shouldAppearBeforeContent?3:void 0,preference:[(u=this._positionPreference)!==null&&u!==void 0?u:1]}:null}show(u){var r,a,l;if(!this._editor||!this._editor.hasModel())return;this._render(u);const d=f.getTotalHeight(this._hover.containerDomNode),p=u.showAtPosition;this._positionPreference=(r=this._findPositionPreference(d,p))!==null&&r!==void 0?r:1,this.onContentsChanged(),u.shouldFocus&&this._hover.containerDomNode.focus(),this._onDidResize.fire();const g=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,b.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(l=(a=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||a===void 0?void 0:a.getAriaLabel())!==null&&l!==void 0?l:"");g&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+g)}hide(){if(!this._renderedHover)return;const u=this._renderedHover.shouldFocus||this._hoverFocusedKey.get();this._setRenderedHover(void 0),this._resizableNode.maxSize=new f.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),u&&this._editor.focus()}_removeConstraintsRenderNormally(){const u=this._editor.getLayoutInfo();this._resizableNode.layout(u.height,u.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(u){this._minimumSize=new f.Dimension(Math.max(this._minimumSize.width,u.width),Math.max(this._minimumSize.height,u.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const u=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new f.Dimension(u,this._minimumSize.height)}onContentsChanged(){var u;this._removeConstraintsRenderNormally();const r=this._hover.containerDomNode;let a=f.getTotalHeight(r),l=f.getTotalWidth(r);if(this._resizableNode.layout(a,l),this._setHoverWidgetDimensions(l,a),a=f.getTotalHeight(r),l=f.getTotalWidth(r),this._contentWidth=l,this._updateMinimumWidth(),this._resizableNode.layout(a,l),!((u=this._renderedHover)===null||u===void 0)&&u.showAtPosition){const d=f.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(d,this._renderedHover.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const u=this._hover.scrollbar.getScrollPosition().scrollTop,r=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:u-r.lineHeight})}scrollDown(){const u=this._hover.scrollbar.getScrollPosition().scrollTop,r=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:u+r.lineHeight})}scrollLeft(){const u=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:u-o})}scrollRight(){const u=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:u+o})}pageUp(){const u=this._hover.scrollbar.getScrollPosition().scrollTop,r=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:u-r})}pageDown(){const u=this._hover.scrollbar.getScrollPosition().scrollTop,r=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:u+r})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=i,i.ID="editor.contrib.resizableContentHoverWidget",i._lastDimensions=new f.Dimension(0,0),e.ContentHoverWidget=i=s=ke([ge(1,I.IContextKeyService),ge(2,y.IConfigurationService),ge(3,m.IAccessibilityService),ge(4,k.IKeybindingService)],i);function n(c,u,r,a,l,d){const p=r+l/2,h=a+d/2,g=Math.max(Math.abs(c-p)-l/2,0),C=Math.max(Math.abs(u-h)-d/2,0);return Math.sqrt(g*g+C*C)}}),define(re[387],ae([1,0,12]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function E(w,b,v){return{kind:2,commandId:w,commandArgs:b,isBubble:v}}class I{constructor(b,v,s){var o;this._log=s,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const t of b){const i=t.command;i&&i.charAt(0)!=="-"&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=I.handleRemovals([].concat(b).concat(v));for(let t=0,i=this._keybindings.length;t<i;t++){const n=this._keybindings[t];if(n.chords.length===0)continue;const c=(o=n.when)===null||o===void 0?void 0:o.substituteConstants();c&&c.type===0||this._addKeyPress(n.chords[0],n)}}static _isTargetedForRemoval(b,v,s){if(v){for(let o=0;o<v.length;o++)if(v[o]!==b.chords[o])return!1}return!(s&&s.type!==1&&(!b.when||!(0,f.expressionsAreEqualWithConstantSubstitution)(s,b.when)))}static handleRemovals(b){const v=new Map;for(let o=0,t=b.length;o<t;o++){const i=b[o];if(i.command&&i.command.charAt(0)==="-"){const n=i.command.substring(1);v.has(n)?v.get(n).push(i):v.set(n,[i])}}if(v.size===0)return b;const s=[];for(let o=0,t=b.length;o<t;o++){const i=b[o];if(!i.command||i.command.length===0){s.push(i);continue}if(i.command.charAt(0)==="-")continue;const n=v.get(i.command);if(!n||!i.isDefault){s.push(i);continue}let c=!1;for(const u of n){const r=u.when;if(this._isTargetedForRemoval(i,u.chords,r)){c=!0;break}}if(!c){s.push(i);continue}}return s}_addKeyPress(b,v){const s=this._map.get(b);if(typeof s>"u"){this._map.set(b,[v]),this._addToLookupMap(v);return}for(let o=s.length-1;o>=0;o--){const t=s[o];if(t.command===v.command)continue;let i=!0;for(let n=1;n<t.chords.length&&n<v.chords.length;n++)if(t.chords[n]!==v.chords[n]){i=!1;break}i&&I.whenIsEntirelyIncluded(t.when,v.when)&&this._removeFromLookupMap(t)}s.push(v),this._addToLookupMap(v)}_addToLookupMap(b){if(!b.command)return;let v=this._lookupMap.get(b.command);typeof v>"u"?(v=[b],this._lookupMap.set(b.command,v)):v.push(b)}_removeFromLookupMap(b){if(!b.command)return;const v=this._lookupMap.get(b.command);if(!(typeof v>"u")){for(let s=0,o=v.length;s<o;s++)if(v[s]===b){v.splice(s,1);return}}}static whenIsEntirelyIncluded(b,v){return!v||v.type===1?!0:!b||b.type===1?!1:(0,f.implies)(b,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,v){const s=this._lookupMap.get(b);if(typeof s>"u"||s.length===0)return null;if(s.length===1)return s[0];for(let o=s.length-1;o>=0;o--){const t=s[o];if(v.contextMatchesRules(t.when))return t}return s[s.length-1]}resolve(b,v,s){const o=[...v,s];this._log(`| Resolving ${o}`);const t=this._map.get(o[0]);if(t===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let i=null;if(o.length<2)i=t;else{i=[];for(let c=0,u=t.length;c<u;c++){const r=t[c];if(o.length>r.chords.length)continue;let a=!0;for(let l=1;l<o.length;l++)if(r.chords[l]!==o[l]){a=!1;break}a&&i.push(r)}}const n=this._findCommand(b,i);return n?o.length<n.chords.length?(this._log(`\\ From ${i.length} keybinding entries, awaiting ${n.chords.length-o.length} more chord(s), when: ${y(n.when)}, source: ${m(n)}.`),k):(this._log(`\\ From ${i.length} keybinding entries, matched ${n.command}, when: ${y(n.when)}, source: ${m(n)}.`),E(n.command,n.commandArgs,n.bubble)):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(b,v){for(let s=v.length-1;s>=0;s--){const o=v[s];if(I._contextMatchesRules(b,o.when))return o}return null}static _contextMatchesRules(b,v){return v?v.evaluate(b):!0}}e.KeybindingResolver=I;function y(w){return w?`${w.serialize()}`:"no when condition"}function m(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(re[684],ae([1,0,14,8,6,301,2,3,387]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const b=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class v extends y.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:E.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(t,i,n,c,u){super(),this._contextKeyService=t,this._commandService=i,this._telemetryService=n,this._notificationService=c,this._logService=u,this._onDidUpdateKeybindings=this._register(new E.Emitter),this._currentChords=[],this._currentChordChecker=new f.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new f.TimeoutTimer,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,i){const n=this._getResolver().lookupPrimaryKeybinding(t,i||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(t,i){return this._dispatch(t,i)}softDispatch(t,i){this._log("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(t);if(n.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),w.NoMatchingKb;const[c]=n.getDispatchChords();if(c===null)return this._log("\\ Keyboard event cannot be dispatched"),w.NoMatchingKb;const u=this._contextKeyService.getContext(i),r=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(u,r,c)}_scheduleLeaveChordMode(){const t=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-t>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(t,i){switch(this._currentChords.push({keypress:t,label:i}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(m.localize(1619,"({0}) was pressed. Waiting for second key of chord...",i));break;default:{const n=this._currentChords.map(({label:c})=>c).join(", ");this._currentChordStatusMessage=this._notificationService.status(m.localize(1620,"({0}) was pressed. Waiting for next key of chord...",n))}}this._scheduleLeaveChordMode(),I.IME.enabled&&I.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],I.IME.enable()}_dispatch(t,i){return this._doDispatch(this.resolveKeyboardEvent(t),i,!1)}_singleModifierDispatch(t,i){const n=this.resolveKeyboardEvent(t),[c]=n.getSingleModifierDispatchChords();if(c)return this._ignoreSingleModifiers.has(c)?(this._log(`+ Ignoring single modifier ${c} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=s.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${c}.`),this._currentSingleModifier=c,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):c===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${c} ${c}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${c}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[u]=n.getChords();return this._ignoreSingleModifiers=new s(u),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,i,n=!1){var c;let u=!1;if(t.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let r=null,a=null;if(n){const[h]=t.getSingleModifierDispatchChords();r=h,a=h?[h]:[]}else[r]=t.getDispatchChords(),a=this._currentChords.map(({keypress:h})=>h);if(r===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),u;const l=this._contextKeyService.getContext(i),d=t.getLabel(),p=this._getResolver().resolve(l,a,r);switch(p.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",d,"[ No matching keybinding ]"),this.inChordMode){const h=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${h}, ${d}".`),this._notificationService.status(m.localize(1621,"The key combination ({0}, {1}) is not a command.",h,d),{hideAfter:10*1e3}),this._leaveChordMode(),u=!0}return u}case 1:return this._logService.trace("KeybindingService#dispatch",d,"[ Several keybindings match - more chords needed ]"),u=!0,this._expectAnotherChord(r,d),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),u;case 2:{if(this._logService.trace("KeybindingService#dispatch",d,`[ Will dispatch command ${p.commandId} ]`),p.commandId===null||p.commandId===""){if(this.inChordMode){const h=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${h}, ${d}".`),this._notificationService.status(m.localize(1622,"The key combination ({0}, {1}) is not a command.",h,d),{hideAfter:10*1e3}),this._leaveChordMode(),u=!0}}else{this.inChordMode&&this._leaveChordMode(),p.isBubble||(u=!0),this._log(`+ Invoking command ${p.commandId}.`),this._currentlyDispatchingCommandId=p.commandId;try{typeof p.commandArgs>"u"?this._commandService.executeCommand(p.commandId).then(void 0,h=>this._notificationService.warn(h)):this._commandService.executeCommand(p.commandId,p.commandArgs).then(void 0,h=>this._notificationService.warn(h))}finally{this._currentlyDispatchingCommandId=null}b.test(p.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:p.commandId,from:"keybinding",detail:(c=t.getUserSettingsLabel())!==null&&c!==void 0?c:void 0})}return u}}}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}e.AbstractKeybindingService=v;class s{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}s.EMPTY=new s(null)}),define(re[388],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybindingItem=void 0,e.toEmptyArrayIfContainsNull=k;class f{constructor(I,y,m,w,b,v,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=I,this.chords=I?k(I.getDispatchChords()):[],I&&this.chords.length===0&&(this.chords=k(I.getSingleModifierDispatchChords())),this.bubble=y?y.charCodeAt(0)===94:!1,this.command=this.bubble?y.substr(1):y,this.commandArgs=m,this.when=w,this.isDefault=b,this.extensionId=v,this.isBuiltinExtension=s}}e.ResolvedKeybindingItem=f;function k(E){const I=[];for(let y=0,m=E.length;y<m;y++){const w=E[y];if(!w)return[];I.push(w)}return I}}),define(re[685],ae([1,0,70,137,683,388]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class y extends E.BaseResolvedKeybinding{constructor(w,b){super(b,w)}_keyCodeToUILabel(w){if(this._os===2)switch(w){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return f.KeyCodeUtils.toString(w)}_getLabel(w){return w.isDuplicateModifierCase()?"":this._keyCodeToUILabel(w.keyCode)}_getAriaLabel(w){return w.isDuplicateModifierCase()?"":f.KeyCodeUtils.toString(w.keyCode)}_getElectronAccelerator(w){return f.KeyCodeUtils.toElectronAccelerator(w.keyCode)}_getUserSettingsLabel(w){if(w.isDuplicateModifierCase())return"";const b=f.KeyCodeUtils.toUserSettingsUS(w.keyCode);return b&&b.toLowerCase()}_getChordDispatch(w){return y.getDispatchStr(w)}static getDispatchStr(w){if(w.isModifierKey())return null;let b="";return w.ctrlKey&&(b+="ctrl+"),w.shiftKey&&(b+="shift+"),w.altKey&&(b+="alt+"),w.metaKey&&(b+="meta+"),b+=f.KeyCodeUtils.toString(w.keyCode),b}_getSingleModifierChordDispatch(w){return w.keyCode===5&&!w.shiftKey&&!w.altKey&&!w.metaKey?"ctrl":w.keyCode===4&&!w.ctrlKey&&!w.altKey&&!w.metaKey?"shift":w.keyCode===6&&!w.ctrlKey&&!w.shiftKey&&!w.metaKey?"alt":w.keyCode===57&&!w.ctrlKey&&!w.shiftKey&&!w.altKey?"meta":null}static _scanCodeToKeyCode(w){const b=f.IMMUTABLE_CODE_TO_KEY_CODE[w];if(b!==-1)return b;switch(w){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(w){if(!w)return null;if(w instanceof k.KeyCodeChord)return w;const b=this._scanCodeToKeyCode(w.scanCode);return b===0?null:new k.KeyCodeChord(w.ctrlKey,w.shiftKey,w.altKey,w.metaKey,b)}static resolveKeybinding(w,b){const v=(0,I.toEmptyArrayIfContainsNull)(w.chords.map(s=>this._toKeyCodeChord(s)));return v.length>0?[new y(v,b)]:[]}}e.USLayoutResolvedKeybinding=y}),define(re[180],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,f.createDecorator)("labelService")}),define(re[118],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,f.createDecorator)("layoutService")}),define(re[389],ae([1,0,4,52,13,6,35,48,118]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{get mainContainer(){var o,t;return(t=(o=(0,E.firstOrDefault)(this._codeEditorService.listCodeEditors()))===null||o===void 0?void 0:o.getContainerDomNode())!==null&&t!==void 0?t:k.mainWindow.document.body}get activeContainer(){var o,t;const i=(o=this._codeEditorService.getFocusedCodeEditor())!==null&&o!==void 0?o:this._codeEditorService.getActiveCodeEditor();return(t=i?.getContainerDomNode())!==null&&t!==void 0?t:this.mainContainer}get mainContainerDimension(){return f.getClientArea(this.mainContainer)}get activeContainerDimension(){return f.getClientArea(this.activeContainer)}get containers(){return(0,E.coalesce)(this._codeEditorService.listCodeEditors().map(o=>o.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var o;(o=this._codeEditorService.getFocusedCodeEditor())===null||o===void 0||o.focus()}constructor(o){this._codeEditorService=o,this.onDidLayoutMainContainer=I.Event.None,this.onDidLayoutActiveContainer=I.Event.None,this.onDidLayoutContainer=I.Event.None,this.onDidChangeActiveContainer=I.Event.None,this.onDidAddContainer=I.Event.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};b=ke([ge(0,y.ICodeEditorService)],b);let v=class extends b{get mainContainer(){return this._container}constructor(o,t){super(t),this._container=o}};e.EditorScopedLayoutService=v,e.EditorScopedLayoutService=v=ke([ge(1,y.ICodeEditorService)],v),(0,m.registerSingleton)(w.ILayoutService,b,1)}),define(re[686],ae([1,0,4,52,6,2,60,28,12,118]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let v=class extends I.Disposable{constructor(o,t,i){super(),this._contextKeyService=o,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new E.Emitter,this._onDidChangeReducedMotion=new E.Emitter,this._onDidChangeLinkUnderline=new E.Emitter,this._accessibilityModeEnabledContext=y.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(u=>{u.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),u.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));const c=k.mainWindow.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=c.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._linkUnderlinesEnabled=this._configurationService.getValue("accessibility.underlineLinks"),this.initReducedMotionListeners(c),this.initLinkUnderlineListeners()}initReducedMotionListeners(o){this._register((0,f.addDisposableListener)(o,"change",()=>{this._systemMotionReduced=o.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",i),this._layoutService.mainContainer.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}initLinkUnderlineListeners(){this._register(this._configurationService.onDidChangeConfiguration(t=>{if(t.affectsConfiguration("accessibility.underlineLinks")){const i=this._configurationService.getValue("accessibility.underlineLinks");this._linkUnderlinesEnabled=i,this._onDidChangeLinkUnderline.fire()}}));const o=()=>{const t=this._linkUnderlinesEnabled;this._layoutService.mainContainer.classList.toggle("underline-links",t)};o(),this._register(this.onDidChangeLinkUnderlines(()=>o()))}onDidChangeLinkUnderlines(o){return this._onDidChangeLinkUnderline.event(o)}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const o=this._configurationService.getValue("editor.accessibilitySupport");return o==="on"||o==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const o=this._configMotionReduced;return o==="on"||o==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=v,e.AccessibilityService=v=ke([ge(0,w.IContextKeyService),ge(1,b.ILayoutService),ge(2,m.IConfigurationService)],v)}),define(re[390],ae([1,0,310,2,118,4]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=e.ContextViewHandler=void 0;let y=class extends k.Disposable{constructor(b){super(),this.layoutService=b,this.contextView=this._register(new f.ContextView(this.layoutService.mainContainer,1)),this.layout(),this._register(b.onDidLayoutContainer(()=>this.layout()))}showContextView(b,v,s){let o;v?v===this.layoutService.getContainer((0,I.getWindow)(v))?o=1:s?o=3:o=2:o=1,this.contextView.setContainer(v??this.layoutService.activeContainer,o),this.contextView.show(b);const t={close:()=>{this.openContextView===t&&this.hideContextView()}};return this.openContextView=t,t}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b),this.openContextView=void 0}};e.ContextViewHandler=y,e.ContextViewHandler=y=ke([ge(0,E.ILayoutService)],y);class m extends y{getContextViewElement(){return this.contextView.getViewElement()}}e.ContextViewService=m}),define(re[61],ae([1,0,6,2,12,7]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.LogLevelToString=v,e.ILogService=(0,I.createDecorator)("logService");var y;(function(s){s[s.Off=0]="Off",s[s.Trace=1]="Trace",s[s.Debug=2]="Debug",s[s.Info=3]="Info",s[s.Warning=4]="Warning",s[s.Error=5]="Error"})(y||(e.LogLevel=y={})),e.DEFAULT_LOG_LEVEL=y.Info;class m extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new f.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(o){this.level!==o&&(this.level=o,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(o){return this.level!==y.Off&&this.level<=o}}e.AbstractLogger=m;class w extends m{constructor(o=e.DEFAULT_LOG_LEVEL,t=!0){super(),this.useColors=t,this.setLevel(o)}trace(o,...t){this.checkLogLevel(y.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",o,...t):console.log(o,...t))}debug(o,...t){this.checkLogLevel(y.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",o,...t):console.log(o,...t))}info(o,...t){this.checkLogLevel(y.Info)&&(this.useColors?console.log("%c INFO","color: #33f",o,...t):console.log(o,...t))}warn(o,...t){this.checkLogLevel(y.Warning)&&(this.useColors?console.log("%c WARN","color: #993",o,...t):console.log(o,...t))}error(o,...t){this.checkLogLevel(y.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",o,...t):console.error(o,...t))}}e.ConsoleLogger=w;class b extends m{constructor(o){super(),this.loggers=o,o.length&&this.setLevel(o[0].getLevel())}setLevel(o){for(const t of this.loggers)t.setLevel(o);super.setLevel(o)}trace(o,...t){for(const i of this.loggers)i.trace(o,...t)}debug(o,...t){for(const i of this.loggers)i.debug(o,...t)}info(o,...t){for(const i of this.loggers)i.info(o,...t)}warn(o,...t){for(const i of this.loggers)i.warn(o,...t)}error(o,...t){for(const i of this.loggers)i.error(o,...t)}dispose(){for(const o of this.loggers)o.dispose();super.dispose()}}e.MultiplexLogger=b;function v(s){switch(s){case y.Trace:return"trace";case y.Debug:return"debug";case y.Info:return"info";case y.Warning:return"warn";case y.Error:return"error";case y.Off:return"off"}}e.CONTEXT_LOG_LEVEL=new E.RawContextKey("logLevel",v(y.Info))}),define(re[210],ae([1,0,65,4,92,45,294,14,6,2,126,11,322,23,60,61]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var c;(function(d){d.Tap="-monaco-textarea-synthetic-tap"})(c||(e.TextAreaSyntethicEvents=c={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class u{constructor(){this._lastState=null}set(p,h){this._lastState={lastCopiedValue:p,data:h}}get(p){return this._lastState&&this._lastState.lastCopiedValue===p?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=u,u.INSTANCE=new u;class r{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(p){p=p||"";const h={text:p,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=p.length,h}}let a=class extends b.Disposable{get textAreaState(){return this._textAreaState}constructor(p,h,g,C,S,_){super(),this._host=p,this._textArea=h,this._OS=g,this._browser=C,this._accessibilityService=S,this._logService=_,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new b.MutableDisposable),this._asyncTriggerCut=this._register(new m.RunOnceScheduler(()=>this._onCut.fire(),0)),this._textAreaState=o.TextAreaState.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(w.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new m.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let L=null;this._register(this._textArea.onKeyDown(D=>{const T=new I.StandardKeyboardEvent(D);(T.keyCode===114||this._currentComposition&&T.keyCode===1)&&T.stopPropagation(),T.equals(9)&&T.preventDefault(),L=T,this._onKeyDown.fire(T)})),this._register(this._textArea.onKeyUp(D=>{const T=new I.StandardKeyboardEvent(D);this._onKeyUp.fire(T)})),this._register(this._textArea.onCompositionStart(D=>{o._debugComposition&&console.log("[compositionstart]",D);const T=new r;if(this._currentComposition){this._currentComposition=T;return}if(this._currentComposition=T,this._OS===2&&L&&L.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===D.data&&(L.code==="ArrowRight"||L.code==="ArrowLeft")){o._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",D),T.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:D.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:D.data});return}this._onCompositionStart.fire({data:D.data})})),this._register(this._textArea.onCompositionUpdate(D=>{o._debugComposition&&console.log("[compositionupdate]",D);const T=this._currentComposition;if(!T)return;if(this._browser.isAndroid){const A=o.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),R=o.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(R),this._onCompositionUpdate.fire(D);return}const N=T.handleCompositionUpdate(D.data);this._textAreaState=o.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionUpdate.fire(D)})),this._register(this._textArea.onCompositionEnd(D=>{o._debugComposition&&console.log("[compositionend]",D);const T=this._currentComposition;if(!T)return;if(this._currentComposition=null,this._browser.isAndroid){const A=o.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),R=o.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(R),this._onCompositionEnd.fire();return}const N=T.handleCompositionUpdate(D.data);this._textAreaState=o.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(D=>{if(o._debugComposition&&console.log("[input]",D),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const T=o.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),N=o.TextAreaState.deduceInput(this._textAreaState,T,this._OS===2);N.replacePrevCharCnt===0&&N.text.length===1&&(s.isHighSurrogate(N.text.charCodeAt(0))||N.text.charCodeAt(0)===127)||(this._textAreaState=T,(N.text!==""||N.replacePrevCharCnt!==0||N.replaceNextCharCnt!==0||N.positionDelta!==0)&&this._onType.fire(N))})),this._register(this._textArea.onCut(D=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(D),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(D=>{this._ensureClipboardGetsEditorSelection(D)})),this._register(this._textArea.onPaste(D=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),D.preventDefault(),!D.clipboardData)return;let[T,N]=e.ClipboardEventUtils.getTextData(D.clipboardData);T&&(N=N||u.INSTANCE.get(T),this._onPaste.fire({text:T,metadata:N}))})),this._register(this._textArea.onFocus(()=>{const D=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!D&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new m.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let p=0;return k.addDisposableListener(this._textArea.ownerDocument,"selectionchange",h=>{if(y.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const g=Date.now(),C=g-p;if(p=g,C<5)return;const S=g-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),S<100||!this._textAreaState.selection)return;const _=this._textArea.getValue();if(this._textAreaState.value!==_)return;const L=this._textArea.getSelectionStart(),D=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===L&&this._textAreaState.selectionEnd===D)return;const T=this._textAreaState.deduceEditorPosition(L),N=this._host.deduceModelPosition(T[0],T[1],T[2]),A=this._textAreaState.deduceEditorPosition(D),R=this._host.deduceModelPosition(A[0],A[1],A[2]),M=new t.Selection(N.lineNumber,N.column,R.lineNumber,R.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(p){this._hasFocus!==p&&(this._hasFocus=p,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(p,h){this._hasFocus||(h=h.collapseSelection()),h.writeToTextArea(p,this._textArea,this._hasFocus),this._textAreaState=h}writeNativeTextAreaContent(p){!this._accessibilityService.isScreenReaderOptimized()&&p==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${p})`),this._setAndWriteTextAreaState(p,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(p){const h=this._host.getDataToCopy(),g={version:1,isFromEmptySelection:h.isFromEmptySelection,multicursorText:h.multicursorText,mode:h.mode};u.INSTANCE.set(this._browser.isFirefox?h.text.replace(/\r\n/g,`
`):h.text,g),p.preventDefault(),p.clipboardData&&e.ClipboardEventUtils.setTextData(p.clipboardData,h.text,h.html,g)}};e.TextAreaInput=a,e.TextAreaInput=a=ke([ge(4,i.IAccessibilityService),ge(5,n.ILogService)],a),e.ClipboardEventUtils={getTextData(d){const p=d.getData(v.Mimes.text);let h=null;const g=d.getData("vscode-editor-data");if(typeof g=="string")try{h=JSON.parse(g),h.version!==1&&(h=null)}catch{}return p.length===0&&h===null&&d.files.length>0?[Array.prototype.slice.call(d.files,0).map(S=>S.name).join(`
`),null]:[p,h]},setTextData(d,p,h,g){d.setData(v.Mimes.text,p),typeof h=="string"&&d.setData("text/html",h),d.setData("vscode-editor-data",JSON.stringify(g))}};class l extends b.Disposable{get ownerDocument(){return this._actual.ownerDocument}constructor(p){super(),this._actual=p,this.onKeyDown=this._register(new E.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new E.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new E.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new E.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new E.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new E.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new E.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new E.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new E.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new E.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new E.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new E.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>y.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>y.inputLatency.onBeforeInput())),this._register(this.onInput(()=>y.inputLatency.onInput())),this._register(this.onKeyUp(()=>y.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,c.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const p=k.getShadowRoot(this._actual);return p?p.activeElement===this._actual:this._actual.isConnected?k.getActiveElement()===this._actual:!1}setIgnoreSelectionChangeTime(p){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(p,h){const g=this._actual;g.value!==h&&(this.setIgnoreSelectionChangeTime("setValue"),g.value=h)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(p,h,g){const C=this._actual;let S=null;const _=k.getShadowRoot(C);_?S=_.activeElement:S=k.getActiveElement();const L=k.getWindow(S),D=S===C,T=C.selectionStart,N=C.selectionEnd;if(D&&T===h&&N===g){f.isFirefox&&L.parent!==L&&C.focus();return}if(D){this.setIgnoreSelectionChangeTime("setSelectionRange"),C.setSelectionRange(h,g),f.isFirefox&&L.parent!==L&&C.focus();return}try{const A=k.saveParentsScrollTop(C);this.setIgnoreSelectionChangeTime("setSelectionRange"),C.focus(),C.setSelectionRange(h,g),k.restoreParentsScrollTop(C,A)}catch{}}}e.TextAreaWrapper=l}),define(re[78],ae([1,0,127,44,138,268,48,7,61,46]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,m.createDecorator)("ILanguageFeatureDebounceService");var v;(function(i){const n=new WeakMap;let c=0;function u(r){let a=n.get(r);return a===void 0&&(a=++c,n.set(r,a)),a}i.of=u})(v||(v={}));class s{constructor(n){this._default=n}get(n){return this._default}update(n,c){return this._default}default(){return this._default}}class o{constructor(n,c,u,r,a,l){this._logService=n,this._name=c,this._registry=u,this._default=r,this._min=a,this._max=l,this._cache=new k.LRUCache(50,.7)}_key(n){return n.id+this._registry.all(n).reduce((c,u)=>(0,f.doHash)(v.of(u),c),0)}get(n){const c=this._key(n),u=this._cache.get(c);return u?(0,E.clamp)(u.value,this._min,this._max):this.default()}update(n,c){const u=this._key(n);let r=this._cache.get(u);r||(r=new E.SlidingWindowAverage(6),this._cache.set(u,r));const a=(0,E.clamp)(r.update(c),this._min,this._max);return(0,b.matchesScheme)(n.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${n.uri.toString()} is ${a}ms`),a}_overall(){const n=new E.MovingAverage;for(const[,c]of this._cache)n.update(c.value);return n.value}default(){const n=this._overall()|0||this._default;return(0,E.clamp)(n,this._min,this._max)}}let t=class{constructor(n,c){this._logService=n,this._data=new Map,this._isDev=c.isExtensionDevelopment||!c.isBuilt}for(n,c,u){var r,a,l;const d=(r=u?.min)!==null&&r!==void 0?r:50,p=(a=u?.max)!==null&&a!==void 0?a:d**2,h=(l=u?.key)!==null&&l!==void 0?l:void 0,g=`${v.of(n)},${d}${h?","+h:""}`;let C=this._data.get(g);return C||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${c}] is disabled in developed mode`),C=new s(d*1.5)):C=new o(this._logService,c,n,this._overallAverage()|0||d*1.5,d,p),this._data.set(g,C)),C}_overallAverage(){const n=new E.MovingAverage;for(const c of this._data.values())n.update(c.default());return n.value}};e.LanguageFeatureDebounceService=t,e.LanguageFeatureDebounceService=t=ke([ge(0,w.ILogService),ge(1,I.IEnvironmentService)],t),(0,y.registerSingleton)(e.ILanguageFeatureDebounceService,t,1)}),define(re[181],ae([1,0,13,18,8,53,44,9,5,78,7,48,51,2,17]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class n{remove(){var d;(d=this.parent)===null||d===void 0||d.children.delete(this.id)}static findId(d,p){let h;typeof d=="string"?h=`${p.id}/${d}`:(h=`${p.id}/${d.name}`,p.children.get(h)!==void 0&&(h=`${p.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let g=h;for(let C=0;p.children.get(g)!==void 0;C++)g=`${h}_${C}`;return g}static empty(d){return d.children.size===0}}e.TreeElement=n;class c extends n{constructor(d,p,h){super(),this.id=d,this.parent=p,this.symbol=h,this.children=new Map}}e.OutlineElement=c;class u extends n{constructor(d,p,h,g){super(),this.id=d,this.parent=p,this.label=h,this.order=g,this.children=new Map}}e.OutlineGroup=u;class r extends n{static create(d,p,h){const g=new k.CancellationTokenSource(h),C=new r(p.uri),S=d.ordered(p),_=S.map((D,T)=>{var N;const A=n.findId(`provider_${T}`,C),R=new u(A,C,(N=D.displayName)!==null&&N!==void 0?N:"Unknown Outline Provider",T);return Promise.resolve(D.provideDocumentSymbols(p,g.token)).then(M=>{for(const P of M||[])r._makeOutlineElement(P,R);return R},M=>((0,E.onUnexpectedExternalError)(M),R)).then(M=>{n.empty(M)?M.remove():C._groups.set(A,M)})}),L=d.onDidChange(()=>{const D=d.ordered(p);(0,f.equals)(D,S)||g.cancel()});return Promise.all(_).then(()=>g.token.isCancellationRequested&&!h.isCancellationRequested?r.create(d,p,h):C._compact()).finally(()=>{g.dispose(),L.dispose(),g.dispose()})}static _makeOutlineElement(d,p){const h=n.findId(d,p),g=new c(h,p,d);if(d.children)for(const C of d.children)r._makeOutlineElement(C,g);p.children.set(g.id,g)}constructor(d){super(),this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let d=0;for(const[p,h]of this._groups)h.children.size===0?this._groups.delete(p):d+=1;if(d!==1)this.children=this._groups;else{const p=I.Iterable.first(this._groups.values());for(const[,h]of p.children)h.parent=this,this.children.set(h.id,h)}return this}getTopLevelSymbols(){const d=[];for(const p of this.children.values())p instanceof c?d.push(p.symbol):d.push(...I.Iterable.map(p.children.values(),h=>h.symbol));return d.sort((p,h)=>w.Range.compareRangesUsingStarts(p.range,h.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),p=[];return r._flattenDocumentSymbols(p,d,""),p.sort((h,g)=>m.Position.compare(w.Range.getStartPosition(h.range),w.Range.getStartPosition(g.range))||m.Position.compare(w.Range.getEndPosition(g.range),w.Range.getEndPosition(h.range)))}static _flattenDocumentSymbols(d,p,h){for(const g of p)d.push({kind:g.kind,tags:g.tags,name:g.name,detail:g.detail,containerName:g.containerName||h,range:g.range,selectionRange:g.selectionRange,children:void 0}),g.children&&r._flattenDocumentSymbols(d,g.children,g.name)}}e.OutlineModel=r,e.IOutlineModelService=(0,v.createDecorator)("IOutlineModelService");let a=class{constructor(d,p,h){this._languageFeaturesService=d,this._disposables=new t.DisposableStore,this._cache=new y.LRUCache(10,.7),this._debounceInformation=p.for(d.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(h.onModelRemoved(g=>{this._cache.delete(g.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(d,p){const h=this._languageFeaturesService.documentSymbolProvider,g=h.ordered(d);let C=this._cache.get(d.id);if(!C||C.versionId!==d.getVersionId()||!(0,f.equals)(C.provider,g)){const _=new k.CancellationTokenSource;C={versionId:d.getVersionId(),provider:g,promiseCnt:0,source:_,promise:r.create(h,d,_.token),model:void 0},this._cache.set(d.id,C);const L=Date.now();C.promise.then(D=>{C.model=D,this._debounceInformation.update(d,Date.now()-L)}).catch(D=>{this._cache.delete(d.id)})}if(C.model)return C.model;C.promiseCnt+=1;const S=p.onCancellationRequested(()=>{--C.promiseCnt===0&&(C.source.cancel(),this._cache.delete(d.id))});try{return await C.promise}finally{S.dispose()}}};e.OutlineModelService=a,e.OutlineModelService=a=ke([ge(0,i.ILanguageFeaturesService),ge(1,b.ILanguageFeatureDebounceService),ge(2,o.IModelService)],a),(0,s.registerSingleton)(e.IOutlineModelService,a,1)}),define(re[687],ae([1,0,13,21,379,86,17,181,2,6]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let v=class extends w.Disposable{constructor(o,t,i){super(),this._textModel=o,this._languageFeaturesService=t,this._outlineModelService=i,this._currentModel=(0,k.observableValue)(this,void 0);const n=(0,k.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),c=(0,k.observableSignalFromEvent)("_textModel.onDidChangeContent",b.Event.debounce(u=>this._textModel.onDidChangeContent(u),()=>{},100));this._register((0,k.autorunWithStore)(async(u,r)=>{n.read(u),c.read(u);const a=r.add(new I.DisposableCancellationTokenSource),l=await this._outlineModelService.getOrCreate(this._textModel,a.token);r.isDisposed||this._currentModel.set(l,void 0)}))}getBreadcrumbItems(o,t){const i=this._currentModel.read(t);if(!i)return[];const n=i.asListOfDocumentSymbols().filter(c=>o.contains(c.range.startLineNumber)&&!o.contains(c.range.endLineNumber));return n.sort((0,f.reverseOrder)((0,f.compareBy)(c=>c.range.endLineNumber-c.range.startLineNumber,f.numberComparator))),n.map(c=>({name:c.name,kind:c.kind,startLineNumber:c.range.startLineNumber}))}};v=ke([ge(1,y.ILanguageFeaturesService),ge(2,m.IOutlineModelService)],v),E.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((s,o)=>o.createInstance(v,s))}),define(re[688],ae([1,0,18,19,22,77,181,24]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),m.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(w,...b){const[v]=b;(0,k.assertType)(E.URI.isUri(v));const s=w.get(y.IOutlineModelService),t=await w.get(I.ITextModelService).createModelReference(v);try{return(await s.getOrCreate(t.object.textEditorModel,f.CancellationToken.None)).getTopLevelSymbols()}finally{t.dispose()}})}),define(re[689],ae([1,0,65,4,52,14,6,127,2,118,61]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let o=s=class extends w.Disposable{constructor(i,n){super(),this.layoutService=i,this.logService=n,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(f.isSafari||f.isWebkitWebView)&&this.installWebKitWriteTextWorkaround(),this._register(y.Event.runAndSubscribe(k.onDidRegisterWindow,({window:c,disposables:u})=>{u.add((0,k.addDisposableListener)(c.document,"copy",()=>this.clearResources()))},{window:E.mainWindow,disposables:this._store}))}installWebKitWriteTextWorkaround(){const i=()=>{const n=new I.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=n,(0,k.getActiveWindow)().navigator.clipboard.write([new ClipboardItem({"text/plain":n.p})]).catch(async c=>{(!(c instanceof Error)||c.name!=="NotAllowedError"||!n.isRejected)&&this.logService.error(c)})};this._register(y.Event.runAndSubscribe(this.layoutService.onDidAddContainer,({container:n,disposables:c})=>{c.add((0,k.addDisposableListener)(n,"click",i)),c.add((0,k.addDisposableListener)(n,"keydown",i))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(i,n){if(this.writeResources([]),n){this.mapTextToType.set(n,i);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(i);try{return await(0,k.getActiveWindow)().navigator.clipboard.writeText(i)}catch(c){console.error(c)}this.fallbackWriteText(i)}fallbackWriteText(i){const n=(0,k.getActiveDocument)(),c=n.activeElement,u=n.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));u.style.height="1px",u.style.width="1px",u.style.position="absolute",u.value=i,u.focus(),u.select(),n.execCommand("copy"),(0,k.isHTMLElement)(c)&&c.focus(),u.remove()}async readText(i){if(i)return this.mapTextToType.get(i)||"";try{return await(0,k.getActiveWindow)().navigator.clipboard.readText()}catch(n){console.error(n)}return""}async readFindText(){return this.findText}async writeFindText(i){this.findText=i}async writeResources(i){i.length===0?this.clearResources():(this.resources=i,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const i=await this.computeResourcesStateHash();return this.resourcesStateHash!==i&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const i=await this.readText();return(0,m.hash)(i.substring(0,s.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};e.BrowserClipboardService=o,o.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,e.BrowserClipboardService=o=s=ke([ge(0,b.ILayoutService),ge(1,v.ILogService)],o)}),define(re[690],ae([1,0,2,61]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class E extends f.Disposable{constructor(y,m=[]){super(),this.logger=new k.MultiplexLogger([y,...m]),this._register(y.onDidChangeLogLevel(w=>this.setLevel(w)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(y){this.logger.setLevel(y)}getLevel(){return this.logger.getLevel()}trace(y,...m){this.logger.trace(y,...m)}debug(y,...m){this.logger.debug(y,...m)}info(y,...m){this.logger.info(y,...m)}warn(y,...m){this.logger.warn(y,...m)}error(y,...m){this.logger.error(y,...m)}}e.LogService=E}),define(re[107],ae([1,0,110,3,7]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var I;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(I||(e.MarkerSeverity=I={})),function(m){function w(t,i){return i-t}m.compare=w;const b=Object.create(null);b[m.Error]=(0,k.localize)(1589,"Error"),b[m.Warning]=(0,k.localize)(1590,"Warning"),b[m.Info]=(0,k.localize)(1591,"Info");function v(t){return b[t]||""}m.toString=v;function s(t){switch(t){case f.default.Error:return m.Error;case f.default.Warning:return m.Warning;case f.default.Info:return m.Info;case f.default.Ignore:return m.Hint}}m.fromSeverity=s;function o(t){switch(t){case m.Error:return f.default.Error;case m.Warning:return f.default.Warning;case m.Info:return f.default.Info;case m.Hint:return f.default.Ignore}}m.toSeverity=o}(I||(e.MarkerSeverity=I={}));var y;(function(m){const w="";function b(s){return v(s,!0)}m.makeKey=b;function v(s,o){const t=[w];return s.source?t.push(s.source.replace("\xA6","\\\xA6")):t.push(w),s.code?typeof s.code=="string"?t.push(s.code.replace("\xA6","\\\xA6")):t.push(s.code.value.replace("\xA6","\\\xA6")):t.push(w),s.severity!==void 0&&s.severity!==null?t.push(I.toString(s.severity)):t.push(w),s.message&&o?t.push(s.message.replace("\xA6","\\\xA6")):t.push(w),s.startLineNumber!==void 0&&s.startLineNumber!==null?t.push(s.startLineNumber.toString()):t.push(w),s.startColumn!==void 0&&s.startColumn!==null?t.push(s.startColumn.toString()):t.push(w),s.endLineNumber!==void 0&&s.endLineNumber!==null?t.push(s.endLineNumber.toString()):t.push(w),s.endColumn!==void 0&&s.endColumn!==null?t.push(s.endColumn.toString()):t.push(w),t.push(w),t.join("\xA6")}m.makeKeyOptionalMessage=v})(y||(e.IMarkerData=y={})),e.IMarkerService=(0,E.createDecorator)("markerService")}),define(re[691],ae([1,0,13,6,2,71,11,22,5,48,7,107,28]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class t{constructor(u,r,a){this.marker=u,this.index=r,this.total=a}}e.MarkerCoordinate=t;let i=class{constructor(u,r,a){this._markerService=r,this._configService=a,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new E.DisposableStore,this._markers=[],this._nextIdx=-1,m.URI.isUri(u)?this._resourceFilter=h=>h.toString()===u.toString():u&&(this._resourceFilter=u);const l=this._configService.getValue("problems.sortOrder"),d=(h,g)=>{let C=(0,y.compare)(h.resource.toString(),g.resource.toString());return C===0&&(l==="position"?C=w.Range.compareRangesUsingStarts(h,g)||s.MarkerSeverity.compare(h.severity,g.severity):C=s.MarkerSeverity.compare(h.severity,g.severity)||w.Range.compareRangesUsingStarts(h,g)),C},p=()=>{this._markers=this._markerService.read({resource:m.URI.isUri(u)?u:void 0,severities:s.MarkerSeverity.Error|s.MarkerSeverity.Warning|s.MarkerSeverity.Info}),typeof u=="function"&&(this._markers=this._markers.filter(h=>this._resourceFilter(h.resource))),this._markers.sort(d)};p(),this._dispoables.add(r.onMarkerChanged(h=>{(!this._resourceFilter||h.some(g=>this._resourceFilter(g)))&&(p(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(u){return!this._resourceFilter&&!u?!0:!this._resourceFilter||!u?!1:this._resourceFilter(u)}get selected(){const u=this._markers[this._nextIdx];return u&&new t(u,this._nextIdx+1,this._markers.length)}_initIdx(u,r,a){let l=!1,d=this._markers.findIndex(p=>p.resource.toString()===u.uri.toString());d<0&&(d=(0,f.binarySearch)(this._markers,{resource:u.uri},(p,h)=>(0,y.compare)(p.resource.toString(),h.resource.toString())),d<0&&(d=~d));for(let p=d;p<this._markers.length;p++){let h=w.Range.lift(this._markers[p]);if(h.isEmpty()){const g=u.getWordAtPosition(h.getStartPosition());g&&(h=new w.Range(h.startLineNumber,g.startColumn,h.startLineNumber,g.endColumn))}if(r&&(h.containsPosition(r)||r.isBeforeOrEqual(h.getStartPosition()))){this._nextIdx=p,l=!0;break}if(this._markers[p].resource.toString()!==u.uri.toString())break}l||(this._nextIdx=a?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(u,r,a){if(this._markers.length===0)return!1;const l=this._nextIdx;return this._nextIdx===-1?this._initIdx(r,a,u):u?this._nextIdx=(this._nextIdx+1)%this._markers.length:u||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),l!==this._nextIdx}find(u,r){let a=this._markers.findIndex(l=>l.resource.toString()===u.toString());if(!(a<0)){for(;a<this._markers.length;a++)if(w.Range.containsPosition(this._markers[a],r))return new t(this._markers[a],a+1,this._markers.length)}}};e.MarkerList=i,e.MarkerList=i=ke([ge(1,s.IMarkerService),ge(2,o.IConfigurationService)],i),e.IMarkerNavigationService=(0,v.createDecorator)("IMarkerNavigationService");let n=class{constructor(u,r){this._markerService=u,this._configService=r,this._provider=new I.LinkedList}getMarkerList(u){for(const r of this._provider){const a=r.getMarkerList(u);if(a)return a}return new i(u,this._markerService,this._configService)}};n=ke([ge(0,s.IMarkerService),ge(1,o.IConfigurationService)],n),(0,b.registerSingleton)(e.IMarkerNavigationService,n,1)}),define(re[692],ae([1,0,13,6,53,44,46,22,107]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([y.Schemas.inMemory,y.Schemas.vscodeSourceControl,y.Schemas.walkThrough,y.Schemas.walkThroughSnippet,y.Schemas.vscodeChatCodeBlock,y.Schemas.vscodeCopilotBackingChatCodeBlock]);class b{constructor(){this._byResource=new I.ResourceMap,this._byOwner=new Map}set(t,i,n){let c=this._byResource.get(t);c||(c=new Map,this._byResource.set(t,c)),c.set(i,n);let u=this._byOwner.get(i);u||(u=new I.ResourceMap,this._byOwner.set(i,u)),u.set(t,n)}get(t,i){const n=this._byResource.get(t);return n?.get(i)}delete(t,i){let n=!1,c=!1;const u=this._byResource.get(t);u&&(n=u.delete(i));const r=this._byOwner.get(i);if(r&&(c=r.delete(t)),n!==c)throw new Error("illegal state");return n&&c}values(t){var i,n,c,u;return typeof t=="string"?(n=(i=this._byOwner.get(t))===null||i===void 0?void 0:i.values())!==null&&n!==void 0?n:E.Iterable.empty():m.URI.isUri(t)?(u=(c=this._byResource.get(t))===null||c===void 0?void 0:c.values())!==null&&u!==void 0?u:E.Iterable.empty():E.Iterable.map(E.Iterable.concat(...this._byOwner.values()),r=>r[1])}}class v{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new I.ResourceMap,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const i of t){const n=this._data.get(i);n&&this._substract(n);const c=this._resourceStats(i);this._add(c),this._data.set(i,c)}}_resourceStats(t){const i={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(t.scheme))return i;for(const{severity:n}of this._service.read({resource:t}))n===w.MarkerSeverity.Error?i.errors+=1:n===w.MarkerSeverity.Warning?i.warnings+=1:n===w.MarkerSeverity.Info?i.infos+=1:i.unknowns+=1;return i}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class s{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:s._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new b,this._stats=new v(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,i){for(const n of i||[])this.changeOne(t,n,[])}changeOne(t,i,n){if((0,f.isFalsyOrEmpty)(n))this._data.delete(i,t)&&this._onMarkerChanged.fire([i]);else{const c=[];for(const u of n){const r=s._toMarker(t,i,u);r&&c.push(r)}this._data.set(i,t,c),this._onMarkerChanged.fire([i])}}static _toMarker(t,i,n){let{code:c,severity:u,message:r,source:a,startLineNumber:l,startColumn:d,endLineNumber:p,endColumn:h,relatedInformation:g,tags:C}=n;if(r)return l=l>0?l:1,d=d>0?d:1,p=p>=l?p:l,h=h>0?h:d,{resource:i,owner:t,code:c,severity:u,message:r,source:a,startLineNumber:l,startColumn:d,endLineNumber:p,endColumn:h,relatedInformation:g,tags:C}}changeAll(t,i){const n=[],c=this._data.values(t);if(c)for(const u of c){const r=E.Iterable.first(u);r&&(n.push(r.resource),this._data.delete(r.resource,t))}if((0,f.isNonEmptyArray)(i)){const u=new I.ResourceMap;for(const{resource:r,marker:a}of i){const l=s._toMarker(t,r,a);if(!l)continue;const d=u.get(r);d?d.push(l):(u.set(r,[l]),n.push(r))}for(const[r,a]of u)this._data.set(r,t,a)}n.length>0&&this._onMarkerChanged.fire(n)}read(t=Object.create(null)){let{owner:i,resource:n,severities:c,take:u}=t;if((!u||u<0)&&(u=-1),i&&n){const r=this._data.get(n,i);if(r){const a=[];for(const l of r)if(s._accept(l,c)){const d=a.push(l);if(u>0&&d===u)break}return a}else return[]}else if(!i&&!n){const r=[];for(const a of this._data.values())for(const l of a)if(s._accept(l,c)){const d=r.push(l);if(u>0&&d===u)return r}return r}else{const r=this._data.values(n??i),a=[];for(const l of r)for(const d of l)if(s._accept(d,c)){const p=a.push(d);if(u>0&&p===u)return a}return a}}static _accept(t,i){return i===void 0||(i&t.severity)===t.severity}static _merge(t){const i=new I.ResourceMap;for(const n of t)for(const c of n)i.set(c,!0);return Array.from(i.keys())}}e.MarkerService=s}),define(re[49],ae([1,0,110,7]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=f.default,e.INotificationService=(0,k.createDecorator)("notificationService");class E{}e.NoOpNotification=E}),define(re[391],ae([1,0,4,231,40,367,8,6,2,149,265,3,12,58,7,31,49,519]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let r=u=class extends w.Disposable{constructor(d,p,h,g,C,S,_,L,D,T){super(),this.typeId=d,this.editor=p,this.showCommand=g,this.range=C,this.edits=S,this.onSelectNewEdit=_,this._contextMenuService=L,this._keybindingService=T,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=h.bindTo(D),this.visibleContext.set(!0),this._register((0,w.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,w.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(N=>{C.containsPosition(N.position)||this.dispose()})),this._register(m.Event.runAndSubscribe(T.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var d;const p=(d=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||d===void 0?void 0:d.getLabel();this.button.element.title=this.showCommand.label+(p?` (${p})`:"")}create(){this.domNode=f.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,()=>this.showSelector()))}getId(){return u.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const d=f.getDomNodePagePosition(this.button.element);return{x:d.left+d.width,y:d.top+d.height}},getActions:()=>this.edits.allEdits.map((d,p)=>(0,E.toAction)({id:"",label:d.title,checked:p===this.edits.activeEditIndex,run:()=>{if(p!==this.edits.activeEditIndex)return this.onSelectNewEdit(p)}}))})}};r.baseId="editor.widget.postEditWidget",r=u=ke([ge(7,t.IContextMenuService),ge(8,o.IContextKeyService),ge(9,n.IKeybindingService)],r);let a=class extends w.Disposable{constructor(d,p,h,g,C,S,_){super(),this._id=d,this._editor=p,this._visibleContext=h,this._showCommand=g,this._instantiationService=C,this._bulkEditService=S,this._notificationService=_,this._currentWidget=this._register(new w.MutableDisposable),this._register(m.Event.any(p.onDidChangeModel,p.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(d,p,h,g,C){const S=this._editor.getModel();if(!S||!d.length)return;const _=p.allEdits.at(p.activeEditIndex);if(!_)return;const L=async x=>{const O=this._editor.getModel();O&&(await O.undo(),this.applyEditAndShowIfNeeded(d,{activeEditIndex:x,allEdits:p.allEdits},h,g,C))},D=(x,O)=>{(0,y.isCancellationError)(x)||(this._notificationService.error(O),h&&this.show(d[0],p,L))};let T;try{T=await g(_,C)}catch(x){return D(x,(0,s.localize)(654,`Error resolving edit '{0}':
{1}`,_.title,(0,I.toErrorMessage)(x)))}if(C.isCancellationRequested)return;const N=(0,v.createCombinedWorkspaceEdit)(S.uri,d,T),A=d[0],R=S.deltaDecorations([],[{range:A,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let M,P;try{M=await this._bulkEditService.apply(N,{editor:this._editor,token:C}),P=S.getDecorationRange(R[0])}catch(x){return D(x,(0,s.localize)(655,`Error applying edit '{0}':
{1}`,_.title,(0,I.toErrorMessage)(x)))}finally{S.deltaDecorations(R,[])}C.isCancellationRequested||h&&M.isApplied&&p.allEdits.length>1&&this.show(P??A,p,L)}show(d,p,h){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(r,this._id,this._editor,this._visibleContext,this._showCommand,d,p,h))}clear(){this._currentWidget.clear()}tryShowSelector(){var d;(d=this._currentWidget.value)===null||d===void 0||d.showSelector()}};e.PostEditWidgetManager=a,e.PostEditWidgetManager=a=ke([ge(4,i.IInstantiationService),ge(5,b.IBulkEditService),ge(6,c.INotificationService)],a)}),define(re[392],ae([1,0,21,223]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableConfigValue=E,e.bindContextKey=I;function E(y,m,w){return(0,k.observableFromEventOpts)({debugName:()=>`Configuration Key "${y}"`},b=>w.onDidChangeConfiguration(v=>{v.affectsConfiguration(y)&&b(v)}),()=>{var b;return(b=w.getValue(y))!==null&&b!==void 0?b:m})}function I(y,m,w){const b=y.bindTo(m);return(0,f.autorunOpts)({debugName:()=>`Set Context Key "${y.key}"`},v=>{b.set(w(v))})}}),define(re[693],ae([1,0,300,159,21,7]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapInReloadableClass1=w;class y{constructor(s){this.instantiationService=s}init(...s){}}function m(v,s){return class extends s{constructor(){super(...arguments),this._autorun=void 0}init(...t){this._autorun=(0,E.autorunWithStore)((i,n)=>{const c=(0,k.readHotReloadableExport)(v(),i);n.add(this.instantiationService.createInstance(c,...t))})}dispose(){var t;(t=this._autorun)===null||t===void 0||t.dispose()}}}function w(v){return(0,f.isHotReloadEnabled)()?m(v,b):v()}let b=class extends y{constructor(s,o){super(o),this.init(s)}};b=ke([ge(1,I.IInstantiationService)],b)}),define(re[62],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IOpenerService=void 0,e.extractSelection=k,e.IOpenerService=(0,f.createDecorator)("openerService");function k(E){let I;const y=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(E.fragment);return y&&(I={startLineNumber:parseInt(y[1]),startColumn:y[2]?parseInt(y[2]):1,endLineNumber:y[4]?parseInt(y[4]):void 0,endColumn:y[4]?y[5]?parseInt(y[5]):1:void 0},E=E.with({fragment:""})),{selection:I,uri:E}}}),define(re[694],ae([1,0,4,52,18,71,44,228,46,50,22,35,24,667,62]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let n=class{constructor(a){this._commandService=a}async open(a,l){if(!(0,w.matchesScheme)(a,w.Schemas.command))return!1;if(!l?.allowCommands||(typeof a=="string"&&(a=v.URI.parse(a)),Array.isArray(l.allowCommands)&&!l.allowCommands.includes(a.path)))return!0;let d=[];try{d=(0,m.parse)(decodeURIComponent(a.query))}catch{try{d=(0,m.parse)(a.query)}catch{}}return Array.isArray(d)||(d=[d]),await this._commandService.executeCommand(a.path,...d),!0}};n=ke([ge(0,o.ICommandService)],n);let c=class{constructor(a){this._editorService=a}async open(a,l){typeof a=="string"&&(a=v.URI.parse(a));const{selection:d,uri:p}=(0,i.extractSelection)(a);return a=p,a.scheme===w.Schemas.file&&(a=(0,b.normalizePath)(a)),await this._editorService.openCodeEditor({resource:a,options:{selection:d,source:l?.fromUserGesture?t.EditorOpenSource.USER:t.EditorOpenSource.API,...l?.editorOptions}},this._editorService.getFocusedCodeEditor(),l?.openToSide),!0}};c=ke([ge(0,s.ICodeEditorService)],c);let u=class{constructor(a,l){this._openers=new I.LinkedList,this._validators=new I.LinkedList,this._resolvers=new I.LinkedList,this._resolvedUriTargets=new y.ResourceMap(d=>d.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new I.LinkedList,this._defaultExternalOpener={openExternal:async d=>((0,w.matchesSomeScheme)(d,w.Schemas.http,w.Schemas.https)?f.windowOpenNoOpener(d):k.mainWindow.location.href=d,!0)},this._openers.push({open:async(d,p)=>p?.openExternal||(0,w.matchesSomeScheme)(d,w.Schemas.mailto,w.Schemas.http,w.Schemas.https,w.Schemas.vsls)?(await this._doOpenExternal(d,p),!0):!1}),this._openers.push(new n(l)),this._openers.push(new c(a))}registerOpener(a){return{dispose:this._openers.unshift(a)}}async open(a,l){var d;const p=typeof a=="string"?v.URI.parse(a):a,h=(d=this._resolvedUriTargets.get(p))!==null&&d!==void 0?d:a;for(const g of this._validators)if(!await g.shouldOpen(h,l))return!1;for(const g of this._openers)if(await g.open(a,l))return!0;return!1}async resolveExternalUri(a,l){for(const d of this._resolvers)try{const p=await d.resolveExternalUri(a,l);if(p)return this._resolvedUriTargets.has(p.resolved)||this._resolvedUriTargets.set(p.resolved,a),p}catch{}throw new Error("Could not resolve external URI: "+a.toString())}async _doOpenExternal(a,l){const d=typeof a=="string"?v.URI.parse(a):a;let p;try{p=(await this.resolveExternalUri(d,l)).resolved}catch{p=d}let h;if(typeof a=="string"&&d.toString()===p.toString()?h=a:h=encodeURI(p.toString(!0)),l?.allowContributedOpeners){const g=typeof l?.allowContributedOpeners=="string"?l?.allowContributedOpeners:void 0;for(const C of this._externalOpeners)if(await C.openExternal(h,{sourceUri:d,preferredOpenerId:g},E.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(h,{sourceUri:d},E.CancellationToken.None)}dispose(){this._validators.clear()}};e.OpenerService=u,e.OpenerService=u=ke([ge(0,s.ICodeEditorService),ge(1,o.ICommandService)],u)}),define(re[695],ae([1,0,4,92,45,68,6,2,62,43,117,553]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let s=class extends m.Disposable{get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}constructor(t,i,n={},c,u){var r,a;super(),this._link=i,this._hoverService=c,this._enabled=!0,this.el=(0,f.append)(t,(0,f.$)("a.monaco-link",{tabIndex:(r=i.tabIndex)!==null&&r!==void 0?r:0,href:i.href},i.label)),this.hoverDelegate=(a=n.hoverDelegate)!==null&&a!==void 0?a:(0,b.getDefaultHoverDelegate)("mouse"),this.setTooltip(i.title),this.el.setAttribute("role","button");const l=this._register(new k.DomEmitter(this.el,"click")),d=this._register(new k.DomEmitter(this.el,"keypress")),p=y.Event.chain(d.event,C=>C.map(S=>new E.StandardKeyboardEvent(S)).filter(S=>S.keyCode===3)),h=this._register(new k.DomEmitter(this.el,I.EventType.Tap)).event;this._register(I.Gesture.addTarget(this.el));const g=y.Event.any(l.event,p,h);this._register(g(C=>{this.enabled&&(f.EventHelper.stop(C,!0),n?.opener?n.opener(this._link.href):u.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(t){this.hoverDelegate.showNativeHover?this.el.title=t??"":!this.hover&&t?this.hover=this._register(this._hoverService.setupManagedHover(this.hoverDelegate,this.el,t)):this.hover&&this.hover.update(t)}};e.Link=s,e.Link=s=ke([ge(3,v.IHoverService),ge(4,w.IOpenerService)],s)}),define(re[96],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,f.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,f.createDecorator)("editorProgressService")}),define(re[696],ae([1,0,14,18,2,19]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var y;(function(v){v[v.NO_ACTION=0]="NO_ACTION",v[v.CLOSE_PICKER=1]="CLOSE_PICKER",v[v.REFRESH_PICKER=2]="REFRESH_PICKER",v[v.REMOVE_ITEM=3]="REMOVE_ITEM"})(y||(e.TriggerAction=y={}));function m(v){const s=v;return Array.isArray(s.items)}function w(v){const s=v;return!!s.picks&&s.additionalPicks instanceof Promise}class b extends E.Disposable{constructor(s,o){super(),this.prefix=s,this.options=o}provide(s,o,t){var i;const n=new E.DisposableStore;s.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;let c;const u=n.add(new E.MutableDisposable),r=async()=>{var l;const d=u.value=new E.DisposableStore;c?.dispose(!0),s.busy=!1,c=new k.CancellationTokenSource(o);const p=c.token;let h=s.value.substring(this.prefix.length);!((l=this.options)===null||l===void 0)&&l.shouldSkipTrimPickFilter||(h=h.trim());const g=this._getPicks(h,d,p,t),C=(_,L)=>{var D;let T,N;if(m(_)?(T=_.items,N=_.active):T=_,T.length===0){if(L)return!1;(h.length>0||s.hideInput)&&(!((D=this.options)===null||D===void 0)&&D.noResultsPick)&&((0,I.isFunction)(this.options.noResultsPick)?T=[this.options.noResultsPick(h)]:T=[this.options.noResultsPick])}return s.items=T,N&&(s.activeItems=[N]),!0},S=async _=>{let L=!1,D=!1;await Promise.all([(async()=>{typeof _.mergeDelay=="number"&&(await(0,f.timeout)(_.mergeDelay),p.isCancellationRequested)||D||(L=C(_.picks,!0))})(),(async()=>{s.busy=!0;try{const T=await _.additionalPicks;if(p.isCancellationRequested)return;let N,A;m(_.picks)?(N=_.picks.items,A=_.picks.active):N=_.picks;let R,M;if(m(T)?(R=T.items,M=T.active):R=T,R.length>0||!L){let P;if(!A&&!M){const x=s.activeItems[0];x&&N.indexOf(x)!==-1&&(P=x)}C({items:[...N,...R],active:A||M||P})}}finally{p.isCancellationRequested||(s.busy=!1),D=!0}})()])};if(g!==null)if(w(g))await S(g);else if(!(g instanceof Promise))C(g);else{s.busy=!0;try{const _=await g;if(p.isCancellationRequested)return;w(_)?await S(_):C(_)}finally{p.isCancellationRequested||(s.busy=!1)}}};n.add(s.onDidChangeValue(()=>r())),r(),n.add(s.onDidAccept(l=>{var d;if(t?.handleAccept){l.inBackground||s.hide(),(d=t.handleAccept)===null||d===void 0||d.call(t,s.activeItems[0]);return}const[p]=s.selectedItems;typeof p?.accept=="function"&&(l.inBackground||s.hide(),p.accept(s.keyMods,l))}));const a=async(l,d)=>{var p,h;if(typeof d.trigger!="function")return;const g=(h=(p=d.buttons)===null||p===void 0?void 0:p.indexOf(l))!==null&&h!==void 0?h:-1;if(g>=0){const C=d.trigger(g,s.keyMods),S=typeof C=="number"?C:await C;if(o.isCancellationRequested)return;switch(S){case y.NO_ACTION:break;case y.CLOSE_PICKER:s.hide();break;case y.REFRESH_PICKER:r();break;case y.REMOVE_ITEM:{const _=s.items.indexOf(d);if(_!==-1){const L=s.items.slice(),D=L.splice(_,1),T=s.activeItems.filter(A=>A!==D[0]),N=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=L,T&&(s.activeItems=T),s.keepScrollPosition=N}break}}}};return n.add(s.onDidTriggerItemButton(({button:l,item:d})=>a(l,d))),n.add(s.onDidTriggerSeparatorButton(({button:l,separator:d})=>a(l,d))),n}}e.PickerQuickAccessProvider=b}),define(re[697],ae([1,0,4,259,2,110,238]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const y=f.$;class m extends E.Disposable{constructor(b,v,s){super(),this.parent=b,this.onKeyDown=t=>f.addStandardDisposableListener(this.findInput.inputBox.inputElement,f.EventType.KEY_DOWN,t),this.onDidChange=t=>this.findInput.onDidChange(t),this.container=f.append(this.parent,y(".quick-input-box")),this.findInput=this._register(new k.FindInput(this.container,void 0,{label:"",inputBoxStyles:v,toggleStyles:s}));const o=this.findInput.inputBox.inputElement;o.role="combobox",o.ariaHasPopup="menu",o.ariaAutoComplete="list",o.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(b){this.findInput.setValue(b)}select(b=null){this.findInput.inputBox.select(b)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(b){this.findInput.inputBox.setPlaceHolder(b)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(b){this.findInput.inputBox.inputElement.type=b?"password":"text"}set enabled(b){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!b)}set toggles(b){this.findInput.setAdditionalToggles(b)}setAttribute(b,v){this.findInput.inputBox.inputElement.setAttribute(b,v)}showDecoration(b){b===I.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:b===I.default.Info?1:b===I.default.Warning?2:3,content:""})}stylesForType(b){return this.findInput.inputBox.stylesForType(b===I.default.Info?1:b===I.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=m}),define(re[393],ae([1,0,4,92,6,45,68,111,187,443,3,238]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputButtonToAction=i,e.renderQuickInputDescription=n;const s={},o=new w.IdGenerator("quick-input-button-icon-");function t(c){if(!c)return;let u;const r=c.dark.toString();return s[r]?u=s[r]:(u=o.nextId(),f.createCSSRule(`.${u}, .hc-light .${u}`,`background-image: ${f.asCSSUrl(c.light||c.dark)}`),f.createCSSRule(`.vs-dark .${u}, .hc-black .${u}`,`background-image: ${f.asCSSUrl(c.dark)}`),s[r]=u),u}function i(c,u,r){let a=c.iconClass||t(c.iconPath);return c.alwaysVisible&&(a=a?`${a} always-visible`:"always-visible"),{id:u,label:"",tooltip:c.tooltip||"",class:a,enabled:!0,run:r}}function n(c,u,r){f.reset(u);const a=(0,b.parseLinkedText)(c);let l=0;for(const d of a.nodes)if(typeof d=="string")u.append(...(0,m.renderLabelWithIcons)(d));else{let p=d.title;!p&&d.href.startsWith("command:")?p=(0,v.localize)(1562,"Click to execute command '{0}'",d.href.substring(8)):p||(p=d.href);const h=f.$("a",{href:d.href,title:p,tabIndex:l++},d.label);h.style.textDecoration="underline";const g=D=>{f.isEventLike(D)&&f.EventHelper.stop(D,!0),r.callback(d.href)},C=r.disposables.add(new k.DomEmitter(h,f.EventType.CLICK)).event,S=r.disposables.add(new k.DomEmitter(h,f.EventType.KEY_DOWN)).event,_=E.Event.chain(S,D=>D.filter(T=>{const N=new I.StandardKeyboardEvent(T);return N.equals(10)||N.equals(3)}));r.disposables.add(y.Gesture.addTarget(h));const L=r.disposables.add(new k.DomEmitter(h,y.EventType.Tap)).event;E.Event.any(C,L,_)(g,null,r.disposables),u.appendChild(h)}}}),define(re[63],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.QuickPickFocus=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(m){m[m.Blur=1]="Blur",m[m.Gesture=2]="Gesture",m[m.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var E;(function(m){m[m.NONE=0]="NONE",m[m.FIRST=1]="FIRST",m[m.SECOND=2]="SECOND",m[m.LAST=3]="LAST"})(E||(e.ItemActivation=E={}));var I;(function(m){m[m.First=1]="First",m[m.Second=2]="Second",m[m.Last=3]="Last",m[m.Next=4]="Next",m[m.Previous=5]="Previous",m[m.NextPage=6]="NextPage",m[m.PreviousPage=7]="PreviousPage",m[m.NextSeparator=8]="NextSeparator",m[m.PreviousSeparator=9]="PreviousSeparator"})(I||(e.QuickPickFocus=I={}));class y{constructor(w){this.options=w}}e.QuickPickItemScorerAccessor=y,e.quickPickItemScorerAccessor=new y,e.IQuickInputService=(0,f.createDecorator)("quickInputService")}),define(re[269],ae([1,0,4,45,163,13,14,26,6,2,16,110,30,3,63,393,28,117,63,12,238]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputHoverDelegate=e.InputBox=e.QuickPick=e.backButton=e.endOfQuickInputBoxContext=e.EndOfQuickInputBoxContextKey=e.endOfQuickInputBoxContextKeyValue=e.QuickInputTypeContextKey=e.quickInputTypeContextKeyValue=e.inQuickInputContext=e.InQuickInputContextKey=e.inQuickInputContextKeyValue=void 0,e.inQuickInputContextKeyValue="inQuickInput",e.InQuickInputContextKey=new a.RawContextKey(e.inQuickInputContextKeyValue,!1,(0,t.localize)(1574,"Whether keyboard focus is inside the quick input control")),e.inQuickInputContext=a.ContextKeyExpr.has(e.inQuickInputContextKeyValue),e.quickInputTypeContextKeyValue="quickInputType",e.QuickInputTypeContextKey=new a.RawContextKey(e.quickInputTypeContextKeyValue,void 0,(0,t.localize)(1575,"The type of the currently visible quick input")),e.endOfQuickInputBoxContextKeyValue="cursorAtEndOfQuickInputBox",e.EndOfQuickInputBoxContextKey=new a.RawContextKey(e.endOfQuickInputBoxContextKeyValue,!1,(0,t.localize)(1576,"Whether the cursor in the quick input is at the end of the input box")),e.endOfQuickInputBoxContext=a.ContextKeyExpr.has(e.endOfQuickInputBoxContextKeyValue),e.backButton={iconClass:o.ThemeIcon.asClassName(m.Codicon.quickInputBack),tooltip:(0,t.localize)(1577,"Back"),handle:-1};class l extends b.Disposable{constructor(C){super(),this.ui=C,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=l.noPromptMessage,this._severity=s.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.onDidHideEmitter=this._register(new w.Emitter),this.onWillHideEmitter=this._register(new w.Emitter),this.onDisposeEmitter=this._register(new w.Emitter),this.visibleDisposables=this._register(new b.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(C){this._title=C,this.update()}get description(){return this._description}set description(C){this._description=C,this.update()}get step(){return this._steps}set step(C){this._steps=C,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(C){this._totalSteps=C,this.update()}get enabled(){return this._enabled}set enabled(C){this._enabled=C,this.update()}get contextKey(){return this._contextKey}set contextKey(C){this._contextKey=C,this.update()}get busy(){return this._busy}set busy(C){this._busy=C,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(C){const S=this._ignoreFocusOut!==C&&!v.isIOS;this._ignoreFocusOut=C&&!v.isIOS,S&&this.update()}get buttons(){return this._buttons}set buttons(C){this._buttons=C,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(C){this._toggles=C??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(C){this._validationMessage=C,this.update()}get severity(){return this._severity}set severity(C){this._severity=C,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(C=>{this.buttons.indexOf(C)!==-1&&this.onDidTriggerButtonEmitter.fire(C)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(C=i.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:C})}willHide(C=i.QuickInputHideReason.Other){this.onWillHideEmitter.fire({reason:C})}update(){var C,S;if(!this.visible)return;const _=this.getTitle();_&&this.ui.title.textContent!==_?this.ui.title.textContent=_:!_&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const L=this.getDescription();if(this.ui.description1.textContent!==L&&(this.ui.description1.textContent=L),this.ui.description2.textContent!==L&&(this.ui.description2.textContent=L),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?f.reset(this.ui.widget,this._widget):f.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new y.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const T=this.buttons.filter(A=>A===e.backButton).map((A,R)=>(0,n.quickInputButtonToAction)(A,`id-${R}`,async()=>this.onDidTriggerButtonEmitter.fire(A)));this.ui.leftActionBar.push(T,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const N=this.buttons.filter(A=>A!==e.backButton).map((A,R)=>(0,n.quickInputButtonToAction)(A,`id-${R}`,async()=>this.onDidTriggerButtonEmitter.fire(A)));this.ui.rightActionBar.push(N,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const T=(S=(C=this.toggles)===null||C===void 0?void 0:C.filter(N=>N instanceof E.Toggle))!==null&&S!==void 0?S:[];this.ui.inputBox.toggles=T}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const D=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==D&&(this._lastValidationMessage=D,f.reset(this.ui.message),(0,n.renderQuickInputDescription)(D,this.ui.message,{callback:T=>{this.ui.linkOpenerDelegate(T)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,t.localize)(1579,"{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(C){if(this.ui.inputBox.showDecoration(C),C!==s.default.Ignore){const S=this.ui.inputBox.stylesForType(C);this.ui.message.style.color=S.foreground?`${S.foreground}`:"",this.ui.message.style.backgroundColor=S.background?`${S.background}`:"",this.ui.message.style.border=S.border?`1px solid ${S.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}l.noPromptMessage=(0,t.localize)(1578,"Press 'Enter' to confirm your input or 'Escape' to cancel");class d extends l{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new w.Emitter),this.onWillAcceptEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=i.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new w.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new w.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new w.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new w.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new w.EventBufferer,this.type="quickPick",this.filterValue=C=>C,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(C){this._quickNavigate=C,this.update()}get value(){return this._value}set value(C){this.doSetValue(C)}doSetValue(C,S){this._value!==C&&(this._value=C,S||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(C){this._ariaLabel=C,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(C){this._placeholder=C,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(C){this.ui.list.scrollTop=C}set items(C){this._items=C,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(C){this._canSelectMany=C,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(C){this._canAcceptInBackground=C}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(C){this._matchOnDescription=C,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(C){this._matchOnDetail=C,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(C){this._matchOnLabel=C,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(C){this._matchOnLabelMode=C,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(C){this._sortByLabel=C,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(C){this._keepScrollPosition=C}get itemActivation(){return this._itemActivation}set itemActivation(C){this._itemActivation=C}get activeItems(){return this._activeItems}set activeItems(C){this._activeItems=C,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(C){this._selectedItems=C,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?i.NO_KEY_MODS:this.ui.keyMods}get valueSelection(){const C=this.ui.inputBox.getSelection();if(C)return[C.start,C.end]}set valueSelection(C){this._valueSelection=C,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(C){this._customButton=C,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(C){this._customButtonLabel=C,this.update()}get customHover(){return this._customButtonHover}set customHover(C){this._customButtonHover=C,this.update()}get ok(){return this._ok}set ok(C){this._ok=C,this.update()}get hideInput(){return!!this._hideInput}set hideInput(C){this._hideInput=C,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(r.QuickPickFocus.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(C=>{this.doSetValue(C,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(C,S)=>S)(C=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,I.equals)(C,this._activeItems,(S,_)=>S===_)||(this._activeItems=C,this.onDidChangeActiveEmitter.fire(C))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:C,event:S})=>{if(this.canSelectMany){C.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,I.equals)(C,this._selectedItems,(_,L)=>_===L)||(this._selectedItems=C,this.onDidChangeSelectionEmitter.fire(C),C.length&&this.handleAccept(f.isMouseEvent(S)&&S.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(C=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,I.equals)(C,this._selectedItems,(S,_)=>S===_)||(this._selectedItems=C,this.onDidChangeSelectionEmitter.fire(C)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(C=>this.onDidTriggerItemButtonEmitter.fire(C))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(C=>this.onDidTriggerSeparatorButtonEmitter.fire(C))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(C){let S=!1;this.onWillAcceptEmitter.fire({veto:()=>S=!0}),S||this.onDidAcceptEmitter.fire({inBackground:C})}registerQuickNavigation(){return f.addDisposableListener(this.ui.container,f.EventType.KEY_UP,C=>{if(this.canSelectMany||!this._quickNavigate)return;const S=new k.StandardKeyboardEvent(C),_=S.keyCode;this._quickNavigate.keybindings.some(T=>{const N=T.getChords();return N.length>1?!1:N[0].shiftKey&&_===4?!(S.ctrlKey||S.altKey||S.metaKey):!!(N[0].altKey&&_===6||N[0].ctrlKey&&_===5||N[0].metaKey&&_===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const C=this.keepScrollPosition?this.scrollTop:0,S=!!this.description,_={title:!!this.title||!!this.step||!!this.buttons.length,description:S,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||S,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(_),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let L=this.ariaLabel;!L&&_.inputBox&&(L=this.placeholder||d.DEFAULT_ARIA_LABEL,this.title&&(L+=` - ${this.title}`)),this.ui.list.ariaLabel!==L&&(this.ui.list.ariaLabel=L??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case i.ItemActivation.NONE:this._itemActivation=i.ItemActivation.FIRST;break;case i.ItemActivation.SECOND:this.ui.list.focus(r.QuickPickFocus.Second),this._itemActivation=i.ItemActivation.FIRST;break;case i.ItemActivation.LAST:this.ui.list.focus(r.QuickPickFocus.Last),this._itemActivation=i.ItemActivation.FIRST;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",_.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(r.QuickPickFocus.First)),this.keepScrollPosition&&(this.scrollTop=C)}focus(C){this.ui.list.focus(C),this.canSelectMany&&this.ui.list.domFocus()}accept(C){C&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(C??!1))}}e.QuickPick=d,d.DEFAULT_ARIA_LABEL=(0,t.localize)(1580,"Type to narrow down results.");class p extends l{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(C){this._value=C||"",this.update()}get placeholder(){return this._placeholder}set placeholder(C){this._placeholder=C,this.update()}get password(){return this._password}set password(C){this._password=C,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(C=>{C!==this.value&&(this._value=C,this.onDidValueChangeEmitter.fire(C))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const C={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(C),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=p;let h=class extends u.WorkbenchHoverDelegate{constructor(C,S){super("element",!1,_=>this.getOverrideOptions(_),C,S)}getOverrideOptions(C){var S;const _=(f.isHTMLElement(C.content)?(S=C.content.textContent)!==null&&S!==void 0?S:"":typeof C.content=="string"?C.content:C.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:_,skipFadeInAnimation:!0}}}};e.QuickInputHoverDelegate=h,e.QuickInputHoverDelegate=h=ke([ge(0,c.IConfigurationService),ge(1,u.IHoverService)],h)}),define(re[38],ae([1,0,89,19]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class E{constructor(){this.data=new Map}add(y,m){f.ok(k.isString(y)),f.ok(k.isObject(m)),f.ok(!this.data.has(y),"There is already an extension with this id"),this.data.set(y,m)}as(y){return this.data.get(y)||null}}e.Registry=new E}),define(re[394],ae([1,0,38]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},f.Registry.add(e.Extensions.DragAndDropContribution,new k);class E{constructor(){}static getInstance(){return E.INSTANCE}hasData(y){return y&&y===this.proto}getData(y){if(this.hasData(y))return this.data}}e.LocalSelectionTransfer=E,E.INSTANCE=new E}),define(re[395],ae([1,0,221,194,126,22,394]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toVSDataTransfer=m,e.toExternalVSDataTransfer=v;function m(s){const o=new k.VSDataTransfer;for(const t of s.items){const i=t.type;if(t.kind==="string"){const n=new Promise(c=>t.getAsString(c));o.append(i,(0,k.createStringDataTransferItem)(n))}else if(t.kind==="file"){const n=t.getAsFile();n&&o.append(i,w(n))}}return o}function w(s){const o=s.path?I.URI.parse(s.path):void 0;return(0,k.createFileDataTransferItem)(s.name,o,async()=>new Uint8Array(await s.arrayBuffer()))}const b=Object.freeze([y.CodeDataTransfers.EDITORS,y.CodeDataTransfers.FILES,f.DataTransfers.RESOURCES,f.DataTransfers.INTERNAL_URI_LIST]);function v(s,o=!1){const t=m(s),i=t.get(f.DataTransfers.INTERNAL_URI_LIST);if(i)t.replace(E.Mimes.uriList,i);else if(o||!t.has(E.Mimes.uriList)){const n=[];for(const c of s.items){const u=c.getAsFile();if(u){const r=u.path;try{r?n.push(I.URI.file(r).toString()):n.push(I.URI.parse(u.name,!0).toString())}catch{}}}n.length&&t.replace(E.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(n)))}for(const n of b)t.delete(n);return t}}),define(re[270],ae([1,0,6,38]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function E(m){return m.length>0&&m.charAt(m.length-1)==="#"?m.substring(0,m.length-1):m}class I{constructor(){this._onDidChangeSchema=new f.Emitter,this.schemasById={}}registerSchema(w,b){this.schemasById[E(w)]=b,this._onDidChangeSchema.fire(w)}notifySchemaChanged(w){this._onDidChangeSchema.fire(w)}}const y=new I;k.Registry.add(e.Extensions.JSONContribution,y)}),define(re[108],ae([1,0,13,6,19,3,28,270,38]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.overrideIdentifiersFromKey=t,e.getDefaultValue=i,e.validateProperty=c,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const b=w.Registry.as(m.Extensions.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:I.localize(1647,"Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},b.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(r,a=!0){this.registerConfigurations([r],a)}registerConfigurations(r,a=!0){const l=new Set;this.doRegisterConfigurations(r,a,l),b.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l})}registerDefaultConfigurations(r){const a=new Set;this.doRegisterDefaultConfigurations(r,a),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:a,defaultsOverrides:!0})}doRegisterDefaultConfigurations(r,a){var l,d,p,h;const g=[];for(const{overrides:C,source:S}of r)for(const _ in C)if(a.add(_),e.OVERRIDE_PROPERTY_REGEX.test(_)){const L=this.configurationDefaultsOverrides.get(_),D=(l=L?.valuesSources)!==null&&l!==void 0?l:new Map,T=L?.value||{};for(const R of Object.keys(C[_])){const M=C[_][R];if(E.isObject(M)&&(E.isUndefined(T[R])||E.isObject(T[R]))){if(T[R]={...(d=T[R])!==null&&d!==void 0?d:{},...M},S){let x=D.get(R);if(x||(x=new Map,D.set(R,x)),!(x instanceof Map)){console.error("objectConfigurationSources is not a Map");continue}for(const O in M)x.set(O,S)}}else T[R]=M,S&&D.set(R,S)}this.configurationDefaultsOverrides.set(_,{source:S,value:T,valuesSources:D});const N=(0,y.getLanguageTagSettingPlainKey)(_),A={type:"object",default:T,description:I.localize(1648,"Configure settings to be overridden for the {0} language.",N),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:T,source:E.isString(S)?void 0:S,defaultValueSource:S};g.push(...t(_)),this.configurationProperties[_]=A,this.defaultLanguageConfigurationOverridesNode.properties[_]=A}else{const L=this.configurationProperties[_],D=this.configurationDefaultsOverrides.get(_);let T=(p=D?.value)!==null&&p!==void 0?p:L?.defaultDefaultValue,N=C[_],A=S;if(E.isObject(N)&&(L!==void 0&&L.type==="object"||L===void 0&&(E.isUndefined(T)||E.isObject(T)))){if(E.isObject(T)||(T={}),N={...T,...N},A=(h=D?.source)!==null&&h!==void 0?h:new Map,!(A instanceof Map)){console.error("defaultValueSource is not a Map");continue}for(const M in C[_])S?A.set(M,S):A.delete(M)}this.configurationDefaultsOverrides.set(_,{value:N,source:A}),L&&(this.updatePropertyDefaultValue(_,L),this.updateSchema(_,L))}this.doRegisterOverrideIdentifiers(g)}registerOverrideIdentifiers(r){this.doRegisterOverrideIdentifiers(r),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(r){for(const a of r)this.overrideIdentifiers.add(a);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(r,a,l){r.forEach(d=>{this.validateAndRegisterProperties(d,a,d.extensionInfo,d.restrictedProperties,void 0,l),this.configurationContributors.push(d),this.registerJSONConfiguration(d)})}validateAndRegisterProperties(r,a=!0,l,d,p=3,h){var g;p=E.isUndefinedOrNull(r.scope)?p:r.scope;const C=r.properties;if(C)for(const _ in C){const L=C[_];if(a&&c(_,L)){delete C[_];continue}if(L.source=l,L.defaultDefaultValue=C[_].default,this.updatePropertyDefaultValue(_,L),e.OVERRIDE_PROPERTY_REGEX.test(_)?L.scope=void 0:(L.scope=E.isUndefinedOrNull(L.scope)?p:L.scope,L.restricted=E.isUndefinedOrNull(L.restricted)?!!d?.includes(_):L.restricted),C[_].hasOwnProperty("included")&&!C[_].included){this.excludedConfigurationProperties[_]=C[_],delete C[_];continue}else this.configurationProperties[_]=C[_],!((g=C[_].policy)===null||g===void 0)&&g.name&&this.policyConfigurations.set(C[_].policy.name,_);!C[_].deprecationMessage&&C[_].markdownDeprecationMessage&&(C[_].deprecationMessage=C[_].markdownDeprecationMessage),h.add(_)}const S=r.allOf;if(S)for(const _ of S)this.validateAndRegisterProperties(_,a,l,d,p,h)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(r){const a=l=>{const d=l.properties;if(d)for(const h in d)this.updateSchema(h,d[h]);const p=l.allOf;p?.forEach(a)};a(r)}updateSchema(r,a){switch(e.allSettings.properties[r]=a,a.scope){case 1:e.applicationSettings.properties[r]=a;break;case 2:e.machineSettings.properties[r]=a;break;case 6:e.machineOverridableSettings.properties[r]=a;break;case 3:e.windowSettings.properties[r]=a;break;case 4:e.resourceSettings.properties[r]=a;break;case 5:e.resourceSettings.properties[r]=a,this.resourceLanguageSettingsSchema.properties[r]=a;break}}updateOverridePropertyPatternKey(){for(const r of this.overrideIdentifiers.values()){const a=`[${r}]`,l={type:"object",description:I.localize(1649,"Configure editor settings to be overridden for a language."),errorMessage:I.localize(1650,"This setting does not support per-language configuration."),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(a,l),e.allSettings.properties[a]=l,e.applicationSettings.properties[a]=l,e.machineSettings.properties[a]=l,e.machineOverridableSettings.properties[a]=l,e.windowSettings.properties[a]=l,e.resourceSettings.properties[a]=l}}registerOverridePropertyPatternKey(){const r={type:"object",description:I.localize(1651,"Configure editor settings to be overridden for a language."),errorMessage:I.localize(1652,"This setting does not support per-language configuration."),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=r,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(r,a){const l=this.configurationDefaultsOverrides.get(r);let d=l?.value,p=l?.source;E.isUndefined(d)&&(d=a.defaultDefaultValue,p=void 0),E.isUndefined(d)&&(d=i(a.type)),a.default=d,a.defaultValueSource=p}}const s="\\[([^\\]]+)\\]",o=new RegExp(s,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${s})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(u){const r=[];if(e.OVERRIDE_PROPERTY_REGEX.test(u)){let a=o.exec(u);for(;a?.length;){const l=a[1].trim();l&&r.push(l),a=o.exec(u)}}return(0,f.distinct)(r)}function i(u){switch(Array.isArray(u)?u[0]:u){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const n=new v;w.Registry.add(e.Extensions.Configuration,n);function c(u,r){var a,l,d,p;return u.trim()?e.OVERRIDE_PROPERTY_REGEX.test(u)?I.localize(1654,"Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",u):n.getConfigurationProperties()[u]!==void 0?I.localize(1655,"Cannot register '{0}'. This property is already registered.",u):!((a=r.policy)===null||a===void 0)&&a.name&&n.getPolicyConfigurations().get((l=r.policy)===null||l===void 0?void 0:l.name)!==void 0?I.localize(1656,"Cannot register '{0}'. The associated policy {1} is already registered with {2}.",u,(d=r.policy)===null||d===void 0?void 0:d.name,n.getPolicyConfigurations().get((p=r.policy)===null||p===void 0?void 0:p.name)):null:I.localize(1653,"Cannot register an empty property")}}),define(re[271],ae([1,0,320,37,196,3,108,38]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorConfigurationBaseNode=void 0,e.isEditorConfigurationKey=o,e.isDiffEditorConfigurationKey=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:I.localize(1507,"Editor"),scope:5});const w={...e.editorConfigurationBaseNode,properties:{"editor.tabSize":{type:"number",default:E.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:I.localize(1508,"The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:I.localize(1509,'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:I.localize(1510,"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:I.localize(1511,"Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:I.localize(1512,"Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:I.localize(1513,"Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[I.localize(1514,"Turn off Word Based Suggestions."),I.localize(1515,"Only suggest words from the active document."),I.localize(1516,"Suggest words from all open documents of the same language."),I.localize(1517,"Suggest words from all open documents.")],description:I.localize(1518,"Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[I.localize(1519,"Semantic highlighting enabled for all color themes."),I.localize(1520,"Semantic highlighting disabled for all color themes."),I.localize(1521,"Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:I.localize(1522,"Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:I.localize(1523,"Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:I.localize(1524,"Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:I.localize(1525,"Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:I.localize(1526,"Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:I.localize(1527,"Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:I.localize(1528,"Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:I.localize(1529,"The opening bracket character or string sequence.")},{type:"string",description:I.localize(1530,"The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:I.localize(1531,"Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:I.localize(1532,"The opening bracket character or string sequence.")},{type:"string",description:I.localize(1533,"The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:f.diffEditorDefaultOptions.maxComputationTime,description:I.localize(1534,"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:f.diffEditorDefaultOptions.maxFileSize,description:I.localize(1535,"Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:f.diffEditorDefaultOptions.renderSideBySide,description:I.localize(1536,"Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:f.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:I.localize(1537,"If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:f.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:I.localize(1538,"If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:f.diffEditorDefaultOptions.renderMarginRevertIcon,description:I.localize(1539,"When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:f.diffEditorDefaultOptions.renderGutterMenu,description:I.localize(1540,"When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:f.diffEditorDefaultOptions.ignoreTrimWhitespace,description:I.localize(1541,"When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:f.diffEditorDefaultOptions.renderIndicators,description:I.localize(1542,"Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:f.diffEditorDefaultOptions.diffCodeLens,description:I.localize(1543,"Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:f.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[I.localize(1544,"Lines will never wrap."),I.localize(1545,"Lines will wrap at the viewport width."),I.localize(1546,"Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:f.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[I.localize(1547,"Uses the legacy diffing algorithm."),I.localize(1548,"Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:f.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:I.localize(1549,"Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:I.localize(1550,"Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:I.localize(1551,"Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:I.localize(1552,"Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:I.localize(1553,"Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:I.localize(1554,"Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};function b(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of k.editorOptionsRegistry){const c=n.schema;if(typeof c<"u")if(b(c))w.properties[`editor.${n.name}`]=c;else for(const u in c)Object.hasOwnProperty.call(c,u)&&(w.properties[u]=c[u])}let v=null;function s(){return v===null&&(v=Object.create(null),Object.keys(w.properties).forEach(n=>{v[n]=!0})),v}function o(n){return s()[`editor.${n}`]||!1}function t(n){return s()[`diffEditor.${n}`]||!1}m.Registry.as(y.Extensions.Configuration).registerConfiguration(w)}),define(re[79],ae([1,0,3,6,38,126,108]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class m{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(b){return this._languages.push(b),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let v=0,s=this._languages.length;v<s;v++)if(this._languages[v]===b){this._languages.splice(v,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=m,e.ModesRegistry=new m,E.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[f.localize(1064,"Plain Text"),"text"],mimetypes:[I.Mimes.text]}),E.Registry.as(y.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(re[119],ae([1,0,192,102,8,6,2,74,42,79,371,62,512]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0,e.openLinkFromMarkdown=i;let t=o=class{constructor(u,r,a){this._options=u,this._languageService=r,this._openerService=a,this._onDidRenderAsync=new I.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(u,r,a){if(!u)return{element:document.createElement("span"),dispose:()=>{}};const l=new y.DisposableStore,d=l.add((0,f.renderMarkdown)(u,{...this._getRenderOptions(u,l),...r},a));return d.element.classList.add("rendered-markdown"),{element:d.element,dispose:()=>l.dispose()}}_getRenderOptions(u,r){return{codeBlockRenderer:async(a,l)=>{var d,p,h;let g;a?g=this._languageService.getLanguageIdByLanguageName(a):this._options.editor&&(g=(d=this._options.editor.getModel())===null||d===void 0?void 0:d.getLanguageId()),g||(g=b.PLAINTEXT_LANGUAGE_ID);const C=await(0,v.tokenizeToString)(this._languageService,l,g),S=document.createElement("span");if(S.innerHTML=(h=(p=o._ttpTokenizer)===null||p===void 0?void 0:p.createHTML(C))!==null&&h!==void 0?h:C,this._options.editor){const _=this._options.editor.getOption(50);(0,m.applyFontInfo)(S,_)}else this._options.codeBlockFontFamily&&(S.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(S.style.fontSize=this._options.codeBlockFontSize),S},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:a=>i(this._openerService,a,u.isTrusted),disposables:r}}}};e.MarkdownRenderer=t,t._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(c){return c}}),e.MarkdownRenderer=t=o=ke([ge(1,w.ILanguageService),ge(2,s.IOpenerService)],t);async function i(c,u,r){try{return await c.open(u,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:n(r)})}catch(a){return(0,E.onUnexpectedError)(a),!1}}function n(c){return c===!0?!0:c&&Array.isArray(c.enabledCommands)?c.enabledCommands:!1}}),define(re[698],ae([1,0,2,6,4,31,28,37,173,84,62,7,119,55,3,16,60,47,491]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverWidget=void 0;const r=E.$;let a=class extends b.Widget{get _targetWindow(){return E.getWindow(this._target.targetElements[0])}get _targetDocumentElement(){return E.getWindow(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(h){this._isLocked!==h&&(this._isLocked=h,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(h,g,C,S,_,L){var D,T,N,A,R,M,P,x;super(),this._keybindingService=g,this._configurationService=C,this._openerService=S,this._instantiationService=_,this._accessibilityService=L,this._messageListeners=new f.DisposableStore,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new k.Emitter),this._onRequestLayout=this._register(new k.Emitter),this._linkHandler=h.linkHandler||(j=>(0,o.openLinkFromMarkdown)(this._openerService,j,(0,t.isMarkdownString)(h.content)?h.content.isTrusted:void 0)),this._target="targetElements"in h.target?h.target:new d(h.target),this._hoverPointer=!((D=h.appearance)===null||D===void 0)&&D.showPointer?r("div.workbench-hover-pointer"):void 0,this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((T=h.appearance)===null||T===void 0)&&T.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((N=h.appearance)===null||N===void 0)&&N.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),h.additionalClasses&&this._hover.containerDomNode.classList.add(...h.additionalClasses),!((A=h.position)===null||A===void 0)&&A.forcePosition&&(this._forcePosition=!0),h.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(M=(R=h.position)===null||R===void 0?void 0:R.hoverPosition)!==null&&M!==void 0?M:3,this.onmousedown(this._hover.containerDomNode,j=>j.stopPropagation()),this.onkeydown(this._hover.containerDomNode,j=>{j.equals(9)&&this.dispose()}),this._register(E.addDisposableListener(this._targetWindow,"blur",()=>this.dispose()));const O=r("div.hover-row.markdown-hover"),B=r("div.hover-contents");if(typeof h.content=="string")B.textContent=h.content,B.style.whiteSpace="pre-wrap";else if(E.isHTMLElement(h.content))B.appendChild(h.content),B.classList.add("html-hover-contents");else{const j=h.content,U=this._instantiationService.createInstance(o.MarkdownRenderer,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||m.EDITOR_FONT_DEFAULTS.fontFamily}),{element:Y}=U.render(j,{actionHandler:{callback:Q=>this._linkHandler(Q),disposables:this._messageListeners},asyncRenderCallback:()=>{B.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});B.appendChild(Y)}if(O.appendChild(B),this._hover.contentsDomNode.appendChild(O),h.actions&&h.actions.length>0){const j=r("div.hover-row.status-bar"),U=r("div.actions");h.actions.forEach(Y=>{const Q=this._keybindingService.lookupKeybinding(Y.commandId),Z=Q?Q.getLabel():null;w.HoverAction.render(U,{label:Y.label,commandId:Y.commandId,run:G=>{Y.run(G),this.dispose()},iconClass:Y.iconClass},Z)}),j.appendChild(U),this._hover.containerDomNode.appendChild(j)}this._hoverContainer=r("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let H;if(h.actions&&h.actions.length>0?H=!1:((P=h.persistence)===null||P===void 0?void 0:P.hideOnHover)===void 0?H=typeof h.content=="string"||(0,t.isMarkdownString)(h.content)&&!h.content.value.includes("](")&&!h.content.value.includes("</a>"):H=h.persistence.hideOnHover,H&&(!((x=h.appearance)===null||x===void 0)&&x.showHoverHint)){const j=r("div.hover-row.status-bar"),U=r("div.info");U.textContent=(0,i.localize)(785,"Hold {0} key to mouse over",n.isMacintosh?"Option":"Alt"),j.appendChild(U),this._hover.containerDomNode.appendChild(j)}const K=[...this._target.targetElements];H||K.push(this._hoverContainer);const V=this._register(new l(K));if(this._register(V.onMouseOut(()=>{this._isLocked||this.dispose()})),H){const j=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new l(j)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=V}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const h=this._hover.containerDomNode,g=this.findLastFocusableChild(this._hover.containerDomNode);if(g){const C=E.prepend(this._hoverContainer,r("div")),S=E.append(this._hoverContainer,r("div"));C.tabIndex=0,S.tabIndex=0,this._register(E.addDisposableListener(S,"focus",_=>{h.focus(),_.preventDefault()})),this._register(E.addDisposableListener(C,"focus",_=>{g.focus(),_.preventDefault()}))}}findLastFocusableChild(h){if(h.hasChildNodes())for(let g=0;g<h.childNodes.length;g++){const C=h.childNodes.item(h.childNodes.length-g-1);if(C.nodeType===C.ELEMENT_NODE){const _=C;if(typeof _.tabIndex=="number"&&_.tabIndex>=0)return _}const S=this.findLastFocusableChild(C);if(S)return S}}render(h){var g;h.appendChild(this._hoverContainer);const S=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,w.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(g=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||g===void 0?void 0:g.getAriaLabel());S&&(0,u.status)(S),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const h=A=>{const R=E.getDomNodeZoomLevel(A),M=A.getBoundingClientRect();return{top:M.top*R,bottom:M.bottom*R,right:M.right*R,left:M.left*R}},g=this._target.targetElements.map(A=>h(A)),{top:C,right:S,bottom:_,left:L}=g[0],D=S-L,T=_-C,N={top:C,right:S,bottom:_,left:L,width:D,height:T,center:{x:L+D/2,y:C+T/2}};if(this.adjustHorizontalHoverPosition(N),this.adjustVerticalHoverPosition(N),this.adjustHoverMaxHeight(N),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:N.left+=3,N.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:N.left-=3,N.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:N.top+=3,N.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:N.top-=3,N.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}N.center.x=N.left+D/2,N.center.y=N.top+T/2}this.computeXCordinate(N),this.computeYCordinate(N),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(N)),this._hover.onContentsChanged()}computeXCordinate(h){const g=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=h.right:this._hoverPosition===0?this._x=h.left-g:(this._hoverPointer?this._x=h.center.x-this._hover.containerDomNode.clientWidth/2:this._x=h.left,this._x+g>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-g-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=h.left+2)}computeYCordinate(h){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=h.top:this._hoverPosition===2?this._y=h.bottom-2:this._hoverPointer?this._y=h.center.y+this._hover.containerDomNode.clientHeight/2:this._y=h.bottom,this._y>this._targetWindow.innerHeight&&(this._y=h.bottom)}adjustHorizontalHoverPosition(h){if(this._target.x!==void 0)return;const g=this._hoverPointer?3:0;if(this._forcePosition){const C=g+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-h.right-C}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${h.left-C}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-h.right<this._hover.containerDomNode.clientWidth+g&&(h.left>=this._hover.containerDomNode.clientWidth+g?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(h.left<this._hover.containerDomNode.clientWidth+g&&(this._targetDocumentElement.clientWidth-h.right>=this._hover.containerDomNode.clientWidth+g?this._hoverPosition=1:this._hoverPosition=2),h.left-this._hover.containerDomNode.clientWidth-g<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(h){if(this._target.y!==void 0||this._forcePosition)return;const g=this._hoverPointer?3:0;this._hoverPosition===3?h.top-this._hover.containerDomNode.clientHeight-g<0&&(this._hoverPosition=2):this._hoverPosition===2&&h.bottom+this._hover.containerDomNode.clientHeight+g>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(h){let g=this._targetWindow.innerHeight/2;if(this._forcePosition){const C=(this._hoverPointer?3:0)+2;this._hoverPosition===3?g=Math.min(g,h.top-C):this._hoverPosition===2&&(g=Math.min(g,this._targetWindow.innerHeight-h.bottom-C))}if(this._hover.containerDomNode.style.maxHeight=`${g}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const C=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==C&&(this._hover.contentsDomNode.style.paddingRight=C)}}setHoverPointerPosition(h){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const g=this._hover.containerDomNode.clientHeight;g>h.height?this._hoverPointer.style.top=`${h.center.y-(this._y-g)-3}px`:this._hoverPointer.style.top=`${Math.round(g/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const g=this._hover.containerDomNode.clientWidth;let C=Math.round(g/2)-3;const S=this._x+C;(S<h.left||S>h.right)&&(C=h.center.x-this._x-3),this._hoverPointer.style.left=`${C}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};e.HoverWidget=a,e.HoverWidget=a=ke([ge(1,I.IKeybindingService),ge(2,y.IConfigurationService),ge(3,v.IOpenerService),ge(4,s.IInstantiationService),ge(5,c.IAccessibilityService)],a);class l extends b.Widget{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(h){super(),this._elements=h,this._isMouseIn=!0,this._onMouseOut=this._register(new k.Emitter),this._elements.forEach(g=>this.onmouseover(g,()=>this._onTargetMouseOver(g))),this._elements.forEach(g=>this.onmouseleave(g,()=>this._onTargetMouseLeave(g)))}_onTargetMouseOver(h){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(h)}_onTargetMouseLeave(h){this._isMouseIn=!1,this._evaluateMouseState(h)}_evaluateMouseState(h){this._clearEvaluateMouseStateTimeout(h),this._mouseTimeout=E.getWindow(h).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(h){this._mouseTimeout&&(E.getWindow(h).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class d{constructor(h){this._element=h,this.targetElements=[this._element]}dispose(){}}}),define(re[34],ae([1,0,6,2,11,168,128,579,583,580,582,199,7,28,42,48,79,584]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0,e.getIndentationAtPosition=g;class r{constructor(A){this.languageId=A}affects(A){return this.languageId?this.languageId===A:!0}}e.LanguageConfigurationServiceChangeEvent=r,e.ILanguageConfigurationService=(0,o.createDecorator)("languageConfigurationService");let a=class extends k.Disposable{constructor(A,R){super(),this.configurationService=A,this.languageService=R,this._registry=this._register(new D),this.onDidChangeEmitter=this._register(new f.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const M=new Set(Object.values(d));this._register(this.configurationService.onDidChangeConfiguration(P=>{const x=P.change.keys.some(B=>M.has(B)),O=P.change.overrides.filter(([B,H])=>H.some(K=>M.has(K))).map(([B])=>B);if(x)this.configurations.clear(),this.onDidChangeEmitter.fire(new r(void 0));else for(const B of O)this.languageService.isRegisteredLanguageId(B)&&(this.configurations.delete(B),this.onDidChangeEmitter.fire(new r(B)))})),this._register(this._registry.onDidChange(P=>{this.configurations.delete(P.languageId),this.onDidChangeEmitter.fire(new r(P.languageId))}))}register(A,R,M){return this._registry.register(A,R,M)}getLanguageConfiguration(A){let R=this.configurations.get(A);return R||(R=l(A,this._registry,this.configurationService,this.languageService),this.configurations.set(A,R)),R}};e.LanguageConfigurationService=a,e.LanguageConfigurationService=a=ke([ge(0,t.IConfigurationService),ge(1,i.ILanguageService)],a);function l(N,A,R,M){let P=A.getLanguageConfiguration(N);if(!P){if(!M.isRegisteredLanguageId(N))return new T(N,{});P=new T(N,{})}const x=p(P.languageId,R),O=S([P.underlyingConfig,x]);return new T(P.languageId,O)}const d={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function p(N,A){const R=A.getValue(d.brackets,{overrideIdentifier:N}),M=A.getValue(d.colorizedBracketPairs,{overrideIdentifier:N});return{brackets:h(R),colorizedBracketPairs:h(M)}}function h(N){if(Array.isArray(N))return N.map(A=>{if(!(!Array.isArray(A)||A.length!==2))return[A[0],A[1]]}).filter(A=>!!A)}function g(N,A,R){const M=N.getLineContent(A);let P=E.getLeadingWhitespace(M);return P.length>R-1&&(P=P.substring(0,R-1)),P}class C{constructor(A){this.languageId=A,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(A,R){const M=new _(A,R,++this._order);return this._entries.push(M),this._resolved=null,(0,k.toDisposable)(()=>{for(let P=0;P<this._entries.length;P++)if(this._entries[P]===M){this._entries.splice(P,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const A=this._resolve();A&&(this._resolved=new T(this.languageId,A))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(_.cmp),S(this._entries.map(A=>A.configuration)))}}function S(N){let A={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const R of N)A={comments:R.comments||A.comments,brackets:R.brackets||A.brackets,wordPattern:R.wordPattern||A.wordPattern,indentationRules:R.indentationRules||A.indentationRules,onEnterRules:R.onEnterRules||A.onEnterRules,autoClosingPairs:R.autoClosingPairs||A.autoClosingPairs,surroundingPairs:R.surroundingPairs||A.surroundingPairs,autoCloseBefore:R.autoCloseBefore||A.autoCloseBefore,folding:R.folding||A.folding,colorizedBracketPairs:R.colorizedBracketPairs||A.colorizedBracketPairs,__electricCharacterSupport:R.__electricCharacterSupport||A.__electricCharacterSupport};return A}class _{constructor(A,R,M){this.configuration=A,this.priority=R,this.order=M}static cmp(A,R){return A.priority===R.priority?A.order-R.order:A.priority-R.priority}}class L{constructor(A){this.languageId=A}}e.LanguageConfigurationChangeEvent=L;class D extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(c.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(A,R,M=0){let P=this._entries.get(A);P||(P=new C(A),this._entries.set(A,P));const x=P.register(R,M);return this._onDidChange.fire(new L(A)),(0,k.toDisposable)(()=>{x.dispose(),this._onDidChange.fire(new L(A))})}getLanguageConfiguration(A){const R=this._entries.get(A);return R?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=D;class T{constructor(A,R){this.languageId=A,this.underlyingConfig=R,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new v.OnEnterSupport(this.underlyingConfig):null,this.comments=T._handleComments(this.underlyingConfig),this.characterPair=new m.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||I.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new b.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new u.LanguageBracketsConfiguration(A,this.underlyingConfig)}getWordDefinition(){return(0,I.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new w.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(A,R,M,P){return this._onEnterSupport?this._onEnterSupport.onEnter(A,R,M,P):null}getAutoClosingPairs(){return new y.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(A){return this.characterPair.getAutoCloseBeforeSet(A)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(A){const R=A.comments;if(!R)return null;const M={};if(R.lineComment&&(M.lineCommentToken=R.lineComment),R.blockComment){const[P,x]=R.blockComment;M.blockCommentStartToken=P,M.blockCommentEndToken=x}return M}}e.ResolvedLanguageConfiguration=T,(0,n.registerSingleton)(e.ILanguageConfigurationService,a,1)}),define(re[272],ae([1,0,14,2,308,464,5,34,662,51,209,13,61,59,8,17,243,104,56,52,4]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const d=60*1e3,p=5*60*1e3;function h(N,A){const R=N.getModel(A);return!(!R||R.isTooLargeForSyncing())}let g=class extends k.Disposable{constructor(A,R,M,P,x){super(),this._modelService=A,this._workerManager=this._register(new S(this._modelService,P)),this._logService=M,this._register(x.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,B)=>h(this._modelService,O.uri)?this._workerManager.withWorker().then(H=>H.computeLinks(O.uri)).then(H=>H&&{links:H}):Promise.resolve({links:[]})})),this._register(x.completionProvider.register("*",new C(this._workerManager,R,this._modelService,P)))}dispose(){super.dispose()}canComputeUnicodeHighlights(A){return h(this._modelService,A)}computedUnicodeHighlights(A,R,M){return this._workerManager.withWorker().then(P=>P.computedUnicodeHighlights(A,R,M))}async computeDiff(A,R,M,P){const x=await this._workerManager.withWorker().then(H=>H.computeDiff(A,R,M,P));if(!x)return null;return{identical:x.identical,quitEarly:x.quitEarly,changes:B(x.changes),moves:x.moves.map(H=>new c.MovedText(new u.LineRangeMapping(new r.LineRange(H[0],H[1]),new r.LineRange(H[2],H[3])),B(H[4])))};function B(H){return H.map(K=>{var V;return new u.DetailedLineRangeMapping(new r.LineRange(K[0],K[1]),new r.LineRange(K[2],K[3]),(V=K[4])===null||V===void 0?void 0:V.map(j=>new u.RangeMapping(new y.Range(j[0],j[1],j[2],j[3]),new y.Range(j[4],j[5],j[6],j[7]))))})}}computeMoreMinimalEdits(A,R,M=!1){if((0,s.isNonEmptyArray)(R)){if(!h(this._modelService,A))return Promise.resolve(R);const P=t.StopWatch.create(),x=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(A,R,M));return x.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",A.toString(!0),P.elapsed())),Promise.race([x,(0,f.timeout)(1e3).then(()=>R)])}else return Promise.resolve(void 0)}canNavigateValueSet(A){return h(this._modelService,A)}navigateValueSet(A,R,M){return this._workerManager.withWorker().then(P=>P.navigateValueSet(A,R,M))}canComputeWordRanges(A){return h(this._modelService,A)}computeWordRanges(A,R){return this._workerManager.withWorker().then(M=>M.computeWordRanges(A,R))}findSectionHeaders(A,R){return this._workerManager.withWorker().then(M=>M.findSectionHeaders(A,R))}};e.EditorWorkerService=g,e.EditorWorkerService=g=ke([ge(0,b.IModelService),ge(1,v.ITextResourceConfigurationService),ge(2,o.ILogService),ge(3,m.ILanguageConfigurationService),ge(4,n.ILanguageFeaturesService)],g);class C{constructor(A,R,M,P){this.languageConfigurationService=P,this._debugDisplayName="wordbasedCompletions",this._workerManager=A,this._configurationService=R,this._modelService=M}async provideCompletionItems(A,R){const M=this._configurationService.getValue(A.uri,R,"editor");if(M.wordBasedSuggestions==="off")return;const P=[];if(M.wordBasedSuggestions==="currentDocument")h(this._modelService,A.uri)&&P.push(A.uri);else for(const j of this._modelService.getModels())h(this._modelService,j.uri)&&(j===A?P.unshift(j.uri):(M.wordBasedSuggestions==="allDocuments"||j.getLanguageId()===A.getLanguageId())&&P.push(j.uri));if(P.length===0)return;const x=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),O=A.getWordAtPosition(R),B=O?new y.Range(R.lineNumber,O.startColumn,R.lineNumber,O.endColumn):y.Range.fromPositions(R),H=B.setEndPosition(R.lineNumber,R.column),V=await(await this._workerManager.withWorker()).textualSuggest(P,O?.word,x);if(V)return{duration:V.duration,suggestions:V.words.map(j=>({kind:18,label:j,insertText:j,range:{insert:H,replace:B}}))}}}class S extends k.Disposable{constructor(A,R){super(),this.languageConfigurationService=R,this._modelService=A,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new l.WindowIntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(p/2),a.mainWindow),this._register(this._modelService.onModelRemoved(P=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>p&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new T(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class _ extends k.Disposable{constructor(A,R,M){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=A,this._modelService=R,!M){const P=new f.IntervalTimer;P.cancelAndSet(()=>this._checkStopModelSync(),Math.round(d/2)),this._register(P)}}dispose(){for(const A in this._syncedModels)(0,k.dispose)(this._syncedModels[A]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(A,R){for(const M of A){const P=M.toString();this._syncedModels[P]||this._beginModelSync(M,R),this._syncedModels[P]&&(this._syncedModelsLastUsedTime[P]=new Date().getTime())}}_checkStopModelSync(){const A=new Date().getTime(),R=[];for(const M in this._syncedModelsLastUsedTime)A-this._syncedModelsLastUsedTime[M]>d&&R.push(M);for(const M of R)this._stopModelSync(M)}_beginModelSync(A,R){const M=this._modelService.getModel(A);if(!M||!R&&M.isTooLargeForSyncing())return;const P=A.toString();this._proxy.acceptNewModel({url:M.uri.toString(),lines:M.getLinesContent(),EOL:M.getEOL(),versionId:M.getVersionId()});const x=new k.DisposableStore;x.add(M.onDidChangeContent(O=>{this._proxy.acceptModelChanged(P.toString(),O)})),x.add(M.onWillDispose(()=>{this._stopModelSync(P)})),x.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(P)})),this._syncedModels[P]=x}_stopModelSync(A){const R=this._syncedModels[A];delete this._syncedModels[A],delete this._syncedModelsLastUsedTime[A],(0,k.dispose)(R)}}class L{constructor(A){this._instance=A,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class D{constructor(A){this._workerClient=A}fhr(A,R){return this._workerClient.fhr(A,R)}}e.EditorWorkerHost=D;class T extends k.Disposable{constructor(A,R,M,P){super(),this.languageConfigurationService=P,this._disposed=!1,this._modelService=A,this._keepIdleModels=R,this._workerFactory=new I.DefaultWorkerFactory(M),this._worker=null,this._modelManager=null}fhr(A,R){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new E.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new D(this)))}catch(A){(0,E.logOnceWebWorkerWarning)(A),this._worker=new L(new w.EditorSimpleWorker(new D(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,A=>((0,E.logOnceWebWorkerWarning)(A),this._worker=new L(new w.EditorSimpleWorker(new D(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(A){return this._modelManager||(this._modelManager=this._register(new _(A,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(A,R=!1){return this._disposed?Promise.reject((0,i.canceled)()):this._getProxy().then(M=>(this._getOrCreateModelManager(M).ensureSyncedResources(A,R),M))}computedUnicodeHighlights(A,R,M){return this._withSyncedResources([A]).then(P=>P.computeUnicodeHighlights(A.toString(),R,M))}computeDiff(A,R,M,P){return this._withSyncedResources([A,R],!0).then(x=>x.computeDiff(A.toString(),R.toString(),M,P))}computeMoreMinimalEdits(A,R,M){return this._withSyncedResources([A]).then(P=>P.computeMoreMinimalEdits(A.toString(),R,M))}computeLinks(A){return this._withSyncedResources([A]).then(R=>R.computeLinks(A.toString()))}computeDefaultDocumentColors(A){return this._withSyncedResources([A]).then(R=>R.computeDefaultDocumentColors(A.toString()))}async textualSuggest(A,R,M){const P=await this._withSyncedResources(A),x=M.source,O=M.flags;return P.textualSuggest(A.map(B=>B.toString()),R,x,O)}computeWordRanges(A,R){return this._withSyncedResources([A]).then(M=>{const P=this._modelService.getModel(A);if(!P)return Promise.resolve(null);const x=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),O=x.source,B=x.flags;return M.computeWordRanges(A.toString(),R,O,B)})}navigateValueSet(A,R,M){return this._withSyncedResources([A]).then(P=>{const x=this._modelService.getModel(A);if(!x)return null;const O=this.languageConfigurationService.getLanguageConfiguration(x.getLanguageId()).getWordDefinition(),B=O.source,H=O.flags;return P.navigateValueSet(A.toString(),R,M,B,H)})}findSectionHeaders(A,R){return this._withSyncedResources([A]).then(M=>M.findSectionHeaders(A.toString(),R))}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=T}),define(re[699],ae([1,0,54,272]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=E;function E(y,m,w){return new I(y,m,w)}class I extends k.EditorWorkerClient{constructor(m,w,b){super(m,b.keepIdleModels||!1,b.label,w),this._foreignModuleId=b.moduleId,this._foreignModuleCreateData=b.createData||null,this._foreignModuleHost=b.host||null,this._foreignProxy=null}fhr(m,w){if(!this._foreignModuleHost||typeof this._foreignModuleHost[m]!="function")return Promise.reject(new Error("Missing method "+m+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[m].apply(this._foreignModuleHost,w))}catch(b){return Promise.reject(b)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(m=>{const w=this._foreignModuleHost?(0,f.getAllMethodNames)(this._foreignModuleHost):[];return m.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,w).then(b=>{this._foreignModuleCreateData=null;const v=(t,i)=>m.fmr(t,i),s=(t,i)=>function(){const n=Array.prototype.slice.call(arguments,0);return i(t,n)},o={};for(const t of b)o[t]=s(t,v);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(m){return this._withSyncedResources(m).then(w=>this.getProxy())}}}),define(re[273],ae([1,0,128,34,251]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=I;function I(y,m,w,b){m.tokenization.forceTokenization(w.startLineNumber);const v=m.getLanguageIdAtPosition(w.startLineNumber,w.startColumn),s=b.getLanguageConfiguration(v);if(!s)return null;const t=new E.IndentationContextProcessor(m,b).getProcessedTokenContextAroundRange(w),i=t.previousLineProcessedTokens.getLineContent(),n=t.beforeRangeProcessedTokens.getLineContent(),c=t.afterRangeProcessedTokens.getLineContent(),u=s.onEnter(y,i,n,c);if(!u)return null;const r=u.indentAction;let a=u.appendText;const l=u.removeText||0;a?r===f.IndentAction.Indent&&(a="	"+a):r===f.IndentAction.Indent||r===f.IndentAction.IndentOutdent?a="	":a="";let d=(0,k.getIndentationAtPosition)(m,w.startLineNumber,w.startColumn);return l&&(d=d.substring(0,d.length-l)),{indentAction:r,appendText:a,removeText:l,indentation:d}}}),define(re[182],ae([1,0,11,93,5,23,273,34]),function(le,e,f,k,E,I,y,m){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const b=Object.create(null);function v(o,t){if(t<=0)return"";b[o]||(b[o]=["",o]);const i=b[o];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+o;return i[t]}let s=w=class{static unshiftIndent(t,i,n,c,u){const r=k.CursorColumns.visibleColumnFromColumn(t,i,n);if(u){const a=v(" ",c),d=k.CursorColumns.prevIndentTabStop(r,c)/c;return v(a,d)}else{const a="	",d=k.CursorColumns.prevRenderTabStop(r,n)/n;return v(a,d)}}static shiftIndent(t,i,n,c,u){const r=k.CursorColumns.visibleColumnFromColumn(t,i,n);if(u){const a=v(" ",c),d=k.CursorColumns.nextIndentTabStop(r,c)/c;return v(a,d)}else{const a="	",d=k.CursorColumns.nextRenderTabStop(r,n)/n;return v(a,d)}}constructor(t,i,n){this._languageConfigurationService=n,this._opts=i,this._selection=t,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(t,i,n){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(i,n):t.addEditOperation(i,n)}getEditOperations(t,i){const n=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&n!==c&&(c=c-1);const{tabSize:u,indentSize:r,insertSpaces:a}=this._opts,l=n===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let d=0,p=0;for(let h=n;h<=c;h++,d=p){p=0;const g=t.getLineContent(h);let C=f.firstNonWhitespaceIndex(g);if(this._opts.isUnshift&&(g.length===0||C===0)||!l&&!this._opts.isUnshift&&g.length===0)continue;if(C===-1&&(C=g.length),h>1&&k.CursorColumns.visibleColumnFromColumn(g,C+1,u)%r!==0&&t.tokenization.isCheapToTokenize(h-1)){const L=(0,y.getEnterAction)(this._opts.autoIndent,t,new E.Range(h-1,t.getLineMaxColumn(h-1),h-1,t.getLineMaxColumn(h-1)),this._languageConfigurationService);if(L){if(p=d,L.appendText)for(let D=0,T=L.appendText.length;D<T&&p<r&&L.appendText.charCodeAt(D)===32;D++)p++;L.removeText&&(p=Math.max(0,p-L.removeText));for(let D=0;D<p&&!(C===0||g.charCodeAt(C-1)!==32);D++)C--}}if(this._opts.isUnshift&&C===0)continue;let S;this._opts.isUnshift?S=w.unshiftIndent(g,C+1,u,r,a):S=w.shiftIndent(g,C+1,u,r,a),this._addEditOperation(i,new E.Range(h,1,h,C+1),S),h===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=C+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&t.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const d=a?v(" ",r):"	";for(let p=n;p<=c;p++){const h=t.getLineContent(p);let g=f.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||g===0))&&!(!l&&!this._opts.isUnshift&&h.length===0)&&(g===-1&&(g=h.length),!(this._opts.isUnshift&&g===0)))if(this._opts.isUnshift){g=Math.min(g,r);for(let C=0;C<g;C++)if(h.charCodeAt(C)===9){g=C+1;break}this._addEditOperation(i,new E.Range(p,1,p,g+1),"")}else this._addEditOperation(i,new E.Range(p,1,p,1),d),p===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(t,i){if(this._useLastEditRangeForCursorEndPosition){const c=i.getInverseEditOperations()[0];return new I.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const n=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const c=this._selection.startColumn;return n.startColumn<=c?n:n.getDirection()===0?new I.Selection(n.startLineNumber,c,n.endLineNumber,n.endColumn):new I.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,c)}return n}};e.ShiftCommand=s,e.ShiftCommand=s=w=ke([ge(2,m.ILanguageConfigurationService)],s)}),define(re[211],ae([1,0,8,11,143,182,324,76,167,5,9,128,34,171,252,273]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTypeWithAutoClosingCommand=e.TabOperation=e.TypeWithoutInterceptorsOperation=e.CompositionOperation=e.PasteOperation=e.EnterOperation=e.SimpleCharacterTypeOperation=e.InterceptorElectricCharOperation=e.SurroundSelectionOperation=e.AutoClosingOpenCharTypeOperation=e.AutoClosingOvertypeWithInterceptorsOperation=e.AutoClosingOvertypeOperation=e.AutoIndentOperation=void 0,e.shiftIndent=O,e.unshiftIndent=B,e.shouldSurroundChar=H;class c{static getEdits(V,j,U,Y,Q){if(!Q&&this._isAutoIndentType(V,j,U)){const Z=[];for(const F of U){const J=this._findActualIndentationForSelection(V,j,F,Y);if(J===null)return;Z.push({selection:F,indentation:J})}const G=a.getAutoClosingPairClose(V,j,U,Y,!1);return this._getIndentationAndAutoClosingPairEdits(V,j,Z,Y,G)}}static _isAutoIndentType(V,j,U){if(V.autoIndent<4)return!1;for(let Y=0,Q=U.length;Y<Q;Y++)if(!j.tokenization.isCheapToTokenize(U[Y].getEndPosition().lineNumber))return!1;return!0}static _findActualIndentationForSelection(V,j,U,Y){const Q=(0,i.getIndentActionForType)(V,j,U,Y,{shiftIndent:G=>O(V,G),unshiftIndent:G=>B(V,G)},V.languageConfigurationService);if(Q===null)return null;const Z=(0,o.getIndentationAtPosition)(j,U.startLineNumber,U.startColumn);return Q===V.normalizeIndentation(Z)?null:Q}static _getIndentationAndAutoClosingPairEdits(V,j,U,Y,Q){const Z=U.map(({selection:F,indentation:J})=>{if(Q!==null){const te=this._getEditFromIndentationAndSelection(V,j,J,F,Y,!1);return new T(te,F,Y,Q)}else{const te=this._getEditFromIndentationAndSelection(V,j,J,F,Y,!0);return x(te.range,te.text,!1)}}),G={shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1};return new m.EditOperationResult(4,Z,G)}static _getEditFromIndentationAndSelection(V,j,U,Y,Q,Z=!0){const G=Y.startLineNumber,F=j.getLineFirstNonWhitespaceColumn(G);let J=V.normalizeIndentation(U);if(F!==0){const de=j.getLineContent(G);J+=de.substring(F-1,Y.startColumn-1)}return J+=Z?Q:"",{range:new b.Range(G,1,Y.endLineNumber,Y.endColumn),text:J}}}e.AutoIndentOperation=c;class u{static getEdits(V,j,U,Y,Q,Z){if(P(j,U,Y,Q,Z))return this._runAutoClosingOvertype(V,Y,Z)}static _runAutoClosingOvertype(V,j,U){const Y=[];for(let Q=0,Z=j.length;Q<Z;Q++){const F=j[Q].getPosition(),J=new b.Range(F.lineNumber,F.column,F.lineNumber,F.column+1);Y[Q]=new E.ReplaceCommand(J,U)}return new m.EditOperationResult(4,Y,{shouldPushStackElementBefore:A(V,4),shouldPushStackElementAfter:!1})}}e.AutoClosingOvertypeOperation=u;class r{static getEdits(V,j,U,Y,Q){if(P(V,j,U,Y,Q)){const Z=U.map(G=>new E.ReplaceCommand(new b.Range(G.positionLineNumber,G.positionColumn,G.positionLineNumber,G.positionColumn+1),"",!1));return new m.EditOperationResult(4,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}}e.AutoClosingOvertypeWithInterceptorsOperation=r;class a{static getEdits(V,j,U,Y,Q,Z){if(!Z){const G=this.getAutoClosingPairClose(V,j,U,Y,Q);if(G!==null)return this._runAutoClosingOpenCharType(U,Y,Q,G)}}static _runAutoClosingOpenCharType(V,j,U,Y){const Q=[];for(let Z=0,G=V.length;Z<G;Z++){const F=V[Z];Q[Z]=new D(F,j,!U,Y)}return new m.EditOperationResult(4,Q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static getAutoClosingPairClose(V,j,U,Y,Q){for(const ue of U)if(!ue.isEmpty())return null;const Z=U.map(ue=>{const ie=ue.getPosition();return Q?{lineNumber:ie.lineNumber,beforeColumn:ie.column-Y.length,afterColumn:ie.column}:{lineNumber:ie.lineNumber,beforeColumn:ie.column,afterColumn:ie.column}}),G=this._findAutoClosingPairOpen(V,j,Z.map(ue=>new v.Position(ue.lineNumber,ue.beforeColumn)),Y);if(!G)return null;let F,J;if((0,m.isQuote)(Y)?(F=V.autoClosingQuotes,J=V.shouldAutoCloseBefore.quote):(V.blockCommentStartToken?G.open.includes(V.blockCommentStartToken):!1)?(F=V.autoClosingComments,J=V.shouldAutoCloseBefore.comment):(F=V.autoClosingBrackets,J=V.shouldAutoCloseBefore.bracket),F==="never")return null;const de=this._findContainedAutoClosingPair(V,G),he=de?de.close:"";let pe=!0;for(const ue of Z){const{lineNumber:ie,beforeColumn:se,afterColumn:ne}=ue,W=j.getLineContent(ie),q=W.substring(0,se-1),z=W.substring(ne-1);if(z.startsWith(he)||(pe=!1),z.length>0){const oe=z.charAt(0);if(!this._isBeforeClosingBrace(V,z)&&!J(oe))return null}if(G.open.length===1&&(Y==="'"||Y==='"')&&F!=="always"){const oe=(0,w.getMapForWordSeparators)(V.wordSeparators,[]);if(q.length>0){const ce=q.charCodeAt(q.length-1);if(oe.get(ce)===0)return null}}if(!j.tokenization.isCheapToTokenize(ie))return null;j.tokenization.forceTokenization(ie);const $=j.tokenization.getLineTokens(ie),X=(0,t.createScopedLineTokens)($,se-1);if(!G.shouldAutoClose(X,se-X.firstCharOffset))return null;const ee=G.findNeutralCharacter();if(ee){const oe=j.tokenization.getTokenTypeIfInsertingCharacter(ie,se,ee);if(!G.isOK(oe))return null}}return pe?G.close.substring(0,G.close.length-he.length):G.close}static _findContainedAutoClosingPair(V,j){if(j.open.length<=1)return null;const U=j.close.charAt(j.close.length-1),Y=V.autoClosingPairs.autoClosingPairsCloseByEnd.get(U)||[];let Q=null;for(const Z of Y)Z.open!==j.open&&j.open.includes(Z.open)&&j.close.endsWith(Z.close)&&(!Q||Z.open.length>Q.open.length)&&(Q=Z);return Q}static _findAutoClosingPairOpen(V,j,U,Y){const Q=V.autoClosingPairs.autoClosingPairsOpenByEnd.get(Y);if(!Q)return null;let Z=null;for(const G of Q)if(Z===null||G.open.length>Z.open.length){let F=!0;for(const J of U)if(j.getValueInRange(new b.Range(J.lineNumber,J.column-G.open.length+1,J.lineNumber,J.column))+Y!==G.open){F=!1;break}F&&(Z=G)}return Z}static _isBeforeClosingBrace(V,j){const U=j.charAt(0),Y=V.autoClosingPairs.autoClosingPairsOpenByStart.get(U)||[],Q=V.autoClosingPairs.autoClosingPairsCloseByStart.get(U)||[],Z=Y.some(F=>j.startsWith(F.open)),G=Q.some(F=>j.startsWith(F.close));return!Z&&G}}e.AutoClosingOpenCharTypeOperation=a;class l{static getEdits(V,j,U,Y,Q){if(!Q&&this._isSurroundSelectionType(V,j,U,Y))return this._runSurroundSelectionType(V,U,Y)}static _runSurroundSelectionType(V,j,U){const Y=[];for(let Q=0,Z=j.length;Q<Z;Q++){const G=j[Q],F=V.surroundingPairs[U];Y[Q]=new y.SurroundSelectionCommand(G,U,F)}return new m.EditOperationResult(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isSurroundSelectionType(V,j,U,Y){if(!H(V,Y)||!V.surroundingPairs.hasOwnProperty(Y))return!1;const Q=(0,m.isQuote)(Y);for(const Z of U){if(Z.isEmpty())return!1;let G=!0;for(let F=Z.startLineNumber;F<=Z.endLineNumber;F++){const J=j.getLineContent(F),te=F===Z.startLineNumber?Z.startColumn-1:0,de=F===Z.endLineNumber?Z.endColumn-1:J.length,he=J.substring(te,de);if(/[^ \t]/.test(he)){G=!1;break}}if(G)return!1;if(Q&&Z.startLineNumber===Z.endLineNumber&&Z.startColumn+1===Z.endColumn){const F=j.getValueInRange(Z);if((0,m.isQuote)(F))return!1}}return!0}}e.SurroundSelectionOperation=l;class d{static getEdits(V,j,U,Y,Q,Z){if(!Z&&this._isTypeInterceptorElectricChar(j,U,Y)){const G=this._typeInterceptorElectricChar(V,j,U,Y[0],Q);if(G)return G}}static _isTypeInterceptorElectricChar(V,j,U){return!!(U.length===1&&j.tokenization.isCheapToTokenize(U[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(V,j,U,Y,Q){if(!j.electricChars.hasOwnProperty(Q)||!Y.isEmpty())return null;const Z=Y.getPosition();U.tokenization.forceTokenization(Z.lineNumber);const G=U.tokenization.getLineTokens(Z.lineNumber);let F;try{F=j.onElectricCharacter(Q,G,Z.column)}catch(J){return(0,f.onUnexpectedError)(J),null}if(!F)return null;if(F.matchOpenBracket){const J=(G.getLineContent()+Q).lastIndexOf(F.matchOpenBracket)+1,te=U.bracketPairs.findMatchingBracketUp(F.matchOpenBracket,{lineNumber:Z.lineNumber,column:J},500);if(te){if(te.startLineNumber===Z.lineNumber)return null;const de=U.getLineContent(te.startLineNumber),he=k.getLeadingWhitespace(de),pe=j.normalizeIndentation(he),ue=U.getLineContent(Z.lineNumber),ie=U.getLineFirstNonWhitespaceColumn(Z.lineNumber)||Z.column,se=ue.substring(ie-1,Z.column-1),ne=pe+se+Q,W=new b.Range(Z.lineNumber,1,Z.lineNumber,Z.column),q=new E.ReplaceCommand(W,ne);return new m.EditOperationResult(N(ne,V),[q],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}}e.InterceptorElectricCharOperation=d;class p{static getEdits(V,j,U){const Y=[];for(let Z=0,G=j.length;Z<G;Z++)Y[Z]=new E.ReplaceCommand(j[Z],U);const Q=N(U,V);return new m.EditOperationResult(Q,Y,{shouldPushStackElementBefore:A(V,Q),shouldPushStackElementAfter:!1})}}e.SimpleCharacterTypeOperation=p;class h{static getEdits(V,j,U,Y,Q){if(!Q&&Y===`
`){const Z=[];for(let G=0,F=U.length;G<F;G++)Z[G]=this._enter(V,j,!1,U[G]);return new m.EditOperationResult(4,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}static _enter(V,j,U,Y){if(V.autoIndent===0)return x(Y,`
`,U);if(!j.tokenization.isCheapToTokenize(Y.getStartPosition().lineNumber)||V.autoIndent===1){const F=j.getLineContent(Y.startLineNumber),J=k.getLeadingWhitespace(F).substring(0,Y.startColumn-1);return x(Y,`
`+V.normalizeIndentation(J),U)}const Q=(0,n.getEnterAction)(V.autoIndent,j,Y,V.languageConfigurationService);if(Q){if(Q.indentAction===s.IndentAction.None)return x(Y,`
`+V.normalizeIndentation(Q.indentation+Q.appendText),U);if(Q.indentAction===s.IndentAction.Indent)return x(Y,`
`+V.normalizeIndentation(Q.indentation+Q.appendText),U);if(Q.indentAction===s.IndentAction.IndentOutdent){const F=V.normalizeIndentation(Q.indentation),J=V.normalizeIndentation(Q.indentation+Q.appendText),te=`
`+J+`
`+F;return U?new E.ReplaceCommandWithoutChangingPosition(Y,te,!0):new E.ReplaceCommandWithOffsetCursorState(Y,te,-1,J.length-F.length,!0)}else if(Q.indentAction===s.IndentAction.Outdent){const F=B(V,Q.indentation);return x(Y,`
`+V.normalizeIndentation(F+Q.appendText),U)}}const Z=j.getLineContent(Y.startLineNumber),G=k.getLeadingWhitespace(Z).substring(0,Y.startColumn-1);if(V.autoIndent>=4){const F=(0,i.getIndentForEnter)(V.autoIndent,j,Y,{unshiftIndent:J=>B(V,J),shiftIndent:J=>O(V,J),normalizeIndentation:J=>V.normalizeIndentation(J)},V.languageConfigurationService);if(F){let J=V.visibleColumnFromColumn(j,Y.getEndPosition());const te=Y.endColumn,de=j.getLineContent(Y.endLineNumber),he=k.firstNonWhitespaceIndex(de);if(he>=0?Y=Y.setEndPosition(Y.endLineNumber,Math.max(Y.endColumn,he+1)):Y=Y.setEndPosition(Y.endLineNumber,j.getLineMaxColumn(Y.endLineNumber)),U)return new E.ReplaceCommandWithoutChangingPosition(Y,`
`+V.normalizeIndentation(F.afterEnter),!0);{let pe=0;return te<=he+1&&(V.insertSpaces||(J=Math.ceil(J/V.indentSize)),pe=Math.min(J+1-V.normalizeIndentation(F.afterEnter).length-1,0)),new E.ReplaceCommandWithOffsetCursorState(Y,`
`+V.normalizeIndentation(F.afterEnter),0,pe,!0)}}}return x(Y,`
`+V.normalizeIndentation(G),U)}static lineInsertBefore(V,j,U){if(j===null||U===null)return[];const Y=[];for(let Q=0,Z=U.length;Q<Z;Q++){let G=U[Q].positionLineNumber;if(G===1)Y[Q]=new E.ReplaceCommandWithoutChangingPosition(new b.Range(1,1,1,1),`
`);else{G--;const F=j.getLineMaxColumn(G);Y[Q]=this._enter(V,j,!1,new b.Range(G,F,G,F))}}return Y}static lineInsertAfter(V,j,U){if(j===null||U===null)return[];const Y=[];for(let Q=0,Z=U.length;Q<Z;Q++){const G=U[Q].positionLineNumber,F=j.getLineMaxColumn(G);Y[Q]=this._enter(V,j,!1,new b.Range(G,F,G,F))}return Y}static lineBreakInsert(V,j,U){const Y=[];for(let Q=0,Z=U.length;Q<Z;Q++)Y[Q]=this._enter(V,j,!0,U[Q]);return Y}}e.EnterOperation=h;class g{static getEdits(V,j,U,Y,Q,Z){const G=this._distributePasteToCursors(V,U,Y,Q,Z);return G?(U=U.sort(b.Range.compareRangesUsingStarts),this._distributedPaste(V,j,U,G)):this._simplePaste(V,j,U,Y,Q)}static _distributePasteToCursors(V,j,U,Y,Q){if(Y||j.length===1)return null;if(Q&&Q.length===j.length)return Q;if(V.multiCursorPaste==="spread"){U.charCodeAt(U.length-1)===10&&(U=U.substring(0,U.length-1)),U.charCodeAt(U.length-1)===13&&(U=U.substring(0,U.length-1));const Z=k.splitLines(U);if(Z.length===j.length)return Z}return null}static _distributedPaste(V,j,U,Y){const Q=[];for(let Z=0,G=U.length;Z<G;Z++)Q[Z]=new E.ReplaceCommand(U[Z],Y[Z]);return new m.EditOperationResult(0,Q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(V,j,U,Y,Q){const Z=[];for(let G=0,F=U.length;G<F;G++){const J=U[G],te=J.getPosition();if(Q&&!J.isEmpty()&&(Q=!1),Q&&Y.indexOf(`
`)!==Y.length-1&&(Q=!1),Q){const de=new b.Range(te.lineNumber,1,te.lineNumber,1);Z[G]=new E.ReplaceCommandThatPreservesSelection(de,Y,J,!0)}else Z[G]=new E.ReplaceCommand(J,Y)}return new m.EditOperationResult(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.PasteOperation=g;class C{static getEdits(V,j,U,Y,Q,Z,G,F){const J=Y.map(te=>this._compositionType(U,te,Q,Z,G,F));return new m.EditOperationResult(4,J,{shouldPushStackElementBefore:A(V,4),shouldPushStackElementAfter:!1})}static _compositionType(V,j,U,Y,Q,Z){if(!j.isEmpty())return null;const G=j.getPosition(),F=Math.max(1,G.column-Y),J=Math.min(V.getLineMaxColumn(G.lineNumber),G.column+Q),te=new b.Range(G.lineNumber,F,G.lineNumber,J);return V.getValueInRange(te)===U&&Z===0?null:new E.ReplaceCommandWithOffsetCursorState(te,U,0,Z)}}e.CompositionOperation=C;class S{static getEdits(V,j,U){const Y=[];for(let Z=0,G=j.length;Z<G;Z++)Y[Z]=new E.ReplaceCommand(j[Z],U);const Q=N(U,V);return new m.EditOperationResult(Q,Y,{shouldPushStackElementBefore:A(V,Q),shouldPushStackElementAfter:!1})}}e.TypeWithoutInterceptorsOperation=S;class _{static getCommands(V,j,U){const Y=[];for(let Q=0,Z=U.length;Q<Z;Q++){const G=U[Q];if(G.isEmpty()){const F=j.getLineContent(G.startLineNumber);if(/^\s*$/.test(F)&&j.tokenization.isCheapToTokenize(G.startLineNumber)){let J=this._goodIndentForLine(V,j,G.startLineNumber);J=J||"	";const te=V.normalizeIndentation(J);if(!F.startsWith(te)){Y[Q]=new E.ReplaceCommand(new b.Range(G.startLineNumber,1,G.startLineNumber,F.length+1),te,!0);continue}}Y[Q]=this._replaceJumpToNextIndent(V,j,G,!0)}else{if(G.startLineNumber===G.endLineNumber){const F=j.getLineMaxColumn(G.startLineNumber);if(G.startColumn!==1||G.endColumn!==F){Y[Q]=this._replaceJumpToNextIndent(V,j,G,!1);continue}}Y[Q]=new I.ShiftCommand(G,{isUnshift:!1,tabSize:V.tabSize,indentSize:V.indentSize,insertSpaces:V.insertSpaces,useTabStops:V.useTabStops,autoIndent:V.autoIndent},V.languageConfigurationService)}}return Y}static _goodIndentForLine(V,j,U){let Y=null,Q="";const Z=(0,i.getInheritIndentForLine)(V.autoIndent,j,U,!1,V.languageConfigurationService);if(Z)Y=Z.action,Q=Z.indentation;else if(U>1){let G;for(G=U-1;G>=1;G--){const te=j.getLineContent(G);if(k.lastNonWhitespaceIndex(te)>=0)break}if(G<1)return null;const F=j.getLineMaxColumn(G),J=(0,n.getEnterAction)(V.autoIndent,j,new b.Range(G,F,G,F),V.languageConfigurationService);J&&(Q=J.indentation+J.appendText)}return Y&&(Y===s.IndentAction.Indent&&(Q=O(V,Q)),Y===s.IndentAction.Outdent&&(Q=B(V,Q)),Q=V.normalizeIndentation(Q)),Q||null}static _replaceJumpToNextIndent(V,j,U,Y){let Q="";const Z=U.getStartPosition();if(V.insertSpaces){const G=V.visibleColumnFromColumn(j,Z),F=V.indentSize,J=F-G%F;for(let te=0;te<J;te++)Q+=" "}else Q="	";return new E.ReplaceCommand(U,Q,Y)}}e.TabOperation=_;class L extends E.ReplaceCommandWithOffsetCursorState{constructor(V,j,U,Y,Q,Z){super(V,j,U,Y),this._openCharacter=Q,this._closeCharacter=Z,this.closeCharacterRange=null,this.enclosingRange=null}_computeCursorStateWithRange(V,j,U){return this.closeCharacterRange=new b.Range(j.startLineNumber,j.endColumn-this._closeCharacter.length,j.endLineNumber,j.endColumn),this.enclosingRange=new b.Range(j.startLineNumber,j.endColumn-this._openCharacter.length-this._closeCharacter.length,j.endLineNumber,j.endColumn),super.computeCursorState(V,U)}}e.BaseTypeWithAutoClosingCommand=L;class D extends L{constructor(V,j,U,Y){const Q=(U?j:"")+Y,Z=0,G=-Y.length;super(V,Q,Z,G,j,Y)}computeCursorState(V,j){const Y=j.getInverseEditOperations()[0].range;return this._computeCursorStateWithRange(V,Y,j)}}class T extends L{constructor(V,j,U,Y){const Q=U+Y,Z=0,G=U.length;super(j,Q,Z,G,U,Y),this._autoIndentationEdit=V,this._autoClosingEdit={range:j,text:Q}}getEditOperations(V,j){j.addTrackedEditOperation(this._autoIndentationEdit.range,this._autoIndentationEdit.text),j.addTrackedEditOperation(this._autoClosingEdit.range,this._autoClosingEdit.text)}computeCursorState(V,j){const U=j.getInverseEditOperations();if(U.length!==2)throw new Error("There should be two inverse edit operations!");const Y=U[0].range,Q=U[1].range,Z=Y.plusRange(Q);return this._computeCursorStateWithRange(V,Z,j)}}function N(K,V){return K===" "?V===5||V===6?6:5:4}function A(K,V){return M(K)&&!M(V)?!0:K===5?!1:R(K)!==R(V)}function R(K){return K===6||K===5?"space":K}function M(K){return K===4||K===5||K===6}function P(K,V,j,U,Y){if(K.autoClosingOvertype==="never"||!K.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let Q=0,Z=j.length;Q<Z;Q++){const G=j[Q];if(!G.isEmpty())return!1;const F=G.getPosition(),J=V.getLineContent(F.lineNumber);if(J.charAt(F.column-1)!==Y)return!1;const de=(0,m.isQuote)(Y);if((F.column>2?J.charCodeAt(F.column-2):0)===92&&de)return!1;if(K.autoClosingOvertype==="auto"){let pe=!1;for(let ue=0,ie=U.length;ue<ie;ue++){const se=U[ue];if(F.lineNumber===se.startLineNumber&&F.column===se.startColumn){pe=!0;break}}if(!pe)return!1}}return!0}function x(K,V,j){return j?new E.ReplaceCommandWithoutChangingPosition(K,V,!0):new E.ReplaceCommand(K,V,!0)}function O(K,V,j){return j=j||1,I.ShiftCommand.shiftIndent(V,V.length+j,K.tabSize,K.indentSize,K.insertSpaces)}function B(K,V,j){return j=j||1,I.ShiftCommand.unshiftIndent(V,V.length+j,K.tabSize,K.indentSize,K.insertSpaces)}function H(K,V){return(0,m.isQuote)(V)?K.autoSurround==="quotes"||K.autoSurround==="languageDefined":K.autoSurround==="brackets"||K.autoSurround==="languageDefined"}}),define(re[274],ae([1,0,182,324,76,211]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeOperations=void 0;class y{static indent(b,v,s){if(v===null||s===null)return[];const o=[];for(let t=0,i=s.length;t<i;t++)o[t]=new f.ShiftCommand(s[t],{isUnshift:!1,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent},b.languageConfigurationService);return o}static outdent(b,v,s){const o=[];for(let t=0,i=s.length;t<i;t++)o[t]=new f.ShiftCommand(s[t],{isUnshift:!0,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent},b.languageConfigurationService);return o}static paste(b,v,s,o,t,i){return I.PasteOperation.getEdits(b,v,s,o,t,i)}static tab(b,v,s){return I.TabOperation.getCommands(b,v,s)}static compositionType(b,v,s,o,t,i,n,c){return I.CompositionOperation.getEdits(b,v,s,o,t,i,n,c)}static compositionEndWithInterceptors(b,v,s,o,t,i){if(!o)return null;let n=null;for(const l of o)if(n===null)n=l.insertedText;else if(n!==l.insertedText)return null;if(!n||n.length!==1)return null;const c=n;let u=!1;for(const l of o)if(l.deletedText.length!==0){u=!0;break}if(u){if(!(0,I.shouldSurroundChar)(v,c)||!v.surroundingPairs.hasOwnProperty(c))return null;const l=(0,E.isQuote)(c);for(const h of o)if(h.deletedSelectionStart!==0||h.deletedSelectionEnd!==h.deletedText.length||/^[ \t]+$/.test(h.deletedText)||l&&(0,E.isQuote)(h.deletedText))return null;const d=[];for(const h of t){if(!h.isEmpty())return null;d.push(h.getPosition())}if(d.length!==o.length)return null;const p=[];for(let h=0,g=d.length;h<g;h++)p.push(new k.CompositionSurroundSelectionCommand(d[h],o[h].deletedText,v.surroundingPairs[c]));return new E.EditOperationResult(4,p,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const r=I.AutoClosingOvertypeWithInterceptorsOperation.getEdits(v,s,t,i,c);if(r!==void 0)return r;const a=I.AutoClosingOpenCharTypeOperation.getEdits(v,s,t,c,!0,!1);return a!==void 0?a:null}static typeWithInterceptors(b,v,s,o,t,i,n){const c=I.EnterOperation.getEdits(s,o,t,n,b);if(c!==void 0)return c;const u=I.AutoIndentOperation.getEdits(s,o,t,n,b);if(u!==void 0)return u;const r=I.AutoClosingOvertypeOperation.getEdits(v,s,o,t,i,n);if(r!==void 0)return r;const a=I.AutoClosingOpenCharTypeOperation.getEdits(s,o,t,n,!1,b);if(a!==void 0)return a;const l=I.SurroundSelectionOperation.getEdits(s,o,t,n,b);if(l!==void 0)return l;const d=I.InterceptorElectricCharOperation.getEdits(v,s,o,t,n,b);return d!==void 0?d:I.SimpleCharacterTypeOperation.getEdits(v,t,n)}static typeWithoutInterceptors(b,v,s,o,t){return I.TypeWithoutInterceptorsOperation.getEdits(b,o,t)}}e.TypeOperations=y;class m{constructor(b,v,s,o,t,i){this.deletedText=b,this.deletedSelectionStart=v,this.deletedSelectionEnd=s,this.insertedText=o,this.insertedSelectionStart=t,this.insertedSelectionEnd=i}}e.CompositionOutcome=m}),define(re[700],ae([1,0,8,11,578,76,568,245,274,211,5,23,129,254,2,255]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class c extends i.Disposable{constructor(h,g,C,S){super(),this._model=h,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=g,this._coordinatesConverter=C,this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,S),this._cursors=new E.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(h){this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,h),this._cursors.updateContext(this.context)}onLineMappingChanged(h){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(h,"viewModel",0,this.getCursorStates())}setHasFocus(h){this._hasFocus=h}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const h=this._cursors.getSelections();for(let g=0;g<this._autoClosedActions.length;g++){const C=this._autoClosedActions[g];C.isValid(h)||(C.dispose(),this._autoClosedActions.splice(g,1),g--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(h,g,C,S){let _=!1;const L=this.context.cursorConfig.multiCursorLimit;S!==null&&S.length>L&&(S=S.slice(0,L),_=!0);const D=u.from(this._model,this);return this._cursors.setStates(S),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(h,g,C,D,_)}setCursorColumnSelectData(h){this._columnSelectData=h}revealAll(h,g,C,S,_,L){const D=this._cursors.getViewPositions();let T=null,N=null;D.length>1?N=this._cursors.getViewSelections():T=v.Range.fromPositions(D[0],D[0]),h.emitViewEvent(new t.ViewRevealRangeRequestEvent(g,C,T,N,S,_,L))}revealPrimary(h,g,C,S,_,L){const T=[this._cursors.getPrimaryCursor().viewState.selection];h.emitViewEvent(new t.ViewRevealRangeRequestEvent(g,C,null,T,S,_,L))}saveState(){const h=[],g=this._cursors.getSelections();for(let C=0,S=g.length;C<S;C++){const _=g[C];h.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return h}restoreState(h,g){const C=[];for(let S=0,_=g.length;S<_;S++){const L=g[S];let D=1,T=1;L.position&&L.position.lineNumber&&(D=L.position.lineNumber),L.position&&L.position.column&&(T=L.position.column);let N=D,A=T;L.selectionStart&&L.selectionStart.lineNumber&&(N=L.selectionStart.lineNumber),L.selectionStart&&L.selectionStart.column&&(A=L.selectionStart.column),C.push({selectionStartLineNumber:N,selectionStartColumn:A,positionLineNumber:D,positionColumn:T})}this.setStates(h,"restoreState",0,I.CursorState.fromModelSelections(C)),this.revealAll(h,"restoreState",!1,0,!0,1)}onModelContentChanged(h,g){if(g instanceof o.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(h,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const C=g.rawContentChangedEvent;if(this._knownModelVersionId=C.versionId,this._isHandling)return;const S=C.containsEvent(1);if(this._prevEditOperationType=0,S)this._cursors.dispose(),this._cursors=new E.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(h,"model",1,null,!1);else if(this._hasFocus&&C.resultingSelection&&C.resultingSelection.length>0){const _=I.CursorState.fromModelSelections(C.resultingSelection);this.setStates(h,"modelChange",C.isUndoing?5:C.isRedoing?6:2,_)&&this.revealAll(h,"modelChange",!1,0,!0,0)}else{const _=this._cursors.readSelectionFromMarkers();this.setStates(h,"modelChange",2,I.CursorState.fromModelSelections(_))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const h=this._cursors.getPrimaryCursor(),g=h.viewState.selectionStart.getStartPosition(),C=h.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:C.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,C)}}getSelections(){return this._cursors.getSelections()}setSelections(h,g,C,S){this.setStates(h,g,S,I.CursorState.fromModelSelections(C))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(h){this._prevEditOperationType=h}_pushAutoClosedAction(h,g){const C=[],S=[];for(let D=0,T=h.length;D<T;D++)C.push({range:h[D],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),S.push({range:g[D],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],C),L=this._model.deltaDecorations([],S);this._autoClosedActions.push(new r(this._model,_,L))}_executeEditOperation(h){if(!h)return;h.shouldPushStackElementBefore&&this._model.pushStackElement();const g=a.executeCommands(this._model,this._cursors.getSelections(),h.commands);if(g){this._interpretCommandResult(g);const C=[],S=[];for(let _=0;_<h.commands.length;_++){const L=h.commands[_];L instanceof b.BaseTypeWithAutoClosingCommand&&L.enclosingRange&&L.closeCharacterRange&&(C.push(L.closeCharacterRange),S.push(L.enclosingRange))}C.length>0&&this._pushAutoClosedAction(C,S),this._prevEditOperationType=h.type}h.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(h){(!h||h.length===0)&&(h=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(h),this._cursors.normalize()}_emitStateChangedIfNecessary(h,g,C,S,_){const L=u.from(this._model,this);if(L.equals(S))return!1;const D=this._cursors.getSelections(),T=this._cursors.getViewSelections();if(h.emitViewEvent(new t.ViewCursorStateChangedEvent(T,D,C)),!S||S.cursorState.length!==L.cursorState.length||L.cursorState.some((N,A)=>!N.modelState.equals(S.cursorState[A].modelState))){const N=S?S.cursorState.map(R=>R.modelState.selection):null,A=S?S.modelVersionId:0;h.emitOutgoingEvent(new n.CursorStateChangedEvent(N,D,A,L.modelVersionId,g||"keyboard",C,_))}return!0}_findAutoClosingPairs(h){if(!h.length)return null;const g=[];for(let C=0,S=h.length;C<S;C++){const _=h[C];if(!_.text||_.text.indexOf(`
`)>=0)return null;const L=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!L)return null;const D=L[1],T=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(D);if(!T||T.length!==1)return null;const N=T[0].open,A=_.text.length-L[2].length-1,R=_.text.lastIndexOf(N,A-1);if(R===-1)return null;g.push([R,A])}return g}executeEdits(h,g,C,S){let _=null;g==="snippet"&&(_=this._findAutoClosingPairs(C)),_&&(C[0]._isTracked=!0);const L=[],D=[],T=this._model.pushEditOperations(this.getSelections(),C,N=>{if(_)for(let R=0,M=_.length;R<M;R++){const[P,x]=_[R],O=N[R],B=O.range.startLineNumber,H=O.range.startColumn-1+P,K=O.range.startColumn-1+x;L.push(new v.Range(B,K+1,B,K+2)),D.push(new v.Range(B,H+1,B,K+2))}const A=S(N);return A&&(this._isHandling=!0),A});T&&(this._isHandling=!1,this.setSelections(h,g,T,0)),L.length>0&&this._pushAutoClosedAction(L,D)}_executeEdit(h,g,C,S=0){if(this.context.cursorConfig.readOnly)return;const _=u.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),h()}catch(L){(0,f.onUnexpectedError)(L)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,C,S,_,!1)&&this.revealAll(g,C,!1,0,!0,0)}getAutoClosedCharacters(){return r.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(h){this._compositionState=new d(this._model,this.getSelections())}endComposition(h,g){const C=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{g==="keyboard"&&this._executeEditOperation(w.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,C,this.getSelections(),this.getAutoClosedCharacters()))},h,g)}type(h,g,C){this._executeEdit(()=>{if(C==="keyboard"){const S=g.length;let _=0;for(;_<S;){const L=k.nextCharLength(g,_),D=g.substr(_,L);this._executeEditOperation(w.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),D)),_+=L}}else this._executeEditOperation(w.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g))},h,C)}compositionType(h,g,C,S,_,L){if(g.length===0&&C===0&&S===0){if(_!==0){const D=this.getSelections().map(T=>{const N=T.getPosition();return new s.Selection(N.lineNumber,N.column+_,N.lineNumber,N.column+_)});this.setSelections(h,L,D,0)}return}this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g,C,S,_))},h,L)}paste(h,g,C,S,_){this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),g,C,S||[]))},h,_,4)}cut(h,g){this._executeEdit(()=>{this._executeEditOperation(m.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},h,g)}executeCommand(h,g,C){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new I.EditOperationResult(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},h,C)}executeCommands(h,g,C){this._executeEdit(()=>{this._executeEditOperation(new I.EditOperationResult(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},h,C)}}e.CursorsController=c;class u{static from(h,g){return new u(h.getVersionId(),g.getCursorStates())}constructor(h,g){this.modelVersionId=h,this.cursorState=g}equals(h){if(!h||this.modelVersionId!==h.modelVersionId||this.cursorState.length!==h.cursorState.length)return!1;for(let g=0,C=this.cursorState.length;g<C;g++)if(!this.cursorState[g].equals(h.cursorState[g]))return!1;return!0}}class r{static getAllAutoClosedCharacters(h){let g=[];for(const C of h)g=g.concat(C.getAutoClosedCharactersRanges());return g}constructor(h,g,C){this._model=h,this._autoClosedCharactersDecorations=g,this._autoClosedEnclosingDecorations=C}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const h=[];for(let g=0;g<this._autoClosedCharactersDecorations.length;g++){const C=this._model.getDecorationRange(this._autoClosedCharactersDecorations[g]);C&&h.push(C)}return h}isValid(h){const g=[];for(let C=0;C<this._autoClosedEnclosingDecorations.length;C++){const S=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[C]);if(S&&(g.push(S),S.startLineNumber!==S.endLineNumber))return!1}g.sort(v.Range.compareRangesUsingStarts),h.sort(v.Range.compareRangesUsingStarts);for(let C=0;C<h.length;C++)if(C>=g.length||!g[C].strictContainsRange(h[C]))return!1;return!0}}class a{static executeCommands(h,g,C){const S={model:h,selectionsBefore:g,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(S,C);for(let L=0,D=S.trackedRanges.length;L<D;L++)S.model._setTrackedRange(S.trackedRanges[L],null,0);return _}static _innerExecuteCommands(h,g){if(this._arrayIsEmpty(g))return null;const C=this._getEditOperations(h,g);if(C.operations.length===0)return null;const S=C.operations,_=this._getLoserCursorMap(S);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const L=[];for(let N=0,A=S.length;N<A;N++)_.hasOwnProperty(S[N].identifier.major.toString())||L.push(S[N]);C.hadTrackedEditOperation&&L.length>0&&(L[0]._isTracked=!0);let D=h.model.pushEditOperations(h.selectionsBefore,L,N=>{const A=[];for(let P=0;P<h.selectionsBefore.length;P++)A[P]=[];for(const P of N)P.identifier&&A[P.identifier.major].push(P);const R=(P,x)=>P.identifier.minor-x.identifier.minor,M=[];for(let P=0;P<h.selectionsBefore.length;P++)A[P].length>0?(A[P].sort(R),M[P]=g[P].computeCursorState(h.model,{getInverseEditOperations:()=>A[P],getTrackedSelection:x=>{const O=parseInt(x,10),B=h.model._getTrackedRange(h.trackedRanges[O]);return h.trackedRangesDirection[O]===0?new s.Selection(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn):new s.Selection(B.endLineNumber,B.endColumn,B.startLineNumber,B.startColumn)}})):M[P]=h.selectionsBefore[P];return M});D||(D=h.selectionsBefore);const T=[];for(const N in _)_.hasOwnProperty(N)&&T.push(parseInt(N,10));T.sort((N,A)=>A-N);for(const N of T)D.splice(N,1);return D}static _arrayIsEmpty(h){for(let g=0,C=h.length;g<C;g++)if(h[g])return!1;return!0}static _getEditOperations(h,g){let C=[],S=!1;for(let _=0,L=g.length;_<L;_++){const D=g[_];if(D){const T=this._getEditOperationsFromCommand(h,_,D);C=C.concat(T.operations),S=S||T.hadTrackedEditOperation}}return{operations:C,hadTrackedEditOperation:S}}static _getEditOperationsFromCommand(h,g,C){const S=[];let _=0;const L=(R,M,P=!1)=>{v.Range.isEmpty(R)&&M===""||S.push({identifier:{major:g,minor:_++},range:R,text:M,forceMoveMarkers:P,isAutoWhitespaceEdit:C.insertsAutoWhitespace})};let D=!1;const A={addEditOperation:L,addTrackedEditOperation:(R,M,P)=>{D=!0,L(R,M,P)},trackSelection:(R,M)=>{const P=s.Selection.liftSelection(R);let x;if(P.isEmpty())if(typeof M=="boolean")M?x=2:x=3;else{const H=h.model.getLineMaxColumn(P.startLineNumber);P.startColumn===H?x=2:x=3}else x=1;const O=h.trackedRanges.length,B=h.model._setTrackedRange(null,P,x);return h.trackedRanges[O]=B,h.trackedRangesDirection[O]=P.getDirection(),O.toString()}};try{C.getEditOperations(h.model,A)}catch(R){return(0,f.onUnexpectedError)(R),{operations:[],hadTrackedEditOperation:!1}}return{operations:S,hadTrackedEditOperation:D}}static _getLoserCursorMap(h){h=h.slice(0),h.sort((C,S)=>-v.Range.compareRangesUsingEnds(C.range,S.range));const g={};for(let C=1;C<h.length;C++){const S=h[C-1],_=h[C];if(v.Range.getStartPosition(S.range).isBefore(v.Range.getEndPosition(_.range))){let L;S.identifier.major>_.identifier.major?L=S.identifier.major:L=_.identifier.major,g[L.toString()]=!0;for(let D=0;D<h.length;D++)h[D].identifier.major===L&&(h.splice(D,1),D<C&&C--,D--);C>0&&C--}}return g}}class l{constructor(h,g,C){this.text=h,this.startSelection=g,this.endSelection=C}}class d{static _capture(h,g){const C=[];for(const S of g){if(S.startLineNumber!==S.endLineNumber)return null;C.push(new l(h.getLineContent(S.startLineNumber),S.startColumn-1,S.endColumn-1))}return C}constructor(h,g){this._original=d._capture(h,g)}deduceOutcome(h,g){if(!this._original)return null;const C=d._capture(h,g);if(!C||this._original.length!==C.length)return null;const S=[];for(let _=0,L=this._original.length;_<L;_++)S.push(d._deduceOutcome(this._original[_],C[_]));return S}static _deduceOutcome(h,g){const C=Math.min(h.startSelection,g.startSelection,k.commonPrefixLength(h.text,g.text)),S=Math.min(h.text.length-h.endSelection,g.text.length-g.endSelection,k.commonSuffixLength(h.text,g.text)),_=h.text.substring(C,h.text.length-S),L=g.text.substring(C,g.text.length-S);return new w.CompositionOutcome(_,h.startSelection-C,h.endSelection-C,L,g.startSelection-C,g.endSelection-C)}}}),define(re[701],ae([1,0,46,50,22,79,378,30]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=b;const w=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function b(o,t,i,n,c){if(m.ThemeIcon.isThemeIcon(c))return[`codicon-${c.id}`,"predefined-file-icon"];if(E.URI.isUri(c))return[];const u=n===y.FileKind.ROOT_FOLDER?["rootfolder-icon"]:n===y.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===f.Schemas.data)r=k.DataUri.parseMetaData(i).get(k.DataUri.META_DATA_LABEL);else{const a=i.path.match(w);a?(r=s(a[2].toLowerCase()),a[1]&&u.push(`${s(a[1].toLowerCase())}-name-dir-icon`)):r=s(i.authority.toLowerCase())}if(n===y.FileKind.ROOT_FOLDER)u.push(`${r}-root-name-folder-icon`);else if(n===y.FileKind.FOLDER)u.push(`${r}-name-folder-icon`);else{if(r){if(u.push(`${r}-name-file-icon`),u.push("name-file-icon"),r.length<=255){const l=r.split(".");for(let d=1;d<l.length;d++)u.push(`${l.slice(d).join(".")}-ext-file-icon`)}u.push("ext-file-icon")}const a=v(o,t,i);a&&u.push(`${s(a)}-lang-file-icon`)}}return u}function v(o,t,i){if(!i)return null;let n=null;if(i.scheme===f.Schemas.data){const u=k.DataUri.parseMetaData(i).get(k.DataUri.META_DATA_MIME);u&&(n=t.getLanguageIdByMimeType(u))}else{const c=o.getModel(i);c&&(n=c.getLanguageId())}return n&&n!==I.PLAINTEXT_LANGUAGE_ID?n:t.guessLanguageIdByFilepathOrFirstLine(i)}function s(o){return o.replace(/[\x11\x12\x14\x15\x40]/g,"/")}}),define(re[702],ae([1,0,303,126,46,99,50,11,79]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerPlatformLanguageAssociation=o,e.clearPlatformLanguageAssociations=n,e.getLanguageIds=c;let b=[],v=[],s=[];function o(l,d=!1){t(l,!1,d)}function t(l,d,p){const h=i(l,d);b.push(h),h.userConfigured?s.push(h):v.push(h),p&&!h.userConfigured&&b.forEach(g=>{g.mime===h.mime||g.userConfigured||(h.extension&&g.extension===h.extension&&console.warn(`Overwriting extension <<${h.extension}>> to now point to mime <<${h.mime}>>`),h.filename&&g.filename===h.filename&&console.warn(`Overwriting filename <<${h.filename}>> to now point to mime <<${h.mime}>>`),h.filepattern&&g.filepattern===h.filepattern&&console.warn(`Overwriting filepattern <<${h.filepattern}>> to now point to mime <<${h.mime}>>`),h.firstline&&g.firstline===h.firstline&&console.warn(`Overwriting firstline <<${h.firstline}>> to now point to mime <<${h.mime}>>`))})}function i(l,d){return{id:l.id,mime:l.mime,filename:l.filename,extension:l.extension,filepattern:l.filepattern,firstline:l.firstline,userConfigured:d,filenameLowercase:l.filename?l.filename.toLowerCase():void 0,extensionLowercase:l.extension?l.extension.toLowerCase():void 0,filepatternLowercase:l.filepattern?(0,f.parse)(l.filepattern.toLowerCase()):void 0,filepatternOnPath:l.filepattern?l.filepattern.indexOf(I.posix.sep)>=0:!1}}function n(){b=b.filter(l=>l.userConfigured),v=[]}function c(l,d){return u(l,d).map(p=>p.id)}function u(l,d){let p;if(l)switch(l.scheme){case E.Schemas.file:p=l.fsPath;break;case E.Schemas.data:{p=y.DataUri.parseMetaData(l).get(y.DataUri.META_DATA_LABEL);break}case E.Schemas.vscodeNotebookCell:p=void 0;break;default:p=l.path}if(!p)return[{id:"unknown",mime:k.Mimes.unknown}];p=p.toLowerCase();const h=(0,I.basename)(p),g=r(p,h,s);if(g)return[g,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const C=r(p,h,v);if(C)return[C,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(d){const S=a(d);if(S)return[S,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function r(l,d,p){var h;let g,C,S;for(let _=p.length-1;_>=0;_--){const L=p[_];if(d===L.filenameLowercase){g=L;break}if(L.filepattern&&(!C||L.filepattern.length>C.filepattern.length)){const D=L.filepatternOnPath?l:d;!((h=L.filepatternLowercase)===null||h===void 0)&&h.call(L,D)&&(C=L)}L.extension&&(!S||L.extension.length>S.extension.length)&&d.endsWith(L.extensionLowercase)&&(S=L)}if(g)return g;if(C)return C;if(S)return S}function a(l){if((0,m.startsWithUTF8BOM)(l)&&(l=l.substr(1)),l.length>0)for(let d=b.length-1;d>=0;d--){const p=b[d];if(!p.firstline)continue;const h=l.match(p.firstline);if(h&&h.length>0)return p}}}),define(re[703],ae([1,0,6,2,11,702,79,108,38]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const b=Object.prototype.hasOwnProperty,v="vs.editor.nullLanguage";class s{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(v,0),this._register(y.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(i,n){this._languageIdToLanguage[n]=i,this._languageToLanguageId.set(i,n)}register(i){if(this._languageToLanguageId.has(i))return;const n=this._nextLanguageId++;this._register(i,n)}encodeLanguageId(i){return this._languageToLanguageId.get(i)||0}decodeLanguageId(i){return this._languageIdToLanguage[i]||v}}e.LanguageIdCodec=s;class o extends k.Disposable{constructor(i=!0,n=!1){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,o.instanceCount++,this._warnOnOverwrite=n,this.languageIdCodec=new s,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},i&&(this._initializeFromRegistry(),this._register(y.ModesRegistry.onDidChangeLanguages(c=>{this._initializeFromRegistry()})))}dispose(){o.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,I.clearPlatformLanguageAssociations)();const i=[].concat(y.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(i)}_registerLanguages(i){for(const n of i)this._registerLanguage(n);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(n=>{const c=this._languages[n];c.name&&(this._nameMap[c.name]=c.identifier),c.aliases.forEach(u=>{this._lowercaseNameMap[u.toLowerCase()]=c.identifier}),c.mimetypes.forEach(u=>{this._mimeTypesMap[u]=c.identifier})}),w.Registry.as(m.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(i){const n=i.id;let c;b.call(this._languages,n)?c=this._languages[n]:(this.languageIdCodec.register(n),c={identifier:n,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[n]=c),this._mergeLanguage(c,i)}_mergeLanguage(i,n){const c=n.id;let u=null;if(Array.isArray(n.mimetypes)&&n.mimetypes.length>0&&(i.mimetypes.push(...n.mimetypes),u=n.mimetypes[0]),u||(u=`text/x-${c}`,i.mimetypes.push(u)),Array.isArray(n.extensions)){n.configuration?i.extensions=n.extensions.concat(i.extensions):i.extensions=i.extensions.concat(n.extensions);for(const l of n.extensions)(0,I.registerPlatformLanguageAssociation)({id:c,mime:u,extension:l},this._warnOnOverwrite)}if(Array.isArray(n.filenames))for(const l of n.filenames)(0,I.registerPlatformLanguageAssociation)({id:c,mime:u,filename:l},this._warnOnOverwrite),i.filenames.push(l);if(Array.isArray(n.filenamePatterns))for(const l of n.filenamePatterns)(0,I.registerPlatformLanguageAssociation)({id:c,mime:u,filepattern:l},this._warnOnOverwrite);if(typeof n.firstLine=="string"&&n.firstLine.length>0){let l=n.firstLine;l.charAt(0)!=="^"&&(l="^"+l);try{const d=new RegExp(l);(0,E.regExpLeadsToEndlessLoop)(d)||(0,I.registerPlatformLanguageAssociation)({id:c,mime:u,firstline:d},this._warnOnOverwrite)}catch(d){console.warn(`[${n.id}]: Invalid regular expression \`${l}\`: `,d)}}i.aliases.push(c);let r=null;if(typeof n.aliases<"u"&&Array.isArray(n.aliases)&&(n.aliases.length===0?r=[null]:r=n.aliases),r!==null)for(const l of r)!l||l.length===0||i.aliases.push(l);const a=r!==null&&r.length>0;if(!(a&&r[0]===null)){const l=(a?r[0]:null)||c;(a||!i.name)&&(i.name=l)}n.configuration&&i.configurationFiles.push(n.configuration),n.icon&&i.icons.push(n.icon)}isRegisteredLanguageId(i){return i?b.call(this._languages,i):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(i){const n=i.toLowerCase();return b.call(this._lowercaseNameMap,n)?this._lowercaseNameMap[n]:null}getLanguageIdByMimeType(i){return i&&b.call(this._mimeTypesMap,i)?this._mimeTypesMap[i]:null}guessLanguageIdByFilepathOrFirstLine(i,n){return!i&&!n?[]:(0,I.getLanguageIds)(i,n)}}e.LanguagesRegistry=o,o.instanceCount=0}),define(re[704],ae([1,0,6,2,703,13,27,79]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class w extends k.Disposable{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new f.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new f.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new f.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,w.instanceCount++,this._registry=this._register(new E.LanguagesRegistry(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,o){const t=this._registry.guessLanguageIdByFilepathOrFirstLine(s,o);return(0,I.firstOrDefault)(t,null)}createById(s){return new b(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,o){return new b(this.onDidChange,()=>{const t=this.guessLanguageIdByFilepathOrFirstLine(s,o);return this._createAndGetLanguageIdentifier(t)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=m.PLAINTEXT_LANGUAGE_ID),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),y.TokenizationRegistry.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}e.LanguageService=w,w.instanceCount=0;class b{constructor(s,o){this._onDidChangeLanguages=s,this._selector=o,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new f.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const o=this._selector();o!==this.languageId&&(this.languageId=o,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}}),define(re[396],ae([1,0,33,272,51,34,2,17,144]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class b{constructor(o,t){this._editorWorkerClient=new k.EditorWorkerClient(o,!1,"editorWorkerService",t)}async provideDocumentColors(o,t){return this._editorWorkerClient.computeDefaultDocumentColors(o.uri)}provideColorPresentations(o,t,i){const n=t.range,c=t.color,u=c.alpha,r=new f.Color(new f.RGBA(Math.round(255*c.red),Math.round(255*c.green),Math.round(255*c.blue),u)),a=u?f.Color.Format.CSS.formatRGB(r):f.Color.Format.CSS.formatRGBA(r),l=u?f.Color.Format.CSS.formatHSL(r):f.Color.Format.CSS.formatHSLA(r),d=u?f.Color.Format.CSS.formatHex(r):f.Color.Format.CSS.formatHexA(r),p=[];return p.push({label:a,textEdit:{range:n,text:a}}),p.push({label:l,textEdit:{range:n,text:l}}),p.push({label:d,textEdit:{range:n,text:d}}),p}}e.DefaultDocumentColorProvider=b;let v=class extends y.Disposable{constructor(o,t,i){super(),this._register(i.colorProvider.register("*",new b(o,t)))}};v=ke([ge(0,E.IModelService),ge(1,I.ILanguageConfigurationService),ge(2,m.ILanguageFeaturesService)],v),(0,w.registerEditorFeature)(v)}),define(re[397],ae([1,0,18,8,22,5,51,24,17,396,28]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColors=s,e.getColorPresentations=o;async function s(r,a,l,d=!0){return c(new t,r,a,l,d)}function o(r,a,l,d){return Promise.resolve(l.provideColorPresentations(r,a,d))}class t{constructor(){}async compute(a,l,d,p){const h=await a.provideDocumentColors(l,d);if(Array.isArray(h))for(const g of h)p.push({colorInfo:g,provider:a});return Array.isArray(h)}}class i{constructor(){}async compute(a,l,d,p){const h=await a.provideDocumentColors(l,d);if(Array.isArray(h))for(const g of h)p.push({range:g.range,color:[g.color.red,g.color.green,g.color.blue,g.color.alpha]});return Array.isArray(h)}}class n{constructor(a){this.colorInfo=a}async compute(a,l,d,p){const h=await a.provideColorPresentations(l,this.colorInfo,f.CancellationToken.None);return Array.isArray(h)&&p.push(...h),Array.isArray(h)}}async function c(r,a,l,d,p){let h=!1,g;const C=[],S=a.ordered(l);for(let _=S.length-1;_>=0;_--){const L=S[_];if(L instanceof b.DefaultDocumentColorProvider)g=L;else try{await r.compute(L,l,d,C)&&(h=!0)}catch(D){(0,k.onUnexpectedExternalError)(D)}}return h?C:g&&p?(await r.compute(g,l,d,C),C):[]}function u(r,a){const{colorProvider:l}=r.get(w.ILanguageFeaturesService),d=r.get(y.IModelService).getModel(a);if(!d)throw(0,k.illegalArgument)();const p=r.get(v.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:a});return{model:d,colorProviderRegistry:l,isDefaultColorDecoratorsEnabled:p}}m.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(r,...a){const[l]=a;if(!(l instanceof E.URI))throw(0,k.illegalArgument)();const{model:d,colorProviderRegistry:p,isDefaultColorDecoratorsEnabled:h}=u(r,l);return c(new i,p,d,f.CancellationToken.None,h)}),m.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(r,...a){const[l,d]=a,{uri:p,range:h}=d;if(!(p instanceof E.URI)||!Array.isArray(l)||l.length!==4||!I.Range.isIRange(h))throw(0,k.illegalArgument)();const{model:g,colorProviderRegistry:C,isDefaultColorDecoratorsEnabled:S}=u(r,p),[_,L,D,T]=l;return c(new n({range:h,color:{red:_,green:L,blue:D,alpha:T}}),C,g,f.CancellationToken.None,S)})}),define(re[705],ae([1,0,4,2,119,353,173,637]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const w=f.$;class b extends k.Disposable{constructor(s,o,t){super(),this._renderDisposeables=this._register(new k.DisposableStore),this._editor=s,this._isVisible=!1,this._messages=[],this._hover=this._register(new y.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new E.MarkdownRenderer({editor:this._editor},o,t)),this._computer=new m.MarginHoverComputer(this._editor),this._hoverOperation=this._register(new I.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(i=>{this._withResult(i.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(o=>this._editor.applyFontInfo(o))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(s){const o=s.target;return o.type===2&&o.detail.glyphMarginLane?(this._startShowingAt(o.position.lineNumber,o.detail.glyphMarginLane),!0):o.type===3?(this._startShowingAt(o.position.lineNumber,"lineNo"),!0):!1}_startShowingAt(s,o){this._computer.lineNumber===s&&this._computer.lane===o||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=s,this._computer.lane=o,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(s){this._messages=s,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(s,o){this._renderDisposeables.clear();const t=document.createDocumentFragment();for(const i of o){const n=w("div.hover-row.markdown-hover"),c=f.append(n,w("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(i.value));c.appendChild(u.element),t.appendChild(n)}this._updateContents(t),this._showAt(s)}_updateContents(s){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(s),this._updateFont()}_showAt(s){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const o=this._editor.getLayoutInfo(),t=this._editor.getTopForLineNumber(s),i=this._editor.getScrollTop(),n=this._editor.getOption(67),c=this._hover.containerDomNode.clientHeight,u=t-i-(c-n)/2,r=o.glyphMarginLeft+o.glyphMarginWidth+(this._computer.lane==="lineNo"?o.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${r}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(u),0)}px`}}e.MarginHoverWidget=b,b.ID="editor.contrib.modesGlyphHoverWidget"}),define(re[706],ae([1,0,11,182,75,240,23,251]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReindentEditOperations=w;function w(v,s,o,t){if(v.getLineCount()===1&&v.getLineMaxColumn(1)===1)return[];const i=s.getLanguageConfiguration(v.getLanguageId()).indentRulesSupport;if(!i)return[];const n=new m.ProcessedIndentRulesSupport(v,i,s);for(t=Math.min(t,v.getLineCount());o<=t&&n.shouldIgnore(o);)o++;if(o>t-1)return[];const{tabSize:c,indentSize:u,insertSpaces:r}=v.getOptions(),a=(C,S)=>(S=S||1,k.ShiftCommand.shiftIndent(C,C.length+S,c,u,r)),l=(C,S)=>(S=S||1,k.ShiftCommand.unshiftIndent(C,C.length+S,c,u,r)),d=[],p=v.getLineContent(o);let h=f.getLeadingWhitespace(p),g=h;n.shouldIncrease(o)?(g=a(g),h=a(h)):n.shouldIndentNextLine(o)&&(g=a(g)),o++;for(let C=o;C<=t;C++){if(b(v,C))continue;const S=v.getLineContent(C),_=f.getLeadingWhitespace(S),L=g;n.shouldDecrease(C,L)&&(g=l(g),h=l(h)),_!==g&&d.push(E.EditOperation.replaceMove(new y.Selection(C,1,C,_.length+1),(0,I.normalizeIndentation)(g,u,r))),!n.shouldIgnore(C)&&(n.shouldIncrease(C,L)?(h=a(h),g=h):n.shouldIndentNextLine(C,L)?g=a(g):g=h)}return d}function b(v,s){return v.tokenization.isCheapToTokenize(s)?v.tokenization.getLineTokens(s).getStandardTokenType(0)===2:!1}}),define(re[707],ae([1,0,18,101,83,2,21,5,103,114,27,34,17,359,257]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let n=class extends I.Disposable{constructor(h,g,C,S,_){super(),this.textModel=h,this.versionId=g,this._debounceValue=C,this.languageFeaturesService=S,this.languageConfigurationService=_,this._updateOperation=this._register(new I.MutableDisposable),this.inlineCompletions=(0,y.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,y.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(h,g,C){var S,_;const L=new u(h,g,this.textModel.getVersionId()),D=g.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((S=this._updateOperation.value)===null||S===void 0)&&S.request.satisfies(L))return this._updateOperation.value.promise;if(!((_=D.get())===null||_===void 0)&&_.request.satisfies(L))return Promise.resolve(!0);const T=!!this._updateOperation.value;this._updateOperation.clear();const N=new f.CancellationTokenSource,A=(async()=>{if((T||g.triggerKind===v.InlineCompletionTriggerKind.Automatic)&&await c(this._debounceValue.get(this.textModel),N.token),N.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==L.versionId)return!1;const P=new Date,x=await(0,t.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,h,this.textModel,g,N.token,this.languageConfigurationService);if(N.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==L.versionId)return!1;const O=new Date;this._debounceValue.update(this.textModel,O.getTime()-P.getTime());const B=new a(x,L,this.textModel,this.versionId);if(C){const H=C.toInlineCompletion(void 0);C.canBeReused(this.textModel,h)&&!x.has(H)&&B.prepend(C.inlineCompletion,H.range,!0)}return this._updateOperation.clear(),(0,y.transaction)(H=>{D.set(B,H)}),!0})(),R=new r(L,N,A);return this._updateOperation.value=R,A}clear(h){this._updateOperation.clear(),this.inlineCompletions.set(void 0,h),this.suggestWidgetInlineCompletions.set(void 0,h)}clearSuggestWidgetInlineCompletions(h){var g;!((g=this._updateOperation.value)===null||g===void 0)&&g.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,h)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=n,e.InlineCompletionsSource=n=ke([ge(3,o.ILanguageFeaturesService),ge(4,s.ILanguageConfigurationService)],n);function c(p,h){return new Promise(g=>{let C;const S=setTimeout(()=>{C&&C.dispose(),g()},p);h&&(C=h.onCancellationRequested(()=>{clearTimeout(S),C&&C.dispose(),g()}))})}class u{constructor(h,g,C){this.position=h,this.context=g,this.versionId=C}satisfies(h){return this.position.equals(h.position)&&(0,k.equalsIfDefined)(this.context.selectedSuggestionInfo,h.context.selectedSuggestionInfo,(0,k.itemEquals)())&&(h.context.triggerKind===v.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===v.InlineCompletionTriggerKind.Explicit)&&this.versionId===h.versionId}}class r{constructor(h,g,C){this.request=h,this.cancellationTokenSource=g,this.promise=C}dispose(){this.cancellationTokenSource.cancel()}}class a{get inlineCompletions(){return this._inlineCompletions}constructor(h,g,C,S){this.inlineCompletionProviderResult=h,this.request=g,this._textModel=C,this._versionId=S,this._refCount=1,this._prependedInlineCompletionItems=[];const _=C.deltaDecorations([],h.completions.map(L=>({range:L.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=h.completions.map((L,D)=>new l(L,_[D],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(h=>h.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const h of this._prependedInlineCompletionItems)h.source.removeRef()}}prepend(h,g,C){C&&h.source.addRef();const S=this._textModel.deltaDecorations([],[{range:g,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new l(h,S,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(h)}}e.UpToDateInlineCompletions=a;class l{get forwardStable(){var h;return(h=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&h!==void 0?h:!1}constructor(h,g,C,S){this.inlineCompletion=h,this.decorationId=g,this._textModel=C,this._modelVersion=S,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=(0,y.derivedOpts)({owner:this,equalsFn:m.Range.equalsRange},_=>(this._modelVersion.read(_),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(h){var g;return this.inlineCompletion.withRange((g=this._updatedRange.read(h))!==null&&g!==void 0?g:d)}toSingleTextEdit(h){var g;return new w.SingleTextEdit((g=this._updatedRange.read(h))!==null&&g!==void 0?g:d,this.inlineCompletion.insertText)}isVisible(h,g,C){const S=(0,i.singleTextRemoveCommonPrefix)(this._toFilterTextReplacement(C),h),_=this._updatedRange.read(C);if(!_||!this.inlineCompletion.range.getStartPosition().equals(_.getStartPosition())||g.lineNumber!==S.range.startLineNumber)return!1;const L=h.getValueInRange(S.range,1),D=S.text,T=Math.max(0,g.column-S.range.startColumn);let N=D.substring(0,T),A=D.substring(T),R=L.substring(0,T),M=L.substring(T);const P=h.getLineIndentColumn(S.range.startLineNumber);return S.range.startColumn<=P&&(R=R.trimStart(),R.length===0&&(M=M.trimStart()),N=N.trimStart(),N.length===0&&(A=A.trimStart())),N.startsWith(R)&&!!(0,E.matchesSubString)(M,A)}canBeReused(h,g){const C=this._updatedRange.read(void 0);return!!C&&C.containsPosition(g)&&this.isVisible(h,g,void 0)&&b.TextLength.ofRange(C).isGreaterThanOrEqualTo(b.TextLength.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(h){var g;return new w.SingleTextEdit((g=this._updatedRange.read(h))!==null&&g!==void 0?g:d,this.inlineCompletion.filterText)}}e.InlineCompletionWithUpdatedRange=l;const d=new m.Range(1,1,1,1)}),define(re[708],ae([1,0,11,182,5,23,128,34,354,252,273]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let s=class{constructor(t,i,n,c){this._languageConfigurationService=c,this._selection=t,this._isMovingDown=i,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,i){const n=()=>t.getLanguageId(),c=(h,g)=>t.getLanguageIdAtPosition(h,g),u=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===u){this._selectionId=i.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=i.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,t.getLineMaxColumn(r.endLineNumber-1)));const{tabSize:a,indentSize:l,insertSpaces:d}=t.getOptions(),p=this.buildIndentConverter(a,l,d);if(r.startLineNumber===r.endLineNumber&&t.getLineMaxColumn(r.startLineNumber)===1){const h=r.startLineNumber,g=this._isMovingDown?h+1:h-1;t.getLineMaxColumn(g)===1?i.addEditOperation(new E.Range(1,1,1,1),null):(i.addEditOperation(new E.Range(h,1,h,1),t.getLineContent(g)),i.addEditOperation(new E.Range(g,1,g,t.getLineMaxColumn(g)),null)),r=new I.Selection(g,1,g,1)}else{let h,g;if(this._isMovingDown){h=r.endLineNumber+1,g=t.getLineContent(h),i.addEditOperation(new E.Range(h-1,t.getLineMaxColumn(h-1),h,t.getLineMaxColumn(h)),null);let C=g;if(this.shouldAutoIndent(t,r)){const S=this.matchEnterRule(t,p,a,h,r.startLineNumber-1);if(S!==null){const L=f.getLeadingWhitespace(t.getLineContent(h)),D=S+w.getSpaceCnt(L,a);C=w.generateIndent(D,a,d)+this.trimStart(g)}else{const L={tokenization:{getLineTokens:T=>T===r.startLineNumber?t.tokenization.getLineTokens(h):t.tokenization.getLineTokens(T),getLanguageId:n,getLanguageIdAtPosition:c},getLineContent:T=>T===r.startLineNumber?t.getLineContent(h):t.getLineContent(T)},D=(0,b.getGoodIndentForLine)(this._autoIndent,L,t.getLanguageIdAtPosition(h,1),r.startLineNumber,p,this._languageConfigurationService);if(D!==null){const T=f.getLeadingWhitespace(t.getLineContent(h)),N=w.getSpaceCnt(D,a),A=w.getSpaceCnt(T,a);N!==A&&(C=w.generateIndent(N,a,d)+this.trimStart(g))}}i.addEditOperation(new E.Range(r.startLineNumber,1,r.startLineNumber,1),C+`
`);const _=this.matchEnterRuleMovingDown(t,p,a,r.startLineNumber,h,C);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(t,i,r,a,d,_);else{const L={tokenization:{getLineTokens:T=>T===r.startLineNumber?t.tokenization.getLineTokens(h):T>=r.startLineNumber+1&&T<=r.endLineNumber+1?t.tokenization.getLineTokens(T-1):t.tokenization.getLineTokens(T),getLanguageId:n,getLanguageIdAtPosition:c},getLineContent:T=>T===r.startLineNumber?C:T>=r.startLineNumber+1&&T<=r.endLineNumber+1?t.getLineContent(T-1):t.getLineContent(T)},D=(0,b.getGoodIndentForLine)(this._autoIndent,L,t.getLanguageIdAtPosition(h,1),r.startLineNumber+1,p,this._languageConfigurationService);if(D!==null){const T=f.getLeadingWhitespace(t.getLineContent(r.startLineNumber)),N=w.getSpaceCnt(D,a),A=w.getSpaceCnt(T,a);if(N!==A){const R=N-A;this.getIndentEditsOfMovingBlock(t,i,r,a,d,R)}}}}else i.addEditOperation(new E.Range(r.startLineNumber,1,r.startLineNumber,1),C+`
`)}else if(h=r.startLineNumber-1,g=t.getLineContent(h),i.addEditOperation(new E.Range(h,1,h+1,1),null),i.addEditOperation(new E.Range(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber),r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),`
`+g),this.shouldAutoIndent(t,r)){const C={tokenization:{getLineTokens:_=>_===h?t.tokenization.getLineTokens(r.startLineNumber):t.tokenization.getLineTokens(_),getLanguageId:n,getLanguageIdAtPosition:c},getLineContent:_=>_===h?t.getLineContent(r.startLineNumber):t.getLineContent(_)},S=this.matchEnterRule(t,p,a,r.startLineNumber,r.startLineNumber-2);if(S!==null)S!==0&&this.getIndentEditsOfMovingBlock(t,i,r,a,d,S);else{const _=(0,b.getGoodIndentForLine)(this._autoIndent,C,t.getLanguageIdAtPosition(r.startLineNumber,1),h,p,this._languageConfigurationService);if(_!==null){const L=f.getLeadingWhitespace(t.getLineContent(r.startLineNumber)),D=w.getSpaceCnt(_,a),T=w.getSpaceCnt(L,a);if(D!==T){const N=D-T;this.getIndentEditsOfMovingBlock(t,i,r,a,d,N)}}}}}this._selectionId=i.trackSelection(r)}buildIndentConverter(t,i,n){return{shiftIndent:c=>k.ShiftCommand.shiftIndent(c,c.length+1,t,i,n),unshiftIndent:c=>k.ShiftCommand.unshiftIndent(c,c.length+1,t,i,n)}}parseEnterResult(t,i,n,c,u){if(u){let r=u.indentation;u.indentAction===y.IndentAction.None||u.indentAction===y.IndentAction.Indent?r=u.indentation+u.appendText:u.indentAction===y.IndentAction.IndentOutdent?r=u.indentation:u.indentAction===y.IndentAction.Outdent&&(r=i.unshiftIndent(u.indentation)+u.appendText);const a=t.getLineContent(c);if(this.trimStart(a).indexOf(this.trimStart(r))>=0){const l=f.getLeadingWhitespace(t.getLineContent(c));let d=f.getLeadingWhitespace(r);const p=(0,b.getIndentMetadata)(t,c,this._languageConfigurationService);p!==null&&p&2&&(d=i.unshiftIndent(d));const h=w.getSpaceCnt(d,n),g=w.getSpaceCnt(l,n);return h-g}}return null}matchEnterRuleMovingDown(t,i,n,c,u,r){if(f.lastNonWhitespaceIndex(r)>=0){const a=t.getLineMaxColumn(u),l=(0,v.getEnterAction)(this._autoIndent,t,new E.Range(u,a,u,a),this._languageConfigurationService);return this.parseEnterResult(t,i,n,c,l)}else{let a=c-1;for(;a>=1;){const p=t.getLineContent(a);if(f.lastNonWhitespaceIndex(p)>=0)break;a--}if(a<1||c>t.getLineCount())return null;const l=t.getLineMaxColumn(a),d=(0,v.getEnterAction)(this._autoIndent,t,new E.Range(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,i,n,c,d)}}matchEnterRule(t,i,n,c,u,r){let a=u;for(;a>=1;){let p;if(a===u&&r!==void 0?p=r:p=t.getLineContent(a),f.lastNonWhitespaceIndex(p)>=0)break;a--}if(a<1||c>t.getLineCount())return null;const l=t.getLineMaxColumn(a),d=(0,v.getEnterAction)(this._autoIndent,t,new E.Range(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,i,n,c,d)}trimStart(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,i){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(i.startLineNumber))return!1;const n=t.getLanguageIdAtPosition(i.startLineNumber,1),c=t.getLanguageIdAtPosition(i.endLineNumber,1);return!(n!==c||this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,i,n,c,u,r){for(let a=n.startLineNumber;a<=n.endLineNumber;a++){const l=t.getLineContent(a),d=f.getLeadingWhitespace(l),h=w.getSpaceCnt(d,c)+r,g=w.generateIndent(h,c,u);g!==d&&(i.addEditOperation(new E.Range(a,1,a,d.length+1),g),a===n.endLineNumber&&n.endColumn<=d.length+1&&g===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}};e.MoveLinesCommand=s,e.MoveLinesCommand=s=ke([ge(3,m.ILanguageConfigurationService)],s)}),define(re[398],ae([1,0,4,85,26,30,6,55,2,119,234,3,7]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=void 0,e.canExpandCompletionItem=t;function t(c){return!!c&&!!(c.completion.documentation||c.completion.detail&&c.completion.detail!==c.completion.label)}let i=class{constructor(u,r){this._editor=u,this._onDidClose=new y.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new y.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new w.DisposableStore,this._renderDisposeable=new w.DisposableStore,this._borderWidth=1,this._size=new f.Dimension(330,0),this.domNode=f.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=r.createInstance(b.MarkdownRenderer,{editor:u}),this._body=f.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),f.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=f.append(this._body,f.$(".header")),this._close=f.append(this._header,f.$("span"+I.ThemeIcon.asCSSSelector(E.Codicon.close))),this._close.title=s.localize(194,"Close"),this._type=f.append(this._header,f.$("p.type")),this._docs=f.append(this._body,f.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const u=this._editor.getOptions(),r=u.get(50),a=r.getMassagedFontFamily(),l=u.get(120)||r.fontSize,d=u.get(121)||r.lineHeight,p=r.fontWeight,h=`${l}px`,g=`${d}px`;this.domNode.style.fontSize=h,this.domNode.style.lineHeight=`${d/l}`,this.domNode.style.fontWeight=p,this.domNode.style.fontFeatureSettings=r.fontFeatureSettings,this._type.style.fontFamily=a,this._close.style.height=g,this._close.style.width=g}getLayoutInfo(){const u=this._editor.getOption(121)||this._editor.getOption(50).lineHeight,r=this._borderWidth,a=r*2;return{lineHeight:u,borderWidth:r,borderHeight:a,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=s.localize(195,"Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(u,r){var a,l;this._renderDisposeable.clear();let{detail:d,documentation:p}=u.completion;if(r){let h="";h+=`score: ${u.score[0]}
`,h+=`prefix: ${(a=u.word)!==null&&a!==void 0?a:"(no prefix)"}
`,h+=`word: ${u.completion.filterText?u.completion.filterText+" (filterText)":u.textLabel}
`,h+=`distance: ${u.distance} (localityBonus-setting)
`,h+=`index: ${u.idx}, based on ${u.completion.sortText&&`sortText: "${u.completion.sortText}"`||"label"}
`,h+=`commit_chars: ${(l=u.completion.commitCharacters)===null||l===void 0?void 0:l.join("")}
`,p=new m.MarkdownString().appendCodeblock("empty",h),d=`Provider: ${u.provider._debugDisplayName}`}if(!r&&!t(u)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),d){const h=d.length>1e5?`${d.substr(0,1e5)}\u2026`:d;this._type.textContent=h,this._type.title=h,f.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(h))}else f.clearNode(this._type),this._type.title="",f.hide(this._type),this.domNode.classList.add("no-type");if(f.clearNode(this._docs),typeof p=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=p;else if(p){this._docs.classList.add("markdown-docs"),f.clearNode(this._docs);const h=this._markdownRenderer.render(p);this._docs.appendChild(h.element),this._renderDisposeable.add(h),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=h=>{h.preventDefault(),h.stopPropagation()},this._close.onclick=h=>{h.preventDefault(),h.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(u,r){const a=new f.Dimension(u,r);f.Dimension.equals(a,this._size)||(this._size=a,f.size(this.domNode,u,r)),this._scrollbar.scanDomNode()}scrollDown(u=8){this._body.scrollTop+=u}scrollUp(u=8){this._body.scrollTop-=u}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(u){this._borderWidth=u}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=i,e.SuggestDetailsWidget=i=ke([ge(1,o.IInstantiationService)],i);class n{constructor(u,r){this.widget=u,this._editor=r,this.allowEditorOverflow=!0,this._disposables=new w.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new v.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(u.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let a,l,d=0,p=0;this._disposables.add(this._resizable.onDidWillResize(()=>{a=this._topLeft,l=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(h=>{if(a&&l){this.widget.layout(h.dimension.width,h.dimension.height);let g=!1;h.west&&(p=l.width-h.dimension.width,g=!0),h.north&&(d=l.height-h.dimension.height,g=!0),g&&this._applyTopLeft({top:a.top+d,left:a.left+p})}h.done&&(a=void 0,l=void 0,d=0,p=0,this._userSize=h.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var h;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(h=this._userSize)!==null&&h!==void 0?h:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(u=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),u&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(u,r){var a;const l=u.getBoundingClientRect();this._anchorBox=l,this._preferAlignAtTop=r,this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,r)}_placeAtAnchor(u,r,a){var l;const d=f.getClientArea(this.getDomNode().ownerDocument.body),p=this.widget.getLayoutInfo(),h=new f.Dimension(220,2*p.lineHeight),g=u.top,C=function(){const B=d.width-(u.left+u.width+p.borderWidth+p.horizontalPadding),H=-p.borderWidth+u.left+u.width,K=new f.Dimension(B,d.height-u.top-p.borderHeight-p.verticalPadding),V=K.with(void 0,u.top+u.height-p.borderHeight-p.verticalPadding);return{top:g,left:H,fit:B-r.width,maxSizeTop:K,maxSizeBottom:V,minSize:h.with(Math.min(B,h.width))}}(),S=function(){const B=u.left-p.borderWidth-p.horizontalPadding,H=Math.max(p.horizontalPadding,u.left-r.width-p.borderWidth),K=new f.Dimension(B,d.height-u.top-p.borderHeight-p.verticalPadding),V=K.with(void 0,u.top+u.height-p.borderHeight-p.verticalPadding);return{top:g,left:H,fit:B-r.width,maxSizeTop:K,maxSizeBottom:V,minSize:h.with(Math.min(B,h.width))}}(),_=function(){const B=u.left,H=-p.borderWidth+u.top+u.height,K=new f.Dimension(u.width-p.borderHeight,d.height-u.top-u.height-p.verticalPadding);return{top:H,left:B,fit:K.height-r.height,maxSizeBottom:K,maxSizeTop:K,minSize:h.with(K.width)}}(),L=[C,S,_],D=(l=L.find(B=>B.fit>=0))!==null&&l!==void 0?l:L.sort((B,H)=>H.fit-B.fit)[0],T=u.top+u.height-p.borderHeight;let N,A=r.height;const R=Math.max(D.maxSizeTop.height,D.maxSizeBottom.height);A>R&&(A=R);let M;a?A<=D.maxSizeTop.height?(N=!0,M=D.maxSizeTop):(N=!1,M=D.maxSizeBottom):A<=D.maxSizeBottom.height?(N=!1,M=D.maxSizeBottom):(N=!0,M=D.maxSizeTop);let{top:P,left:x}=D;!N&&A>u.height&&(P=T-A);const O=this._editor.getDomNode();if(O){const B=O.getBoundingClientRect();P-=B.top,x-=B.left}this._applyTopLeft({left:x,top:P}),this._resizable.enableSashes(!N,D===C,N,D!==C),this._resizable.minSize=D.minSize,this._resizable.maxSize=M,this._resizable.layout(A,Math.min(M.width,r.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(u){this._topLeft=u,this._editor.layoutOverlayWidget(this)}}e.SuggestDetailsOverlay=n}),define(re[399],ae([1,0,13,44,54,19,22,28,108,38]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function v(c){return Object.isFrozen(c)?c:E.deepFreeze(c)}class s{static createEmptyModel(u){return new s({},[],[],void 0,u)}constructor(u,r,a,l,d){this._contents=u,this._keys=r,this._overrides=a,this.raw=l,this.logService=d,this.overrideConfigurations=new Map}get rawConfiguration(){var u;if(!this._rawConfiguration)if(!((u=this.raw)===null||u===void 0)&&u.length){const r=this.raw.map(a=>{if(a instanceof s)return a;const l=new o("",this.logService);return l.parseRaw(a),l.configurationModel});this._rawConfiguration=r.reduce((a,l)=>l===a?l:a.merge(l),r[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(u){return u?(0,m.getConfigurationValue)(this.contents,u):this.contents}inspect(u,r){const a=this;return{get value(){return v(a.rawConfiguration.getValue(u))},get override(){return r?v(a.rawConfiguration.getOverrideValue(u,r)):void 0},get merged(){return v(r?a.rawConfiguration.override(r).getValue(u):a.rawConfiguration.getValue(u))},get overrides(){const l=[];for(const{contents:d,identifiers:p,keys:h}of a.rawConfiguration.overrides){const g=new s(d,h,[],void 0,a.logService).getValue(u);g!==void 0&&l.push({identifiers:p,value:g})}return l.length?v(l):void 0}}}getOverrideValue(u,r){const a=this.getContentsForOverrideIdentifer(r);return a?u?(0,m.getConfigurationValue)(a,u):a:void 0}override(u){let r=this.overrideConfigurations.get(u);return r||(r=this.createOverrideConfigurationModel(u),this.overrideConfigurations.set(u,r)),r}merge(...u){var r,a;const l=E.deepClone(this.contents),d=E.deepClone(this.overrides),p=[...this.keys],h=!((r=this.raw)===null||r===void 0)&&r.length?[...this.raw]:[this];for(const g of u)if(h.push(...!((a=g.raw)===null||a===void 0)&&a.length?g.raw:[g]),!g.isEmpty()){this.mergeContents(l,g.contents);for(const C of g.overrides){const[S]=d.filter(_=>f.equals(_.identifiers,C.identifiers));S?(this.mergeContents(S.contents,C.contents),S.keys.push(...C.keys),S.keys=f.distinct(S.keys)):d.push(E.deepClone(C))}for(const C of g.keys)p.indexOf(C)===-1&&p.push(C)}return new s(l,p,d,h.every(g=>g instanceof s)?void 0:h,this.logService)}createOverrideConfigurationModel(u){const r=this.getContentsForOverrideIdentifer(u);if(!r||typeof r!="object"||!Object.keys(r).length)return this;const a={};for(const l of f.distinct([...Object.keys(this.contents),...Object.keys(r)])){let d=this.contents[l];const p=r[l];p&&(typeof d=="object"&&typeof p=="object"?(d=E.deepClone(d),this.mergeContents(d,p)):d=p),a[l]=d}return new s(a,this.keys,this.overrides,void 0,this.logService)}mergeContents(u,r){for(const a of Object.keys(r)){if(a in u&&I.isObject(u[a])&&I.isObject(r[a])){this.mergeContents(u[a],r[a]);continue}u[a]=E.deepClone(r[a])}}getContentsForOverrideIdentifer(u){let r=null,a=null;const l=d=>{d&&(a?this.mergeContents(a,d):a=E.deepClone(d))};for(const d of this.overrides)d.identifiers.length===1&&d.identifiers[0]===u?r=d.contents:d.identifiers.includes(u)&&l(d.contents);return l(r),a}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(u,r){this.updateValue(u,r,!0)}setValue(u,r){this.updateValue(u,r,!1)}removeValue(u){const r=this.keys.indexOf(u);r!==-1&&(this.keys.splice(r,1),(0,m.removeFromValueTree)(this.contents,u),w.OVERRIDE_PROPERTY_REGEX.test(u)&&this.overrides.splice(this.overrides.findIndex(a=>f.equals(a.identifiers,(0,w.overrideIdentifiersFromKey)(u))),1))}updateValue(u,r,a){(0,m.addToValueTree)(this.contents,u,r,l=>this.logService.error(l)),a=a||this.keys.indexOf(u)===-1,a&&this.keys.push(u),w.OVERRIDE_PROPERTY_REGEX.test(u)&&this.overrides.push({identifiers:(0,w.overrideIdentifiersFromKey)(u),keys:Object.keys(this.contents[u]),contents:(0,m.toValuesTree)(this.contents[u],l=>this.logService.error(l))})}}e.ConfigurationModel=s;class o{constructor(u,r){this._name=u,this.logService=r,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||s.createEmptyModel(this.logService)}parseRaw(u,r){this._raw=u;const{contents:a,keys:l,overrides:d,restricted:p,hasExcludedProperties:h}=this.doParseRaw(u,r);this._configurationModel=new s(a,l,d,h?[u]:void 0,this.logService),this._restrictedConfigurations=p||[]}doParseRaw(u,r){const a=b.Registry.as(w.Extensions.Configuration).getConfigurationProperties(),l=this.filter(u,a,!0,r);u=l.raw;const d=(0,m.toValuesTree)(u,g=>this.logService.error(`Conflict in settings file ${this._name}: ${g}`)),p=Object.keys(u),h=this.toOverrides(u,g=>this.logService.error(`Conflict in settings file ${this._name}: ${g}`));return{contents:d,keys:p,overrides:h,restricted:l.restricted,hasExcludedProperties:l.hasExcludedProperties}}filter(u,r,a,l){var d,p,h;let g=!1;if(!l?.scopes&&!l?.skipRestricted&&!(!((d=l?.exclude)===null||d===void 0)&&d.length))return{raw:u,restricted:[],hasExcludedProperties:g};const C={},S=[];for(const _ in u)if(w.OVERRIDE_PROPERTY_REGEX.test(_)&&a){const L=this.filter(u[_],r,!1,l);C[_]=L.raw,g=g||L.hasExcludedProperties,S.push(...L.restricted)}else{const L=r[_],D=L?typeof L.scope<"u"?L.scope:3:void 0;L?.restricted&&S.push(_),!(!((p=l.exclude)===null||p===void 0)&&p.includes(_))&&(!((h=l.include)===null||h===void 0)&&h.includes(_)||(D===void 0||l.scopes===void 0||l.scopes.includes(D))&&!(l.skipRestricted&&L?.restricted))?C[_]=u[_]:g=!0}return{raw:C,restricted:S,hasExcludedProperties:g}}toOverrides(u,r){const a=[];for(const l of Object.keys(u))if(w.OVERRIDE_PROPERTY_REGEX.test(l)){const d={};for(const p in u[l])d[p]=u[l][p];a.push({identifiers:(0,w.overrideIdentifiersFromKey)(l),keys:Object.keys(d),contents:(0,m.toValuesTree)(d,r)})}return a}}e.ConfigurationModelParser=o;class t{constructor(u,r,a,l,d,p,h,g,C,S,_,L,D){this.key=u,this.overrides=r,this._value=a,this.overrideIdentifiers=l,this.defaultConfiguration=d,this.policyConfiguration=p,this.applicationConfiguration=h,this.userConfiguration=g,this.localUserConfiguration=C,this.remoteUserConfiguration=S,this.workspaceConfiguration=_,this.folderConfigurationModel=L,this.memoryConfigurationModel=D}toInspectValue(u){return u?.value!==void 0||u?.override!==void 0||u?.overrides!==void 0?u:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class i{constructor(u,r,a,l,d,p,h,g,C,S){this._defaultConfiguration=u,this._policyConfiguration=r,this._applicationConfiguration=a,this._localUserConfiguration=l,this._remoteUserConfiguration=d,this._workspaceConfiguration=p,this._folderConfigurations=h,this._memoryConfiguration=g,this._memoryConfigurationByResource=C,this.logService=S,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(u,r,a){return this.getConsolidatedConfigurationModel(u,r,a).getValue(u)}updateValue(u,r,a={}){let l;a.resource?(l=this._memoryConfigurationByResource.get(a.resource),l||(l=s.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(a.resource,l))):l=this._memoryConfiguration,r===void 0?l.removeValue(u):l.setValue(u,r),a.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(u,r,a){const l=this.getConsolidatedConfigurationModel(u,r,a),d=this.getFolderConfigurationModelForResource(r.resource,a),p=r.resource?this._memoryConfigurationByResource.get(r.resource)||this._memoryConfiguration:this._memoryConfiguration,h=new Set;for(const g of l.overrides)for(const C of g.identifiers)l.getOverrideValue(u,C)!==void 0&&h.add(C);return new t(u,r,l.getValue(u),h.size?[...h]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,a?this._workspaceConfiguration:void 0,d||void 0,p)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(u,r,a){let l=this.getConsolidatedConfigurationModelForResource(r,a);return r.overrideIdentifier&&(l=l.override(r.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(u)!==void 0&&(l=l.merge(this._policyConfiguration)),l}getConsolidatedConfigurationModelForResource({resource:u},r){let a=this.getWorkspaceConsolidatedConfiguration();if(r&&u){const l=r.getFolder(u);l&&(a=this.getFolderConsolidatedConfiguration(l.uri)||a);const d=this._memoryConfigurationByResource.get(u);d&&(a=a.merge(d))}return a}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(u){let r=this._foldersConsolidatedConfigurations.get(u);if(!r){const a=this.getWorkspaceConsolidatedConfiguration(),l=this._folderConfigurations.get(u);l?(r=a.merge(l),this._foldersConsolidatedConfigurations.set(u,r)):r=a}return r}getFolderConfigurationModelForResource(u,r){if(r&&u){const a=r.getFolder(u);if(a)return this._folderConfigurations.get(a.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((u,r)=>{const{contents:a,overrides:l,keys:d}=this._folderConfigurations.get(r);return u.push([r,{contents:a,overrides:l,keys:d}]),u},[])}}static parse(u,r){const a=this.parseConfigurationModel(u.defaults,r),l=this.parseConfigurationModel(u.policy,r),d=this.parseConfigurationModel(u.application,r),p=this.parseConfigurationModel(u.user,r),h=this.parseConfigurationModel(u.workspace,r),g=u.folders.reduce((C,S)=>(C.set(y.URI.revive(S[0]),this.parseConfigurationModel(S[1],r)),C),new k.ResourceMap);return new i(a,l,d,p,s.createEmptyModel(r),h,g,s.createEmptyModel(r),new k.ResourceMap,r)}static parseConfigurationModel(u,r){return new s(u.contents,u.keys,u.overrides,void 0,r)}}e.Configuration=i;class n{constructor(u,r,a,l,d){this.change=u,this.previous=r,this.currentConfiguraiton=a,this.currentWorkspace=l,this.logService=d,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const p of u.keys)this.affectedKeys.add(p);for(const[,p]of u.overrides)for(const h of p)this.affectedKeys.add(h);this._affectsConfigStr=this._marker;for(const p of this.affectedKeys)this._affectsConfigStr+=p+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=i.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(u,r){var a;const l=this._marker+u,d=this._affectsConfigStr.indexOf(l);if(d<0)return!1;const p=d+l.length;if(p>=this._affectsConfigStr.length)return!1;const h=this._affectsConfigStr.charCodeAt(p);if(h!==this._markerCode1&&h!==this._markerCode2)return!1;if(r){const g=this.previousConfiguration?this.previousConfiguration.getValue(u,r,(a=this.previous)===null||a===void 0?void 0:a.workspace):void 0,C=this.currentConfiguraiton.getValue(u,r,this.currentWorkspace);return!E.equals(g,C)}return!0}}e.ConfigurationChangeEvent=n}),define(re[709],ae([1,0,2,399,108,38]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class y extends f.Disposable{get configurationModel(){return this._configurationModel}constructor(w){super(),this.logService=w,this._configurationModel=k.ConfigurationModel.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=k.ConfigurationModel.createEmptyModel(this.logService);const w=I.Registry.as(E.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(w),w)}updateConfigurationModel(w,b){const v=this.getConfigurationDefaultOverrides();for(const s of w){const o=v[s],t=b[s];o!==void 0?this._configurationModel.addValue(s,o):t?this._configurationModel.addValue(s,t.default):this._configurationModel.removeValue(s)}}}e.DefaultConfiguration=y}),define(re[120],ae([1,0,137,16,24,38,2,71]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=new m.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(s){if(k.OS===1){if(s&&s.win)return s.win}else if(k.OS===2){if(s&&s.mac)return s.mac}else if(s&&s.linux)return s.linux;return s}registerKeybindingRule(s){const o=w.bindToCurrentPlatform(s),t=new y.DisposableStore;if(o&&o.primary){const i=(0,f.decodeKeybinding)(o.primary,k.OS);i&&t.add(this._registerDefaultKeybinding(i,s.id,s.args,s.weight,0,s.when))}if(o&&Array.isArray(o.secondary))for(let i=0,n=o.secondary.length;i<n;i++){const c=o.secondary[i],u=(0,f.decodeKeybinding)(c,k.OS);u&&t.add(this._registerDefaultKeybinding(u,s.id,s.args,s.weight,-i-1,s.when))}return t}registerCommandAndKeybindingRule(s){return(0,y.combinedDisposable)(this.registerKeybindingRule(s),E.CommandsRegistry.registerCommand(s))}_registerDefaultKeybinding(s,o,t,i,n,c){const u=this._coreKeybindings.push({keybinding:s,command:o,commandArgs:t,when:c,weight1:i,weight2:n,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,y.toDisposable)(()=>{u(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},I.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(v,s){if(v.weight1!==s.weight1)return v.weight1-s.weight1;if(v.command&&s.command){if(v.command<s.command)return-1;if(v.command>s.command)return 1}return v.weight2-s.weight2}}),define(re[29],ae([1,0,40,30,6,2,71,24,12,7,120]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=void 0,e.isIMenuItem=o,e.isISubmenuItem=t,e.registerAction2=a;function o(l){return l.command!==void 0}function t(l){return l.submenu!==void 0}class i{constructor(d){if(i._instances.has(d))throw new TypeError(`MenuId with identifier '${d}' already exists. Use MenuId.for(ident) or a unique identifier`);i._instances.set(d,this),this.id=d}}e.MenuId=i,i._instances=new Map,i.CommandPalette=new i("CommandPalette"),i.DebugBreakpointsContext=new i("DebugBreakpointsContext"),i.DebugCallStackContext=new i("DebugCallStackContext"),i.DebugConsoleContext=new i("DebugConsoleContext"),i.DebugVariablesContext=new i("DebugVariablesContext"),i.NotebookVariablesContext=new i("NotebookVariablesContext"),i.DebugHoverContext=new i("DebugHoverContext"),i.DebugWatchContext=new i("DebugWatchContext"),i.DebugToolBar=new i("DebugToolBar"),i.DebugToolBarStop=new i("DebugToolBarStop"),i.EditorContext=new i("EditorContext"),i.SimpleEditorContext=new i("SimpleEditorContext"),i.EditorContent=new i("EditorContent"),i.EditorLineNumberContext=new i("EditorLineNumberContext"),i.EditorContextCopy=new i("EditorContextCopy"),i.EditorContextPeek=new i("EditorContextPeek"),i.EditorContextShare=new i("EditorContextShare"),i.EditorTitle=new i("EditorTitle"),i.EditorTitleRun=new i("EditorTitleRun"),i.EditorTitleContext=new i("EditorTitleContext"),i.EditorTitleContextShare=new i("EditorTitleContextShare"),i.EmptyEditorGroup=new i("EmptyEditorGroup"),i.EmptyEditorGroupContext=new i("EmptyEditorGroupContext"),i.EditorTabsBarContext=new i("EditorTabsBarContext"),i.EditorTabsBarShowTabsSubmenu=new i("EditorTabsBarShowTabsSubmenu"),i.EditorTabsBarShowTabsZenModeSubmenu=new i("EditorTabsBarShowTabsZenModeSubmenu"),i.EditorActionsPositionSubmenu=new i("EditorActionsPositionSubmenu"),i.ExplorerContext=new i("ExplorerContext"),i.ExplorerContextShare=new i("ExplorerContextShare"),i.ExtensionContext=new i("ExtensionContext"),i.GlobalActivity=new i("GlobalActivity"),i.CommandCenter=new i("CommandCenter"),i.CommandCenterCenter=new i("CommandCenterCenter"),i.LayoutControlMenuSubmenu=new i("LayoutControlMenuSubmenu"),i.LayoutControlMenu=new i("LayoutControlMenu"),i.MenubarMainMenu=new i("MenubarMainMenu"),i.MenubarAppearanceMenu=new i("MenubarAppearanceMenu"),i.MenubarDebugMenu=new i("MenubarDebugMenu"),i.MenubarEditMenu=new i("MenubarEditMenu"),i.MenubarCopy=new i("MenubarCopy"),i.MenubarFileMenu=new i("MenubarFileMenu"),i.MenubarGoMenu=new i("MenubarGoMenu"),i.MenubarHelpMenu=new i("MenubarHelpMenu"),i.MenubarLayoutMenu=new i("MenubarLayoutMenu"),i.MenubarNewBreakpointMenu=new i("MenubarNewBreakpointMenu"),i.PanelAlignmentMenu=new i("PanelAlignmentMenu"),i.PanelPositionMenu=new i("PanelPositionMenu"),i.ActivityBarPositionMenu=new i("ActivityBarPositionMenu"),i.MenubarPreferencesMenu=new i("MenubarPreferencesMenu"),i.MenubarRecentMenu=new i("MenubarRecentMenu"),i.MenubarSelectionMenu=new i("MenubarSelectionMenu"),i.MenubarShare=new i("MenubarShare"),i.MenubarSwitchEditorMenu=new i("MenubarSwitchEditorMenu"),i.MenubarSwitchGroupMenu=new i("MenubarSwitchGroupMenu"),i.MenubarTerminalMenu=new i("MenubarTerminalMenu"),i.MenubarViewMenu=new i("MenubarViewMenu"),i.MenubarHomeMenu=new i("MenubarHomeMenu"),i.OpenEditorsContext=new i("OpenEditorsContext"),i.OpenEditorsContextShare=new i("OpenEditorsContextShare"),i.ProblemsPanelContext=new i("ProblemsPanelContext"),i.SCMInputBox=new i("SCMInputBox"),i.SCMChangesSeparator=new i("SCMChangesSeparator"),i.SCMIncomingChanges=new i("SCMIncomingChanges"),i.SCMIncomingChangesContext=new i("SCMIncomingChangesContext"),i.SCMIncomingChangesSetting=new i("SCMIncomingChangesSetting"),i.SCMOutgoingChanges=new i("SCMOutgoingChanges"),i.SCMOutgoingChangesContext=new i("SCMOutgoingChangesContext"),i.SCMOutgoingChangesSetting=new i("SCMOutgoingChangesSetting"),i.SCMIncomingChangesAllChangesContext=new i("SCMIncomingChangesAllChangesContext"),i.SCMIncomingChangesHistoryItemContext=new i("SCMIncomingChangesHistoryItemContext"),i.SCMOutgoingChangesAllChangesContext=new i("SCMOutgoingChangesAllChangesContext"),i.SCMOutgoingChangesHistoryItemContext=new i("SCMOutgoingChangesHistoryItemContext"),i.SCMChangeContext=new i("SCMChangeContext"),i.SCMResourceContext=new i("SCMResourceContext"),i.SCMResourceContextShare=new i("SCMResourceContextShare"),i.SCMResourceFolderContext=new i("SCMResourceFolderContext"),i.SCMResourceGroupContext=new i("SCMResourceGroupContext"),i.SCMSourceControl=new i("SCMSourceControl"),i.SCMSourceControlInline=new i("SCMSourceControlInline"),i.SCMSourceControlTitle=new i("SCMSourceControlTitle"),i.SCMTitle=new i("SCMTitle"),i.SearchContext=new i("SearchContext"),i.SearchActionMenu=new i("SearchActionContext"),i.StatusBarWindowIndicatorMenu=new i("StatusBarWindowIndicatorMenu"),i.StatusBarRemoteIndicatorMenu=new i("StatusBarRemoteIndicatorMenu"),i.StickyScrollContext=new i("StickyScrollContext"),i.TestItem=new i("TestItem"),i.TestItemGutter=new i("TestItemGutter"),i.TestMessageContext=new i("TestMessageContext"),i.TestMessageContent=new i("TestMessageContent"),i.TestPeekElement=new i("TestPeekElement"),i.TestPeekTitle=new i("TestPeekTitle"),i.TouchBarContext=new i("TouchBarContext"),i.TitleBarContext=new i("TitleBarContext"),i.TitleBarTitleContext=new i("TitleBarTitleContext"),i.TunnelContext=new i("TunnelContext"),i.TunnelPrivacy=new i("TunnelPrivacy"),i.TunnelProtocol=new i("TunnelProtocol"),i.TunnelPortInline=new i("TunnelInline"),i.TunnelTitle=new i("TunnelTitle"),i.TunnelLocalAddressInline=new i("TunnelLocalAddressInline"),i.TunnelOriginInline=new i("TunnelOriginInline"),i.ViewItemContext=new i("ViewItemContext"),i.ViewContainerTitle=new i("ViewContainerTitle"),i.ViewContainerTitleContext=new i("ViewContainerTitleContext"),i.ViewTitle=new i("ViewTitle"),i.ViewTitleContext=new i("ViewTitleContext"),i.CommentEditorActions=new i("CommentEditorActions"),i.CommentThreadTitle=new i("CommentThreadTitle"),i.CommentThreadActions=new i("CommentThreadActions"),i.CommentThreadAdditionalActions=new i("CommentThreadAdditionalActions"),i.CommentThreadTitleContext=new i("CommentThreadTitleContext"),i.CommentThreadCommentContext=new i("CommentThreadCommentContext"),i.CommentTitle=new i("CommentTitle"),i.CommentActions=new i("CommentActions"),i.CommentsViewThreadActions=new i("CommentsViewThreadActions"),i.InteractiveToolbar=new i("InteractiveToolbar"),i.InteractiveCellTitle=new i("InteractiveCellTitle"),i.InteractiveCellDelete=new i("InteractiveCellDelete"),i.InteractiveCellExecute=new i("InteractiveCellExecute"),i.InteractiveInputExecute=new i("InteractiveInputExecute"),i.InteractiveInputConfig=new i("InteractiveInputConfig"),i.ReplInputExecute=new i("ReplInputExecute"),i.IssueReporter=new i("IssueReporter"),i.NotebookToolbar=new i("NotebookToolbar"),i.NotebookStickyScrollContext=new i("NotebookStickyScrollContext"),i.NotebookCellTitle=new i("NotebookCellTitle"),i.NotebookCellDelete=new i("NotebookCellDelete"),i.NotebookCellInsert=new i("NotebookCellInsert"),i.NotebookCellBetween=new i("NotebookCellBetween"),i.NotebookCellListTop=new i("NotebookCellTop"),i.NotebookCellExecute=new i("NotebookCellExecute"),i.NotebookCellExecuteGoTo=new i("NotebookCellExecuteGoTo"),i.NotebookCellExecutePrimary=new i("NotebookCellExecutePrimary"),i.NotebookDiffCellInputTitle=new i("NotebookDiffCellInputTitle"),i.NotebookDiffCellMetadataTitle=new i("NotebookDiffCellMetadataTitle"),i.NotebookDiffCellOutputsTitle=new i("NotebookDiffCellOutputsTitle"),i.NotebookOutputToolbar=new i("NotebookOutputToolbar"),i.NotebookOutlineFilter=new i("NotebookOutlineFilter"),i.NotebookOutlineActionMenu=new i("NotebookOutlineActionMenu"),i.NotebookEditorLayoutConfigure=new i("NotebookEditorLayoutConfigure"),i.NotebookKernelSource=new i("NotebookKernelSource"),i.BulkEditTitle=new i("BulkEditTitle"),i.BulkEditContext=new i("BulkEditContext"),i.TimelineItemContext=new i("TimelineItemContext"),i.TimelineTitle=new i("TimelineTitle"),i.TimelineTitleContext=new i("TimelineTitleContext"),i.TimelineFilterSubMenu=new i("TimelineFilterSubMenu"),i.AccountsContext=new i("AccountsContext"),i.SidebarTitle=new i("SidebarTitle"),i.PanelTitle=new i("PanelTitle"),i.AuxiliaryBarTitle=new i("AuxiliaryBarTitle"),i.AuxiliaryBarHeader=new i("AuxiliaryBarHeader"),i.TerminalInstanceContext=new i("TerminalInstanceContext"),i.TerminalEditorInstanceContext=new i("TerminalEditorInstanceContext"),i.TerminalNewDropdownContext=new i("TerminalNewDropdownContext"),i.TerminalTabContext=new i("TerminalTabContext"),i.TerminalTabEmptyAreaContext=new i("TerminalTabEmptyAreaContext"),i.TerminalStickyScrollContext=new i("TerminalStickyScrollContext"),i.WebviewContext=new i("WebviewContext"),i.InlineCompletionsActions=new i("InlineCompletionsActions"),i.InlineEditsActions=new i("InlineEditsActions"),i.InlineEditActions=new i("InlineEditActions"),i.NewFile=new i("NewFile"),i.MergeInput1Toolbar=new i("MergeToolbar1Toolbar"),i.MergeInput2Toolbar=new i("MergeToolbar2Toolbar"),i.MergeBaseToolbar=new i("MergeBaseToolbar"),i.MergeInputResultToolbar=new i("MergeToolbarResultToolbar"),i.InlineSuggestionToolbar=new i("InlineSuggestionToolbar"),i.InlineEditToolbar=new i("InlineEditToolbar"),i.ChatContext=new i("ChatContext"),i.ChatCodeBlock=new i("ChatCodeblock"),i.ChatCompareBlock=new i("ChatCompareBlock"),i.ChatMessageTitle=new i("ChatMessageTitle"),i.ChatExecute=new i("ChatExecute"),i.ChatExecuteSecondary=new i("ChatExecuteSecondary"),i.ChatInputSide=new i("ChatInputSide"),i.AccessibleView=new i("AccessibleView"),i.MultiDiffEditorFileToolbar=new i("MultiDiffEditorFileToolbar"),i.DiffEditorHunkToolbar=new i("DiffEditorHunkToolbar"),i.DiffEditorSelectionToolbar=new i("DiffEditorSelectionToolbar"),e.IMenuService=(0,b.createDecorator)("menuService");class n{static for(d){let p=this._all.get(d);return p||(p=new n(d),this._all.set(d,p)),p}static merge(d){const p=new Set;for(const h of d)h instanceof n&&p.add(h.id);return p}constructor(d){this.id=d,this.has=p=>p===d}}n._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new E.MicrotaskEmitter({merge:n.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(l){return this._commands.set(l.id,l),this._onDidChangeMenu.fire(n.for(i.CommandPalette)),(0,I.toDisposable)(()=>{this._commands.delete(l.id)&&this._onDidChangeMenu.fire(n.for(i.CommandPalette))})}getCommand(l){return this._commands.get(l)}getCommands(){const l=new Map;return this._commands.forEach((d,p)=>l.set(p,d)),l}appendMenuItem(l,d){let p=this._menuItems.get(l);p||(p=new y.LinkedList,this._menuItems.set(l,p));const h=p.push(d);return this._onDidChangeMenu.fire(n.for(l)),(0,I.toDisposable)(()=>{h(),this._onDidChangeMenu.fire(n.for(l))})}appendMenuItems(l){const d=new I.DisposableStore;for(const{id:p,item:h}of l)d.add(this.appendMenuItem(p,h));return d}getMenuItems(l){let d;return this._menuItems.has(l)?d=[...this._menuItems.get(l)]:d=[],l===i.CommandPalette&&this._appendImplicitItems(d),d}_appendImplicitItems(l){const d=new Set;for(const p of l)o(p)&&(d.add(p.command.id),p.alt&&d.add(p.alt.id));this._commands.forEach((p,h)=>{d.has(h)||l.push({command:p})})}};class c extends f.SubmenuAction{constructor(d,p,h){super(`submenuitem.${d.submenu.id}`,typeof d.title=="string"?d.title:d.title.value,h,"submenu"),this.item=d,this.hideActions=p}}e.SubmenuItemAction=c;let u=s=class{static label(d,p){return p?.renderShortTitle&&d.shortTitle?typeof d.shortTitle=="string"?d.shortTitle:d.shortTitle.value:typeof d.title=="string"?d.title:d.title.value}constructor(d,p,h,g,C,S,_){var L,D;this.hideActions=g,this.menuKeybinding=C,this._commandService=_,this.id=d.id,this.label=s.label(d,h),this.tooltip=(D=typeof d.tooltip=="string"?d.tooltip:(L=d.tooltip)===null||L===void 0?void 0:L.value)!==null&&D!==void 0?D:"",this.enabled=!d.precondition||S.contextMatchesRules(d.precondition),this.checked=void 0;let T;if(d.toggled){const N=d.toggled.condition?d.toggled:{condition:d.toggled};this.checked=S.contextMatchesRules(N.condition),this.checked&&N.tooltip&&(this.tooltip=typeof N.tooltip=="string"?N.tooltip:N.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(N.icon)&&(T=N.icon),this.checked&&N.title&&(this.label=typeof N.title=="string"?N.title:N.title.value)}T||(T=k.ThemeIcon.isThemeIcon(d.icon)?d.icon:void 0),this.item=d,this.alt=p?new s(p,void 0,h,g,void 0,S,_):void 0,this._options=h,this.class=T&&k.ThemeIcon.asClassName(T)}run(...d){var p,h;let g=[];return!((p=this._options)===null||p===void 0)&&p.arg&&(g=[...g,this._options.arg]),!((h=this._options)===null||h===void 0)&&h.shouldForwardArgs&&(g=[...g,...d]),this._commandService.executeCommand(this.id,...g)}};e.MenuItemAction=u,e.MenuItemAction=u=s=ke([ge(5,w.IContextKeyService),ge(6,m.ICommandService)],u);class r{constructor(d){this.desc=d}}e.Action2=r;function a(l){const d=[],p=new l,{f1:h,menu:g,keybinding:C,...S}=p.desc;if(m.CommandsRegistry.getCommand(S.id))throw new Error(`Cannot register two commands with the same id: ${S.id}`);if(d.push(m.CommandsRegistry.registerCommand({id:S.id,handler:(_,...L)=>p.run(_,...L),metadata:S.metadata})),Array.isArray(g))for(const _ of g)d.push(e.MenuRegistry.appendMenuItem(_.id,{command:{...S,precondition:_.precondition===null?void 0:S.precondition},..._}));else g&&d.push(e.MenuRegistry.appendMenuItem(g.id,{command:{...S,precondition:g.precondition===null?void 0:S.precondition},...g}));if(h&&(d.push(e.MenuRegistry.appendMenuItem(i.CommandPalette,{command:S,when:S.precondition})),d.push(e.MenuRegistry.addCommand(S))),Array.isArray(C))for(const _ of C)d.push(v.KeybindingsRegistry.registerKeybindingRule({..._,id:S.id,when:S.precondition?w.ContextKeyExpr.and(S.precondition,_.when):_.when}));else C&&d.push(v.KeybindingsRegistry.registerKeybindingRule({...C,id:S.id,when:S.precondition?w.ContextKeyExpr.and(S.precondition,C.when):C.when}));return{dispose(){(0,I.dispose)(d)}}}}),define(re[710],ae([1,0,47,239,3,29]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class y extends I.Action2{constructor(){super({id:y.ID,title:E.localize2(135,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:E.localize2(136,"Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){const b=!k.TabFocus.getTabFocusMode();k.TabFocus.setTabFocusMode(b),b?(0,f.alert)(E.localize(133,"Pressing Tab will now move focus to the next focusable element")):(0,f.alert)(E.localize(134,"Pressing Tab will now insert the tab character"))}}e.ToggleTabFocusModeAction=y,y.ID="editor.action.toggleTabFocusMode",(0,I.registerAction2)(y)}),define(re[400],ae([1,0,259,651,12,120,3,2,4]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.historyNavigationVisible=void 0,e.registerAndCreateHistoryNavigationContext=i,e.historyNavigationVisible=new E.RawContextKey("suggestWidgetVisible",!1,(0,y.localize)(1623,"Whether suggestion are visible"));const b="historyNavigationWidgetFocus",v="historyNavigationForwardsEnabled",s="historyNavigationBackwardsEnabled";let o;const t=[];function i(u,r){if(t.includes(r))throw new Error("Cannot register the same widget multiple times");t.push(r);const a=new m.DisposableStore,l=new E.RawContextKey(b,!1).bindTo(u),d=new E.RawContextKey(v,!0).bindTo(u),p=new E.RawContextKey(s,!0).bindTo(u),h=()=>{l.set(!0),o=r},g=()=>{l.set(!1),o===r&&(o=void 0)};return(0,w.isActiveElement)(r.element)&&h(),a.add(r.onDidFocus(()=>h())),a.add(r.onDidBlur(()=>g())),a.add((0,m.toDisposable)(()=>{t.splice(t.indexOf(r),1),g()})),{historyNavigationForwardsEnablement:d,historyNavigationBackwardsEnablement:p,dispose(){a.dispose()}}}let n=class extends f.FindInput{constructor(r,a,l,d){super(r,a,l);const p=this._register(d.createScoped(this.inputBox.element));this._register(i(p,this.inputBox))}};e.ContextScopedFindInput=n,e.ContextScopedFindInput=n=ke([ge(3,E.IContextKeyService)],n);let c=class extends k.ReplaceInput{constructor(r,a,l,d,p=!1){super(r,a,p,l);const h=this._register(d.createScoped(this.inputBox.element));this._register(i(h,this.inputBox))}};e.ContextScopedReplaceInput=c,e.ContextScopedReplaceInput=c=ke([ge(3,E.IContextKeyService)],c),I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(b),E.ContextKeyExpr.equals(s,!0),E.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:u=>{o?.showPreviousValue()}}),I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(b),E.ContextKeyExpr.equals(v,!0),E.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:u=>{o?.showNextValue()}})}),define(re[151],ae([1,0,18,8,83,2,59,19,22,9,5,77,132,3,29,24,12,17,400]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.CompletionItemModel=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.getSnippetSuggestSupport=p,e.provideSuggestionItems=g,e.getSuggestionComparator=D,e.showSimpleSuggestions=T,e.Context={Visible:r.historyNavigationVisible,HasFocusedSuggestion:new c.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,t.localize)(222,"Whether any suggestion is focused")),DetailsVisible:new c.RawContextKey("suggestWidgetDetailsVisible",!1,(0,t.localize)(223,"Whether suggestion details are visible")),MultipleSuggestions:new c.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,t.localize)(224,"Whether there are multiple suggestions to pick from")),MakesTextEdit:new c.RawContextKey("suggestionMakesTextEdit",!0,(0,t.localize)(225,"Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new c.RawContextKey("acceptSuggestionOnEnter",!0,(0,t.localize)(226,"Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new c.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,t.localize)(227,"Whether the current suggestion has insert and replace behaviour")),InsertMode:new c.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,t.localize)(228,"Whether the default behaviour is to insert or replace")}),CanResolve:new c.RawContextKey("suggestionCanResolve",!1,(0,t.localize)(229,"Whether the current suggestion supports to resolve further details"))},e.suggestWidgetStatusbarMenu=new i.MenuId("suggestWidgetStatusBar");class a{constructor(R,M,P,x){var O;this.position=R,this.completion=M,this.container=P,this.provider=x,this.isInvalid=!1,this.score=E.FuzzyScore.Default,this.distance=0,this.textLabel=typeof M.label=="string"?M.label:(O=M.label)===null||O===void 0?void 0:O.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=M.sortText&&M.sortText.toLowerCase(),this.filterTextLow=M.filterText&&M.filterText.toLowerCase(),this.extensionId=M.extensionId,v.Range.isIRange(M.range)?(this.editStart=new b.Position(M.range.startLineNumber,M.range.startColumn),this.editInsertEnd=new b.Position(M.range.endLineNumber,M.range.endColumn),this.editReplaceEnd=new b.Position(M.range.endLineNumber,M.range.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(M.range)||M.range.startLineNumber!==R.lineNumber):(this.editStart=new b.Position(M.range.insert.startLineNumber,M.range.insert.startColumn),this.editInsertEnd=new b.Position(M.range.insert.endLineNumber,M.range.insert.endColumn),this.editReplaceEnd=new b.Position(M.range.replace.endLineNumber,M.range.replace.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(M.range.insert)||v.Range.spansMultipleLines(M.range.replace)||M.range.insert.startLineNumber!==R.lineNumber||M.range.replace.startLineNumber!==R.lineNumber||M.range.insert.startColumn!==M.range.replace.startColumn),typeof x.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(R){if(!this._resolveCache){const M=R.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),P=new y.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,R)).then(x=>{Object.assign(this.completion,x),this._resolveDuration=P.elapsed()},x=>{(0,k.isCancellationError)(x)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{M.dispose()})}return this._resolveCache}}e.CompletionItem=a;class l{constructor(R=2,M=new Set,P=new Set,x=new Map,O=!0){this.snippetSortOrder=R,this.kindFilter=M,this.providerFilter=P,this.providerItemsToReuse=x,this.showDeprecated=O}}e.CompletionOptions=l,l.default=new l;let d;function p(){return d}class h{constructor(R,M,P,x){this.items=R,this.needsClipboard=M,this.durations=P,this.disposable=x}}e.CompletionItemModel=h;async function g(A,R,M,P=l.default,x={triggerKind:0},O=f.CancellationToken.None){const B=new y.StopWatch;M=M.clone();const H=R.getWordAtPosition(M),K=H?new v.Range(M.lineNumber,H.startColumn,M.lineNumber,H.endColumn):v.Range.fromPositions(M),V={replace:K,insert:K.setEndPosition(M.lineNumber,M.column)},j=[],U=new I.DisposableStore,Y=[];let Q=!1;const Z=(F,J,te)=>{var de,he,pe;let ue=!1;if(!J)return ue;for(const ie of J.suggestions)if(!P.kindFilter.has(ie.kind)){if(!P.showDeprecated&&(!((de=ie?.tags)===null||de===void 0)&&de.includes(1)))continue;ie.range||(ie.range=V),ie.sortText||(ie.sortText=typeof ie.label=="string"?ie.label:ie.label.label),!Q&&ie.insertTextRules&&ie.insertTextRules&4&&(Q=o.SnippetParser.guessNeedsClipboard(ie.insertText)),j.push(new a(M,ie,J,F)),ue=!0}return(0,I.isDisposable)(J)&&U.add(J),Y.push({providerName:(he=F._debugDisplayName)!==null&&he!==void 0?he:"unknown_provider",elapsedProvider:(pe=J.duration)!==null&&pe!==void 0?pe:-1,elapsedOverall:te.elapsed()}),ue},G=(async()=>{if(!d||P.kindFilter.has(27))return;const F=P.providerItemsToReuse.get(d);if(F){F.forEach(de=>j.push(de));return}if(P.providerFilter.size>0&&!P.providerFilter.has(d))return;const J=new y.StopWatch,te=await d.provideCompletionItems(R,M,x,O);Z(d,te,J)})();for(const F of A.orderedGroups(R)){let J=!1;if(await Promise.all(F.map(async te=>{if(P.providerItemsToReuse.has(te)){const de=P.providerItemsToReuse.get(te);de.forEach(he=>j.push(he)),J=J||de.length>0;return}if(!(P.providerFilter.size>0&&!P.providerFilter.has(te)))try{const de=new y.StopWatch,he=await te.provideCompletionItems(R,M,x,O);J=Z(te,he,de)||J}catch(de){(0,k.onUnexpectedExternalError)(de)}})),J||O.isCancellationRequested)break}return await G,O.isCancellationRequested?(U.dispose(),Promise.reject(new k.CancellationError)):new h(j.sort(D(P.snippetSortOrder)),Q,{entries:Y,elapsed:B.elapsed()},U)}function C(A,R){if(A.sortTextLow&&R.sortTextLow){if(A.sortTextLow<R.sortTextLow)return-1;if(A.sortTextLow>R.sortTextLow)return 1}return A.textLabel<R.textLabel?-1:A.textLabel>R.textLabel?1:A.completion.kind-R.completion.kind}function S(A,R){if(A.completion.kind!==R.completion.kind){if(A.completion.kind===27)return-1;if(R.completion.kind===27)return 1}return C(A,R)}function _(A,R){if(A.completion.kind!==R.completion.kind){if(A.completion.kind===27)return 1;if(R.completion.kind===27)return-1}return C(A,R)}const L=new Map;L.set(0,S),L.set(2,_),L.set(1,C);function D(A){return L.get(A)}n.CommandsRegistry.registerCommand("_executeCompletionItemProvider",async(A,...R)=>{const[M,P,x,O]=R;(0,m.assertType)(w.URI.isUri(M)),(0,m.assertType)(b.Position.isIPosition(P)),(0,m.assertType)(typeof x=="string"||!x),(0,m.assertType)(typeof O=="number"||!O);const{completionProvider:B}=A.get(u.ILanguageFeaturesService),H=await A.get(s.ITextModelService).createModelReference(M);try{const K={incomplete:!1,suggestions:[]},V=[],j=H.object.textEditorModel.validatePosition(P),U=await g(B,H.object.textEditorModel,j,void 0,{triggerCharacter:x??void 0,triggerKind:x?1:0});for(const Y of U.items)V.length<(O??0)&&V.push(Y.resolve(f.CancellationToken.None)),K.incomplete=K.incomplete||Y.container.incomplete,K.suggestions.push(Y.completion);try{return await Promise.all(V),K}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{H.dispose()}});function T(A,R){var M;(M=A.getContribution("editor.contrib.suggestController"))===null||M===void 0||M.triggerSuggest(new Set().add(R),void 0,!0)}class N{static isAllOff(R){return R.other==="off"&&R.comments==="off"&&R.strings==="off"}static isAllOn(R){return R.other==="on"&&R.comments==="on"&&R.strings==="on"}static valueFor(R,M){switch(M){case 1:return R.comments;case 2:return R.strings;default:return R.other}}}e.QuickSuggestionsOptions=N}),define(re[711],ae([1,0,16,3,12,177,120,269,63]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const b={weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.equals(m.quickInputTypeContextKeyValue,"quickPick"),m.inQuickInputContext),metadata:{description:(0,k.localize)(1571,"Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function v(c,u={}){var r;y.KeybindingsRegistry.registerCommandAndKeybindingRule({...b,...c,secondary:o(c.primary,(r=c.secondary)!==null&&r!==void 0?r:[],u)})}const s=f.isMacintosh?256:2048;function o(c,u,r={}){return r.withAltMod&&u.push(512+c),r.withCtrlMod&&(u.push(s+c),r.withAltMod&&u.push(512+s+c)),r.withCmdMod&&f.isMacintosh&&(u.push(2048+c),r.withCtrlMod&&u.push(2304+c),r.withAltMod&&(u.push(2560+c),r.withCtrlMod&&u.push(2816+c))),u}function t(c,u){return r=>{const a=r.get(w.IQuickInputService).currentQuickInput;if(a)return u&&a.quickNavigate?a.focus(u):a.focus(c)}}v({id:"quickInput.pageNext",primary:12,handler:t(w.QuickPickFocus.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),v({id:"quickInput.pagePrevious",primary:11,handler:t(w.QuickPickFocus.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),v({id:"quickInput.first",primary:s+14,handler:t(w.QuickPickFocus.First)},{withAltMod:!0,withCmdMod:!0}),v({id:"quickInput.last",primary:s+13,handler:t(w.QuickPickFocus.Last)},{withAltMod:!0,withCmdMod:!0}),v({id:"quickInput.next",primary:18,handler:t(w.QuickPickFocus.Next)},{withCtrlMod:!0}),v({id:"quickInput.previous",primary:16,handler:t(w.QuickPickFocus.Previous)},{withCtrlMod:!0});const i=(0,k.localize)(1572,"If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),n=(0,k.localize)(1573,"If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");f.isMacintosh?(v({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:t(w.QuickPickFocus.NextSeparator,w.QuickPickFocus.Next),metadata:{description:i}}),v({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:t(w.QuickPickFocus.NextSeparator)},{withCtrlMod:!0}),v({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:t(w.QuickPickFocus.PreviousSeparator,w.QuickPickFocus.Previous),metadata:{description:n}}),v({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:t(w.QuickPickFocus.PreviousSeparator)},{withCtrlMod:!0})):(v({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:t(w.QuickPickFocus.NextSeparator,w.QuickPickFocus.Next),metadata:{description:i}}),v({id:"quickInput.nextSeparator",primary:2578,handler:t(w.QuickPickFocus.NextSeparator)}),v({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:t(w.QuickPickFocus.PreviousSeparator,w.QuickPickFocus.Previous),metadata:{description:n}}),v({id:"quickInput.previousSeparator",primary:2576,handler:t(w.QuickPickFocus.PreviousSeparator)})),v({id:"quickInput.acceptInBackground",when:E.ContextKeyExpr.and(b.when,E.ContextKeyExpr.or(I.InputFocusedContext.negate(),m.endOfQuickInputBoxContext)),primary:17,weight:250,handler:c=>{const u=c.get(w.IQuickInputService).currentQuickInput;u?.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0})}),define(re[152],ae([1,0,13,2,38]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var I;(function(m){m[m.PRESERVE=0]="PRESERVE",m[m.LAST=1]="LAST"})(I||(e.DefaultQuickAccessFilterValue=I={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class y{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(w){return w.prefix.length===0?this.defaultProvider=w:this.providers.push(w),this.providers.sort((b,v)=>v.prefix.length-b.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(w),1),this.defaultProvider===w&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,f.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(w){return w&&this.providers.find(v=>w.startsWith(v.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=y,E.Registry.add(e.Extensions.Quickaccess,new y)}),define(re[712],ae([1,0,3,38,2,31,152,63]),function(le,e,f,k,E,I,y,m){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let b=w=class{constructor(s,o){this.quickInputService=s,this.keybindingService=o,this.registry=k.Registry.as(y.Extensions.Quickaccess)}provide(s){const o=new E.DisposableStore;return o.add(s.onDidAccept(()=>{const[t]=s.selectedItems;t&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),o.add(s.onDidChangeValue(t=>{const i=this.registry.getQuickAccessProvider(t.substr(w.PREFIX.length));i&&i.prefix&&i.prefix!==w.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),s.items=this.getQuickAccessProviders().filter(t=>t.prefix!==w.PREFIX),o}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((o,t)=>o.prefix.localeCompare(t.prefix)).flatMap(o=>this.createPicks(o))}createPicks(s){return s.helpEntries.map(o=>{const t=o.prefix||s.prefix,i=t||"\u2026";return{prefix:t,label:i,keybinding:o.commandId?this.keybindingService.lookupKeybinding(o.commandId):void 0,ariaLabel:(0,f.localize)(1581,"{0}, {1}",i,o.description),description:o.description}})}};e.HelpQuickAccessProvider=b,b.PREFIX="?",e.HelpQuickAccessProvider=b=w=ke([ge(0,m.IQuickInputService),ge(1,I.IKeybindingService)],b)}),define(re[713],ae([1,0,38,152,106,712]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:I.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:E.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(re[714],ae([1,0,14,18,6,2,7,152,63,38]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let v=class extends I.Disposable{constructor(o,t){super(),this.quickInputService=o,this.instantiationService=t,this.registry=b.Registry.as(m.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(o="",t){this.doShowOrPick(o,!1,t)}doShowOrPick(o,t,i){var n,c,u,r;const[a,l]=this.getOrInstantiateProvider(o,i?.enabledProviderPrefixes),d=this.visibleQuickAccess,p=d?.descriptor;if(d&&l&&p===l){o!==l.prefix&&!i?.preserveValue&&(d.picker.value=o),this.adjustValueSelection(d.picker,l,i);return}if(l&&!i?.preserveValue){let D;if(d&&p&&p!==l){const T=d.value.substr(p.prefix.length);T&&(D=`${l.prefix}${T}`)}if(!D){const T=a?.defaultFilterValue;T===m.DefaultQuickAccessFilterValue.LAST?D=this.lastAcceptedPickerValues.get(l):typeof T=="string"&&(D=`${l.prefix}${T}`)}typeof D=="string"&&(o=D)}const h=(n=d?.picker)===null||n===void 0?void 0:n.valueSelection,g=(c=d?.picker)===null||c===void 0?void 0:c.value,C=new I.DisposableStore,S=C.add(this.quickInputService.createQuickPick());S.value=o,this.adjustValueSelection(S,l,i),S.placeholder=(u=i?.placeholder)!==null&&u!==void 0?u:l?.placeholder,S.quickNavigate=i?.quickNavigateConfiguration,S.hideInput=!!S.quickNavigate&&!d,(typeof i?.itemActivation=="number"||i?.quickNavigateConfiguration)&&(S.itemActivation=(r=i?.itemActivation)!==null&&r!==void 0?r:w.ItemActivation.SECOND),S.contextKey=l?.contextKey,S.filterValue=D=>D.substring(l?l.prefix.length:0);let _;t&&(_=new f.DeferredPromise,C.add(E.Event.once(S.onWillAccept)(D=>{D.veto(),S.hide()}))),C.add(this.registerPickerListeners(S,a,l,o,i));const L=C.add(new k.CancellationTokenSource);if(a&&C.add(a.provide(S,L.token,i?.providerOptions)),E.Event.once(S.onDidHide)(()=>{S.selectedItems.length===0&&L.cancel(),C.dispose(),_?.complete(S.selectedItems.slice(0))}),S.show(),h&&g===o&&(S.valueSelection=h),t)return _?.p}adjustValueSelection(o,t,i){var n;let c;i?.preserveValue?c=[o.value.length,o.value.length]:c=[(n=t?.prefix.length)!==null&&n!==void 0?n:0,o.value.length],o.valueSelection=c}registerPickerListeners(o,t,i,n,c){const u=new I.DisposableStore,r=this.visibleQuickAccess={picker:o,descriptor:i,value:n};return u.add((0,I.toDisposable)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),u.add(o.onDidChangeValue(a=>{const[l]=this.getOrInstantiateProvider(a,c?.enabledProviderPrefixes);l!==t?this.show(a,{enabledProviderPrefixes:c?.enabledProviderPrefixes,preserveValue:!0,providerOptions:c?.providerOptions}):r.value=a})),i&&u.add(o.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,o.value)})),u}getOrInstantiateProvider(o,t){const i=this.registry.getQuickAccessProvider(o);if(!i||t&&!t?.includes(i.prefix))return[void 0,void 0];let n=this.mapProviderToDescriptor.get(i);return n||(n=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,n)),[n,i]}};e.QuickAccessController=v,e.QuickAccessController=v=ke([ge(0,w.IQuickInputService),ge(1,y.IInstantiationService)],v)}),define(re[715],ae([1,0,26,30,110,554]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var I;(function(y){function m(w){switch(w){case E.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(f.Codicon.info);case E.default.Info:return k.ThemeIcon.asClassName(f.Codicon.info);case E.default.Warning:return k.ThemeIcon.asClassName(f.Codicon.warning);case E.default.Error:return k.ThemeIcon.asClassName(f.Codicon.error);default:return""}}y.className=m})(I||(e.SeverityIcon=I={}))}),define(re[100],ae([1,0,6,2,19,465,7]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.loadKeyTargets=w,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,y.createDecorator)("storageService");var m;(function(s){s[s.NONE=0]="NONE",s[s.SHUTDOWN=1]="SHUTDOWN"})(m||(e.WillSaveStateReason=m={}));function w(s){const o=s.get(e.TARGET_KEY);if(o)try{return JSON.parse(o)}catch{}return Object.create(null)}class b extends k.Disposable{constructor(o={flushInterval:b.DEFAULT_FLUSH_INTERVAL}){super(),this.options=o,this._onDidChangeValue=this._register(new f.PauseableEmitter),this._onDidChangeTarget=this._register(new f.PauseableEmitter),this._onWillSaveState=this._register(new f.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(o,t,i){return f.Event.filter(this._onDidChangeValue.event,n=>n.scope===o&&(t===void 0||n.key===t),i)}emitDidChangeValue(o,t){const{key:i,external:n}=t;if(i===e.TARGET_KEY){switch(o){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:o})}else this._onDidChangeValue.fire({scope:o,key:i,target:this.getKeyTargets(o)[i],external:n})}get(o,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.get(o,i)}getBoolean(o,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getBoolean(o,i)}getNumber(o,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getNumber(o,i)}store(o,t,i,n,c=!1){if((0,E.isUndefinedOrNull)(t)){this.remove(o,i,c);return}this.withPausedEmitters(()=>{var u;this.updateKeyTarget(o,i,n),(u=this.getStorage(i))===null||u===void 0||u.set(o,t,c)})}remove(o,t,i=!1){this.withPausedEmitters(()=>{var n;this.updateKeyTarget(o,t,void 0),(n=this.getStorage(t))===null||n===void 0||n.delete(o,i)})}withPausedEmitters(o){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{o()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(o,t,i,n=!1){var c,u;const r=this.getKeyTargets(t);typeof i=="number"?r[o]!==i&&(r[o]=i,(c=this.getStorage(t))===null||c===void 0||c.set(e.TARGET_KEY,JSON.stringify(r),n)):typeof r[o]=="number"&&(delete r[o],(u=this.getStorage(t))===null||u===void 0||u.set(e.TARGET_KEY,JSON.stringify(r),n))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(o){switch(o){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(o){const t=this.getStorage(o);return t?w(t):Object.create(null)}}e.AbstractStorageService=b,b.DEFAULT_FLUSH_INTERVAL=60*1e3;class v extends b{constructor(){super(),this.applicationStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase,{hint:I.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase,{hint:I.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase,{hint:I.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(o=>this.emitDidChangeValue(1,o))),this._register(this.profileStorage.onDidChangeStorage(o=>this.emitDidChangeValue(0,o))),this._register(this.applicationStorage.onDidChangeStorage(o=>this.emitDidChangeValue(-1,o)))}getStorage(o){switch(o){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=v}),define(re[716],ae([1,0,6,44,5,381,48,7,100,52,4]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,m.createDecorator)("ICodeLensCache");class s{constructor(i,n){this.lineCount=i,this.data=n}}let o=class{constructor(i){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const n="codelens/cache";(0,v.runWhenWindowIdle)(b.mainWindow,()=>i.remove(n,1));const c="codelens/cache2",u=i.get(c,1,"{}");this._deserialize(u),f.Event.once(i.onWillSaveState)(r=>{r.reason===w.WillSaveStateReason.SHUTDOWN&&i.store(c,this._serialize(),1,1)})}put(i,n){const c=n.lenses.map(a=>{var l;return{range:a.symbol.range,command:a.symbol.command&&{id:"",title:(l=a.symbol.command)===null||l===void 0?void 0:l.title}}}),u=new I.CodeLensModel;u.add({lenses:c,dispose:()=>{}},this._fakeProvider);const r=new s(i.getLineCount(),u);this._cache.set(i.uri.toString(),r)}get(i){const n=this._cache.get(i.uri.toString());return n&&n.lineCount===i.getLineCount()?n.data:void 0}delete(i){this._cache.delete(i.uri.toString())}_serialize(){const i=Object.create(null);for(const[n,c]of this._cache){const u=new Set;for(const r of c.data.lenses)u.add(r.symbol.range.startLineNumber);i[n]={lineCount:c.lineCount,lines:[...u.values()]}}return JSON.stringify(i)}_deserialize(i){try{const n=JSON.parse(i);for(const c in n){const u=n[c],r=[];for(const l of u.lines)r.push({range:new E.Range(l,1,l,11)});const a=new I.CodeLensModel;a.add({lenses:r,dispose(){}},this._fakeProvider),this._cache.set(c,new s(u.lineCount,a))}}catch{}}};e.CodeLensCache=o,e.CodeLensCache=o=ke([ge(0,w.IStorageService)],o),(0,y.registerSingleton)(e.ICodeLensCache,o,1)}),define(re[401],ae([1,0,14,2,44,227,27,28,48,7,100]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class o{constructor(r){this.name=r}select(r,a,l){if(l.length===0)return 0;const d=l[0].score[0];for(let p=0;p<l.length;p++){const{score:h,completion:g}=l[p];if(h[0]!==d)break;if(g.preselect)return p}return 0}}e.Memory=o;class t extends o{constructor(){super("first")}memorize(r,a,l){}toJSON(){}fromJSON(){}}e.NoMemory=t;class i extends o{constructor(){super("recentlyUsed"),this._cache=new E.LRUCache(300,.66),this._seq=0}memorize(r,a,l){const d=`${r.getLanguageId()}/${l.textLabel}`;this._cache.set(d,{touch:this._seq++,type:l.completion.kind,insertText:l.completion.insertText})}select(r,a,l){if(l.length===0)return 0;const d=r.getLineContent(a.lineNumber).substr(a.column-10,a.column-1);if(/\s$/.test(d))return super.select(r,a,l);const p=l[0].score[0];let h=-1,g=-1,C=-1;for(let S=0;S<l.length&&l[S].score[0]===p;S++){const _=`${r.getLanguageId()}/${l[S].textLabel}`,L=this._cache.peek(_);if(L&&L.touch>C&&L.type===l[S].completion.kind&&L.insertText===l[S].completion.insertText&&(C=L.touch,g=S),l[S].completion.preselect&&h===-1)return h=S}return g!==-1?g:h!==-1?h:0}toJSON(){return this._cache.toJSON()}fromJSON(r){this._cache.clear();const a=0;for(const[l,d]of r)d.touch=a,d.type=typeof d.type=="number"?d.type:y.CompletionItemKinds.fromString(d.type),this._cache.set(l,d);this._seq=this._cache.size}}e.LRUMemory=i;class n extends o{constructor(){super("recentlyUsedByPrefix"),this._trie=I.TernarySearchTree.forStrings(),this._seq=0}memorize(r,a,l){const{word:d}=r.getWordUntilPosition(a),p=`${r.getLanguageId()}/${d}`;this._trie.set(p,{type:l.completion.kind,insertText:l.completion.insertText,touch:this._seq++})}select(r,a,l){const{word:d}=r.getWordUntilPosition(a);if(!d)return super.select(r,a,l);const p=`${r.getLanguageId()}/${d}`;let h=this._trie.get(p);if(h||(h=this._trie.findSubstr(p)),h)for(let g=0;g<l.length;g++){const{kind:C,insertText:S}=l[g].completion;if(C===h.type&&S===h.insertText)return g}return super.select(r,a,l)}toJSON(){const r=[];return this._trie.forEach((a,l)=>r.push([l,a])),r.sort((a,l)=>-(a[1].touch-l[1].touch)).forEach((a,l)=>a[1].touch=l),r.slice(0,200)}fromJSON(r){if(this._trie.clear(),r.length>0){this._seq=r[0][1].touch+1;for(const[a,l]of r)l.type=typeof l.type=="number"?l.type:y.CompletionItemKinds.fromString(l.type),this._trie.set(a,l)}}}e.PrefixMemory=n;let c=s=class{constructor(r,a){this._storageService=r,this._configService=a,this._disposables=new k.DisposableStore,this._persistSoon=new f.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(r.onWillSaveState(l=>{l.reason===v.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(r,a,l){this._withStrategy(r,a).memorize(r,a,l),this._persistSoon.schedule()}select(r,a,l){return this._withStrategy(r,a).select(r,a,l)}_withStrategy(r,a){var l;const d=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:r.getLanguageIdAtPosition(a.lineNumber,a.column),resource:r.uri});if(((l=this._strategy)===null||l===void 0?void 0:l.name)!==d){this._saveState();const p=s._strategyCtors.get(d)||t;this._strategy=new p;try{const g=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,C=this._storageService.get(`${s._storagePrefix}/${d}`,g);C&&this._strategy.fromJSON(JSON.parse(C))}catch{}}return this._strategy}_saveState(){if(this._strategy){const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=JSON.stringify(this._strategy);this._storageService.store(`${s._storagePrefix}/${this._strategy.name}`,l,a,1)}}};e.SuggestMemoryService=c,c._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",i],["first",t]]),c._storagePrefix="suggest/memories",e.SuggestMemoryService=c=s=ke([ge(0,v.IStorageService),ge(1,m.IConfigurationService)],c),e.ISuggestMemoryService=(0,b.createDecorator)("ISuggestMemories"),(0,w.registerSingleton)(e.ISuggestMemoryService,c,1)}),define(re[402],ae([1,0,14,6,2,29,24,12,40,100,13,3,31]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";var t,i;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0,e.createConfigureKeybindingAction=l;let n=class{constructor(p,h,g){this._commandService=p,this._keybindingService=h,this._hiddenStates=new c(g)}createMenu(p,h,g){return new r(p,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...g},this._commandService,this._keybindingService,h)}resetHiddenStates(p){this._hiddenStates.reset(p)}};e.MenuService=n,e.MenuService=n=ke([ge(0,y.ICommandService),ge(1,o.IKeybindingService),ge(2,b.IStorageService)],n);let c=t=class{constructor(p){this._storageService=p,this._disposables=new E.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const h=p.get(t._key,0,"{}");this._data=JSON.parse(h)}catch{this._data=Object.create(null)}this._disposables.add(p.onDidChangeValue(0,t._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const h=p.get(t._key,0,"{}");this._data=JSON.parse(h)}catch(h){console.log("FAILED to read storage after UPDATE",h)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(p,h){var g;return(g=this._hiddenByDefaultCache.get(`${p.id}/${h}`))!==null&&g!==void 0?g:!1}setDefaultState(p,h,g){this._hiddenByDefaultCache.set(`${p.id}/${h}`,g)}isHidden(p,h){var g,C;const S=this._isHiddenByDefault(p,h),_=(C=(g=this._data[p.id])===null||g===void 0?void 0:g.includes(h))!==null&&C!==void 0?C:!1;return S?!_:_}updateHidden(p,h,g){this._isHiddenByDefault(p,h)&&(g=!g);const S=this._data[p.id];if(g)S?S.indexOf(h)<0&&S.push(h):this._data[p.id]=[h];else if(S){const _=S.indexOf(h);_>=0&&(0,v.removeFastWithoutKeepingOrder)(S,_),S.length===0&&delete this._data[p.id]}this._persist()}reset(p){if(p===void 0)this._data=Object.create(null),this._persist();else{for(const{id:h}of p)this._data[h]&&delete this._data[h];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const p=JSON.stringify(this._data);this._storageService.store(t._key,p,0,0)}finally{this._ignoreChangeEvent=!1}}};c._key="menu.hiddenCommands",c=t=ke([ge(0,b.IStorageService)],c);let u=i=class{constructor(p,h,g,C,S,_){this._id=p,this._hiddenStates=h,this._collectContextKeysForSubmenus=g,this._commandService=C,this._keybindingService=S,this._contextKeyService=_,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const p=I.MenuRegistry.getMenuItems(this._id);let h;p.sort(i._compareMenuItems);for(const g of p){const C=g.group||"";(!h||h[0]!==C)&&(h=[C,[]],this._menuGroups.push(h)),h[1].push(g),this._collectContextKeys(g)}}_collectContextKeys(p){if(i._fillInKbExprKeys(p.when,this._structureContextKeys),(0,I.isIMenuItem)(p)){if(p.command.precondition&&i._fillInKbExprKeys(p.command.precondition,this._preconditionContextKeys),p.command.toggled){const h=p.command.toggled.condition||p.command.toggled;i._fillInKbExprKeys(h,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&I.MenuRegistry.getMenuItems(p.submenu).forEach(this._collectContextKeys,this)}createActionGroups(p){const h=[];for(const g of this._menuGroups){const[C,S]=g;let _;for(const L of S)if(this._contextKeyService.contextMatchesRules(L.when)){const D=(0,I.isIMenuItem)(L);D&&this._hiddenStates.setDefaultState(this._id,L.command.id,!!L.isHiddenByDefault);const T=a(this._id,D?L.command:L,this._hiddenStates);if(D){const N=l(this._commandService,this._keybindingService,L.command.id,L.when);(_??(_=[])).push(new I.MenuItemAction(L.command,L.alt,p,T,N,this._contextKeyService,this._commandService))}else{const N=new i(L.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(p),A=w.Separator.join(...N.map(R=>R[1]));A.length>0&&(_??(_=[])).push(new I.SubmenuItemAction(L,T,A))}}_&&_.length>0&&h.push([C,_])}return h}static _fillInKbExprKeys(p,h){if(p)for(const g of p.keys())h.add(g)}static _compareMenuItems(p,h){const g=p.group,C=h.group;if(g!==C){if(g){if(!C)return-1}else return 1;if(g==="navigation")return-1;if(C==="navigation")return 1;const L=g.localeCompare(C);if(L!==0)return L}const S=p.order||0,_=h.order||0;return S<_?-1:S>_?1:i._compareTitles((0,I.isIMenuItem)(p)?p.command.title:p.title,(0,I.isIMenuItem)(h)?h.command.title:h.title)}static _compareTitles(p,h){const g=typeof p=="string"?p:p.original,C=typeof h=="string"?h:h.original;return g.localeCompare(C)}};u=i=ke([ge(3,y.ICommandService),ge(4,o.IKeybindingService),ge(5,m.IContextKeyService)],u);let r=class{constructor(p,h,g,C,S,_){this._disposables=new E.DisposableStore,this._menuInfo=new u(p,h,g.emitEventsForSubmenuChanges,C,S,_);const L=new f.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},g.eventDebounceDelay);this._disposables.add(L),this._disposables.add(I.MenuRegistry.onDidChangeMenu(A=>{A.has(p)&&L.schedule()}));const D=this._disposables.add(new E.DisposableStore),T=A=>{let R=!1,M=!1,P=!1;for(const x of A)if(R=R||x.isStructuralChange,M=M||x.isEnablementChange,P=P||x.isToggleChange,R&&M&&P)break;return{menu:this,isStructuralChange:R,isEnablementChange:M,isToggleChange:P}},N=()=>{D.add(_.onDidChangeContext(A=>{const R=A.affectsSome(this._menuInfo.structureContextKeys),M=A.affectsSome(this._menuInfo.preconditionContextKeys),P=A.affectsSome(this._menuInfo.toggledContextKeys);(R||M||P)&&this._onDidChange.fire({menu:this,isStructuralChange:R,isEnablementChange:M,isToggleChange:P})})),D.add(h.onDidChange(A=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:N,onDidRemoveLastListener:D.clear.bind(D),delay:g.eventDebounceDelay,merge:T}),this.onDidChange=this._onDidChange.event}getActions(p){return this._menuInfo.createActionGroups(p)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};r=ke([ge(3,y.ICommandService),ge(4,o.IKeybindingService),ge(5,m.IContextKeyService)],r);function a(d,p,h){const g=(0,I.isISubmenuItem)(p)?p.submenu.id:p.id,C=typeof p.title=="string"?p.title:p.title.value,S=(0,w.toAction)({id:`hide/${d.id}/${g}`,label:(0,s.localize)(1665,"Hide '{0}'",C),run(){h.updateHidden(d,g,!0)}}),_=(0,w.toAction)({id:`toggle/${d.id}/${g}`,label:C,get checked(){return!h.isHidden(d,g)},run(){h.updateHidden(d,g,!!this.checked)}});return{hide:S,toggle:_,get isHidden(){return!_.checked}}}function l(d,p,h,g=void 0,C=!0){return(0,w.toAction)({id:`configureKeybinding/${h}`,label:(0,s.localize)(1666,"Configure Keybinding"),enabled:C,run(){const _=!!!p.lookupKeybinding(h)&&g?g.serialize():void 0;d.executeCommand("workbench.action.openGlobalKeybindings",`@command:${h}`+(_?` +when:${_}`:""))}})}}),define(re[64],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,f.createDecorator)("telemetryService")}),define(re[15],ae([1,0,3,22,35,9,51,77,29,24,12,7,120,38,64,19,61,4]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0,e.registerModelAndPositionCommand=C,e.registerEditorCommand=S,e.registerEditorAction=_,e.registerMultiEditorAction=L,e.registerInstantiatedEditorAction=D,e.registerEditorContribution=T;class r{constructor(x){this.id=x.id,this.precondition=x.precondition,this._kbOpts=x.kbOpts,this._menuOpts=x.menuOpts,this.metadata=x.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const x=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const O of x){let B=O.kbExpr;this.precondition&&(B?B=v.ContextKeyExpr.and(B,this.precondition):B=this.precondition);const H={id:this.id,weight:O.weight,args:O.args,when:B,primary:O.primary,secondary:O.secondary,win:O.win,linux:O.linux,mac:O.mac};o.KeybindingsRegistry.registerKeybindingRule(H)}}b.CommandsRegistry.registerCommand({id:this.id,handler:(x,O)=>this.runCommand(x,O),metadata:this.metadata})}_registerMenuItem(x){w.MenuRegistry.appendMenuItem(x.menuId,{group:x.group,command:{id:this.id,title:x.title,icon:x.icon,precondition:this.precondition},when:x.when,order:x.order})}}e.Command=r;class a extends r{constructor(){super(...arguments),this._implementations=[]}addImplementation(x,O,B,H){return this._implementations.push({priority:x,name:O,implementation:B,when:H}),this._implementations.sort((K,V)=>V.priority-K.priority),{dispose:()=>{for(let K=0;K<this._implementations.length;K++)if(this._implementations[K].implementation===B){this._implementations.splice(K,1);return}}}}runCommand(x,O){const B=x.get(c.ILogService),H=x.get(v.IContextKeyService);B.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const K of this._implementations){if(K.when){const j=H.getContext((0,u.getActiveElement)());if(!K.when.evaluate(j))continue}const V=K.implementation(x,O);if(V)return B.trace(`Command '${this.id}' was handled by '${K.name}'.`),typeof V=="boolean"?void 0:V}B.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=a;class l extends r{constructor(x,O){super(O),this.command=x}runCommand(x,O){return this.command.runCommand(x,O)}}e.ProxyCommand=l;class d extends r{static bindToContribution(x){return class extends d{constructor(B){super(B),this._callback=B.handler}runEditorCommand(B,H,K){const V=x(H);V&&this._callback(V,K)}}}static runEditorCommand(x,O,B,H){const K=x.get(E.ICodeEditorService),V=K.getFocusedCodeEditor()||K.getActiveCodeEditor();if(V)return V.invokeWithinContext(j=>{if(j.get(v.IContextKeyService).contextMatchesRules(B??void 0))return H(j,V,O)})}runCommand(x,O){return d.runEditorCommand(x,O,this.precondition,(B,H,K)=>this.runEditorCommand(B,H,K))}}e.EditorCommand=d;class p extends d{static convertOptions(x){let O;Array.isArray(x.menuOpts)?O=x.menuOpts:x.menuOpts?O=[x.menuOpts]:O=[];function B(H){return H.menuId||(H.menuId=w.MenuId.EditorContext),H.title||(H.title=x.label),H.when=v.ContextKeyExpr.and(x.precondition,H.when),H}return Array.isArray(x.contextMenuOpts)?O.push(...x.contextMenuOpts.map(B)):x.contextMenuOpts&&O.push(B(x.contextMenuOpts)),x.menuOpts=O,x}constructor(x){super(p.convertOptions(x)),this.label=x.label,this.alias=x.alias}runEditorCommand(x,O,B){return this.reportTelemetry(x,O),this.run(x,O,B||{})}reportTelemetry(x,O){x.get(i.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=p;class h extends p{constructor(){super(...arguments),this._implementations=[]}addImplementation(x,O){return this._implementations.push([x,O]),this._implementations.sort((B,H)=>H[0]-B[0]),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B][1]===O){this._implementations.splice(B,1);return}}}}run(x,O,B){for(const H of this._implementations){const K=H[1](x,O,B);if(K)return typeof K=="boolean"?void 0:K}}}e.MultiEditorAction=h;class g extends w.Action2{run(x,...O){const B=x.get(E.ICodeEditorService),H=B.getFocusedCodeEditor()||B.getActiveCodeEditor();if(H)return H.invokeWithinContext(K=>{var V,j;const U=K.get(v.IContextKeyService),Y=K.get(c.ILogService);if(!U.contextMatchesRules((V=this.desc.precondition)!==null&&V!==void 0?V:void 0)){Y.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(j=this.desc.precondition)===null||j===void 0?void 0:j.serialize());return}return this.runEditorCommand(K,H,...O)})}}e.EditorAction2=g;function C(P,x){b.CommandsRegistry.registerCommand(P,function(O,...B){const H=O.get(s.IInstantiationService),[K,V]=B;(0,n.assertType)(k.URI.isUri(K)),(0,n.assertType)(I.Position.isIPosition(V));const j=O.get(y.IModelService).getModel(K);if(j){const U=I.Position.lift(V);return H.invokeFunction(x,j,U,...B.slice(2))}return O.get(m.ITextModelService).createModelReference(K).then(U=>new Promise((Y,Q)=>{try{const Z=H.invokeFunction(x,U.object.textEditorModel,I.Position.lift(V),B.slice(2));Y(Z)}catch(Z){Q(Z)}}).finally(()=>{U.dispose()}))})}function S(P){return R.INSTANCE.registerEditorCommand(P),P}function _(P){const x=new P;return R.INSTANCE.registerEditorAction(x),x}function L(P){return R.INSTANCE.registerEditorAction(P),P}function D(P){R.INSTANCE.registerEditorAction(P)}function T(P,x,O){R.INSTANCE.registerEditorContribution(P,x,O)}var N;(function(P){function x(V){return R.INSTANCE.getEditorCommand(V)}P.getEditorCommand=x;function O(){return R.INSTANCE.getEditorActions()}P.getEditorActions=O;function B(){return R.INSTANCE.getEditorContributions()}P.getEditorContributions=B;function H(V){return R.INSTANCE.getEditorContributions().filter(j=>V.indexOf(j.id)>=0)}P.getSomeEditorContributions=H;function K(){return R.INSTANCE.getDiffEditorContributions()}P.getDiffEditorContributions=K})(N||(e.EditorExtensionsRegistry=N={}));const A={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(x,O,B){this.editorContributions.push({id:x,ctor:O,instantiation:B})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(x){x.register(),this.editorActions.push(x)}getEditorActions(){return this.editorActions}registerEditorCommand(x){x.register(),this.editorCommands[x.id]=x}getEditorCommand(x){return this.editorCommands[x]||null}}R.INSTANCE=new R,t.Registry.add(A.EditorCommonContributions,R.INSTANCE);function M(P){return P.register(),P}e.UndoCommand=M(new a({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(1733,"&&Undo"),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(1734,"Undo"),order:1}]})),M(new l(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new a({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(1735,"&&Redo"),order:2},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(1736,"Redo"),order:1}]})),M(new l(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new a({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:w.MenuId.MenubarSelectionMenu,group:"1_basic",title:f.localize(1737,"&&Select All"),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(1738,"Select All"),order:1}]}))}),define(re[212],ae([1,0,3,65,19,47,15,35,576,76,245,246,274,9,5,20,12,120,4,211]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const l=0;class d extends y.EditorCommand{runEditorCommand(R,M,P){const x=M._getViewModel();x&&this.runCoreEditorCommand(x,P||{})}}e.CoreEditorCommand=d;var p;(function(A){const R=function(P){if(!E.isObject(P))return!1;const x=P;return!(!E.isString(x.to)||!E.isUndefined(x.by)&&!E.isString(x.by)||!E.isUndefined(x.value)&&!E.isNumber(x.value)||!E.isUndefined(x.revealCursor)&&!E.isBoolean(x.revealCursor))};A.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},A.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},A.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function M(P){let x;switch(P.to){case A.RawDirection.Up:x=1;break;case A.RawDirection.Right:x=2;break;case A.RawDirection.Down:x=3;break;case A.RawDirection.Left:x=4;break;default:return null}let O;switch(P.by){case A.RawUnit.Line:O=1;break;case A.RawUnit.WrappedLine:O=2;break;case A.RawUnit.Page:O=3;break;case A.RawUnit.HalfPage:O=4;break;case A.RawUnit.Editor:O=5;break;case A.RawUnit.Column:O=6;break;default:O=2}const B=Math.floor(P.value||1),H=!!P.revealCursor;return{direction:x,unit:O,value:B,revealCursor:H,select:!!P.select}}A.parse=M})(p||(e.EditorScroll_=p={}));var h;(function(A){const R=function(M){if(!E.isObject(M))return!1;const P=M;return!(!E.isNumber(P.lineNumber)&&!E.isString(P.lineNumber)||!E.isUndefined(P.at)&&!E.isString(P.at))};A.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},A.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h||(e.RevealLine_=h={}));class g{constructor(R){R.addImplementation(1e4,"code-editor",(M,P)=>{const x=M.get(m.ICodeEditorService).getFocusedCodeEditor();return x&&x.hasTextFocus()?this._runEditorCommand(M,x,P):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(M,P)=>{const x=(0,r.getActiveElement)();return x&&["input","textarea"].indexOf(x.tagName.toLowerCase())>=0?(this.runDOMCommand(x),!0):!1}),R.addImplementation(0,"generic-dom",(M,P)=>{const x=M.get(m.ICodeEditorService).getActiveCodeEditor();return x?(x.focus(),this._runEditorCommand(M,x,P)):!1})}_runEditorCommand(R,M,P){const x=this.runEditorCommand(R,M,P);return x||!0}}var C;(function(A){class R extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){if(!de.position)return;te.model.pushStackElement(),te.setCursorStates(de.source,3,[s.CursorMoveCommands.moveTo(te,te.getPrimaryCursorState(),this._inSelectionMode,de.position,de.viewPosition)])&&de.revealType!==2&&te.revealAllCursors(de.source,!0,!0)}}A.MoveTo=(0,y.registerEditorCommand)(new R({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),A.MoveToSelect=(0,y.registerEditorCommand)(new R({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class M extends d{runCoreEditorCommand(te,de){te.model.pushStackElement();const he=this._getColumnSelectResult(te,te.getPrimaryCursorState(),te.getCursorColumnSelectData(),de);he!==null&&(te.setCursorStates(de.source,3,he.viewStates.map(pe=>b.CursorState.fromViewState(pe))),te.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:he.fromLineNumber,fromViewVisualColumn:he.fromVisualColumn,toViewLineNumber:he.toLineNumber,toViewVisualColumn:he.toVisualColumn}),he.reversed?te.revealTopMostCursor(de.source):te.revealBottomMostCursor(de.source))}}A.ColumnSelect=(0,y.registerEditorCommand)(new class extends M{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(J,te,de,he){if(typeof he.position>"u"||typeof he.viewPosition>"u"||typeof he.mouseColumn>"u")return null;const pe=J.model.validatePosition(he.position),ue=J.coordinatesConverter.validateViewPosition(new t.Position(he.viewPosition.lineNumber,he.viewPosition.column),pe),ie=he.doColumnSelect?de.fromViewLineNumber:ue.lineNumber,se=he.doColumnSelect?de.fromViewVisualColumn:he.mouseColumn-1;return w.ColumnSelection.columnSelect(J.cursorConfig,J,ie,se,ue.lineNumber,he.mouseColumn-1)}}),A.CursorColumnSelectLeft=(0,y.registerEditorCommand)(new class extends M{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(J,te,de,he){return w.ColumnSelection.columnSelectLeft(J.cursorConfig,J,de)}}),A.CursorColumnSelectRight=(0,y.registerEditorCommand)(new class extends M{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(J,te,de,he){return w.ColumnSelection.columnSelectRight(J.cursorConfig,J,de)}});class P extends M{constructor(te){super(te),this._isPaged=te.isPaged}_getColumnSelectResult(te,de,he,pe){return w.ColumnSelection.columnSelectUp(te.cursorConfig,te,he,this._isPaged)}}A.CursorColumnSelectUp=(0,y.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),A.CursorColumnSelectPageUp=(0,y.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class x extends M{constructor(te){super(te),this._isPaged=te.isPaged}_getColumnSelectResult(te,de,he,pe){return w.ColumnSelection.columnSelectDown(te.cursorConfig,te,he,this._isPaged)}}A.CursorColumnSelectDown=(0,y.registerEditorCommand)(new x({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),A.CursorColumnSelectPageDown=(0,y.registerEditorCommand)(new x({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class O extends d{constructor(){super({id:"cursorMove",precondition:void 0,metadata:s.CursorMove.metadata})}runCoreEditorCommand(te,de){const he=s.CursorMove.parse(de);he&&this._runCursorMove(te,de.source,he)}_runCursorMove(te,de,he){te.model.pushStackElement(),te.setCursorStates(de,3,O._move(te,te.getCursorStates(),he)),te.revealAllCursors(de,!0)}static _move(te,de,he){const pe=he.select,ue=he.value;switch(he.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s.CursorMoveCommands.simpleMove(te,de,he.direction,pe,ue,he.unit);case 11:case 13:case 12:case 14:return s.CursorMoveCommands.viewportMove(te,de,he.direction,pe,ue);default:return null}}}A.CursorMoveImpl=O,A.CursorMove=(0,y.registerEditorCommand)(new O);class B extends d{constructor(te){super(te),this._staticArgs=te.args}runCoreEditorCommand(te,de){let he=this._staticArgs;this._staticArgs.value===-1&&(he={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:de.pageSize||te.cursorConfig.pageSize}),te.model.pushStackElement(),te.setCursorStates(de.source,3,s.CursorMoveCommands.simpleMove(te,te.getCursorStates(),he.direction,he.select,he.value,he.unit)),te.revealAllCursors(de.source,!0)}}A.CursorLeft=(0,y.registerEditorCommand)(new B({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),A.CursorLeftSelect=(0,y.registerEditorCommand)(new B({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1039}})),A.CursorRight=(0,y.registerEditorCommand)(new B({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),A.CursorRightSelect=(0,y.registerEditorCommand)(new B({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1041}})),A.CursorUp=(0,y.registerEditorCommand)(new B({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),A.CursorUpSelect=(0,y.registerEditorCommand)(new B({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),A.CursorPageUp=(0,y.registerEditorCommand)(new B({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:11}})),A.CursorPageUpSelect=(0,y.registerEditorCommand)(new B({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1035}})),A.CursorDown=(0,y.registerEditorCommand)(new B({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),A.CursorDownSelect=(0,y.registerEditorCommand)(new B({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),A.CursorPageDown=(0,y.registerEditorCommand)(new B({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:12}})),A.CursorPageDownSelect=(0,y.registerEditorCommand)(new B({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1036}})),A.CreateCursor=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(J,te){if(!te.position)return;let de;te.wholeLine?de=s.CursorMoveCommands.line(J,J.getPrimaryCursorState(),!1,te.position,te.viewPosition):de=s.CursorMoveCommands.moveTo(J,J.getPrimaryCursorState(),!1,te.position,te.viewPosition);const he=J.getCursorStates();if(he.length>1){const pe=de.modelState?de.modelState.position:null,ue=de.viewState?de.viewState.position:null;for(let ie=0,se=he.length;ie<se;ie++){const ne=he[ie];if(!(pe&&!ne.modelState.selection.containsPosition(pe))&&!(ue&&!ne.viewState.selection.containsPosition(ue))){he.splice(ie,1),J.model.pushStackElement(),J.setCursorStates(te.source,3,he);return}}}he.push(de),J.model.pushStackElement(),J.setCursorStates(te.source,3,he)}}),A.LastCursorMoveToSelect=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(J,te){if(!te.position)return;const de=J.getLastAddedCursorIndex(),he=J.getCursorStates(),pe=he.slice(0);pe[de]=s.CursorMoveCommands.moveTo(J,he[de],!0,te.position,te.viewPosition),J.model.pushStackElement(),J.setCursorStates(te.source,3,pe)}});class H extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,s.CursorMoveCommands.moveToBeginningOfLine(te,te.getCursorStates(),this._inSelectionMode)),te.revealAllCursors(de.source,!0)}}A.CursorHome=(0,y.registerEditorCommand)(new H({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),A.CursorHomeSelect=(0,y.registerEditorCommand)(new H({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class K extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,this._exec(te.getCursorStates())),te.revealAllCursors(de.source,!0)}_exec(te){const de=[];for(let he=0,pe=te.length;he<pe;he++){const ue=te[he],ie=ue.modelState.position.lineNumber;de[he]=b.CursorState.fromModelState(ue.modelState.move(this._inSelectionMode,ie,1,0))}return de}}A.CursorLineStart=(0,y.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),A.CursorLineStartSelect=(0,y.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class V extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,s.CursorMoveCommands.moveToEndOfLine(te,te.getCursorStates(),this._inSelectionMode,de.sticky||!1)),te.revealAllCursors(de.source,!0)}}A.CursorEnd=(0,y.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(1739,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),A.CursorEndSelect=(0,y.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(1740,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class j extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,this._exec(te,te.getCursorStates())),te.revealAllCursors(de.source,!0)}_exec(te,de){const he=[];for(let pe=0,ue=de.length;pe<ue;pe++){const ie=de[pe],se=ie.modelState.position.lineNumber,ne=te.model.getLineMaxColumn(se);he[pe]=b.CursorState.fromModelState(ie.modelState.move(this._inSelectionMode,se,ne,0))}return he}}A.CursorLineEnd=(0,y.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),A.CursorLineEndSelect=(0,y.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class U extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,s.CursorMoveCommands.moveToBeginningOfBuffer(te,te.getCursorStates(),this._inSelectionMode)),te.revealAllCursors(de.source,!0)}}A.CursorTop=(0,y.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),A.CursorTopSelect=(0,y.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class Y extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,s.CursorMoveCommands.moveToEndOfBuffer(te,te.getCursorStates(),this._inSelectionMode)),te.revealAllCursors(de.source,!0)}}A.CursorBottom=(0,y.registerEditorCommand)(new Y({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),A.CursorBottomSelect=(0,y.registerEditorCommand)(new Y({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class Q extends d{constructor(){super({id:"editorScroll",precondition:void 0,metadata:p.metadata})}determineScrollMethod(te){const de=[6],he=[1,2,3,4,5,6],pe=[4,2],ue=[1,3];return de.includes(te.unit)&&pe.includes(te.direction)?this._runHorizontalEditorScroll.bind(this):he.includes(te.unit)&&ue.includes(te.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(te,de){const he=p.parse(de);if(!he)return;const pe=this.determineScrollMethod(he);pe&&pe(te,de.source,he)}_runVerticalEditorScroll(te,de,he){const pe=this._computeDesiredScrollTop(te,he);if(he.revealCursor){const ue=te.getCompletelyVisibleViewRangeAtScrollTop(pe);te.setCursorStates(de,3,[s.CursorMoveCommands.findPositionInViewportIfOutside(te,te.getPrimaryCursorState(),ue,he.select)])}te.viewLayout.setScrollPosition({scrollTop:pe},0)}_computeDesiredScrollTop(te,de){if(de.unit===1){const ue=te.viewLayout.getFutureViewport(),ie=te.getCompletelyVisibleViewRangeAtScrollTop(ue.top),se=te.coordinatesConverter.convertViewRangeToModelRange(ie);let ne;de.direction===1?ne=Math.max(1,se.startLineNumber-de.value):ne=Math.min(te.model.getLineCount(),se.startLineNumber+de.value);const W=te.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(ne,1));return te.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber)}if(de.unit===5){let ue=0;return de.direction===3&&(ue=te.model.getLineCount()-te.cursorConfig.pageSize),te.viewLayout.getVerticalOffsetForLineNumber(ue)}let he;de.unit===3?he=te.cursorConfig.pageSize*de.value:de.unit===4?he=Math.round(te.cursorConfig.pageSize/2)*de.value:he=de.value;const pe=(de.direction===1?-1:1)*he;return te.viewLayout.getCurrentScrollTop()+pe*te.cursorConfig.lineHeight}_runHorizontalEditorScroll(te,de,he){const pe=this._computeDesiredScrollLeft(te,he);te.viewLayout.setScrollPosition({scrollLeft:pe},0)}_computeDesiredScrollLeft(te,de){const he=(de.direction===4?-1:1)*de.value;return te.viewLayout.getCurrentScrollLeft()+he*te.cursorConfig.typicalHalfwidthCharacterWidth}}A.EditorScrollImpl=Q,A.EditorScroll=(0,y.registerEditorCommand)(new Q),A.ScrollLineUp=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Up,by:p.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:te.source})}}),A.ScrollPageUp=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Up,by:p.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:te.source})}}),A.ScrollEditorTop=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Up,by:p.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:te.source})}}),A.ScrollLineDown=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Down,by:p.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:te.source})}}),A.ScrollPageDown=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Down,by:p.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:te.source})}}),A.ScrollEditorBottom=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Down,by:p.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:te.source})}}),A.ScrollLeft=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Left,by:p.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:te.source})}}),A.ScrollRight=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,te){A.EditorScroll.runCoreEditorCommand(J,{to:p.RawDirection.Right,by:p.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:te.source})}});class Z extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){de.position&&(te.model.pushStackElement(),te.setCursorStates(de.source,3,[s.CursorMoveCommands.word(te,te.getPrimaryCursorState(),this._inSelectionMode,de.position)]),de.revealType!==2&&te.revealAllCursors(de.source,!0,!0))}}A.WordSelect=(0,y.registerEditorCommand)(new Z({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),A.WordSelectDrag=(0,y.registerEditorCommand)(new Z({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),A.LastCursorWordSelect=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(J,te){if(!te.position)return;const de=J.getLastAddedCursorIndex(),he=J.getCursorStates(),pe=he.slice(0),ue=he[de];pe[de]=s.CursorMoveCommands.word(J,ue,ue.modelState.hasSelection(),te.position),J.model.pushStackElement(),J.setCursorStates(te.source,3,pe)}});class G extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){de.position&&(te.model.pushStackElement(),te.setCursorStates(de.source,3,[s.CursorMoveCommands.line(te,te.getPrimaryCursorState(),this._inSelectionMode,de.position,de.viewPosition)]),de.revealType!==2&&te.revealAllCursors(de.source,!1,!0))}}A.LineSelect=(0,y.registerEditorCommand)(new G({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),A.LineSelectDrag=(0,y.registerEditorCommand)(new G({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class F extends d{constructor(te){super(te),this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){if(!de.position)return;const he=te.getLastAddedCursorIndex(),pe=te.getCursorStates(),ue=pe.slice(0);ue[he]=s.CursorMoveCommands.line(te,pe[he],this._inSelectionMode,de.position,de.viewPosition),te.model.pushStackElement(),te.setCursorStates(de.source,3,ue)}}A.LastCursorLineSelect=(0,y.registerEditorCommand)(new F({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),A.LastCursorLineSelectDrag=(0,y.registerEditorCommand)(new F({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),A.CancelSelection=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"cancelSelection",precondition:n.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(J,te){J.model.pushStackElement(),J.setCursorStates(te.source,3,[s.CursorMoveCommands.cancelSelection(J,J.getPrimaryCursorState())]),J.revealAllCursors(te.source,!0)}}),A.RemoveSecondaryCursors=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"removeSecondaryCursors",precondition:n.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:l+1,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(J,te){J.model.pushStackElement(),J.setCursorStates(te.source,3,[J.getPrimaryCursorState()]),J.revealAllCursors(te.source,!0),(0,I.status)(f.localize(1741,"Removed secondary cursors"))}}),A.RevealLine=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"revealLine",precondition:void 0,metadata:h.metadata})}runCoreEditorCommand(J,te){const de=te,he=de.lineNumber||0;let pe=typeof he=="number"?he+1:parseInt(he)+1;pe<1&&(pe=1);const ue=J.model.getLineCount();pe>ue&&(pe=ue);const ie=new i.Range(pe,1,pe,J.model.getLineMaxColumn(pe));let se=0;if(de.at)switch(de.at){case h.RawAtArgument.Top:se=3;break;case h.RawAtArgument.Center:se=1;break;case h.RawAtArgument.Bottom:se=4;break;default:break}const ne=J.coordinatesConverter.convertModelRangeToViewRange(ie);J.revealRange(te.source,!1,ne,se,0)}}),A.SelectAll=new class extends g{constructor(){super(y.SelectAllCommand)}runDOMCommand(J){k.isFirefox&&(J.focus(),J.select()),J.ownerDocument.execCommand("selectAll")}runEditorCommand(J,te,de){const he=te._getViewModel();he&&this.runCoreEditorCommand(he,de)}runCoreEditorCommand(J,te){J.model.pushStackElement(),J.setCursorStates("keyboard",3,[s.CursorMoveCommands.selectAll(J,J.getPrimaryCursorState())])}},A.SetSelection=(0,y.registerEditorCommand)(new class extends d{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(J,te){te.selection&&(J.model.pushStackElement(),J.setCursorStates(te.source,3,[b.CursorState.fromModelSelection(te.selection)]))}})})(C||(e.CoreNavigationCommands=C={}));const S=c.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,n.EditorContextKeys.columnSelection);function _(A,R){u.KeybindingsRegistry.registerKeybindingRule({id:A,primary:R,when:S,weight:l+1})}_(C.CursorColumnSelectLeft.id,1039),_(C.CursorColumnSelectRight.id,1041),_(C.CursorColumnSelectUp.id,1040),_(C.CursorColumnSelectPageUp.id,1035),_(C.CursorColumnSelectDown.id,1042),_(C.CursorColumnSelectPageDown.id,1036);function L(A){return A.register(),A}var D;(function(A){class R extends y.EditorCommand{runEditorCommand(P,x,O){const B=x._getViewModel();B&&this.runCoreEditingCommand(x,B,O||{})}}A.CoreEditingCommand=R,A.LineBreakInsert=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:n.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(M,P,x){M.pushUndoStop(),M.executeCommands(this.id,a.EnterOperation.lineBreakInsert(P.cursorConfig,P.model,P.getCursorStates().map(O=>O.modelState.selection)))}}),A.Outdent=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:n.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:c.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(M,P,x){M.pushUndoStop(),M.executeCommands(this.id,o.TypeOperations.outdent(P.cursorConfig,P.model,P.getCursorStates().map(O=>O.modelState.selection))),M.pushUndoStop()}}),A.Tab=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:n.EditorContextKeys.writable,kbOpts:{weight:l,kbExpr:c.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(M,P,x){M.pushUndoStop(),M.executeCommands(this.id,o.TypeOperations.tab(P.cursorConfig,P.model,P.getCursorStates().map(O=>O.modelState.selection))),M.pushUndoStop()}}),A.DeleteLeft=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(M,P,x){const[O,B]=v.DeleteOperations.deleteLeft(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(H=>H.modelState.selection),P.getCursorAutoClosedCharacters());O&&M.pushUndoStop(),M.executeCommands(this.id,B),P.setPrevEditOperationType(2)}}),A.DeleteRight=(0,y.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:l,kbExpr:n.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(M,P,x){const[O,B]=v.DeleteOperations.deleteRight(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(H=>H.modelState.selection));O&&M.pushUndoStop(),M.executeCommands(this.id,B),P.setPrevEditOperationType(3)}}),A.Undo=new class extends g{constructor(){super(y.UndoCommand)}runDOMCommand(M){M.ownerDocument.execCommand("undo")}runEditorCommand(M,P,x){if(!(!P.hasModel()||P.getOption(92)===!0))return P.getModel().undo()}},A.Redo=new class extends g{constructor(){super(y.RedoCommand)}runDOMCommand(M){M.ownerDocument.execCommand("redo")}runEditorCommand(M,P,x){if(!(!P.hasModel()||P.getOption(92)===!0))return P.getModel().redo()}}})(D||(e.CoreEditingCommands=D={}));class T extends y.Command{constructor(R,M,P){super({id:R,precondition:void 0,metadata:P}),this._handlerId=M}runCommand(R,M){const P=R.get(m.ICodeEditorService).getFocusedCodeEditor();P&&P.trigger("keyboard",this._handlerId,M)}}function N(A,R){L(new T("default:"+A,A)),L(new T(A,A,R))}N("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),N("replacePreviousChar"),N("compositionType"),N("compositionStart"),N("compositionEnd"),N("paste"),N("cut")}),define(re[717],ae([1,0,263,15]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let E=class{constructor(y,m){}dispose(){}};e.MarkerDecorationsContribution=E,E.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=E=ke([ge(1,f.IMarkerDecorationsService)],E),(0,k.registerEditorContribution)(E.ID,E,0)}),define(re[718],ae([1,0,212,9,16]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class I{constructor(m,w,b,v){this.configuration=m,this.viewModel=w,this.userInputEvents=b,this.commandDelegate=v}paste(m,w,b,v){this.commandDelegate.paste(m,w,b,v)}type(m){this.commandDelegate.type(m)}compositionType(m,w,b,v){this.commandDelegate.compositionType(m,w,b,v)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(m){f.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:m})}_validateViewColumn(m){const w=this.viewModel.getLineMinColumn(m.lineNumber);return m.column<w?new k.Position(m.lineNumber,w):m}_hasMulticursorModifier(m){switch(this.configuration.options.get(78)){case"altKey":return m.altKey;case"ctrlKey":return m.ctrlKey;case"metaKey":return m.metaKey;default:return!1}}_hasNonMulticursorModifier(m){switch(this.configuration.options.get(78)){case"altKey":return m.ctrlKey||m.metaKey;case"ctrlKey":return m.altKey||m.metaKey;case"metaKey":return m.ctrlKey||m.altKey;default:return!1}}dispatchMouse(m){const w=this.configuration.options,b=E.isLinux&&w.get(108),v=w.get(22);m.middleButton&&!b?this._columnSelect(m.position,m.mouseColumn,m.inSelectionMode):m.startedOnLineNumbers?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelect(m.position,m.revealType):this._createCursor(m.position,!0):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount>=4?this._selectAll():m.mouseDownCount===3?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelectDrag(m.position,m.revealType):this._lastCursorLineSelect(m.position,m.revealType):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount===2?m.onInjectedText||(this._hasMulticursorModifier(m)?this._lastCursorWordSelect(m.position,m.revealType):m.inSelectionMode?this._wordSelectDrag(m.position,m.revealType):this._wordSelect(m.position,m.revealType)):this._hasMulticursorModifier(m)?this._hasNonMulticursorModifier(m)||(m.shiftKey?this._columnSelect(m.position,m.mouseColumn,!0):m.inSelectionMode?this._lastCursorMoveToSelect(m.position,m.revealType):this._createCursor(m.position,!1)):m.inSelectionMode?m.altKey?this._columnSelect(m.position,m.mouseColumn,!0):v?this._columnSelect(m.position,m.mouseColumn,!0):this._moveToSelect(m.position,m.revealType):this.moveTo(m.position,m.revealType)}_usualArgs(m,w){return m=this._validateViewColumn(m),{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,revealType:w}}moveTo(m,w){f.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_moveToSelect(m,w){f.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_columnSelect(m,w,b){m=this._validateViewColumn(m),f.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,mouseColumn:w,doColumnSelect:b})}_createCursor(m,w){m=this._validateViewColumn(m),f.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,wholeLine:w})}_lastCursorMoveToSelect(m,w){f.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_wordSelect(m,w){f.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_wordSelectDrag(m,w){f.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lastCursorWordSelect(m,w){f.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lineSelect(m,w){f.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lineSelectDrag(m,w){f.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lastCursorLineSelect(m,w){f.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_lastCursorLineSelectDrag(m,w){f.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,w))}_selectAll(){f.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(m){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(m)}emitKeyDown(m){this.userInputEvents.emitKeyDown(m)}emitKeyUp(m){this.userInputEvents.emitKeyUp(m)}emitContextMenu(m){this.userInputEvents.emitContextMenu(m)}emitMouseMove(m){this.userInputEvents.emitMouseMove(m)}emitMouseLeave(m){this.userInputEvents.emitMouseLeave(m)}emitMouseUp(m){this.userInputEvents.emitMouseUp(m)}emitMouseDown(m){this.userInputEvents.emitMouseDown(m)}emitMouseDrag(m){this.userInputEvents.emitMouseDrag(m)}emitMouseDrop(m){this.userInputEvents.emitMouseDrop(m)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(m){this.userInputEvents.emitMouseWheel(m)}}e.ViewController=I}),define(re[403],ae([1,0,48,7,6,59,56,104,115,64]),function(le,e,f,k,E,I,y,m,w,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=e.WorkerBasedDiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,k.createDecorator)("diffProviderFactoryService");let s=class{constructor(i){this.instantiationService=i}createDiffProvider(i){return this.instantiationService.createInstance(o,i)}};e.WorkerBasedDiffProviderFactoryService=s,e.WorkerBasedDiffProviderFactoryService=s=ke([ge(0,k.IInstantiationService)],s),(0,f.registerSingleton)(e.IDiffProviderFactoryService,s,1);let o=v=class{constructor(i,n,c){this.editorWorkerService=n,this.telemetryService=c,this.onDidChangeEventEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(i)}dispose(){var i;(i=this.diffAlgorithmOnDidChangeSubscription)===null||i===void 0||i.dispose()}async computeDiff(i,n,c,u){var r,a;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(i,n,c,u);if(i.isDisposed()||n.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return n.getLineCount()===1&&n.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new m.DetailedLineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,n.getLineCount()+1),[new m.RangeMapping(i.getFullModelRange(),n.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const l=JSON.stringify([i.uri.toString(),n.uri.toString()]),d=JSON.stringify([i.id,n.id,i.getAlternativeVersionId(),n.getAlternativeVersionId(),JSON.stringify(c)]),p=v.diffCache.get(l);if(p&&p.context===d)return p.result;const h=I.StopWatch.create(),g=await this.editorWorkerService.computeDiff(i.uri,n.uri,c,this.diffAlgorithm),C=h.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:C,timedOut:(r=g?.quitEarly)!==null&&r!==void 0?r:!0,detectedMoves:c.computeMoves?(a=g?.moves.length)!==null&&a!==void 0?a:0:-1}),u.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!g)throw new Error("no diff result available");return v.diffCache.size>10&&v.diffCache.delete(v.diffCache.keys().next().value),v.diffCache.set(l,{result:g,context:d}),g}setOptions(i){var n;let c=!1;i.diffAlgorithm&&this.diffAlgorithm!==i.diffAlgorithm&&((n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=i.diffAlgorithm,typeof i.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=i.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),c=!0),c&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=o,o.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=o=v=ke([ge(1,w.IEditorWorkerService),ge(2,b.ITelemetryService)],o)}),define(re[404],ae([1,0,14,18,2,21,403,86,159,56,330,104,200,334,328,19,13,89]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let r=class extends E.Disposable{setActiveMovedText(_){this._activeMovedText.set(_,void 0)}constructor(_,L,D){super(),this.model=_,this._options=L,this._diffProviderFactoryService=D,this._isDiffUpToDate=(0,I.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,I.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,I.observableValue)(this,void 0),this.unchangedRegions=(0,I.derived)(this,R=>{var M,P;return this._options.hideUnchangedRegions.read(R)?(P=(M=this._unchangedRegions.read(R))===null||M===void 0?void 0:M.regions)!==null&&P!==void 0?P:[]:((0,I.transaction)(x=>{var O;for(const B of((O=this._unchangedRegions.get())===null||O===void 0?void 0:O.regions)||[])B.collapseAll(x)}),[])}),this.movedTextToCompare=(0,I.observableValue)(this,void 0),this._activeMovedText=(0,I.observableValue)(this,void 0),this._hoveredMovedText=(0,I.observableValue)(this,void 0),this.activeMovedText=(0,I.derived)(this,R=>{var M,P;return(P=(M=this.movedTextToCompare.read(R))!==null&&M!==void 0?M:this._hoveredMovedText.read(R))!==null&&P!==void 0?P:this._activeMovedText.read(R)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._diffProvider=(0,I.derived)(this,R=>{const M=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(R)}),P=(0,I.observableSignalFromEvent)("onDidChange",M.onDidChange);return{diffProvider:M,onChangeSignal:P}}),this._register((0,E.toDisposable)(()=>this._cancellationTokenSource.cancel()));const T=(0,I.observableSignal)("contentChangedSignal"),N=this._register(new f.RunOnceScheduler(()=>T.trigger(void 0),200));this._register((0,I.autorun)(R=>{const M=this._unchangedRegions.read(R);if(!M||M.regions.some(K=>K.isDragged.read(R)))return;const P=M.originalDecorationIds.map(K=>_.original.getDecorationRange(K)).map(K=>K?b.LineRange.fromRangeInclusive(K):void 0),x=M.modifiedDecorationIds.map(K=>_.modified.getDecorationRange(K)).map(K=>K?b.LineRange.fromRangeInclusive(K):void 0),O=M.regions.map((K,V)=>!P[V]||!x[V]?void 0:new h(P[V].startLineNumber,x[V].startLineNumber,P[V].length,K.visibleLineCountTop.read(R),K.visibleLineCountBottom.read(R))).filter(n.isDefined),B=[];let H=!1;for(const K of(0,c.groupAdjacentBy)(O,(V,j)=>V.getHiddenModifiedRange(R).endLineNumberExclusive===j.getHiddenModifiedRange(R).startLineNumber))if(K.length>1){H=!0;const V=K.reduce((U,Y)=>U+Y.lineCount,0),j=new h(K[0].originalLineNumber,K[0].modifiedLineNumber,V,K[0].visibleLineCountTop.get(),K[K.length-1].visibleLineCountBottom.get());B.push(j)}else B.push(K[0]);if(H){const K=_.original.deltaDecorations(M.originalDecorationIds,B.map(j=>({range:j.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=_.modified.deltaDecorations(M.modifiedDecorationIds,B.map(j=>({range:j.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,I.transaction)(j=>{this._unchangedRegions.set({regions:B,originalDecorationIds:K,modifiedDecorationIds:V},j)})}}));const A=(R,M,P)=>{const x=h.fromDiffs(R.changes,_.original.getLineCount(),_.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(P),this._options.hideUnchangedRegionsContextLineCount.read(P));let O;const B=this._unchangedRegions.get();if(B){const j=B.originalDecorationIds.map(Z=>_.original.getDecorationRange(Z)).map(Z=>Z?b.LineRange.fromRangeInclusive(Z):void 0),U=B.modifiedDecorationIds.map(Z=>_.modified.getDecorationRange(Z)).map(Z=>Z?b.LineRange.fromRangeInclusive(Z):void 0);let Q=(0,m.filterWithPrevious)(B.regions.map((Z,G)=>{if(!j[G]||!U[G])return;const F=j[G].length;return new h(j[G].startLineNumber,U[G].startLineNumber,F,Math.min(Z.visibleLineCountTop.get(),F),Math.min(Z.visibleLineCountBottom.get(),F-Z.visibleLineCountTop.get()))}).filter(n.isDefined),(Z,G)=>!G||Z.modifiedLineNumber>=G.modifiedLineNumber+G.lineCount&&Z.originalLineNumber>=G.originalLineNumber+G.lineCount).map(Z=>new s.LineRangeMapping(Z.getHiddenOriginalRange(P),Z.getHiddenModifiedRange(P)));Q=s.LineRangeMapping.clip(Q,b.LineRange.ofLength(1,_.original.getLineCount()),b.LineRange.ofLength(1,_.modified.getLineCount())),O=s.LineRangeMapping.inverse(Q,_.original.getLineCount(),_.modified.getLineCount())}const H=[];if(O)for(const j of x){const U=O.filter(Y=>Y.original.intersectsStrict(j.originalUnchangedRange)&&Y.modified.intersectsStrict(j.modifiedUnchangedRange));H.push(...j.setVisibleRanges(U,M))}else H.push(...x);const K=_.original.deltaDecorations(B?.originalDecorationIds||[],H.map(j=>({range:j.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=_.modified.deltaDecorations(B?.modifiedDecorationIds||[],H.map(j=>({range:j.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:H,originalDecorationIds:K,modifiedDecorationIds:V},M)};this._register(_.modified.onDidChangeContent(R=>{if(this._diff.get()){const P=o.TextEditInfo.fromModelContentChanges(R.changes),x=(this._lastDiff,_.original,_.modified,void 0);x&&(this._lastDiff=x,(0,I.transaction)(O=>{this._diff.set(d.fromDiffResult(this._lastDiff),O),A(x,O);const B=this.movedTextToCompare.get();this.movedTextToCompare.set(B?this._lastDiff.moves.find(H=>H.lineRangeMapping.modified.intersect(B.lineRangeMapping.modified)):void 0,O)}))}this._isDiffUpToDate.set(!1,void 0),N.schedule()})),this._register(_.original.onDidChangeContent(R=>{if(this._diff.get()){const P=o.TextEditInfo.fromModelContentChanges(R.changes),x=(this._lastDiff,_.original,_.modified,void 0);x&&(this._lastDiff=x,(0,I.transaction)(O=>{this._diff.set(d.fromDiffResult(this._lastDiff),O),A(x,O);const B=this.movedTextToCompare.get();this.movedTextToCompare.set(B?this._lastDiff.moves.find(H=>H.lineRangeMapping.modified.intersect(B.lineRangeMapping.modified)):void 0,O)}))}this._isDiffUpToDate.set(!1,void 0),N.schedule()})),this._register((0,I.autorunWithStore)(async(R,M)=>{var P,x;this._options.hideUnchangedRegionsMinimumLineCount.read(R),this._options.hideUnchangedRegionsContextLineCount.read(R),N.cancel(),T.read(R);const O=this._diffProvider.read(R);O.onChangeSignal.read(R),(0,w.readHotReloadableExport)(v.DefaultLinesDiffComputer,R),(0,w.readHotReloadableExport)(i.optimizeSequenceDiffs,R),this._isDiffUpToDate.set(!1,void 0);let B=[];M.add(_.original.onDidChangeContent(V=>{const j=o.TextEditInfo.fromModelContentChanges(V.changes);B=(0,t.combineTextEditInfos)(B,j)}));let H=[];M.add(_.modified.onDidChangeContent(V=>{const j=o.TextEditInfo.fromModelContentChanges(V.changes);H=(0,t.combineTextEditInfos)(H,j)}));let K=await O.diffProvider.computeDiff(_.original,_.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(R),maxComputationTimeMs:this._options.maxComputationTimeMs.read(R),computeMoves:this._options.showMoves.read(R)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||_.original.isDisposed()||_.modified.isDisposed()||(K=a(K,_.original,_.modified),K=(P=(_.original,_.modified,void 0))!==null&&P!==void 0?P:K,K=(x=(_.original,_.modified,void 0))!==null&&x!==void 0?x:K,(0,I.transaction)(V=>{A(K,V),this._lastDiff=K;const j=d.fromDiffResult(K);this._diff.set(j,V),this._isDiffUpToDate.set(!0,V);const U=this.movedTextToCompare.get();this.movedTextToCompare.set(U?this._lastDiff.moves.find(Y=>Y.lineRangeMapping.modified.intersect(U.lineRangeMapping.modified)):void 0,V)}))}))}ensureModifiedLineIsVisible(_,L,D){var T,N;if(((T=this.diff.get())===null||T===void 0?void 0:T.mappings.length)===0)return;const A=((N=this._unchangedRegions.get())===null||N===void 0?void 0:N.regions)||[];for(const R of A)if(R.getHiddenModifiedRange(void 0).contains(_)){R.showModifiedLine(_,L,D);return}}ensureOriginalLineIsVisible(_,L,D){var T,N;if(((T=this.diff.get())===null||T===void 0?void 0:T.mappings.length)===0)return;const A=((N=this._unchangedRegions.get())===null||N===void 0?void 0:N.regions)||[];for(const R of A)if(R.getHiddenOriginalRange(void 0).contains(_)){R.showOriginalLine(_,L,D);return}}async waitForDiff(){await(0,I.waitForState)(this.isDiffUpToDate,_=>_)}serializeState(){const _=this._unchangedRegions.get();return{collapsedRegions:_?.regions.map(L=>({range:L.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(_){var L;const D=(L=_.collapsedRegions)===null||L===void 0?void 0:L.map(N=>b.LineRange.deserialize(N.range)),T=this._unchangedRegions.get();!T||!D||(0,I.transaction)(N=>{for(const A of T.regions)for(const R of D)if(A.modifiedUnchangedRange.intersect(R)){A.setHiddenModifiedRange(R,N);break}})}};e.DiffEditorViewModel=r,e.DiffEditorViewModel=r=ke([ge(2,y.IDiffProviderFactoryService)],r);function a(S,_,L){return{changes:S.changes.map(D=>new s.DetailedLineRangeMapping(D.original,D.modified,D.innerChanges?D.innerChanges.map(T=>l(T,_,L)):void 0)),moves:S.moves,identical:S.identical,quitEarly:S.quitEarly}}function l(S,_,L){let D=S.originalRange,T=S.modifiedRange;return(D.endColumn!==1||T.endColumn!==1)&&D.endColumn===_.getLineMaxColumn(D.endLineNumber)&&T.endColumn===L.getLineMaxColumn(T.endLineNumber)&&D.endLineNumber<_.getLineCount()&&T.endLineNumber<L.getLineCount()&&(D=D.setEndPosition(D.endLineNumber+1,1),T=T.setEndPosition(T.endLineNumber+1,1)),new s.RangeMapping(D,T)}class d{static fromDiffResult(_){return new d(_.changes.map(L=>new p(L)),_.moves||[],_.identical,_.quitEarly)}constructor(_,L,D,T){this.mappings=_,this.movedTexts=L,this.identical=D,this.quitEarly=T}}e.DiffState=d;class p{constructor(_){this.lineRangeMapping=_}}e.DiffMapping=p;class h{static fromDiffs(_,L,D,T,N){const A=s.DetailedLineRangeMapping.inverse(_,L,D),R=[];for(const M of A){let P=M.original.startLineNumber,x=M.modified.startLineNumber,O=M.original.length;const B=P===1&&x===1,H=P+O===L+1&&x+O===D+1;(B||H)&&O>=N+T?(B&&!H&&(O-=N),H&&!B&&(P+=N,x+=N,O-=N),R.push(new h(P,x,O,0,0))):O>=N*2+T&&(P+=N,x+=N,O-=N*2,R.push(new h(P,x,O,0,0)))}return R}get originalUnchangedRange(){return b.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return b.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(_,L,D,T,N){this.originalLineNumber=_,this.modifiedLineNumber=L,this.lineCount=D,this._visibleLineCountTop=(0,I.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,I.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,I.derived)(this,M=>this.visibleLineCountTop.read(M)+this.visibleLineCountBottom.read(M)===this.lineCount&&!this.isDragged.read(M)),this.isDragged=(0,I.observableValue)(this,void 0);const A=Math.max(Math.min(T,this.lineCount),0),R=Math.max(Math.min(N,this.lineCount-T),0);(0,u.softAssert)(T===A),(0,u.softAssert)(N===R),this._visibleLineCountTop.set(A,void 0),this._visibleLineCountBottom.set(R,void 0)}setVisibleRanges(_,L){const D=[],T=new b.LineRangeSet(_.map(M=>M.modified)).subtractFrom(this.modifiedUnchangedRange);let N=this.originalLineNumber,A=this.modifiedLineNumber;const R=this.modifiedLineNumber+this.lineCount;if(T.ranges.length===0)this.showAll(L),D.push(this);else{let M=0;for(const P of T.ranges){const x=M===T.ranges.length-1;M++;const O=(x?R:P.endLineNumberExclusive)-A,B=new h(N,A,O,0,0);B.setHiddenModifiedRange(P,L),D.push(B),N=B.originalUnchangedRange.endLineNumberExclusive,A=B.modifiedUnchangedRange.endLineNumberExclusive}}return D}shouldHideControls(_){return this._shouldHideControls.read(_)}getHiddenOriginalRange(_){return b.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}getHiddenModifiedRange(_){return b.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}setHiddenModifiedRange(_,L){const D=_.startLineNumber-this.modifiedLineNumber,T=this.modifiedLineNumber+this.lineCount-_.endLineNumberExclusive;this.setState(D,T,L)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(_=10,L){const D=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+_,D),L)}showMoreBelow(_=10,L){const D=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+_,D),L)}showAll(_){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),_)}showModifiedLine(_,L,D){const T=_+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),N=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-_;L===0&&T<N||L===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+T,D):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+N,D)}showOriginalLine(_,L,D){const T=_-this.originalLineNumber,N=this.originalLineNumber+this.lineCount-_;L===0&&T<N||L===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+N-T,this.getMaxVisibleLineCountTop()),D):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+T-N,this.getMaxVisibleLineCountBottom()),D)}collapseAll(_){this._visibleLineCountTop.set(0,_),this._visibleLineCountBottom.set(0,_)}setState(_,L,D){_=Math.max(Math.min(_,this.lineCount),0),L=Math.max(Math.min(L,this.lineCount-_),0),this._visibleLineCountTop.set(_,D),this._visibleLineCountBottom.set(L,D)}}e.UnchangedRegion=h;function g(S,_,L,D){}function C(S,_,L,D){}}),define(re[719],ae([1,0,47,55,70,15,23,20,3,12,514]),function(le,e,f,k,E,I,y,m,w,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new b.RawContextKey("selectionAnchorSet",!1);let s=v=class{static get(u){return u.getContribution(v.ID)}constructor(u,r){this.editor=u,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(r),this.modelChangeListener=u.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const u=this.editor.getPosition();this.editor.changeDecorations(r=>{this.decorationId&&r.removeDecoration(this.decorationId),this.decorationId=r.addDecoration(y.Selection.fromPositions(u,u),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,w.localize)(755,"Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,f.alert)((0,w.localize)(756,"Anchor set at {0}:{1}",u.lineNumber,u.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const u=this.editor.getModel().getDecorationRange(this.decorationId);u&&this.editor.setPosition(u.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const u=this.editor.getModel().getDecorationRange(this.decorationId);if(u){const r=this.editor.getPosition();this.editor.setSelection(y.Selection.fromPositions(u.getStartPosition(),r)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const u=this.decorationId;this.editor.changeDecorations(r=>{r.removeDecoration(u),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};s.ID="editor.contrib.selectionAnchorController",s=v=ke([ge(1,b.IContextKeyService)],s);class o extends I.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,w.localize)(757,"Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2080),weight:100}})}async run(u,r){var a;(a=s.get(r))===null||a===void 0||a.setSelectionAnchor()}}class t extends I.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,w.localize)(758,"Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}async run(u,r){var a;(a=s.get(r))===null||a===void 0||a.goToSelectionAnchor()}}class i extends I.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,w.localize)(759,"Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2089),weight:100}})}async run(u,r){var a;(a=s.get(r))===null||a===void 0||a.selectFromAnchorToCursor()}}class n extends I.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,w.localize)(760,"Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}async run(u,r){var a;(a=s.get(r))===null||a===void 0||a.cancelSelectionAnchor()}}(0,I.registerEditorContribution)(s.ID,s,4),(0,I.registerEditorAction)(o),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(n)}),define(re[720],ae([1,0,15,20,628,3]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends f.EditorAction{constructor(v,s){super(s),this.left=v}run(v,s){if(!s.hasModel())return;const o=[],t=s.getSelections();for(const i of t)o.push(new E.MoveCaretCommand(i,this.left));s.pushUndoStop(),s.executeCommands(this.id,o),s.pushUndoStop()}}class m extends y{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:I.localize(733,"Move Selected Text Left"),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class w extends y{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:I.localize(734,"Move Selected Text Right"),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,f.registerEditorAction)(m),(0,f.registerEditorAction)(w)}),define(re[721],ae([1,0,15,143,244,5,20,3]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends f.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:m.localize(732,"Transpose Letters"),alias:"Transpose Letters",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(v,s){if(!s.hasModel())return;const o=s.getModel(),t=[],i=s.getSelections();for(const n of i){if(!n.isEmpty())continue;const c=n.startLineNumber,u=n.startColumn,r=o.getLineMaxColumn(c);if(c===1&&(u===1||u===2&&r===2))continue;const a=u===r?n.getPosition():E.MoveOperations.rightPosition(o,n.getPosition().lineNumber,n.getPosition().column),l=E.MoveOperations.leftPosition(o,a),d=E.MoveOperations.leftPosition(o,l),p=o.getValueInRange(I.Range.fromPositions(d,l)),h=o.getValueInRange(I.Range.fromPositions(l,a)),g=I.Range.fromPositions(d,a);t.push(new k.ReplaceCommand(g,h+p))}t.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,t),s.pushUndoStop())}}(0,f.registerEditorAction)(w)}),define(re[722],ae([1,0,70,15,5,20,34,348,630,3,29]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends k.EditorAction{constructor(u,r){super(r),this._type=u}run(u,r){const a=u.get(y.ILanguageConfigurationService);if(!r.hasModel())return;const l=r.getModel(),d=[],p=l.getOptions(),h=r.getOption(23),g=r.getSelections().map((S,_)=>({selection:S,index:_,ignoreFirstLine:!1}));g.sort((S,_)=>E.Range.compareRangesUsingStarts(S.selection,_.selection));let C=g[0];for(let S=1;S<g.length;S++){const _=g[S];C.selection.endLineNumber===_.selection.startLineNumber&&(C.index<_.index?_.ignoreFirstLine=!0:(C.ignoreFirstLine=!0,C=_))}for(const S of g)d.push(new w.LineCommentCommand(a,S.selection,p.indentSize,this._type,h.insertSpace,h.ignoreEmptyLines,S.ignoreFirstLine));r.pushUndoStop(),r.executeCommands(this.id,d),r.pushUndoStop()}}class o extends s{constructor(){super(0,{id:"editor.action.commentLine",label:b.localize(724,"Toggle Line Comment"),alias:"Toggle Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:v.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(725,"&&Toggle Line Comment"),order:1}})}}class t extends s{constructor(){super(1,{id:"editor.action.addCommentLine",label:b.localize(726,"Add Line Comment"),alias:"Add Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2081),weight:100}})}}class i extends s{constructor(){super(2,{id:"editor.action.removeCommentLine",label:b.localize(727,"Remove Line Comment"),alias:"Remove Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2099),weight:100}})}}class n extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:b.localize(728,"Toggle Block Comment"),alias:"Toggle Block Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:v.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(729,"Toggle &&Block Comment"),order:2}})}run(u,r){const a=u.get(y.ILanguageConfigurationService);if(!r.hasModel())return;const l=r.getOption(23),d=[],p=r.getSelections();for(const h of p)d.push(new m.BlockCommentCommand(h,l.insertSpace,a));r.pushUndoStop(),r.executeCommands(this.id,d),r.pushUndoStop()}}(0,k.registerEditorAction)(o),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(n)}),define(re[723],ae([1,0,2,15,20,3]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class y{constructor(o){this.selections=o}equals(o){const t=this.selections.length,i=o.selections.length;if(t!==i)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(o.selections[n]))return!1;return!0}}class m{constructor(o,t,i){this.cursorState=o,this.scrollTop=t,this.scrollLeft=i}}class w extends f.Disposable{static get(o){return o.getContribution(w.ID)}constructor(o){super(),this._editor=o,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(o.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(o.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new y(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new m(i,o.getScrollTop(),o.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new m(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new m(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(o){this._isCursorUndoRedo=!0,this._editor.setSelections(o.cursorState.selections),this._editor.setScrollPosition({scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=w,w.ID="editor.contrib.cursorUndoRedoController";class b extends k.EditorAction{constructor(){super({id:"cursorUndo",label:I.localize(722,"Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(o,t,i){var n;(n=w.get(t))===null||n===void 0||n.cursorUndo()}}e.CursorUndo=b;class v extends k.EditorAction{constructor(){super({id:"cursorRedo",label:I.localize(723,"Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(o,t,i){var n;(n=w.get(t))===null||n===void 0||n.cursorRedo()}}e.CursorRedo=v,(0,k.registerEditorContribution)(w.ID,w,0),(0,k.registerEditorAction)(b),(0,k.registerEditorAction)(v)}),define(re[724],ae([1,0,15,12,18,71,7,48,3]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const b=(0,y.createDecorator)("IEditorCancelService"),v=new k.RawContextKey("cancellableOperation",!1,(0,w.localize)(721,"Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,m.registerSingleton)(b,class{constructor(){this._tokens=new WeakMap}add(o,t){let i=this._tokens.get(o);i||(i=o.invokeWithinContext(c=>{const u=v.bindTo(c.get(k.IContextKeyService)),r=new I.LinkedList;return{key:u,tokens:r}}),this._tokens.set(o,i));let n;return i.key.set(!0),n=i.tokens.push(t),()=>{n&&(n(),i.key.set(!i.tokens.isEmpty()),n=void 0)}}cancel(o){const t=this._tokens.get(o);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},1);class s extends E.CancellationTokenSource{constructor(t,i){super(i),this.editor=t,this._unregister=t.invokeWithinContext(n=>n.get(b).add(t,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=s,(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:v})}runEditorCommand(o,t){o.get(b).cancel(t)}})}),define(re[121],ae([1,0,11,5,18,2,724]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class m{constructor(s,o){if(this.flags=o,this.flags&1){const t=s.getModel();this.modelVersionId=t?f.format("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=s.getPosition():this.position=null,this.flags&2?this.selection=s.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=s.getScrollLeft(),this.scrollTop=s.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(s){if(!(s instanceof m))return!1;const o=s;return!(this.modelVersionId!==o.modelVersionId||this.scrollLeft!==o.scrollLeft||this.scrollTop!==o.scrollTop||!this.position&&o.position||this.position&&!o.position||this.position&&o.position&&!this.position.equals(o.position)||!this.selection&&o.selection||this.selection&&!o.selection||this.selection&&o.selection&&!this.selection.equalsRange(o.selection))}validate(s){return this._equals(new m(s,this.flags))}}e.EditorState=m;class w extends y.EditorKeybindingCancellationTokenSource{constructor(s,o,t,i){super(s,i),this._listener=new I.DisposableStore,o&4&&this._listener.add(s.onDidChangeCursorPosition(n=>{(!t||!k.Range.containsPosition(t,n.position))&&this.cancel()})),o&2&&this._listener.add(s.onDidChangeCursorSelection(n=>{(!t||!k.Range.containsRange(t,n.selection))&&this.cancel()})),o&8&&this._listener.add(s.onDidScrollChange(n=>this.cancel())),o&1&&(this._listener.add(s.onDidChangeModel(n=>this.cancel())),this._listener.add(s.onDidChangeModelContent(n=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=w;class b extends E.CancellationTokenSource{constructor(s,o){super(o),this._listener=s.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=b}),define(re[153],ae([1,0,13,18,8,2,22,149,5,23,17,51,121,3,24,49,96,64,131,90]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyCodeActionReason=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.getCodeActions=p,e.applyCodeAction=_,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class l extends I.Disposable{static codeActionsPreferredComparator(T,N){return T.isPreferred&&!N.isPreferred?-1:!T.isPreferred&&N.isPreferred?1:0}static codeActionsComparator({action:T},{action:N}){return T.isAI&&!N.isAI?1:!T.isAI&&N.isAI?-1:(0,f.isNonEmptyArray)(T.diagnostics)?(0,f.isNonEmptyArray)(N.diagnostics)?l.codeActionsPreferredComparator(T,N):-1:(0,f.isNonEmptyArray)(N.diagnostics)?1:l.codeActionsPreferredComparator(T,N)}constructor(T,N,A){super(),this.documentation=N,this._register(A),this.allActions=[...T].sort(l.codeActionsComparator),this.validActions=this.allActions.filter(({action:R})=>!R.disabled)}get hasAutoFix(){return this.validActions.some(({action:T})=>!!T.kind&&r.CodeActionKind.QuickFix.contains(new a.HierarchicalKind(T.kind))&&!!T.isPreferred)}get hasAIFix(){return this.validActions.some(({action:T})=>!!T.isAI)}get allAIFixes(){return this.validActions.every(({action:T})=>!!T.isAI)}}const d={actions:[],documentation:void 0};async function p(D,T,N,A,R,M){var P;const x=A.filter||{},O={...x,excludes:[...x.excludes||[],r.CodeActionKind.Notebook]},B={only:(P=x.include)===null||P===void 0?void 0:P.value,trigger:A.type},H=new o.TextModelCancellationTokenSource(T,M),K=A.type===2,V=h(D,T,K?O:x),j=new I.DisposableStore,U=V.map(async Q=>{try{R.report(Q);const Z=await Q.provideCodeActions(T,N,B,H.token);if(Z&&j.add(Z),H.token.isCancellationRequested)return d;const G=(Z?.actions||[]).filter(J=>J&&(0,r.filtersAction)(x,J)),F=C(Q,G,x.include);return{actions:G.map(J=>new r.CodeActionItem(J,Q)),documentation:F}}catch(Z){if((0,E.isCancellationError)(Z))throw Z;return(0,E.onUnexpectedExternalError)(Z),d}}),Y=D.onDidChange(()=>{const Q=D.all(T);(0,f.equals)(Q,V)||H.cancel()});try{const Q=await Promise.all(U),Z=Q.map(F=>F.actions).flat(),G=[...(0,f.coalesce)(Q.map(F=>F.documentation)),...g(D,T,A,Z)];return new l(Z,G,j)}finally{Y.dispose(),H.dispose()}}function h(D,T,N){return D.all(T).filter(A=>A.providedCodeActionKinds?A.providedCodeActionKinds.some(R=>(0,r.mayIncludeActionsOfKind)(N,new a.HierarchicalKind(R))):!0)}function*g(D,T,N,A){var R,M,P;if(T&&A.length)for(const x of D.all(T))x._getAdditionalMenuItems&&(yield*(R=x._getAdditionalMenuItems)===null||R===void 0?void 0:R.call(x,{trigger:N.type,only:(P=(M=N.filter)===null||M===void 0?void 0:M.include)===null||P===void 0?void 0:P.value},A.map(O=>O.action)))}function C(D,T,N){if(!D.documentation)return;const A=D.documentation.map(R=>({kind:new a.HierarchicalKind(R.kind),command:R.command}));if(N){let R;for(const M of A)M.kind.contains(N)&&(R?R.kind.contains(M.kind)&&(R=M):R=M);if(R)return R?.command}for(const R of T)if(R.kind){for(const M of A)if(M.kind.contains(new a.HierarchicalKind(R.kind)))return M.command}}var S;(function(D){D.OnSave="onSave",D.FromProblemsView="fromProblemsView",D.FromCodeActions="fromCodeActions",D.FromAILightbulb="fromAILightbulb"})(S||(e.ApplyCodeActionReason=S={}));async function _(D,T,N,A,R=k.CancellationToken.None){var M;const P=D.get(m.IBulkEditService),x=D.get(i.ICommandService),O=D.get(u.ITelemetryService),B=D.get(n.INotificationService);if(O.publicLog2("codeAction.applyCodeAction",{codeActionTitle:T.action.title,codeActionKind:T.action.kind,codeActionIsPreferred:!!T.action.isPreferred,reason:N}),await T.resolve(R),!R.isCancellationRequested&&!(!((M=T.action.edit)===null||M===void 0)&&M.edits.length&&!(await P.apply(T.action.edit,{editor:A?.editor,label:T.action.title,quotableLabel:T.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:N!==S.OnSave,showPreview:A?.preview})).isApplied)&&T.action.command)try{await x.executeCommand(T.action.command.id,...T.action.command.arguments||[])}catch(H){const K=L(H);B.error(typeof K=="string"?K:t.localize(106,"An unknown error occurred while applying the code action"))}}function L(D){return typeof D=="string"?D:D instanceof Error&&typeof D.message=="string"?D.message:void 0}i.CommandsRegistry.registerCommand("_executeCodeActionProvider",async function(D,T,N,A,R){if(!(T instanceof y.URI))throw(0,E.illegalArgument)();const{codeActionProvider:M}=D.get(v.ILanguageFeaturesService),P=D.get(s.IModelService).getModel(T);if(!P)throw(0,E.illegalArgument)();const x=b.Selection.isISelection(N)?b.Selection.liftSelection(N):w.Range.isIRange(N)?P.validateRange(N):void 0;if(!x)throw(0,E.illegalArgument)();const O=typeof A=="string"?new a.HierarchicalKind(A):void 0,B=await p(M,P,x,{type:1,triggerAction:r.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:O}},c.Progress.None,k.CancellationToken.None),H=[],K=Math.min(B.validActions.length,typeof R=="number"?R:0);for(let V=0;V<K;V++)H.push(B.validActions[V].resolve(k.CancellationToken.None));try{return await Promise.all(H),B.validActions.map(V=>V.action)}finally{setTimeout(()=>B.dispose(),100)}})}),define(re[725],ae([1,0,90,98,153,131,31]),function(le,e,f,k,E,I,y){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let w=m=class{constructor(v){this.keybindingService=v}getResolver(){const v=new k.Lazy(()=>this.keybindingService.getKeybindings().filter(s=>m.codeActionCommands.indexOf(s.command)>=0).filter(s=>s.resolvedKeybinding).map(s=>{let o=s.commandArgs;return s.command===E.organizeImportsCommandId?o={kind:I.CodeActionKind.SourceOrganizeImports.value}:s.command===E.fixAllCommandId&&(o={kind:I.CodeActionKind.SourceFixAll.value}),{resolvedKeybinding:s.resolvedKeybinding,...I.CodeActionCommandArgs.fromUser(o,{kind:f.HierarchicalKind.None,apply:"never"})}}));return s=>{if(s.kind){const o=this.bestKeybindingForCodeAction(s,v.value);return o?.resolvedKeybinding}}}bestKeybindingForCodeAction(v,s){if(!v.kind)return;const o=new f.HierarchicalKind(v.kind);return s.filter(t=>t.kind.contains(o)).filter(t=>t.preferred?v.isPreferred:!0).reduceRight((t,i)=>t?t.kind.contains(i.kind)?i:t:i,void 0)}};e.CodeActionKeybindingResolver=w,w.codeActionCommands=[E.refactorCommandId,E.codeActionCommandId,E.sourceActionCommandId,E.organizeImportsCommandId,E.fixAllCommandId],e.CodeActionKeybindingResolver=w=m=ke([ge(0,y.IKeybindingService)],w)}),define(re[405],ae([1,0,14,8,6,2,50,37,9,23,12,96,131,153,90]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.APPLY_FIX_ALL_COMMAND_ID=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new v.RawContextKey("supportedCodeAction",""),e.APPLY_FIX_ALL_COMMAND_ID="_typescript.applyFixAllCodeAction";class n extends I.Disposable{constructor(l,d,p,h=250){super(),this._editor=l,this._markerService=d,this._signalChange=p,this._delay=h,this._autoTriggerTimer=this._register(new f.TimeoutTimer),this._register(this._markerService.onMarkerChanged(g=>this._onMarkerChanges(g))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(l){const d=this._getRangeOfSelectionUnlessWhitespaceEnclosed(l);this._signalChange(d?{trigger:l,selection:d}:void 0)}_onMarkerChanges(l){const d=this._editor.getModel();d&&l.some(p=>(0,y.isEqual)(p,d.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:o.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(l){if(!this._editor.hasModel())return;const d=this._editor.getSelection();if(l.type===1)return d;const p=this._editor.getOption(65).enabled;if(p!==m.ShowLightbulbIconMode.Off){{if(p===m.ShowLightbulbIconMode.On)return d;if(p===m.ShowLightbulbIconMode.OnCode){if(!d.isEmpty())return d;const g=this._editor.getModel(),{lineNumber:C,column:S}=d.getPosition(),_=g.getLineContent(C);if(_.length===0)return;if(S===1){if(/\s/.test(_[0]))return}else if(S===g.getLineMaxColumn(C)){if(/\s/.test(_[_.length-1]))return}else if(/\s/.test(_[S-2])&&/\s/.test(_[S-1]))return}}return d}}}var c;(function(a){a.Empty={type:0};class l{constructor(p,h,g){this.trigger=p,this.position=h,this._cancellablePromise=g,this.type=1,this.actions=g.catch(C=>{if((0,k.isCancellationError)(C))return u;throw C})}cancel(){this._cancellablePromise.cancel()}}a.Triggered=l})(c||(e.CodeActionsState=c={}));const u=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class r extends I.Disposable{constructor(l,d,p,h,g,C){super(),this._editor=l,this._registry=d,this._markerService=p,this._progressService=g,this._configurationService=C,this._codeActionOracle=this._register(new I.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new E.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(h),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(S=>{S.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(c.Empty,!0))}_settingEnabledNearbyQuickfixes(){var l;const d=(l=this._editor)===null||l===void 0?void 0:l.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:d?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const l=this._editor.getModel();if(l&&this._registry.has(l)&&!this._editor.getOption(92)){const d=this._registry.all(l).flatMap(p=>{var h;return(h=p.providedCodeActionKinds)!==null&&h!==void 0?h:[]});this._supportedCodeActions.set(d.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,p=>{var h;if(!p){this.setState(c.Empty);return}const g=p.selection.getStartPosition(),C=(0,f.createCancelablePromise)(async L=>{var D,T,N,A,R,M,P,x,O,B;if(this._settingEnabledNearbyQuickfixes()&&p.trigger.type===1&&(p.trigger.triggerAction===o.CodeActionTriggerSource.QuickFix||!((T=(D=p.trigger.filter)===null||D===void 0?void 0:D.include)===null||T===void 0)&&T.contains(o.CodeActionKind.QuickFix))){const H=await(0,t.getCodeActions)(this._registry,l,p.selection,p.trigger,s.Progress.None,L),K=[...H.allActions];if(L.isCancellationRequested)return u;const V=(N=H.validActions)===null||N===void 0?void 0:N.some(U=>U.action.kind?o.CodeActionKind.QuickFix.contains(new i.HierarchicalKind(U.action.kind)):!1),j=this._markerService.read({resource:l.uri});if(V){for(const U of H.validActions)!((R=(A=U.action.command)===null||A===void 0?void 0:A.arguments)===null||R===void 0)&&R.some(Y=>typeof Y=="string"&&Y.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(U.action.diagnostics=[...j.filter(Y=>Y.relatedInformation)]);return{validActions:H.validActions,allActions:K,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}else if(!V&&j.length>0){const U=p.selection.getPosition();let Y=U,Q=Number.MAX_VALUE;const Z=[...H.validActions];for(const F of j){const J=F.endColumn,te=F.endLineNumber,de=F.startLineNumber;if(te===U.lineNumber||de===U.lineNumber){Y=new w.Position(te,J);const he={type:p.trigger.type,triggerAction:p.trigger.triggerAction,filter:{include:!((M=p.trigger.filter)===null||M===void 0)&&M.include?(P=p.trigger.filter)===null||P===void 0?void 0:P.include:o.CodeActionKind.QuickFix},autoApply:p.trigger.autoApply,context:{notAvailableMessage:((x=p.trigger.context)===null||x===void 0?void 0:x.notAvailableMessage)||"",position:Y}},pe=new b.Selection(Y.lineNumber,Y.column,Y.lineNumber,Y.column),ue=await(0,t.getCodeActions)(this._registry,l,pe,he,s.Progress.None,L);if(ue.validActions.length!==0){for(const ie of ue.validActions)!((B=(O=ie.action.command)===null||O===void 0?void 0:O.arguments)===null||B===void 0)&&B.some(se=>typeof se=="string"&&se.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(ie.action.diagnostics=[...j.filter(se=>se.relatedInformation)]);H.allActions.length===0&&K.push(...ue.allActions),Math.abs(U.column-J)<Q?Z.unshift(...ue.validActions):Z.push(...ue.validActions)}Q=Math.abs(U.column-J)}}const G=Z.filter((F,J,te)=>te.findIndex(de=>de.action.title===F.action.title)===J);return G.sort((F,J)=>F.action.isPreferred&&!J.action.isPreferred?-1:!F.action.isPreferred&&J.action.isPreferred||F.action.isAI&&!J.action.isAI?1:!F.action.isAI&&J.action.isAI?-1:0),{validActions:G,allActions:K,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}}return(0,t.getCodeActions)(this._registry,l,p.selection,p.trigger,s.Progress.None,L)});p.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(C,250));const S=new c.Triggered(p.trigger,g,C);let _=!1;this._state.type===1&&(_=this._state.trigger.type===1&&S.type===1&&S.trigger.type===2&&this._state.position!==S.position),_?setTimeout(()=>{this.setState(S)},500):this.setState(S)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:o.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(l){var d;(d=this._codeActionOracle.value)===null||d===void 0||d.trigger(l)}setState(l,d){l!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=l,!d&&!this._disposed&&this._onDidChangeState.fire(l))}}e.CodeActionModel=r}),define(re[406],ae([1,0,4,68,26,6,2,30,248,153,3,31,516]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(n){n.Hidden={type:0};class c{constructor(r,a,l,d){this.actions=r,this.trigger=a,this.editorPosition=l,this.widgetPosition=d,this.type=1}}n.Showing=c})(t||(t={}));let i=o=class extends y.Disposable{constructor(c,u){super(),this._editor=c,this._keybindingService=u,this._onClick=this._register(new I.Emitter),this.onClick=this._onClick.event,this._state=t.Hidden,this._iconClasses=[],this._domNode=f.$("div.lightBulbWidget"),this._domNode.role="listbox",this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{const a=this._editor.getModel();(this.state.type!==1||!a||this.state.editorPosition.lineNumber>=a.getLineCount())&&this.hide()})),this._register(f.addStandardDisposableGenericMouseDownListener(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();const{top:a,height:l}=f.getDomNodePagePosition(this._domNode),d=this._editor.getOption(67);let p=Math.floor(d/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(p+=d),this._onClick.fire({x:r.posx,y:a+l+p,actions:this.state.actions,trigger:this.state.trigger})})),this._register(f.addDisposableListener(this._domNode,"mouseenter",r=>{(r.buttons&1)===1&&this.hide()})),this._register(I.Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var r,a,l,d;this._preferredKbLabel=(a=(r=this._keybindingService.lookupKeybinding(b.autoFixCommandId))===null||r===void 0?void 0:r.getLabel())!==null&&a!==void 0?a:void 0,this._quickFixKbLabel=(d=(l=this._keybindingService.lookupKeybinding(b.quickFixCommandId))===null||l===void 0?void 0:l.getLabel())!==null&&d!==void 0?d:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(c,u,r){if(c.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:d,column:p}=l.validatePosition(r),h=l.getOptions().tabSize,g=this._editor.getOptions().get(50),C=l.getLineContent(d),S=(0,w.computeIndentLevel)(C,h),_=g.spaceWidth*S>22,L=R=>R>2&&this._editor.getTopForLineNumber(R)===this._editor.getTopForLineNumber(R-1);let D=d,T=1;if(!_){const R=M=>{const P=l.getLineContent(M);return/^\s*$|^\s+/.test(P)||P.length<=T};if(d>1&&!L(d-1)){const M=l.getLineCount(),P=d===M,x=d>1&&R(d-1),O=!P&&R(d+1),B=R(d),H=!O&&!x;x||P||H&&!B?D-=1:(O||H&&B)&&(D+=1)}else if(d<l.getLineCount()&&!L(d+1))D+=1;else if(p*g.spaceWidth<22)return this.hide();T=/^\S\s*$/.test(l.getLineContent(D))?2:1}this.state=new t.Showing(c,u,r,{position:{lineNumber:D,column:T},preference:o._posPref});const N=c.validActions,A=c.validActions[0].action.kind;if(N.length!==1||!A){this._editor.layoutContentWidget(this);return}this._editor.layoutContentWidget(this)}hide(){this.state!==t.Hidden&&(this.state=t.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(c){this._state=c,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let c,u=!1;this.state.actions.allAIFixes?(c=E.Codicon.sparkleFilled,this.state.actions.validActions.length===1&&(u=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?c=E.Codicon.lightbulbSparkleAutofix:c=E.Codicon.lightbulbAutofix:this.state.actions.hasAIFix?c=E.Codicon.lightbulbSparkle:c=E.Codicon.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,u),this._iconClasses=m.ThemeIcon.asClassNameArray(c),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(c,u){this.state.type===1&&(u?this.title=v.localize(61,"Run: {0}",this.state.actions.validActions[0].action.title):c&&this._preferredKbLabel?this.title=v.localize(62,"Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!c&&this._quickFixKbLabel?this.title=v.localize(63,"Show Code Actions ({0})",this._quickFixKbLabel):c||(this.title=v.localize(64,"Show Code Actions")))}set title(c){this._domNode.title=c}};e.LightBulbWidget=i,i.ID="editor.contrib.lightbulbWidget",i._posPref=[0],e.LightBulbWidget=i=o=ke([ge(1,s.IKeybindingService)],i)}),define(re[726],ae([1,0,15,165,3]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:E.localize(651,"Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(b,v){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class y extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:E.localize(652,"Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(b,v){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class m extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:E.localize(653,"Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(b,v){k.EditorZoom.setZoomLevel(0)}}(0,f.registerEditorAction)(I),(0,f.registerEditorAction)(y),(0,f.registerEditorAction)(m)}),define(re[407],ae([1,0,13,18,8,53,71,19,22,121,170,9,5,23,115,77,352,24,668,7,17,61,134]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingConflicts=void 0,e.getRealAndSyntheticDocumentFormattersOrdered=h,e.formatDocumentRangesWithSelectedProvider=C,e.formatDocumentRangesWithProvider=S,e.formatDocumentWithSelectedProvider=_,e.formatDocumentWithProvider=L,e.getDocumentRangeFormattingEditsUntilResult=D,e.getDocumentFormattingEditsUntilResult=T,e.getOnTypeFormattingEdits=N;function h(A,R,M){const P=[],x=new r.ExtensionIdentifierSet,O=A.ordered(M);for(const H of O)P.push(H),H.extensionId&&x.add(H.extensionId);const B=R.ordered(M);for(const H of B){if(H.extensionId){if(x.has(H.extensionId))continue;x.add(H.extensionId)}P.push({displayName:H.displayName,extensionId:H.extensionId,provideDocumentFormattingEdits(K,V,j){return H.provideDocumentRangeFormattingEdits(K,K.getFullModelRange(),V,j)}})}return P}class g{static setFormatterSelector(R){return{dispose:g._selectors.unshift(R)}}static async select(R,M,P,x){if(R.length===0)return;const O=I.Iterable.first(g._selectors);if(O)return await O(R,M,P,x)}}e.FormattingConflicts=g,g._selectors=new y.LinkedList;async function C(A,R,M,P,x,O,B){const H=A.get(a.IInstantiationService),{documentRangeFormattingEditProvider:K}=A.get(l.ILanguageFeaturesService),V=(0,v.isCodeEditor)(R)?R.getModel():R,j=K.ordered(V),U=await g.select(j,V,P,2);U&&(x.report(U),await H.invokeFunction(S,U,R,M,O,B))}async function S(A,R,M,P,x,O){var B,H;const K=A.get(i.IEditorWorkerService),V=A.get(d.ILogService),j=A.get(p.IAccessibilitySignalService);let U,Y;(0,v.isCodeEditor)(M)?(U=M.getModel(),Y=new b.EditorStateCancellationTokenSource(M,5,void 0,x)):(U=M,Y=new b.TextModelCancellationTokenSource(M,x));const Q=[];let Z=0;for(const de of(0,f.asArray)(P).sort(o.Range.compareRangesUsingStarts))Z>0&&o.Range.areIntersectingOrTouching(Q[Z-1],de)?Q[Z-1]=o.Range.fromPositions(Q[Z-1].getStartPosition(),de.getEndPosition()):Z=Q.push(de);const G=async de=>{var he,pe;V.trace("[format][provideDocumentRangeFormattingEdits] (request)",(he=R.extensionId)===null||he===void 0?void 0:he.value,de);const ue=await R.provideDocumentRangeFormattingEdits(U,de,U.getFormattingOptions(),Y.token)||[];return V.trace("[format][provideDocumentRangeFormattingEdits] (response)",(pe=R.extensionId)===null||pe===void 0?void 0:pe.value,ue),ue},F=(de,he)=>{if(!de.length||!he.length)return!1;const pe=de.reduce((ue,ie)=>o.Range.plusRange(ue,ie.range),de[0].range);if(!he.some(ue=>o.Range.intersectRanges(pe,ue.range)))return!1;for(const ue of de)for(const ie of he)if(o.Range.intersectRanges(ue.range,ie.range))return!0;return!1},J=[],te=[];try{if(typeof R.provideDocumentRangesFormattingEdits=="function"){V.trace("[format][provideDocumentRangeFormattingEdits] (request)",(B=R.extensionId)===null||B===void 0?void 0:B.value,Q);const de=await R.provideDocumentRangesFormattingEdits(U,Q,U.getFormattingOptions(),Y.token)||[];V.trace("[format][provideDocumentRangeFormattingEdits] (response)",(H=R.extensionId)===null||H===void 0?void 0:H.value,de),te.push(de)}else{for(const de of Q){if(Y.token.isCancellationRequested)return!0;te.push(await G(de))}for(let de=0;de<Q.length;++de)for(let he=de+1;he<Q.length;++he){if(Y.token.isCancellationRequested)return!0;if(F(te[de],te[he])){const pe=o.Range.plusRange(Q[de],Q[he]),ue=await G(pe);Q.splice(he,1),Q.splice(de,1),Q.push(pe),te.splice(he,1),te.splice(de,1),te.push(ue),de=0,he=0}}}for(const de of te){if(Y.token.isCancellationRequested)return!0;const he=await K.computeMoreMinimalEdits(U.uri,de);he&&J.push(...he)}}finally{Y.dispose()}if(J.length===0)return!1;if((0,v.isCodeEditor)(M))c.FormattingEdit.execute(M,J,!0),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:de}]=J,he=new t.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn);U.pushEditOperations([he],J.map(pe=>({text:pe.text,range:o.Range.lift(pe.range),forceMoveMarkers:!0})),pe=>{for(const{range:ue}of pe)if(o.Range.areIntersectingOrTouching(ue,he))return[new t.Selection(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn)];return null})}return j.playSignal(p.AccessibilitySignal.format,{userGesture:O}),!0}async function _(A,R,M,P,x,O){const B=A.get(a.IInstantiationService),H=A.get(l.ILanguageFeaturesService),K=(0,v.isCodeEditor)(R)?R.getModel():R,V=h(H.documentFormattingEditProvider,H.documentRangeFormattingEditProvider,K),j=await g.select(V,K,M,1);j&&(P.report(j),await B.invokeFunction(L,j,R,M,x,O))}async function L(A,R,M,P,x,O){const B=A.get(i.IEditorWorkerService),H=A.get(p.IAccessibilitySignalService);let K,V;(0,v.isCodeEditor)(M)?(K=M.getModel(),V=new b.EditorStateCancellationTokenSource(M,5,void 0,x)):(K=M,V=new b.TextModelCancellationTokenSource(M,x));let j;try{const U=await R.provideDocumentFormattingEdits(K,K.getFormattingOptions(),V.token);if(j=await B.computeMoreMinimalEdits(K.uri,U),V.token.isCancellationRequested)return!0}finally{V.dispose()}if(!j||j.length===0)return!1;if((0,v.isCodeEditor)(M))c.FormattingEdit.execute(M,j,P!==2),P!==2&&M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:U}]=j,Y=new t.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn);K.pushEditOperations([Y],j.map(Q=>({text:Q.text,range:o.Range.lift(Q.range),forceMoveMarkers:!0})),Q=>{for(const{range:Z}of Q)if(o.Range.areIntersectingOrTouching(Z,Y))return[new t.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn)];return null})}return H.playSignal(p.AccessibilitySignal.format,{userGesture:O}),!0}async function D(A,R,M,P,x,O){const B=R.documentRangeFormattingEditProvider.ordered(M);for(const H of B){const K=await Promise.resolve(H.provideDocumentRangeFormattingEdits(M,P,x,O)).catch(E.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(K))return await A.computeMoreMinimalEdits(M.uri,K)}}async function T(A,R,M,P,x){const O=h(R.documentFormattingEditProvider,R.documentRangeFormattingEditProvider,M);for(const B of O){const H=await Promise.resolve(B.provideDocumentFormattingEdits(M,P,x)).catch(E.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(H))return await A.computeMoreMinimalEdits(M.uri,H)}}function N(A,R,M,P,x,O,B){const H=R.onTypeFormattingEditProvider.ordered(M);return H.length===0||H[0].autoFormatTriggerCharacters.indexOf(x)<0?Promise.resolve(void 0):Promise.resolve(H[0].provideOnTypeFormattingEdits(M,P,x,O,B)).catch(E.onUnexpectedExternalError).then(K=>A.computeMoreMinimalEdits(M.uri,K))}u.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(A,...R){const[M,P,x]=R;(0,m.assertType)(w.URI.isUri(M)),(0,m.assertType)(o.Range.isIRange(P));const O=A.get(n.ITextModelService),B=A.get(i.IEditorWorkerService),H=A.get(l.ILanguageFeaturesService),K=await O.createModelReference(M);try{return D(B,H,K.object.textEditorModel,o.Range.lift(P),x,k.CancellationToken.None)}finally{K.dispose()}}),u.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(A,...R){const[M,P]=R;(0,m.assertType)(w.URI.isUri(M));const x=A.get(n.ITextModelService),O=A.get(i.IEditorWorkerService),B=A.get(l.ILanguageFeaturesService),H=await x.createModelReference(M);try{return T(O,B,H.object.textEditorModel,P,k.CancellationToken.None)}finally{H.dispose()}}),u.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(A,...R){const[M,P,x,O]=R;(0,m.assertType)(w.URI.isUri(M)),(0,m.assertType)(s.Position.isIPosition(P)),(0,m.assertType)(typeof x=="string");const B=A.get(n.ITextModelService),H=A.get(i.IEditorWorkerService),K=A.get(l.ILanguageFeaturesService),V=await B.createModelReference(M);try{return N(H,K,V.object.textEditorModel,s.Position.lift(P),x,O,k.CancellationToken.None)}finally{V.dispose()}})}),define(re[727],ae([1,0,13,18,8,70,2,15,35,141,5,20,115,17,407,352,3,134,24,12,7,96]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatOnType=void 0;let p=class{constructor(_,L,D,T){this._editor=_,this._languageFeaturesService=L,this._workerService=D,this._accessibilitySignalService=T,this._disposables=new y.DisposableStore,this._sessionDisposables=new y.DisposableStore,this._disposables.add(L.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(_.onDidChangeModel(()=>this._update())),this._disposables.add(_.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(_.onDidChangeConfiguration(N=>{N.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const _=this._editor.getModel(),[L]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(_);if(!L||!L.autoFormatTriggerCharacters)return;const D=new b.CharacterSet;for(const T of L.autoFormatTriggerCharacters)D.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const N=T.charCodeAt(T.length-1);D.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const L=this._editor.getModel(),D=this._editor.getPosition(),T=new k.CancellationTokenSource,N=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){T.cancel(),N.dispose();return}for(let R=0,M=A.changes.length;R<M;R++)if(A.changes[R].range.endLineNumber<=D.lineNumber){T.cancel(),N.dispose();return}});(0,i.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,L,D,_,L.getFormattingOptions(),T.token).then(A=>{T.token.isCancellationRequested||(0,f.isNonEmptyArray)(A)&&(this._accessibilitySignalService.playSignal(u.AccessibilitySignal.format,{userGesture:!1}),n.FormattingEdit.execute(this._editor,A,!0))}).finally(()=>{N.dispose()})}};e.FormatOnType=p,p.ID="editor.contrib.autoFormat",e.FormatOnType=p=ke([ge(1,t.ILanguageFeaturesService),ge(2,o.IEditorWorkerService),ge(3,u.IAccessibilitySignalService)],p);let h=class{constructor(_,L,D){this.editor=_,this._languageFeaturesService=L,this._instantiationService=D,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(L.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_)))}_trigger(_){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(i.formatDocumentRangesWithSelectedProvider,this.editor,_,2,d.Progress.None,k.CancellationToken.None,!1).catch(E.onUnexpectedError))}};h.ID="editor.contrib.formatOnPaste",h=ke([ge(1,t.ILanguageFeaturesService),ge(2,l.IInstantiationService)],h);class g extends m.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:c.localize(549,"Format Document"),alias:"Format Document",precondition:a.ContextKeyExpr.and(s.EditorContextKeys.notInCompositeEditor,s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(_,L){if(L.hasModel()){const D=_.get(l.IInstantiationService);await _.get(d.IEditorProgressService).showWhile(D.invokeFunction(i.formatDocumentWithSelectedProvider,L,1,d.Progress.None,k.CancellationToken.None,!0),250)}}}class C extends m.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:c.localize(550,"Format Selection"),alias:"Format Selection",precondition:a.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:s.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(_,L){if(!L.hasModel())return;const D=_.get(l.IInstantiationService),T=L.getModel(),N=L.getSelections().map(R=>R.isEmpty()?new v.Range(R.startLineNumber,1,R.startLineNumber,T.getLineMaxColumn(R.startLineNumber)):R);await _.get(d.IEditorProgressService).showWhile(D.invokeFunction(i.formatDocumentRangesWithSelectedProvider,L,N,1,d.Progress.None,k.CancellationToken.None,!0),250)}}(0,m.registerEditorContribution)(p.ID,p,2),(0,m.registerEditorContribution)(h.ID,h,2),(0,m.registerEditorAction)(g),(0,m.registerEditorAction)(C),r.CommandsRegistry.registerCommand("editor.action.format",async S=>{const _=S.get(w.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const L=S.get(r.ICommandService);_.getSelection().isEmpty()?await L.executeCommand("editor.action.formatDocument"):await L.executeCommand("editor.action.formatSelection")})}),define(re[275],ae([1,0,13,18,8,46,15,17,176]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinitionsAtPosition=s,e.getDeclarationsAtPosition=o,e.getImplementationsAtPosition=t,e.getTypeDefinitionsAtPosition=i,e.getReferencesAtPosition=n;function b(u,r){return r.uri.scheme===u.uri.scheme?!0:!(0,I.matchesSomeScheme)(r.uri,I.Schemas.walkThroughSnippet,I.Schemas.vscodeChatCodeBlock,I.Schemas.vscodeChatCodeCompareBlock,I.Schemas.vscodeCopilotBackingChatCodeBlock)}async function v(u,r,a,l){const p=a.ordered(u).map(g=>Promise.resolve(l(g,u,r)).then(void 0,C=>{(0,E.onUnexpectedExternalError)(C)})),h=await Promise.all(p);return(0,f.coalesce)(h.flat()).filter(g=>b(u,g))}function s(u,r,a,l){return v(r,a,u,(d,p,h)=>d.provideDefinition(p,h,l))}function o(u,r,a,l){return v(r,a,u,(d,p,h)=>d.provideDeclaration(p,h,l))}function t(u,r,a,l){return v(r,a,u,(d,p,h)=>d.provideImplementation(p,h,l))}function i(u,r,a,l){return v(r,a,u,(d,p,h)=>d.provideTypeDefinition(p,h,l))}function n(u,r,a,l,d){return v(r,a,u,async(p,h,g)=>{var C,S;const _=(C=await p.provideReferences(h,g,{includeDeclaration:!0},d))===null||C===void 0?void 0:C.filter(D=>b(h,D));if(!l||!_||_.length!==2)return _;const L=(S=await p.provideReferences(h,g,{includeDeclaration:!1},d))===null||S===void 0?void 0:S.filter(D=>b(h,D));return L&&L.length===1?L:_})}async function c(u){const r=await u(),a=new w.ReferencesModel(r,""),l=a.references.map(d=>d.link);return a.dispose(),l}(0,y.registerModelAndPositionCommand)("_executeDefinitionProvider",(u,r,a)=>{const l=u.get(m.ILanguageFeaturesService),d=s(l.definitionProvider,r,a,k.CancellationToken.None);return c(()=>d)}),(0,y.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(u,r,a)=>{const l=u.get(m.ILanguageFeaturesService),d=i(l.typeDefinitionProvider,r,a,k.CancellationToken.None);return c(()=>d)}),(0,y.registerModelAndPositionCommand)("_executeDeclarationProvider",(u,r,a)=>{const l=u.get(m.ILanguageFeaturesService),d=o(l.declarationProvider,r,a,k.CancellationToken.None);return c(()=>d)}),(0,y.registerModelAndPositionCommand)("_executeReferenceProvider",(u,r,a)=>{const l=u.get(m.ILanguageFeaturesService),d=n(l.referenceProvider,r,a,!1,k.CancellationToken.None);return c(()=>d)}),(0,y.registerModelAndPositionCommand)("_executeImplementationProvider",(u,r,a)=>{const l=u.get(m.ILanguageFeaturesService),d=t(l.implementationProvider,r,a,k.CancellationToken.None);return c(()=>d)})}),define(re[728],ae([1,0,6,2,50,15,35,5,3,12,48,7,31,120,49]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new b.RawContextKey("hasSymbols",!1,(0,w.localize)(573,"Whether there are symbol locations that can be navigated via keyboard-only.")),e.ISymbolNavigationService=(0,s.createDecorator)("ISymbolNavigationService");let n=class{constructor(r,a,l,d){this._editorService=a,this._notificationService=l,this._keybindingService=d,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(r)}reset(){var r,a;this._ctxHasSymbols.reset(),(r=this._currentState)===null||r===void 0||r.dispose(),(a=this._currentMessage)===null||a===void 0||a.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(r){const a=r.parent.parent;if(a.references.length<=1){this.reset();return}this._currentModel=a,this._currentIdx=a.references.indexOf(r),this._ctxHasSymbols.set(!0),this._showMessage();const l=new c(this._editorService),d=l.onDidChange(p=>{if(this._ignoreEditorChange)return;const h=this._editorService.getActiveCodeEditor();if(!h)return;const g=h.getModel(),C=h.getPosition();if(!g||!C)return;let S=!1,_=!1;for(const L of a.references)if((0,E.isEqual)(L.uri,g.uri))S=!0,_=_||m.Range.containsPosition(L.range,C);else if(S)break;(!S||!_)&&this.reset()});this._currentState=(0,k.combinedDisposable)(l,d)}revealNext(r){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const a=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:a.uri,options:{selection:m.Range.collapseToStart(a.range),selectionRevealType:3}},r).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var r;(r=this._currentMessage)===null||r===void 0||r.dispose();const a=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=a?(0,w.localize)(574,"Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,a.getLabel()):(0,w.localize)(575,"Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};n=ke([ge(0,b.IContextKeyService),ge(1,y.ICodeEditorService),ge(2,i.INotificationService),ge(3,o.IKeybindingService)],n),(0,v.registerSingleton)(e.ISymbolNavigationService,n,1),(0,I.registerEditorCommand)(new class extends I.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(u,r){return u.get(e.ISymbolNavigationService).revealNext(r)}}),t.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(u){u.get(e.ISymbolNavigationService).reset()}});let c=class{constructor(r){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(r.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(r.onCodeEditorAdd(this._onDidAddEditor,this)),r.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(r){this._listener.set(r,(0,k.combinedDisposable)(r.onDidChangeCursorPosition(a=>this._onDidChange.fire({editor:r})),r.onDidChangeModelContent(a=>this._onDidChange.fire({editor:r}))))}_onDidRemoveEditor(r){var a;(a=this._listener.get(r))===null||a===void 0||a.dispose(),this._listener.delete(r)}};c=ke([ge(0,y.ICodeEditorService)],c)}),define(re[408],ae([1,0,14,18,8,15,17]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverProviderResult=void 0,e.getHoverProviderResultsAsAsyncIterable=b,e.getHoversPromise=v;class m{constructor(t,i,n){this.provider=t,this.hover=i,this.ordinal=n}}e.HoverProviderResult=m;async function w(o,t,i,n,c){const u=await Promise.resolve(o.provideHover(i,n,c)).catch(E.onUnexpectedExternalError);if(!(!u||!s(u)))return new m(o,u,t)}function b(o,t,i,n){const u=o.ordered(t).map((r,a)=>w(r,a,t,i,n));return f.AsyncIterableObject.fromPromises(u).coalesce()}function v(o,t,i,n){return b(o,t,i,n).map(c=>c.hover).toPromise()}(0,I.registerModelAndPositionCommand)("_executeHoverProvider",(o,t,i)=>{const n=o.get(y.ILanguageFeaturesService);return v(n.hoverProvider,t,i,k.CancellationToken.None)});function s(o){const t=typeof o.range<"u",i=typeof o.contents<"u"&&o.contents&&o.contents.length>0;return t&&i}}),define(re[729],ae([1,0,2,11,15,182,5,20,34,51,354,3,63,252,706,94]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=void 0;class c extends E.EditorAction{constructor(){super({id:c.ID,label:s.localize(551,"Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:m.EditorContextKeys.writable,metadata:{description:s.localize2(563,"Convert the tab indentation to spaces.")}})}run(A,R){const M=R.getModel();if(!M)return;const P=M.getOptions(),x=R.getSelection();if(!x)return;const O=new D(x,P.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[O]),R.pushUndoStop(),M.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=c,c.ID="editor.action.indentationToSpaces";class u extends E.EditorAction{constructor(){super({id:u.ID,label:s.localize(552,"Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:m.EditorContextKeys.writable,metadata:{description:s.localize2(564,"Convert the spaces indentation to tabs.")}})}run(A,R){const M=R.getModel();if(!M)return;const P=M.getOptions(),x=R.getSelection();if(!x)return;const O=new T(x,P.tabSize);R.pushUndoStop(),R.executeCommands(this.id,[O]),R.pushUndoStop(),M.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=u,u.ID="editor.action.indentationToTabs";class r extends E.EditorAction{constructor(A,R,M){super(M),this.insertSpaces=A,this.displaySizeOnly=R}run(A,R){const M=A.get(o.IQuickInputService),P=A.get(b.IModelService),x=R.getModel();if(!x)return;const O=P.getCreationOptions(x.getLanguageId(),x.uri,x.isForSimpleWidget),B=x.getOptions(),H=[1,2,3,4,5,6,7,8].map(V=>({id:V.toString(),label:V.toString(),description:V===O.tabSize&&V===B.tabSize?s.localize(553,"Configured Tab Size"):V===O.tabSize?s.localize(554,"Default Tab Size"):V===B.tabSize?s.localize(555,"Current Tab Size"):void 0})),K=Math.min(x.getOptions().tabSize-1,7);setTimeout(()=>{M.pick(H,{placeHolder:s.localize(556,"Select Tab Size for Current File"),activeItem:H[K]}).then(V=>{if(V&&x&&!x.isDisposed()){const j=parseInt(V.label,10);this.displaySizeOnly?x.updateOptions({tabSize:j}):x.updateOptions({tabSize:j,indentSize:j,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=r;class a extends r{constructor(){super(!1,!1,{id:a.ID,label:s.localize(557,"Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:s.localize2(565,"Use indentation with tabs.")}})}}e.IndentUsingTabs=a,a.ID="editor.action.indentUsingTabs";class l extends r{constructor(){super(!0,!1,{id:l.ID,label:s.localize(558,"Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:s.localize2(566,"Use indentation with spaces.")}})}}e.IndentUsingSpaces=l,l.ID="editor.action.indentUsingSpaces";class d extends r{constructor(){super(!0,!0,{id:d.ID,label:s.localize(559,"Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:s.localize2(567,"Change the space size equivalent of the tab.")}})}}e.ChangeTabDisplaySize=d,d.ID="editor.action.changeTabDisplaySize";class p extends E.EditorAction{constructor(){super({id:p.ID,label:s.localize(560,"Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:s.localize2(568,"Detect the indentation from content.")}})}run(A,R){const M=A.get(b.IModelService),P=R.getModel();if(!P)return;const x=M.getCreationOptions(P.getLanguageId(),P.uri,P.isForSimpleWidget);P.detectIndentation(x.insertSpaces,x.tabSize)}}e.DetectIndentation=p,p.ID="editor.action.detectIndentation";class h extends E.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:s.localize(561,"Reindent Lines"),alias:"Reindent Lines",precondition:m.EditorContextKeys.writable,metadata:{description:s.localize2(569,"Reindent the lines of the editor.")}})}run(A,R){const M=A.get(w.ILanguageConfigurationService),P=R.getModel();if(!P)return;const x=(0,i.getReindentEditOperations)(P,M,1,P.getLineCount());x.length>0&&(R.pushUndoStop(),R.executeEdits(this.id,x),R.pushUndoStop())}}e.ReindentLinesAction=h;class g extends E.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:s.localize(562,"Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:m.EditorContextKeys.writable,metadata:{description:s.localize2(570,"Reindent the selected lines of the editor.")}})}run(A,R){const M=A.get(w.ILanguageConfigurationService),P=R.getModel();if(!P)return;const x=R.getSelections();if(x===null)return;const O=[];for(const B of x){let H=B.startLineNumber,K=B.endLineNumber;if(H!==K&&B.endColumn===1&&K--,H===1){if(H===K)continue}else H--;const V=(0,i.getReindentEditOperations)(P,M,H,K);O.push(...V)}O.length>0&&(R.pushUndoStop(),R.executeEdits(this.id,O),R.pushUndoStop())}}e.ReindentSelectedLinesAction=g;class C{constructor(A,R){this._initialSelection=R,this._edits=[],this._selectionId=null;for(const M of A)M.range&&typeof M.text=="string"&&this._edits.push(M)}getEditOperations(A,R){for(const P of this._edits)R.addEditOperation(y.Range.lift(P.range),P.text);let M=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(M=!0,this._selectionId=R.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(M=!0,this._selectionId=R.trackSelection(this._initialSelection,!1))),M||(this._selectionId=R.trackSelection(this._initialSelection))}computeCursorState(A,R){return R.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=C;let S=class{constructor(A,R){this.editor=A,this._languageConfigurationService=R,this.callOnDispose=new f.DisposableStore,this.callOnModel=new f.DisposableStore,this.callOnDispose.add(A.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(A.onDidChangeModel(()=>this.update())),this.callOnDispose.add(A.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:A})=>{this.trigger(A)}))}trigger(A){const R=this.editor.getSelections();if(R===null||R.length>1)return;const M=this.editor.getModel();if(!M||this.rangeContainsOnlyWhitespaceCharacters(M,A)||_(M,A)||!M.tokenization.isCheapToTokenize(A.getStartPosition().lineNumber))return;const x=this.editor.getOption(12),{tabSize:O,indentSize:B,insertSpaces:H}=M.getOptions(),K=[],V={shiftIndent:Q=>I.ShiftCommand.shiftIndent(Q,Q.length+1,O,B,H),unshiftIndent:Q=>I.ShiftCommand.unshiftIndent(Q,Q.length+1,O,B,H)};let j=A.startLineNumber;for(;j<=A.endLineNumber;){if(this.shouldIgnoreLine(M,j)){j++;continue}break}if(j>A.endLineNumber)return;let U=M.getLineContent(j);if(!/\S/.test(U.substring(0,A.startColumn-1))){const Q=(0,t.getGoodIndentForLine)(x,M,M.getLanguageId(),j,V,this._languageConfigurationService);if(Q!==null){const Z=k.getLeadingWhitespace(U),G=v.getSpaceCnt(Q,O),F=v.getSpaceCnt(Z,O);if(G!==F){const J=v.generateIndent(G,O,H);K.push({range:new y.Range(j,1,j,Z.length+1),text:J}),U=J+U.substring(Z.length)}else{const J=(0,t.getIndentMetadata)(M,j,this._languageConfigurationService);if(J===0||J===8)return}}}const Y=j;for(;j<A.endLineNumber;){if(!/\S/.test(M.getLineContent(j+1))){j++;continue}break}if(j!==A.endLineNumber){const Q={tokenization:{getLineTokens:G=>M.tokenization.getLineTokens(G),getLanguageId:()=>M.getLanguageId(),getLanguageIdAtPosition:(G,F)=>M.getLanguageIdAtPosition(G,F)},getLineContent:G=>G===Y?U:M.getLineContent(G)},Z=(0,t.getGoodIndentForLine)(x,Q,M.getLanguageId(),j+1,V,this._languageConfigurationService);if(Z!==null){const G=v.getSpaceCnt(Z,O),F=v.getSpaceCnt(k.getLeadingWhitespace(M.getLineContent(j+1)),O);if(G!==F){const J=G-F;for(let te=j+1;te<=A.endLineNumber;te++){const de=M.getLineContent(te),he=k.getLeadingWhitespace(de),ue=v.getSpaceCnt(he,O)+J,ie=v.generateIndent(ue,O,H);ie!==he&&K.push({range:new y.Range(te,1,te,he.length+1),text:ie})}}}}if(K.length>0){this.editor.pushUndoStop();const Q=new C(K,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Q),this.editor.pushUndoStop()}}rangeContainsOnlyWhitespaceCharacters(A,R){const M=x=>x.trim().length===0;let P=!0;if(R.startLineNumber===R.endLineNumber){const O=A.getLineContent(R.startLineNumber).substring(R.startColumn-1,R.endColumn-1);P=M(O)}else for(let x=R.startLineNumber;x<=R.endLineNumber;x++){const O=A.getLineContent(x);if(x===R.startLineNumber){const B=O.substring(R.startColumn-1);P=M(B)}else if(x===R.endLineNumber){const B=O.substring(0,R.endColumn-1);P=M(B)}else P=A.getLineFirstNonWhitespaceColumn(x)===0;if(!P)break}return P}shouldIgnoreLine(A,R){A.tokenization.forceTokenization(R);const M=A.getLineFirstNonWhitespaceColumn(R);if(M===0)return!0;const P=A.tokenization.getLineTokens(R);if(P.getCount()>0){const x=P.findTokenIndexAtOffset(M);if(x>=0&&P.getStandardTokenType(x)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=S,S.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=S=ke([ge(1,w.ILanguageConfigurationService)],S);function _(N,A){const R=M=>(0,n.getStandardTokenTypeAtPosition)(N,M)===2;return R(A.getStartPosition())||R(A.getEndPosition())}function L(N,A,R,M){if(N.getLineCount()===1&&N.getLineMaxColumn(1)===1)return;let P="";for(let O=0;O<R;O++)P+=" ";const x=new RegExp(P,"gi");for(let O=1,B=N.getLineCount();O<=B;O++){let H=N.getLineFirstNonWhitespaceColumn(O);if(H===0&&(H=N.getLineMaxColumn(O)),H===1)continue;const K=new y.Range(O,1,O,H),V=N.getValueInRange(K),j=M?V.replace(/\t/ig,P):V.replace(x,"	");A.addEditOperation(K,j)}}class D{constructor(A,R){this.selection=A,this.tabSize=R,this.selectionId=null}getEditOperations(A,R){this.selectionId=R.trackSelection(this.selection),L(A,R,this.tabSize,!0)}computeCursorState(A,R){return R.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=D;class T{constructor(A,R){this.selection=A,this.tabSize=R,this.selectionId=null}getEditOperations(A,R){this.selectionId=R.trackSelection(this.selection),L(A,R,this.tabSize,!1)}computeCursorState(A,R){return R.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=T,(0,E.registerEditorContribution)(S.ID,S,2),(0,E.registerEditorAction)(c),(0,E.registerEditorAction)(u),(0,E.registerEditorAction)(a),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(d),(0,E.registerEditorAction)(p),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(g)}),define(re[730],ae([1,0,15,246,20,3]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class y extends f.EditorAction{constructor(){super({id:"expandLineSelection",label:I.localize(463,"Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:E.EditorContextKeys.textInputFocus,primary:2090}})}run(w,b,v){if(v=v||{},!b.hasModel())return;const s=b._getViewModel();s.model.pushStackElement(),s.setCursorStates(v.source,3,k.CursorMoveCommands.expandLineSelection(s,s.getCursorStates())),s.revealAllCursors(v.source,!0)}}e.ExpandLineSelectionAction=y,(0,f.registerEditorAction)(y)}),define(re[731],ae([1,0,70,212,15,143,565,274,211,75,9,5,23,20,642,708,643,3,29,34,28]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.PascalCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class d extends E.EditorAction{constructor(pe,ue){super(ue),this.down=pe}run(pe,ue){if(!ue.hasModel())return;const ie=ue.getSelections().map((W,q)=>({selection:W,index:q,ignore:!1}));ie.sort((W,q)=>s.Range.compareRangesUsingStarts(W.selection,q.selection));let se=ie[0];for(let W=1;W<ie.length;W++){const q=ie[W];se.selection.endLineNumber===q.selection.startLineNumber&&(se.index<q.index?q.ignore=!0:(se.ignore=!0,se=q))}const ne=[];for(const W of ie)ne.push(new i.CopyLinesCommand(W.selection,this.down,W.ignore));ue.pushUndoStop(),ue.executeCommands(this.id,ne),ue.pushUndoStop()}}class p extends d{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:u.localize(433,"Copy Line Up"),alias:"Copy Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(434,"&&Copy Line Up"),order:1}})}}class h extends d{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:u.localize(435,"Copy Line Down"),alias:"Copy Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(436,"Co&&py Line Down"),order:2}})}}class g extends E.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:u.localize(437,"Duplicate Selection"),alias:"Duplicate Selection",precondition:t.EditorContextKeys.writable,menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(438,"&&Duplicate Selection"),order:5}})}run(pe,ue,ie){if(!ue.hasModel())return;const se=[],ne=ue.getSelections(),W=ue.getModel();for(const q of ne)if(q.isEmpty())se.push(new i.CopyLinesCommand(q,!0));else{const z=new o.Selection(q.endLineNumber,q.endColumn,q.endLineNumber,q.endColumn);se.push(new I.ReplaceCommandThatSelectsText(z,W.getValueInRange(q)))}ue.pushUndoStop(),ue.executeCommands(this.id,se),ue.pushUndoStop()}}e.DuplicateSelectionAction=g;class C extends E.EditorAction{constructor(pe,ue){super(ue),this.down=pe}run(pe,ue){const ie=pe.get(a.ILanguageConfigurationService),se=[],ne=ue.getSelections()||[],W=ue.getOption(12);for(const q of ne)se.push(new n.MoveLinesCommand(q,this.down,W,ie));ue.pushUndoStop(),ue.executeCommands(this.id,se),ue.pushUndoStop()}}class S extends C{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:u.localize(439,"Move Line Up"),alias:"Move Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(440,"Mo&&ve Line Up"),order:3}})}}class _ extends C{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:u.localize(441,"Move Line Down"),alias:"Move Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"2_line",title:u.localize(442,"Move &&Line Down"),order:4}})}}class L extends E.EditorAction{constructor(pe,ue){super(ue),this.descending=pe}run(pe,ue){if(!ue.hasModel())return;const ie=ue.getModel();let se=ue.getSelections();se.length===1&&se[0].isEmpty()&&(se=[new o.Selection(1,1,ie.getLineCount(),ie.getLineMaxColumn(ie.getLineCount()))]);for(const W of se)if(!c.SortLinesCommand.canRun(ue.getModel(),W,this.descending))return;const ne=[];for(let W=0,q=se.length;W<q;W++)ne[W]=new c.SortLinesCommand(se[W],this.descending);ue.pushUndoStop(),ue.executeCommands(this.id,ne),ue.pushUndoStop()}}e.AbstractSortLinesAction=L;class D extends L{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:u.localize(443,"Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:t.EditorContextKeys.writable})}}e.SortLinesAscendingAction=D;class T extends L{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:u.localize(444,"Sort Lines Descending"),alias:"Sort Lines Descending",precondition:t.EditorContextKeys.writable})}}e.SortLinesDescendingAction=T;class N extends E.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:u.localize(445,"Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:t.EditorContextKeys.writable})}run(pe,ue){if(!ue.hasModel())return;const ie=ue.getModel();if(ie.getLineCount()===1&&ie.getLineMaxColumn(1)===1)return;const se=[],ne=[];let W=0,q=!0,z=ue.getSelections();z.length===1&&z[0].isEmpty()&&(z=[new o.Selection(1,1,ie.getLineCount(),ie.getLineMaxColumn(ie.getLineCount()))],q=!1);for(const $ of z){const X=new Set,ee=[];for(let ve=$.startLineNumber;ve<=$.endLineNumber;ve++){const _e=ie.getLineContent(ve);X.has(_e)||(ee.push(_e),X.add(_e))}const oe=new o.Selection($.startLineNumber,1,$.endLineNumber,ie.getLineMaxColumn($.endLineNumber)),ce=$.startLineNumber-W,fe=new o.Selection(ce,1,ce+ee.length-1,ee[ee.length-1].length);se.push(b.EditOperation.replace(oe,ee.join(`
`))),ne.push(fe),W+=$.endLineNumber-$.startLineNumber+1-ee.length}ue.pushUndoStop(),ue.executeEdits(this.id,se,q?ne:void 0),ue.pushUndoStop()}}e.DeleteDuplicateLinesAction=N;class A extends E.EditorAction{constructor(){super({id:A.ID,label:u.localize(446,"Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2102),weight:100}})}run(pe,ue,ie){let se=[];ie.reason==="auto-save"&&(se=(ue.getSelections()||[]).map(X=>new v.Position(X.positionLineNumber,X.positionColumn)));const ne=ue.getSelection();if(ne===null)return;const W=pe.get(l.IConfigurationService),q=ue.getModel(),z=W.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:q?.getLanguageId(),resource:q?.uri}),$=new y.TrimTrailingWhitespaceCommand(ne,se,z);ue.pushUndoStop(),ue.executeCommands(this.id,[$]),ue.pushUndoStop()}}e.TrimTrailingWhitespaceAction=A,A.ID="editor.action.trimTrailingWhitespace";class R extends E.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:u.localize(447,"Delete Line"),alias:"Delete Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(pe,ue){if(!ue.hasModel())return;const ie=this._getLinesToRemove(ue),se=ue.getModel();if(se.getLineCount()===1&&se.getLineMaxColumn(1)===1)return;let ne=0;const W=[],q=[];for(let z=0,$=ie.length;z<$;z++){const X=ie[z];let ee=X.startLineNumber,oe=X.endLineNumber,ce=1,fe=se.getLineMaxColumn(oe);oe<se.getLineCount()?(oe+=1,fe=1):ee>1&&(ee-=1,ce=se.getLineMaxColumn(ee)),W.push(b.EditOperation.replace(new o.Selection(ee,ce,oe,fe),"")),q.push(new o.Selection(ee-ne,X.positionColumn,ee-ne,X.positionColumn)),ne+=X.endLineNumber-X.startLineNumber+1}ue.pushUndoStop(),ue.executeEdits(this.id,W,q),ue.pushUndoStop()}_getLinesToRemove(pe){const ue=pe.getSelections().map(ne=>{let W=ne.endLineNumber;return ne.startLineNumber<ne.endLineNumber&&ne.endColumn===1&&(W-=1),{startLineNumber:ne.startLineNumber,selectionStartColumn:ne.selectionStartColumn,endLineNumber:W,positionColumn:ne.positionColumn}});ue.sort((ne,W)=>ne.startLineNumber===W.startLineNumber?ne.endLineNumber-W.endLineNumber:ne.startLineNumber-W.startLineNumber);const ie=[];let se=ue[0];for(let ne=1;ne<ue.length;ne++)se.endLineNumber+1>=ue[ne].startLineNumber?se.endLineNumber=ue[ne].endLineNumber:(ie.push(se),se=ue[ne]);return ie.push(se),ie}}e.DeleteLinesAction=R;class M extends E.EditorAction{constructor(){super({id:"editor.action.indentLines",label:u.localize(448,"Indent Line"),alias:"Indent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(pe,ue){const ie=ue._getViewModel();ie&&(ue.pushUndoStop(),ue.executeCommands(this.id,m.TypeOperations.indent(ie.cursorConfig,ue.getModel(),ue.getSelections())),ue.pushUndoStop())}}e.IndentLinesAction=M;class P extends E.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:u.localize(449,"Outdent Line"),alias:"Outdent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(pe,ue){k.CoreEditingCommands.Outdent.runEditorCommand(pe,ue,null)}}class x extends E.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:u.localize(450,"Insert Line Above"),alias:"Insert Line Above",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(pe,ue){const ie=ue._getViewModel();ie&&(ue.pushUndoStop(),ue.executeCommands(this.id,w.EnterOperation.lineInsertBefore(ie.cursorConfig,ue.getModel(),ue.getSelections())))}}e.InsertLineBeforeAction=x;class O extends E.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:u.localize(451,"Insert Line Below"),alias:"Insert Line Below",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(pe,ue){const ie=ue._getViewModel();ie&&(ue.pushUndoStop(),ue.executeCommands(this.id,w.EnterOperation.lineInsertAfter(ie.cursorConfig,ue.getModel(),ue.getSelections())))}}e.InsertLineAfterAction=O;class B extends E.EditorAction{run(pe,ue){if(!ue.hasModel())return;const ie=ue.getSelection(),se=this._getRangesToDelete(ue),ne=[];for(let z=0,$=se.length-1;z<$;z++){const X=se[z],ee=se[z+1];s.Range.intersectRanges(X,ee)===null?ne.push(X):se[z+1]=s.Range.plusRange(X,ee)}ne.push(se[se.length-1]);const W=this._getEndCursorState(ie,ne),q=ne.map(z=>b.EditOperation.replace(z,""));ue.pushUndoStop(),ue.executeEdits(this.id,q,W),ue.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=B;class H extends B{constructor(){super({id:"deleteAllLeft",label:u.localize(452,"Delete All Left"),alias:"Delete All Left",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(pe,ue){let ie=null;const se=[];let ne=0;return ue.forEach(W=>{let q;if(W.endColumn===1&&ne>0){const z=W.startLineNumber-ne;q=new o.Selection(z,W.startColumn,z,W.startColumn)}else q=new o.Selection(W.startLineNumber,W.startColumn,W.startLineNumber,W.startColumn);ne+=W.endLineNumber-W.startLineNumber,W.intersectRanges(pe)?ie=q:se.push(q)}),ie&&se.unshift(ie),se}_getRangesToDelete(pe){const ue=pe.getSelections();if(ue===null)return[];let ie=ue;const se=pe.getModel();return se===null?[]:(ie.sort(s.Range.compareRangesUsingStarts),ie=ie.map(ne=>{if(ne.isEmpty())if(ne.startColumn===1){const W=Math.max(1,ne.startLineNumber-1),q=ne.startLineNumber===1?1:se.getLineLength(W)+1;return new s.Range(W,q,ne.startLineNumber,1)}else return new s.Range(ne.startLineNumber,1,ne.startLineNumber,ne.startColumn);else return new s.Range(ne.startLineNumber,1,ne.endLineNumber,ne.endColumn)}),ie)}}e.DeleteAllLeftAction=H;class K extends B{constructor(){super({id:"deleteAllRight",label:u.localize(453,"Delete All Right"),alias:"Delete All Right",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(pe,ue){let ie=null;const se=[];for(let ne=0,W=ue.length,q=0;ne<W;ne++){const z=ue[ne],$=new o.Selection(z.startLineNumber-q,z.startColumn,z.startLineNumber-q,z.startColumn);z.intersectRanges(pe)?ie=$:se.push($)}return ie&&se.unshift(ie),se}_getRangesToDelete(pe){const ue=pe.getModel();if(ue===null)return[];const ie=pe.getSelections();if(ie===null)return[];const se=ie.map(ne=>{if(ne.isEmpty()){const W=ue.getLineMaxColumn(ne.startLineNumber);return ne.startColumn===W?new s.Range(ne.startLineNumber,ne.startColumn,ne.startLineNumber+1,1):new s.Range(ne.startLineNumber,ne.startColumn,ne.startLineNumber,W)}return ne});return se.sort(s.Range.compareRangesUsingStarts),se}}e.DeleteAllRightAction=K;class V extends E.EditorAction{constructor(){super({id:"editor.action.joinLines",label:u.localize(454,"Join Lines"),alias:"Join Lines",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(pe,ue){const ie=ue.getSelections();if(ie===null)return;let se=ue.getSelection();if(se===null)return;ie.sort(s.Range.compareRangesUsingStarts);const ne=[],W=ie.reduce((oe,ce)=>oe.isEmpty()?oe.endLineNumber===ce.startLineNumber?(se.equalsSelection(oe)&&(se=ce),ce):ce.startLineNumber>oe.endLineNumber+1?(ne.push(oe),ce):new o.Selection(oe.startLineNumber,oe.startColumn,ce.endLineNumber,ce.endColumn):ce.startLineNumber>oe.endLineNumber?(ne.push(oe),ce):new o.Selection(oe.startLineNumber,oe.startColumn,ce.endLineNumber,ce.endColumn));ne.push(W);const q=ue.getModel();if(q===null)return;const z=[],$=[];let X=se,ee=0;for(let oe=0,ce=ne.length;oe<ce;oe++){const fe=ne[oe],ve=fe.startLineNumber,_e=1;let Ie=0,Ce,Ee;const Le=q.getLineLength(fe.endLineNumber)-fe.endColumn;if(fe.isEmpty()||fe.startLineNumber===fe.endLineNumber){const Pe=fe.getStartPosition();Pe.lineNumber<q.getLineCount()?(Ce=ve+1,Ee=q.getLineMaxColumn(Ce)):(Ce=Pe.lineNumber,Ee=q.getLineMaxColumn(Pe.lineNumber))}else Ce=fe.endLineNumber,Ee=q.getLineMaxColumn(Ce);let Te=q.getLineContent(ve);for(let Pe=ve+1;Pe<=Ce;Pe++){const Re=q.getLineContent(Pe),We=q.getLineFirstNonWhitespaceColumn(Pe);if(We>=1){let De=!0;Te===""&&(De=!1),De&&(Te.charAt(Te.length-1)===" "||Te.charAt(Te.length-1)==="	")&&(De=!1,Te=Te.replace(/[\s\uFEFF\xA0]+$/g," "));const Ne=Re.substr(We-1);Te+=(De?" ":"")+Ne,De?Ie=Ne.length+1:Ie=Ne.length}else Ie=0}const Ae=new s.Range(ve,_e,Ce,Ee);if(!Ae.isEmpty()){let Pe;fe.isEmpty()?(z.push(b.EditOperation.replace(Ae,Te)),Pe=new o.Selection(Ae.startLineNumber-ee,Te.length-Ie+1,ve-ee,Te.length-Ie+1)):fe.startLineNumber===fe.endLineNumber?(z.push(b.EditOperation.replace(Ae,Te)),Pe=new o.Selection(fe.startLineNumber-ee,fe.startColumn,fe.endLineNumber-ee,fe.endColumn)):(z.push(b.EditOperation.replace(Ae,Te)),Pe=new o.Selection(fe.startLineNumber-ee,fe.startColumn,fe.startLineNumber-ee,Te.length-Le)),s.Range.intersectRanges(Ae,se)!==null?X=Pe:$.push(Pe)}ee+=Ae.endLineNumber-Ae.startLineNumber}$.unshift(X),ue.pushUndoStop(),ue.executeEdits(this.id,z,$),ue.pushUndoStop()}}e.JoinLinesAction=V;class j extends E.EditorAction{constructor(){super({id:"editor.action.transpose",label:u.localize(455,"Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:t.EditorContextKeys.writable})}run(pe,ue){const ie=ue.getSelections();if(ie===null)return;const se=ue.getModel();if(se===null)return;const ne=[];for(let W=0,q=ie.length;W<q;W++){const z=ie[W];if(!z.isEmpty())continue;const $=z.getStartPosition(),X=se.getLineMaxColumn($.lineNumber);if($.column>=X){if($.lineNumber===se.getLineCount())continue;const ee=new s.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),oe=se.getValueInRange(ee).split("").reverse().join("");ne.push(new I.ReplaceCommand(new o.Selection($.lineNumber,Math.max(1,$.column-1),$.lineNumber+1,1),oe))}else{const ee=new s.Range($.lineNumber,Math.max(1,$.column-1),$.lineNumber,$.column+1),oe=se.getValueInRange(ee).split("").reverse().join("");ne.push(new I.ReplaceCommandThatPreservesSelection(ee,oe,new o.Selection($.lineNumber,$.column+1,$.lineNumber,$.column+1)))}}ue.pushUndoStop(),ue.executeCommands(this.id,ne),ue.pushUndoStop()}}e.TransposeAction=j;class U extends E.EditorAction{run(pe,ue){const ie=ue.getSelections();if(ie===null)return;const se=ue.getModel();if(se===null)return;const ne=ue.getOption(132),W=[];for(const q of ie)if(q.isEmpty()){const z=q.getStartPosition(),$=ue.getConfiguredWordAtPosition(z);if(!$)continue;const X=new s.Range(z.lineNumber,$.startColumn,z.lineNumber,$.endColumn),ee=se.getValueInRange(X);W.push(b.EditOperation.replace(X,this._modifyText(ee,ne)))}else{const z=se.getValueInRange(q);W.push(b.EditOperation.replace(q,this._modifyText(z,ne)))}ue.pushUndoStop(),ue.executeEdits(this.id,W),ue.pushUndoStop()}}e.AbstractCaseAction=U;class Y extends U{constructor(){super({id:"editor.action.transformToUppercase",label:u.localize(456,"Transform to Uppercase"),alias:"Transform to Uppercase",precondition:t.EditorContextKeys.writable})}_modifyText(pe,ue){return pe.toLocaleUpperCase()}}e.UpperCaseAction=Y;class Q extends U{constructor(){super({id:"editor.action.transformToLowercase",label:u.localize(457,"Transform to Lowercase"),alias:"Transform to Lowercase",precondition:t.EditorContextKeys.writable})}_modifyText(pe,ue){return pe.toLocaleLowerCase()}}e.LowerCaseAction=Q;class Z{constructor(pe,ue){this._pattern=pe,this._flags=ue,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class G extends U{constructor(){super({id:"editor.action.transformToTitlecase",label:u.localize(458,"Transform to Title Case"),alias:"Transform to Title Case",precondition:t.EditorContextKeys.writable})}_modifyText(pe,ue){const ie=G.titleBoundary.get();return ie?pe.toLocaleLowerCase().replace(ie,se=>se.toLocaleUpperCase()):pe}}e.TitleCaseAction=G,G.titleBoundary=new Z("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class F extends U{constructor(){super({id:"editor.action.transformToSnakecase",label:u.localize(459,"Transform to Snake Case"),alias:"Transform to Snake Case",precondition:t.EditorContextKeys.writable})}_modifyText(pe,ue){const ie=F.caseBoundary.get(),se=F.singleLetters.get();return!ie||!se?pe:pe.replace(ie,"$1_$2").replace(se,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=F,F.caseBoundary=new Z("(\\p{Ll})(\\p{Lu})","gmu"),F.singleLetters=new Z("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class J extends U{constructor(){super({id:"editor.action.transformToCamelcase",label:u.localize(460,"Transform to Camel Case"),alias:"Transform to Camel Case",precondition:t.EditorContextKeys.writable})}_modifyText(pe,ue){const ie=J.wordBoundary.get();if(!ie)return pe;const se=pe.split(ie);return se.shift()+se.map(W=>W.substring(0,1).toLocaleUpperCase()+W.substring(1)).join("")}}e.CamelCaseAction=J,J.wordBoundary=new Z("[_\\s-]","gm");class te extends U{constructor(){super({id:"editor.action.transformToPascalcase",label:u.localize(461,"Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:t.EditorContextKeys.writable})}_modifyText(pe,ue){const ie=te.wordBoundary.get(),se=te.wordBoundaryToMaintain.get();return!ie||!se?pe:pe.split(se).map(q=>q.split(ie)).flat().map(q=>q.substring(0,1).toLocaleUpperCase()+q.substring(1)).join("")}}e.PascalCaseAction=te,te.wordBoundary=new Z("[_\\s-]","gm"),te.wordBoundaryToMaintain=new Z("(?<=\\.)","gm");class de extends U{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(ue=>ue.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:u.localize(462,"Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:t.EditorContextKeys.writable})}_modifyText(pe,ue){const ie=de.caseBoundary.get(),se=de.singleLetters.get(),ne=de.underscoreBoundary.get();return!ie||!se||!ne?pe:pe.replace(ne,"$1-$3").replace(ie,"$1-$2").replace(se,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=de,de.caseBoundary=new Z("(\\p{Ll})(\\p{Lu})","gmu"),de.singleLetters=new Z("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),de.underscoreBoundary=new Z("(\\S)(_)(\\S)","gm"),(0,E.registerEditorAction)(p),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(g),(0,E.registerEditorAction)(S),(0,E.registerEditorAction)(_),(0,E.registerEditorAction)(D),(0,E.registerEditorAction)(T),(0,E.registerEditorAction)(N),(0,E.registerEditorAction)(A),(0,E.registerEditorAction)(R),(0,E.registerEditorAction)(M),(0,E.registerEditorAction)(P),(0,E.registerEditorAction)(x),(0,E.registerEditorAction)(O),(0,E.registerEditorAction)(H),(0,E.registerEditorAction)(K),(0,E.registerEditorAction)(V),(0,E.registerEditorAction)(j),(0,E.registerEditorAction)(Y),(0,E.registerEditorAction)(Q),F.caseBoundary.isSupported()&&F.singleLetters.isSupported()&&(0,E.registerEditorAction)(F),J.wordBoundary.isSupported()&&(0,E.registerEditorAction)(J),te.wordBoundary.isSupported()&&(0,E.registerEditorAction)(te),G.titleBoundary.isSupported()&&(0,E.registerEditorAction)(G),de.isSupported()&&(0,E.registerEditorAction)(de)}),define(re[732],ae([1,0,2,15]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class E extends f.Disposable{constructor(y){super(),this._editor=y,this._register(this._editor.onMouseDown(m=>{const w=this._editor.getOption(118);w>=0&&m.target.type===6&&m.target.position.column>=w&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}E.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(E.ID,E,2)}),define(re[183],ae([1,0,192,47,6,55,2,15,5,119,3,12,62,4,535]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let n=i=class{static get(a){return a.getContribution(i.ID)}constructor(a,l,d){this._openerService=d,this._messageWidget=new y.MutableDisposable,this._messageListeners=new y.DisposableStore,this._mouseOverMessage=!1,this._editor=a,this._visible=i.MESSAGE_VISIBLE.bindTo(l)}dispose(){var a;(a=this._message)===null||a===void 0||a.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(a,l){(0,k.alert)((0,I.isMarkdownString)(a)?a.value:a),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,I.isMarkdownString)(a)?(0,f.renderMarkdown)(a,{actionHandler:{callback:p=>{this.closeMessage(),(0,b.openLinkFromMarkdown)(this._openerService,p,(0,I.isMarkdownString)(a)?a.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new u(this._editor,l,typeof a=="string"?a:this._message.element),this._messageListeners.add(E.Event.debounce(this._editor.onDidBlurEditorText,(p,h)=>h,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&t.isAncestor(t.getActiveElement(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(t.addDisposableListener(this._messageWidget.value.getDomNode(),t.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(t.addDisposableListener(this._messageWidget.value.getDomNode(),t.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let d;this._messageListeners.add(this._editor.onMouseMove(p=>{p.target.position&&(d?d.containsPosition(p.target.position)||this.closeMessage():d=new w.Range(l.lineNumber-3,1,p.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(u.fadeOut(this._messageWidget.value))}};e.MessageController=n,n.ID="editor.contrib.messageController",n.MESSAGE_VISIBLE=new s.RawContextKey("messageVisible",!1,v.localize(352,"Whether the editor is currently showing an inline message")),e.MessageController=n=i=ke([ge(1,s.IContextKeyService),ge(2,o.IOpenerService)],n);const c=m.EditorCommand.bindToContribution(n.get);(0,m.registerEditorCommand)(new c({id:"leaveEditorMessage",precondition:n.MESSAGE_VISIBLE,handler:r=>r.closeMessage(),kbOpts:{weight:130,primary:9}}));class u{static fadeOut(a){const l=()=>{a.dispose(),clearTimeout(d),a.getDomNode().removeEventListener("animationend",l)},d=setTimeout(l,110);return a.getDomNode().addEventListener("animationend",l),a.getDomNode().classList.add("fadeOut"),{dispose:l}}constructor(a,{lineNumber:l,column:d},p){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=a,this._editor.revealLinesInCenterIfOutsideViewport(l,l,0),this._position={lineNumber:l,column:d},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const h=document.createElement("div");h.classList.add("anchor","top"),this._domNode.appendChild(h);const g=document.createElement("div");typeof p=="string"?(g.classList.add("message"),g.textContent=p):(p.classList.add("message"),g.appendChild(p)),this._domNode.appendChild(g);const C=document.createElement("div");C.classList.add("anchor","below"),this._domNode.appendChild(C),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(a){this._domNode.classList.toggle("below",a===2)}}(0,m.registerEditorContribution)(n.ID,n,4)}),define(re[733],ae([1,0,55,2,15,183,3]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class m extends k.Disposable{constructor(b){super(),this.editor=b,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const b=I.MessageController.get(this.editor);if(b&&this.editor.hasModel()){let v=this.editor.getOptions().get(93);v||(this.editor.isSimpleWidget?v=new f.MarkdownString(y.localize(349,"Cannot edit in read-only input")):v=new f.MarkdownString(y.localize(350,"Cannot edit in read-only editor"))),b.showMessage(v,this.editor.getPosition())}}}e.ReadOnlyMessageController=m,m.ID="editor.contrib.readOnlyMessageController",(0,E.registerEditorContribution)(m.ID,m,2)}),define(re[734],ae([1,0,13,18,8,15,9,5,23,20,358,644,3,29,24,17,77,19,22]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.SmartSelectController=void 0,e.provideSelectionRanges=C;class l{constructor(_,L){this.index=_,this.ranges=L}mov(_){const L=this.index+(_?1:-1);if(L<0||L>=this.ranges.length)return this;const D=new l(L,this.ranges);return D.ranges[L].equalsRange(this.ranges[this.index])?D.mov(_):D}}let d=a=class{static get(_){return _.getContribution(a.ID)}constructor(_,L){this._editor=_,this._languageFeaturesService=L,this._ignoreSelection=!1}dispose(){var _;(_=this._selectionListener)===null||_===void 0||_.dispose()}async run(_){if(!this._editor.hasModel())return;const L=this._editor.getSelections(),D=this._editor.getModel();if(this._state||await C(this._languageFeaturesService.selectionRangeProvider,D,L.map(N=>N.getPosition()),this._editor.getOption(114),k.CancellationToken.None).then(N=>{var A;if(!(!f.isNonEmptyArray(N)||N.length!==L.length)&&!(!this._editor.hasModel()||!f.equals(this._editor.getSelections(),L,(R,M)=>R.equalsSelection(M)))){for(let R=0;R<N.length;R++)N[R]=N[R].filter(M=>M.containsPosition(L[R].getStartPosition())&&M.containsPosition(L[R].getEndPosition())),N[R].unshift(L[R]);this._state=N.map(R=>new l(0,R)),(A=this._selectionListener)===null||A===void 0||A.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var R;this._ignoreSelection||((R=this._selectionListener)===null||R===void 0||R.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(N=>N.mov(_));const T=this._state.map(N=>w.Selection.fromPositions(N.ranges[N.index].getStartPosition(),N.ranges[N.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}}};e.SmartSelectController=d,d.ID="editor.contrib.smartSelectController",e.SmartSelectController=d=a=ke([ge(1,n.ILanguageFeaturesService)],d);class p extends I.EditorAction{constructor(_,L){super(L),this._forward=_}async run(_,L){const D=d.get(L);D&&await D.run(this._forward)}}class h extends p{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:o.localize(137,"Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:o.localize(138,"&&Expand Selection"),order:2}})}}i.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class g extends p{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:o.localize(139,"Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:o.localize(140,"&&Shrink Selection"),order:3}})}}(0,I.registerEditorContribution)(d.ID,d,4),(0,I.registerEditorAction)(h),(0,I.registerEditorAction)(g);async function C(S,_,L,D,T){const N=S.all(_).concat(new s.WordSelectionRangeProvider(D.selectSubwords));N.length===1&&N.unshift(new v.BracketSelectionRangeProvider);const A=[],R=[];for(const M of N)A.push(Promise.resolve(M.provideSelectionRanges(_,L,T)).then(P=>{if(f.isNonEmptyArray(P)&&P.length===L.length)for(let x=0;x<L.length;x++){R[x]||(R[x]=[]);for(const O of P[x])m.Range.isIRange(O.range)&&m.Range.containsPosition(O.range,L[x])&&R[x].push(m.Range.lift(O.range))}},E.onUnexpectedExternalError));return await Promise.all(A),R.map(M=>{if(M.length===0)return[];M.sort((B,H)=>y.Position.isBefore(B.getStartPosition(),H.getStartPosition())?1:y.Position.isBefore(H.getStartPosition(),B.getStartPosition())||y.Position.isBefore(B.getEndPosition(),H.getEndPosition())?-1:y.Position.isBefore(H.getEndPosition(),B.getEndPosition())?1:0);const P=[];let x;for(const B of M)(!x||m.Range.containsRange(B,x)&&!m.Range.equalsRange(B,x))&&(P.push(B),x=B);if(!D.selectLeadingAndTrailingWhitespace)return P;const O=[P[0]];for(let B=1;B<P.length;B++){const H=P[B-1],K=P[B];if(K.startLineNumber!==H.startLineNumber||K.endLineNumber!==H.endLineNumber){const V=new m.Range(H.startLineNumber,_.getLineFirstNonWhitespaceColumn(H.startLineNumber),H.endLineNumber,_.getLineLastNonWhitespaceColumn(H.endLineNumber));V.containsRange(H)&&!V.equalsRange(H)&&K.containsRange(V)&&!K.equalsRange(V)&&O.push(V);const j=new m.Range(H.startLineNumber,1,H.endLineNumber,_.getLineMaxColumn(H.endLineNumber));j.containsRange(H)&&!j.equalsRange(V)&&K.containsRange(j)&&!K.equalsRange(j)&&O.push(j)}O.push(K)}return O})}i.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(S,..._){const[L,D]=_;(0,u.assertType)(r.URI.isUri(L));const T=S.get(n.ILanguageFeaturesService).selectionRangeProvider,N=await S.get(c.ITextModelService).createModelReference(L);try{return C(T,N.object.textEditorModel,D,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{N.dispose()}})}),define(re[735],ae([1,0,59,15,3]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:E.localize(108,"Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(m,w){if(!w.hasModel())return;const b=w.getModel();b.tokenization.resetTokenization();const v=new f.StopWatch;b.tokenization.forceTokenization(b.getLineCount()),v.stop(),console.log(`tokenization took ${v.elapsed()}`)}}(0,k.registerEditorAction)(I)}),define(re[736],ae([1,0,2,50,15,35,3,178]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const w="ignoreUnusualLineTerminators";function b(o,t,i){o.setModelProperty(t.uri,w,i)}function v(o,t){return o.getModelProperty(t.uri,w)}let s=class extends f.Disposable{constructor(t,i,n){super(),this._editor=t,this._dialogService=i,this._codeEditorService=n,this._isPresentingDialog=!1,this._config=this._editor.getOption(127),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(127)&&(this._config=this._editor.getOption(127),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(c=>{c.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||v(this._codeEditorService,t)===!0||this._editor.getOption(92))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let n;try{this._isPresentingDialog=!0,n=await this._dialogService.confirm({title:y.localize(56,"Unusual Line Terminators"),message:y.localize(57,"Detected unusual line terminators"),detail:y.localize(58,"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,k.basename)(t.uri)),primaryButton:y.localize(59,"&&Remove Unusual Line Terminators"),cancelButton:y.localize(60,"Ignore")})}finally{this._isPresentingDialog=!1}if(!n.confirmed){b(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())}};e.UnusualLineTerminatorsDetector=s,s.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=s=ke([ge(1,m.IDialogService),ge(2,I.ICodeEditorService)],s),(0,E.registerEditorContribution)(s.ID,s,1)}),define(re[409],ae([1,0,15,143,37,76,198,167,9,5,23,20,34,3,60,12,177]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class u extends f.EditorCommand{constructor(G){super(G),this._inSelectionMode=G.inSelectionMode,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,F,J){if(!F.hasModel())return;const te=(0,m.getMapForWordSeparators)(F.getOption(132),F.getOption(131)),de=F.getModel(),he=F.getSelections(),pe=he.length>1,ue=he.map(ie=>{const se=new w.Position(ie.positionLineNumber,ie.positionColumn),ne=this._move(te,de,se,this._wordNavigationType,pe);return this._moveTo(ie,ne,this._inSelectionMode)});if(de.pushStackElement(),F._getViewModel().setCursorStates("moveWordCommand",3,ue.map(ie=>I.CursorState.fromModelSelection(ie))),ue.length===1){const ie=new w.Position(ue[0].positionLineNumber,ue[0].positionColumn);F.revealPosition(ie,0)}}_moveTo(G,F,J){return J?new v.Selection(G.selectionStartLineNumber,G.selectionStartColumn,F.lineNumber,F.column):new v.Selection(F.lineNumber,F.column,F.lineNumber,F.column)}}e.MoveWordCommand=u;class r extends u{_move(G,F,J,te,de){return y.WordOperations.moveWordLeft(G,F,J,te,de)}}e.WordLeftCommand=r;class a extends u{_move(G,F,J,te,de){return y.WordOperations.moveWordRight(G,F,J,te)}}e.WordRightCommand=a;class l extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=l;class d extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=d;class p extends r{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(G=n.ContextKeyExpr.and(i.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=p;class h extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=h;class g extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=g;class C extends r{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(G=n.ContextKeyExpr.and(i.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=C;class S extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(G,F,J,te,de){return super._move((0,m.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,G.intlSegmenterLocales),F,J,te,de)}}e.CursorWordAccessibilityLeft=S;class _ extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(G,F,J,te,de){return super._move((0,m.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,G.intlSegmenterLocales),F,J,te,de)}}e.CursorWordAccessibilityLeftSelect=_;class L extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=L;class D extends a{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(G=n.ContextKeyExpr.and(i.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=D;class T extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class N extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=N;class A extends a{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,(G=n.ContextKeyExpr.and(i.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=A;class R extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=R;class M extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(G,F,J,te,de){return super._move((0,m.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,G.intlSegmenterLocales),F,J,te,de)}}e.CursorWordAccessibilityRight=M;class P extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(G,F,J,te,de){return super._move((0,m.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,G.intlSegmenterLocales),F,J,te,de)}}e.CursorWordAccessibilityRightSelect=P;class x extends f.EditorCommand{constructor(G){super(G),this._whitespaceHeuristics=G.whitespaceHeuristics,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,F,J){const te=G.get(o.ILanguageConfigurationService);if(!F.hasModel())return;const de=(0,m.getMapForWordSeparators)(F.getOption(132),F.getOption(131)),he=F.getModel(),pe=F.getSelections(),ue=F.getOption(6),ie=F.getOption(11),se=te.getLanguageConfiguration(he.getLanguageId()).getAutoClosingPairs(),ne=F._getViewModel(),W=pe.map(q=>{const z=this._delete({wordSeparators:de,model:he,selection:q,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:F.getOption(9),autoClosingBrackets:ue,autoClosingQuotes:ie,autoClosingPairs:se,autoClosedCharacters:ne.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(z,"")});F.pushUndoStop(),F.executeCommands(this.id,W),F.pushUndoStop()}}e.DeleteWordCommand=x;class O extends x{_delete(G,F){const J=y.WordOperations.deleteWordLeft(G,F);return J||new b.Range(1,1,1,1)}}e.DeleteWordLeftCommand=O;class B extends x{_delete(G,F){const J=y.WordOperations.deleteWordRight(G,F);if(J)return J;const te=G.model.getLineCount(),de=G.model.getLineMaxColumn(te);return new b.Range(te,de,te,de)}}e.DeleteWordRightCommand=B;class H extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartLeft=H;class K extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndLeft=K;class V extends O{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=V;class j extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordStartRight=j;class U extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:s.EditorContextKeys.writable})}}e.DeleteWordEndRight=U;class Y extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=Y;class Q extends f.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:s.EditorContextKeys.writable,label:t.localize(107,"Delete Word"),alias:"Delete Word"})}run(G,F,J){if(!F.hasModel())return;const te=(0,m.getMapForWordSeparators)(F.getOption(132),F.getOption(131)),de=F.getModel(),pe=F.getSelections().map(ue=>{const ie=y.WordOperations.deleteInsideWord(te,de,ue);return new k.ReplaceCommand(ie,"")});F.pushUndoStop(),F.executeCommands(this.id,pe),F.pushUndoStop()}}e.DeleteInsideWord=Q,(0,f.registerEditorCommand)(new l),(0,f.registerEditorCommand)(new d),(0,f.registerEditorCommand)(new p),(0,f.registerEditorCommand)(new h),(0,f.registerEditorCommand)(new g),(0,f.registerEditorCommand)(new C),(0,f.registerEditorCommand)(new L),(0,f.registerEditorCommand)(new D),(0,f.registerEditorCommand)(new T),(0,f.registerEditorCommand)(new N),(0,f.registerEditorCommand)(new A),(0,f.registerEditorCommand)(new R),(0,f.registerEditorCommand)(new S),(0,f.registerEditorCommand)(new _),(0,f.registerEditorCommand)(new M),(0,f.registerEditorCommand)(new P),(0,f.registerEditorCommand)(new H),(0,f.registerEditorCommand)(new K),(0,f.registerEditorCommand)(new V),(0,f.registerEditorCommand)(new j),(0,f.registerEditorCommand)(new U),(0,f.registerEditorCommand)(new Y),(0,f.registerEditorAction)(Q)}),define(re[737],ae([1,0,15,198,5,20,409,24]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class w extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(u,r){const a=k.WordPartOperations.deleteWordPartLeft(u);return a||new E.Range(1,1,1,1)}}e.DeleteWordPartLeft=w;class b extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(u,r){const a=k.WordPartOperations.deleteWordPartRight(u);if(a)return a;const l=u.model.getLineCount(),d=u.model.getLineMaxColumn(l);return new E.Range(l,d,l,d)}}e.DeleteWordPartRight=b;class v extends y.MoveWordCommand{_move(u,r,a,l,d){return k.WordPartOperations.moveWordPartLeft(u,r,a,d)}}e.WordPartLeftCommand=v;class s extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=s,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class o extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=o,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class t extends y.MoveWordCommand{_move(u,r,a,l,d){return k.WordPartOperations.moveWordPartRight(u,r,a)}}e.WordPartRightCommand=t;class i extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=i;class n extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=n,(0,f.registerEditorCommand)(new w),(0,f.registerEditorCommand)(new b),(0,f.registerEditorCommand)(new s),(0,f.registerEditorCommand)(new o),(0,f.registerEditorCommand)(new i),(0,f.registerEditorCommand)(new n)}),define(re[738],ae([1,0,4,2,15,548]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class I extends k.Disposable{constructor(w){super(),this.editor=w,this.widget=null}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=I,I.ID="editor.contrib.iPadShowKeyboard";class y extends k.Disposable{constructor(w){super(),this.editor=w,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(f.addDisposableListener(this._domNode,"touchstart",b=>{this.editor.focus()})),this._register(f.addDisposableListener(this._domNode,"focus",b=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return y.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}y.ID="editor.contrib.ShowKeyboardWidget",(0,E.registerEditorContribution)(I.ID,I,3)}),define(re[739],ae([1,0,4,33,2,15,27,145,175,42,150,106,549]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});let t=o=class extends E.Disposable{static get(a){return a.getContribution(o.ID)}constructor(a,l,d){super(),this._editor=a,this._languageService=d,this._widget=null,this._register(this._editor.onDidChangeModel(p=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(p=>this.stop())),this._register(y.TokenizationRegistry.onDidChange(p=>this.stop())),this._register(this._editor.onKeyUp(p=>p.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new u(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};t.ID="editor.contrib.inspectTokens",t=o=ke([ge(1,v.IStandaloneThemeService),ge(2,b.ILanguageService)],t);class i extends I.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:s.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(a,l){const d=t.get(l);d?.launch()}}function n(r){let a="";for(let l=0,d=r.length;l<d;l++){const p=r.charCodeAt(l);switch(p){case 9:a+="\u2192";break;case 32:a+="\xB7";break;default:a+=String.fromCharCode(p)}}return a}function c(r,a){const l=y.TokenizationRegistry.get(a);if(l)return l;const d=r.encodeLanguageId(a);return{getInitialState:()=>w.NullState,tokenize:(p,h,g)=>(0,w.nullTokenize)(a,g),tokenizeEncoded:(p,h,g)=>(0,w.nullTokenizeEncoded)(d,g)}}class u extends E.Disposable{constructor(a,l){super(),this.allowEditorOverflow=!0,this._editor=a,this._languageService=l,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=c(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(d=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return u._ID}_compute(a){const l=this._getTokensAtLine(a.lineNumber);let d=0;for(let S=l.tokens1.length-1;S>=0;S--){const _=l.tokens1[S];if(a.column-1>=_.offset){d=S;break}}let p=0;for(let S=l.tokens2.length>>>1;S>=0;S--)if(a.column-1>=l.tokens2[S<<1]){p=S;break}const h=this._model.getLineContent(a.lineNumber);let g="";if(d<l.tokens1.length){const S=l.tokens1[d].offset,_=d+1<l.tokens1.length?l.tokens1[d+1].offset:h.length;g=h.substring(S,_)}(0,f.reset)(this._domNode,(0,f.$)("h2.tm-token",void 0,n(g),(0,f.$)("span.tm-token-length",void 0,`${g.length} ${g.length===1?"char":"chars"}`))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const C=(p<<1)+1<l.tokens2.length?this._decodeMetadata(l.tokens2[(p<<1)+1]):null;(0,f.append)(this._domNode,(0,f.$)("table.tm-metadata-table",void 0,(0,f.$)("tbody",void 0,(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"language"),(0,f.$)("td.tm-metadata-value",void 0,`${C?C.languageId:"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"token type"),(0,f.$)("td.tm-metadata-value",void 0,`${C?this._tokenTypeToString(C.tokenType):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"font style"),(0,f.$)("td.tm-metadata-value",void 0,`${C?this._fontStyleToString(C.fontStyle):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"foreground"),(0,f.$)("td.tm-metadata-value",void 0,`${C?k.Color.Format.CSS.formatHex(C.foreground):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"background"),(0,f.$)("td.tm-metadata-value",void 0,`${C?k.Color.Format.CSS.formatHex(C.background):"-?-"}`))))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator")),d<l.tokens1.length&&(0,f.append)(this._domNode,(0,f.$)("span.tm-token-type",void 0,l.tokens1[d].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(a){const l=y.TokenizationRegistry.getColorMap(),d=m.TokenMetadata.getLanguageId(a),p=m.TokenMetadata.getTokenType(a),h=m.TokenMetadata.getFontStyle(a),g=m.TokenMetadata.getForeground(a),C=m.TokenMetadata.getBackground(a);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(d),tokenType:p,fontStyle:h,foreground:l[g],background:l[C]}}_tokenTypeToString(a){switch(a){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(a){let l="";return a&1&&(l+="italic "),a&2&&(l+="bold "),a&4&&(l+="underline "),a&8&&(l+="strikethrough "),l.length===0&&(l="---"),l}_getTokensAtLine(a){const l=this._getStateBeforeLine(a),d=this._tokenizationSupport.tokenize(this._model.getLineContent(a),!0,l),p=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(a),!0,l);return{startState:l,tokens1:d.tokens,tokens2:p.tokens,endState:d.endState}}_getStateBeforeLine(a){let l=this._tokenizationSupport.getInitialState();for(let d=1;d<a;d++)l=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,l).endState;return l}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}u._ID="editor.contrib.inspectTokensWidget",(0,I.registerEditorContribution)(t.ID,t,4),(0,I.registerEditorAction)(i)}),define(re[740],ae([1,0,367,8,83,125,2,44,457,3,24,28,178,7,31,61,696,100,64]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";var a,l;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let d=a=class extends c.PickerQuickAccessProvider{constructor(g,C,S,_,L,D){super(a.PREFIX,g),this.instantiationService=C,this.keybindingService=S,this.commandService=_,this.telemetryService=L,this.dialogService=D,this.commandsHistory=this._register(this.instantiationService.createInstance(p)),this.options=g}async _getPicks(g,C,S,_){var L,D,T,N;const A=await this.getCommandPicks(S);if(S.isCancellationRequested)return[];const R=(0,I.createSingleCallFunction)(()=>{const K=new w.TfIdfCalculator;K.updateDocuments(A.map(j=>({key:j.commandId,textChunks:[this.getTfIdfChunk(j)]})));const V=K.calculateScores(g,S);return(0,w.normalizeTfIdfScores)(V).filter(j=>j.score>a.TFIDF_THRESHOLD).slice(0,a.TFIDF_MAX_RESULTS)}),M=[];for(const K of A){const V=(L=a.WORD_FILTER(g,K.label))!==null&&L!==void 0?L:void 0,j=K.commandAlias&&(D=a.WORD_FILTER(g,K.commandAlias))!==null&&D!==void 0?D:void 0;if(V||j)K.highlights={label:V,detail:this.options.showAlias?j:void 0},M.push(K);else if(g===K.commandId)M.push(K);else if(g.length>=3){const U=R();if(S.isCancellationRequested)return[];const Y=U.find(Q=>Q.key===K.commandId);Y&&(K.tfIdfScore=Y.score,M.push(K))}}const P=new Map;for(const K of M){const V=P.get(K.label);V?(K.description=K.commandId,V.description=V.commandId):P.set(K.label,K)}M.sort((K,V)=>{if(K.tfIdfScore&&V.tfIdfScore)return K.tfIdfScore===V.tfIdfScore?K.label.localeCompare(V.label):V.tfIdfScore-K.tfIdfScore;if(K.tfIdfScore)return 1;if(V.tfIdfScore)return-1;const j=this.commandsHistory.peek(K.commandId),U=this.commandsHistory.peek(V.commandId);if(j&&U)return j>U?-1:1;if(j)return-1;if(U)return 1;if(this.options.suggestedCommandIds){const Y=this.options.suggestedCommandIds.has(K.commandId),Q=this.options.suggestedCommandIds.has(V.commandId);if(Y&&Q)return 0;if(Y)return-1;if(Q)return 1}return K.label.localeCompare(V.label)});const x=[];let O=!1,B=!0,H=!!this.options.suggestedCommandIds;for(let K=0;K<M.length;K++){const V=M[K];K===0&&this.commandsHistory.peek(V.commandId)&&(x.push({type:"separator",label:(0,b.localize)(1582,"recently used")}),O=!0),B&&V.tfIdfScore!==void 0&&(x.push({type:"separator",label:(0,b.localize)(1583,"similar commands")}),B=!1),H&&V.tfIdfScore===void 0&&!this.commandsHistory.peek(V.commandId)&&(!((T=this.options.suggestedCommandIds)===null||T===void 0)&&T.has(V.commandId))&&(x.push({type:"separator",label:(0,b.localize)(1584,"commonly used")}),O=!0,H=!1),O&&V.tfIdfScore===void 0&&!this.commandsHistory.peek(V.commandId)&&!(!((N=this.options.suggestedCommandIds)===null||N===void 0)&&N.has(V.commandId))&&(x.push({type:"separator",label:(0,b.localize)(1585,"other commands")}),O=!1),x.push(this.toCommandPick(V,_))}return this.hasAdditionalCommandPicks(g,S)?{picks:x,additionalPicks:(async()=>{var K;const V=await this.getAdditionalCommandPicks(A,M,g,S);if(S.isCancellationRequested)return[];const j=V.map(U=>this.toCommandPick(U,_));return B&&((K=j[0])===null||K===void 0?void 0:K.type)!=="separator"&&j.unshift({type:"separator",label:(0,b.localize)(1586,"similar commands")}),j})()}:x}toCommandPick(g,C){if(g.type==="separator")return g;const S=this.keybindingService.lookupKeybinding(g.commandId),_=S?(0,b.localize)(1587,"{0}, {1}",g.label,S.getAriaLabel()):g.label;return{...g,ariaLabel:_,detail:this.options.showAlias&&g.commandAlias!==g.label?g.commandAlias:void 0,keybinding:S,accept:async()=>{var L,D;this.commandsHistory.push(g.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:g.commandId,from:(L=C?.from)!==null&&L!==void 0?L:"quick open"});try{!((D=g.args)===null||D===void 0)&&D.length?await this.commandService.executeCommand(g.commandId,...g.args):await this.commandService.executeCommand(g.commandId)}catch(T){(0,k.isCancellationError)(T)||this.dialogService.error((0,b.localize)(1588,"Command '{0}' resulted in an error",g.label),(0,f.toErrorMessage)(T))}}}}getTfIdfChunk({label:g,commandAlias:C,commandDescription:S}){let _=g;return C&&C!==g&&(_+=` - ${C}`),S&&S.value!==g&&(_+=` - ${S.value===S.original?S.value:`${S.value} (${S.original})`}`),_}};e.AbstractCommandsQuickAccessProvider=d,d.PREFIX=">",d.TFIDF_THRESHOLD=.5,d.TFIDF_MAX_RESULTS=5,d.WORD_FILTER=(0,E.or)(E.matchesPrefix,E.matchesWords,E.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=d=a=ke([ge(1,t.IInstantiationService),ge(2,i.IKeybindingService),ge(3,v.ICommandService),ge(4,r.ITelemetryService),ge(5,o.IDialogService)],d);let p=l=class extends y.Disposable{constructor(g,C,S){super(),this.storageService=g,this.configurationService=C,this.logService=S,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(g=>this.updateConfiguration(g))),this._register(this.storageService.onWillSaveState(g=>{g.reason===u.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(g){g&&!g.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=l.getConfiguredCommandHistoryLength(this.configurationService),l.cache&&l.cache.limit!==this.configuredCommandsHistoryLength&&(l.cache.limit=this.configuredCommandsHistoryLength,l.hasChanges=!0))}load(){const g=this.storageService.get(l.PREF_KEY_CACHE,0);let C;if(g)try{C=JSON.parse(g)}catch(_){this.logService.error(`[CommandsHistory] invalid data: ${_}`)}const S=l.cache=new m.LRUCache(this.configuredCommandsHistoryLength,1);if(C){let _;C.usesLRU?_=C.entries:_=C.entries.sort((L,D)=>L.value-D.value),_.forEach(L=>S.set(L.key,L.value))}l.counter=this.storageService.getNumber(l.PREF_KEY_COUNTER,0,l.counter)}push(g){l.cache&&(l.cache.set(g,l.counter++),l.hasChanges=!0)}peek(g){var C;return(C=l.cache)===null||C===void 0?void 0:C.peek(g)}saveState(){if(!l.cache||!l.hasChanges)return;const g={usesLRU:!0,entries:[]};l.cache.forEach((C,S)=>g.entries.push({key:S,value:C})),this.storageService.store(l.PREF_KEY_CACHE,JSON.stringify(g),0,0),this.storageService.store(l.PREF_KEY_COUNTER,l.counter,0,0),l.hasChanges=!1}static getConfiguredCommandHistoryLength(g){var C,S;const L=(S=(C=g.getValue().workbench)===null||C===void 0?void 0:C.commandPalette)===null||S===void 0?void 0:S.history;return typeof L=="number"?L:l.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=p,p.DEFAULT_COMMANDS_HISTORY_LENGTH=50,p.PREF_KEY_CACHE="commandPalette.mru.cache",p.PREF_KEY_COUNTER="commandPalette.mru.counter",p.counter=1,p.hasChanges=!1,e.CommandsHistory=p=l=ke([ge(0,u.IStorageService),ge(1,s.IConfigurationService),ge(2,n.ILogService)],p)}),define(re[741],ae([1,0,139,377,740]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class I extends E.AbstractCommandsQuickAccessProvider{constructor(m,w,b,v,s,o){super(m,w,b,v,s,o)}getCodeEditorCommandPicks(){var m;const w=this.activeTextEditorControl;if(!w)return[];const b=[];for(const v of w.getSupportedActions()){let s;!((m=v.metadata)===null||m===void 0)&&m.description&&((0,k.isLocalizedString)(v.metadata.description)?s=v.metadata.description:s={original:v.metadata.description,value:v.metadata.description}),b.push({commandId:v.id,commandAlias:v.alias,commandDescription:s,label:(0,f.stripIcons)(v.label)||v.id})}return b}}e.AbstractEditorCommandsQuickAccessProvider=I}),define(re[742],ae([1,0,38,152,106,35,741,7,31,24,64,178,15,20,63]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let n=class extends y.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var r;return(r=this.codeEditorService.getFocusedCodeEditor())!==null&&r!==void 0?r:void 0}constructor(r,a,l,d,p,h){super({showAlias:!1},r,l,d,p,h),this.codeEditorService=a}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};e.StandaloneCommandsQuickAccessProvider=n,e.StandaloneCommandsQuickAccessProvider=n=ke([ge(0,m.IInstantiationService),ge(1,I.ICodeEditorService),ge(2,w.IKeybindingService),ge(3,b.ICommandService),ge(4,v.ITelemetryService),ge(5,s.IDialogService)],n);class c extends o.EditorAction{constructor(){super({id:c.ID,label:E.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:t.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(r){r.get(i.IQuickInputService).quickAccess.show(n.PREFIX)}}e.GotoLineAction=c,c.ID="editor.action.quickCommand",(0,o.registerEditorAction)(c),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:n.PREFIX,helpEntries:[{description:E.QuickCommandNLS.quickCommandHelp,commandId:c.ID}]})}),define(re[88],ae([1,0,89,14,33,6,270,38,3]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.DEFAULT_COLOR_CONFIG_VALUE=e.Extensions=void 0,e.asCssVariableName=b,e.asCssVariable=v,e.asCssVariableWithDefault=s,e.isColorDefaults=o,e.registerColor=n,e.executeTransform=c,e.darken=u,e.lighten=r,e.transparent=a,e.oneOf=l,e.ifDefinedThenElse=d,e.lessProminent=p,e.resolveColorValue=h;function b(S){return`--vscode-${S.replace(/\./g,"-")}`}function v(S){return`var(${b(S)})`}function s(S,_){return`var(${b(S)}, ${_})`}function o(S){return S!==null&&typeof S=="object"&&"light"in S&&"dark"in S}e.Extensions={ColorContribution:"base.contributions.colors"},e.DEFAULT_COLOR_CONFIG_VALUE="default";class t{constructor(){this._onDidChangeSchema=new I.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(_,L,D,T=!1,N){const A={id:_,description:D,defaults:L,needsTransparency:T,deprecationMessage:N};this.colorsById[_]=A;const R={type:"string",description:D,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return N&&(R.deprecationMessage=N),T&&(R.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",R.patternErrorMessage=w.localize(1560,"This color must be transparent or it will obscure content")),this.colorSchema.properties[_]={oneOf:[R,{type:"string",const:e.DEFAULT_COLOR_CONFIG_VALUE,description:w.localize(1561,"Use the default color.")}]},this.colorReferenceSchema.enum.push(_),this.colorReferenceSchema.enumDescriptions.push(D),this._onDidChangeSchema.fire(),_}getColors(){return Object.keys(this.colorsById).map(_=>this.colorsById[_])}resolveDefaultColor(_,L){const D=this.colorsById[_];if(D?.defaults){const T=o(D.defaults)?D.defaults[L.type]:D.defaults;return h(T,L)}}getColorSchema(){return this.colorSchema}toString(){const _=(L,D)=>{const T=L.indexOf(".")===-1?0:1,N=D.indexOf(".")===-1?0:1;return T!==N?T-N:L.localeCompare(D)};return Object.keys(this.colorsById).sort(_).map(L=>`- \`${L}\`: ${this.colorsById[L].description}`).join(`
`)}}const i=new t;m.Registry.add(e.Extensions.ColorContribution,i);function n(S,_,L,D,T){return i.registerColor(S,_,L,D,T)}function c(S,_){var L,D,T,N;switch(S.op){case 0:return(L=h(S.value,_))===null||L===void 0?void 0:L.darken(S.factor);case 1:return(D=h(S.value,_))===null||D===void 0?void 0:D.lighten(S.factor);case 2:return(T=h(S.value,_))===null||T===void 0?void 0:T.transparent(S.factor);case 3:{const A=h(S.background,_);return A?(N=h(S.value,_))===null||N===void 0?void 0:N.makeOpaque(A):h(S.value,_)}case 4:for(const A of S.values){const R=h(A,_);if(R)return R}return;case 6:return h(_.defines(S.if)?S.then:S.else,_);case 5:{const A=h(S.value,_);if(!A)return;const R=h(S.background,_);return R?A.isDarkerThan(R)?E.Color.getLighterColor(A,R,S.factor).transparent(S.transparency):E.Color.getDarkerColor(A,R,S.factor).transparent(S.transparency):A.transparent(S.factor*S.transparency)}default:throw(0,f.assertNever)(S)}}function u(S,_){return{op:0,value:S,factor:_}}function r(S,_){return{op:1,value:S,factor:_}}function a(S,_){return{op:2,value:S,factor:_}}function l(...S){return{op:4,values:S}}function d(S,_,L){return{op:6,if:S,then:_,else:L}}function p(S,_,L,D){return{op:5,value:S,background:_,factor:L,transparency:D}}function h(S,_){if(S!==null){if(typeof S=="string")return S[0]==="#"?E.Color.fromHex(S):_.getColor(S);if(S instanceof E.Color)return S;if(typeof S=="object")return c(S,_)}}e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const g=m.Registry.as(y.Extensions.JSONContribution);g.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const C=new k.RunOnceScheduler(()=>g.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{C.isScheduled()||C.schedule()})}),define(re[122],ae([1,0,3,33,88]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatBackground=e.textPreformatForeground=e.textSeparatorForeground=e.textLinkActiveForeground=e.textLinkForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=void 0,e.foreground=(0,E.registerColor)("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(995,"Overall foreground color. This color is only used if not overridden by a component.")),e.disabledForeground=(0,E.registerColor)("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},f.localize(996,"Overall foreground for disabled elements. This color is only used if not overridden by a component.")),e.errorForeground=(0,E.registerColor)("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(997,"Overall foreground color for error messages. This color is only used if not overridden by a component.")),e.descriptionForeground=(0,E.registerColor)("descriptionForeground",{light:"#717171",dark:(0,E.transparent)(e.foreground,.7),hcDark:(0,E.transparent)(e.foreground,.7),hcLight:(0,E.transparent)(e.foreground,.7)},f.localize(998,"Foreground color for description text providing additional information, for example for a label.")),e.iconForeground=(0,E.registerColor)("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(999,"The default color for icons in the workbench.")),e.focusBorder=(0,E.registerColor)("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},f.localize(1e3,"Overall border color for focused elements. This color is only used if not overridden by a component.")),e.contrastBorder=(0,E.registerColor)("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},f.localize(1001,"An extra border around elements to separate them from others for greater contrast.")),e.activeContrastBorder=(0,E.registerColor)("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},f.localize(1002,"An extra border around active elements to separate them from others for greater contrast.")),e.selectionBackground=(0,E.registerColor)("selection.background",null,f.localize(1003,"The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),e.textLinkForeground=(0,E.registerColor)("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(1004,"Foreground color for links in text.")),e.textLinkActiveForeground=(0,E.registerColor)("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(1005,"Foreground color for links in text when clicked on and on mouse hover.")),e.textSeparatorForeground=(0,E.registerColor)("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},f.localize(1006,"Color for text separators.")),e.textPreformatForeground=(0,E.registerColor)("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},f.localize(1007,"Foreground color for preformatted text segments.")),e.textPreformatBackground=(0,E.registerColor)("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},f.localize(1008,"Background color for preformatted text segments.")),e.textBlockQuoteBackground=(0,E.registerColor)("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},f.localize(1009,"Background color for block quotes in text.")),e.textBlockQuoteBorder=(0,E.registerColor)("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},f.localize(1010,"Border color for block quotes in text.")),e.textCodeBlockBackground=(0,E.registerColor)("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},f.localize(1011,"Background color for code blocks in text."))}),define(re[276],ae([1,0,3,33,88,122]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.sashHoverBorder=void 0,e.sashHoverBorder=(0,E.registerColor)("sash.hoverBorder",I.focusBorder,f.localize(798,"Border color of active sashes.")),e.badgeBackground=(0,E.registerColor)("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},f.localize(799,"Badge background color. Badges are small information labels, e.g. for search results count.")),e.badgeForeground=(0,E.registerColor)("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},f.localize(800,"Badge foreground color. Badges are small information labels, e.g. for search results count.")),e.scrollbarShadow=(0,E.registerColor)("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},f.localize(801,"Scrollbar shadow to indicate that the view is scrolled.")),e.scrollbarSliderBackground=(0,E.registerColor)("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:(0,E.transparent)(I.contrastBorder,.6),hcLight:(0,E.transparent)(I.contrastBorder,.4)},f.localize(802,"Scrollbar slider background color.")),e.scrollbarSliderHoverBackground=(0,E.registerColor)("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:(0,E.transparent)(I.contrastBorder,.8),hcLight:(0,E.transparent)(I.contrastBorder,.8)},f.localize(803,"Scrollbar slider background color when hovering.")),e.scrollbarSliderActiveBackground=(0,E.registerColor)("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(804,"Scrollbar slider background color when clicked on.")),e.progressBarBackground=(0,E.registerColor)("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(805,"Background color of the progress bar that can show for long running operations."))}),define(re[135],ae([1,0,3,33,88,122,276]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.widgetBorder=e.widgetShadow=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.editorLightBulbAiForeground=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlightForeground=e.editorFindMatchHighlight=e.editorFindMatchForeground=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.editorActiveLinkForeground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollShadow=e.editorStickyScrollBorder=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=void 0,e.editorBackground=(0,E.registerColor)("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(894,"Editor background color.")),e.editorForeground=(0,E.registerColor)("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:I.foreground},f.localize(895,"Editor default foreground color.")),e.editorStickyScrollBackground=(0,E.registerColor)("editorStickyScroll.background",e.editorBackground,f.localize(896,"Background color of sticky scroll in the editor")),e.editorStickyScrollHoverBackground=(0,E.registerColor)("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(897,"Background color of sticky scroll on hover in the editor")),e.editorStickyScrollBorder=(0,E.registerColor)("editorStickyScroll.border",{dark:null,light:null,hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(898,"Border color of sticky scroll in the editor")),e.editorStickyScrollShadow=(0,E.registerColor)("editorStickyScroll.shadow",y.scrollbarShadow,f.localize(899," Shadow color of sticky scroll in the editor")),e.editorWidgetBackground=(0,E.registerColor)("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},f.localize(900,"Background color of editor widgets, such as find/replace.")),e.editorWidgetForeground=(0,E.registerColor)("editorWidget.foreground",I.foreground,f.localize(901,"Foreground color of editor widgets, such as find/replace.")),e.editorWidgetBorder=(0,E.registerColor)("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(902,"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),e.editorWidgetResizeBorder=(0,E.registerColor)("editorWidget.resizeBorder",null,f.localize(903,"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),e.editorErrorBackground=(0,E.registerColor)("editorError.background",null,f.localize(904,"Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorErrorForeground=(0,E.registerColor)("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(905,"Foreground color of error squigglies in the editor.")),e.editorErrorBorder=(0,E.registerColor)("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},f.localize(906,"If set, color of double underlines for errors in the editor.")),e.editorWarningBackground=(0,E.registerColor)("editorWarning.background",null,f.localize(907,"Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorWarningForeground=(0,E.registerColor)("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},f.localize(908,"Foreground color of warning squigglies in the editor.")),e.editorWarningBorder=(0,E.registerColor)("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},f.localize(909,"If set, color of double underlines for warnings in the editor.")),e.editorInfoBackground=(0,E.registerColor)("editorInfo.background",null,f.localize(910,"Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorInfoForeground=(0,E.registerColor)("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},f.localize(911,"Foreground color of info squigglies in the editor.")),e.editorInfoBorder=(0,E.registerColor)("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},f.localize(912,"If set, color of double underlines for infos in the editor.")),e.editorHintForeground=(0,E.registerColor)("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},f.localize(913,"Foreground color of hint squigglies in the editor.")),e.editorHintBorder=(0,E.registerColor)("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},f.localize(914,"If set, color of double underlines for hints in the editor.")),e.editorActiveLinkForeground=(0,E.registerColor)("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},f.localize(915,"Color of active links.")),e.editorSelectionBackground=(0,E.registerColor)("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},f.localize(916,"Color of the editor selection.")),e.editorSelectionForeground=(0,E.registerColor)("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},f.localize(917,"Color of the selected text for high contrast.")),e.editorInactiveSelection=(0,E.registerColor)("editor.inactiveSelectionBackground",{light:(0,E.transparent)(e.editorSelectionBackground,.5),dark:(0,E.transparent)(e.editorSelectionBackground,.5),hcDark:(0,E.transparent)(e.editorSelectionBackground,.7),hcLight:(0,E.transparent)(e.editorSelectionBackground,.5)},f.localize(918,"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorSelectionHighlight=(0,E.registerColor)("editor.selectionHighlightBackground",{light:(0,E.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:(0,E.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},f.localize(919,"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorSelectionHighlightBorder=(0,E.registerColor)("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:I.activeContrastBorder,hcLight:I.activeContrastBorder},f.localize(920,"Border color for regions with the same content as the selection.")),e.editorFindMatch=(0,E.registerColor)("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},f.localize(921,"Color of the current search match.")),e.editorFindMatchForeground=(0,E.registerColor)("editor.findMatchForeground",null,f.localize(922,"Text color of the current search match.")),e.editorFindMatchHighlight=(0,E.registerColor)("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},f.localize(923,"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorFindMatchHighlightForeground=(0,E.registerColor)("editor.findMatchHighlightForeground",null,f.localize(924,"Foreground color of the other search matches."),!0),e.editorFindRangeHighlight=(0,E.registerColor)("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},f.localize(925,"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorFindMatchBorder=(0,E.registerColor)("editor.findMatchBorder",{light:null,dark:null,hcDark:I.activeContrastBorder,hcLight:I.activeContrastBorder},f.localize(926,"Border color of the current search match.")),e.editorFindMatchHighlightBorder=(0,E.registerColor)("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:I.activeContrastBorder,hcLight:I.activeContrastBorder},f.localize(927,"Border color of the other search matches.")),e.editorFindRangeHighlightBorder=(0,E.registerColor)("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:(0,E.transparent)(I.activeContrastBorder,.4),hcLight:(0,E.transparent)(I.activeContrastBorder,.4)},f.localize(928,"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorHoverHighlight=(0,E.registerColor)("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},f.localize(929,"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorHoverBackground=(0,E.registerColor)("editorHoverWidget.background",e.editorWidgetBackground,f.localize(930,"Background color of the editor hover.")),e.editorHoverForeground=(0,E.registerColor)("editorHoverWidget.foreground",e.editorWidgetForeground,f.localize(931,"Foreground color of the editor hover.")),e.editorHoverBorder=(0,E.registerColor)("editorHoverWidget.border",e.editorWidgetBorder,f.localize(932,"Border color of the editor hover.")),e.editorHoverStatusBarBackground=(0,E.registerColor)("editorHoverWidget.statusBarBackground",{dark:(0,E.lighten)(e.editorHoverBackground,.2),light:(0,E.darken)(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(933,"Background color of the editor hover status bar.")),e.editorInlayHintForeground=(0,E.registerColor)("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.Color.white,hcLight:k.Color.black},f.localize(934,"Foreground color of inline hints")),e.editorInlayHintBackground=(0,E.registerColor)("editorInlayHint.background",{dark:(0,E.transparent)(y.badgeBackground,.1),light:(0,E.transparent)(y.badgeBackground,.1),hcDark:(0,E.transparent)(k.Color.white,.1),hcLight:(0,E.transparent)(y.badgeBackground,.1)},f.localize(935,"Background color of inline hints")),e.editorInlayHintTypeForeground=(0,E.registerColor)("editorInlayHint.typeForeground",e.editorInlayHintForeground,f.localize(936,"Foreground color of inline hints for types")),e.editorInlayHintTypeBackground=(0,E.registerColor)("editorInlayHint.typeBackground",e.editorInlayHintBackground,f.localize(937,"Background color of inline hints for types")),e.editorInlayHintParameterForeground=(0,E.registerColor)("editorInlayHint.parameterForeground",e.editorInlayHintForeground,f.localize(938,"Foreground color of inline hints for parameters")),e.editorInlayHintParameterBackground=(0,E.registerColor)("editorInlayHint.parameterBackground",e.editorInlayHintBackground,f.localize(939,"Background color of inline hints for parameters")),e.editorLightBulbForeground=(0,E.registerColor)("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},f.localize(940,"The color used for the lightbulb actions icon.")),e.editorLightBulbAutoFixForeground=(0,E.registerColor)("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f.localize(941,"The color used for the lightbulb auto fix actions icon.")),e.editorLightBulbAiForeground=(0,E.registerColor)("editorLightBulbAi.foreground",e.editorLightBulbForeground,f.localize(942,"The color used for the lightbulb AI icon.")),e.snippetTabstopHighlightBackground=(0,E.registerColor)("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},f.localize(943,"Highlight background color of a snippet tabstop.")),e.snippetTabstopHighlightBorder=(0,E.registerColor)("editor.snippetTabstopHighlightBorder",null,f.localize(944,"Highlight border color of a snippet tabstop.")),e.snippetFinalTabstopHighlightBackground=(0,E.registerColor)("editor.snippetFinalTabstopHighlightBackground",null,f.localize(945,"Highlight background color of the final tabstop of a snippet.")),e.snippetFinalTabstopHighlightBorder=(0,E.registerColor)("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},f.localize(946,"Highlight border color of the final tabstop of a snippet.")),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=(0,E.registerColor)("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},f.localize(947,"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),e.diffRemoved=(0,E.registerColor)("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},f.localize(948,"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),e.diffInsertedLine=(0,E.registerColor)("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},f.localize(949,"Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),e.diffRemovedLine=(0,E.registerColor)("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},f.localize(950,"Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),e.diffInsertedLineGutter=(0,E.registerColor)("diffEditorGutter.insertedLineBackground",null,f.localize(951,"Background color for the margin where lines got inserted.")),e.diffRemovedLineGutter=(0,E.registerColor)("diffEditorGutter.removedLineBackground",null,f.localize(952,"Background color for the margin where lines got removed.")),e.diffOverviewRulerInserted=(0,E.registerColor)("diffEditorOverview.insertedForeground",null,f.localize(953,"Diff overview ruler foreground for inserted content.")),e.diffOverviewRulerRemoved=(0,E.registerColor)("diffEditorOverview.removedForeground",null,f.localize(954,"Diff overview ruler foreground for removed content.")),e.diffInsertedOutline=(0,E.registerColor)("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},f.localize(955,"Outline color for the text that got inserted.")),e.diffRemovedOutline=(0,E.registerColor)("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},f.localize(956,"Outline color for text that got removed.")),e.diffBorder=(0,E.registerColor)("diffEditor.border",{dark:null,light:null,hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(957,"Border color between the two text editors.")),e.diffDiagonalFill=(0,E.registerColor)("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},f.localize(958,"Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),e.diffUnchangedRegionBackground=(0,E.registerColor)("diffEditor.unchangedRegionBackground","sideBar.background",f.localize(959,"The background color of unchanged blocks in the diff editor.")),e.diffUnchangedRegionForeground=(0,E.registerColor)("diffEditor.unchangedRegionForeground","foreground",f.localize(960,"The foreground color of unchanged blocks in the diff editor.")),e.diffUnchangedTextBackground=(0,E.registerColor)("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},f.localize(961,"The background color of unchanged code in the diff editor.")),e.widgetShadow=(0,E.registerColor)("widget.shadow",{dark:(0,E.transparent)(k.Color.black,.36),light:(0,E.transparent)(k.Color.black,.16),hcDark:null,hcLight:null},f.localize(962,"Shadow color of widgets such as find/replace inside the editor.")),e.widgetBorder=(0,E.registerColor)("widget.border",{dark:null,light:null,hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(963,"Border color of widgets such as find/replace inside the editor.")),e.toolbarHoverBackground=(0,E.registerColor)("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(964,"Toolbar background when hovering over actions using the mouse")),e.toolbarHoverOutline=(0,E.registerColor)("toolbar.hoverOutline",{dark:null,light:null,hcDark:I.activeContrastBorder,hcLight:I.activeContrastBorder},f.localize(965,"Toolbar outline when hovering over actions using the mouse")),e.toolbarActiveBackground=(0,E.registerColor)("toolbar.activeBackground",{dark:(0,E.lighten)(e.toolbarHoverBackground,.1),light:(0,E.darken)(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},f.localize(966,"Toolbar background when holding the mouse over actions")),e.breadcrumbsForeground=(0,E.registerColor)("breadcrumb.foreground",(0,E.transparent)(I.foreground,.8),f.localize(967,"Color of focused breadcrumb items.")),e.breadcrumbsBackground=(0,E.registerColor)("breadcrumb.background",e.editorBackground,f.localize(968,"Background color of breadcrumb items.")),e.breadcrumbsFocusForeground=(0,E.registerColor)("breadcrumb.focusForeground",{light:(0,E.darken)(I.foreground,.2),dark:(0,E.lighten)(I.foreground,.1),hcDark:(0,E.lighten)(I.foreground,.1),hcLight:(0,E.lighten)(I.foreground,.1)},f.localize(969,"Color of focused breadcrumb items.")),e.breadcrumbsActiveSelectionForeground=(0,E.registerColor)("breadcrumb.activeSelectionForeground",{light:(0,E.darken)(I.foreground,.2),dark:(0,E.lighten)(I.foreground,.1),hcDark:(0,E.lighten)(I.foreground,.1),hcLight:(0,E.lighten)(I.foreground,.1)},f.localize(970,"Color of selected breadcrumb items.")),e.breadcrumbsPickerBackground=(0,E.registerColor)("breadcrumbPicker.background",e.editorWidgetBackground,f.localize(971,"Background color of breadcrumb item picker."));const m=.5,w=k.Color.fromHex("#40C8AE").transparent(m),b=k.Color.fromHex("#40A6FF").transparent(m),v=k.Color.fromHex("#606060").transparent(.4),s=.4,o=1;e.mergeCurrentHeaderBackground=(0,E.registerColor)("merge.currentHeaderBackground",{dark:w,light:w,hcDark:null,hcLight:null},f.localize(972,"Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),e.mergeCurrentContentBackground=(0,E.registerColor)("merge.currentContentBackground",(0,E.transparent)(e.mergeCurrentHeaderBackground,s),f.localize(973,"Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),e.mergeIncomingHeaderBackground=(0,E.registerColor)("merge.incomingHeaderBackground",{dark:b,light:b,hcDark:null,hcLight:null},f.localize(974,"Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),e.mergeIncomingContentBackground=(0,E.registerColor)("merge.incomingContentBackground",(0,E.transparent)(e.mergeIncomingHeaderBackground,s),f.localize(975,"Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),e.mergeCommonHeaderBackground=(0,E.registerColor)("merge.commonHeaderBackground",{dark:v,light:v,hcDark:null,hcLight:null},f.localize(976,"Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),e.mergeCommonContentBackground=(0,E.registerColor)("merge.commonContentBackground",(0,E.transparent)(e.mergeCommonHeaderBackground,s),f.localize(977,"Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),e.mergeBorder=(0,E.registerColor)("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},f.localize(978,"Border color on headers and the splitter in inline merge-conflicts.")),e.overviewRulerCurrentContentForeground=(0,E.registerColor)("editorOverviewRuler.currentContentForeground",{dark:(0,E.transparent)(e.mergeCurrentHeaderBackground,o),light:(0,E.transparent)(e.mergeCurrentHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(979,"Current overview ruler foreground for inline merge-conflicts.")),e.overviewRulerIncomingContentForeground=(0,E.registerColor)("editorOverviewRuler.incomingContentForeground",{dark:(0,E.transparent)(e.mergeIncomingHeaderBackground,o),light:(0,E.transparent)(e.mergeIncomingHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(980,"Incoming overview ruler foreground for inline merge-conflicts.")),e.overviewRulerCommonContentForeground=(0,E.registerColor)("editorOverviewRuler.commonContentForeground",{dark:(0,E.transparent)(e.mergeCommonHeaderBackground,o),light:(0,E.transparent)(e.mergeCommonHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(981,"Common ancestor overview ruler foreground for inline merge-conflicts.")),e.overviewRulerFindMatchForeground=(0,E.registerColor)("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},f.localize(982,"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),e.overviewRulerSelectionHighlightForeground=(0,E.registerColor)("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",f.localize(983,"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),e.problemsErrorIconForeground=(0,E.registerColor)("problemsErrorIcon.foreground",e.editorErrorForeground,f.localize(984,"The color used for the problems error icon.")),e.problemsWarningIconForeground=(0,E.registerColor)("problemsWarningIcon.foreground",e.editorWarningForeground,f.localize(985,"The color used for the problems warning icon.")),e.problemsInfoIconForeground=(0,E.registerColor)("problemsInfoIcon.foreground",e.editorInfoForeground,f.localize(986,"The color used for the problems info icon."))}),define(re[410],ae([1,0,3,33,88,122,135]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=void 0,e.inputBackground=(0,E.registerColor)("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(856,"Input box background.")),e.inputForeground=(0,E.registerColor)("input.foreground",I.foreground,f.localize(857,"Input box foreground.")),e.inputBorder=(0,E.registerColor)("input.border",{dark:null,light:null,hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(858,"Input box border.")),e.inputActiveOptionBorder=(0,E.registerColor)("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(859,"Border color of activated options in input fields.")),e.inputActiveOptionHoverBackground=(0,E.registerColor)("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(860,"Background color of activated options in input fields.")),e.inputActiveOptionBackground=(0,E.registerColor)("inputOption.activeBackground",{dark:(0,E.transparent)(I.focusBorder,.4),light:(0,E.transparent)(I.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(861,"Background hover color of options in input fields.")),e.inputActiveOptionForeground=(0,E.registerColor)("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:I.foreground,hcLight:I.foreground},f.localize(862,"Foreground color of activated options in input fields.")),e.inputPlaceholderForeground=(0,E.registerColor)("input.placeholderForeground",{light:(0,E.transparent)(I.foreground,.5),dark:(0,E.transparent)(I.foreground,.5),hcDark:(0,E.transparent)(I.foreground,.7),hcLight:(0,E.transparent)(I.foreground,.7)},f.localize(863,"Input box foreground color for placeholder text.")),e.inputValidationInfoBackground=(0,E.registerColor)("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(864,"Input validation background color for information severity.")),e.inputValidationInfoForeground=(0,E.registerColor)("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:I.foreground},f.localize(865,"Input validation foreground color for information severity.")),e.inputValidationInfoBorder=(0,E.registerColor)("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(866,"Input validation border color for information severity.")),e.inputValidationWarningBackground=(0,E.registerColor)("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(867,"Input validation background color for warning severity.")),e.inputValidationWarningForeground=(0,E.registerColor)("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:I.foreground},f.localize(868,"Input validation foreground color for warning severity.")),e.inputValidationWarningBorder=(0,E.registerColor)("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(869,"Input validation border color for warning severity.")),e.inputValidationErrorBackground=(0,E.registerColor)("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(870,"Input validation background color for error severity.")),e.inputValidationErrorForeground=(0,E.registerColor)("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:I.foreground},f.localize(871,"Input validation foreground color for error severity.")),e.inputValidationErrorBorder=(0,E.registerColor)("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(872,"Input validation border color for error severity.")),e.selectBackground=(0,E.registerColor)("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(873,"Dropdown background.")),e.selectListBackground=(0,E.registerColor)("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(874,"Dropdown list background.")),e.selectForeground=(0,E.registerColor)("dropdown.foreground",{dark:"#F0F0F0",light:I.foreground,hcDark:k.Color.white,hcLight:I.foreground},f.localize(875,"Dropdown foreground.")),e.selectBorder=(0,E.registerColor)("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(876,"Dropdown border.")),e.buttonForeground=(0,E.registerColor)("button.foreground",k.Color.white,f.localize(877,"Button foreground color.")),e.buttonSeparator=(0,E.registerColor)("button.separator",(0,E.transparent)(e.buttonForeground,.4),f.localize(878,"Button separator color.")),e.buttonBackground=(0,E.registerColor)("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},f.localize(879,"Button background color.")),e.buttonHoverBackground=(0,E.registerColor)("button.hoverBackground",{dark:(0,E.lighten)(e.buttonBackground,.2),light:(0,E.darken)(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},f.localize(880,"Button background color when hovering.")),e.buttonBorder=(0,E.registerColor)("button.border",I.contrastBorder,f.localize(881,"Button border color.")),e.buttonSecondaryForeground=(0,E.registerColor)("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:I.foreground},f.localize(882,"Secondary button foreground color.")),e.buttonSecondaryBackground=(0,E.registerColor)("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},f.localize(883,"Secondary button background color.")),e.buttonSecondaryHoverBackground=(0,E.registerColor)("button.secondaryHoverBackground",{dark:(0,E.lighten)(e.buttonSecondaryBackground,.2),light:(0,E.darken)(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},f.localize(884,"Secondary button background color when hovering.")),e.checkboxBackground=(0,E.registerColor)("checkbox.background",e.selectBackground,f.localize(885,"Background color of checkbox widget.")),e.checkboxSelectBackground=(0,E.registerColor)("checkbox.selectBackground",y.editorWidgetBackground,f.localize(886,"Background color of checkbox widget when the element it's in is selected.")),e.checkboxForeground=(0,E.registerColor)("checkbox.foreground",e.selectForeground,f.localize(887,"Foreground color of checkbox widget.")),e.checkboxBorder=(0,E.registerColor)("checkbox.border",e.selectBorder,f.localize(888,"Border color of checkbox widget.")),e.checkboxSelectBorder=(0,E.registerColor)("checkbox.selectBorder",I.iconForeground,f.localize(889,"Border color of checkbox widget when the element it's in is selected.")),e.keybindingLabelBackground=(0,E.registerColor)("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(890,"Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),e.keybindingLabelForeground=(0,E.registerColor)("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:I.foreground},f.localize(891,"Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),e.keybindingLabelBorder=(0,E.registerColor)("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:I.contrastBorder},f.localize(892,"Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),e.keybindingLabelBottomBorder=(0,E.registerColor)("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:I.foreground},f.localize(893,"Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."))}),define(re[277],ae([1,0,3,33,88,122,135]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listDeemphasizedForeground=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBetweenBackground=e.listDropOverBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=void 0,e.listFocusBackground=(0,E.registerColor)("list.focusBackground",null,f.localize(824,"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),e.listFocusForeground=(0,E.registerColor)("list.focusForeground",null,f.localize(825,"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),e.listFocusOutline=(0,E.registerColor)("list.focusOutline",{dark:I.focusBorder,light:I.focusBorder,hcDark:I.activeContrastBorder,hcLight:I.activeContrastBorder},f.localize(826,"List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),e.listFocusAndSelectionOutline=(0,E.registerColor)("list.focusAndSelectionOutline",null,f.localize(827,"List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),e.listActiveSelectionBackground=(0,E.registerColor)("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(828,"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),e.listActiveSelectionForeground=(0,E.registerColor)("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},f.localize(829,"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),e.listActiveSelectionIconForeground=(0,E.registerColor)("list.activeSelectionIconForeground",null,f.localize(830,"List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),e.listInactiveSelectionBackground=(0,E.registerColor)("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(831,"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),e.listInactiveSelectionForeground=(0,E.registerColor)("list.inactiveSelectionForeground",null,f.localize(832,"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),e.listInactiveSelectionIconForeground=(0,E.registerColor)("list.inactiveSelectionIconForeground",null,f.localize(833,"List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),e.listInactiveFocusBackground=(0,E.registerColor)("list.inactiveFocusBackground",null,f.localize(834,"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),e.listInactiveFocusOutline=(0,E.registerColor)("list.inactiveFocusOutline",null,f.localize(835,"List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),e.listHoverBackground=(0,E.registerColor)("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(836,"List/Tree background when hovering over items using the mouse.")),e.listHoverForeground=(0,E.registerColor)("list.hoverForeground",null,f.localize(837,"List/Tree foreground when hovering over items using the mouse.")),e.listDropOverBackground=(0,E.registerColor)("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},f.localize(838,"List/Tree drag and drop background when moving items over other items when using the mouse.")),e.listDropBetweenBackground=(0,E.registerColor)("list.dropBetweenBackground",{dark:I.iconForeground,light:I.iconForeground,hcDark:null,hcLight:null},f.localize(839,"List/Tree drag and drop border color when moving items between items when using the mouse.")),e.listHighlightForeground=(0,E.registerColor)("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:I.focusBorder,hcLight:I.focusBorder},f.localize(840,"List/Tree foreground color of the match highlights when searching inside the list/tree.")),e.listFocusHighlightForeground=(0,E.registerColor)("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:(0,E.ifDefinedThenElse)(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},f.localize(841,"List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),e.listInvalidItemForeground=(0,E.registerColor)("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},f.localize(842,"List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),e.listErrorForeground=(0,E.registerColor)("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},f.localize(843,"Foreground color of list items containing errors.")),e.listWarningForeground=(0,E.registerColor)("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},f.localize(844,"Foreground color of list items containing warnings.")),e.listFilterWidgetBackground=(0,E.registerColor)("listFilterWidget.background",{light:(0,E.darken)(y.editorWidgetBackground,0),dark:(0,E.lighten)(y.editorWidgetBackground,0),hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},f.localize(845,"Background color of the type filter widget in lists and trees.")),e.listFilterWidgetOutline=(0,E.registerColor)("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},f.localize(846,"Outline color of the type filter widget in lists and trees.")),e.listFilterWidgetNoMatchesOutline=(0,E.registerColor)("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:I.contrastBorder,hcLight:I.contrastBorder},f.localize(847,"Outline color of the type filter widget in lists and trees, when there are no matches.")),e.listFilterWidgetShadow=(0,E.registerColor)("listFilterWidget.shadow",y.widgetShadow,f.localize(848,"Shadow color of the type filter widget in lists and trees.")),e.listFilterMatchHighlight=(0,E.registerColor)("list.filterMatchBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(849,"Background color of the filtered match.")),e.listFilterMatchHighlightBorder=(0,E.registerColor)("list.filterMatchBorder",{dark:y.editorFindMatchHighlightBorder,light:y.editorFindMatchHighlightBorder,hcDark:I.contrastBorder,hcLight:I.activeContrastBorder},f.localize(850,"Border color of the filtered match.")),e.listDeemphasizedForeground=(0,E.registerColor)("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},f.localize(851,"List/Tree foreground color for items that are deemphasized.")),e.treeIndentGuidesStroke=(0,E.registerColor)("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},f.localize(852,"Tree stroke color for the indentation guides.")),e.treeInactiveIndentGuidesStroke=(0,E.registerColor)("tree.inactiveIndentGuidesStroke",(0,E.transparent)(e.treeIndentGuidesStroke,.4),f.localize(853,"Tree stroke color for the indentation guides that are not active.")),e.tableColumnsBorder=(0,E.registerColor)("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},f.localize(854,"Table border color between columns.")),e.tableOddRowsBackgroundColor=(0,E.registerColor)("tree.tableOddRowsBackground",{dark:(0,E.transparent)(I.foreground,.04),light:(0,E.transparent)(I.foreground,.04),hcDark:null,hcLight:null},f.localize(855,"Background color for odd table rows."))}),define(re[743],ae([1,0,3,88,122,410,277]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=void 0,e.menuBorder=(0,k.registerColor)("menu.border",{dark:null,light:null,hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(817,"Border color of menus.")),e.menuForeground=(0,k.registerColor)("menu.foreground",I.selectForeground,f.localize(818,"Foreground color of menu items.")),e.menuBackground=(0,k.registerColor)("menu.background",I.selectBackground,f.localize(819,"Background color of menu items.")),e.menuSelectionForeground=(0,k.registerColor)("menu.selectionForeground",y.listActiveSelectionForeground,f.localize(820,"Foreground color of the selected menu item in menus.")),e.menuSelectionBackground=(0,k.registerColor)("menu.selectionBackground",y.listActiveSelectionBackground,f.localize(821,"Background color of the selected menu item in menus.")),e.menuSelectionBorder=(0,k.registerColor)("menu.selectionBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(822,"Border color of the selected menu item in menus.")),e.menuSeparatorBackground=(0,k.registerColor)("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(823,"Color of a separator menu item in menus."))}),define(re[411],ae([1,0,3,33,88,135,276]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapError=e.minimapWarning=e.minimapInfo=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=void 0,e.minimapFindMatch=(0,E.registerColor)("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},f.localize(806,"Minimap marker color for find matches."),!0),e.minimapSelectionOccurrenceHighlight=(0,E.registerColor)("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(807,"Minimap marker color for repeating editor selections."),!0),e.minimapSelection=(0,E.registerColor)("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(808,"Minimap marker color for the editor selection."),!0),e.minimapInfo=(0,E.registerColor)("minimap.infoHighlight",{dark:I.editorInfoForeground,light:I.editorInfoForeground,hcDark:I.editorInfoBorder,hcLight:I.editorInfoBorder},f.localize(809,"Minimap marker color for infos.")),e.minimapWarning=(0,E.registerColor)("minimap.warningHighlight",{dark:I.editorWarningForeground,light:I.editorWarningForeground,hcDark:I.editorWarningBorder,hcLight:I.editorWarningBorder},f.localize(810,"Minimap marker color for warnings.")),e.minimapError=(0,E.registerColor)("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(811,"Minimap marker color for errors.")),e.minimapBackground=(0,E.registerColor)("minimap.background",null,f.localize(812,"Minimap background color.")),e.minimapForegroundOpacity=(0,E.registerColor)("minimap.foregroundOpacity",k.Color.fromHex("#000f"),f.localize(813,'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),e.minimapSliderBackground=(0,E.registerColor)("minimapSlider.background",(0,E.transparent)(y.scrollbarSliderBackground,.5),f.localize(814,"Minimap slider background color.")),e.minimapSliderHoverBackground=(0,E.registerColor)("minimapSlider.hoverBackground",(0,E.transparent)(y.scrollbarSliderHoverBackground,.5),f.localize(815,"Minimap slider background color when hovering.")),e.minimapSliderActiveBackground=(0,E.registerColor)("minimapSlider.activeBackground",(0,E.transparent)(y.scrollbarSliderActiveBackground,.5),f.localize(816,"Minimap slider background color when clicked on."))}),define(re[744],ae([1,0,3,88,122,135,411]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=void 0,e.chartsForeground=(0,k.registerColor)("charts.foreground",E.foreground,f.localize(987,"The foreground color used in charts.")),e.chartsLines=(0,k.registerColor)("charts.lines",(0,k.transparent)(E.foreground,.5),f.localize(988,"The color used for horizontal lines in charts.")),e.chartsRed=(0,k.registerColor)("charts.red",I.editorErrorForeground,f.localize(989,"The red color used in chart visualizations.")),e.chartsBlue=(0,k.registerColor)("charts.blue",I.editorInfoForeground,f.localize(990,"The blue color used in chart visualizations.")),e.chartsYellow=(0,k.registerColor)("charts.yellow",I.editorWarningForeground,f.localize(991,"The yellow color used in chart visualizations.")),e.chartsOrange=(0,k.registerColor)("charts.orange",y.minimapFindMatch,f.localize(992,"The orange color used in chart visualizations.")),e.chartsGreen=(0,k.registerColor)("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},f.localize(993,"The green color used in chart visualizations.")),e.chartsPurple=(0,k.registerColor)("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f.localize(994,"The purple color used in chart visualizations."))}),define(re[745],ae([1,0,3,33,88,135,277]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=void 0,e.quickInputBackground=(0,E.registerColor)("quickInput.background",I.editorWidgetBackground,f.localize(789,"Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),e.quickInputForeground=(0,E.registerColor)("quickInput.foreground",I.editorWidgetForeground,f.localize(790,"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),e.quickInputTitleBackground=(0,E.registerColor)("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},f.localize(791,"Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),e.pickerGroupForeground=(0,E.registerColor)("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(792,"Quick picker color for grouping labels.")),e.pickerGroupBorder=(0,E.registerColor)("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(793,"Quick picker color for grouping borders.")),e._deprecatedQuickInputListFocusBackground=(0,E.registerColor)("quickInput.list.focusBackground",null,"",void 0,f.localize(794,"Please use quickInputList.focusBackground instead")),e.quickInputListFocusForeground=(0,E.registerColor)("quickInputList.focusForeground",y.listActiveSelectionForeground,f.localize(795,"Quick picker foreground color for the focused item.")),e.quickInputListFocusIconForeground=(0,E.registerColor)("quickInputList.focusIconForeground",y.listActiveSelectionIconForeground,f.localize(796,"Quick picker icon foreground color for the focused item.")),e.quickInputListFocusBackground=(0,E.registerColor)("quickInputList.focusBackground",{dark:(0,E.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),light:(0,E.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),hcDark:null,hcLight:null},f.localize(797,"Quick picker background color for the focused item."))}),define(re[746],ae([1,0,3,88,122,135]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.searchResultsInfoForeground=void 0,e.searchResultsInfoForeground=(0,k.registerColor)("search.resultsInfoForeground",{light:E.foreground,dark:(0,k.transparent)(E.foreground,.65),hcDark:E.foreground,hcLight:E.foreground},f.localize(786,"Color of the text in the search viewlet's completion message.")),e.searchEditorFindMatch=(0,k.registerColor)("searchEditor.findMatchBackground",{light:(0,k.transparent)(I.editorFindMatchHighlight,.66),dark:(0,k.transparent)(I.editorFindMatchHighlight,.66),hcDark:I.editorFindMatchHighlight,hcLight:I.editorFindMatchHighlight},f.localize(787,"Color of the Search Editor query matches.")),e.searchEditorFindMatchBorder=(0,k.registerColor)("searchEditor.findMatchBorder",{light:(0,k.transparent)(I.editorFindMatchHighlightBorder,.66),dark:(0,k.transparent)(I.editorFindMatchHighlightBorder,.66),hcDark:I.editorFindMatchHighlightBorder,hcLight:I.editorFindMatchHighlightBorder},f.localize(788,"Border color of the Search Editor query matches."))});var Qt=this&&this.__createBinding||(Object.create?function(le,e,f,k){k===void 0&&(k=f);var E=Object.getOwnPropertyDescriptor(e,f);(!E||("get"in E?!e.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return e[f]}}),Object.defineProperty(le,k,E)}:function(le,e,f,k){k===void 0&&(k=f),le[k]=e[f]}),Ct=this&&this.__exportStar||function(le,e){for(var f in le)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Qt(e,le,f)};define(re[32],ae([1,0,88,122,744,135,410,277,743,411,276,745,746]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(f,e),Ct(k,e),Ct(E,e),Ct(I,e),Ct(y,e),Ct(m,e),Ct(w,e),Ct(b,e),Ct(v,e),Ct(s,e),Ct(o,e)}),define(re[184],ae([1,0,4,161,73,14,2,32]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0,e.createEditorPagePosition=o,e.createCoordinatesRelativeToEditor=t;class w{constructor(p,h){this.x=p,this.y=h,this._pageCoordinatesBrand=void 0}toClientCoordinates(p){return new b(this.x-p.scrollX,this.y-p.scrollY)}}e.PageCoordinates=w;class b{constructor(p,h){this.clientX=p,this.clientY=h,this._clientCoordinatesBrand=void 0}toPageCoordinates(p){return new w(this.clientX+p.scrollX,this.clientY+p.scrollY)}}e.ClientCoordinates=b;class v{constructor(p,h,g,C){this.x=p,this.y=h,this.width=g,this.height=C,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=v;class s{constructor(p,h){this.x=p,this.y=h,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=s;function o(d){const p=f.getDomNodePagePosition(d);return new v(p.left,p.top,p.width,p.height)}function t(d,p,h){const g=p.width/d.offsetWidth,C=p.height/d.offsetHeight,S=(h.x-p.x)/g,_=(h.y-p.y)/C;return new s(S,_)}class i extends E.StandardMouseEvent{constructor(p,h,g){super(f.getWindow(g),p),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=h,this.pos=new w(this.posx,this.posy),this.editorPos=o(g),this.relativePos=t(g,this.editorPos,this.pos)}}e.EditorMouseEvent=i;class n{constructor(p){this._editorViewDomNode=p}_create(p){return new i(p,!1,this._editorViewDomNode)}onContextMenu(p,h){return f.addDisposableListener(p,"contextmenu",g=>{h(this._create(g))})}onMouseUp(p,h){return f.addDisposableListener(p,"mouseup",g=>{h(this._create(g))})}onMouseDown(p,h){return f.addDisposableListener(p,f.EventType.MOUSE_DOWN,g=>{h(this._create(g))})}onPointerDown(p,h){return f.addDisposableListener(p,f.EventType.POINTER_DOWN,g=>{h(this._create(g),g.pointerId)})}onMouseLeave(p,h){return f.addDisposableListener(p,f.EventType.MOUSE_LEAVE,g=>{h(this._create(g))})}onMouseMove(p,h){return f.addDisposableListener(p,"mousemove",g=>h(this._create(g)))}}e.EditorMouseEventFactory=n;class c{constructor(p){this._editorViewDomNode=p}_create(p){return new i(p,!1,this._editorViewDomNode)}onPointerUp(p,h){return f.addDisposableListener(p,"pointerup",g=>{h(this._create(g))})}onPointerDown(p,h){return f.addDisposableListener(p,f.EventType.POINTER_DOWN,g=>{h(this._create(g),g.pointerId)})}onPointerLeave(p,h){return f.addDisposableListener(p,f.EventType.POINTER_LEAVE,g=>{h(this._create(g))})}onPointerMove(p,h){return f.addDisposableListener(p,"pointermove",g=>h(this._create(g)))}}e.EditorPointerEventFactory=c;class u extends y.Disposable{constructor(p){super(),this._editorViewDomNode=p,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(p,h,g,C,S){this._keydownListener=f.addStandardDisposableListener(p.ownerDocument,"keydown",_=>{_.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,_.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(p,h,g,_=>{C(new i(_,!0,this._editorViewDomNode))},_=>{this._keydownListener.dispose(),S(_)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=u;class r{constructor(p){this._editor=p,this._instanceId=++r._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new I.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(p){const h=this.getOrCreateRule(p);return h.increaseRefCount(),{className:h.className,dispose:()=>{h.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(p){const h=this.computeUniqueKey(p);let g=this._rules.get(h);if(!g){const C=this._counter++;g=new a(h,`dyn-rule-${this._instanceId}-${C}`,f.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,p),this._rules.set(h,g)}return g}computeUniqueKey(p){return JSON.stringify(p)}garbageCollect(){for(const p of this._rules.values())p.hasReferences()||(this._rules.delete(p.key),p.dispose())}}e.DynamicCssRules=r,r._idPool=0;class a{constructor(p,h,g,C){this.key=p,this.className=h,this.properties=C,this._referenceCount=0,this._styleElementDisposables=new y.DisposableStore,this._styleElement=f.createStyleSheet(g,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(p,h){let g=`.${p} {`;for(const C in h){const S=h[C];let _;typeof S=="object"?_=(0,m.asCssVariable)(S.id):_=S;const L=l(C);g+=`
	${L}: ${_};`}return g+=`
}`,g}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function l(d){return d.replace(/(^[A-Z])/,([p])=>p.toLowerCase()).replace(/([A-Z])/g,([p])=>`-${p.toLowerCase()}`)}}),define(re[747],ae([1,0,4,39,161,2,16,11,241,57,37,5,323,374,95,32,23,68,561,125,44,298,502]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const p=140,h=2;class g{constructor(M,P,x){const O=M.options,B=O.get(144),H=O.get(146),K=H.minimap,V=O.get(50),j=O.get(73);this.renderMinimap=K.renderMinimap,this.size=j.size,this.minimapHeightIsEditorHeight=K.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=O.get(106),this.paddingTop=O.get(84).top,this.paddingBottom=O.get(84).bottom,this.showSlider=j.showSlider,this.autohide=j.autohide,this.pixelRatio=B,this.typicalHalfwidthCharacterWidth=V.typicalHalfwidthCharacterWidth,this.lineHeight=O.get(67),this.minimapLeft=K.minimapLeft,this.minimapWidth=K.minimapWidth,this.minimapHeight=H.height,this.canvasInnerWidth=K.minimapCanvasInnerWidth,this.canvasInnerHeight=K.minimapCanvasInnerHeight,this.canvasOuterWidth=K.minimapCanvasOuterWidth,this.canvasOuterHeight=K.minimapCanvasOuterHeight,this.isSampling=K.minimapIsSampling,this.editorHeight=H.height,this.fontScale=K.minimapScale,this.minimapLineHeight=K.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=d.DEFAULT_FONT_FAMILY,this.sectionHeaderFontSize=j.sectionHeaderFontSize*B,this.sectionHeaderLetterSpacing=j.sectionHeaderLetterSpacing,this.sectionHeaderFontColor=g._getSectionHeaderColor(P,x.getColor(1)),this.charRenderer=(0,a.createSingleCallFunction)(()=>r.MinimapCharRendererFactory.create(this.fontScale,V.fontFamily)),this.defaultBackgroundColor=x.getColor(2),this.backgroundColor=g._getMinimapBackground(P,this.defaultBackgroundColor),this.foregroundAlpha=g._getMinimapForegroundOpacity(P)}static _getMinimapBackground(M,P){const x=M.getColor(n.minimapBackground);return x?new o.RGBA8(x.rgba.r,x.rgba.g,x.rgba.b,Math.round(255*x.rgba.a)):P}static _getMinimapForegroundOpacity(M){const P=M.getColor(n.minimapForegroundOpacity);return P?o.RGBA8._clamp(Math.round(255*P.rgba.a)):255}static _getSectionHeaderColor(M,P){const x=M.getColor(n.editorForeground);return x?new o.RGBA8(x.rgba.r,x.rgba.g,x.rgba.b,Math.round(255*x.rgba.a)):P}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.sectionHeaderFontSize===M.sectionHeaderFontSize&&this.sectionHeaderLetterSpacing===M.sectionHeaderLetterSpacing&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class C{constructor(M,P,x,O,B,H,K,V,j){this.scrollTop=M,this.scrollHeight=P,this.sliderNeeded=x,this._computedSliderRatio=O,this.sliderTop=B,this.sliderHeight=H,this.topPaddingLineCount=K,this.startLineNumber=V,this.endLineNumber=j}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const P=Math.max(this.startLineNumber,M.startLineNumber),x=Math.min(this.endLineNumber,M.endLineNumber);return P>x?null:[P,x]}getYForLineNumber(M,P){return+(M-this.startLineNumber+this.topPaddingLineCount)*P}static create(M,P,x,O,B,H,K,V,j,U,Y){const Q=M.pixelRatio,Z=M.minimapLineHeight,G=Math.floor(M.canvasInnerHeight/Z),F=M.lineHeight;if(M.minimapHeightIsEditorHeight){let ie=V*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(ie+=Math.max(0,B-M.lineHeight-M.paddingBottom));const se=Math.max(1,Math.floor(B*B/ie)),ne=Math.max(0,M.minimapHeight-se),W=ne/(U-B),q=j*W,z=ne>0,$=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),X=Math.floor(M.paddingTop/M.lineHeight);return new C(j,U,z,W,q,se,X,1,Math.min(K,$))}let J;if(H&&x!==K){const ie=x-P+1;J=Math.floor(ie*Z/Q)}else{const ie=B/F;J=Math.floor(ie*Z/Q)}const te=Math.floor(M.paddingTop/F);let de=Math.floor(M.paddingBottom/F);if(M.scrollBeyondLastLine){const ie=B/F;de=Math.max(de,ie-1)}let he;if(de>0){const ie=B/F;he=(te+K+de-ie-1)*Z/Q}else he=Math.max(0,(te+K)*Z/Q-J);he=Math.min(M.minimapHeight-J,he);const pe=he/(U-B),ue=j*pe;if(G>=te+K+de){const ie=he>0;return new C(j,U,ie,pe,ue,J,te,1,K)}else{let ie;P>1?ie=P+te:ie=Math.max(1,j/F);let se,ne=Math.max(1,Math.floor(ie-ue*Q/Z));ne<te?(se=te-ne+1,ne=1):(se=0,ne=Math.max(1,ne-te)),Y&&Y.scrollHeight===U&&(Y.scrollTop>j&&(ne=Math.min(ne,Y.startLineNumber),se=Math.max(se,Y.topPaddingLineCount)),Y.scrollTop<j&&(ne=Math.max(ne,Y.startLineNumber),se=Math.min(se,Y.topPaddingLineCount)));const W=Math.min(K,ne-se+G-1),q=(j-O)/F;let z;return j>=M.paddingTop?z=(P-ne+se+q)*Z/Q:z=j/M.paddingTop*(se+q)*Z/Q,new C(j,U,!0,pe,z,J,se,ne,W)}}}class S{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}S.INVALID=new S(-1);class _{constructor(M,P,x){this.renderedLayout=M,this._imageData=P,this._renderedLines=new w.RenderedLinesCollection(()=>S.INVALID),this._renderedLines._set(M.startLineNumber,x)}linesEquals(M){if(!this.scrollEquals(M))return!1;const x=this._renderedLines._get().lines;for(let O=0,B=x.length;O<B;O++)if(x[O].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,P){return this._renderedLines.onLinesChanged(M,P)}onLinesDeleted(M,P){this._renderedLines.onLinesDeleted(M,P)}onLinesInserted(M,P){this._renderedLines.onLinesInserted(M,P)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class L{constructor(M,P,x,O){this._backgroundFillData=L._createBackgroundFillData(P,x,O),this._buffers=[M.createImageData(P,x),M.createImageData(P,x)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,P,x){const O=x.r,B=x.g,H=x.b,K=x.a,V=new Uint8ClampedArray(M*P*4);let j=0;for(let U=0;U<P;U++)for(let Y=0;Y<M;Y++)V[j]=O,V[j+1]=B,V[j+2]=H,V[j+3]=K,j+=4;return V}}class D{static compute(M,P,x){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:O}=v.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:P,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),B=P/O,H=B/2;if(!x||x.minimapLines.length===0){const J=[];if(J[0]=1,O>1){for(let te=0,de=O-1;te<de;te++)J[te]=Math.round(te*B+H);J[O-1]=P}return[new D(B,J),[]]}const K=x.minimapLines,V=K.length,j=[];let U=0,Y=0,Q=1;const Z=10;let G=[],F=null;for(let J=0;J<O;J++){const te=Math.max(Q,Math.round(J*B)),de=Math.max(te,Math.round((J+1)*B));for(;U<V&&K[U]<te;){if(G.length<Z){const pe=U+1+Y;F&&F.type==="deleted"&&F._oldIndex===U-1?F.deleteToLineNumber++:(F={type:"deleted",_oldIndex:U,deleteFromLineNumber:pe,deleteToLineNumber:pe},G.push(F)),Y--}U++}let he;if(U<V&&K[U]<=de)he=K[U],U++;else if(J===0?he=1:J+1===O?he=P:he=Math.round(J*B+H),G.length<Z){const pe=U+1+Y;F&&F.type==="inserted"&&F._i===J-1?F.insertToLineNumber++:(F={type:"inserted",_i:J,insertFromLineNumber:pe,insertToLineNumber:pe},G.push(F)),Y++}j[J]=he,Q=he}if(G.length<Z)for(;U<V;){const J=U+1+Y;F&&F.type==="deleted"&&F._oldIndex===U-1?F.deleteToLineNumber++:(F={type:"deleted",_oldIndex:U,deleteFromLineNumber:J,deleteToLineNumber:J},G.push(F)),Y--,U++}else G=[{type:"flush"}];return[new D(B,j),G]}constructor(M,P){this.samplingRatio=M,this.minimapLines=P}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,P){let x=this.modelLineToMinimapLine(M)-1;for(;x>0&&this.minimapLines[x-1]>=M;)x--;let O=this.modelLineToMinimapLine(P)-1;for(;O+1<this.minimapLines.length&&this.minimapLines[O+1]<=P;)O++;if(x===O){const B=this.minimapLines[x];if(B<M||B>P)return null}return[x+1,O+1]}decorationLineRangeToMinimapLineRange(M,P){let x=this.modelLineToMinimapLine(M),O=this.modelLineToMinimapLine(P);return M!==P&&O===x&&(O===this.minimapLines.length?x>1&&x--:O++),[x,O]}onLinesDeleted(M){const P=M.toLineNumber-M.fromLineNumber+1;let x=this.minimapLines.length,O=0;for(let B=this.minimapLines.length-1;B>=0&&!(this.minimapLines[B]<M.fromLineNumber);B--)this.minimapLines[B]<=M.toLineNumber?(this.minimapLines[B]=Math.max(1,M.fromLineNumber-1),x=Math.min(x,B),O=Math.max(O,B)):this.minimapLines[B]-=P;return[x,O]}onLinesInserted(M){const P=M.toLineNumber-M.fromLineNumber+1;for(let x=this.minimapLines.length-1;x>=0&&!(this.minimapLines[x]<M.fromLineNumber);x--)this.minimapLines[x]+=P}}class T extends b.ViewPart{constructor(M){super(M),this._sectionHeaderCache=new l.LRUCache(10,1.5),this.tokensColorTracker=t.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);const[P]=D.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=P,this._shouldCheckSampling=!1,this._actual=new N(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const P=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return P?this._actual.onLinesChanged(P[0],P[1]-P[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[P,x]=this._samplingState.onLinesDeleted(M);return P<=x&&this._actual.onLinesChanged(P+1,x-P+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const P=[];for(const x of M.ranges){const O=this._samplingState.modelLineRangeToMinimapLineRange(x.fromLineNumber,x.toLineNumber);O&&P.push({fromLineNumber:O[0],toLineNumber:O[1]})}return P.length?this._actual.onTokensChanged(P):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let P=M.visibleRange.startLineNumber,x=M.visibleRange.endLineNumber;this._samplingState&&(P=this._samplingState.modelLineToMinimapLine(P),x=this._samplingState.modelLineToMinimapLine(x));const O={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:P,viewportEndLineNumber:x,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(P),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(O)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[P,x]=D.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=P,M&&this._samplingState)for(const O of x)switch(O.type){case"deleted":this._actual.onLinesDeleted(O.deleteFromLineNumber,O.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(O.insertFromLineNumber,O.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,P,x){if(this._samplingState){const O=[];for(let B=0,H=P-M+1;B<H;B++)x[B]?O[B]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+B-1]):O[B]=null;return O}return this._context.viewModel.getMinimapLinesRenderingData(M,P,x).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[P,x]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new c.Selection(P,M.startColumn,x,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,P){const x=this._getMinimapDecorationsInViewport(M,P).filter(O=>{var B;return!(!((B=O.options.minimap)===null||B===void 0)&&B.sectionHeaderStyle)});if(this._samplingState){const O=[];for(const B of x){if(!B.options.minimap)continue;const H=B.range,K=this._samplingState.modelLineToMinimapLine(H.startLineNumber),V=this._samplingState.modelLineToMinimapLine(H.endLineNumber);O.push(new i.ViewModelDecoration(new s.Range(K,H.startColumn,V,H.endColumn),B.options))}return O}return x}getSectionHeaderDecorationsInViewport(M,P){const x=this.options.minimapLineHeight,B=this.options.sectionHeaderFontSize/x;return M=Math.floor(Math.max(1,M-B)),this._getMinimapDecorationsInViewport(M,P).filter(H=>{var K;return!!(!((K=H.options.minimap)===null||K===void 0)&&K.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(M,P){let x;if(this._samplingState){const O=this._samplingState.minimapLines[M-1],B=this._samplingState.minimapLines[P-1];x=new s.Range(O,1,B,this._context.viewModel.getLineMaxColumn(B))}else x=new s.Range(M,1,P,this._context.viewModel.getLineMaxColumn(P));return this._context.viewModel.getMinimapDecorationsInRange(x)}getSectionHeaderText(M,P){var x;const O=(x=M.options.minimap)===null||x===void 0?void 0:x.sectionHeaderText;if(!O)return null;const B=this._sectionHeaderCache.get(O);if(B)return B;const H=P(O);return this._sectionHeaderCache.set(O,H),H}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new s.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=T;class N extends I.Disposable{constructor(M,P){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=P,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(n.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),b.PartFingerprints.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=f.addStandardDisposableListener(this._domNode.domNode,f.EventType.POINTER_DOWN,x=>{if(x.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(x.button===0&&this._lastRenderData){const j=f.getDomNodePagePosition(this._slider.domNode),U=j.top+j.height/2;this._startSliderDragging(x,U,this._lastRenderData.renderedLayout)}return}const B=this._model.options.minimapLineHeight,H=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*x.offsetY;let V=Math.floor(H/B)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;V=Math.min(V,this._model.getLineCount()),this._model.revealLineNumber(V)}),this._sliderPointerMoveMonitor=new E.GlobalPointerMoveMonitor,this._sliderPointerDownListener=f.addStandardDisposableListener(this._slider.domNode,f.EventType.POINTER_DOWN,x=>{x.preventDefault(),x.stopPropagation(),x.button===0&&this._lastRenderData&&this._startSliderDragging(x,x.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=u.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=f.addDisposableListener(this._domNode.domNode,u.EventType.Start,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(x))},{passive:!1}),this._sliderTouchMoveListener=f.addDisposableListener(this._domNode.domNode,u.EventType.Change,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(x)},{passive:!1}),this._sliderTouchEndListener=f.addStandardDisposableListener(this._domNode.domNode,u.EventType.End,x=>{x.preventDefault(),x.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,P,x){if(!M.target||!(M.target instanceof Element))return;const O=M.pageX;this._slider.toggleClassName("active",!0);const B=(H,K)=>{const V=f.getDomNodePagePosition(this._domNode.domNode),j=Math.min(Math.abs(K-O),Math.abs(K-V.left),Math.abs(K-V.left-V.width));if(y.isWindows&&j>p){this._model.setScrollTop(x.scrollTop);return}const U=H-P;this._model.setScrollTop(x.getDesiredScrollTopFromDelta(U))};M.pageY!==P&&B(M.pageY,O),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,H=>B(H.pageY,H.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const P=this._domNode.domNode.getBoundingClientRect().top,x=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-P);this._model.setScrollTop(x)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new L(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,P){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,P):!1}onLinesDeleted(M,P){var x;return(x=this._lastRenderData)===null||x===void 0||x.onLinesDeleted(M,P),!0}onLinesInserted(M,P){var x;return(x=this._lastRenderData)===null||x===void 0||x.onLinesInserted(M,P),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(n.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const x=C.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(x.sliderNeeded?"block":"none"),this._slider.setTop(x.sliderTop),this._slider.setHeight(x.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(x.sliderHeight),this.renderDecorations(x),this._lastRenderData=this.renderLines(x)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const P=this._model.getSelections();P.sort(s.Range.compareRangesUsingStarts);const x=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);x.sort((Q,Z)=>(Q.options.zIndex||0)-(Z.options.zIndex||0));const{canvasInnerWidth:O,canvasInnerHeight:B}=this._model.options,H=this._model.options.minimapLineHeight,K=this._model.options.minimapCharWidth,V=this._model.getOptions().tabSize,j=this._decorationsCanvas.domNode.getContext("2d");j.clearRect(0,0,O,B);const U=new A(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(j,P,U,M,H),this._renderDecorationsLineHighlights(j,x,U,M,H);const Y=new A(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(j,P,Y,M,H,V,K,O),this._renderDecorationsHighlights(j,x,Y,M,H,V,K,O),this._renderSectionHeaders(M)}}_renderSelectionLineHighlights(M,P,x,O,B){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let H=0,K=0;for(const V of P){const j=O.intersectWithViewport(V);if(!j)continue;const[U,Y]=j;for(let G=U;G<=Y;G++)x.set(G,!0);const Q=O.getYForLineNumber(U,B),Z=O.getYForLineNumber(Y,B);K>=Q||(K>H&&M.fillRect(v.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,K-H),H=Q),K=Z}K>H&&M.fillRect(v.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,K-H)}_renderDecorationsLineHighlights(M,P,x,O,B){const H=new Map;for(let K=P.length-1;K>=0;K--){const V=P[K],j=V.options.minimap;if(!j||j.position!==1)continue;const U=O.intersectWithViewport(V.range);if(!U)continue;const[Y,Q]=U,Z=j.getColor(this._theme.value);if(!Z||Z.isTransparent())continue;let G=H.get(Z.toString());G||(G=Z.transparent(.5).toString(),H.set(Z.toString(),G)),M.fillStyle=G;for(let F=Y;F<=Q;F++){if(x.has(F))continue;x.set(F,!0);const J=O.getYForLineNumber(Y,B);M.fillRect(v.MINIMAP_GUTTER_WIDTH,J,M.canvas.width,B)}}}_renderSelectionsHighlights(M,P,x,O,B,H,K,V){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const j of P){const U=O.intersectWithViewport(j);if(!U)continue;const[Y,Q]=U;for(let Z=Y;Z<=Q;Z++)this.renderDecorationOnLine(M,x,j,this._selectionColor,O,Z,B,B,H,K,V)}}_renderDecorationsHighlights(M,P,x,O,B,H,K,V){for(const j of P){const U=j.options.minimap;if(!U)continue;const Y=O.intersectWithViewport(j.range);if(!Y)continue;const[Q,Z]=Y,G=U.getColor(this._theme.value);if(!(!G||G.isTransparent()))for(let F=Q;F<=Z;F++)switch(U.position){case 1:this.renderDecorationOnLine(M,x,j.range,G,O,F,B,B,H,K,V);continue;case 2:{const J=O.getYForLineNumber(F,B);this.renderDecoration(M,G,2,J,h,B);continue}}}}renderDecorationOnLine(M,P,x,O,B,H,K,V,j,U,Y){const Q=B.getYForLineNumber(H,V);if(Q+K<0||Q>this._model.options.canvasInnerHeight)return;const{startLineNumber:Z,endLineNumber:G}=x,F=Z===H?x.startColumn:1,J=G===H?x.endColumn:this._model.getLineMaxColumn(H),te=this.getXOffsetForPosition(P,H,F,j,U,Y),de=this.getXOffsetForPosition(P,H,J,j,U,Y);this.renderDecoration(M,O,te,Q,de-te,K)}getXOffsetForPosition(M,P,x,O,B,H){if(x===1)return v.MINIMAP_GUTTER_WIDTH;if((x-1)*B>=H)return H;let V=M.get(P);if(!V){const j=this._model.getLineContent(P);V=[v.MINIMAP_GUTTER_WIDTH];let U=v.MINIMAP_GUTTER_WIDTH;for(let Y=1;Y<j.length+1;Y++){const Q=j.charCodeAt(Y-1),Z=Q===9?O*B:m.isFullWidthCharacter(Q)?2*B:B,G=U+Z;if(G>=H){V[Y]=H;break}V[Y]=G,U=G}M.set(P,V)}return x-1<V.length?V[x-1]:H}renderDecoration(M,P,x,O,B,H){M.fillStyle=P&&P.toString()||"",M.fillRect(x,O,B,H)}_renderSectionHeaders(M){var P;const x=this._model.options.minimapLineHeight,O=this._model.options.sectionHeaderFontSize,B=this._model.options.sectionHeaderLetterSpacing,H=O*1.5,{canvasInnerWidth:K}=this._model.options,V=this._model.options.backgroundColor,j=`rgb(${V.r} ${V.g} ${V.b} / .7)`,U=this._model.options.sectionHeaderFontColor,Y=`rgb(${U.r} ${U.g} ${U.b})`,Q=Y,Z=this._decorationsCanvas.domNode.getContext("2d");Z.letterSpacing=B+"px",Z.font="500 "+O+"px "+this._model.options.sectionHeaderFontFamily,Z.strokeStyle=Q,Z.lineWidth=.2;const G=this._model.getSectionHeaderDecorationsInViewport(M.startLineNumber,M.endLineNumber);G.sort((J,te)=>J.range.startLineNumber-te.range.startLineNumber);const F=N._fitSectionHeader.bind(null,Z,K-v.MINIMAP_GUTTER_WIDTH);for(const J of G){const te=M.getYForLineNumber(J.range.startLineNumber,x)+O,de=te-O,he=de+2,pe=this._model.getSectionHeaderText(J,F);N._renderSectionLabel(Z,pe,((P=J.options.minimap)===null||P===void 0?void 0:P.sectionHeaderStyle)===2,j,Y,K,de,H,te,he)}}static _fitSectionHeader(M,P,x){if(!x)return x;const O="\u2026",B=M.measureText(x).width,H=M.measureText(O).width;if(B<=P||B<=H)return x;const K=x.length,V=B/x.length,j=Math.floor((P-H)/V)-1;let U=Math.ceil(j/2);for(;U>0&&/\s/.test(x[U-1]);)--U;return x.substring(0,U)+O+x.substring(K-(j-U))}static _renderSectionLabel(M,P,x,O,B,H,K,V,j,U){P&&(M.fillStyle=O,M.fillRect(0,K,H,V),M.fillStyle=B,M.fillText(P,v.MINIMAP_GUTTER_WIDTH,j)),x&&(M.beginPath(),M.moveTo(0,U),M.lineTo(H,U),M.closePath(),M.stroke())}renderLines(M){const P=M.startLineNumber,x=M.endLineNumber,O=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const oe=this._lastRenderData._get();return new _(M,oe.imageData,oe.lines)}const B=this._getBuffer();if(!B)return null;const[H,K,V]=N._renderUntouchedLines(B,M.topPaddingLineCount,P,x,O,this._lastRenderData),j=this._model.getMinimapLinesRenderingData(P,x,V),U=this._model.getOptions().tabSize,Y=this._model.options.defaultBackgroundColor,Q=this._model.options.backgroundColor,Z=this._model.options.foregroundAlpha,G=this._model.tokensColorTracker,F=G.backgroundIsLight(),J=this._model.options.renderMinimap,te=this._model.options.charRenderer(),de=this._model.options.fontScale,he=this._model.options.minimapCharWidth,ue=(J===1?2:3)*de,ie=O>ue?Math.floor((O-ue)/2):0,se=Q.a/255,ne=new o.RGBA8(Math.round((Q.r-Y.r)*se+Y.r),Math.round((Q.g-Y.g)*se+Y.g),Math.round((Q.b-Y.b)*se+Y.b),255);let W=M.topPaddingLineCount*O;const q=[];for(let oe=0,ce=x-P+1;oe<ce;oe++)V[oe]&&N._renderLine(B,ne,Q.a,F,J,he,G,Z,te,W,ie,U,j[oe],de,O),q[oe]=new S(W),W+=O;const z=H===-1?0:H,X=(K===-1?B.height:K)-z;return this._canvas.domNode.getContext("2d").putImageData(B,0,0,0,z,B.width,X),new _(M,B,q)}static _renderUntouchedLines(M,P,x,O,B,H){const K=[];if(!H){for(let W=0,q=O-x+1;W<q;W++)K[W]=!0;return[-1,-1,K]}const V=H._get(),j=V.imageData.data,U=V.rendLineNumberStart,Y=V.lines,Q=Y.length,Z=M.width,G=M.data,F=(O-x+1)*B*Z*4;let J=-1,te=-1,de=-1,he=-1,pe=-1,ue=-1,ie=P*B;for(let W=x;W<=O;W++){const q=W-x,z=W-U,$=z>=0&&z<Q?Y[z].dy:-1;if($===-1){K[q]=!0,ie+=B;continue}const X=$*Z*4,ee=($+B)*Z*4,oe=ie*Z*4,ce=(ie+B)*Z*4;he===X&&ue===oe?(he=ee,ue=ce):(de!==-1&&(G.set(j.subarray(de,he),pe),J===-1&&de===0&&de===pe&&(J=he),te===-1&&he===F&&de===pe&&(te=de)),de=X,he=ee,pe=oe,ue=ce),K[q]=!1,ie+=B}de!==-1&&(G.set(j.subarray(de,he),pe),J===-1&&de===0&&de===pe&&(J=he),te===-1&&he===F&&de===pe&&(te=de));const se=J===-1?-1:J/(Z*4),ne=te===-1?-1:te/(Z*4);return[se,ne,K]}static _renderLine(M,P,x,O,B,H,K,V,j,U,Y,Q,Z,G,F){const J=Z.content,te=Z.tokens,de=M.width-H,he=F===1;let pe=v.MINIMAP_GUTTER_WIDTH,ue=0,ie=0;for(let se=0,ne=te.getCount();se<ne;se++){const W=te.getEndOffset(se),q=te.getForeground(se),z=K.getColor(q);for(;ue<W;ue++){if(pe>de)return;const $=J.charCodeAt(ue);if($===9){const X=Q-(ue+ie)%Q;ie+=X-1,pe+=X*H}else if($===32)pe+=H;else{const X=m.isFullWidthCharacter($)?2:1;for(let ee=0;ee<X;ee++)if(B===2?j.blockRenderChar(M,pe,U+Y,z,V,P,x,he):j.renderChar(M,pe,U+Y,$,z,V,P,x,G,O,he),pe+=H,pe>de)return}}}}}class A{constructor(M,P,x){this._startLineNumber=M,this._endLineNumber=P,this._defaultValue=x,this._values=[];for(let O=0,B=this._endLineNumber-this._startLineNumber+1;O<B;O++)this._values[O]=x}has(M){return this.get(M)!==this._defaultValue}set(M,P){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=P)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(re[748],ae([1,0,3,32]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiDiffEditorBorder=e.multiDiffEditorBackground=e.multiDiffEditorHeaderBackground=void 0,e.multiDiffEditorHeaderBackground=(0,k.registerColor)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,f.localize)(284,"The background color of the diff editor's header")),e.multiDiffEditorBackground=(0,k.registerColor)("multiDiffEditor.background","editorBackground",(0,f.localize)(285,"The background color of the multi file diff editor")),e.multiDiffEditorBorder=(0,k.registerColor)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,f.localize)(286,"The border color of the multi file diff editor"))}),define(re[278],ae([1,0,3,32,543]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",k.foreground,(0,f.localize)(159,"The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",k.foreground,(0,f.localize)(160,"The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(161,"The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",k.foreground,(0,f.localize)(162,"The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",k.foreground,(0,f.localize)(163,"The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(164,"The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(165,"The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(166,"The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(167,"The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(168,"The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",k.foreground,(0,f.localize)(169,"The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",k.foreground,(0,f.localize)(170,"The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(171,"The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(172,"The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",k.foreground,(0,f.localize)(173,"The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",k.foreground,(0,f.localize)(174,"The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(175,"The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",k.foreground,(0,f.localize)(176,"The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",k.foreground,(0,f.localize)(177,"The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",k.foreground,(0,f.localize)(178,"The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",k.foreground,(0,f.localize)(179,"The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",k.foreground,(0,f.localize)(180,"The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",k.foreground,(0,f.localize)(181,"The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",k.foreground,(0,f.localize)(182,"The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",k.foreground,(0,f.localize)(183,"The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",k.foreground,(0,f.localize)(184,"The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",k.foreground,(0,f.localize)(185,"The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",k.foreground,(0,f.localize)(186,"The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",k.foreground,(0,f.localize)(187,"The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",k.foreground,(0,f.localize)(188,"The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",k.foreground,(0,f.localize)(189,"The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",k.foreground,(0,f.localize)(190,"The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(191,"The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))}),define(re[749],ae([1,0,26,131,3,90,195,278]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=w;const y=Object.freeze({kind:I.HierarchicalKind.Empty,title:(0,E.localize)(65,"More Actions...")}),m=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,E.localize)(66,"Quick Fix")},{kind:k.CodeActionKind.RefactorExtract,title:(0,E.localize)(67,"Extract"),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,E.localize)(68,"Inline"),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,E.localize)(69,"Rewrite"),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,E.localize)(70,"Move"),icon:f.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,E.localize)(71,"Surround With"),icon:f.Codicon.surroundWith},{kind:k.CodeActionKind.Source,title:(0,E.localize)(72,"Source Action"),icon:f.Codicon.symbolFile},y]);function w(b,v,s){if(!v)return b.map(i=>{var n;return{kind:"action",item:i,group:y,disabled:!!i.action.disabled,label:i.action.disabled||i.action.title,canPreview:!!(!((n=i.action.edit)===null||n===void 0)&&n.edits.length)}});const o=m.map(i=>({group:i,actions:[]}));for(const i of b){const n=i.action.kind?new I.HierarchicalKind(i.action.kind):I.HierarchicalKind.None;for(const c of o)if(c.group.kind.contains(n)){c.actions.push(i);break}}const t=[];for(const i of o)if(i.actions.length){t.push({kind:"header",group:i.group});for(const n of i.actions){const c=i.group;t.push({kind:"action",item:n,group:n.action.isAI?{title:c.title,kind:c.kind,icon:f.Codicon.sparkle}:c,label:n.action.title,disabled:!!n.action.disabled,keybinding:s(n.action)})}}return t}}),define(re[109],ae([1,0,32,33]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0,e.getListStyles=I;function E(y,m){const w={...m};for(const b in y){const v=y[b];w[b]=v!==void 0?(0,f.asCssVariable)(v):void 0}return w}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,f.asCssVariable)(f.keybindingLabelBackground),keybindingLabelForeground:(0,f.asCssVariable)(f.keybindingLabelForeground),keybindingLabelBorder:(0,f.asCssVariable)(f.keybindingLabelBorder),keybindingLabelBottomBorder:(0,f.asCssVariable)(f.keybindingLabelBottomBorder),keybindingLabelShadow:(0,f.asCssVariable)(f.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,f.asCssVariable)(f.buttonForeground),buttonSeparator:(0,f.asCssVariable)(f.buttonSeparator),buttonBackground:(0,f.asCssVariable)(f.buttonBackground),buttonHoverBackground:(0,f.asCssVariable)(f.buttonHoverBackground),buttonSecondaryForeground:(0,f.asCssVariable)(f.buttonSecondaryForeground),buttonSecondaryBackground:(0,f.asCssVariable)(f.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,f.asCssVariable)(f.buttonSecondaryHoverBackground),buttonBorder:(0,f.asCssVariable)(f.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,f.asCssVariable)(f.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,f.asCssVariable)(f.inputActiveOptionBorder),inputActiveOptionForeground:(0,f.asCssVariable)(f.inputActiveOptionForeground),inputActiveOptionBackground:(0,f.asCssVariable)(f.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,f.asCssVariable)(f.checkboxBackground),checkboxBorder:(0,f.asCssVariable)(f.checkboxBorder),checkboxForeground:(0,f.asCssVariable)(f.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,f.asCssVariable)(f.editorWidgetBackground),dialogForeground:(0,f.asCssVariable)(f.editorWidgetForeground),dialogShadow:(0,f.asCssVariable)(f.widgetShadow),dialogBorder:(0,f.asCssVariable)(f.contrastBorder),errorIconForeground:(0,f.asCssVariable)(f.problemsErrorIconForeground),warningIconForeground:(0,f.asCssVariable)(f.problemsWarningIconForeground),infoIconForeground:(0,f.asCssVariable)(f.problemsInfoIconForeground),textLinkForeground:(0,f.asCssVariable)(f.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,f.asCssVariable)(f.inputBackground),inputForeground:(0,f.asCssVariable)(f.inputForeground),inputBorder:(0,f.asCssVariable)(f.inputBorder),inputValidationInfoBorder:(0,f.asCssVariable)(f.inputValidationInfoBorder),inputValidationInfoBackground:(0,f.asCssVariable)(f.inputValidationInfoBackground),inputValidationInfoForeground:(0,f.asCssVariable)(f.inputValidationInfoForeground),inputValidationWarningBorder:(0,f.asCssVariable)(f.inputValidationWarningBorder),inputValidationWarningBackground:(0,f.asCssVariable)(f.inputValidationWarningBackground),inputValidationWarningForeground:(0,f.asCssVariable)(f.inputValidationWarningForeground),inputValidationErrorBorder:(0,f.asCssVariable)(f.inputValidationErrorBorder),inputValidationErrorBackground:(0,f.asCssVariable)(f.inputValidationErrorBackground),inputValidationErrorForeground:(0,f.asCssVariable)(f.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,f.asCssVariable)(f.listFilterWidgetBackground),listFilterWidgetOutline:(0,f.asCssVariable)(f.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,f.asCssVariable)(f.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,f.asCssVariable)(f.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,f.asCssVariable)(f.badgeBackground),badgeForeground:(0,f.asCssVariable)(f.badgeForeground),badgeBorder:(0,f.asCssVariable)(f.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,f.asCssVariable)(f.breadcrumbsBackground),breadcrumbsForeground:(0,f.asCssVariable)(f.breadcrumbsForeground),breadcrumbsHoverForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,f.asCssVariable)(f.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,f.asCssVariable)(f.listFocusBackground),listFocusForeground:(0,f.asCssVariable)(f.listFocusForeground),listFocusOutline:(0,f.asCssVariable)(f.listFocusOutline),listActiveSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listActiveSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,f.asCssVariable)(f.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,f.asCssVariable)(f.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listInactiveSelectionBackground:(0,f.asCssVariable)(f.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,f.asCssVariable)(f.listInactiveSelectionForeground),listInactiveFocusBackground:(0,f.asCssVariable)(f.listInactiveFocusBackground),listInactiveFocusOutline:(0,f.asCssVariable)(f.listInactiveFocusOutline),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listDropOverBackground:(0,f.asCssVariable)(f.listDropOverBackground),listDropBetweenBackground:(0,f.asCssVariable)(f.listDropBetweenBackground),listSelectionOutline:(0,f.asCssVariable)(f.activeContrastBorder),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),treeIndentGuidesStroke:(0,f.asCssVariable)(f.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,f.asCssVariable)(f.treeInactiveIndentGuidesStroke),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:(0,f.asCssVariable)(f.scrollbarShadow),tableColumnsBorder:(0,f.asCssVariable)(f.tableColumnsBorder),tableOddRowsBackgroundColor:(0,f.asCssVariable)(f.tableOddRowsBackgroundColor)};function I(y){return E(y,e.defaultListStyles)}e.defaultSelectBoxStyles={selectBackground:(0,f.asCssVariable)(f.selectBackground),selectListBackground:(0,f.asCssVariable)(f.selectListBackground),selectForeground:(0,f.asCssVariable)(f.selectForeground),decoratorRightForeground:(0,f.asCssVariable)(f.pickerGroupForeground),selectBorder:(0,f.asCssVariable)(f.selectBorder),focusBorder:(0,f.asCssVariable)(f.focusBorder),listFocusBackground:(0,f.asCssVariable)(f.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.quickInputListFocusIconForeground),listFocusForeground:(0,f.asCssVariable)(f.quickInputListFocusForeground),listFocusOutline:(0,f.asCssVariableWithDefault)(f.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),selectListBorder:(0,f.asCssVariable)(f.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},e.defaultMenuStyles={shadowColor:(0,f.asCssVariable)(f.widgetShadow),borderColor:(0,f.asCssVariable)(f.menuBorder),foregroundColor:(0,f.asCssVariable)(f.menuForeground),backgroundColor:(0,f.asCssVariable)(f.menuBackground),selectionForegroundColor:(0,f.asCssVariable)(f.menuSelectionForeground),selectionBackgroundColor:(0,f.asCssVariable)(f.menuSelectionBackground),selectionBorderColor:(0,f.asCssVariable)(f.menuSelectionBorder),separatorColor:(0,f.asCssVariable)(f.menuSeparatorBackground),scrollbarShadow:(0,f.asCssVariable)(f.scrollbarShadow),scrollbarSliderBackground:(0,f.asCssVariable)(f.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,f.asCssVariable)(f.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,f.asCssVariable)(f.scrollbarSliderActiveBackground)}}),define(re[750],ae([1,0,4,311,306,232,83,2,50,77,3,7,31,180,109,176]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let u=class{constructor(_){this._resolverService=_}hasChildren(_){return _ instanceof n.ReferencesModel||_ instanceof n.FileReferences}getChildren(_){if(_ instanceof n.ReferencesModel)return _.groups;if(_ instanceof n.FileReferences)return _.resolve(this._resolverService).then(L=>L.children);throw new Error("bad tree")}};e.DataSource=u,e.DataSource=u=ke([ge(0,b.ITextModelService)],u);class r{getHeight(){return 23}getTemplateId(_){return _ instanceof n.FileReferences?p.id:g.id}}e.Delegate=r;let a=class{constructor(_){this._keybindingService=_}getKeyboardNavigationLabel(_){var L;if(_ instanceof n.OneReference){const D=(L=_.parent.getPreview(_))===null||L===void 0?void 0:L.preview(_.range);if(D)return D.value}return(0,w.basename)(_.uri)}};e.StringRepresentationProvider=a,e.StringRepresentationProvider=a=ke([ge(0,o.IKeybindingService)],a);class l{getId(_){return _ instanceof n.OneReference?_.id:_.uri}}e.IdentityProvider=l;let d=class extends m.Disposable{constructor(_,L){super(),this._labelService=L;const D=document.createElement("div");D.classList.add("reference-file"),this.file=this._register(new I.IconLabel(D,{supportHighlights:!0})),this.badge=new k.CountBadge(f.append(D,f.$(".count")),{},i.defaultCountBadgeStyles),_.appendChild(D)}set(_,L){const D=(0,w.dirname)(_.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(_.uri),this._labelService.getUriLabel(D,{relative:!0}),{title:this._labelService.getUriLabel(_.uri),matches:L});const T=_.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,v.localize)(37,"{0} references",T)):this.badge.setTitleFormat((0,v.localize)(38,"{0} reference",T))}};d=ke([ge(1,t.ILabelService)],d);let p=c=class{constructor(_){this._instantiationService=_,this.templateId=c.id}renderTemplate(_){return this._instantiationService.createInstance(d,_)}renderElement(_,L,D){D.set(_.element,(0,y.createMatches)(_.filterData))}disposeTemplate(_){_.dispose()}};e.FileReferencesRenderer=p,p.id="FileReferencesRenderer",e.FileReferencesRenderer=p=c=ke([ge(0,s.IInstantiationService)],p);class h extends m.Disposable{constructor(_){super(),this.label=this._register(new E.HighlightedLabel(_))}set(_,L){var D;const T=(D=_.parent.getPreview(_))===null||D===void 0?void 0:D.preview(_.range);if(!T||!T.value)this.label.set(`${(0,w.basename)(_.uri)}:${_.range.startLineNumber+1}:${_.range.startColumn+1}`);else{const{value:N,highlight:A}=T;L&&!y.FuzzyScore.isDefault(L)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(N,(0,y.createMatches)(L))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(N,[A]))}}}class g{constructor(){this.templateId=g.id}renderTemplate(_){return new h(_)}renderElement(_,L,D){D.set(_.element,_.filterData)}disposeTemplate(_){_.dispose()}}e.OneReferenceRenderer=g,g.id="OneReferenceRenderer";class C{getWidgetAriaLabel(){return(0,v.localize)(39,"References")}getAriaLabel(_){return _.ariaMessage}}e.AccessibilityProvider=C}),define(re[751],ae([1,0,4,207,112,18,26,2,16,30,3,58,31,109,32,316]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class n{get templateId(){return"header"}renderTemplate(h){h.classList.add("group-header");const g=document.createElement("span");return h.append(g),{container:h,text:g}}renderElement(h,g,C){var S,_;C.text.textContent=(_=(S=h.group)===null||S===void 0?void 0:S.title)!==null&&_!==void 0?_:""}disposeTemplate(h){}}let c=class{get templateId(){return"action"}constructor(h,g){this._supportsPreview=h,this._keybindingService=g}renderTemplate(h){h.classList.add(this.templateId);const g=document.createElement("div");g.className="icon",h.append(g);const C=document.createElement("span");C.className="title",h.append(C);const S=new k.KeybindingLabel(h,w.OS);return{container:h,icon:g,text:C,keybinding:S}}renderElement(h,g,C){var S,_,L;if(!((S=h.group)===null||S===void 0)&&S.icon?(C.icon.className=b.ThemeIcon.asClassName(h.group.icon),h.group.icon.color&&(C.icon.style.color=(0,i.asCssVariable)(h.group.icon.color.id))):(C.icon.className=b.ThemeIcon.asClassName(y.Codicon.lightBulb),C.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!h.item||!h.label)return;C.text.textContent=d(h.label),C.keybinding.set(h.keybinding),f.setVisibility(!!h.keybinding,C.keybinding.element);const D=(_=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||_===void 0?void 0:_.getLabel(),T=(L=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||L===void 0?void 0:L.getLabel();C.container.classList.toggle("option-disabled",h.disabled),h.disabled?C.container.title=h.label:D&&T?this._supportsPreview&&h.canPreview?C.container.title=(0,v.localize)(1674,"{0} to Apply, {1} to Preview",D,T):C.container.title=(0,v.localize)(1675,"{0} to Apply",D):C.container.title=""}disposeTemplate(h){h.keybinding.dispose()}};c=ke([ge(1,o.IKeybindingService)],c);class u extends UIEvent{constructor(){super("acceptSelectedAction")}}class r extends UIEvent{constructor(){super("previewSelectedAction")}}function a(p){if(p.kind==="action")return p.label}let l=class extends m.Disposable{constructor(h,g,C,S,_,L){super(),this._delegate=S,this._contextViewService=_,this._keybindingService=L,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new I.CancellationTokenSource),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const D={getHeight:T=>T.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:T=>T.kind};this._list=this._register(new E.List(h,this.domNode,D,[new c(g,this._keybindingService),new n],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:a},accessibilityProvider:{getAriaLabel:T=>{if(T.kind==="action"){let N=T.label?d(T?.label):"";return T.disabled&&(N=(0,v.localize)(1676,"{0}, Disabled Reason: {1}",N,T.disabled)),N}return null},getWidgetAriaLabel:()=>(0,v.localize)(1677,"Action Widget"),getRole:T=>T.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(t.defaultListStyles),this._register(this._list.onMouseClick(T=>this.onListClick(T))),this._register(this._list.onMouseOver(T=>this.onListHover(T))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(T=>this.onListSelection(T))),this._allMenuItems=C,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(h){return!h.disabled&&h.kind==="action"}hide(h){this._delegate.onHide(h),this.cts.cancel(),this._contextViewService.hideContextView()}layout(h){const g=this._allMenuItems.filter(T=>T.kind==="header").length,S=this._allMenuItems.length*this._actionLineHeight+g*this._headerLineHeight-g*this._actionLineHeight;this._list.layout(S);let _=h;if(this._allMenuItems.length>=50)_=380;else{const T=this._allMenuItems.map((N,A)=>{const R=this.domNode.ownerDocument.getElementById(this._list.getElementID(A));if(R){R.style.width="auto";const M=R.getBoundingClientRect().width;return R.style.width="",M}return 0});_=Math.max(...T,h)}const D=Math.min(S,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(D,_),this.domNode.style.height=`${D}px`,this._list.domFocus(),_}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(h){const g=this._list.getFocus();if(g.length===0)return;const C=g[0],S=this._list.element(C);if(!this.focusCondition(S))return;const _=h?new r:new u;this._list.setSelection([C],_)}onListSelection(h){if(!h.elements.length)return;const g=h.elements[0];g.item&&this.focusCondition(g)?this._delegate.onSelect(g.item,h.browserEvent instanceof r):this._list.setSelection([])}onFocus(){var h,g;const C=this._list.getFocus();if(C.length===0)return;const S=C[0],_=this._list.element(S);(g=(h=this._delegate).onFocus)===null||g===void 0||g.call(h,_.item)}async onListHover(h){const g=h.element;if(g&&g.item&&this.focusCondition(g)){if(this._delegate.onHover&&!g.disabled&&g.kind==="action"){const C=await this._delegate.onHover(g.item,this.cts.token);g.canPreview=C?C.canPreview:void 0}h.index&&this._list.splice(h.index,1,[g])}this._list.setFocus(typeof h.index=="number"?[h.index]:[])}onListClick(h){h.element&&this.focusCondition(h.element)&&this._list.setFocus([])}};e.ActionList=l,e.ActionList=l=ke([ge(4,s.IContextViewService),ge(5,o.IKeybindingService)],l);function d(p){return p.replace(/\r\n|\r|\n/g," ")}}),define(re[752],ae([1,0,4,87,2,3,751,29,12,58,48,7,32,316]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,o.registerColor)("actionBar.toggledBackground",o.inputActiveOptionBackground,(0,I.localize)(1667,"Background color for toggled action items in action bar."));const t={Visible:new w.RawContextKey("codeActionMenuVisible",!1,(0,I.localize)(1668,"Whether the action widget list is visible"))};e.IActionWidgetService=(0,s.createDecorator)("actionWidgetService");let i=class extends E.Disposable{get isVisible(){return t.Visible.getValue(this._contextKeyService)||!1}constructor(u,r,a){super(),this._contextViewService=u,this._contextKeyService=r,this._instantiationService=a,this._list=this._register(new E.MutableDisposable)}show(u,r,a,l,d,p,h){const g=t.Visible.bindTo(this._contextKeyService),C=this._instantiationService.createInstance(y.ActionList,u,r,a,l);this._contextViewService.showContextView({getAnchor:()=>d,render:S=>(g.set(!0),this._renderWidget(S,C,h??[])),onHide:S=>{g.reset(),this._onWidgetClosed(S)}},p,!1)}acceptSelected(u){var r;(r=this._list.value)===null||r===void 0||r.acceptSelected(u)}focusPrevious(){var u,r;(r=(u=this._list)===null||u===void 0?void 0:u.value)===null||r===void 0||r.focusPrevious()}focusNext(){var u,r;(r=(u=this._list)===null||u===void 0?void 0:u.value)===null||r===void 0||r.focusNext()}hide(u){var r;(r=this._list.value)===null||r===void 0||r.hide(u),this._list.clear()}_renderWidget(u,r,a){var l;const d=document.createElement("div");if(d.classList.add("action-widget"),u.appendChild(d),this._list.value=r,this._list.value)d.appendChild(this._list.value.domNode);else throw new Error("List has no value");const p=new E.DisposableStore,h=document.createElement("div"),g=u.appendChild(h);g.classList.add("context-view-block"),p.add(f.addDisposableListener(g,f.EventType.MOUSE_DOWN,T=>T.stopPropagation()));const C=document.createElement("div"),S=u.appendChild(C);S.classList.add("context-view-pointerBlock"),p.add(f.addDisposableListener(S,f.EventType.POINTER_MOVE,()=>S.remove())),p.add(f.addDisposableListener(S,f.EventType.MOUSE_DOWN,()=>S.remove()));let _=0;if(a.length){const T=this._createActionBar(".action-widget-action-bar",a);T&&(d.appendChild(T.getContainer().parentElement),p.add(T),_=T.getContainer().offsetWidth)}const L=(l=this._list.value)===null||l===void 0?void 0:l.layout(_);d.style.width=`${L}px`;const D=p.add(f.trackFocus(u));return p.add(D.onDidBlur(()=>this.hide(!0))),p}_createActionBar(u,r){if(!r.length)return;const a=f.$(u),l=new k.ActionBar(a);return l.push(r,{icon:!1,label:!0}),l}_onWidgetClosed(u){var r;(r=this._list.value)===null||r===void 0||r.hide(u)}};i=ke([ge(0,b.IContextViewService),ge(1,w.IContextKeyService),ge(2,s.IInstantiationService)],i),(0,v.registerSingleton)(e.IActionWidgetService,i,1);const n=1100;(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"hideCodeActionWidget",title:(0,I.localize2)(1669,"Hide action widget"),precondition:t.Visible,keybinding:{weight:n,primary:9,secondary:[1033]}})}run(c){c.get(e.IActionWidgetService).hide(!0)}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectPrevCodeAction",title:(0,I.localize2)(1670,"Select previous action"),precondition:t.Visible,keybinding:{weight:n,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(c){const u=c.get(e.IActionWidgetService);u instanceof i&&u.focusPrevious()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectNextCodeAction",title:(0,I.localize2)(1671,"Select next action"),precondition:t.Visible,keybinding:{weight:n,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(c){const u=c.get(e.IActionWidgetService);u instanceof i&&u.focusNext()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:y.acceptSelectedActionCommand,title:(0,I.localize2)(1672,"Accept selected action"),precondition:t.Visible,keybinding:{weight:n,primary:3,secondary:[2137]}})}run(c){const u=c.get(e.IActionWidgetService);u instanceof i&&u.acceptSelected()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:y.previewSelectedActionCommand,title:(0,I.localize2)(1673,"Preview selected action"),precondition:t.Visible,keybinding:{weight:n,primary:2051}})}run(c){const u=c.get(e.IActionWidgetService);u instanceof i&&u.acceptSelected(!0)}})}),define(re[753],ae([1,0,4,73,652,40,8,2,109]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class b{constructor(s,o,t,i){this.contextViewService=s,this.telemetryService=o,this.notificationService=t,this.keybindingService=i,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const o=s.getActions();if(!o.length)return;this.focusToReturn=(0,f.getActiveElement)();let t;const i=(0,f.isHTMLElement)(s.domForShadowRoot)?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:n=>{var c;this.lastContainer=n;const u=s.getMenuClassName?s.getMenuClassName():"";u&&(n.className+=" "+u),this.options.blockMouse&&(this.block=n.appendChild((0,f.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(c=this.blockDisposable)===null||c===void 0||c.dispose(),this.blockDisposable=(0,f.addDisposableListener)(this.block,f.EventType.MOUSE_DOWN,d=>d.stopPropagation()));const r=new m.DisposableStore,a=s.actionRunner||new I.ActionRunner;a.onWillRun(d=>this.onActionRun(d,!s.skipTelemetry),this,r),a.onDidRun(this.onDidActionRun,this,r),t=new E.Menu(n,o,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:a,getKeyBinding:s.getKeyBinding?s.getKeyBinding:d=>this.keybindingService.lookupKeybinding(d.id)},w.defaultMenuStyles),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,r),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,r);const l=(0,f.getWindow)(n);return r.add((0,f.addDisposableListener)(l,f.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),r.add((0,f.addDisposableListener)(l,f.EventType.MOUSE_DOWN,d=>{if(d.defaultPrevented)return;const p=new k.StandardMouseEvent(l,d);let h=p.target;if(!p.rightButton){for(;h;){if(h===n)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),(0,m.combinedDisposable)(r,t)},focus:()=>{t?.focus(!!s.autoSelectFirstItem)},onHide:n=>{var c,u,r;(c=s.onHide)===null||c===void 0||c.call(s,!!n),this.block&&(this.block.remove(),this.block=null),(u=this.blockDisposable)===null||u===void 0||u.dispose(),this.blockDisposable=null,this.lastContainer&&((0,f.getActiveElement)()===this.lastContainer||(0,f.isAncestor)((0,f.getActiveElement)(),this.lastContainer))&&((r=this.focusToReturn)===null||r===void 0||r.focus()),this.lastContainer=null}},i,!!i)}onActionRun(s,o){o&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,y.isCancellationError)(s.error)&&this.notificationService.error(s.error)}}e.ContextMenuHandler=b}),define(re[213],ae([1,0,4,481,112,486,174,655,654,366,6,2,3,28,108,12,177,58,7,31,38,109]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.WorkbenchTreeStickyScrollFocused=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,r.createDecorator)("listService");class p{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new s.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(ce){var fe,ve;ce!==this._lastFocusedWidget&&((fe=this._lastFocusedWidget)===null||fe===void 0||fe.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=ce,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(ce,fe){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new E.DefaultStyleController((0,f.createStyleSheet)(),"").style(d.defaultListStyles)),this.lists.some(_e=>_e.widget===ce))throw new Error("Cannot register the same widget multiple times");const ve={widget:ce,extraContextKeys:fe};return this.lists.push(ve),(0,f.isActiveElement)(ce.getHTMLElement())&&this.setLastFocusedList(ce),(0,s.combinedDisposable)(ce.onDidFocus(()=>this.setLastFocusedList(ce)),(0,s.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),ce.onDidDispose(()=>{this.lists=this.lists.filter(_e=>_e!==ve),this._lastFocusedWidget===ce&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=p,e.RawWorkbenchListScrollAtBoundaryContextKey=new n.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new n.RawContextKey("listFocus",!0),e.WorkbenchTreeStickyScrollFocused=new n.RawContextKey("treestickyScrollFocused",!1),e.WorkbenchListSupportsMultiSelectContextKey=new n.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=n.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,n.ContextKeyExpr.not(c.InputFocusedContextKey),e.WorkbenchTreeStickyScrollFocused.negate()),e.WorkbenchListHasSelectionOrFocus=new n.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new n.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new n.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new n.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new n.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new n.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new n.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new n.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new n.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new n.RawContextKey("treeFindOpen",!1);const h="listTypeNavigationMode",g="listAutomaticKeyboardNavigation";function C(oe,ce){const fe=oe.createScoped(ce.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(fe),fe}function S(oe,ce){const fe=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(oe),ve=()=>{const _e=ce.scrollTop===0,Ie=ce.scrollHeight-ce.renderHeight-ce.scrollTop<1;_e&&Ie?fe.set("both"):_e?fe.set("top"):Ie?fe.set("bottom"):fe.set("none")};return ve(),ce.onDidScroll(ve)}const _="workbench.list.multiSelectModifier",L="workbench.list.openMode",D="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",N="workbench.list.typeNavigationMode",A="workbench.list.keyboardNavigation",R="workbench.list.scrollByPage",M="workbench.list.defaultFindMatchType",P="workbench.tree.indent",x="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",B="workbench.list.mouseWheelScrollSensitivity",H="workbench.list.fastScrollSensitivity",K="workbench.tree.expandMode",V="workbench.tree.enableStickyScroll",j="workbench.tree.stickyScrollMaxItemCount";function U(oe){return oe.getValue(_)==="alt"}class Y extends s.Disposable{constructor(ce){super(),this.configurationService=ce,this.useAltAsMultipleSelectionModifier=U(ce),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(ce=>{ce.affectsConfiguration(_)&&(this.useAltAsMultipleSelectionModifier=U(this.configurationService))}))}isSelectionSingleChangeEvent(ce){return this.useAltAsMultipleSelectionModifier?ce.browserEvent.altKey:(0,E.isSelectionSingleChangeEvent)(ce)}isSelectionRangeChangeEvent(ce){return(0,E.isSelectionRangeChangeEvent)(ce)}}function Q(oe,ce){var fe;const ve=oe.get(t.IConfigurationService),_e=oe.get(a.IKeybindingService),Ie=new s.DisposableStore;return[{...ce,keyboardNavigationDelegate:{mightProducePrintableCharacter(Ee){return _e.mightProducePrintableCharacter(Ee)}},smoothScrolling:!!ve.getValue(O),mouseWheelScrollSensitivity:ve.getValue(B),fastScrollSensitivity:ve.getValue(H),multipleSelectionController:(fe=ce.multipleSelectionController)!==null&&fe!==void 0?fe:Ie.add(new Y(ve)),keyboardNavigationEventFilter:pe(_e),scrollByPage:!!ve.getValue(R)},Ie]}let Z=class extends E.List{constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te){const Ae=typeof Ie.horizontalScrolling<"u"?Ie.horizontalScrolling:!!Le.getValue(D),[Pe,Re]=Te.invokeFunction(Q,Ie);super(ce,fe,ve,_e,{keyboardSupport:!1,...Pe,horizontalScrolling:Ae}),this.disposables.add(Re),this.contextKeyService=C(Ce,this),this.disposables.add(S(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ie.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Ie.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ie.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(Le),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(Ie.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const De=this.getSelection(),Ne=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(De.length>0||Ne.length>0),this.listMultiSelection.set(De.length>1),this.listDoubleSelection.set(De.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const De=this.getSelection(),Ne=this.getFocus();this.listHasSelectionOrFocus.set(De.length>0||Ne.length>0)})),this.disposables.add(Le.onDidChangeConfiguration(De=>{De.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=U(Le));let Ne={};if(De.affectsConfiguration(D)&&this.horizontalScrolling===void 0){const me=!!Le.getValue(D);Ne={...Ne,horizontalScrolling:me}}if(De.affectsConfiguration(R)){const me=!!Le.getValue(R);Ne={...Ne,scrollByPage:me}}if(De.affectsConfiguration(O)){const me=!!Le.getValue(O);Ne={...Ne,smoothScrolling:me}}if(De.affectsConfiguration(B)){const me=Le.getValue(B);Ne={...Ne,mouseWheelScrollSensitivity:me}}if(De.affectsConfiguration(H)){const me=Le.getValue(H);Ne={...Ne,fastScrollSensitivity:me}}Object.keys(Ne).length>0&&this.updateOptions(Ne)})),this.navigator=new te(this,{configurationService:Le,...Ie}),this.disposables.add(this.navigator)}updateOptions(ce){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.updateStyles(ce.overrideStyles),ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyles(ce){this.style(ce?(0,d.getListStyles)(ce):d.defaultListStyles)}};e.WorkbenchList=Z,e.WorkbenchList=Z=ke([ge(5,n.IContextKeyService),ge(6,e.IListService),ge(7,t.IConfigurationService),ge(8,r.IInstantiationService)],Z);let G=class extends k.PagedList{constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te){const Ae=typeof Ie.horizontalScrolling<"u"?Ie.horizontalScrolling:!!Le.getValue(D),[Pe,Re]=Te.invokeFunction(Q,Ie);super(ce,fe,ve,_e,{keyboardSupport:!1,...Pe,horizontalScrolling:Ae}),this.disposables=new s.DisposableStore,this.disposables.add(Re),this.contextKeyService=C(Ce,this),this.disposables.add(S(this.contextKeyService,this.widget)),this.horizontalScrolling=Ie.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ie.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Ie.selectionNavigation),this._useAltAsMultipleSelectionModifier=U(Le),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(Ie.overrideStyles),this.disposables.add(Le.onDidChangeConfiguration(De=>{De.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=U(Le));let Ne={};if(De.affectsConfiguration(D)&&this.horizontalScrolling===void 0){const me=!!Le.getValue(D);Ne={...Ne,horizontalScrolling:me}}if(De.affectsConfiguration(R)){const me=!!Le.getValue(R);Ne={...Ne,scrollByPage:me}}if(De.affectsConfiguration(O)){const me=!!Le.getValue(O);Ne={...Ne,smoothScrolling:me}}if(De.affectsConfiguration(B)){const me=Le.getValue(B);Ne={...Ne,mouseWheelScrollSensitivity:me}}if(De.affectsConfiguration(H)){const me=Le.getValue(H);Ne={...Ne,fastScrollSensitivity:me}}Object.keys(Ne).length>0&&this.updateOptions(Ne)})),this.navigator=new te(this,{configurationService:Le,...Ie}),this.disposables.add(this.navigator)}updateOptions(ce){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.updateStyles(ce.overrideStyles),ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyles(ce){this.style(ce?(0,d.getListStyles)(ce):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=G,e.WorkbenchPagedList=G=ke([ge(5,n.IContextKeyService),ge(6,e.IListService),ge(7,t.IConfigurationService),ge(8,r.IInstantiationService)],G);let F=class extends I.Table{constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te,Ae){const Pe=typeof Ce.horizontalScrolling<"u"?Ce.horizontalScrolling:!!Te.getValue(D),[Re,We]=Ae.invokeFunction(Q,Ce);super(ce,fe,ve,_e,Ie,{keyboardSupport:!1,...Re,horizontalScrolling:Pe}),this.disposables.add(We),this.contextKeyService=C(Ee,this),this.disposables.add(S(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Ce.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ce.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(Te),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),this.updateStyles(Ce.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ne=this.getSelection(),me=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ne.length>0||me.length>0),this.listMultiSelection.set(Ne.length>1),this.listDoubleSelection.set(Ne.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ne=this.getSelection(),me=this.getFocus();this.listHasSelectionOrFocus.set(Ne.length>0||me.length>0)})),this.disposables.add(Te.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=U(Te));let me={};if(Ne.affectsConfiguration(D)&&this.horizontalScrolling===void 0){const we=!!Te.getValue(D);me={...me,horizontalScrolling:we}}if(Ne.affectsConfiguration(R)){const we=!!Te.getValue(R);me={...me,scrollByPage:we}}if(Ne.affectsConfiguration(O)){const we=!!Te.getValue(O);me={...me,smoothScrolling:we}}if(Ne.affectsConfiguration(B)){const we=Te.getValue(B);me={...me,mouseWheelScrollSensitivity:we}}if(Ne.affectsConfiguration(H)){const we=Te.getValue(H);me={...me,fastScrollSensitivity:we}}Object.keys(me).length>0&&this.updateOptions(me)})),this.navigator=new de(this,{configurationService:Te,...Ce}),this.disposables.add(this.navigator)}updateOptions(ce){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.updateStyles(ce.overrideStyles),ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyles(ce){this.style(ce?(0,d.getListStyles)(ce):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=F,e.WorkbenchTable=F=ke([ge(6,n.IContextKeyService),ge(7,e.IListService),ge(8,t.IConfigurationService),ge(9,r.IInstantiationService)],F);class J extends s.Disposable{constructor(ce,fe){var ve;super(),this.widget=ce,this._onDidOpen=this._register(new v.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(v.Event.filter(this.widget.onDidChangeSelection,_e=>(0,f.isKeyboardEvent)(_e.browserEvent))(_e=>this.onSelectionFromKeyboard(_e))),this._register(this.widget.onPointer(_e=>this.onPointer(_e.element,_e.browserEvent))),this._register(this.widget.onMouseDblClick(_e=>this.onMouseDblClick(_e.element,_e.browserEvent))),typeof fe?.openOnSingleClick!="boolean"&&fe?.configurationService?(this.openOnSingleClick=fe?.configurationService.getValue(L)!=="doubleClick",this._register(fe?.configurationService.onDidChangeConfiguration(_e=>{_e.affectsConfiguration(L)&&(this.openOnSingleClick=fe?.configurationService.getValue(L)!=="doubleClick")}))):this.openOnSingleClick=(ve=fe?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(ce){if(ce.elements.length!==1)return;const fe=ce.browserEvent,ve=typeof fe.preserveFocus=="boolean"?fe.preserveFocus:!0,_e=typeof fe.pinned=="boolean"?fe.pinned:!ve;this._open(this.getSelectedElement(),ve,_e,!1,ce.browserEvent)}onPointer(ce,fe){if(!this.openOnSingleClick||fe.detail===2)return;const _e=fe.button===1,Ie=!0,Ce=_e,Ee=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(ce,Ie,Ce,Ee,fe)}onMouseDblClick(ce,fe){if(!fe)return;const ve=fe.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&fe.offsetX<16)return;const Ie=!1,Ce=!0,Ee=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(ce,Ie,Ce,Ee,fe)}_open(ce,fe,ve,_e,Ie){ce&&this._onDidOpen.fire({editorOptions:{preserveFocus:fe,pinned:ve,revealIfVisible:!0},sideBySide:_e,element:ce,browserEvent:Ie})}}class te extends J{constructor(ce,fe){super(ce,fe),this.widget=ce}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class de extends J{constructor(ce,fe){super(ce,fe)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class he extends J{constructor(ce,fe){super(ce,fe)}getSelectedElement(){var ce;return(ce=this.widget.getSelection()[0])!==null&&ce!==void 0?ce:void 0}}function pe(oe){let ce=!1;return fe=>{if(fe.toKeyCodeChord().isModifierKey())return!1;if(ce)return ce=!1,!1;const ve=oe.softDispatch(fe,fe.target);return ve.kind===1?(ce=!0,!1):(ce=!1,ve.kind===0)}}let ue=class extends b.ObjectTree{constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te){const{options:Ae,getTypeNavigationMode:Pe,disposable:Re}=Ce.invokeFunction($,Ie);super(ce,fe,ve,_e,Ae),this.disposables.add(Re),this.internals=new X(this,Ie,Pe,Ie.overrideStyles,Ee,Le,Te),this.disposables.add(this.internals)}updateOptions(ce){super.updateOptions(ce),this.internals.updateOptions(ce)}};e.WorkbenchObjectTree=ue,e.WorkbenchObjectTree=ue=ke([ge(5,r.IInstantiationService),ge(6,n.IContextKeyService),ge(7,e.IListService),ge(8,t.IConfigurationService)],ue);let ie=class extends b.CompressibleObjectTree{constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te){const{options:Ae,getTypeNavigationMode:Pe,disposable:Re}=Ce.invokeFunction($,Ie);super(ce,fe,ve,_e,Ae),this.disposables.add(Re),this.internals=new X(this,Ie,Pe,Ie.overrideStyles,Ee,Le,Te),this.disposables.add(this.internals)}updateOptions(ce={}){super.updateOptions(ce),ce.overrideStyles&&this.internals.updateStyleOverrides(ce.overrideStyles),this.internals.updateOptions(ce)}};e.WorkbenchCompressibleObjectTree=ie,e.WorkbenchCompressibleObjectTree=ie=ke([ge(5,r.IInstantiationService),ge(6,n.IContextKeyService),ge(7,e.IListService),ge(8,t.IConfigurationService)],ie);let se=class extends w.DataTree{constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te,Ae){const{options:Pe,getTypeNavigationMode:Re,disposable:We}=Ee.invokeFunction($,Ce);super(ce,fe,ve,_e,Ie,Pe),this.disposables.add(We),this.internals=new X(this,Ce,Re,Ce.overrideStyles,Le,Te,Ae),this.disposables.add(this.internals)}updateOptions(ce={}){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.internals.updateStyleOverrides(ce.overrideStyles),this.internals.updateOptions(ce)}};e.WorkbenchDataTree=se,e.WorkbenchDataTree=se=ke([ge(6,r.IInstantiationService),ge(7,n.IContextKeyService),ge(8,e.IListService),ge(9,t.IConfigurationService)],se);let ne=class extends m.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te,Ae){const{options:Pe,getTypeNavigationMode:Re,disposable:We}=Ee.invokeFunction($,Ce);super(ce,fe,ve,_e,Ie,Pe),this.disposables.add(We),this.internals=new X(this,Ce,Re,Ce.overrideStyles,Le,Te,Ae),this.disposables.add(this.internals)}updateOptions(ce={}){super.updateOptions(ce),ce.overrideStyles&&this.internals.updateStyleOverrides(ce.overrideStyles),this.internals.updateOptions(ce)}};e.WorkbenchAsyncDataTree=ne,e.WorkbenchAsyncDataTree=ne=ke([ge(6,r.IInstantiationService),ge(7,n.IContextKeyService),ge(8,e.IListService),ge(9,t.IConfigurationService)],ne);let W=class extends m.CompressibleAsyncDataTree{constructor(ce,fe,ve,_e,Ie,Ce,Ee,Le,Te,Ae,Pe){const{options:Re,getTypeNavigationMode:We,disposable:De}=Le.invokeFunction($,Ee);super(ce,fe,ve,_e,Ie,Ce,Re),this.disposables.add(De),this.internals=new X(this,Ee,We,Ee.overrideStyles,Te,Ae,Pe),this.disposables.add(this.internals)}updateOptions(ce){super.updateOptions(ce),this.internals.updateOptions(ce)}};e.WorkbenchCompressibleAsyncDataTree=W,e.WorkbenchCompressibleAsyncDataTree=W=ke([ge(7,r.IInstantiationService),ge(8,n.IContextKeyService),ge(9,e.IListService),ge(10,t.IConfigurationService)],W);function q(oe){const ce=oe.getValue(T);if(ce==="highlight")return y.TreeFindMode.Highlight;if(ce==="filter")return y.TreeFindMode.Filter;const fe=oe.getValue(A);if(fe==="simple"||fe==="highlight")return y.TreeFindMode.Highlight;if(fe==="filter")return y.TreeFindMode.Filter}function z(oe){const ce=oe.getValue(M);if(ce==="fuzzy")return y.TreeFindMatchType.Fuzzy;if(ce==="contiguous")return y.TreeFindMatchType.Contiguous}function $(oe,ce){var fe;const ve=oe.get(t.IConfigurationService),_e=oe.get(u.IContextViewService),Ie=oe.get(n.IContextKeyService),Ce=oe.get(r.IInstantiationService),Ee=()=>{const We=Ie.getContextKeyValue(h);if(We==="automatic")return E.TypeNavigationMode.Automatic;if(We==="trigger"||Ie.getContextKeyValue(g)===!1)return E.TypeNavigationMode.Trigger;const Ne=ve.getValue(N);if(Ne==="automatic")return E.TypeNavigationMode.Automatic;if(Ne==="trigger")return E.TypeNavigationMode.Trigger},Le=ce.horizontalScrolling!==void 0?ce.horizontalScrolling:!!ve.getValue(D),[Te,Ae]=Ce.invokeFunction(Q,ce),Pe=ce.paddingBottom,Re=ce.renderIndentGuides!==void 0?ce.renderIndentGuides:ve.getValue(x);return{getTypeNavigationMode:Ee,disposable:Ae,options:{keyboardSupport:!1,...Te,indent:typeof ve.getValue(P)=="number"?ve.getValue(P):void 0,renderIndentGuides:Re,smoothScrolling:!!ve.getValue(O),defaultFindMode:q(ve),defaultFindMatchType:z(ve),horizontalScrolling:Le,scrollByPage:!!ve.getValue(R),paddingBottom:Pe,hideTwistiesOfChildlessElements:ce.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(fe=ce.expandOnlyOnTwistieClick)!==null&&fe!==void 0?fe:ve.getValue(K)==="doubleClick",contextViewProvider:_e,findWidgetStyles:d.defaultFindWidgetStyles,enableStickyScroll:!!ve.getValue(V),stickyScrollMaxItemCount:Number(ve.getValue(j))}}}let X=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(ce,fe,ve,_e,Ie,Ce,Ee){var Le;this.tree=ce,this.disposables=[],this.contextKeyService=C(Ie,ce),this.disposables.push(S(this.contextKeyService,ce)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(fe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!fe.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Le=fe.findWidgetEnabled)!==null&&Le!==void 0?Le:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this.treeStickyScrollFocused=e.WorkbenchTreeStickyScrollFocused.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=U(Ee),this.updateStyleOverrides(_e);const Ae=()=>{const Re=ce.getFocus()[0];if(!Re)return;const We=ce.getNode(Re);this.treeElementCanCollapse.set(We.collapsible&&!We.collapsed),this.treeElementHasParent.set(!!ce.getParentElement(Re)),this.treeElementCanExpand.set(We.collapsible&&We.collapsed),this.treeElementHasChild.set(!!ce.getFirstElementChild(Re))},Pe=new Set;Pe.add(h),Pe.add(g),this.disposables.push(this.contextKeyService,Ce.register(ce),ce.onDidChangeSelection(()=>{const Re=ce.getSelection(),We=ce.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Re.length>0||We.length>0),this.hasMultiSelection.set(Re.length>1),this.hasDoubleSelection.set(Re.length===2)})}),ce.onDidChangeFocus(()=>{const Re=ce.getSelection(),We=ce.getFocus();this.hasSelectionOrFocus.set(Re.length>0||We.length>0),Ae()}),ce.onDidChangeCollapseState(Ae),ce.onDidChangeModel(Ae),ce.onDidChangeFindOpenState(Re=>this.treeFindOpen.set(Re)),ce.onDidChangeStickyScrollFocused(Re=>this.treeStickyScrollFocused.set(Re)),Ee.onDidChangeConfiguration(Re=>{let We={};if(Re.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=U(Ee)),Re.affectsConfiguration(P)){const De=Ee.getValue(P);We={...We,indent:De}}if(Re.affectsConfiguration(x)&&fe.renderIndentGuides===void 0){const De=Ee.getValue(x);We={...We,renderIndentGuides:De}}if(Re.affectsConfiguration(O)){const De=!!Ee.getValue(O);We={...We,smoothScrolling:De}}if(Re.affectsConfiguration(T)||Re.affectsConfiguration(A)){const De=q(Ee);We={...We,defaultFindMode:De}}if(Re.affectsConfiguration(N)||Re.affectsConfiguration(A)){const De=ve();We={...We,typeNavigationMode:De}}if(Re.affectsConfiguration(M)){const De=z(Ee);We={...We,defaultFindMatchType:De}}if(Re.affectsConfiguration(D)&&fe.horizontalScrolling===void 0){const De=!!Ee.getValue(D);We={...We,horizontalScrolling:De}}if(Re.affectsConfiguration(R)){const De=!!Ee.getValue(R);We={...We,scrollByPage:De}}if(Re.affectsConfiguration(K)&&fe.expandOnlyOnTwistieClick===void 0&&(We={...We,expandOnlyOnTwistieClick:Ee.getValue(K)==="doubleClick"}),Re.affectsConfiguration(V)){const De=Ee.getValue(V);We={...We,enableStickyScroll:De}}if(Re.affectsConfiguration(j)){const De=Math.max(1,Ee.getValue(j));We={...We,stickyScrollMaxItemCount:De}}if(Re.affectsConfiguration(B)){const De=Ee.getValue(B);We={...We,mouseWheelScrollSensitivity:De}}if(Re.affectsConfiguration(H)){const De=Ee.getValue(H);We={...We,fastScrollSensitivity:De}}Object.keys(We).length>0&&ce.updateOptions(We)}),this.contextKeyService.onDidChangeContext(Re=>{Re.affectsSome(Pe)&&ce.updateOptions({typeNavigationMode:ve()})})),this.navigator=new he(ce,{configurationService:Ee,...fe}),this.disposables.push(this.navigator)}updateOptions(ce){ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyleOverrides(ce){this.tree.style(ce?(0,d.getListStyles)(ce):d.defaultListStyles)}dispose(){this.disposables=(0,s.dispose)(this.disposables)}};X=ke([ge(4,n.IContextKeyService),ge(5,e.IListService),ge(6,t.IConfigurationService)],X),l.Registry.as(i.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,o.localize)(1592,"Workbench"),type:"object",properties:{[_]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,o.localize)(1593,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,o.localize)(1594,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,o.localize)(1595,"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[L]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,o.localize)(1596,"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[D]:{type:"boolean",default:!1,description:(0,o.localize)(1597,"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[R]:{type:"boolean",default:!1,description:(0,o.localize)(1598,"Controls whether clicks in the scrollbar scroll page by page.")},[P]:{type:"number",default:8,minimum:4,maximum:40,description:(0,o.localize)(1599,"Controls tree indentation in pixels.")},[x]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,o.localize)(1600,"Controls whether the tree should render indent guides.")},[O]:{type:"boolean",default:!1,description:(0,o.localize)(1601,"Controls whether lists and trees have smooth scrolling.")},[B]:{type:"number",default:1,markdownDescription:(0,o.localize)(1602,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[H]:{type:"number",default:5,markdownDescription:(0,o.localize)(1603,"Scrolling speed multiplier when pressing `Alt`.")},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,o.localize)(1604,"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,o.localize)(1605,"Filter elements when searching.")],default:"highlight",description:(0,o.localize)(1606,"Controls the default find mode for lists and trees in the workbench.")},[A]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,o.localize)(1607,"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,o.localize)(1608,"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,o.localize)(1609,"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,o.localize)(1610,"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,o.localize)(1611,"Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[M]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,o.localize)(1612,"Use fuzzy matching when searching."),(0,o.localize)(1613,"Use contiguous matching when searching.")],default:"fuzzy",description:(0,o.localize)(1614,"Controls the type of matching used when searching lists and trees in the workbench.")},[K]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,o.localize)(1615,"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[V]:{type:"boolean",default:!0,description:(0,o.localize)(1616,"Controls whether sticky scrolling is enabled in trees.")},[j]:{type:"number",minimum:1,default:7,markdownDescription:(0,o.localize)(1617,"Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[N]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,o.localize)(1618,"Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})}),define(re[80],ae([1,0,14,26,190,30,6,19,22,3,270,38]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.registerIcon=c,e.getIconRegistry=u,e.Extensions={IconContribution:"base.contributions.icons"};var o;(function(d){function p(h,g){let C=h.defaults;for(;I.ThemeIcon.isThemeIcon(C);){const S=n.getIcon(C.id);if(!S)return;C=S.defaults}return C}d.getDefinition=p})(o||(e.IconContribution=o={}));var t;(function(d){function p(g){return{weight:g.weight,style:g.style,src:g.src.map(C=>({format:C.format,location:C.location.toString()}))}}d.toJSONObject=p;function h(g){const C=S=>(0,m.isString)(S)?S:void 0;if(g&&Array.isArray(g.src)&&g.src.every(S=>(0,m.isString)(S.format)&&(0,m.isString)(S.location)))return{weight:C(g.weight),style:C(g.style),src:g.src.map(S=>({format:S.format,location:w.URI.parse(S.location)}))}}d.fromJSONObject=h})(t||(e.IconFontDefinition=t={}));class i{constructor(){this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,b.localize)(1555,"The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,b.localize)(1556,"The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${I.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(p,h,g,C){const S=this.iconsById[p];if(S){if(g&&!S.description){S.description=g,this.iconSchema.properties[p].markdownDescription=`${g} $(${p})`;const D=this.iconReferenceSchema.enum.indexOf(p);D!==-1&&(this.iconReferenceSchema.enumDescriptions[D]=g),this._onDidChange.fire()}return S}const _={id:p,description:g,defaults:h,deprecationMessage:C};this.iconsById[p]=_;const L={$ref:"#/definitions/icons"};return C&&(L.deprecationMessage=C),g&&(L.markdownDescription=`${g}: $(${p})`),this.iconSchema.properties[p]=L,this.iconReferenceSchema.enum.push(p),this.iconReferenceSchema.enumDescriptions.push(g||""),this._onDidChange.fire(),{id:p}}getIcons(){return Object.keys(this.iconsById).map(p=>this.iconsById[p])}getIcon(p){return this.iconsById[p]}getIconSchema(){return this.iconSchema}toString(){const p=(S,_)=>S.id.localeCompare(_.id),h=S=>{for(;I.ThemeIcon.isThemeIcon(S.defaults);)S=this.iconsById[S.defaults.id];return`codicon codicon-${S?S.id:""}`},g=[];g.push("| preview     | identifier                        | default codicon ID                | description"),g.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const C=Object.keys(this.iconsById).map(S=>this.iconsById[S]);for(const S of C.filter(_=>!!_.description).sort(p))g.push(`|<i class="${h(S)}"></i>|${S.id}|${I.ThemeIcon.isThemeIcon(S.defaults)?S.defaults.id:S.id}|${S.description||""}|`);g.push("| preview     | identifier                        "),g.push("| ----------- | --------------------------------- |");for(const S of C.filter(_=>!I.ThemeIcon.isThemeIcon(_.defaults)).sort(p))g.push(`|<i class="${h(S)}"></i>|${S.id}|`);return g.join(`
`)}}const n=new i;s.Registry.add(e.Extensions.IconContribution,n);function c(d,p,h,g){return n.registerIcon(d,p,h,g)}function u(){return n}function r(){const d=(0,E.getCodiconFontCharacters)();for(const p in d){const h="\\"+d[p].toString(16);n.registerIcon(p,{fontCharacter:h})}}r(),e.iconsSchemaId="vscode://schemas/icons";const a=s.Registry.as(v.Extensions.JSONContribution);a.registerSchema(e.iconsSchemaId,n.getIconSchema());const l=new f.RunOnceScheduler(()=>a.notifySchemaChanged(e.iconsSchemaId),200);n.onDidChange(()=>{l.isScheduled()||l.schedule()}),e.widgetClose=c("widget-close",k.Codicon.close,(0,b.localize)(1557,"Icon for the close action in widgets.")),e.gotoPreviousLocation=c("goto-previous-location",k.Codicon.arrowUp,(0,b.localize)(1558,"Icon for goto previous editor location.")),e.gotoNextLocation=c("goto-next-location",k.Codicon.arrowDown,(0,b.localize)(1559,"Icon for goto next editor location.")),e.syncing=I.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=I.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(re[754],ae([1,0,4,102,87,85,40,13,26,2,21,30,74,86,37,56,66,9,5,104,42,94,133,95,3,134,7,80,510]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerModelFromEditors=e.AccessibleDiffViewer=void 0;const L=(0,_.registerIcon)("diff-review-insert",w.Codicon.add,(0,g.localize)(8,"Icon for 'Insert' in accessible diff viewer.")),D=(0,_.registerIcon)("diff-review-remove",w.Codicon.remove,(0,g.localize)(9,"Icon for 'Remove' in accessible diff viewer.")),T=(0,_.registerIcon)("diff-review-close",w.Codicon.close,(0,g.localize)(10,"Icon for 'Close' in accessible diff viewer."));let N=class extends b.Disposable{constructor(Y,Q,Z,G,F,J,te,de,he){super(),this._parentNode=Y,this._visible=Q,this._setVisible=Z,this._canClose=G,this._width=F,this._height=J,this._diffs=te,this._models=de,this._instantiationService=he,this._state=(0,v.derivedWithStore)(this,(pe,ue)=>{const ie=this._visible.read(pe);if(this._parentNode.style.visibility=ie?"visible":"hidden",!ie)return null;const se=ue.add(this._instantiationService.createInstance(A,this._diffs,this._models,this._setVisible,this._canClose)),ne=ue.add(this._instantiationService.createInstance(V,this._parentNode,se,this._width,this._height,this._models));return{model:se,view:ne}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,v.transaction)(Y=>{const Q=this._visible.get();this._setVisible(!0,Y),Q&&this._state.get().model.nextGroup(Y)})}prev(){(0,v.transaction)(Y=>{this._setVisible(!0,Y),this._state.get().model.previousGroup(Y)})}close(){(0,v.transaction)(Y=>{this._setVisible(!1,Y)})}};e.AccessibleDiffViewer=N,N._ttPolicy=(0,k.createTrustedTypesPolicy)("diffReview",{createHTML:U=>U}),e.AccessibleDiffViewer=N=ke([ge(8,S.IInstantiationService)],N);let A=class extends b.Disposable{constructor(Y,Q,Z,G,F){super(),this._diffs=Y,this._models=Q,this._setVisible=Z,this.canClose=G,this._accessibilitySignalService=F,this._groups=(0,v.observableValue)(this,[]),this._currentGroupIdx=(0,v.observableValue)(this,0),this._currentElementIdx=(0,v.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((J,te)=>this._groups.read(te)[J]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((J,te)=>{var de;return(de=this.currentGroup.read(te))===null||de===void 0?void 0:de.lines[J]}),this._register((0,v.autorun)(J=>{const te=this._diffs.read(J);if(!te){this._groups.set([],void 0);return}const de=M(te,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,v.transaction)(he=>{const pe=this._models.getModifiedPosition();if(pe){const ue=de.findIndex(ie=>pe?.lineNumber<ie.range.modified.endLineNumberExclusive);ue!==-1&&this._currentGroupIdx.set(ue,he)}this._groups.set(de,he)})})),this._register((0,v.autorun)(J=>{const te=this.currentElement.read(J);te?.type===P.Deleted?this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):te?.type===P.Added&&this._accessibilitySignalService.playSignal(C.AccessibilitySignal.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,v.autorun)(J=>{var te;const de=this.currentElement.read(J);if(de&&de.type!==P.Header){const he=(te=de.modifiedLineNumber)!==null&&te!==void 0?te:de.diff.modified.startLineNumber;this._models.modifiedSetSelection(r.Range.fromPositions(new u.Position(he,1)))}}))}_goToGroupDelta(Y,Q){const Z=this.groups.get();!Z||Z.length<=1||(0,v.subtransaction)(Q,G=>{this._currentGroupIdx.set(c.OffsetRange.ofLength(Z.length).clipCyclic(this._currentGroupIdx.get()+Y),G),this._currentElementIdx.set(0,G)})}nextGroup(Y){this._goToGroupDelta(1,Y)}previousGroup(Y){this._goToGroupDelta(-1,Y)}_goToLineDelta(Y){const Q=this.currentGroup.get();!Q||Q.lines.length<=1||(0,v.transaction)(Z=>{this._currentElementIdx.set(c.OffsetRange.ofLength(Q.lines.length).clip(this._currentElementIdx.get()+Y),Z)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(Y){const Q=this.currentGroup.get();if(!Q)return;const Z=Q.lines.indexOf(Y);Z!==-1&&(0,v.transaction)(G=>{this._currentElementIdx.set(Z,G)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const Y=this.currentElement.get();Y&&(Y.type===P.Deleted?this._models.originalReveal(r.Range.fromPositions(new u.Position(Y.originalLineNumber,1))):this._models.modifiedReveal(Y.type!==P.Header?r.Range.fromPositions(new u.Position(Y.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};A=ke([ge(4,C.IAccessibilitySignalService)],A);const R=3;function M(U,Y,Q){const Z=[];for(const G of(0,m.groupAdjacentBy)(U,(F,J)=>J.modified.startLineNumber-F.modified.endLineNumberExclusive<2*R)){const F=[];F.push(new O);const J=new n.LineRange(Math.max(1,G[0].original.startLineNumber-R),Math.min(G[G.length-1].original.endLineNumberExclusive+R,Y+1)),te=new n.LineRange(Math.max(1,G[0].modified.startLineNumber-R),Math.min(G[G.length-1].modified.endLineNumberExclusive+R,Q+1));(0,m.forEachAdjacent)(G,(pe,ue)=>{const ie=new n.LineRange(pe?pe.original.endLineNumberExclusive:J.startLineNumber,ue?ue.original.startLineNumber:J.endLineNumberExclusive),se=new n.LineRange(pe?pe.modified.endLineNumberExclusive:te.startLineNumber,ue?ue.modified.startLineNumber:te.endLineNumberExclusive);ie.forEach(ne=>{F.push(new K(ne,se.startLineNumber+(ne-ie.startLineNumber)))}),ue&&(ue.original.forEach(ne=>{F.push(new B(ue,ne))}),ue.modified.forEach(ne=>{F.push(new H(ue,ne))}))});const de=G[0].modified.join(G[G.length-1].modified),he=G[0].original.join(G[G.length-1].original);Z.push(new x(new a.LineRangeMapping(de,he),F))}return Z}var P;(function(U){U[U.Header=0]="Header",U[U.Unchanged=1]="Unchanged",U[U.Deleted=2]="Deleted",U[U.Added=3]="Added"})(P||(P={}));class x{constructor(Y,Q){this.range=Y,this.lines=Q}}class O{constructor(){this.type=P.Header}}class B{constructor(Y,Q){this.diff=Y,this.originalLineNumber=Q,this.type=P.Deleted,this.modifiedLineNumber=void 0}}class H{constructor(Y,Q){this.diff=Y,this.modifiedLineNumber=Q,this.type=P.Added,this.originalLineNumber=void 0}}class K{constructor(Y,Q){this.originalLineNumber=Y,this.modifiedLineNumber=Q,this.type=P.Unchanged}}let V=class extends b.Disposable{constructor(Y,Q,Z,G,F,J){super(),this._element=Y,this._model=Q,this._width=Z,this._height=G,this._models=F,this._languageService=J,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const te=document.createElement("div");te.className="diff-review-actions",this._actionBar=this._register(new E.ActionBar(te)),this._register((0,v.autorun)(de=>{this._actionBar.clear(),this._model.canClose.read(de)&&this._actionBar.push(new y.Action("diffreview.close",(0,g.localize)(11,"Close"),"close-diff-review "+s.ThemeIcon.asClassName(T),!0,async()=>Q.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new I.DomScrollableElement(this._content,{})),(0,f.reset)(this.domNode,this._scrollbar.getDomNode(),te),this._register((0,v.autorun)(de=>{this._height.read(de),this._width.read(de),this._scrollbar.scanDomNode()})),this._register((0,b.toDisposable)(()=>{(0,f.reset)(this.domNode)})),this._register((0,t.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,t.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,v.autorunWithStore)((de,he)=>{this._model.currentGroup.read(de),this._render(he)})),this._register((0,f.addStandardDisposableListener)(this.domNode,"keydown",de=>{(de.equals(18)||de.equals(2066)||de.equals(530))&&(de.preventDefault(),this._model.goToNextLine()),(de.equals(16)||de.equals(2064)||de.equals(528))&&(de.preventDefault(),this._model.goToPreviousLine()),(de.equals(9)||de.equals(2057)||de.equals(521)||de.equals(1033))&&(de.preventDefault(),this._model.close()),(de.equals(10)||de.equals(3))&&(de.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(Y){const Q=this._models.getOriginalOptions(),Z=this._models.getModifiedOptions(),G=document.createElement("div");G.className="diff-review-table",G.setAttribute("role","list"),G.setAttribute("aria-label",(0,g.localize)(12,"Accessible Diff Viewer. Use arrow up and down to navigate.")),(0,o.applyFontInfo)(G,Z.get(50)),(0,f.reset)(this._content,G);const F=this._models.getOriginalModel(),J=this._models.getModifiedModel();if(!F||!J)return;const te=F.getOptions(),de=J.getOptions(),he=Z.get(67),pe=this._model.currentGroup.get();for(const ue of pe?.lines||[]){if(!pe)break;let ie;if(ue.type===P.Header){const ne=document.createElement("div");ne.className="diff-review-row",ne.setAttribute("role","listitem");const W=pe.range,q=this._model.currentGroupIndex.get(),z=this._model.groups.get().length,$=ce=>ce===0?(0,g.localize)(13,"no lines changed"):ce===1?(0,g.localize)(14,"1 line changed"):(0,g.localize)(15,"{0} lines changed",ce),X=$(W.original.length),ee=$(W.modified.length);ne.setAttribute("aria-label",(0,g.localize)(16,"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",q+1,z,W.original.startLineNumber,X,W.modified.startLineNumber,ee));const oe=document.createElement("div");oe.className="diff-review-cell diff-review-summary",oe.appendChild(document.createTextNode(`${q+1}/${z}: @@ -${W.original.startLineNumber},${W.original.length} +${W.modified.startLineNumber},${W.modified.length} @@`)),ne.appendChild(oe),ie=ne}else ie=this._createRow(ue,he,this._width.get(),Q,F,te,Z,J,de);G.appendChild(ie);const se=(0,v.derived)(ne=>this._model.currentElement.read(ne)===ue);Y.add((0,v.autorun)(ne=>{const W=se.read(ne);ie.tabIndex=W?0:-1,W&&ie.focus()})),Y.add((0,f.addDisposableListener)(ie,"focus",()=>{this._model.goToLine(ue)}))}this._scrollbar.scanDomNode()}_createRow(Y,Q,Z,G,F,J,te,de,he){const pe=G.get(146),ue=pe.glyphMarginWidth+pe.lineNumbersWidth,ie=te.get(146),se=10+ie.glyphMarginWidth+ie.lineNumbersWidth;let ne="diff-review-row",W="";const q="diff-review-spacer";let z=null;switch(Y.type){case P.Added:ne="diff-review-row line-insert",W=" char-insert",z=L;break;case P.Deleted:ne="diff-review-row line-delete",W=" char-delete",z=D;break}const $=document.createElement("div");$.style.minWidth=Z+"px",$.className=ne,$.setAttribute("role","listitem"),$.ariaLevel="";const X=document.createElement("div");X.className="diff-review-cell",X.style.height=`${Q}px`,$.appendChild(X);const ee=document.createElement("span");ee.style.width=ue+"px",ee.style.minWidth=ue+"px",ee.className="diff-review-line-number"+W,Y.originalLineNumber!==void 0?ee.appendChild(document.createTextNode(String(Y.originalLineNumber))):ee.innerText="\xA0",X.appendChild(ee);const oe=document.createElement("span");oe.style.width=se+"px",oe.style.minWidth=se+"px",oe.style.paddingRight="10px",oe.className="diff-review-line-number"+W,Y.modifiedLineNumber!==void 0?oe.appendChild(document.createTextNode(String(Y.modifiedLineNumber))):oe.innerText="\xA0",X.appendChild(oe);const ce=document.createElement("span");if(ce.className=q,z){const _e=document.createElement("span");_e.className=s.ThemeIcon.asClassName(z),_e.innerText="\xA0\xA0",ce.appendChild(_e)}else ce.innerText="\xA0\xA0";X.appendChild(ce);let fe;if(Y.modifiedLineNumber!==void 0){let _e=this._getLineHtml(de,te,he.tabSize,Y.modifiedLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(_e=N._ttPolicy.createHTML(_e)),X.insertAdjacentHTML("beforeend",_e),fe=de.getLineContent(Y.modifiedLineNumber)}else{let _e=this._getLineHtml(F,G,J.tabSize,Y.originalLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(_e=N._ttPolicy.createHTML(_e)),X.insertAdjacentHTML("beforeend",_e),fe=F.getLineContent(Y.originalLineNumber)}fe.length===0&&(fe=(0,g.localize)(17,"blank"));let ve="";switch(Y.type){case P.Unchanged:Y.originalLineNumber===Y.modifiedLineNumber?ve=(0,g.localize)(18,"{0} unchanged line {1}",fe,Y.originalLineNumber):ve=(0,g.localize)(19,"{0} original line {1} modified line {2}",fe,Y.originalLineNumber,Y.modifiedLineNumber);break;case P.Added:ve=(0,g.localize)(20,"+ {0} modified line {1}",fe,Y.modifiedLineNumber);break;case P.Deleted:ve=(0,g.localize)(21,"- {0} original line {1}",fe,Y.originalLineNumber);break}return $.setAttribute("aria-label",ve),$}_getLineHtml(Y,Q,Z,G,F){const J=Y.getLineContent(G),te=Q.get(50),de=d.LineTokens.createEmpty(J,F),he=h.ViewLineRenderingData.isBasicASCII(J,Y.mightContainNonBasicASCII()),pe=h.ViewLineRenderingData.containsRTL(J,he,Y.mightContainRTL());return(0,p.renderViewLine2)(new p.RenderLineInput(te.isMonospace&&!Q.get(33),te.canUseHalfwidthRightwardsArrow,J,!1,he,pe,0,de,[],Z,0,te.spaceWidth,te.middotWidth,te.wsmiddotWidth,Q.get(118),Q.get(100),Q.get(95),Q.get(51)!==i.EditorFontLigatures.OFF,null)).html}};V=ke([ge(5,l.ILanguageService)],V);class j{constructor(Y){this.editors=Y}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(Y){this.editors.original.revealRange(Y),this.editors.original.setSelection(Y),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(Y){Y&&(this.editors.modified.revealRange(Y),this.editors.modified.setSelection(Y)),this.editors.modified.focus()}modifiedSetSelection(Y){this.editors.modified.setSelection(Y)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var Y;return(Y=this.editors.modified.getPosition())!==null&&Y!==void 0?Y:void 0}}e.AccessibleDiffViewerModelFromEditors=j}),define(re[755],ae([1,0,229,4,161,84,26,33,6,2,30,3,32,80,236]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const i=k.$;class n extends b.Disposable{constructor(C,S,_,L=!1){super(),this.model=S,this.showingStandaloneColorPicker=L,this._closeButton=null,this._domNode=i(".colorpicker-header"),k.append(C,this._domNode),this._pickedColorNode=k.append(this._domNode,i(".picked-color")),k.append(this._pickedColorNode,i("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const D=(0,s.localize)(752,"Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",D),this._originalColorNode=k.append(this._domNode,i(".original-color")),this._originalColorNode.style.backgroundColor=m.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=_.getColorTheme().getColor(o.editorHoverBackground)||m.Color.white,this._register(_.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(o.editorHoverBackground)||m.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(S.onDidChangeColor(this.onDidChangeColor,this)),this._register(S.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(S.color)||"",this._pickedColorNode.classList.toggle("light",S.color.rgba.a<.5?this.backgroundColor.isLighter():S.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new c(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(C){this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(C)||"",this._pickedColorNode.classList.toggle("light",C.rgba.a<.5?this.backgroundColor.isLighter():C.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=n;class c extends b.Disposable{constructor(C){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(C,this._button);const S=document.createElement("div");S.classList.add("close-button-inner-div"),k.append(this._button,S),k.append(S,i(".button"+v.ThemeIcon.asCSSSelector((0,t.registerIcon)("color-picker-close",y.Codicon.close,(0,s.localize)(753,"Icon to close the color picker"))))).classList.add("close-icon"),this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}}class u extends b.Disposable{constructor(C,S,_,L=!1){super(),this.model=S,this.pixelRatio=_,this._insertButton=null,this._domNode=i(".colorpicker-body"),k.append(C,this._domNode),this._saturationBox=new r(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new l(this._domNode,this.model,L),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new d(this._domNode,this.model,L),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),L&&(this._insertButton=this._register(new p(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:C,v:S}){const _=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(_.h,C,S,_.a))}onDidOpacityChange(C){const S=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(S.h,S.s,S.v,C))}onDidHueChange(C){const S=this.model.color.hsva,_=(1-C)*360;this.model.color=new m.Color(new m.HSVA(_===360?0:_,S.s,S.v,S.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=u;class r extends b.Disposable{constructor(C,S,_){super(),this.model=S,this.pixelRatio=_,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=i(".saturation-wrap"),k.append(C,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=i(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,L=>this.onPointerDown(L))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(C){if(!C.target||!(C.target instanceof Element))return;this.monitor=this._register(new E.GlobalPointerMoveMonitor);const S=k.getDomNodePagePosition(this._domNode);C.target!==this.selection&&this.onDidChangePosition(C.offsetX,C.offsetY),this.monitor.startMonitoring(C.target,C.pointerId,C.buttons,L=>this.onDidChangePosition(L.pageX-S.left,L.pageY-S.top),()=>null);const _=k.addDisposableListener(C.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),_.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(C,S){const _=Math.max(0,Math.min(1,C/this.width)),L=Math.max(0,Math.min(1,1-S/this.height));this.paintSelection(_,L),this._onDidChange.fire({s:_,v:L})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const C=this.model.color.hsva;this.paintSelection(C.s,C.v)}paint(){const C=this.model.color.hsva,S=new m.Color(new m.HSVA(C.h,1,1,1)),_=this._canvas.getContext("2d"),L=_.createLinearGradient(0,0,this._canvas.width,0);L.addColorStop(0,"rgba(255, 255, 255, 1)"),L.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),L.addColorStop(1,"rgba(255, 255, 255, 0)");const D=_.createLinearGradient(0,0,0,this._canvas.height);D.addColorStop(0,"rgba(0, 0, 0, 0)"),D.addColorStop(1,"rgba(0, 0, 0, 1)"),_.rect(0,0,this._canvas.width,this._canvas.height),_.fillStyle=m.Color.Format.CSS.format(S),_.fill(),_.fillStyle=L,_.fill(),_.fillStyle=D,_.fill()}paintSelection(C,S){this.selection.style.left=`${C*this.width}px`,this.selection.style.top=`${this.height-S*this.height}px`}onDidChangeColor(C){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const S=C.hsva;this.paintSelection(S.s,S.v)}}class a extends b.Disposable{constructor(C,S,_=!1){super(),this.model=S,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,_?(this.domNode=k.append(C,i(".standalone-strip")),this.overlay=k.append(this.domNode,i(".standalone-overlay"))):(this.domNode=k.append(C,i(".strip")),this.overlay=k.append(this.domNode,i(".overlay"))),this.slider=k.append(this.domNode,i(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,L=>this.onPointerDown(L))),this._register(S.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const C=this.getValue(this.model.color);this.updateSliderPosition(C)}onDidChangeColor(C){const S=this.getValue(C);this.updateSliderPosition(S)}onPointerDown(C){if(!C.target||!(C.target instanceof Element))return;const S=this._register(new E.GlobalPointerMoveMonitor),_=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),C.target!==this.slider&&this.onDidChangeTop(C.offsetY),S.startMonitoring(C.target,C.pointerId,C.buttons,D=>this.onDidChangeTop(D.pageY-_.top),()=>null);const L=k.addDisposableListener(C.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),L.dispose(),S.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(C){const S=Math.max(0,Math.min(1,1-C/this.height));this.updateSliderPosition(S),this._onDidChange.fire(S)}updateSliderPosition(C){this.slider.style.top=`${(1-C)*this.height}px`}}class l extends a{constructor(C,S,_=!1){super(C,S,_),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(C){super.onDidChangeColor(C);const{r:S,g:_,b:L}=C.rgba,D=new m.Color(new m.RGBA(S,_,L,1)),T=new m.Color(new m.RGBA(S,_,L,0));this.overlay.style.background=`linear-gradient(to bottom, ${D} 0%, ${T} 100%)`}getValue(C){return C.hsva.a}}class d extends a{constructor(C,S,_=!1){super(C,S,_),this.domNode.classList.add("hue-strip")}getValue(C){return 1-C.hsva.h/360}}class p extends b.Disposable{constructor(C){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(C,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}e.InsertButton=p;class h extends I.Widget{constructor(C,S,_,L,D=!1){super(),this.model=S,this.pixelRatio=_,this._register(f.PixelRatio.getInstance(k.getWindow(C)).onDidChange(()=>this.layout())),this._domNode=i(".colorpicker-widget"),C.appendChild(this._domNode),this.header=this._register(new n(this._domNode,this.model,L,D)),this.body=this._register(new u(this._domNode,this.model,this.pixelRatio,D))}layout(){this.body.layout()}get domNode(){return this._domNode}}e.ColorPickerWidget=h}),define(re[214],ae([1,0,4,13,18,55,2,119,208,5,42,69,3,28,62,17,27,80,26,30,8,31,173,117,14,408,24]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0,e.renderMarkdownHovers=P,e.labelForHoverVerbosityAction=O;const _=f.$,L=(0,u.registerIcon)("hover-increase-verbosity",r.Codicon.add,o.localize(478,"Icon for increaseing hover verbosity.")),D=(0,u.registerIcon)("hover-decrease-verbosity",r.Codicon.remove,o.localize(479,"Icon for decreasing hover verbosity."));class T{constructor(H,K,V,j,U,Y=void 0){this.owner=H,this.range=K,this.contents=V,this.isBeforeContent=j,this.ordinal=U,this.source=Y}isValidForHoverAnchor(H){return H.type===1&&this.range.startColumn<=H.range.startColumn&&this.range.endColumn>=H.range.endColumn}}e.MarkdownHover=T;class N{constructor(H,K,V){this.hover=H,this.hoverProvider=K,this.hoverPosition=V}supportsVerbosityAction(H){var K,V;switch(H){case c.HoverVerbosityAction.Increase:return(K=this.hover.canIncreaseVerbosity)!==null&&K!==void 0?K:!1;case c.HoverVerbosityAction.Decrease:return(V=this.hover.canDecreaseVerbosity)!==null&&V!==void 0?V:!1}}}let A=class{constructor(H,K,V,j,U,Y,Q,Z){this._editor=H,this._languageService=K,this._openerService=V,this._configurationService=j,this._languageFeaturesService=U,this._keybindingService=Y,this._hoverService=Q,this._commandService=Z,this.hoverOrdinal=3}createLoadingMessage(H){return new T(this,H.range,[new I.MarkdownString().appendText(o.localize(480,"Loading..."))],!1,2e3)}computeSync(H,K){if(!this._editor.hasModel()||H.type!==1)return[];const V=this._editor.getModel(),j=H.range.startLineNumber,U=V.getLineMaxColumn(j),Y=[];let Q=1e3;const Z=V.getLineLength(j),G=V.getLanguageIdAtPosition(H.range.startLineNumber,H.range.startColumn),F=this._editor.getOption(118),J=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:G});let te=!1;F>=0&&Z>F&&H.range.startColumn>=F&&(te=!0,Y.push(new T(this,H.range,[{value:o.localize(481,"Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,Q++))),!te&&typeof J=="number"&&Z>=J&&Y.push(new T(this,H.range,[{value:o.localize(482,"Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,Q++));let de=!1;for(const he of K){const pe=he.range.startLineNumber===j?he.range.startColumn:1,ue=he.range.endLineNumber===j?he.range.endColumn:U,ie=he.options.hoverMessage;if(!ie||(0,I.isEmptyMarkdownString)(ie))continue;he.options.beforeContentClassName&&(de=!0);const se=new b.Range(H.range.startLineNumber,pe,H.range.startLineNumber,ue);Y.push(new T(this,se,(0,k.asArray)(ie),de,Q++))}return Y}computeAsync(H,K,V){if(!this._editor.hasModel()||H.type!==1)return g.AsyncIterableObject.EMPTY;const j=this._editor.getModel(),U=this._languageFeaturesService.hoverProvider;return U.has(j)?this._getMarkdownHovers(U,j,H,V):g.AsyncIterableObject.EMPTY}_getMarkdownHovers(H,K,V,j){const U=V.range.getStartPosition();return(0,C.getHoverProviderResultsAsAsyncIterable)(H,K,U,j).filter(Z=>!(0,I.isEmptyMarkdownString)(Z.hover.contents)).map(Z=>{const G=Z.hover.range?b.Range.lift(Z.hover.range):V.range,F=new N(Z.hover,Z.provider,U);return new T(this,G,Z.hover.contents,!1,Z.ordinal,F)})}renderHoverParts(H,K){return this._renderedHoverParts=new M(K,H.fragment,this,this._editor,this._languageService,this._openerService,this._commandService,this._keybindingService,this._hoverService,this._configurationService,H.onContentsChanged),this._renderedHoverParts}getAccessibleContent(H){var K,V;return(V=(K=this._renderedHoverParts)===null||K===void 0?void 0:K.getAccessibleContent(H))!==null&&V!==void 0?V:""}doesMarkdownHoverAtIndexSupportVerbosityAction(H,K){var V,j;return(j=(V=this._renderedHoverParts)===null||V===void 0?void 0:V.doesMarkdownHoverAtIndexSupportVerbosityAction(H,K))!==null&&j!==void 0?j:!1}updateMarkdownHoverVerbosityLevel(H,K,V){var j;return Promise.resolve((j=this._renderedHoverParts)===null||j===void 0?void 0:j.updateMarkdownHoverPartVerbosityLevel(H,K,V))}};e.MarkdownHoverParticipant=A,e.MarkdownHoverParticipant=A=ke([ge(1,v.ILanguageService),ge(2,i.IOpenerService),ge(3,t.IConfigurationService),ge(4,n.ILanguageFeaturesService),ge(5,d.IKeybindingService),ge(6,h.IHoverService),ge(7,S.ICommandService)],A);class R{constructor(H,K,V){this.hoverPart=H,this.hoverElement=K,this.disposables=V}dispose(){this.disposables.dispose()}}class M{constructor(H,K,V,j,U,Y,Q,Z,G,F,J){this._hoverParticipant=V,this._editor=j,this._languageService=U,this._openerService=Y,this._commandService=Q,this._keybindingService=Z,this._hoverService=G,this._configurationService=F,this._onFinishedRendering=J,this._ongoingHoverOperations=new Map,this._disposables=new y.DisposableStore,this.renderedHoverParts=this._renderHoverParts(H,K,this._onFinishedRendering),this._disposables.add((0,y.toDisposable)(()=>{this.renderedHoverParts.forEach(te=>{te.dispose()}),this._ongoingHoverOperations.forEach(te=>{te.tokenSource.dispose(!0)})}))}_renderHoverParts(H,K,V){return H.sort((0,k.compareBy)(j=>j.ordinal,k.numberComparator)),H.map(j=>{const U=this._renderHoverPart(j,V);return K.appendChild(U.hoverElement),U})}_renderHoverPart(H,K){const V=this._renderMarkdownHover(H,K),j=V.hoverElement,U=H.source,Y=new y.DisposableStore;if(Y.add(V),!U)return new R(H,j,Y);const Q=U.supportsVerbosityAction(c.HoverVerbosityAction.Increase),Z=U.supportsVerbosityAction(c.HoverVerbosityAction.Decrease);if(!Q&&!Z)return new R(H,j,Y);const G=_("div.verbosity-actions");return j.prepend(G),Y.add(this._renderHoverExpansionAction(G,c.HoverVerbosityAction.Increase,Q)),Y.add(this._renderHoverExpansionAction(G,c.HoverVerbosityAction.Decrease,Z)),new R(H,j,Y)}_renderMarkdownHover(H,K){return x(this._editor,H,this._languageService,this._openerService,K)}_renderHoverExpansionAction(H,K,V){const j=new y.DisposableStore,U=K===c.HoverVerbosityAction.Increase,Y=f.append(H,_(a.ThemeIcon.asCSSSelector(U?L:D)));Y.tabIndex=0;const Q=new h.WorkbenchHoverDelegate("mouse",!1,{target:H,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(j.add(this._hoverService.setupManagedHover(Q,Y,O(this._keybindingService,K))),!V)return Y.classList.add("disabled"),j;Y.classList.add("enabled");const Z=()=>this._commandService.executeCommand(K===c.HoverVerbosityAction.Increase?w.INCREASE_HOVER_VERBOSITY_ACTION_ID:w.DECREASE_HOVER_VERBOSITY_ACTION_ID);return j.add(new p.ClickAction(Y,Z)),j.add(new p.KeyDownAction(Y,Z,[3,10])),j}async updateMarkdownHoverPartVerbosityLevel(H,K,V=!0){const j=this._editor.getModel();if(!j)return;const U=this._getRenderedHoverPartAtIndex(K),Y=U?.hoverPart.source;if(!U||!Y?.supportsVerbosityAction(H))return;const Q=await this._fetchHover(Y,j,H);if(!Q)return;const Z=new N(Q,Y.hoverProvider,Y.hoverPosition),G=U.hoverPart,F=new T(this._hoverParticipant,G.range,Q.contents,G.isBeforeContent,G.ordinal,Z),J=this._renderHoverPart(F,this._onFinishedRendering);return this._replaceRenderedHoverPartAtIndex(K,J,F),V&&this._focusOnHoverPartWithIndex(K),{hoverPart:F,hoverElement:J.hoverElement}}getAccessibleContent(H){const K=this.renderedHoverParts.findIndex(Y=>Y.hoverPart===H);if(K===-1)return;const V=this._getRenderedHoverPartAtIndex(K);return V?V.hoverElement.innerText.replace(/[^\S\n\r]+/gu," "):void 0}doesMarkdownHoverAtIndexSupportVerbosityAction(H,K){const V=this._getRenderedHoverPartAtIndex(H),j=V?.hoverPart.source;return!(!V||!j?.supportsVerbosityAction(K))}async _fetchHover(H,K,V){let j=V===c.HoverVerbosityAction.Increase?1:-1;const U=H.hoverProvider,Y=this._ongoingHoverOperations.get(U);Y&&(Y.tokenSource.cancel(),j+=Y.verbosityDelta);const Q=new E.CancellationTokenSource;this._ongoingHoverOperations.set(U,{verbosityDelta:j,tokenSource:Q});const Z={verbosityRequest:{verbosityDelta:j,previousHover:H.hover}};let G;try{G=await Promise.resolve(U.provideHover(K,H.hoverPosition,Q.token,Z))}catch(F){(0,l.onUnexpectedExternalError)(F)}return Q.dispose(),this._ongoingHoverOperations.delete(U),G}_replaceRenderedHoverPartAtIndex(H,K,V){if(H>=this.renderedHoverParts.length||H<0)return;const j=this.renderedHoverParts[H],U=j.hoverElement,Y=K.hoverElement,Q=Array.from(Y.children);U.replaceChildren(...Q);const Z=new R(V,U,K.disposables);U.focus(),j.dispose(),this.renderedHoverParts[H]=Z}_focusOnHoverPartWithIndex(H){this.renderedHoverParts[H].hoverElement.focus()}_getRenderedHoverPartAtIndex(H){return this.renderedHoverParts[H]}dispose(){this._disposables.dispose()}}function P(B,H,K,V,j){H.sort((0,k.compareBy)(Y=>Y.ordinal,k.numberComparator));const U=[];for(const Y of H)U.push(x(K,Y,V,j,B.onContentsChanged));return new s.RenderedHoverParts(U)}function x(B,H,K,V,j){const U=new y.DisposableStore,Y=_("div.hover-row"),Q=_("div.hover-row-contents");Y.appendChild(Q);const Z=H.contents;for(const F of Z){if((0,I.isEmptyMarkdownString)(F))continue;const J=_("div.markdown-hover"),te=f.append(J,_("div.hover-contents")),de=U.add(new m.MarkdownRenderer({editor:B},K,V));U.add(de.onDidRenderAsync(()=>{te.className="hover-contents code-hover-contents",j()}));const he=U.add(de.render(F));te.appendChild(he.element),Q.appendChild(J)}return{hoverPart:H,hoverElement:Y,dispose(){U.dispose()}}}function O(B,H){switch(H){case c.HoverVerbosityAction.Increase:{const K=B.lookupKeybinding(w.INCREASE_HOVER_VERBOSITY_ACTION_ID);return K?o.localize(483,"Increase Hover Verbosity ({0})",K.getLabel()):o.localize(484,"Increase Hover Verbosity")}case c.HoverVerbosityAction.Decrease:{const K=B.lookupKeybinding(w.DECREASE_HOVER_VERBOSITY_ACTION_ID);return K?o.localize(485,"Decrease Hover Verbosity ({0})",K.getLabel()):o.localize(486,"Decrease Hover Verbosity")}}}}),define(re[756],ae([1,0,4,47,85,26,6,2,11,19,42,119,267,3,12,62,32,80,30,59,64,536]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const p=f.$,h=(0,u.registerIcon)("parameter-hints-next",I.Codicon.chevronDown,t.localize(370,"Icon for show next parameter hint.")),g=(0,u.registerIcon)("parameter-hints-previous",I.Codicon.chevronUp,t.localize(371,"Icon for show previous parameter hint."));let C=d=class extends m.Disposable{constructor(_,L,D,T,N,A){super(),this.editor=_,this.model=L,this.telemetryService=A,this.renderDisposeables=this._register(new m.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new s.MarkdownRenderer({editor:_},N,T)),this.keyVisible=o.Context.Visible.bindTo(D),this.keyMultipleSignatures=o.Context.MultipleSignatures.bindTo(D)}createParameterHintDOMNodes(){const _=p(".editor-widget.parameter-hints-widget"),L=f.append(_,p(".phwrapper"));L.tabIndex=-1;const D=f.append(L,p(".controls")),T=f.append(D,p(".button"+r.ThemeIcon.asCSSSelector(g))),N=f.append(D,p(".overloads")),A=f.append(D,p(".button"+r.ThemeIcon.asCSSSelector(h)));this._register(f.addDisposableListener(T,"click",B=>{f.EventHelper.stop(B),this.previous()})),this._register(f.addDisposableListener(A,"click",B=>{f.EventHelper.stop(B),this.next()}));const R=p(".body"),M=new E.DomScrollableElement(R,{alwaysConsumeMouseWheel:!0});this._register(M),L.appendChild(M.getDomNode());const P=f.append(R,p(".signature")),x=f.append(R,p(".docs"));_.style.userSelect="text",this.domNodes={element:_,signature:P,overloads:N,docs:x,scrollbar:M},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(B=>{this.visible&&this.editor.layoutContentWidget(this)}));const O=()=>{if(!this.domNodes)return;const B=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${B.fontSize}px`,this.domNodes.element.style.lineHeight=`${B.lineHeight/B.fontSize}`};O(),this._register(y.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),B=>B.filter(H=>H.hasChanged(50)))(O)),this._register(this.editor.onDidLayoutChange(B=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var _;(_=this.domNodes)===null||_===void 0||_.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var _;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(_=this.domNodes)===null||_===void 0||_.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(_){var L;if(this.renderDisposeables.clear(),!this.domNodes)return;const D=_.signatures.length>1;this.domNodes.element.classList.toggle("multiple",D),this.keyMultipleSignatures.set(D),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const T=_.signatures[_.activeSignature];if(!T)return;const N=f.append(this.domNodes.signature,p(".code")),A=this.editor.getOption(50);N.style.fontSize=`${A.fontSize}px`,N.style.fontFamily=A.fontFamily;const R=T.parameters.length>0,M=(L=T.activeParameter)!==null&&L!==void 0?L:_.activeParameter;if(R)this.renderParameters(N,T,M);else{const O=f.append(N,p("span"));O.textContent=T.label}const P=T.parameters[M];if(P?.documentation){const O=p("span.documentation");if(typeof P.documentation=="string")O.textContent=P.documentation;else{const B=this.renderMarkdownDocs(P.documentation);O.appendChild(B.element)}f.append(this.domNodes.docs,p("p",{},O))}if(T.documentation!==void 0)if(typeof T.documentation=="string")f.append(this.domNodes.docs,p("p",{},T.documentation));else{const O=this.renderMarkdownDocs(T.documentation);f.append(this.domNodes.docs,O.element)}const x=this.hasDocs(T,P);if(this.domNodes.signature.classList.toggle("has-docs",x),this.domNodes.docs.classList.toggle("empty",!x),this.domNodes.overloads.textContent=String(_.activeSignature+1).padStart(_.signatures.length.toString().length,"0")+"/"+_.signatures.length,P){let O="";const B=T.parameters[M];Array.isArray(B.label)?O=T.label.substring(B.label[0],B.label[1]):O=B.label,B.documentation&&(O+=typeof B.documentation=="string"?`, ${B.documentation}`:`, ${B.documentation.value}`),T.documentation&&(O+=typeof T.documentation=="string"?`, ${T.documentation}`:`, ${T.documentation.value}`),this.announcedLabel!==O&&(k.alert(t.localize(372,"{0}, hint",O)),this.announcedLabel=O)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(_){const L=new a.StopWatch,D=this.renderDisposeables.add(this.markdownRenderer.render(_,{asyncRenderCallback:()=>{var N;(N=this.domNodes)===null||N===void 0||N.scrollbar.scanDomNode()}}));D.element.classList.add("markdown-docs");const T=L.elapsed();return T>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:T}),D}hasDocs(_,L){return!!(L&&typeof L.documentation=="string"&&(0,b.assertIsDefined)(L.documentation).length>0||L&&typeof L.documentation=="object"&&(0,b.assertIsDefined)(L.documentation).value.length>0||_.documentation&&typeof _.documentation=="string"&&(0,b.assertIsDefined)(_.documentation).length>0||_.documentation&&typeof _.documentation=="object"&&(0,b.assertIsDefined)(_.documentation.value).length>0)}renderParameters(_,L,D){const[T,N]=this.getParameterLabelOffsets(L,D),A=document.createElement("span");A.textContent=L.label.substring(0,T);const R=document.createElement("span");R.textContent=L.label.substring(T,N),R.className="parameter active";const M=document.createElement("span");M.textContent=L.label.substring(N),f.append(_,A,R,M)}getParameterLabelOffsets(_,L){const D=_.parameters[L];if(D){if(Array.isArray(D.label))return D.label;if(D.label.length){const T=new RegExp(`(\\W|^)${(0,w.escapeRegExpCharacters)(D.label)}(?=\\W|$)`,"g");T.test(_.label);const N=T.lastIndex-D.label.length;return N>=0?[N,T.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return d.ID}updateMaxHeight(){if(!this.domNodes)return;const L=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=L;const D=this.domNodes.element.getElementsByClassName("phwrapper");D.length&&(D[0].style.maxHeight=L)}};e.ParameterHintsWidget=C,C.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=C=d=ke([ge(2,i.IContextKeyService),ge(3,n.IOpenerService),ge(4,v.ILanguageService),ge(5,l.ITelemetryService)],C),(0,c.registerColor)("editorHoverWidget.highlightForeground",c.listHighlightForeground,t.localize(373,"Foreground color of the active item in the parameter hint."))}),define(re[757],ae([1,0,98,2,15,20,27,17,676,267,3,12,7,756]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let n=i=class extends k.Disposable{static get(l){return l.getContribution(i.ID)}constructor(l,d,p){super(),this.editor=l,this.model=this._register(new w.ParameterHintsModel(l,p.signatureHelpProvider)),this._register(this.model.onChangedHints(h=>{var g;h?(this.widget.value.show(),this.widget.value.render(h)):(g=this.widget.rawValue)===null||g===void 0||g.hide()})),this.widget=new f.Lazy(()=>this._register(d.createInstance(t.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var l;(l=this.widget.rawValue)===null||l===void 0||l.previous()}next(){var l;(l=this.widget.rawValue)===null||l===void 0||l.next()}trigger(l){this.model.trigger(l,0)}};e.ParameterHintsController=n,n.ID="editor.controller.parameterHints",e.ParameterHintsController=n=i=ke([ge(1,o.IInstantiationService),ge(2,m.ILanguageFeaturesService)],n);class c extends E.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:v.localize(374,"Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:I.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(l,d){const p=n.get(d);p?.trigger({triggerKind:y.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=c,(0,E.registerEditorContribution)(n.ID,n,2),(0,E.registerEditorAction)(c);const u=175,r=E.EditorCommand.bindToContribution(n.get);(0,E.registerEditorCommand)(new r({id:"closeParameterHints",precondition:b.Context.Visible,handler:a=>a.cancel(),kbOpts:{weight:u,kbExpr:I.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new r({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:a=>a.previous(),kbOpts:{weight:u,kbExpr:I.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,E.registerEditorCommand)(new r({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:a=>a.next(),kbOpts:{weight:u,kbExpr:I.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(re[758],ae([1,0,4,87,40,2,119,7,695,80,30,544]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const s=26;let o=class extends I.Disposable{constructor(n,c){super(),this._editor=n,this.instantiationService=c,this.banner=this._register(this.instantiationService.createInstance(t))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(n){this.banner.show({...n,onClose:()=>{var c;this.hide(),(c=n.onClose)===null||c===void 0||c.call(n)}}),this._editor.setBanner(this.banner.element,s)}};e.BannerController=o,e.BannerController=o=ke([ge(1,m.IInstantiationService)],o);let t=class extends I.Disposable{constructor(n){super(),this.instantiationService=n,this.markdownRenderer=this.instantiationService.createInstance(y.MarkdownRenderer,{}),this.element=(0,f.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(n){if(n.ariaLabel)return n.ariaLabel;if(typeof n.message=="string")return n.message}getBannerMessage(n){if(typeof n=="string"){const c=(0,f.$)("span");return c.innerText=n,c}return this.markdownRenderer.render(n).element}clear(){(0,f.clearNode)(this.element)}show(n){(0,f.clearNode)(this.element);const c=this.getAriaLabel(n);c&&this.element.setAttribute("aria-label",c);const u=(0,f.append)(this.element,(0,f.$)("div.icon-container"));u.setAttribute("aria-hidden","true"),n.icon&&u.appendChild((0,f.$)(`div${v.ThemeIcon.asCSSSelector(n.icon)}`));const r=(0,f.append)(this.element,(0,f.$)("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(n.message)),this.messageActionsContainer=(0,f.append)(this.element,(0,f.$)("div.message-actions-container")),n.actions)for(const l of n.actions)this._register(this.instantiationService.createInstance(w.Link,this.messageActionsContainer,{...l,tabIndex:-1},{}));const a=(0,f.append)(this.element,(0,f.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(a)),this.actionBar.push(this._register(new E.Action("banner.close","Close Banner",v.ThemeIcon.asClassName(b.widgetClose),!0,()=>{typeof n.onClose=="function"&&n.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t=ke([ge(0,m.IInstantiationService)],t)}),define(re[759],ae([1,0,4,6,2,30,80]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=void 0,e.getIconsStyleSheet=m;function m(b){const v=new E.DisposableStore,s=v.add(new k.Emitter),o=(0,y.getIconRegistry)();return v.add(o.onDidChange(()=>s.fire())),b&&v.add(b.onDidProductIconThemeChange(()=>s.fire())),{dispose:()=>v.dispose(),onDidChange:s.event,getCSS(){const t=b?b.getProductIconTheme():new w,i={},n=[],c=[];for(const u of o.getIcons()){const r=t.getIcon(u);if(!r)continue;const a=r.font,l=`--vscode-icon-${u.id}-font-family`,d=`--vscode-icon-${u.id}-content`;a?(i[a.id]=a.definition,c.push(`${l}: ${(0,f.asCSSPropertyValue)(a.id)};`,`${d}: '${r.fontCharacter}';`),n.push(`.codicon-${u.id}:before { content: '${r.fontCharacter}'; font-family: ${(0,f.asCSSPropertyValue)(a.id)}; }`)):(c.push(`${d}: '${r.fontCharacter}'; ${l}: 'codicon';`),n.push(`.codicon-${u.id}:before { content: '${r.fontCharacter}'; }`))}for(const u in i){const r=i[u],a=r.weight?`font-weight: ${r.weight};`:"",l=r.style?`font-style: ${r.style};`:"",d=r.src.map(p=>`${(0,f.asCSSUrl)(p.location)} format('${p.format}')`).join(", ");n.push(`@font-face { src: ${d}; font-family: ${(0,f.asCSSPropertyValue)(u)};${a}${l} font-display: block; }`)}return n.push(`:root { ${c.join(" ")} }`),n.join(`
`)}}}class w{getIcon(v){const s=(0,y.getIconRegistry)();let o=v.defaults;for(;I.ThemeIcon.isThemeIcon(o);){const t=s.getIcon(o.id);if(!t)return;o=t.defaults}return o}}e.UnthemedProductIconTheme=w}),define(re[97],ae([1,0]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0,e.isHighContrast=k,e.isDark=E;var f;(function(I){I.DARK="dark",I.LIGHT="light",I.HIGH_CONTRAST_DARK="hcDark",I.HIGH_CONTRAST_LIGHT="hcLight"})(f||(e.ColorScheme=f={}));function k(I){return I===f.HIGH_CONTRAST_DARK||I===f.HIGH_CONTRAST_LIGHT}function E(I){return I===f.DARK||I===f.HIGH_CONTRAST_DARK}}),define(re[279],ae([1,0,65,39,16,558,164,147,133,97,37]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=void 0,e.getColumnOfNodeOffset=d;const s=function(){return E.isNative?!0:!(E.isLinux||f.isFirefox||f.isSafari)}();let o=!0;class t{constructor(h,g){this.themeType=g;const C=h.options,S=C.get(50);C.get(38)==="off"?this.renderWhitespace=C.get(100):this.renderWhitespace="none",this.renderControlCharacters=C.get(95),this.spaceWidth=S.spaceWidth,this.middotWidth=S.middotWidth,this.wsmiddotWidth=S.wsmiddotWidth,this.useMonospaceOptimizations=S.isMonospace&&!C.get(33),this.canUseHalfwidthRightwardsArrow=S.canUseHalfwidthRightwardsArrow,this.lineHeight=C.get(67),this.stopRenderingLineAfter=C.get(118),this.fontLigatures=C.get(51)}equals(h){return this.themeType===h.themeType&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.spaceWidth===h.spaceWidth&&this.middotWidth===h.middotWidth&&this.wsmiddotWidth===h.wsmiddotWidth&&this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineHeight===h.lineHeight&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.fontLigatures===h.fontLigatures}}e.ViewLineOptions=t;class i{constructor(h){this._options=h,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(h){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(h);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(h){this._isMaybeInvalid=!0,this._options=h}onSelectionChanged(){return(0,b.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(h,g,C,S,_){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=S.getViewLineRenderingData(h),D=this._options,T=m.LineDecoration.filter(L.inlineDecorations,h,L.minColumn,L.maxColumn);let N=null;if((0,b.isHighContrast)(D.themeType)||this._options.renderWhitespace==="selection"){const P=S.selections;for(const x of P){if(x.endLineNumber<h||x.startLineNumber>h)continue;const O=x.startLineNumber===h?x.startColumn:L.minColumn,B=x.endLineNumber===h?x.endColumn:L.maxColumn;O<B&&((0,b.isHighContrast)(D.themeType)&&T.push(new m.LineDecoration(O,B,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(N||(N=[]),N.push(new w.LineRange(O-1,B-1))))}}const A=new w.RenderLineInput(D.useMonospaceOptimizations,D.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,T,L.tabSize,L.startVisibleColumn,D.spaceWidth,D.middotWidth,D.wsmiddotWidth,D.stopRenderingLineAfter,D.renderWhitespace,D.renderControlCharacters,D.fontLigatures!==v.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;_.appendString('<div style="top:'),_.appendString(String(g)),_.appendString("px;height:"),_.appendString(String(C)),_.appendString('px;" class="'),_.appendString(i.CLASS_NAME),_.appendString('">');const R=(0,w.renderViewLine)(A,_);_.appendString("</div>");let M=null;return o&&s&&L.isBasicASCII&&D.useMonospaceOptimizations&&R.containsForeignElements===0&&(M=new n(this._renderedViewLine?this._renderedViewLine.domNode:null,A,R.characterMapping)),M||(M=r(this._renderedViewLine?this._renderedViewLine.domNode:null,A,R.characterMapping,R.containsRTL,R.containsForeignElements)),this._renderedViewLine=M,!0}layoutLine(h,g,C){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(g),this._renderedViewLine.domNode.setHeight(C))}getWidth(h){return this._renderedViewLine?this._renderedViewLine.getWidth(h):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof n:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof n?this._renderedViewLine.monospaceAssumptionsAreValid():o}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof n&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(h,g,C,S){if(!this._renderedViewLine)return null;g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g)),C=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,C));const _=this._renderedViewLine.input.stopRenderingLineAfter;if(_!==-1&&g>_+1&&C>_+1)return new y.VisibleRanges(!0,[new y.FloatHorizontalRange(this.getWidth(S),0)]);_!==-1&&g>_+1&&(g=_+1),_!==-1&&C>_+1&&(C=_+1);const L=this._renderedViewLine.getVisibleRangesForRange(h,g,C,S);return L&&L.length>0?new y.VisibleRanges(!1,L):null}getColumnOfNodeOffset(h,g){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(h,g):1}}e.ViewLine=i,i.CLASS_NAME="view-line";class n{constructor(h,g,C){this._cachedWidth=-1,this.domNode=h,this.input=g;const S=Math.floor(g.lineContent.length/300);if(S>0){this._keyColumnPixelOffsetCache=new Float32Array(S);for(let _=0;_<S;_++)this._keyColumnPixelOffsetCache[_]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=C,this._charWidth=g.spaceWidth}getWidth(h){if(!this.domNode||this.input.lineContent.length<300){const g=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*g)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,h?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return o;if(this.input.lineContent.length<300){const h=this.getWidth(null),g=this.domNode.domNode.firstChild.offsetWidth;Math.abs(h-g)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),o=!1)}return o}toSlowRenderedLine(){return r(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(h,g,C,S){const _=this._getColumnPixelOffset(h,g,S),L=this._getColumnPixelOffset(h,C,S);return[new y.FloatHorizontalRange(_,L-_)]}_getColumnPixelOffset(h,g,C){if(g<=300){const N=this._characterMapping.getHorizontalOffset(g);return this._charWidth*N}const S=Math.floor((g-1)/300)-1,_=(S+1)*300+1;let L=-1;if(this._keyColumnPixelOffsetCache&&(L=this._keyColumnPixelOffsetCache[S],L===-1&&(L=this._actualReadPixelOffset(h,_,C),this._keyColumnPixelOffsetCache[S]=L)),L===-1){const N=this._characterMapping.getHorizontalOffset(g);return this._charWidth*N}const D=this._characterMapping.getHorizontalOffset(_),T=this._characterMapping.getHorizontalOffset(g);return L+this._charWidth*(T-D)}_getReadingTarget(h){return h.domNode.firstChild}_actualReadPixelOffset(h,g,C){if(!this.domNode)return-1;const S=this._characterMapping.getDomPosition(g),_=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),S.partIndex,S.charIndex,S.partIndex,S.charIndex,C);return!_||_.length===0?-1:_[0].left}getColumnOfNodeOffset(h,g){return d(this._characterMapping,h,g)}}class c{constructor(h,g,C,S,_){if(this.domNode=h,this.input=g,this._characterMapping=C,this._isWhitespaceOnly=/^\s*$/.test(g.lineContent),this._containsForeignElements=_,this._cachedWidth=-1,this._pixelOffsetCache=null,!S||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let L=0,D=this._characterMapping.length;L<=D;L++)this._pixelOffsetCache[L]=-1}}_getReadingTarget(h){return h.domNode.firstChild}getWidth(h){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,h?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(h,g,C,S){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const _=this._readPixelOffset(this.domNode,h,g,S);if(_===-1)return null;const L=this._readPixelOffset(this.domNode,h,C,S);return L===-1?null:[new y.FloatHorizontalRange(_,L-_)]}return this._readVisibleRangesForRange(this.domNode,h,g,C,S)}_readVisibleRangesForRange(h,g,C,S,_){if(C===S){const L=this._readPixelOffset(h,g,C,_);return L===-1?null:[new y.FloatHorizontalRange(L,0)]}else return this._readRawVisibleRangesForRange(h,C,S,_)}_readPixelOffset(h,g,C,S){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(S);const _=this._getReadingTarget(h);return _.firstChild?(S.markDidDomLayout(),_.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const _=this._pixelOffsetCache[C];if(_!==-1)return _;const L=this._actualReadPixelOffset(h,g,C,S);return this._pixelOffsetCache[C]=L,L}return this._actualReadPixelOffset(h,g,C,S)}_actualReadPixelOffset(h,g,C,S){if(this._characterMapping.length===0){const T=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(h),0,0,0,0,S);return!T||T.length===0?-1:T[0].left}if(C===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(S);const _=this._characterMapping.getDomPosition(C),L=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(h),_.partIndex,_.charIndex,_.partIndex,_.charIndex,S);if(!L||L.length===0)return-1;const D=L[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(C),N=Math.round(this.input.spaceWidth*T);if(Math.abs(N-D)<=1)return N}return D}_readRawVisibleRangesForRange(h,g,C,S){if(g===1&&C===this._characterMapping.length)return[new y.FloatHorizontalRange(0,this.getWidth(S))];const _=this._characterMapping.getDomPosition(g),L=this._characterMapping.getDomPosition(C);return I.RangeUtil.readHorizontalRanges(this._getReadingTarget(h),_.partIndex,_.charIndex,L.partIndex,L.charIndex,S)}getColumnOfNodeOffset(h,g){return d(this._characterMapping,h,g)}}class u extends c{_readVisibleRangesForRange(h,g,C,S,_){const L=super._readVisibleRangesForRange(h,g,C,S,_);if(!L||L.length===0||C===S||C===1&&S===this._characterMapping.length)return L;if(!this.input.containsRTL){const D=this._readPixelOffset(h,g,S,_);if(D!==-1){const T=L[L.length-1];T.left<D&&(T.width=D-T.left)}}return L}}const r=function(){return f.isWebKit?a:l}();function a(p,h,g,C,S){return new u(p,h,g,C,S)}function l(p,h,g,C,S){return new c(p,h,g,C,S)}function d(p,h,g){const C=h.textContent.length;let S=-1;for(;h;)h=h.previousSibling,S++;return p.getColumn(new w.DomPosition(S,g),C)}}),define(re[412],ae([1,0,184,57,279,9,5,93,4,326,98]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class s{constructor(S=null){this.hitTarget=S,this.type=0}}class o{get hitTarget(){return this.spanNode}constructor(S,_,L){this.position=S,this.spanNode=_,this.injectedText=L,this.type=1}}var t;(function(C){function S(_,L,D){const T=_.getPositionFromDOMInfo(L,D);return T?new o(T,L,null):new s(L)}C.createFromDOMInfo=S})(t||(t={}));class i{constructor(S,_){this.lastViewCursorsRenderData=S,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=i;class n{static _deduceRage(S,_=null){return!_&&S?new y.Range(S.lineNumber,S.column,S.lineNumber,S.column):_??null}static createUnknown(S,_,L){return{type:0,element:S,mouseColumn:_,position:L,range:this._deduceRage(L)}}static createTextarea(S,_){return{type:1,element:S,mouseColumn:_,position:null,range:null}}static createMargin(S,_,L,D,T,N){return{type:S,element:_,mouseColumn:L,position:D,range:T,detail:N}}static createViewZone(S,_,L,D,T){return{type:S,element:_,mouseColumn:L,position:D,range:this._deduceRage(D),detail:T}}static createContentText(S,_,L,D,T){return{type:6,element:S,mouseColumn:_,position:L,range:this._deduceRage(L,D),detail:T}}static createContentEmpty(S,_,L,D){return{type:7,element:S,mouseColumn:_,position:L,range:this._deduceRage(L),detail:D}}static createContentWidget(S,_,L){return{type:9,element:S,mouseColumn:_,position:null,range:null,detail:L}}static createScrollbar(S,_,L){return{type:11,element:S,mouseColumn:_,position:L,range:this._deduceRage(L)}}static createOverlayWidget(S,_,L){return{type:12,element:S,mouseColumn:_,position:null,range:null,detail:L}}static createOutsideEditor(S,_,L,D){return{type:13,element:null,mouseColumn:S,position:_,range:this._deduceRage(_),outsidePosition:L,outsideDistance:D}}static _typeToString(S){return S===1?"TEXTAREA":S===2?"GUTTER_GLYPH_MARGIN":S===3?"GUTTER_LINE_NUMBERS":S===4?"GUTTER_LINE_DECORATIONS":S===5?"GUTTER_VIEW_ZONE":S===6?"CONTENT_TEXT":S===7?"CONTENT_EMPTY":S===8?"CONTENT_VIEW_ZONE":S===9?"CONTENT_WIDGET":S===10?"OVERVIEW_RULER":S===11?"SCROLLBAR":S===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(S){return this._typeToString(S.type)+": "+S.position+" - "+S.range+" - "+JSON.stringify(S.detail)}}e.MouseTarget=n;class c{static isTextArea(S){return S.length===2&&S[0]===3&&S[1]===7}static isChildOfViewLines(S){return S.length>=4&&S[0]===3&&S[3]===8}static isStrictChildOfViewLines(S){return S.length>4&&S[0]===3&&S[3]===8}static isChildOfScrollableElement(S){return S.length>=2&&S[0]===3&&S[1]===6}static isChildOfMinimap(S){return S.length>=2&&S[0]===3&&S[1]===9}static isChildOfContentWidgets(S){return S.length>=4&&S[0]===3&&S[3]===1}static isChildOfOverflowGuard(S){return S.length>=1&&S[0]===3}static isChildOfOverflowingContentWidgets(S){return S.length>=1&&S[0]===2}static isChildOfOverlayWidgets(S){return S.length>=2&&S[0]===3&&S[1]===4}static isChildOfOverflowingOverlayWidgets(S){return S.length>=1&&S[0]===5}}class u{constructor(S,_,L){this.viewModel=S.viewModel;const D=S.configuration.options;this.layoutInfo=D.get(146),this.viewDomNode=_.viewDomNode,this.lineHeight=D.get(67),this.stickyTabStops=D.get(117),this.typicalHalfwidthCharacterWidth=D.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this._context=S,this._viewHelper=_}getZoneAtCoord(S){return u.getZoneAtCoord(this._context,S)}static getZoneAtCoord(S,_){const L=S.viewLayout.getWhitespaceAtVerticalOffset(_);if(L){const D=L.verticalOffset+L.height/2,T=S.viewModel.getLineCount();let N=null,A,R=null;return L.afterLineNumber!==T&&(R=new I.Position(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(N=new I.Position(L.afterLineNumber,S.viewModel.getLineMaxColumn(L.afterLineNumber))),R===null?A=N:N===null?A=R:_<D?A=N:A=R,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:N,positionAfter:R,position:A}}return null}getFullLineRangeAtCoord(S){if(this._context.viewLayout.isAfterLines(S)){const D=this._context.viewModel.getLineCount(),T=this._context.viewModel.getLineMaxColumn(D);return{range:new y.Range(D,T,D,T),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(S),L=this._context.viewModel.getLineMaxColumn(_);return{range:new y.Range(_,1,_,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(S){return this._context.viewLayout.getLineNumberAtVerticalOffset(S)}isAfterLines(S){return this._context.viewLayout.isAfterLines(S)}isInTopPadding(S){return this._context.viewLayout.isInTopPadding(S)}isInBottomPadding(S){return this._context.viewLayout.isInBottomPadding(S)}getVerticalOffsetForLineNumber(S){return this._context.viewLayout.getVerticalOffsetForLineNumber(S)}findAttribute(S,_){return u._findAttribute(S,_,this._viewHelper.viewDomNode)}static _findAttribute(S,_,L){for(;S&&S!==S.ownerDocument.body;){if(S.hasAttribute&&S.hasAttribute(_))return S.getAttribute(_);if(S===L)return null;S=S.parentNode}return null}getLineWidth(S){return this._viewHelper.getLineWidth(S)}visibleRangeForPosition(S,_){return this._viewHelper.visibleRangeForPosition(S,_)}getPositionFromDOMInfo(S,_){return this._viewHelper.getPositionFromDOMInfo(S,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=u;class r{constructor(S,_,L,D){this.editorPos=_,this.pos=L,this.relativePos=D,this.mouseVerticalOffset=Math.max(0,S.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=S.getCurrentScrollLeft()+this.relativePos.x-S.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<S.layoutInfo.contentLeft&&this.relativePos.x>=S.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,p._getMouseColumn(this.mouseContentHorizontalOffset,S.typicalHalfwidthCharacterWidth))}}class a extends r{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=k.PartFingerprints.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(S,_,L,D,T){super(S,_,L,D),this.hitTestResult=new v.Lazy(()=>p.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=S,this._eventTarget=T;const N=!!this._eventTarget;this._useHitTestTarget=!N}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(S=null){return S&&S.column<this._ctx.viewModel.getLineMaxColumn(S.lineNumber)?m.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(S.lineNumber),S.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(S=null){return n.createUnknown(this.target,this._getMouseColumn(S),S)}fulfillTextarea(){return n.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(S,_,L,D){return n.createMargin(S,this.target,this._getMouseColumn(_),_,L,D)}fulfillViewZone(S,_,L){return n.createViewZone(S,this.target,this._getMouseColumn(_),_,L)}fulfillContentText(S,_,L){return n.createContentText(this.target,this._getMouseColumn(S),S,_,L)}fulfillContentEmpty(S,_){return n.createContentEmpty(this.target,this._getMouseColumn(S),S,_)}fulfillContentWidget(S){return n.createContentWidget(this.target,this._getMouseColumn(),S)}fulfillScrollbar(S){return n.createScrollbar(this.target,this._getMouseColumn(S),S)}fulfillOverlayWidget(S){return n.createOverlayWidget(this.target,this._getMouseColumn(),S)}}const l={isAfterLines:!0};function d(C){return{isAfterLines:!1,horizontalDistanceToText:C}}class p{constructor(S,_){this._context=S,this._viewHelper=_}mouseTargetIsWidget(S){const _=S.target,L=k.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(c.isChildOfContentWidgets(L)||c.isChildOfOverflowingContentWidgets(L)||c.isChildOfOverlayWidgets(L)||c.isChildOfOverflowingOverlayWidgets(L))}createMouseTarget(S,_,L,D,T){const N=new u(this._context,this._viewHelper,S),A=new a(N,_,L,D,T);try{const R=p._createMouseTarget(N,A);if(R.type===6&&N.stickyTabStops&&R.position!==null){const M=p._snapToSoftTabBoundary(R.position,N.viewModel),P=y.Range.fromPositions(M,M).plusRange(R.range);return A.fulfillContentText(M,P,R.detail)}return R}catch{return A.fulfillUnknown()}}static _createMouseTarget(S,_){if(_.target===null)return _.fulfillUnknown();const L=_;let D=null;return!c.isChildOfOverflowGuard(_.targetPath)&&!c.isChildOfOverflowingContentWidgets(_.targetPath)&&!c.isChildOfOverflowingOverlayWidgets(_.targetPath)&&(D=D||_.fulfillUnknown()),D=D||p._hitTestContentWidget(S,L),D=D||p._hitTestOverlayWidget(S,L),D=D||p._hitTestMinimap(S,L),D=D||p._hitTestScrollbarSlider(S,L),D=D||p._hitTestViewZone(S,L),D=D||p._hitTestMargin(S,L),D=D||p._hitTestViewCursor(S,L),D=D||p._hitTestTextArea(S,L),D=D||p._hitTestViewLines(S,L),D=D||p._hitTestScrollbar(S,L),D||_.fulfillUnknown()}static _hitTestContentWidget(S,_){if(c.isChildOfContentWidgets(_.targetPath)||c.isChildOfOverflowingContentWidgets(_.targetPath)){const L=S.findAttribute(_.target,"widgetId");return L?_.fulfillContentWidget(L):_.fulfillUnknown()}return null}static _hitTestOverlayWidget(S,_){if(c.isChildOfOverlayWidgets(_.targetPath)||c.isChildOfOverflowingOverlayWidgets(_.targetPath)){const L=S.findAttribute(_.target,"widgetId");return L?_.fulfillOverlayWidget(L):_.fulfillUnknown()}return null}static _hitTestViewCursor(S,_){if(_.target){const L=S.lastRenderData.lastViewCursorsRenderData;for(const D of L)if(_.target===D.domNode)return _.fulfillContentText(D.position,null,{mightBeForeignElement:!1,injectedText:null})}if(_.isInContentArea){const L=S.lastRenderData.lastViewCursorsRenderData,D=_.mouseContentHorizontalOffset,T=_.mouseVerticalOffset;for(const N of L){if(D<N.contentLeft||D>N.contentLeft+N.width)continue;const A=S.getVerticalOffsetForLineNumber(N.position.lineNumber);if(A<=T&&T<=A+N.height)return _.fulfillContentText(N.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(S,_){const L=S.getZoneAtCoord(_.mouseVerticalOffset);if(L){const D=_.isInContentArea?8:5;return _.fulfillViewZone(D,L.position,L)}return null}static _hitTestTextArea(S,_){return c.isTextArea(_.targetPath)?S.lastRenderData.lastTextareaPosition?_.fulfillContentText(S.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):_.fulfillTextarea():null}static _hitTestMargin(S,_){if(_.isInMarginArea){const L=S.getFullLineRangeAtCoord(_.mouseVerticalOffset),D=L.range.getStartPosition();let T=Math.abs(_.relativePos.x);const N={isAfterLines:L.isAfterLines,glyphMarginLeft:S.layoutInfo.glyphMarginLeft,glyphMarginWidth:S.layoutInfo.glyphMarginWidth,lineNumbersWidth:S.layoutInfo.lineNumbersWidth,offsetX:T};if(T-=S.layoutInfo.glyphMarginLeft,T<=S.layoutInfo.glyphMarginWidth){const A=S.viewModel.coordinatesConverter.convertViewPositionToModelPosition(L.range.getStartPosition()),R=S.viewModel.glyphLanes.getLanesAtLine(A.lineNumber);return N.glyphMarginLane=R[Math.floor(T/S.lineHeight)],_.fulfillMargin(2,D,L.range,N)}return T-=S.layoutInfo.glyphMarginWidth,T<=S.layoutInfo.lineNumbersWidth?_.fulfillMargin(3,D,L.range,N):(T-=S.layoutInfo.lineNumbersWidth,_.fulfillMargin(4,D,L.range,N))}return null}static _hitTestViewLines(S,_){if(!c.isChildOfViewLines(_.targetPath))return null;if(S.isInTopPadding(_.mouseVerticalOffset))return _.fulfillContentEmpty(new I.Position(1,1),l);if(S.isAfterLines(_.mouseVerticalOffset)||S.isInBottomPadding(_.mouseVerticalOffset)){const D=S.viewModel.getLineCount(),T=S.viewModel.getLineMaxColumn(D);return _.fulfillContentEmpty(new I.Position(D,T),l)}if(c.isStrictChildOfViewLines(_.targetPath)){const D=S.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(S.viewModel.getLineLength(D)===0){const N=S.getLineWidth(D),A=d(_.mouseContentHorizontalOffset-N);return _.fulfillContentEmpty(new I.Position(D,1),A)}const T=S.getLineWidth(D);if(_.mouseContentHorizontalOffset>=T){const N=d(_.mouseContentHorizontalOffset-T),A=new I.Position(D,S.viewModel.getLineMaxColumn(D));return _.fulfillContentEmpty(A,N)}}const L=_.hitTestResult.value;return L.type===1?p.createMouseTargetFromHitTestPosition(S,_,L.spanNode,L.position,L.injectedText):_.wouldBenefitFromHitTestTargetSwitch?(_.switchToHitTestTarget(),this._createMouseTarget(S,_)):_.fulfillUnknown()}static _hitTestMinimap(S,_){if(c.isChildOfMinimap(_.targetPath)){const L=S.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),D=S.viewModel.getLineMaxColumn(L);return _.fulfillScrollbar(new I.Position(L,D))}return null}static _hitTestScrollbarSlider(S,_){if(c.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const L=_.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const D=S.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),T=S.viewModel.getLineMaxColumn(D);return _.fulfillScrollbar(new I.Position(D,T))}}return null}static _hitTestScrollbar(S,_){if(c.isChildOfScrollableElement(_.targetPath)){const L=S.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),D=S.viewModel.getLineMaxColumn(L);return _.fulfillScrollbar(new I.Position(L,D))}return null}getMouseColumn(S){const _=this._context.configuration.options,L=_.get(146),D=this._context.viewLayout.getCurrentScrollLeft()+S.x-L.contentLeft;return p._getMouseColumn(D,_.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(S,_){return S<0?1:Math.round(S/_)+1}static createMouseTargetFromHitTestPosition(S,_,L,D,T){const N=D.lineNumber,A=D.column,R=S.getLineWidth(N);if(_.mouseContentHorizontalOffset>R){const j=d(_.mouseContentHorizontalOffset-R);return _.fulfillContentEmpty(D,j)}const M=S.visibleRangeForPosition(N,A);if(!M)return _.fulfillUnknown(D);const P=M.left;if(Math.abs(_.mouseContentHorizontalOffset-P)<1)return _.fulfillContentText(D,null,{mightBeForeignElement:!!T,injectedText:T});const x=[];if(x.push({offset:M.left,column:A}),A>1){const j=S.visibleRangeForPosition(N,A-1);j&&x.push({offset:j.left,column:A-1})}const O=S.viewModel.getLineMaxColumn(N);if(A<O){const j=S.visibleRangeForPosition(N,A+1);j&&x.push({offset:j.left,column:A+1})}x.sort((j,U)=>j.offset-U.offset);const B=_.pos.toClientCoordinates(w.getWindow(S.viewDomNode)),H=L.getBoundingClientRect(),K=H.left<=B.clientX&&B.clientX<=H.right;let V=null;for(let j=1;j<x.length;j++){const U=x[j-1],Y=x[j];if(U.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=Y.offset){V=new y.Range(N,U.column,N,Y.column);const Q=Math.abs(U.offset-_.mouseContentHorizontalOffset),Z=Math.abs(Y.offset-_.mouseContentHorizontalOffset);D=Q<Z?new I.Position(N,U.column):new I.Position(N,Y.column);break}}return _.fulfillContentText(D,V,{mightBeForeignElement:!K||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(S,_){const L=S.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),D=S.getVerticalOffsetForLineNumber(L),T=D+S.lineHeight;if(!(L===S.viewModel.getLineCount()&&_.mouseVerticalOffset>T)){const A=Math.floor((D+T)/2);let R=_.pos.y+(A-_.mouseVerticalOffset);R<=_.editorPos.y&&(R=_.editorPos.y+1),R>=_.editorPos.y+_.editorPos.height&&(R=_.editorPos.y+_.editorPos.height-1);const M=new f.PageCoordinates(_.pos.x,R),P=this._actualDoHitTestWithCaretRangeFromPoint(S,M.toClientCoordinates(w.getWindow(S.viewDomNode)));if(P.type===1)return P}return this._actualDoHitTestWithCaretRangeFromPoint(S,_.pos.toClientCoordinates(w.getWindow(S.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(S,_){const L=w.getShadowRoot(S.viewDomNode);let D;if(L?typeof L.caretRangeFromPoint>"u"?D=h(L,_.clientX,_.clientY):D=L.caretRangeFromPoint(_.clientX,_.clientY):D=S.viewDomNode.ownerDocument.caretRangeFromPoint(_.clientX,_.clientY),!D||!D.startContainer)return new s;const T=D.startContainer;if(T.nodeType===T.TEXT_NODE){const N=T.parentNode,A=N?N.parentNode:null,R=A?A.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===E.ViewLine.CLASS_NAME?t.createFromDOMInfo(S,N,D.startOffset):new s(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const N=T.parentNode,A=N?N.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===E.ViewLine.CLASS_NAME?t.createFromDOMInfo(S,T,T.textContent.length):new s(T)}return new s}static _doHitTestWithCaretPositionFromPoint(S,_){const L=S.viewDomNode.ownerDocument.caretPositionFromPoint(_.clientX,_.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const D=L.offsetNode.parentNode,T=D?D.parentNode:null,N=T?T.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===E.ViewLine.CLASS_NAME?t.createFromDOMInfo(S,L.offsetNode.parentNode,L.offset):new s(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const D=L.offsetNode.parentNode,T=D&&D.nodeType===D.ELEMENT_NODE?D.className:null,N=D?D.parentNode:null,A=N&&N.nodeType===N.ELEMENT_NODE?N.className:null;if(T===E.ViewLine.CLASS_NAME){const R=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(R)return t.createFromDOMInfo(S,R,0)}else if(A===E.ViewLine.CLASS_NAME)return t.createFromDOMInfo(S,L.offsetNode,0)}return new s(L.offsetNode)}static _snapToSoftTabBoundary(S,_){const L=_.getLineContent(S.lineNumber),{tabSize:D}=_.model.getOptions(),T=b.AtomicTabMoveOperations.atomicPosition(L,S.column-1,D,2);return T!==-1?new I.Position(S.lineNumber,T+1):S}static doHitTest(S,_){let L=new s;if(typeof S.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?L=this._doHitTestWithCaretRangeFromPoint(S,_):S.viewDomNode.ownerDocument.caretPositionFromPoint&&(L=this._doHitTestWithCaretPositionFromPoint(S,_.pos.toClientCoordinates(w.getWindow(S.viewDomNode)))),L.type===1){const D=S.viewModel.getInjectedTextAt(L.position),T=S.viewModel.normalizePosition(L.position,2);(D||!T.equals(L.position))&&(L=new o(T,L.spanNode,D))}return L}}e.MouseTargetFactory=p;function h(C,S,_){const L=document.createRange();let D=C.elementFromPoint(S,_);if(D!==null){for(;D&&D.firstChild&&D.firstChild.nodeType!==D.firstChild.TEXT_NODE&&D.lastChild&&D.lastChild.firstChild;)D=D.lastChild;const T=D.getBoundingClientRect(),N=w.getWindow(D),A=N.getComputedStyle(D,null).getPropertyValue("font-style"),R=N.getComputedStyle(D,null).getPropertyValue("font-variant"),M=N.getComputedStyle(D,null).getPropertyValue("font-weight"),P=N.getComputedStyle(D,null).getPropertyValue("font-size"),x=N.getComputedStyle(D,null).getPropertyValue("line-height"),O=N.getComputedStyle(D,null).getPropertyValue("font-family"),B=`${A} ${R} ${M} ${P}/${x} ${O}`,H=D.innerText;let K=T.left,V=0,j;if(S>T.left+T.width)V=H.length;else{const U=g.getInstance();for(let Y=0;Y<H.length+1;Y++){if(j=U.getCharWidth(H.charAt(Y),B)/2,K+=j,S<K){V=Y;break}K+=j}}L.setStart(D.firstChild,V),L.setEnd(D.firstChild,V)}return L}class g{static getInstance(){return g._INSTANCE||(g._INSTANCE=new g),g._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(S,_){const L=S+_;if(this._cache[L])return this._cache[L];const D=this._canvas.getContext("2d");D.font=_;const N=D.measureText(S).width;return this._cache[L]=N,N}}g._INSTANCE=null}),define(re[760],ae([1,0,4,73,2,16,412,184,165,9,23,172,85]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class t extends s.ViewEventHandler{constructor(a,l,d){super(),this._mouseLeaveMonitor=null,this._context=a,this.viewController=l,this.viewHelper=d,this.mouseTargetFactory=new y.MouseTargetFactory(this._context,d),this._mouseDownOperation=this._register(new i(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(g,C)=>this._createMouseTarget(g,C),g=>this._getMouseColumn(g))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(146).height;const p=new m.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(p.onContextMenu(this.viewHelper.viewDomNode,g=>this._onContextMenu(g,!0))),this._register(p.onMouseMove(this.viewHelper.viewDomNode,g=>{this._onMouseMove(g),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=f.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument,"mousemove",C=>{this.viewHelper.viewDomNode.contains(C.target)||this._onMouseLeave(new m.EditorMouseEvent(C,!1,this.viewHelper.viewDomNode))}))})),this._register(p.onMouseUp(this.viewHelper.viewDomNode,g=>this._onMouseUp(g))),this._register(p.onMouseLeave(this.viewHelper.viewDomNode,g=>this._onMouseLeave(g)));let h=0;this._register(p.onPointerDown(this.viewHelper.viewDomNode,(g,C)=>{h=C})),this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.POINTER_UP,g=>{this._mouseDownOperation.onPointerUp()})),this._register(p.onMouseDown(this.viewHelper.viewDomNode,g=>this._onMouseDown(g,h))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const a=o.MouseWheelClassifier.INSTANCE;let l=0,d=w.EditorZoom.getZoomLevel(),p=!1,h=0;const g=S=>{if(this.viewController.emitMouseWheel(S),!this._context.configuration.options.get(76))return;const _=new k.StandardWheelEvent(S);if(a.acceptStandardWheelEvent(_),a.isPhysicalMouseWheel()){if(C(S)){const L=w.EditorZoom.getZoomLevel(),D=_.deltaY>0?1:-1;w.EditorZoom.setZoomLevel(L+D),_.preventDefault(),_.stopPropagation()}}else Date.now()-l>50&&(d=w.EditorZoom.getZoomLevel(),p=C(S),h=0),l=Date.now(),h+=_.deltaY,p&&(w.EditorZoom.setZoomLevel(d+h/5),_.preventDefault(),_.stopPropagation())};this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.MOUSE_WHEEL,g,{capture:!0,passive:!1}));function C(S){return I.isMacintosh?(S.metaKey||S.ctrlKey)&&!S.shiftKey&&!S.altKey:S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(a){if(a.hasChanged(146)){const l=this._context.configuration.options.get(146).height;this._height!==l&&(this._height=l,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(a){return this._mouseDownOperation.onCursorStateChanged(a),!1}onFocusChanged(a){return!1}getTargetAtClientPoint(a,l){const p=new m.ClientCoordinates(a,l).toPageCoordinates(f.getWindow(this.viewHelper.viewDomNode)),h=(0,m.createEditorPagePosition)(this.viewHelper.viewDomNode);if(p.y<h.y||p.y>h.y+h.height||p.x<h.x||p.x>h.x+h.width)return null;const g=(0,m.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,h,p);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),h,p,g,null)}_createMouseTarget(a,l){let d=a.target;if(!this.viewHelper.viewDomNode.contains(d)){const p=f.getShadowRoot(this.viewHelper.viewDomNode);p&&(d=p.elementsFromPoint(a.posx,a.posy).find(h=>this.viewHelper.viewDomNode.contains(h)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),a.editorPos,a.pos,a.relativePos,l?d:null)}_getMouseColumn(a){return this.mouseTargetFactory.getMouseColumn(a.relativePos)}_onContextMenu(a,l){this.viewController.emitContextMenu({event:a,target:this._createMouseTarget(a,l)})}_onMouseMove(a){this.mouseTargetFactory.mouseTargetIsWidget(a)||a.preventDefault(),!(this._mouseDownOperation.isActive()||a.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:a,target:this._createMouseTarget(a,!0)})}_onMouseLeave(a){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:a,target:null})}_onMouseUp(a){this.viewController.emitMouseUp({event:a,target:this._createMouseTarget(a,!0)})}_onMouseDown(a,l){const d=this._createMouseTarget(a,!0),p=d.type===6||d.type===7,h=d.type===2||d.type===3||d.type===4,g=d.type===3,C=this._context.configuration.options.get(110),S=d.type===8||d.type===5,_=d.type===9;let L=a.leftButton||a.middleButton;I.isMacintosh&&a.leftButton&&a.ctrlKey&&(L=!1);const D=()=>{a.preventDefault(),this.viewHelper.focusTextArea()};if(L&&(p||g&&C))D(),this._mouseDownOperation.start(d.type,a,l);else if(h)a.preventDefault();else if(S){const T=d.detail;L&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(D(),this._mouseDownOperation.start(d.type,a,l),a.preventDefault())}else _&&this.viewHelper.shouldSuppressMouseDownOnWidget(d.detail)&&(D(),a.preventDefault());this.viewController.emitMouseDown({event:a,target:d})}}e.MouseHandler=t;class i extends E.Disposable{constructor(a,l,d,p,h,g){super(),this._context=a,this._viewController=l,this._viewHelper=d,this._mouseTargetFactory=p,this._createMouseTarget=h,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new m.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new n(this._context,this._viewHelper,this._mouseTargetFactory,(C,S,_)=>this._dispatchMouse(C,S,_))),this._mouseState=new u,this._currentSelection=new v.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(a){this._lastMouseEvent=a,this._mouseState.setModifiers(a);const l=this._findMousePosition(a,!1);l&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:a,target:l}):l.type===13&&(l.outsidePosition==="above"||l.outsidePosition==="below")?this._topBottomDragScrolling.start(l,a):(this._topBottomDragScrolling.stop(),this._dispatchMouse(l,!0,1)))}start(a,l,d){this._lastMouseEvent=l,this._mouseState.setStartedOnLineNumbers(a===3),this._mouseState.setStartButtons(l),this._mouseState.setModifiers(l);const p=this._findMousePosition(l,!0);if(!p||!p.position)return;this._mouseState.trySetCount(l.detail,p.position),l.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(92)&&h.get(35)&&!h.get(22)&&!this._mouseState.altKey&&l.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&p.type===6&&p.position&&this._currentSelection.containsPosition(p.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,l.buttons,g=>this._onMouseDownThenMove(g),g=>{const C=this._findMousePosition(this._lastMouseEvent,!1);f.isKeyboardEvent(g)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:C?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(p,l.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,l.buttons,g=>this._onMouseDownThenMove(g),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(a){this._currentSelection=a.selections[0]}_getPositionOutsideEditor(a){const l=a.editorPos,d=this._context.viewModel,p=this._context.viewLayout,h=this._getMouseColumn(a);if(a.posy<l.y){const C=l.y-a.posy,S=Math.max(p.getCurrentScrollTop()-C,0),_=y.HitTestContext.getZoneAtCoord(this._context,S);if(_){const D=this._helpPositionJumpOverViewZone(_);if(D)return y.MouseTarget.createOutsideEditor(h,D,"above",C)}const L=p.getLineNumberAtVerticalOffset(S);return y.MouseTarget.createOutsideEditor(h,new b.Position(L,1),"above",C)}if(a.posy>l.y+l.height){const C=a.posy-l.y-l.height,S=p.getCurrentScrollTop()+a.relativePos.y,_=y.HitTestContext.getZoneAtCoord(this._context,S);if(_){const D=this._helpPositionJumpOverViewZone(_);if(D)return y.MouseTarget.createOutsideEditor(h,D,"below",C)}const L=p.getLineNumberAtVerticalOffset(S);return y.MouseTarget.createOutsideEditor(h,new b.Position(L,d.getLineMaxColumn(L)),"below",C)}const g=p.getLineNumberAtVerticalOffset(p.getCurrentScrollTop()+a.relativePos.y);if(a.posx<l.x){const C=l.x-a.posx;return y.MouseTarget.createOutsideEditor(h,new b.Position(g,1),"left",C)}if(a.posx>l.x+l.width){const C=a.posx-l.x-l.width;return y.MouseTarget.createOutsideEditor(h,new b.Position(g,d.getLineMaxColumn(g)),"right",C)}return null}_findMousePosition(a,l){const d=this._getPositionOutsideEditor(a);if(d)return d;const p=this._createMouseTarget(a,l);if(!p.position)return null;if(p.type===8||p.type===5){const g=this._helpPositionJumpOverViewZone(p.detail);if(g)return y.MouseTarget.createViewZone(p.type,p.element,p.mouseColumn,g,p.detail)}return p}_helpPositionJumpOverViewZone(a){const l=new b.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),d=a.positionBefore,p=a.positionAfter;return d&&p?d.isBefore(l)?d:p:null}_dispatchMouse(a,l,d){a.position&&this._viewController.dispatchMouse({position:a.position,mouseColumn:a.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:d,inSelectionMode:l,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:a.type===6&&a.detail.injectedText!==null})}}class n extends E.Disposable{constructor(a,l,d,p){super(),this._context=a,this._viewHelper=l,this._mouseTargetFactory=d,this._dispatchMouse=p,this._operation=null}dispose(){super.dispose(),this.stop()}start(a,l){this._operation?this._operation.setPosition(a,l):this._operation=new c(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,a,l)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class c extends E.Disposable{constructor(a,l,d,p,h,g){super(),this._context=a,this._viewHelper=l,this._mouseTargetFactory=d,this._dispatchMouse=p,this._position=h,this._mouseEvent=g,this._lastTime=Date.now(),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(g.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(a,l){this._position=a,this._mouseEvent=l}_tick(){const a=Date.now(),l=a-this._lastTime;return this._lastTime=a,l}_getScrollSpeed(){const a=this._context.configuration.options.get(67),l=this._context.configuration.options.get(146).height/a,d=this._position.outsideDistance/a;return d<=1.5?Math.max(30,l*(1+d)):d<=3?Math.max(60,l*(2+d)):Math.max(200,l*(7+d))}_execute(){const a=this._context.configuration.options.get(67),l=this._getScrollSpeed(),d=this._tick(),p=l*(d/1e3)*a,h=this._position.outsidePosition==="above"?-p:p;this._context.viewModel.viewLayout.deltaScrollNow(0,h),this._viewHelper.renderNow();const g=this._context.viewLayout.getLinesViewportData(),C=this._position.outsidePosition==="above"?g.startLineNumber:g.endLineNumber;let S;{const _=(0,m.createEditorPagePosition)(this._viewHelper.viewDomNode),L=this._context.configuration.options.get(146).horizontalScrollbarHeight,D=new m.PageCoordinates(this._mouseEvent.pos.x,_.y+_.height-L-.1),T=(0,m.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,_,D);S=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),_,D,T,null)}(!S.position||S.position.lineNumber!==C)&&(this._position.outsidePosition==="above"?S=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new b.Position(C,1),"above",this._position.outsideDistance):S=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new b.Position(C,this._context.viewModel.getLineMaxColumn(C)),"below",this._position.outsideDistance)),this._dispatchMouse(S,!0,2),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(S.element),()=>this._execute())}}class u{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(a){this._altKey=a.altKey,this._ctrlKey=a.ctrlKey,this._metaKey=a.metaKey,this._shiftKey=a.shiftKey}setStartButtons(a){this._leftButton=a.leftButton,this._middleButton=a.middleButton}setStartedOnLineNumbers(a){this._startedOnLineNumbers=a}trySetCount(a,l){const d=new Date().getTime();d-this._lastSetMouseDownCountTime>u.CLEAR_MOUSE_DOWN_COUNT_TIME&&(a=1),this._lastSetMouseDownCountTime=d,a>this._lastMouseDownCount+1&&(a=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(l)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=l,this._lastMouseDownCount=Math.min(a,this._lastMouseDownPositionEqualCount)}}u.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(re[761],ae([1,0,222,4,68,52,2,16,760,210,184]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class s extends w.MouseHandler{constructor(n,c,u){super(n,c,u),this._register(E.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Tap,a=>this.onTap(a))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Change,a=>this.onChange(a))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Contextmenu,a=>this._onContextMenu(new v.EditorMouseEvent(a,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",a=>{const l=a.pointerType;if(l==="mouse"){this._lastPointerType="mouse";return}else l==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new v.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(r.onPointerMove(this.viewHelper.viewDomNode,a=>this._onMouseMove(a))),this._register(r.onPointerUp(this.viewHelper.viewDomNode,a=>this._onMouseUp(a))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,a=>this._onMouseLeave(a))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,(a,l)=>this._onMouseDown(a,l)))}onTap(n){!n.initialTarget||!this.viewHelper.linesContentDomNode.contains(n.initialTarget)||(n.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(n,!1))}onChange(n){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(n,!0)}_dispatchGesture(n,c){const u=this._createMouseTarget(new v.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);u.position&&this.viewController.dispatchMouse({position:u.position,mouseColumn:u.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:n.tapCount,inSelectionMode:c,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:u.type===6&&u.detail.injectedText!==null})}_onMouseDown(n,c){n.browserEvent.pointerType!=="touch"&&super._onMouseDown(n,c)}}e.PointerEventHandler=s;class o extends w.MouseHandler{constructor(n,c,u){super(n,c,u),this._register(E.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Tap,r=>this.onTap(r))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Change,r=>this.onChange(r))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Contextmenu,r=>this._onContextMenu(new v.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1)))}onTap(n){n.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new v.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);if(c.position){const u=document.createEvent("CustomEvent");u.initEvent(b.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(u),this.viewController.moveTo(c.position,1)}}onChange(n){this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}}class t extends y.Disposable{constructor(n,c,u){super(),(m.isIOS||m.isAndroid&&m.isMobile)&&f.BrowserFeatures.pointerEvents?this.handler=this._register(new s(n,c,u)):I.mainWindow.TouchEvent?this.handler=this._register(new o(n,c,u)):this.handler=this._register(new w.MouseHandler(n,c,u))}getTargetAtClientPoint(n,c){return this.handler.getTargetAtClientPoint(n,c)}}e.PointerHandler=t}),define(re[762],ae([1,0,233,14,16,74,164,241,57,557,279,9,5,498]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class t{constructor(){this._currentVisibleRange=new o.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(r){this._currentVisibleRange=r}}class i{constructor(r,a,l,d,p,h,g){this.minimalReveal=r,this.lineNumber=a,this.startColumn=l,this.endColumn=d,this.startScrollTop=p,this.stopScrollTop=h,this.scrollType=g,this.type="range",this.minLineNumber=a,this.maxLineNumber=a}}class n{constructor(r,a,l,d,p){this.minimalReveal=r,this.selections=a,this.startScrollTop=l,this.stopScrollTop=d,this.scrollType=p,this.type="selections";let h=a[0].startLineNumber,g=a[0].endLineNumber;for(let C=1,S=a.length;C<S;C++){const _=a[C];h=Math.min(h,_.startLineNumber),g=Math.max(g,_.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=g}}class c extends w.ViewPart{constructor(r,a){super(r),this._linesContent=a,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new m.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const l=this._context.configuration,d=this._context.configuration.options,p=d.get(50),h=d.get(147);this._lineHeight=d.get(67),this._typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this._isViewportWrapping=h.isViewportWrapping,this._revealHorizontalRightPadding=d.get(101),this._cursorSurroundingLines=d.get(29),this._cursorSurroundingLinesStyle=d.get(30),this._canUseLayerHinting=!d.get(32),this._viewLineOptions=new v.ViewLineOptions(l,this._context.theme.type),w.PartFingerprints.write(this.domNode,8),this.domNode.setClassName(`view-lines ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,I.applyFontInfo)(this.domNode,p),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new t,this._horizontalRevealRequest=null,this._stickyScrollEnabled=d.get(116).enabled,this._maxNumberStickyLines=d.get(116).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new v.ViewLine(this._viewLineOptions)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r),r.hasChanged(147)&&(this._maxLineWidth=0);const a=this._context.configuration.options,l=a.get(50),d=a.get(147);return this._lineHeight=a.get(67),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._isViewportWrapping=d.isViewportWrapping,this._revealHorizontalRightPadding=a.get(101),this._cursorSurroundingLines=a.get(29),this._cursorSurroundingLinesStyle=a.get(30),this._canUseLayerHinting=!a.get(32),this._stickyScrollEnabled=a.get(116).enabled,this._maxNumberStickyLines=a.get(116).maxLineCount,(0,I.applyFontInfo)(this.domNode,l),this._onOptionsMaybeChanged(),r.hasChanged(146)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const r=this._context.configuration,a=new v.ViewLineOptions(r,this._context.theme.type);if(!this._viewLineOptions.equals(a)){this._viewLineOptions=a;const l=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let p=l;p<=d;p++)this._visibleLines.getVisibleLine(p).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(r){const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let d=!1;for(let p=a;p<=l;p++)d=this._visibleLines.getVisibleLine(p).onSelectionChanged()||d;return d}onDecorationsChanged(r){{const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let d=a;d<=l;d++)this._visibleLines.getVisibleLine(d).onDecorationsChanged()}return!0}onFlushed(r){const a=this._visibleLines.onFlushed(r);return this._maxLineWidth=0,a}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onRevealRangeRequest(r){const a=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),r.source,r.minimalReveal,r.range,r.selections,r.verticalType);if(a===-1)return!1;let l=this._context.viewLayout.validateScrollPosition({scrollTop:a});r.revealHorizontal?r.range&&r.range.startLineNumber!==r.range.endLineNumber?l={scrollTop:l.scrollTop,scrollLeft:0}:r.range?this._horizontalRevealRequest=new i(r.minimalReveal,r.range.startLineNumber,r.range.startColumn,r.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,r.scrollType):r.selections&&r.selections.length>0&&(this._horizontalRevealRequest=new n(r.minimalReveal,r.selections,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,r.scrollType)):this._horizontalRevealRequest=null;const p=Math.abs(this._context.viewLayout.getCurrentScrollTop()-l.scrollTop)<=this._lineHeight?1:r.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(l,p),!0}onScrollChanged(r){if(this._horizontalRevealRequest&&r.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&r.scrollTopChanged){const a=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),l=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(r.scrollTop<a||r.scrollTop>l)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(r.scrollWidth),this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(r)}onThemeChanged(r){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(r,a){const l=this._getViewLineDomNode(r);if(l===null)return null;const d=this._getLineNumberFor(l);if(d===-1||d<1||d>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(d)===1)return new s.Position(d,1);const p=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();if(d<p||d>h)return null;let g=this._visibleLines.getVisibleLine(d).getColumnOfNodeOffset(r,a);const C=this._context.viewModel.getLineMinColumn(d);return g<C&&(g=C),new s.Position(d,g)}_getViewLineDomNode(r){for(;r&&r.nodeType===1;){if(r.className===v.ViewLine.CLASS_NAME)return r;r=r.parentElement}return null}_getLineNumberFor(r){const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let d=a;d<=l;d++){const p=this._visibleLines.getVisibleLine(d);if(r===p.getDomNode())return d}return-1}getLineWidth(r){const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();if(r<a||r>l)return-1;const d=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),p=this._visibleLines.getVisibleLine(r).getWidth(d);return this._updateLineWidthsSlowIfDomDidLayout(d),p}linesVisibleRangesForRange(r,a){if(this.shouldRender())return null;const l=r.endLineNumber,d=o.Range.intersectRanges(r,this._lastRenderedData.getCurrentVisibleRange());if(!d)return null;const p=[];let h=0;const g=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let C=0;a&&(C=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(d.startLineNumber,1)).lineNumber);const S=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let L=d.startLineNumber;L<=d.endLineNumber;L++){if(L<S||L>_)continue;const D=L===d.startLineNumber?d.startColumn:1,T=L!==d.endLineNumber,N=T?this._context.viewModel.getLineMaxColumn(L):d.endColumn,A=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(L,D,N,g);if(A){if(a&&L<l){const R=C;C=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(L+1,1)).lineNumber,R!==C&&(A.ranges[A.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}p[h++]=new y.LineVisibleRanges(A.outsideRenderedLine,L,y.HorizontalRange.from(A.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(g),h===0?null:p}_visibleRangesForLineRange(r,a,l){if(this.shouldRender()||r<this._visibleLines.getStartLineNumber()||r>this._visibleLines.getEndLineNumber())return null;const d=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),p=this._visibleLines.getVisibleLine(r).getVisibleRangesForRange(r,a,l,d);return this._updateLineWidthsSlowIfDomDidLayout(d),p}visibleRangeForPosition(r){const a=this._visibleRangesForLineRange(r.lineNumber,r.column,r.column);return a?new y.HorizontalPosition(a.outsideRenderedLine,a.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(r){r.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(r){const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let d=1,p=!0;for(let h=a;h<=l;h++){const g=this._visibleLines.getVisibleLine(h);if(r&&!g.getWidthIsFast()){p=!1;continue}d=Math.max(d,g.getWidth(null))}return p&&a===1&&l===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(d),p}_checkMonospaceFontAssumptions(){let r=-1,a=-1;const l=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let p=l;p<=d;p++){const h=this._visibleLines.getVisibleLine(p);if(h.needsMonospaceFontCheck()){const g=h.getWidth(null);g>a&&(a=g,r=p)}}if(r!==-1&&!this._visibleLines.getVisibleLine(r).monospaceAssumptionsAreValid())for(let p=l;p<=d;p++)this._visibleLines.getVisibleLine(p).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(r){if(this._visibleLines.renderLines(r),this._lastRenderedData.setCurrentVisibleRange(r.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const l=this._horizontalRevealRequest;if(r.startLineNumber<=l.minLineNumber&&l.maxLineNumber<=r.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const d=this._computeScrollLeftToReveal(l);d&&(this._isViewportWrapping||this._ensureMaxLineWidth(d.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:d.scrollLeft},l.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),E.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const l=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let p=l;p<=d;p++)if(this._visibleLines.getVisibleLine(p).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const a=this._context.viewLayout.getCurrentScrollTop()-r.bigNumbersDelta;this._linesContent.setTop(-a),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(r){const a=Math.ceil(r);this._maxLineWidth<a&&(this._maxLineWidth=a,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(r,a,l,d,p,h){const g=r.top,C=r.height,S=g+C;let _,L,D;if(p&&p.length>0){let M=p[0].startLineNumber,P=p[0].endLineNumber;for(let x=1,O=p.length;x<O;x++){const B=p[x];M=Math.min(M,B.startLineNumber),P=Math.max(P,B.endLineNumber)}_=!1,L=this._context.viewLayout.getVerticalOffsetForLineNumber(M),D=this._context.viewLayout.getVerticalOffsetForLineNumber(P)+this._lineHeight}else if(d)_=!0,L=this._context.viewLayout.getVerticalOffsetForLineNumber(d.startLineNumber),D=this._context.viewLayout.getVerticalOffsetForLineNumber(d.endLineNumber)+this._lineHeight;else return-1;const T=(a==="mouse"||l)&&this._cursorSurroundingLinesStyle==="default";let N=0,A=0;if(T)l||(N=this._lineHeight);else{const M=Math.min(C/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?N=Math.max(M,this._maxNumberStickyLines)*this._lineHeight:N=M*this._lineHeight,A=Math.max(0,M-1)*this._lineHeight}l||(h===0||h===4)&&(A+=this._lineHeight),L-=N,D+=A;let R;if(D-L>C){if(!_)return-1;R=L}else if(h===5||h===6)if(h===6&&g<=L&&D<=S)R=g;else{const M=Math.max(5*this._lineHeight,C*.2),P=L-M,x=D-C;R=Math.max(x,P)}else if(h===1||h===2)if(h===2&&g<=L&&D<=S)R=g;else{const M=(L+D)/2;R=Math.max(0,M-C/2)}else R=this._computeMinimumScrolling(g,S,L,D,h===3,h===4);return R}_computeScrollLeftToReveal(r){const a=this._context.viewLayout.getCurrentViewport(),l=this._context.configuration.options.get(146),d=a.left,p=d+a.width-l.verticalScrollbarWidth;let h=1073741824,g=0;if(r.type==="range"){const S=this._visibleRangesForLineRange(r.lineNumber,r.startColumn,r.endColumn);if(!S)return null;for(const _ of S.ranges)h=Math.min(h,Math.round(_.left)),g=Math.max(g,Math.round(_.left+_.width))}else for(const S of r.selections){if(S.startLineNumber!==S.endLineNumber)return null;const _=this._visibleRangesForLineRange(S.startLineNumber,S.startColumn,S.endColumn);if(!_)return null;for(const L of _.ranges)h=Math.min(h,Math.round(L.left)),g=Math.max(g,Math.round(L.left+L.width))}return r.minimalReveal||(h=Math.max(0,h-c.HORIZONTAL_EXTRA_PX),g+=this._revealHorizontalRightPadding),r.type==="selections"&&g-h>a.width?null:{scrollLeft:this._computeMinimumScrolling(d,p,h,g),maxHorizontalOffset:g}}_computeMinimumScrolling(r,a,l,d,p,h){r=r|0,a=a|0,l=l|0,d=d|0,p=!!p,h=!!h;const g=a-r;if(d-l<g){if(p)return l;if(h)return Math.max(0,d-g);if(l<r)return l;if(d>a)return Math.max(0,d-g)}else return l;return r}}e.ViewLines=c,c.HORIZONTAL_EXTRA_PX=30}),define(re[25],ae([1,0,6,2,7,38,97]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.Extensions=e.IThemeService=void 0,e.themeColorFromId=m,e.getThemeTypeSelector=w,e.registerThemingParticipant=s,e.IThemeService=(0,E.createDecorator)("themeService");function m(t){return{id:t}}function w(t){switch(t){case y.ColorScheme.DARK:return"vs-dark";case y.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case y.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.Extensions={ThemingContribution:"base.contributions.theming"};class b{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Emitter}onColorThemeChange(i){return this.themingParticipants.push(i),this.onThemingParticipantAddedEmitter.fire(i),(0,k.toDisposable)(()=>{const n=this.themingParticipants.indexOf(i);this.themingParticipants.splice(n,1)})}getThemingParticipants(){return this.themingParticipants}}const v=new b;I.Registry.add(e.Extensions.ThemingContribution,v);function s(t){return v.onColorThemeChange(t)}class o extends k.Disposable{constructor(i){super(),this.themeService=i,this.theme=i.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(n=>this.onThemeChange(n)))}onThemeChange(i){this.theme=i,this.updateStyles()}updateStyles(){}}e.Themable=o}),define(re[763],ae([1,0,6,2,71,25]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let y=class extends k.Disposable{constructor(b){super(),this._themeService=b,this._onWillCreateCodeEditor=this._register(new f.Emitter),this._onCodeEditorAdd=this._register(new f.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new f.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new f.Emitter),this._onDiffEditorAdd=this._register(new f.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new f.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new E.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(b){this._codeEditors[b.getId()]=b,this._onCodeEditorAdd.fire(b)}removeCodeEditor(b){delete this._codeEditors[b.getId()]&&this._onCodeEditorRemove.fire(b)}listCodeEditors(){return Object.keys(this._codeEditors).map(b=>this._codeEditors[b])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(b){this._diffEditors[b.getId()]=b,this._onDiffEditorAdd.fire(b)}listDiffEditors(){return Object.keys(this._diffEditors).map(b=>this._diffEditors[b])}getFocusedCodeEditor(){let b=null;const v=this.listCodeEditors();for(const s of v){if(s.hasTextFocus())return s;s.hasWidgetFocus()&&(b=s)}return b}removeDecorationType(b){const v=this._decorationOptionProviders.get(b);v&&(v.refCount--,v.refCount<=0&&(this._decorationOptionProviders.delete(b),v.dispose(),this.listCodeEditors().forEach(s=>s.removeDecorationsByType(b))))}setModelProperty(b,v,s){const o=b.toString();let t;this._modelProperties.has(o)?t=this._modelProperties.get(o):(t=new Map,this._modelProperties.set(o,t)),t.set(v,s)}getModelProperty(b,v){const s=b.toString();if(this._modelProperties.has(s))return this._modelProperties.get(s).get(v)}async openCodeEditor(b,v,s){for(const o of this._codeEditorOpenHandlers){const t=await o(b,v,s);if(t!==null)return t}return null}registerCodeEditorOpenHandler(b){const v=this._codeEditorOpenHandlers.unshift(b);return(0,k.toDisposable)(v)}};e.AbstractCodeEditorService=y,e.AbstractCodeEditorService=y=ke([ge(0,I.IThemeService)],y);class m{constructor(b){this._styleSheet=b}}e.GlobalStyleSheet=m}),define(re[764],ae([1,0,48,25,32,117,58,7,698,2,4,31,45,60,118,52,390,656,14]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverService=void 0;let a=class extends b.Disposable{constructor(g,C,S,_,L){super(),this._instantiationService=g,this._keybindingService=S,this._layoutService=_,this._accessibilityService=L,this._managedHovers=new Map,C.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new c.ContextViewHandler(this._layoutService))}showHover(g,C,S){var _,L,D,T;if(l(this._currentHoverOptions)===l(g)||this._currentHover&&(!((L=(_=this._currentHoverOptions)===null||_===void 0?void 0:_.persistence)===null||L===void 0)&&L.sticky))return;this._currentHoverOptions=g,this._lastHoverOptions=g;const N=g.trapFocus||this._accessibilityService.isScreenReaderOptimized(),A=(0,v.getActiveElement)();S||(N&&A?A.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=A):this._lastFocusedElementBeforeOpen=void 0);const R=new b.DisposableStore,M=this._instantiationService.createInstance(w.HoverWidget,g);if(!((D=g.persistence)===null||D===void 0)&&D.sticky&&(M.isLocked=!0),M.onDispose(()=>{var P,x;((P=this._currentHover)===null||P===void 0?void 0:P.domNode)&&(0,v.isAncestorOfActiveElement)(this._currentHover.domNode)&&((x=this._lastFocusedElementBeforeOpen)===null||x===void 0||x.focus()),this._currentHoverOptions===g&&(this._currentHoverOptions=void 0),R.dispose()},void 0,R),!g.container){const P=(0,v.isHTMLElement)(g.target)?g.target:g.target.targetElements[0];g.container=this._layoutService.getContainer((0,v.getWindow)(P))}if(this._contextViewHandler.showContextView(new d(M,C),g.container),M.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,R),!((T=g.persistence)===null||T===void 0)&&T.sticky)R.add((0,v.addDisposableListener)((0,v.getWindow)(g.container).document,v.EventType.MOUSE_DOWN,P=>{(0,v.isAncestor)(P.target,M.domNode)||this.doHideHover()}));else{if("targetElements"in g.target)for(const x of g.target.targetElements)R.add((0,v.addDisposableListener)(x,v.EventType.CLICK,()=>this.hideHover()));else R.add((0,v.addDisposableListener)(g.target,v.EventType.CLICK,()=>this.hideHover()));const P=(0,v.getActiveElement)();if(P){const x=(0,v.getWindow)(P).document;R.add((0,v.addDisposableListener)(P,v.EventType.KEY_DOWN,O=>{var B;return this._keyDown(O,M,!!(!((B=g.persistence)===null||B===void 0)&&B.hideOnKeyDown))})),R.add((0,v.addDisposableListener)(x,v.EventType.KEY_DOWN,O=>{var B;return this._keyDown(O,M,!!(!((B=g.persistence)===null||B===void 0)&&B.hideOnKeyDown))})),R.add((0,v.addDisposableListener)(P,v.EventType.KEY_UP,O=>this._keyUp(O,M))),R.add((0,v.addDisposableListener)(x,v.EventType.KEY_UP,O=>this._keyUp(O,M)))}}if("IntersectionObserver"in n.mainWindow){const P=new IntersectionObserver(O=>this._intersectionChange(O,M),{threshold:0}),x="targetElements"in g.target?g.target.targetElements[0]:g.target;P.observe(x),R.add((0,b.toDisposable)(()=>P.disconnect()))}return this._currentHover=M,M}hideHover(){var g;!((g=this._currentHover)===null||g===void 0)&&g.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(g,C){g[g.length-1].isIntersecting||C.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(g,C,S){var _,L;if(g.key==="Alt"){C.isLocked=!0;return}const D=new o.StandardKeyboardEvent(g);this._keybindingService.resolveKeyboardEvent(D).getSingleModifierDispatchChords().some(N=>!!N)||this._keybindingService.softDispatch(D,D.target).kind!==0||S&&(!(!((_=this._currentHoverOptions)===null||_===void 0)&&_.trapFocus)||g.key!=="Tab")&&(this.hideHover(),(L=this._lastFocusedElementBeforeOpen)===null||L===void 0||L.focus())}_keyUp(g,C){var S;g.key==="Alt"&&(C.isLocked=!1,C.isMouseIn||(this.hideHover(),(S=this._lastFocusedElementBeforeOpen)===null||S===void 0||S.focus()))}setupManagedHover(g,C,S,_){C.setAttribute("custom-hover","true"),C.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",C.title),C.title="");let L,D;const T=(j,U)=>{var Y;const Q=D!==void 0;j&&(D?.dispose(),D=void 0),U&&(L?.dispose(),L=void 0),Q&&((Y=g.onDidHideHover)===null||Y===void 0||Y.call(g),D=void 0)},N=(j,U,Y,Q)=>new r.TimeoutTimer(async()=>{(!D||D.isDisposed)&&(D=new u.ManagedHoverWidget(g,Y||C,j>0),await D.update(typeof S=="function"?S():S,U,{..._,trapFocus:Q}))},j);let A=!1;const R=(0,v.addDisposableListener)(C,v.EventType.MOUSE_DOWN,()=>{A=!0,T(!0,!0)},!0),M=(0,v.addDisposableListener)(C,v.EventType.MOUSE_UP,()=>{A=!1},!0),P=(0,v.addDisposableListener)(C,v.EventType.MOUSE_LEAVE,j=>{A=!1,T(!1,j.fromElement===C)},!0),x=j=>{if(L)return;const U=new b.DisposableStore,Y={targetElements:[C],dispose:()=>{}};if(g.placement===void 0||g.placement==="mouse"){const Q=Z=>{Y.x=Z.x+10,(0,v.isHTMLElement)(Z.target)&&p(Z.target,C)!==C&&T(!0,!0)};U.add((0,v.addDisposableListener)(C,v.EventType.MOUSE_MOVE,Q,!0))}L=U,!((0,v.isHTMLElement)(j.target)&&p(j.target,C)!==C)&&U.add(N(g.delay,!1,Y))},O=(0,v.addDisposableListener)(C,v.EventType.MOUSE_OVER,x,!0),B=()=>{if(A||L)return;const j={targetElements:[C],dispose:()=>{}},U=new b.DisposableStore,Y=()=>T(!0,!0);U.add((0,v.addDisposableListener)(C,v.EventType.BLUR,Y,!0)),U.add(N(g.delay,!1,j)),L=U};let H;const K=C.tagName.toLowerCase();K!=="input"&&K!=="textarea"&&(H=(0,v.addDisposableListener)(C,v.EventType.FOCUS,B,!0));const V={show:j=>{T(!1,!0),N(0,j,void 0,j)},hide:()=>{T(!0,!0)},update:async(j,U)=>{S=j,await D?.update(S,void 0,U)},dispose:()=>{this._managedHovers.delete(C),O.dispose(),P.dispose(),R.dispose(),M.dispose(),H?.dispose(),T(!0,!0)}};return this._managedHovers.set(C,V),V}showManagedHover(g){const C=this._managedHovers.get(g);C&&C.show(!0)}dispose(){this._managedHovers.forEach(g=>g.dispose()),super.dispose()}};e.HoverService=a,e.HoverService=a=ke([ge(0,m.IInstantiationService),ge(1,y.IContextMenuService),ge(2,s.IKeybindingService),ge(3,i.ILayoutService),ge(4,t.IAccessibilityService)],a);function l(h){var g;if(h!==void 0)return(g=h?.id)!==null&&g!==void 0?g:h}class d{get anchorPosition(){return this._hover.anchor}constructor(g,C=!1){this._hover=g,this._focus=C,this.layer=1}render(g){return this._hover.render(g),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function p(h,g){for(g=g??(0,v.getWindow)(h).document.body;!h.hasAttribute("custom-hover")&&h!==g;)h=h.parentElement;return h}(0,f.registerSingleton)(I.IHoverService,a,1),(0,k.registerThemingParticipant)((h,g)=>{const C=h.getColor(E.editorHoverBorder);C&&(g.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${C.transparent(.5)}; }`),g.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${C.transparent(.5)}; }`))})}),define(re[765],ae([1,0,4,39,85,57,25]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class m extends I.ViewPart{constructor(b,v,s,o){super(b);const t=this._context.configuration.options,i=t.get(104),n=t.get(75),c=t.get(40),u=t.get(107),r={listenOnDomNode:s.domNode,className:"editor-scrollable "+(0,y.getThemeTypeSelector)(b.theme.type),useShadows:!1,lazyRender:!0,vertical:i.vertical,horizontal:i.horizontal,verticalHasArrows:i.verticalHasArrows,horizontalHasArrows:i.horizontalHasArrows,verticalScrollbarSize:i.verticalScrollbarSize,verticalSliderSize:i.verticalSliderSize,horizontalScrollbarSize:i.horizontalScrollbarSize,horizontalSliderSize:i.horizontalSliderSize,handleMouseWheel:i.handleMouseWheel,alwaysConsumeMouseWheel:i.alwaysConsumeMouseWheel,arrowSize:i.arrowSize,mouseWheelScrollSensitivity:n,fastScrollSensitivity:c,scrollPredominantAxis:u,scrollByPage:i.scrollByPage};this.scrollbar=this._register(new E.SmoothScrollableElement(v.domNode,r,this._context.viewLayout.getScrollable())),I.PartFingerprints.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const a=(l,d,p)=>{const h={};if(d){const g=l.scrollTop;g&&(h.scrollTop=this._context.viewLayout.getCurrentScrollTop()+g,l.scrollTop=0)}if(p){const g=l.scrollLeft;g&&(h.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+g,l.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(h,1)};this._register(f.addDisposableListener(s.domNode,"scroll",l=>a(s.domNode,!0,!0))),this._register(f.addDisposableListener(v.domNode,"scroll",l=>a(v.domNode,!0,!1))),this._register(f.addDisposableListener(o.domNode,"scroll",l=>a(o.domNode,!0,!1))),this._register(f.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",l=>a(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const b=this._context.configuration.options,v=b.get(146);this.scrollbarDomNode.setLeft(v.contentLeft),b.get(73).side==="right"?this.scrollbarDomNode.setWidth(v.contentWidth+v.minimap.minimapWidth):this.scrollbarDomNode.setWidth(v.contentWidth),this.scrollbarDomNode.setHeight(v.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(b){this.scrollbar.delegateVerticalScrollbarPointerDown(b)}delegateScrollFromMouseWheelEvent(b){this.scrollbar.delegateScrollFromMouseWheelEvent(b)}onConfigurationChanged(b){if(b.hasChanged(104)||b.hasChanged(75)||b.hasChanged(40)){const v=this._context.configuration.options,s=v.get(104),o=v.get(75),t=v.get(40),i=v.get(107),n={vertical:s.vertical,horizontal:s.horizontal,verticalScrollbarSize:s.verticalScrollbarSize,horizontalScrollbarSize:s.horizontalScrollbarSize,scrollByPage:s.scrollByPage,handleMouseWheel:s.handleMouseWheel,mouseWheelScrollSensitivity:o,fastScrollSensitivity:t,scrollPredominantAxis:i};this.scrollbar.updateOptions(n)}return b.hasChanged(146)&&this._setLayout(),!0}onScrollChanged(b){return!0}onThemeChanged(b){return this.scrollbar.updateClassName("editor-scrollable "+(0,y.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(b){}render(b){this.scrollbar.renderNow()}}e.EditorScrollbar=m}),define(re[766],ae([1,0,130,32,25,506]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class I{constructor(o){this.left=o.left,this.width=o.width,this.startStyle=null,this.endStyle=null}}class y{constructor(o,t){this.lineNumber=o,this.ranges=t}}function m(s){return new I(s)}function w(s){return new y(s.lineNumber,s.ranges.map(m))}class b extends f.DynamicViewOverlay{constructor(o){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=o;const t=this._context.configuration.options;this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(o){const t=this._context.configuration.options;return this._roundedSelection=t.get(102),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(o){return this._selections=o.selections.slice(0),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollTopChanged}onZonesChanged(o){return!0}_visibleRangesHaveGaps(o){for(let t=0,i=o.length;t<i;t++)if(o[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(o,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let c=null,u=null;if(i&&i.length>0&&t.length>0){const r=t[0].lineNumber;if(r===o.startLineNumber)for(let l=0;!c&&l<i.length;l++)i[l].lineNumber===r&&(c=i[l].ranges[0]);const a=t[t.length-1].lineNumber;if(a===o.endLineNumber)for(let l=i.length-1;!u&&l>=0;l--)i[l].lineNumber===a&&(u=i[l].ranges[0]);c&&!c.startStyle&&(c=null),u&&!u.startStyle&&(u=null)}for(let r=0,a=t.length;r<a;r++){const l=t[r].ranges[0],d=l.left,p=l.left+l.width,h={top:0,bottom:0},g={top:0,bottom:0};if(r>0){const C=t[r-1].ranges[0].left,S=t[r-1].ranges[0].left+t[r-1].ranges[0].width;v(d-C)<n?h.top=2:d>C&&(h.top=1),v(p-S)<n?g.top=2:C<p&&p<S&&(g.top=1)}else c&&(h.top=c.startStyle.top,g.top=c.endStyle.top);if(r+1<a){const C=t[r+1].ranges[0].left,S=t[r+1].ranges[0].left+t[r+1].ranges[0].width;v(d-C)<n?h.bottom=2:C<d&&d<S&&(h.bottom=1),v(p-S)<n?g.bottom=2:p<S&&(g.bottom=1)}else u&&(h.bottom=u.startStyle.bottom,g.bottom=u.endStyle.bottom);l.startStyle=h,l.endStyle=g}}_getVisibleRangesWithStyle(o,t,i){const c=(t.linesVisibleRangesForRange(o,!0)||[]).map(w);return!this._visibleRangesHaveGaps(c)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,c,i),c}_createSelectionPiece(o,t,i,n,c){return'<div class="cslr '+i+'" style="top:'+o.toString()+"px;bottom:"+t.toString()+"px;left:"+n.toString()+"px;width:"+c.toString()+'px;"></div>'}_actualRenderOneSelection(o,t,i,n){if(n.length===0)return;const c=!!n[0].ranges[0].startStyle,u=n[0].lineNumber,r=n[n.length-1].lineNumber;for(let a=0,l=n.length;a<l;a++){const d=n[a],p=d.lineNumber,h=p-t,g=i&&p===u?1:0,C=i&&p!==u&&p===r?1:0;let S="",_="";for(let L=0,D=d.ranges.length;L<D;L++){const T=d.ranges[L];if(c){const A=T.startStyle,R=T.endStyle;if(A.top===1||A.bottom===1){S+=this._createSelectionPiece(g,C,b.SELECTION_CLASS_NAME,T.left-b.ROUNDED_PIECE_WIDTH,b.ROUNDED_PIECE_WIDTH);let M=b.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(M+=" "+b.SELECTION_TOP_RIGHT),A.bottom===1&&(M+=" "+b.SELECTION_BOTTOM_RIGHT),S+=this._createSelectionPiece(g,C,M,T.left-b.ROUNDED_PIECE_WIDTH,b.ROUNDED_PIECE_WIDTH)}if(R.top===1||R.bottom===1){S+=this._createSelectionPiece(g,C,b.SELECTION_CLASS_NAME,T.left+T.width,b.ROUNDED_PIECE_WIDTH);let M=b.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(M+=" "+b.SELECTION_TOP_LEFT),R.bottom===1&&(M+=" "+b.SELECTION_BOTTOM_LEFT),S+=this._createSelectionPiece(g,C,M,T.left+T.width,b.ROUNDED_PIECE_WIDTH)}}let N=b.SELECTION_CLASS_NAME;if(c){const A=T.startStyle,R=T.endStyle;A.top===0&&(N+=" "+b.SELECTION_TOP_LEFT),A.bottom===0&&(N+=" "+b.SELECTION_BOTTOM_LEFT),R.top===0&&(N+=" "+b.SELECTION_TOP_RIGHT),R.bottom===0&&(N+=" "+b.SELECTION_BOTTOM_RIGHT)}_+=this._createSelectionPiece(g,C,N,T.left,T.width)}o[h][0]+=S,o[h][1]+=_}}prepareRender(o){const t=[],i=o.visibleRange.startLineNumber,n=o.visibleRange.endLineNumber;for(let u=i;u<=n;u++){const r=u-i;t[r]=["",""]}const c=[];for(let u=0,r=this._selections.length;u<r;u++){const a=this._selections[u];if(a.isEmpty()){c[u]=null;continue}const l=this._getVisibleRangesWithStyle(a,o,this._previousFrameVisibleRangesWithStyle[u]);c[u]=l,this._actualRenderOneSelection(t,i,this._selections.length>1,l)}this._previousFrameVisibleRangesWithStyle=c,this._renderResult=t.map(([u,r])=>u+r)}render(o,t){if(!this._renderResult)return"";const i=t-o;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.SelectionsOverlay=b,b.SELECTION_CLASS_NAME="selected-text",b.SELECTION_TOP_LEFT="top-left-radius",b.SELECTION_BOTTOM_LEFT="bottom-left-radius",b.SELECTION_TOP_RIGHT="top-right-radius",b.SELECTION_BOTTOM_RIGHT="bottom-right-radius",b.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",b.ROUNDED_PIECE_WIDTH=10,(0,E.registerThemingParticipant)((s,o)=>{const t=s.getColor(k.editorSelectionForeground);t&&!t.isTransparent()&&o.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function v(s){return s<0?-s:s}}),define(re[413],ae([1,0,4,39,220,2,21,86,9,347,32,25]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerFeature=void 0;let t=o=class extends I.Disposable{constructor(n,c,u,r,a,l,d){super(),this._editors=n,this._rootElement=c,this._diffModel=u,this._rootWidth=r,this._rootHeight=a,this._modifiedEditorLayoutInfo=l,this._themeService=d,this.width=o.ENTIRE_DIFF_OVERVIEW_WIDTH;const p=(0,y.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),h=(0,y.derived)(S=>{const _=p.read(S),L=_.getColor(v.diffOverviewRulerInserted)||(_.getColor(v.diffInserted)||v.defaultInsertColor).transparent(2),D=_.getColor(v.diffOverviewRulerRemoved)||(_.getColor(v.diffRemoved)||v.defaultRemoveColor).transparent(2);return{insertColor:L,removeColor:D}}),g=(0,k.createFastDomNode)(document.createElement("div"));g.setClassName("diffViewport"),g.setPosition("absolute");const C=(0,f.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:o.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,m.appendRemoveOnDispose)(C,g.domNode)),this._register((0,f.addStandardDisposableListener)(C,f.EventType.POINTER_DOWN,S=>{this._editors.modified.delegateVerticalScrollbarPointerDown(S)})),this._register((0,f.addDisposableListener)(C,f.EventType.MOUSE_WHEEL,S=>{this._editors.modified.delegateScrollFromMouseWheelEvent(S)},{passive:!1})),this._register((0,m.appendRemoveOnDispose)(this._rootElement,C)),this._register((0,y.autorunWithStore)((S,_)=>{const L=this._diffModel.read(S),D=this._editors.original.createOverviewRuler("original diffOverviewRuler");D&&(_.add(D),_.add((0,m.appendRemoveOnDispose)(C,D.getDomNode())));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T&&(_.add(T),_.add((0,m.appendRemoveOnDispose)(C,T.getDomNode()))),!D||!T)return;const N=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),A=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),R=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),M=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);_.add((0,y.autorun)(P=>{var x;N.read(P),A.read(P),R.read(P),M.read(P);const O=h.read(P),B=(x=L?.diff.read(P))===null||x===void 0?void 0:x.mappings;function H(j,U,Y){const Q=Y._getViewModel();return Q?j.filter(Z=>Z.length>0).map(Z=>{const G=Q.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(Z.startLineNumber,1)),F=Q.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(Z.endLineNumberExclusive,1)),J=F.lineNumber-G.lineNumber;return new b.OverviewRulerZone(G.lineNumber,F.lineNumber,J,U.toString())}):[]}const K=H((B||[]).map(j=>j.lineRangeMapping.original),O.removeColor,this._editors.original),V=H((B||[]).map(j=>j.lineRangeMapping.modified),O.insertColor,this._editors.modified);D?.setZones(K),T?.setZones(V)})),_.add((0,y.autorun)(P=>{const x=this._rootHeight.read(P),O=this._rootWidth.read(P),B=this._modifiedEditorLayoutInfo.read(P);if(B){const H=o.ENTIRE_DIFF_OVERVIEW_WIDTH-2*o.ONE_OVERVIEW_WIDTH;D.setLayout({top:0,height:x,right:H+o.ONE_OVERVIEW_WIDTH,width:o.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:x,right:0,width:o.ONE_OVERVIEW_WIDTH});const K=this._editors.modifiedScrollTop.read(P),V=this._editors.modifiedScrollHeight.read(P),j=this._editors.modified.getOption(104),U=new E.ScrollbarState(j.verticalHasArrows?j.arrowSize:0,j.verticalScrollbarSize,0,B.height,V,K);g.setTop(U.getSliderPosition()),g.setHeight(U.getSliderSize())}else g.setTop(0),g.setHeight(0);C.style.height=x+"px",C.style.left=O-o.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",g.setWidth(o.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};e.OverviewRulerFeature=t,t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=o.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerFeature=t=o=ke([ge(6,s.IThemeService)],t)}),define(re[767],ae([1,0,6,2,21,166,413,37,9,3,7,31]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let o=class extends k.Disposable{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(i,n,c,u,r,a,l){super(),this.originalEditorElement=i,this.modifiedEditorElement=n,this._options=c,this._argCodeEditorWidgetOptions=u,this._createInnerEditor=r,this._instantiationService=a,this._keybindingService=l,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new f.Emitter),this.modifiedScrollTop=(0,E.observableFromEvent)(this,this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,E.observableFromEvent)(this,this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedModel=(0,I.observableCodeEditor)(this.modified).model,this.modifiedSelections=(0,E.observableFromEvent)(this,this.modified.onDidChangeCursorSelection,()=>{var d;return(d=this.modified.getSelections())!==null&&d!==void 0?d:[]}),this.modifiedCursor=(0,E.derivedOpts)({owner:this,equalsFn:w.Position.equals},d=>{var p,h;return(h=(p=this.modifiedSelections.read(d)[0])===null||p===void 0?void 0:p.getPosition())!==null&&h!==void 0?h:new w.Position(1,1)}),this.originalCursor=(0,E.observableFromEvent)(this,this.original.onDidChangeCursorPosition,()=>{var d;return(d=this.original.getPosition())!==null&&d!==void 0?d:new w.Position(1,1)}),this._argCodeEditorWidgetOptions=null,this._register((0,E.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(d,p)=>(d.didChange(c.editorOptions)&&Object.assign(p,d.change.changedOptions),!0)},(d,p)=>{c.editorOptions.read(d),this._options.renderSideBySide.read(d),this.modified.updateOptions(this._adjustOptionsForRightHandSide(d,p)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(d,p))}))}_createLeftHandSideEditor(i,n){const c=this._adjustOptionsForLeftHandSide(void 0,i),u=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,c,n);return u.setContextValue("isInDiffLeftEditor",!0),u}_createRightHandSideEditor(i,n){const c=this._adjustOptionsForRightHandSide(void 0,i),u=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,c,n);return u.setContextValue("isInDiffRightEditor",!0),u}_constructInnerEditor(i,n,c,u){const r=this._createInnerEditor(i,n,c,u);return this._register(r.onDidContentSizeChange(a=>{const l=this.original.getContentWidth()+this.modified.getContentWidth()+y.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,d=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:d,contentWidth:l,contentHeightChanged:a.contentHeightChanged,contentWidthChanged:a.contentWidthChanged})})),r}_adjustOptionsForLeftHandSide(i,n){const c=this._adjustOptionsForSubEditor(n);return this._options.renderSideBySide.get()?(c.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},c.wordWrapOverride1=this._options.diffWordWrap.get()):(c.wordWrapOverride1="off",c.wordWrapOverride2="off",c.stickyScroll={enabled:!1},c.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),c.glyphMargin=this._options.renderSideBySide.get(),n.originalAriaLabel&&(c.ariaLabel=n.originalAriaLabel),c.ariaLabel=this._updateAriaLabel(c.ariaLabel),c.readOnly=!this._options.originalEditable.get(),c.dropIntoEditor={enabled:!c.readOnly},c.extraEditorClassName="original-in-monaco-diff-editor",c}_adjustOptionsForRightHandSide(i,n){const c=this._adjustOptionsForSubEditor(n);return n.modifiedAriaLabel&&(c.ariaLabel=n.modifiedAriaLabel),c.ariaLabel=this._updateAriaLabel(c.ariaLabel),c.wordWrapOverride1=this._options.diffWordWrap.get(),c.revealHorizontalRightPadding=m.EditorOptions.revealHorizontalRightPadding.defaultValue+y.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,c.scrollbar.verticalHasArrows=!1,c.extraEditorClassName="modified-in-monaco-diff-editor",c}_adjustOptionsForSubEditor(i){const n={...i,dimension:{height:0,width:0}};return n.inDiffEditor=!0,n.automaticLayout=!1,n.scrollbar={...n.scrollbar||{}},n.folding=!1,n.codeLens=this._options.diffCodeLens.get(),n.fixedOverflowWidgets=!0,n.minimap={...n.minimap||{}},n.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?n.stickyScroll={enabled:!1}:n.stickyScroll=this._options.editorOptions.get().stickyScroll,n}_updateAriaLabel(i){var n;i||(i="");const c=(0,b.localize)(7," use {0} to open the accessibility help.",(n=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||n===void 0?void 0:n.getAriaLabel());return this._options.accessibilityVerbose.get()?i+c:i?i.replaceAll(c,""):""}};e.DiffEditorEditors=o,e.DiffEditorEditors=o=ke([ge(5,v.IInstantiationService),ge(6,s.IKeybindingService)],o)}),define(re[81],ae([1,0,3,33,32,25]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorMultiCursorSecondaryBackground=e.editorMultiCursorSecondaryForeground=e.editorMultiCursorPrimaryBackground=e.editorMultiCursorPrimaryForeground=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,E.registerColor)("editor.lineHighlightBackground",null,f.localize(1067,"Background color for the highlight of line at the cursor position.")),e.editorLineHighlightBorder=(0,E.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:E.contrastBorder},f.localize(1068,"Background color for the border around the line at the cursor position.")),e.editorRangeHighlight=(0,E.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f.localize(1069,"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorRangeHighlightBorder=(0,E.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(1070,"Background color of the border around highlighted ranges.")),e.editorSymbolHighlight=(0,E.registerColor)("editor.symbolHighlightBackground",{dark:E.editorFindMatchHighlight,light:E.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(1071,"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),e.editorSymbolHighlightBorder=(0,E.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(1072,"Background color of the border around highlighted symbols.")),e.editorCursorForeground=(0,E.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(1073,"Color of the editor cursor.")),e.editorCursorBackground=(0,E.registerColor)("editorCursor.background",null,f.localize(1074,"The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),e.editorMultiCursorPrimaryForeground=(0,E.registerColor)("editorMultiCursor.primary.foreground",e.editorCursorForeground,f.localize(1075,"Color of the primary editor cursor when multiple cursors are present.")),e.editorMultiCursorPrimaryBackground=(0,E.registerColor)("editorMultiCursor.primary.background",e.editorCursorBackground,f.localize(1076,"The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),e.editorMultiCursorSecondaryForeground=(0,E.registerColor)("editorMultiCursor.secondary.foreground",e.editorCursorForeground,f.localize(1077,"Color of secondary editor cursors when multiple cursors are present.")),e.editorMultiCursorSecondaryBackground=(0,E.registerColor)("editorMultiCursor.secondary.background",e.editorCursorBackground,f.localize(1078,"The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),e.editorWhitespaces=(0,E.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f.localize(1079,"Color of whitespace characters in the editor.")),e.editorLineNumbers=(0,E.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},f.localize(1080,"Color of editor line numbers.")),e.deprecatedEditorIndentGuides=(0,E.registerColor)("editorIndentGuide.background",e.editorWhitespaces,f.localize(1081,"Color of the editor indentation guides."),!1,f.localize(1082,"'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),e.deprecatedEditorActiveIndentGuides=(0,E.registerColor)("editorIndentGuide.activeBackground",e.editorWhitespaces,f.localize(1083,"Color of the active editor indentation guides."),!1,f.localize(1084,"'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),e.editorIndentGuide1=(0,E.registerColor)("editorIndentGuide.background1",e.deprecatedEditorIndentGuides,f.localize(1085,"Color of the editor indentation guides (1).")),e.editorIndentGuide2=(0,E.registerColor)("editorIndentGuide.background2","#00000000",f.localize(1086,"Color of the editor indentation guides (2).")),e.editorIndentGuide3=(0,E.registerColor)("editorIndentGuide.background3","#00000000",f.localize(1087,"Color of the editor indentation guides (3).")),e.editorIndentGuide4=(0,E.registerColor)("editorIndentGuide.background4","#00000000",f.localize(1088,"Color of the editor indentation guides (4).")),e.editorIndentGuide5=(0,E.registerColor)("editorIndentGuide.background5","#00000000",f.localize(1089,"Color of the editor indentation guides (5).")),e.editorIndentGuide6=(0,E.registerColor)("editorIndentGuide.background6","#00000000",f.localize(1090,"Color of the editor indentation guides (6).")),e.editorActiveIndentGuide1=(0,E.registerColor)("editorIndentGuide.activeBackground1",e.deprecatedEditorActiveIndentGuides,f.localize(1091,"Color of the active editor indentation guides (1).")),e.editorActiveIndentGuide2=(0,E.registerColor)("editorIndentGuide.activeBackground2","#00000000",f.localize(1092,"Color of the active editor indentation guides (2).")),e.editorActiveIndentGuide3=(0,E.registerColor)("editorIndentGuide.activeBackground3","#00000000",f.localize(1093,"Color of the active editor indentation guides (3).")),e.editorActiveIndentGuide4=(0,E.registerColor)("editorIndentGuide.activeBackground4","#00000000",f.localize(1094,"Color of the active editor indentation guides (4).")),e.editorActiveIndentGuide5=(0,E.registerColor)("editorIndentGuide.activeBackground5","#00000000",f.localize(1095,"Color of the active editor indentation guides (5).")),e.editorActiveIndentGuide6=(0,E.registerColor)("editorIndentGuide.activeBackground6","#00000000",f.localize(1096,"Color of the active editor indentation guides (6)."));const y=(0,E.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(1097,"Color of editor active line number"),!1,f.localize(1098,"Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));e.editorActiveLineNumber=(0,E.registerColor)("editorLineNumber.activeForeground",y,f.localize(1099,"Color of editor active line number")),e.editorDimmedLineNumber=(0,E.registerColor)("editorLineNumber.dimmedForeground",null,f.localize(1100,"Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),e.editorRuler=(0,E.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},f.localize(1101,"Color of the editor rulers.")),e.editorCodeLensForeground=(0,E.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f.localize(1102,"Foreground color of editor CodeLens")),e.editorBracketMatchBackground=(0,E.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f.localize(1103,"Background color behind matching brackets")),e.editorBracketMatchBorder=(0,E.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(1104,"Color for matching brackets boxes")),e.editorOverviewRulerBorder=(0,E.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f.localize(1105,"Color of the overview ruler border.")),e.editorOverviewRulerBackground=(0,E.registerColor)("editorOverviewRuler.background",null,f.localize(1106,"Background color of the editor overview ruler.")),e.editorGutter=(0,E.registerColor)("editorGutter.background",E.editorBackground,f.localize(1107,"Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),e.editorUnnecessaryCodeBorder=(0,E.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:E.contrastBorder},f.localize(1108,"Border color of unnecessary (unused) source code in the editor.")),e.editorUnnecessaryCodeOpacity=(0,E.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(1109,`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),e.ghostTextBorder=(0,E.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},f.localize(1110,"Border color of ghost text in the editor.")),e.ghostTextForeground=(0,E.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(1111,"Foreground color of the ghost text in the editor.")),e.ghostTextBackground=(0,E.registerColor)("editorGhostText.background",null,f.localize(1112,"Background color of the ghost text in the editor."));const m=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,E.registerColor)("editorOverviewRuler.rangeHighlightForeground",m,f.localize(1113,"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),e.overviewRulerError=(0,E.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(1114,"Overview ruler marker color for errors.")),e.overviewRulerWarning=(0,E.registerColor)("editorOverviewRuler.warningForeground",{dark:E.editorWarningForeground,light:E.editorWarningForeground,hcDark:E.editorWarningBorder,hcLight:E.editorWarningBorder},f.localize(1115,"Overview ruler marker color for warnings.")),e.overviewRulerInfo=(0,E.registerColor)("editorOverviewRuler.infoForeground",{dark:E.editorInfoForeground,light:E.editorInfoForeground,hcDark:E.editorInfoBorder,hcLight:E.editorInfoBorder},f.localize(1116,"Overview ruler marker color for infos.")),e.editorBracketHighlightingForeground1=(0,E.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f.localize(1117,"Foreground color of brackets (1). Requires enabling bracket pair colorization.")),e.editorBracketHighlightingForeground2=(0,E.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f.localize(1118,"Foreground color of brackets (2). Requires enabling bracket pair colorization.")),e.editorBracketHighlightingForeground3=(0,E.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f.localize(1119,"Foreground color of brackets (3). Requires enabling bracket pair colorization.")),e.editorBracketHighlightingForeground4=(0,E.registerColor)("editorBracketHighlight.foreground4","#00000000",f.localize(1120,"Foreground color of brackets (4). Requires enabling bracket pair colorization.")),e.editorBracketHighlightingForeground5=(0,E.registerColor)("editorBracketHighlight.foreground5","#00000000",f.localize(1121,"Foreground color of brackets (5). Requires enabling bracket pair colorization.")),e.editorBracketHighlightingForeground6=(0,E.registerColor)("editorBracketHighlight.foreground6","#00000000",f.localize(1122,"Foreground color of brackets (6). Requires enabling bracket pair colorization.")),e.editorBracketHighlightingUnexpectedBracketForeground=(0,E.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},f.localize(1123,"Foreground color of unexpected brackets.")),e.editorBracketPairGuideBackground1=(0,E.registerColor)("editorBracketPairGuide.background1","#00000000",f.localize(1124,"Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),e.editorBracketPairGuideBackground2=(0,E.registerColor)("editorBracketPairGuide.background2","#00000000",f.localize(1125,"Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),e.editorBracketPairGuideBackground3=(0,E.registerColor)("editorBracketPairGuide.background3","#00000000",f.localize(1126,"Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),e.editorBracketPairGuideBackground4=(0,E.registerColor)("editorBracketPairGuide.background4","#00000000",f.localize(1127,"Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),e.editorBracketPairGuideBackground5=(0,E.registerColor)("editorBracketPairGuide.background5","#00000000",f.localize(1128,"Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),e.editorBracketPairGuideBackground6=(0,E.registerColor)("editorBracketPairGuide.background6","#00000000",f.localize(1129,"Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),e.editorBracketPairGuideActiveBackground1=(0,E.registerColor)("editorBracketPairGuide.activeBackground1","#00000000",f.localize(1130,"Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),e.editorBracketPairGuideActiveBackground2=(0,E.registerColor)("editorBracketPairGuide.activeBackground2","#00000000",f.localize(1131,"Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),e.editorBracketPairGuideActiveBackground3=(0,E.registerColor)("editorBracketPairGuide.activeBackground3","#00000000",f.localize(1132,"Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),e.editorBracketPairGuideActiveBackground4=(0,E.registerColor)("editorBracketPairGuide.activeBackground4","#00000000",f.localize(1133,"Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),e.editorBracketPairGuideActiveBackground5=(0,E.registerColor)("editorBracketPairGuide.activeBackground5","#00000000",f.localize(1134,"Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),e.editorBracketPairGuideActiveBackground6=(0,E.registerColor)("editorBracketPairGuide.activeBackground6","#00000000",f.localize(1135,"Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),e.editorUnicodeHighlightBorder=(0,E.registerColor)("editorUnicodeHighlight.border",E.editorWarningForeground,f.localize(1136,"Border color used to highlight unicode characters.")),e.editorUnicodeHighlightBackground=(0,E.registerColor)("editorUnicodeHighlight.background",E.editorWarningBackground,f.localize(1137,"Background color used to highlight unicode characters.")),(0,I.registerThemingParticipant)((w,b)=>{const v=w.getColor(E.editorBackground),s=w.getColor(e.editorLineHighlight),o=s&&!s.isTransparent()?s:v;o&&b.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${o}; }`)})}),define(re[768],ae([1,0,130,81,13,25,23,97,9,493]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class b extends f.DynamicViewOverlay{constructor(t){super(),this._context=t;const i=this._context.configuration.options,n=i.get(146);this._renderLineHighlight=i.get(97),this._renderLineHighlightOnlyWhenFocus=i.get(98),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new y.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const i=new Set;for(const u of this._selections)i.add(u.positionLineNumber);const n=Array.from(i);n.sort((u,r)=>u-r),E.equals(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,t=!0);const c=this._selections.every(u=>u.isEmpty());return this._selectionIsEmpty!==c&&(this._selectionIsEmpty=c,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const i=this._context.configuration.options,n=i.get(146);return this._renderLineHighlight=i.get(97),this._renderLineHighlightOnlyWhenFocus=i.get(98),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,c=[];for(let r=i;r<=n;r++){const a=r-i;c[a]=""}if(this._wordWrap){const r=this._renderOne(t,!1);for(const a of this._cursorLineNumbers){const l=this._context.viewModel.coordinatesConverter,d=l.convertViewPositionToModelPosition(new w.Position(a,1)).lineNumber,p=l.convertModelPositionToViewPosition(new w.Position(d,1)).lineNumber,h=l.convertModelPositionToViewPosition(new w.Position(d,this._context.viewModel.model.getLineMaxColumn(d))).lineNumber,g=Math.max(p,i),C=Math.min(h,n);for(let S=g;S<=C;S++){const _=S-i;c[_]=r}}}const u=this._renderOne(t,!0);for(const r of this._cursorLineNumbers){if(r<i||r>n)continue;const a=r-i;c[a]=u}this._renderData=c}render(t,i){if(!this._renderData)return"";const n=i-t;return n>=this._renderData.length?"":this._renderData[n]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=b;class v extends b{_renderOne(t,i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(i?" current-line-exact":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=v;class s extends b{_renderOne(t,i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&i?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=s,(0,I.registerThemingParticipant)((o,t)=>{const i=o.getColor(k.editorLineHighlight);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||o.defines(k.editorLineHighlightBorder)){const n=o.getColor(k.editorLineHighlightBorder);n&&(t.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${n}; }`),(0,m.isHighContrast)(o.type)&&(t.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}})}),define(re[769],ae([1,0,130,81,25,9,13,19,344,250,496]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class v extends f.DynamicViewOverlay{constructor(t){super(),this._context=t,this._primaryPosition=null;const i=this._context.configuration.options,n=i.get(147),c=i.get(50);this._spaceWidth=c.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=i.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const i=this._context.configuration.options,n=i.get(147),c=i.get(50);return this._spaceWidth=c.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=i.get(16),!0}onCursorStateChanged(t){var i;const c=t.selections[0].getPosition();return!((i=this._primaryPosition)===null||i===void 0)&&i.equals(c)?!1:(this._primaryPosition=c,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var i,n,c,u;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const r=t.visibleRange.startLineNumber,a=t.visibleRange.endLineNumber,l=t.scrollWidth,d=this._primaryPosition,p=this.getGuidesByLine(r,Math.min(a+1,this._context.viewModel.getLineCount()),d),h=[];for(let g=r;g<=a;g++){const C=g-r,S=p[C];let _="";const L=(n=(i=t.visibleRangeForPosition(new I.Position(g,1)))===null||i===void 0?void 0:i.left)!==null&&n!==void 0?n:0;for(const D of S){const T=D.column===-1?L+(D.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new I.Position(g,D.column)).left;if(T>l||this._maxIndentLeft>0&&T>this._maxIndentLeft)break;const N=D.horizontalLine?D.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",A=D.horizontalLine?((u=(c=t.visibleRangeForPosition(new I.Position(g,D.horizontalLine.endColumn)))===null||c===void 0?void 0:c.left)!==null&&u!==void 0?u:T+this._spaceWidth)-T:this._spaceWidth;_+=`<div class="core-guide ${D.className} ${N}" style="left:${T}px;width:${A}px"></div>`}h[C]=_}this._renderResult=h}getGuidesByLine(t,i,n){const c=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,i,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?b.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?b.HorizontalGuidesState.EnabledForActive:b.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,u=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,i):null;let r=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&n){const h=this._context.viewModel.getActiveIndentGuide(n.lineNumber,t,i);r=h.startLineNumber,a=h.endLineNumber,l=h.indent}const{indentSize:d}=this._context.viewModel.model.getOptions(),p=[];for(let h=t;h<=i;h++){const g=new Array;p.push(g);const C=c?c[h-t]:[],S=new y.ArrayQueue(C),_=u?u[h-t]:0;for(let L=1;L<=_;L++){const D=(L-1)*d+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||C.length===0)&&r<=h&&h<=a&&L===l;g.push(...S.takeWhile(A=>A.visibleColumn<D)||[]);const N=S.peek();(!N||N.visibleColumn!==D||N.horizontalLine)&&g.push(new b.IndentGuide(D,-1,`core-guide-indent lvl-${(L-1)%30}`+(T?" indent-active":""),null,-1,-1))}g.push(...S.takeWhile(L=>!0)||[])}return p}render(t,i){if(!this._renderResult)return"";const n=i-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.IndentGuidesOverlay=v;function s(o){if(!(o&&o.isTransparent()))return o}(0,E.registerThemingParticipant)((o,t)=>{const i=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],n=new w.BracketPairGuidesClassNames,c=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],u=i.map(a=>{var l,d;const p=o.getColor(a.bracketColor),h=o.getColor(a.guideColor),g=o.getColor(a.guideColorActive),C=s((l=s(h))!==null&&l!==void 0?l:p?.transparent(.3)),S=s((d=s(g))!==null&&d!==void 0?d:p);if(!(!C||!S))return{guideColor:C,guideColorActive:S}}).filter(m.isDefined),r=c.map(a=>{const l=o.getColor(a.indentColor),d=o.getColor(a.indentColorActive),p=s(l),h=s(d);if(!(!p||!h))return{indentColor:p,indentColorActive:h}}).filter(m.isDefined);if(u.length>0){for(let a=0;a<30;a++){const l=u[a%u.length];t.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${n.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${n.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${n.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(r.length>0){for(let a=0;a<30;a++){const l=r[a%r.length];t.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${a} { --indent-color: ${l.indentColor}; --indent-color-active: ${l.indentColorActive}; }`)}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(re[414],ae([1,0,16,130,9,5,25,81,497]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class w extends k.DynamicViewOverlay{constructor(v){super(),this._context=v,this._readConfig(),this._lastCursorModelPosition=new E.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const v=this._context.configuration.options;this._lineHeight=v.get(67);const s=v.get(68);this._renderLineNumbers=s.renderType,this._renderCustomLineNumbers=s.renderFn,this._renderFinalNewline=v.get(96);const o=v.get(146);this._lineNumbersLeft=o.lineNumbersLeft,this._lineNumbersWidth=o.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){return this._readConfig(),!0}onCursorStateChanged(v){const s=v.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(s);let o=!1;return this._activeLineNumber!==s.lineNumber&&(this._activeLineNumber=s.lineNumber,o=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(o=!0),o}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}onDecorationsChanged(v){return v.affectsLineNumber}_getLineRenderLineNumber(v){const s=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new E.Position(v,1));if(s.column!==1)return"";const o=s.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(o);if(this._renderLineNumbers===2){const t=Math.abs(this._lastCursorModelPosition.lineNumber-o);return t===0?'<span class="relative-current-line-number">'+o+"</span>":String(t)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===o||o%10===0)return String(o);const t=this._context.viewModel.getLineCount();return o===t?String(o):""}return String(o)}prepareRender(v){if(this._renderLineNumbers===0){this._renderResult=null;return}const s=f.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",o=v.visibleRange.startLineNumber,t=v.visibleRange.endLineNumber,i=this._context.viewModel.getDecorationsInViewport(v.visibleRange).filter(r=>!!r.options.lineNumberClassName);i.sort((r,a)=>I.Range.compareRangesUsingEnds(r.range,a.range));let n=0;const c=this._context.viewModel.getLineCount(),u=[];for(let r=o;r<=t;r++){const a=r-o;let l=this._getLineRenderLineNumber(r),d="";for(;n<i.length&&i[n].range.endLineNumber<r;)n++;for(let p=n;p<i.length;p++){const{range:h,options:g}=i[p];h.startLineNumber<=r&&(d+=" "+g.lineNumberClassName)}if(!l&&!d){u[a]="";continue}r===c&&this._context.viewModel.getLineLength(r)===0&&(this._renderFinalNewline==="off"&&(l=""),this._renderFinalNewline==="dimmed"&&(d+=" dimmed-line-number")),r===this._activeLineNumber&&(d+=" active-line-number"),u[a]=`<div class="${w.CLASS_NAME}${s}${d}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${l}</div>`}this._renderResult=u}render(v,s){if(!this._renderResult)return"";const o=s-v;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.LineNumbersOverlay=w,w.CLASS_NAME="line-numbers",(0,y.registerThemingParticipant)((b,v)=>{const s=b.getColor(m.editorLineNumbers),o=b.getColor(m.editorDimmedLineNumber);o?v.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o}; }`):s&&v.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s.transparent(.4)}; }`)})}),define(re[770],ae([1,0,3,65,39,16,11,74,210,322,57,414,346,37,167,9,5,23,233,27,33,301,31,7,490]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class g{constructor(D,T,N,A,R){this._context=D,this.modelLineNumber=T,this.distanceToModelLineStart=N,this.widthOfHiddenLineTextBefore=A,this.distanceToModelLineEnd=R,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(D){const T=new n.Position(this.modelLineNumber,this.distanceToModelLineStart+1),N=new n.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=D.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=D.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(D){return this._previousPresentation||(D?this._previousPresentation=D:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const C=k.isFirefox;let S=class extends v.ViewPart{constructor(D,T,N,A,R){super(D),this._keybindingService=A,this._instantiationService=R,this._primaryCursorPosition=new n.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=T,this._visibleRangeProvider=N,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,P=M.get(146);this._setAccessibilityOptions(M),this._contentLeft=P.contentLeft,this._contentWidth=P.contentWidth,this._contentHeight=P.height,this._fontInfo=M.get(50),this._lineHeight=M.get(67),this._emptySelectionClipboard=M.get(37),this._copyWithSyntaxHighlighting=M.get(25),this._visibleTextArea=null,this._selections=[new u.Selection(1,1,1,1)],this._modelSelections=[new u.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,E.createFastDomNode)(document.createElement("textarea")),v.PartFingerprints.write(this.textArea,7),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:x}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${x*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("aria-required",M.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(M.get(125))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",f.localize(1037,"editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",M.get(92)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,E.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const O={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:K=>this._context.viewModel.getLineMaxColumn(K),getValueInRange:(K,V)=>this._context.viewModel.getValueInRange(K,V),getValueLengthInRange:(K,V)=>this._context.viewModel.getValueLengthInRange(K,V),modifyPosition:(K,V)=>this._context.viewModel.modifyPosition(K,V)},B={getDataToCopy:()=>{const K=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,I.isWindows),V=this._context.viewModel.model.getEOL(),j=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),U=Array.isArray(K)?K:null,Y=Array.isArray(K)?K.join(V):K;let Q,Z=null;if(w.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Y.length<65536){const G=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);G&&(Q=G.html,Z=G.mode)}return{isFromEmptySelection:j,multicursorText:U,text:Y,html:Q,mode:Z}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const K=this._selections[0];if(I.isMacintosh&&K.isEmpty()){const j=K.getStartPosition();let U=this._getWordBeforePosition(j);if(U.length===0&&(U=this._getCharacterBeforePosition(j)),U.length>0)return new b.TextAreaState(U,U.length,U.length,c.Range.fromPositions(j),0)}if(I.isMacintosh&&!K.isEmpty()&&O.getValueLengthInRange(K,0)<500){const j=O.getValueInRange(K,0);return new b.TextAreaState(j,0,j.length,K,0)}if(k.isSafari&&!K.isEmpty()){const j="vscode-placeholder";return new b.TextAreaState(j,0,j.length,null,void 0)}return b.TextAreaState.EMPTY}if(k.isAndroid){const K=this._selections[0];if(K.isEmpty()){const V=K.getStartPosition(),[j,U]=this._getAndroidWordAtPosition(V);if(j.length>0)return new b.TextAreaState(j,U,U,c.Range.fromPositions(V),0)}return b.TextAreaState.EMPTY}return b.PagedScreenReaderStrategy.fromEditorSelection(O,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(K,V,j)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(K,V,j)},H=this._register(new w.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(w.TextAreaInput,B,H,I.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(K=>{this._viewController.emitKeyDown(K)})),this._register(this._textAreaInput.onKeyUp(K=>{this._viewController.emitKeyUp(K)})),this._register(this._textAreaInput.onPaste(K=>{let V=!1,j=null,U=null;K.metadata&&(V=this._emptySelectionClipboard&&!!K.metadata.isFromEmptySelection,j=typeof K.metadata.multicursorText<"u"?K.metadata.multicursorText:null,U=K.metadata.mode),this._viewController.paste(K.text,V,j,U)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(K=>{K.replacePrevCharCnt||K.replaceNextCharCnt||K.positionDelta?(b._debugComposition&&console.log(` => compositionType: <<${K.text}>>, ${K.replacePrevCharCnt}, ${K.replaceNextCharCnt}, ${K.positionDelta}`),this._viewController.compositionType(K.text,K.replacePrevCharCnt,K.replaceNextCharCnt,K.positionDelta)):(b._debugComposition&&console.log(` => type: <<${K.text}>>`),this._viewController.type(K.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(K=>{this._viewController.setSelection(K)})),this._register(this._textAreaInput.onCompositionStart(K=>{const V=this.textArea.domNode,j=this._modelSelections[0],{distanceToModelLineStart:U,widthOfHiddenTextBefore:Y}=(()=>{const Z=V.value.substring(0,Math.min(V.selectionStart,V.selectionEnd)),G=Z.lastIndexOf(`
`),F=Z.substring(G+1),J=F.lastIndexOf("	"),te=F.length-J-1,de=j.getStartPosition(),he=Math.min(de.column-1,te),pe=de.column-1-he,ue=F.substring(0,F.length-he),{tabSize:ie}=this._context.viewModel.model.getOptions(),se=_(this.textArea.domNode.ownerDocument,ue,this._fontInfo,ie);return{distanceToModelLineStart:pe,widthOfHiddenTextBefore:se}})(),{distanceToModelLineEnd:Q}=(()=>{const Z=V.value.substring(Math.max(V.selectionStart,V.selectionEnd)),G=Z.indexOf(`
`),F=G===-1?Z:Z.substring(0,G),J=F.indexOf("	"),te=J===-1?F.length:F.length-J-1,de=j.getEndPosition(),he=Math.min(this._context.viewModel.model.getLineMaxColumn(de.lineNumber)-de.column,te);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(de.lineNumber)-de.column-he}})();this._context.viewModel.revealRange("keyboard",!0,c.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new g(this._context,j.startLineNumber,U,Y,Q),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(K=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(d.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(D){this._textAreaInput.writeNativeTextAreaContent(D)}dispose(){super.dispose()}_getAndroidWordAtPosition(D){const T='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.viewModel.getLineContent(D.lineNumber),A=(0,i.getMapForWordSeparators)(T,[]);let R=!0,M=D.column,P=!0,x=D.column,O=0;for(;O<50&&(R||P);){if(R&&M<=1&&(R=!1),R){const B=N.charCodeAt(M-2);A.get(B)!==0?R=!1:M--}if(P&&x>N.length&&(P=!1),P){const B=N.charCodeAt(x-1);A.get(B)!==0?P=!1:x++}O++}return[N.substring(M-1,x-1),D.column-M]}_getWordBeforePosition(D){const T=this._context.viewModel.getLineContent(D.lineNumber),N=(0,i.getMapForWordSeparators)(this._context.configuration.options.get(132),[]);let A=D.column,R=0;for(;A>1;){const M=T.charCodeAt(A-2);if(N.get(M)!==0||R>50)return T.substring(A-1,D.column-1);R++,A--}return T.substring(0,D.column-1)}_getCharacterBeforePosition(D){if(D.column>1){const N=this._context.viewModel.getLineContent(D.lineNumber).charAt(D.column-2);if(!y.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(D){var T,N,A;if(D.get(2)===1){const M=(T=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||T===void 0?void 0:T.getAriaLabel(),P=(N=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||N===void 0?void 0:N.getAriaLabel(),x=(A=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||A===void 0?void 0:A.getAriaLabel(),O=f.localize(1038,"The editor is not accessible at this time.");return M?f.localize(1039,"{0} To enable screen reader optimized mode, use {1}",O,M):P?f.localize(1040,"{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",O,P):x?f.localize(1041,"{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",O,x):O}return D.get(4)}_setAccessibilityOptions(D){this._accessibilitySupport=D.get(2);const T=D.get(3);this._accessibilitySupport===2&&T===t.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=T;const A=D.get(146).wrappingColumn;if(A!==-1&&this._accessibilitySupport!==1){const R=D.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(A*R.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=C?0:1}onConfigurationChanged(D){const T=this._context.configuration.options,N=T.get(146);this._setAccessibilityOptions(T),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=T.get(50),this._lineHeight=T.get(67),this._emptySelectionClipboard=T.get(37),this._copyWithSyntaxHighlighting=T.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("aria-required",T.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(T.get(125))),(D.hasChanged(34)||D.hasChanged(92))&&this._ensureReadOnlyAttribute(),D.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(D){return this._selections=D.selections.slice(0),this._modelSelections=D.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return this._scrollLeft=D.scrollLeft,this._scrollTop=D.scrollTop,!0}onZonesChanged(D){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(D){D.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",D.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),D.role&&this.textArea.setAttribute("role",D.role)}_ensureReadOnlyAttribute(){const D=this._context.configuration.options;!d.IME.enabled||D.get(34)&&D.get(92)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(D){var T;this._primaryCursorPosition=new n.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=D.visibleRangeForPosition(this._primaryCursorPosition),(T=this._visibleTextArea)===null||T===void 0||T.prepareRender(D)}render(D){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var D;if(this._visibleTextArea){const A=this._visibleTextArea.visibleTextareaStart,R=this._visibleTextArea.visibleTextareaEnd,M=this._visibleTextArea.startPosition,P=this._visibleTextArea.endPosition;if(M&&P&&A&&R&&R.left>=this._scrollLeft&&A.left<=this._scrollLeft+this._contentWidth){const x=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let B=this._visibleTextArea.widthOfHiddenLineTextBefore,H=this._contentLeft+A.left-this._scrollLeft,K=R.left-A.left+1;if(H<this._contentLeft){const Z=this._contentLeft-H;H+=Z,B+=Z,K-=Z}K>this._contentWidth&&(K=this._contentWidth);const V=this._context.viewModel.getViewLineData(M.lineNumber),j=V.tokens.findTokenIndexAtOffset(M.column-1),U=V.tokens.findTokenIndexAtOffset(P.column-1),Y=j===U,Q=this._visibleTextArea.definePresentation(Y?V.tokens.getPresentation(j):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=B,this._doRender({lastRenderPosition:null,top:x,left:H,width:K,height:this._lineHeight,useCover:!1,color:(a.TokenizationRegistry.getColorMap()||[])[Q.foreground],italic:Q.italic,bold:Q.bold,underline:Q.underline,strikethrough:Q.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const T=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(T<this._contentLeft||T>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(N<0||N>this._contentHeight){this._renderAtTopLeft();return}if(I.isMacintosh||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const A=(D=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&D!==void 0?D:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=A*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:C?0:1,useCover:!1})}_newlinecount(D){let T=0,N=-1;do{if(N=D.indexOf(`
`,N+1),N===-1)break;T++}while(!0);return T}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:C?0:1,useCover:!0})}_doRender(D){this._lastRenderPosition=D.lastRenderPosition;const T=this.textArea,N=this.textAreaCover;(0,m.applyFontInfo)(T,this._fontInfo),T.setTop(D.top),T.setLeft(D.left),T.setWidth(D.width),T.setHeight(D.height),T.setColor(D.color?l.Color.Format.CSS.formatHex(D.color):""),T.setFontStyle(D.italic?"italic":""),D.bold&&T.setFontWeight("bold"),T.setTextDecoration(`${D.underline?" underline":""}${D.strikethrough?" line-through":""}`),N.setTop(D.useCover?D.top:0),N.setLeft(D.useCover?D.left:0),N.setWidth(D.useCover?D.width:0),N.setHeight(D.useCover?D.height:0);const A=this._context.configuration.options;A.get(57)?N.setClassName("monaco-editor-background textAreaCover "+o.Margin.OUTER_CLASS_NAME):A.get(68).renderType!==0?N.setClassName("monaco-editor-background textAreaCover "+s.LineNumbersOverlay.CLASS_NAME):N.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=S,e.TextAreaHandler=S=ke([ge(3,p.IKeybindingService),ge(4,h.IInstantiationService)],S);function _(L,D,T,N){if(D.length===0)return 0;const A=L.createElement("div");A.style.position="absolute",A.style.top="-50000px",A.style.width="50000px";const R=L.createElement("span");(0,m.applyFontInfo)(R,T),R.style.whiteSpace="pre",R.style.tabSize=`${N*T.spaceWidth}px`,R.append(D),A.appendChild(R),L.body.appendChild(A);const M=R.offsetWidth;return A.remove(),M}}),define(re[771],ae([1,0,39,33,57,9,27,81,95,13]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class v{constructor(t,i){const n=t.options;this.lineHeight=n.get(67),this.pixelRatio=n.get(144),this.overviewRulerLanes=n.get(83),this.renderBorder=n.get(82);const c=i.getColor(m.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=n.get(59);const u=i.getColor(m.editorCursorForeground);this.cursorColorSingle=u?u.transparent(.7).toString():null;const r=i.getColor(m.editorMultiCursorPrimaryForeground);this.cursorColorPrimary=r?r.transparent(.7).toString():null;const a=i.getColor(m.editorMultiCursorSecondaryForeground);this.cursorColorSecondary=a?a.transparent(.7).toString():null,this.themeType=i.type;const l=n.get(73),d=l.enabled,p=l.side,h=i.getColor(m.editorOverviewRulerBackground),g=y.TokenizationRegistry.getDefaultBackground();h?this.backgroundColor=h:d&&p==="right"?this.backgroundColor=g:this.backgroundColor=null;const S=n.get(146).overviewRuler;this.top=S.top,this.right=S.right,this.domWidth=S.width,this.domHeight=S.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[_,L]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=_,this.w=L}_initLanes(t,i,n){const c=i-t;if(n>=3){const u=Math.floor(c/3),r=Math.floor(c/3),a=c-u-r,l=t,d=l+u,p=l+u+a;return[[0,l,d,l,p,l,d,l],[0,u,a,u+a,r,u+a+r,a+r,u+a+r]]}else if(n===2){const u=Math.floor(c/2),r=c-u,a=t,l=a+u;return[[0,a,a,a,l,a,a,a],[0,u,u,u,r,u+r,u+r,u+r]]}else{const u=t,r=c;return[[0,u,u,u,u,u,u,u],[0,r,r,r,r,r,r,r]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColorSingle===t.cursorColorSingle&&this.cursorColorPrimary===t.cursorColorPrimary&&this.cursorColorSecondary===t.cursorColorSecondary&&this.themeType===t.themeType&&k.Color.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class s extends E.ViewPart{constructor(t){super(t),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=y.TokenizationRegistry.onDidChange(i=>{i.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new I.Position(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const i=new v(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(i)?!1:(this._settings=i,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(t){this._cursorPositions=[];for(let i=0,n=t.selections.length;i<n;i++){let c=this._settings.cursorColorSingle;n>1&&(c=i===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:t.selections[i].getPosition(),color:c})}return this._cursorPositions.sort((i,n)=>I.Position.compare(i.position,n.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(t){return t.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(t){return this._markRenderingIsNeeded()}onScrollChanged(t){return t.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(t){return this._markRenderingIsNeeded()}onThemeChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render(),this._actualShouldRender=0}_render(){const t=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(t?k.Color.Format.CSS.formatHexA(t):""),this._domNode.setDisplay("none");return}const i=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(i.sort(w.OverviewRulerDecorationsGroup.compareByRenderingProps),this._actualShouldRender===1&&!w.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,i)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,b.equals)(this._renderedCursorPositions,this._cursorPositions,(S,_)=>S.position.lineNumber===_.position.lineNumber&&S.color===_.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=i,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const n=this._settings.canvasWidth,c=this._settings.canvasHeight,u=this._settings.lineHeight,r=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),l=c/a,d=6*this._settings.pixelRatio|0,p=d/2|0,h=this._domNode.domNode.getContext("2d");t?t.isOpaque()?(h.fillStyle=k.Color.Format.CSS.formatHexA(t),h.fillRect(0,0,n,c)):(h.clearRect(0,0,n,c),h.fillStyle=k.Color.Format.CSS.formatHexA(t),h.fillRect(0,0,n,c)):h.clearRect(0,0,n,c);const g=this._settings.x,C=this._settings.w;for(const S of i){const _=S.color,L=S.data;h.fillStyle=_;let D=0,T=0,N=0;for(let A=0,R=L.length/3;A<R;A++){const M=L[3*A],P=L[3*A+1],x=L[3*A+2];let O=r.getVerticalOffsetForLineNumber(P)*l|0,B=(r.getVerticalOffsetForLineNumber(x)+u)*l|0;if(B-O<d){let K=(O+B)/2|0;K<p?K=p:K+p>c&&(K=c-p),O=K-p,B=K+p}O>N+1||M!==D?(A!==0&&h.fillRect(g[D],T,C[D],N-T),D=M,T=O,N=B):B>N&&(N=B)}h.fillRect(g[D],T,C[D],N-T)}if(!this._settings.hideCursor){const S=2*this._settings.pixelRatio|0,_=S/2|0,L=this._settings.x[7],D=this._settings.w[7];let T=-100,N=-100,A=null;for(let R=0,M=this._cursorPositions.length;R<M;R++){const P=this._cursorPositions[R].color;if(!P)continue;const x=this._cursorPositions[R].position;let O=r.getVerticalOffsetForLineNumber(x.lineNumber)*l|0;O<_?O=_:O+_>c&&(O=c-_);const B=O-_,H=B+S;B>N+1||P!==A?(R!==0&&A&&h.fillRect(L,T,D,N-T),T=B,N=H):H>N&&(N=H),A=P,h.fillStyle=P}A&&h.fillRect(L,T,D,N-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(h.beginPath(),h.lineWidth=1,h.strokeStyle=this._settings.borderColor,h.moveTo(0,0),h.lineTo(0,c),h.stroke(),h.moveTo(0,0),h.lineTo(n,0),h.stroke())}}e.DecorationsOverviewRuler=s}),define(re[772],ae([1,0,39,14,57,659,37,81,25,97,4,507]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class s extends E.ViewPart{constructor(t){super(t);const i=this._context.configuration.options;this._readOnly=i.get(92),this._cursorBlinking=i.get(26),this._cursorStyle=i.get(28),this._cursorSmoothCaretAnimation=i.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new I.ViewCursor(this._context,I.CursorPlurality.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new v.WindowIntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const i=this._context.configuration.options;this._readOnly=i.get(92),this._cursorBlinking=i.get(26),this._cursorStyle=i.get(28),this._cursorSmoothCaretAnimation=i.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let n=0,c=this._secondaryCursors.length;n<c;n++)this._secondaryCursors[n].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,i,n){const c=this._secondaryCursors.length!==i.length||this._cursorSmoothCaretAnimation==="explicit"&&n!==3;if(this._primaryCursor.setPlurality(i.length?I.CursorPlurality.MultiPrimary:I.CursorPlurality.Single),this._primaryCursor.onCursorPositionChanged(t,c),this._updateBlinking(),this._secondaryCursors.length<i.length){const u=i.length-this._secondaryCursors.length;for(let r=0;r<u;r++){const a=new I.ViewCursor(this._context,I.CursorPlurality.MultiSecondary);this._domNode.domNode.insertBefore(a.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(a)}}else if(this._secondaryCursors.length>i.length){const u=this._secondaryCursors.length-i.length;for(let r=0;r<u;r++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let u=0;u<i.length;u++)this._secondaryCursors[u].onCursorPositionChanged(i[u],c)}onCursorStateChanged(t){const i=[];for(let c=0,u=t.selections.length;c<u;c++)i[c]=t.selections[c].getPosition();this._onCursorPositionChanged(i[0],i.slice(1),t.reason);const n=t.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const i=n=>{for(let c=0,u=t.ranges.length;c<u;c++)if(t.ranges[c].fromLineNumber<=n.lineNumber&&n.lineNumber<=t.ranges[c].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(i(n.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),i=t===0,n=t===5;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!n&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},s.BLINK_INTERVAL,(0,v.getWindow)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},s.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case y.TextEditorCursorStyle.Line:t+=" cursor-line-style";break;case y.TextEditorCursorStyle.Block:t+=" cursor-block-style";break;case y.TextEditorCursorStyle.Underline:t+=" cursor-underline-style";break;case y.TextEditorCursorStyle.LineThin:t+=" cursor-line-thin-style";break;case y.TextEditorCursorStyle.BlockOutline:t+=" cursor-block-outline-style";break;case y.TextEditorCursorStyle.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].prepareRender(t)}render(t){const i=[];let n=0;const c=this._primaryCursor.render(t);c&&(i[n++]=c);for(let u=0,r=this._secondaryCursors.length;u<r;u++){const a=this._secondaryCursors[u].render(t);a&&(i[n++]=a)}this._renderData=i}getLastRenderData(){return this._renderData}}e.ViewCursors=s,s.BLINK_INTERVAL=500,(0,w.registerThemingParticipant)((o,t)=>{const i=[{class:".cursor",foreground:m.editorCursorForeground,background:m.editorCursorBackground},{class:".cursor-primary",foreground:m.editorMultiCursorPrimaryForeground,background:m.editorMultiCursorPrimaryBackground},{class:".cursor-secondary",foreground:m.editorMultiCursorSecondaryForeground,background:m.editorMultiCursorSecondaryBackground}];for(const n of i){const c=o.getColor(n.foreground);if(c){let u=o.getColor(n.background);u||(u=c.opposite()),t.addRule(`.monaco-editor .cursors-layer ${n.class} { background-color: ${c}; border-color: ${c}; color: ${u}; }`),(0,b.isHighContrast)(o.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection ${n.class} { border-left: 1px solid ${u}; border-right: 1px solid ${u}; }`)}}})}),define(re[773],ae([1,0,130,11,133,9,81,508]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class m extends f.DynamicViewOverlay{constructor(v){super(),this._context=v,this._options=new w(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){const s=new w(this._context.configuration);return this._options.equals(s)?v.hasChanged(146):(this._options=s,!0)}onCursorStateChanged(v){return this._selection=v.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}prepareRender(v){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const s=v.visibleRange.startLineNumber,t=v.visibleRange.endLineNumber-s+1,i=new Array(t);for(let c=0;c<t;c++)i[c]=!0;const n=this._context.viewModel.getMinimapLinesRenderingData(v.viewportData.startLineNumber,v.viewportData.endLineNumber,i);this._renderResult=[];for(let c=v.viewportData.startLineNumber;c<=v.viewportData.endLineNumber;c++){const u=c-v.viewportData.startLineNumber,r=n.data[u];let a=null;if(this._options.renderWhitespace==="selection"){const l=this._selection;for(const d of l){if(d.endLineNumber<c||d.startLineNumber>c)continue;const p=d.startLineNumber===c?d.startColumn:r.minColumn,h=d.endLineNumber===c?d.endColumn:r.maxColumn;p<h&&(a||(a=[]),a.push(new E.LineRange(p-1,h-1)))}}this._renderResult[u]=this._applyRenderWhitespace(v,c,a,r)}}_applyRenderWhitespace(v,s,o,t){if(this._options.renderWhitespace==="selection"&&!o||this._options.renderWhitespace==="trailing"&&t.continuesWithWrappedLine)return"";const i=this._context.theme.getColor(y.editorWhitespaces),n=this._options.renderWithSVG,c=t.content,u=this._options.stopRenderingLineAfter===-1?c.length:Math.min(this._options.stopRenderingLineAfter,c.length),r=t.continuesWithWrappedLine,a=t.minColumn-1,l=this._options.renderWhitespace==="boundary",d=this._options.renderWhitespace==="trailing",p=this._options.lineHeight,h=this._options.middotWidth,g=this._options.wsmiddotWidth,C=this._options.spaceWidth,S=Math.abs(g-C),_=Math.abs(h-C),L=S<_?11825:183,D=this._options.canUseHalfwidthRightwardsArrow;let T="",N=!1,A=k.firstNonWhitespaceIndex(c),R;A===-1?(N=!0,A=u,R=u):R=k.lastNonWhitespaceIndex(c);let M=0,P=o&&o[M],x=0;for(let O=a;O<u;O++){const B=c.charCodeAt(O);if(P&&O>=P.endOffset&&(M++,P=o&&o[M]),B!==9&&B!==32||d&&!N&&O<=R)continue;if(l&&O>=A&&O<=R&&B===32){const K=O-1>=0?c.charCodeAt(O-1):0,V=O+1<u?c.charCodeAt(O+1):0;if(K!==32&&V!==32)continue}if(l&&r&&O===u-1){const K=O-1>=0?c.charCodeAt(O-1):0;if(B===32&&K!==32&&K!==9)continue}if(o&&(!P||P.startOffset>O||P.endOffset<=O))continue;const H=v.visibleRangeForPosition(new I.Position(s,O+1));H&&(n?(x=Math.max(x,H.left),B===9?T+=this._renderArrow(p,C,H.left):T+=`<circle cx="${(H.left+C/2).toFixed(2)}" cy="${(p/2).toFixed(2)}" r="${(C/7).toFixed(2)}" />`):B===9?T+=`<div class="mwh" style="left:${H.left}px;height:${p}px;">${D?"\uFFEB":"\u2192"}</div>`:T+=`<div class="mwh" style="left:${H.left}px;height:${p}px;">${String.fromCharCode(L)}</div>`)}return n?(x=Math.round(x+C),`<svg style="bottom:0;position:absolute;width:${x}px;height:${p}px" viewBox="0 0 ${x} ${p}" xmlns="http://www.w3.org/2000/svg" fill="${i}">`+T+"</svg>"):T}_renderArrow(v,s,o){const t=s/7,i=s,n=v/2,c=o,u={x:0,y:t/2},r={x:100/125*i,y:u.y},a={x:r.x-.2*r.x,y:r.y+.2*r.x},l={x:a.x+.1*r.x,y:a.y+.1*r.x},d={x:l.x+.35*r.x,y:l.y-.35*r.x},p={x:d.x,y:-d.y},h={x:l.x,y:-l.y},g={x:a.x,y:-a.y},C={x:r.x,y:-r.y},S={x:u.x,y:-u.y};return`<path d="M ${[u,r,a,l,d,p,h,g,C,S].map(D=>`${(c+D.x).toFixed(2)} ${(n+D.y).toFixed(2)}`).join(" L ")}" />`}render(v,s){if(!this._renderResult)return"";const o=s-v;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.WhitespaceOverlay=m;class w{constructor(v){const s=v.options,o=s.get(50),t=s.get(38);t==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):t==="svg"?(this.renderWhitespace=s.get(100),this.renderWithSVG=!0):(this.renderWhitespace=s.get(100),this.renderWithSVG=!1),this.spaceWidth=o.spaceWidth,this.middotWidth=o.middotWidth,this.wsmiddotWidth=o.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=o.canUseHalfwidthRightwardsArrow,this.lineHeight=s.get(67),this.stopRenderingLineAfter=s.get(118)}equals(v){return this.renderWhitespace===v.renderWhitespace&&this.renderWithSVG===v.renderWithSVG&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineHeight===v.lineHeight&&this.stopRenderingLineAfter===v.stopRenderingLineAfter}}}),define(re[774],ae([1,0,4,39,294,8,412,761,770,164,718,609,57,321,610,611,768,612,765,253,769,414,762,613,346,614,747,615,771,625,616,617,766,772,618,773,9,5,23,41,172,621,626,7,25]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N,A,R,M,P,x,O,B,H,K,V,j,U,Y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let Q=class extends K.ViewEventHandler{constructor(J,te,de,he,pe,ue,ie){super(),this._instantiationService=ie,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new B.Selection(1,1,1,1)],this._renderAnimationFrame=null;const se=new v.ViewController(te,he,pe,J);this._context=new j.ViewContext(te,de,he),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(w.TextAreaHandler,this._context,se,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),o.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new p.ViewLines(this._context,this._linesContent),this._viewZones=new M.ViewZones(this._context),this._viewParts.push(this._viewZones);const ne=new L.DecorationsOverviewRuler(this._context);this._viewParts.push(ne);const W=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(W);const q=new s.ContentViewOverlays(this._context);this._viewParts.push(q),q.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),q.addDynamicOverlay(new A.SelectionsOverlay(this._context)),q.addDynamicOverlay(new l.IndentGuidesOverlay(this._context)),q.addDynamicOverlay(new u.DecorationsOverlay(this._context)),q.addDynamicOverlay(new P.WhitespaceOverlay(this._context));const z=new s.MarginViewOverlays(this._context);this._viewParts.push(z),z.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),z.addDynamicOverlay(new C.MarginViewLineDecorationsOverlay(this._context)),z.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),z.addDynamicOverlay(new d.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new a.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const $=new g.Margin(this._context);$.getDomNode().appendChild(this._viewZones.marginDomNode),$.getDomNode().appendChild(z.getDomNode()),$.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push($),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new R.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new _.ViewOverlayWidgets(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const X=new T.Rulers(this._context);this._viewParts.push(X);const ee=new i.BlockDecorations(this._context);this._viewParts.push(ee);const oe=new S.Minimap(this._context);if(this._viewParts.push(oe),ne){const ce=this._scrollbar.getOverviewRulerLayoutInfo();ce.parent.insertBefore(ne.getDomNode(),ce.insertBefore)}this._linesContent.appendChild(q.getDomNode()),this._linesContent.appendChild(X.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild($.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(W.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(oe.getDomNode()),this._overflowGuardContainer.appendChild(ee.domNode),this.domNode.appendChild(this._overflowGuardContainer),ue?(ue.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),ue.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new m.PointerHandler(this._context,se,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const J=this._context.viewModel.model,te=this._context.viewModel.glyphLanes;let de=[],he=0;de=de.concat(J.getAllMarginDecorations().map(pe=>{var ue,ie,se;const ne=(ie=(ue=pe.options.glyphMargin)===null||ue===void 0?void 0:ue.position)!==null&&ie!==void 0?ie:H.GlyphMarginLane.Center;return he=Math.max(he,pe.range.endLineNumber),{range:pe.range,lane:ne,persist:(se=pe.options.glyphMargin)===null||se===void 0?void 0:se.persistLane}})),de=de.concat(this._glyphMarginWidgets.getWidgets().map(pe=>{const ue=J.validateRange(pe.preference.range);return he=Math.max(he,ue.endLineNumber),{range:ue,lane:pe.preference.lane}})),de.sort((pe,ue)=>O.Range.compareRangesUsingStarts(pe.range,ue.range)),te.reset(he);for(const pe of de)te.push(pe.lane,pe.range,pe.persist);return te}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:J=>{this._textAreaHandler.textArea.domNode.dispatchEvent(J)},getLastRenderData:()=>{const J=this._viewCursors.getLastRenderData()||[],te=this._textAreaHandler.getLastRenderData();return new y.PointerHandlerLastRenderData(J,te)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:J=>this._viewZones.shouldSuppressMouseDownOnViewZone(J),shouldSuppressMouseDownOnWidget:J=>this._contentWidgets.shouldSuppressMouseDownOnWidget(J),getPositionFromDOMInfo:(J,te)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(J,te)),visibleRangeForPosition:(J,te)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new x.Position(J,te))),getLineWidth:J=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(J))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:J=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(J))}}_applyLayout(){const te=this._context.configuration.options.get(146);this.domNode.setWidth(te.width),this.domNode.setHeight(te.height),this._overflowGuardContainer.setWidth(te.width),this._overflowGuardContainer.setHeight(te.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const J=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(143)+" "+(0,Y.getThemeTypeSelector)(this._context.theme.type)+J}handleEvents(J){super.handleEvents(J),this._scheduleRender()}onConfigurationChanged(J){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(J){return this._selections=J.selections,!1}onDecorationsChanged(J){return J.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(J){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(J){return this._context.theme.update(J.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const J of this._viewParts)J.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new I.BugIndicatingError;if(this._renderAnimationFrame===null){const J=this._createCoordinatedRendering();this._renderAnimationFrame=G.INSTANCE.scheduleCoordinatedRendering({window:f.getWindow(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new I.BugIndicatingError;try{return J.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new I.BugIndicatingError;return J.renderText()},prepareRender:(te,de)=>{if(this._store.isDisposed)throw new I.BugIndicatingError;return J.prepareRender(te,de)},render:(te,de)=>{if(this._store.isDisposed)throw new I.BugIndicatingError;return J.render(te,de)}})}}_flushAccumulatedAndRenderNow(){const J=this._createCoordinatedRendering();Z(()=>J.prepareRenderText());const te=Z(()=>J.renderText());if(te){const[de,he]=te;Z(()=>J.prepareRender(de,he)),Z(()=>J.render(de,he))}}_getViewPartsToRender(){const J=[];let te=0;for(const de of this._viewParts)de.shouldRender()&&(J[te++]=de);return J}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const J=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(J.requiredLanes)}E.inputLatency.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let J=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&J.length===0)return null;const te=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(te.startLineNumber,te.endLineNumber,te.centeredLineNumber);const de=new V.ViewportData(this._selections,te,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(de),this._viewLines.shouldRender()&&(this._viewLines.renderText(de),this._viewLines.onDidRender(),J=this._getViewPartsToRender()),[J,new b.RenderingContext(this._context.viewLayout,de,this._viewLines)]},prepareRender:(J,te)=>{for(const de of J)de.prepareRender(te)},render:(J,te)=>{for(const de of J)de.render(te),de.onDidRender()}}}delegateVerticalScrollbarPointerDown(J){this._scrollbar.delegateVerticalScrollbarPointerDown(J)}delegateScrollFromMouseWheelEvent(J){this._scrollbar.delegateScrollFromMouseWheelEvent(J)}restoreState(J){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:J.scrollTop,scrollLeft:J.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(J,te){const de=this._context.viewModel.model.validatePosition({lineNumber:J,column:te}),he=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(de);this._flushAccumulatedAndRenderNow();const pe=this._viewLines.visibleRangeForPosition(new x.Position(he.lineNumber,he.column));return pe?pe.left:-1}getTargetAtClientPoint(J,te){const de=this._pointerHandler.getTargetAtClientPoint(J,te);return de?t.ViewUserInputEvents.convertViewToModelMouseTarget(de,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(J){return new D.OverviewRuler(this._context,J)}change(J){this._viewZones.changeViewZones(J),this._scheduleRender()}render(J,te){if(te){this._viewLines.forceShouldRender();for(const de of this._viewParts)de.forceShouldRender()}J?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(J){this._textAreaHandler.writeScreenReaderContent(J)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(J){this._textAreaHandler.setAriaOptions(J)}addContentWidget(J){this._contentWidgets.addWidget(J.widget),this.layoutContentWidget(J),this._scheduleRender()}layoutContentWidget(J){var te,de,he,pe,ue,ie,se,ne;this._contentWidgets.setWidgetPosition(J.widget,(de=(te=J.position)===null||te===void 0?void 0:te.position)!==null&&de!==void 0?de:null,(pe=(he=J.position)===null||he===void 0?void 0:he.secondaryPosition)!==null&&pe!==void 0?pe:null,(ie=(ue=J.position)===null||ue===void 0?void 0:ue.preference)!==null&&ie!==void 0?ie:null,(ne=(se=J.position)===null||se===void 0?void 0:se.positionAffinity)!==null&&ne!==void 0?ne:null),this._scheduleRender()}removeContentWidget(J){this._contentWidgets.removeWidget(J.widget),this._scheduleRender()}addOverlayWidget(J){this._overlayWidgets.addWidget(J.widget),this.layoutOverlayWidget(J),this._scheduleRender()}layoutOverlayWidget(J){this._overlayWidgets.setWidgetPosition(J.widget,J.position)&&this._scheduleRender()}removeOverlayWidget(J){this._overlayWidgets.removeWidget(J.widget),this._scheduleRender()}addGlyphMarginWidget(J){this._glyphMarginWidgets.addWidget(J.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(J){const te=J.position;this._glyphMarginWidgets.setWidgetPosition(J.widget,te)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(J){this._glyphMarginWidgets.removeWidget(J.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=Q,e.View=Q=ke([ge(6,U.IInstantiationService)],Q);function Z(F){try{return F()}catch(J){return(0,I.onUnexpectedError)(J),null}}class G{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(J){return this._coordinatedRenderings.push(J),this._scheduleRender(J.window),{dispose:()=>{const te=this._coordinatedRenderings.indexOf(J);if(te!==-1&&(this._coordinatedRenderings.splice(te,1),this._coordinatedRenderings.length===0)){for(const[de,he]of this._animationFrameRunners)he.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(J){if(!this._animationFrameRunners.has(J)){const te=()=>{this._animationFrameRunners.delete(J),this._onRenderScheduled()};this._animationFrameRunners.set(J,f.runAtThisOrScheduleAtNextAnimationFrame(J,te,100))}}_onRenderScheduled(){const J=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const de of J)Z(()=>de.prepareRenderText());const te=[];for(let de=0,he=J.length;de<he;de++){const pe=J[de];te[de]=Z(()=>pe.renderText())}for(let de=0,he=J.length;de<he;de++){const pe=J[de],ue=te[de];if(!ue)continue;const[ie,se]=ue;Z(()=>pe.prepareRender(ie,se))}for(let de=0,he=J.length;de<he;de++){const pe=J[de],ue=te[de];if(!ue)continue;const[ie,se]=ue;Z(()=>pe.render(ie,se))}}}G.INSTANCE=new G}),define(re[775],ae([1,0,6,2,5,81,25]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class m extends k.Disposable{constructor(v){super(),this.textModel=v,this.colorProvider=new w,this.onDidChangeEmitter=new f.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=v.getOptions().bracketPairColorizationOptions,this._register(v.bracketPairs.onDidChange(s=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(v){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(v,s,o,t){return t?[]:s===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(v,!0).map(n=>({id:`bracket${n.range.toString()}-${n.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(n,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:n.range})).toArray():[]}getAllDecorations(v,s){return v===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new E.Range(1,1,this.textModel.getLineCount(),1),v,s):[]}}e.ColorizedBracketPairsDecorationProvider=m;class w{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(v,s){return v.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(s?v.nestingLevelOfEqualBracketType:v.nestingLevel)}getInlineClassNameOfLevel(v){return`bracket-highlighting-${v%30}`}}(0,y.registerThemingParticipant)((b,v)=>{const s=[I.editorBracketHighlightingForeground1,I.editorBracketHighlightingForeground2,I.editorBracketHighlightingForeground3,I.editorBracketHighlightingForeground4,I.editorBracketHighlightingForeground5,I.editorBracketHighlightingForeground6],o=new w;v.addRule(`.monaco-editor .${o.unexpectedClosingBracketClassName} { color: ${b.getColor(I.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const t=s.map(i=>b.getColor(i)).filter(i=>!!i).filter(i=>!i.isTransparent());for(let i=0;i<30;i++){const n=t[i%t.length];v.addRule(`.monaco-editor .${o.getInlineClassNameOfLevel(i)} { color: ${n}; }`)}})}),define(re[776],ae([1,0,107,2,41,25,81,51,5,46,6,32,44,296]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let i=class extends k.Disposable{constructor(u,r){super(),this._markerService=r,this._onDidChangeMarker=this._register(new v.Emitter),this._markerDecorations=new o.ResourceMap,u.getModels().forEach(a=>this._onModelAdded(a)),this._register(u.onModelAdded(this._onModelAdded,this)),this._register(u.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(u=>u.dispose()),this._markerDecorations.clear()}getMarker(u,r){const a=this._markerDecorations.get(u);return a&&a.getMarker(r)||null}_handleMarkerChange(u){u.forEach(r=>{const a=this._markerDecorations.get(r);a&&this._updateDecorations(a)})}_onModelAdded(u){const r=new n(u);this._markerDecorations.set(u.uri,r),this._updateDecorations(r)}_onModelRemoved(u){var r;const a=this._markerDecorations.get(u.uri);a&&(a.dispose(),this._markerDecorations.delete(u.uri)),(u.uri.scheme===b.Schemas.inMemory||u.uri.scheme===b.Schemas.internal||u.uri.scheme===b.Schemas.vscode)&&((r=this._markerService)===null||r===void 0||r.read({resource:u.uri}).map(l=>l.owner).forEach(l=>this._markerService.remove(l,[u.uri])))}_updateDecorations(u){const r=this._markerService.read({resource:u.model.uri,take:500});u.update(r)&&this._onDidChangeMarker.fire(u.model)}};e.MarkerDecorationsService=i,e.MarkerDecorationsService=i=ke([ge(0,m.IModelService),ge(1,f.IMarkerService)],i);class n extends k.Disposable{constructor(u){super(),this.model=u,this._map=new o.BidirectionalMap,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(u){const{added:r,removed:a}=(0,t.diffSets)(new Set(this._map.keys()),new Set(u));if(r.length===0&&a.length===0)return!1;const l=a.map(h=>this._map.get(h)),d=r.map(h=>({range:this._createDecorationRange(this.model,h),options:this._createDecorationOption(h)})),p=this.model.deltaDecorations(l,d);for(const h of a)this._map.delete(h);for(let h=0;h<p.length;h++)this._map.set(r[h],p[h]);return!0}getMarker(u){return this._map.getKey(u.id)}_createDecorationRange(u,r){let a=w.Range.lift(r);if(r.severity===f.MarkerSeverity.Hint&&!this._hasMarkerTag(r,1)&&!this._hasMarkerTag(r,2)&&(a=a.setEndPosition(a.startLineNumber,a.startColumn+2)),a=u.validateRange(a),a.isEmpty()){const l=u.getLineLastNonWhitespaceColumn(a.startLineNumber)||u.getLineMaxColumn(a.startLineNumber);if(l===1||a.endColumn>=l)return a;const d=u.getWordAtPosition(a.getStartPosition());d&&(a=new w.Range(a.startLineNumber,d.startColumn,a.endLineNumber,d.endColumn))}else if(r.endColumn===Number.MAX_VALUE&&r.startColumn===1&&a.startLineNumber===a.endLineNumber){const l=u.getLineFirstNonWhitespaceColumn(r.startLineNumber);l<a.endColumn&&(a=new w.Range(a.startLineNumber,l,a.endLineNumber,a.endColumn),r.startColumn=l)}return a}_createDecorationOption(u){let r,a,l,d,p;switch(u.severity){case f.MarkerSeverity.Hint:this._hasMarkerTag(u,2)?r=void 0:this._hasMarkerTag(u,1)?r="squiggly-unnecessary":r="squiggly-hint",l=0;break;case f.MarkerSeverity.Info:r="squiggly-info",a=(0,I.themeColorFromId)(y.overviewRulerInfo),l=10,p={color:(0,I.themeColorFromId)(s.minimapInfo),position:1};break;case f.MarkerSeverity.Warning:r="squiggly-warning",a=(0,I.themeColorFromId)(y.overviewRulerWarning),l=20,p={color:(0,I.themeColorFromId)(s.minimapWarning),position:1};break;case f.MarkerSeverity.Error:default:r="squiggly-error",a=(0,I.themeColorFromId)(y.overviewRulerError),l=30,p={color:(0,I.themeColorFromId)(s.minimapError),position:1};break}return u.tags&&(u.tags.indexOf(1)!==-1&&(d="squiggly-inline-unnecessary"),u.tags.indexOf(2)!==-1&&(d="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:a,position:E.OverviewRulerLane.Right},minimap:p,zIndex:l,inlineClassName:d}}_hasMarkerTag(u,r){return u.tags?u.tags.indexOf(r)>=0:!1}}}),define(re[280],ae([1,0,145,25,61,607,42]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensProviderStyling=void 0,e.toMultilineTokens2=b;const m=!1;let w=class{constructor(t,i,n,c){this._legend=t,this._themeService=i,this._languageService=n,this._logService=c,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new s}getMetadata(t,i,n){const c=this._languageService.languageIdCodec.encodeLanguageId(n),u=this._hashTable.get(t,i,c);let r;if(u)r=u.metadata,m&&this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${i}: foreground ${f.TokenMetadata.getForeground(r)}, fontStyle ${f.TokenMetadata.getFontStyle(r).toString(2)}`);else{let a=this._legend.tokenTypes[t];const l=[];if(a){let d=i;for(let h=0;d>0&&h<this._legend.tokenModifiers.length;h++)d&1&&l.push(this._legend.tokenModifiers[h]),d=d>>1;m&&d>0&&this._logService.getLevel()===E.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const p=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,n);if(typeof p>"u")r=2147483647;else{if(r=0,typeof p.italic<"u"){const h=(p.italic?1:0)<<11;r|=h|1}if(typeof p.bold<"u"){const h=(p.bold?2:0)<<11;r|=h|2}if(typeof p.underline<"u"){const h=(p.underline?4:0)<<11;r|=h|4}if(typeof p.strikethrough<"u"){const h=(p.strikethrough?8:0)<<11;r|=h|8}if(p.foreground){const h=p.foreground<<15;r|=h|16}r===0&&(r=2147483647)}}else m&&this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,a="not-in-legend";this._hashTable.add(t,i,c,r),m&&this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${a}) / ${i} (${l.join(" ")}): foreground ${f.TokenMetadata.getForeground(r)}, fontStyle ${f.TokenMetadata.getFontStyle(r).toString(2)}`)}return r}warnOverlappingSemanticTokens(t,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${i}`))}warnInvalidLengthSemanticTokens(t,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${t}, column ${i}`))}warnInvalidEditStart(t,i,n,c,u){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${t}, resultId: ${i}) at edit #${n}: The provided start offset ${c} is outside the previous data (length ${u}).`))}};e.SemanticTokensProviderStyling=w,e.SemanticTokensProviderStyling=w=ke([ge(1,k.IThemeService),ge(2,y.ILanguageService),ge(3,E.ILogService)],w);function b(o,t,i){const n=o.data,c=o.data.length/5|0,u=Math.max(Math.ceil(c/1024),400),r=[];let a=0,l=1,d=0;for(;a<c;){const p=a;let h=Math.min(p+u,c);if(h<c){let T=h;for(;T-1>p&&n[5*T]===0;)T--;if(T-1===p){let N=h;for(;N+1<c&&n[5*N]===0;)N++;h=N}else h=T}let g=new Uint32Array((h-p)*4),C=0,S=0,_=0,L=0;for(;a<h;){const T=5*a,N=n[T],A=n[T+1],R=l+N|0,M=N===0?d+A|0:A,P=n[T+2],x=M+P|0,O=n[T+3],B=n[T+4];if(x<=M)t.warnInvalidLengthSemanticTokens(R,M+1);else if(_===R&&L>M)t.warnOverlappingSemanticTokens(R,M+1);else{const H=t.getMetadata(O,B,i);H!==2147483647&&(S===0&&(S=R),g[C]=R-S,g[C+1]=M,g[C+2]=x,g[C+3]=H,C+=4,_=R,L=x)}l=R,d=M,a++}C!==g.length&&(g=g.subarray(0,C));const D=I.SparseMultilineTokens.create(S,g);r.push(D)}return r}class v{constructor(t,i,n,c){this.tokenTypeIndex=t,this.tokenModifierSet=i,this.languageId=n,this.metadata=c,this.next=null}}class s{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=s._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<s._SIZES.length?2/3*this._currentLength:0),this._elements=[],s._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,i){for(let n=0;n<i;n++)t[n]=null}_hash2(t,i){return(t<<5)-t+i|0}_hashFunc(t,i,n){return this._hash2(this._hash2(t,i),n)%this._currentLength}get(t,i,n){const c=this._hashFunc(t,i,n);let u=this._elements[c];for(;u;){if(u.tokenTypeIndex===t&&u.tokenModifierSet===i&&u.languageId===n)return u;u=u.next}return null}add(t,i,n,c){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const u=this._elements;this._currentLengthIndex++,this._currentLength=s._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<s._SIZES.length?2/3*this._currentLength:0),this._elements=[],s._nullOutEntries(this._elements,this._currentLength);for(const r of u){let a=r;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new v(t,i,n,c))}_add(t){const i=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[i],this._elements[i]=t}}s._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(re[777],ae([1,0,2,42,25,61,280,264,48]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let b=class extends f.Disposable{constructor(s,o,t){super(),this._themeService=s,this._logService=o,this._languageService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new y.SemanticTokensProviderStyling(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};e.SemanticTokensStylingService=b,e.SemanticTokensStylingService=b=ke([ge(0,E.IThemeService),ge(1,I.ILogService),ge(2,k.ILanguageService)],b),(0,w.registerSingleton)(m.ISemanticTokensStylingService,b,1)}),define(re[778],ae([1,0,15,81,3,88,356,693,538]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(y.PlaceholderTextContribution.ID,(0,m.wrapInReloadableClass1)(()=>y.PlaceholderTextContribution),0),(0,I.registerColor)("editor.placeholder.foreground",k.ghostTextForeground,(0,E.localize)(351,"Foreground color of the placeholder text in the editor."))}),define(re[415],ae([1,0,125,2,170,41,81,25,47]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class b{constructor(s){this.options=s,this.rangeHighlightDecorationId=void 0}provide(s,o,t){var i;const n=new k.DisposableStore;s.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),s.matchOnLabel=s.matchOnDescription=s.matchOnDetail=s.sortByLabel=!1;const c=n.add(new k.MutableDisposable);return c.value=this.doProvide(s,o,t),n.add(this.onDidActiveTextEditorControlChange(()=>{c.value=void 0,c.value=this.doProvide(s,o)})),n}doProvide(s,o,t){var i;const n=new k.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const u={editor:c},r=(0,E.getCodeEditor)(c);if(r){let a=(i=c.saveViewState())!==null&&i!==void 0?i:void 0;n.add(r.onDidChangeCursorPosition(()=>{var l;a=(l=c.saveViewState())!==null&&l!==void 0?l:void 0})),u.restoreViewState=()=>{a&&c===this.activeTextEditorControl&&c.restoreViewState(a)},n.add((0,f.createSingleCallFunction)(o.onCancellationRequested)(()=>{var l;return(l=u.restoreViewState)===null||l===void 0?void 0:l.call(u)}))}n.add((0,k.toDisposable)(()=>this.clearDecorations(c))),n.add(this.provideWithTextEditor(u,s,o,t))}else n.add(this.provideWithoutTextEditor(s,o));return n}canProvideWithTextEditor(s){return!0}gotoLocation({editor:s},o){s.setSelection(o.range,"code.jump"),s.revealRangeInCenter(o.range,0),o.preserveFocus||s.focus();const t=s.getModel();t&&"getLineContent"in t&&(0,w.status)(`${t.getLineContent(o.range.startLineNumber)}`)}getModel(s){var o;return(0,E.isDiffEditor)(s)?(o=s.getModel())===null||o===void 0?void 0:o.modified:s.getModel()}addDecorations(s,o){s.changeDecorations(t=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:o,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:o,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,m.themeColorFromId)(y.overviewRulerRangeHighlight),position:I.OverviewRulerLane.Full}}}],[c,u]=t.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:c,overviewRulerDecorationId:u}})}clearDecorations(s){const o=this.rangeHighlightDecorationId;o&&(s.changeDecorations(t=>{t.deltaDecorations([o.overviewRulerDecorationId,o.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=b}),define(re[779],ae([1,0,2,170,415,3]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class y extends E.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const b=(0,I.localize)(342,"Open a text editor first to go to a line.");return w.items=[{label:b}],w.ariaLabel=b,f.Disposable.None}provideWithTextEditor(w,b,v){const s=w.editor,o=new f.DisposableStore;o.add(b.onDidAccept(n=>{const[c]=b.selectedItems;if(c){if(!this.isValidLineNumber(s,c.lineNumber))return;this.gotoLocation(w,{range:this.toRange(c.lineNumber,c.column),keyMods:b.keyMods,preserveFocus:n.inBackground}),n.inBackground||b.hide()}}));const t=()=>{const n=this.parsePosition(s,b.value.trim().substr(y.PREFIX.length)),c=this.getPickLabel(s,n.lineNumber,n.column);if(b.items=[{lineNumber:n.lineNumber,column:n.column,label:c}],b.ariaLabel=c,!this.isValidLineNumber(s,n.lineNumber)){this.clearDecorations(s);return}const u=this.toRange(n.lineNumber,n.column);s.revealRangeInCenter(u,0),this.addDecorations(s,u)};t(),o.add(b.onDidChangeValue(()=>t()));const i=(0,k.getCodeEditor)(s);return i&&i.getOptions().get(68).renderType===2&&(i.updateOptions({lineNumbers:"on"}),o.add((0,f.toDisposable)(()=>i.updateOptions({lineNumbers:"relative"})))),o}toRange(w=1,b=1){return{startLineNumber:w,startColumn:b,endLineNumber:w,endColumn:b}}parsePosition(w,b){const v=b.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),s=this.lineCount(w)+1;return{lineNumber:v[0]>0?v[0]:s+v[0],column:v[1]}}getPickLabel(w,b,v){if(this.isValidLineNumber(w,b))return this.isValidColumn(w,b,v)?(0,I.localize)(343,"Go to line {0} and character {1}.",b,v):(0,I.localize)(344,"Go to line {0}.",b);const s=w.getPosition()||{lineNumber:1,column:1},o=this.lineCount(w);return o>1?(0,I.localize)(345,"Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,o):(0,I.localize)(346,"Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(w,b){return!b||typeof b!="number"?!1:b>0&&b<=this.lineCount(w)}isValidColumn(w,b,v){if(!v||typeof v!="number")return!1;const s=this.getModel(w);if(!s)return!1;const o={lineNumber:b,column:v};return s.validatePosition(o).equals(o)}lineCount(w){var b,v;return(v=(b=this.getModel(w))===null||b===void 0?void 0:b.getLineCount())!==null&&v!==void 0?v:0}}e.AbstractGotoLineQuickAccessProvider=y,y.PREFIX=":"}),define(re[780],ae([1,0,14,18,26,30,452,2,11,5,27,181,415,3,17,67]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let u=c=class extends o.AbstractEditorNavigationQuickAccessProvider{constructor(d,p,h=Object.create(null)){super(h),this._languageFeaturesService=d,this._outlineModelService=p,this.options=h,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(d){return this.provideLabelPick(d,(0,t.localize)(309,"To go to a symbol, first open a text editor with symbol information.")),m.Disposable.None}provideWithTextEditor(d,p,h,g){const C=d.editor,S=this.getModel(C);return S?this._languageFeaturesService.documentSymbolProvider.has(S)?this.doProvideWithEditorSymbols(d,S,p,h,g):this.doProvideWithoutEditorSymbols(d,S,p,h):m.Disposable.None}doProvideWithoutEditorSymbols(d,p,h,g){const C=new m.DisposableStore;return this.provideLabelPick(h,(0,t.localize)(310,"The active text editor does not provide symbol information.")),(async()=>!await this.waitForLanguageSymbolRegistry(p,C)||g.isCancellationRequested||C.add(this.doProvideWithEditorSymbols(d,p,h,g)))(),C}provideLabelPick(d,p){d.items=[{label:p,index:0,kind:14}],d.ariaLabel=p}async waitForLanguageSymbolRegistry(d,p){if(this._languageFeaturesService.documentSymbolProvider.has(d))return!0;const h=new f.DeferredPromise,g=p.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(d)&&(g.dispose(),h.complete(!0))}));return p.add((0,m.toDisposable)(()=>h.complete(!1))),h.p}doProvideWithEditorSymbols(d,p,h,g,C){var S;const _=d.editor,L=new m.DisposableStore;L.add(h.onDidAccept(A=>{var R;const[M]=h.selectedItems;M&&M.range&&(this.gotoLocation(d,{range:M.range.selection,keyMods:h.keyMods,preserveFocus:A.inBackground}),(R=C?.handleAccept)===null||R===void 0||R.call(C,M),A.inBackground||h.hide())})),L.add(h.onDidTriggerItemButton(({item:A})=>{A&&A.range&&(this.gotoLocation(d,{range:A.range.selection,keyMods:h.keyMods,forceSideBySide:!0}),h.hide())}));const D=this.getDocumentSymbols(p,g);let T;const N=async A=>{T?.dispose(!0),h.busy=!1,T=new k.CancellationTokenSource(g),h.busy=!0;try{const R=(0,y.prepareQuery)(h.value.substr(c.PREFIX.length).trim()),M=await this.doGetSymbolPicks(D,R,void 0,T.token,p);if(g.isCancellationRequested)return;if(M.length>0){if(h.items=M,A&&R.original.length===0){const P=(0,n.findLast)(M,x=>!!(x.type!=="separator"&&x.range&&b.Range.containsPosition(x.range.decoration,A)));P&&(h.activeItems=[P])}}else R.original.length>0?this.provideLabelPick(h,(0,t.localize)(311,"No matching editor symbols")):this.provideLabelPick(h,(0,t.localize)(312,"No editor symbols"))}finally{g.isCancellationRequested||(h.busy=!1)}};return L.add(h.onDidChangeValue(()=>N(void 0))),N((S=_.getSelection())===null||S===void 0?void 0:S.getPosition()),L.add(h.onDidChangeActive(()=>{const[A]=h.activeItems;A&&A.range&&(_.revealRangeInCenter(A.range.selection,0),this.addDecorations(_,A.range.decoration))})),L}async doGetSymbolPicks(d,p,h,g,C){var S,_;const L=await d;if(g.isCancellationRequested)return[];const D=p.original.indexOf(c.SCOPE_PREFIX)===0,T=D?1:0;let N,A;p.values&&p.values.length>1?(N=(0,y.pieceToQuery)(p.values[0]),A=(0,y.pieceToQuery)(p.values.slice(1))):N=p;let R;const M=(_=(S=this.options)===null||S===void 0?void 0:S.openSideBySideDirection)===null||_===void 0?void 0:_.call(S);M&&(R=[{iconClass:M==="right"?I.ThemeIcon.asClassName(E.Codicon.splitHorizontal):I.ThemeIcon.asClassName(E.Codicon.splitVertical),tooltip:M==="right"?(0,t.localize)(313,"Open to the Side"):(0,t.localize)(314,"Open to the Bottom")}]);const P=[];for(let B=0;B<L.length;B++){const H=L[B],K=(0,w.trim)(H.name),V=`$(${v.SymbolKinds.toIcon(H.kind).id}) ${K}`,j=V.length-K.length;let U=H.containerName;h?.extraContainerLabel&&(U?U=`${h.extraContainerLabel} \u2022 ${U}`:U=h.extraContainerLabel);let Y,Q,Z,G;if(p.original.length>T){let J=!1;if(N!==p&&([Y,Q]=(0,y.scoreFuzzy2)(V,{...p,values:void 0},T,j),typeof Y=="number"&&(J=!0)),typeof Y!="number"&&([Y,Q]=(0,y.scoreFuzzy2)(V,N,T,j),typeof Y!="number"))continue;if(!J&&A){if(U&&A.original.length>0&&([Z,G]=(0,y.scoreFuzzy2)(U,A)),typeof Z!="number")continue;typeof Y=="number"&&(Y+=Z)}}const F=H.tags&&H.tags.indexOf(1)>=0;P.push({index:B,kind:H.kind,score:Y,label:V,ariaLabel:(0,v.getAriaLabelForSymbol)(H.name,H.kind),description:U,highlights:F?void 0:{label:Q,description:G},range:{selection:b.Range.collapseToStart(H.selectionRange),decoration:H.range},uri:C.uri,symbolName:K,strikethrough:F,buttons:R})}const x=P.sort((B,H)=>D?this.compareByKindAndScore(B,H):this.compareByScore(B,H));let O=[];if(D){let V=function(){H&&typeof B=="number"&&K>0&&(H.label=(0,w.format)(a[B]||r,K))},B,H,K=0;for(const j of x)B!==j.kind?(V(),B=j.kind,K=1,H={type:"separator"},O.push(H)):K++,O.push(j);V()}else x.length>0&&(O=[{label:(0,t.localize)(315,"symbols ({0})",P.length),type:"separator"},...x]);return O}compareByScore(d,p){if(typeof d.score!="number"&&typeof p.score=="number")return 1;if(typeof d.score=="number"&&typeof p.score!="number")return-1;if(typeof d.score=="number"&&typeof p.score=="number"){if(d.score>p.score)return-1;if(d.score<p.score)return 1}return d.index<p.index?-1:d.index>p.index?1:0}compareByKindAndScore(d,p){const h=a[d.kind]||r,g=a[p.kind]||r,C=h.localeCompare(g);return C===0?this.compareByScore(d,p):C}async getDocumentSymbols(d,p){const h=await this._outlineModelService.getOrCreate(d,p);return p.isCancellationRequested?[]:h.asListOfDocumentSymbols()}};e.AbstractGotoSymbolQuickAccessProvider=u,u.PREFIX="@",u.SCOPE_PREFIX=":",u.PREFIX_BY_CATEGORY=`${c.PREFIX}${c.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=u=c=ke([ge(0,i.ILanguageFeaturesService),ge(1,s.IOutlineModelService)],u);const r=(0,t.localize)(316,"properties ({0})"),a={5:(0,t.localize)(317,"methods ({0})"),11:(0,t.localize)(318,"functions ({0})"),8:(0,t.localize)(319,"constructors ({0})"),12:(0,t.localize)(320,"variables ({0})"),4:(0,t.localize)(321,"classes ({0})"),22:(0,t.localize)(322,"structs ({0})"),23:(0,t.localize)(323,"events ({0})"),24:(0,t.localize)(324,"operators ({0})"),10:(0,t.localize)(325,"interfaces ({0})"),2:(0,t.localize)(326,"namespaces ({0})"),3:(0,t.localize)(327,"packages ({0})"),25:(0,t.localize)(328,"type parameters ({0})"),1:(0,t.localize)(329,"modules ({0})"),6:(0,t.localize)(330,"properties ({0})"),9:(0,t.localize)(331,"enumerations ({0})"),21:(0,t.localize)(332,"enumeration members ({0})"),14:(0,t.localize)(333,"strings ({0})"),0:(0,t.localize)(334,"files ({0})"),17:(0,t.localize)(335,"arrays ({0})"),15:(0,t.localize)(336,"numbers ({0})"),16:(0,t.localize)(337,"booleans ({0})"),18:(0,t.localize)(338,"objects ({0})"),19:(0,t.localize)(339,"keys ({0})"),7:(0,t.localize)(340,"fields ({0})"),13:(0,t.localize)(341,"constants ({0})")}}),define(re[781],ae([1,0,4,45,47,82,43,111,112,13,14,18,26,6,2,59,19,74,9,5,27,3,3,12,31,61,109,32,25,539]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameWidget=e.CONTEXT_RENAME_INPUT_FOCUSED=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0;const D=!1;e.CONTEXT_RENAME_INPUT_VISIBLE=new h.RawContextKey("renameInputVisible",!1,(0,p.localize)(141,"Whether the rename input widget is visible")),e.CONTEXT_RENAME_INPUT_FOCUSED=new h.RawContextKey("renameInputFocused",!1,(0,p.localize)(142,"Whether the rename input widget is focused"));let T=class{constructor(P,x,O,B,H,K){this._editor=P,this._acceptKeybindings=x,this._themeService=O,this._keybindingService=B,this._logService=K,this.allowEditorOverflow=!0,this._disposables=new i.DisposableStore,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(H),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new n.StopWatch,this._inputWithButton=new A,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(V=>{V.hasChanged(50)&&this._updateFont()})),this._disposables.add(O.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new N(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:P=>{this._inputWithButton.input.value=P,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{var P,x,O,B;((P=this._renameCandidateListView)===null||P===void 0?void 0:P.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),(x=this._timeBeforeFirstInputFieldEdit)!==null&&x!==void 0||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),((O=this._renameCandidateProvidersCts)===null||O===void 0?void 0:O.token.isCancellationRequested)===!1&&this._renameCandidateProvidersCts.cancel(),(B=this._renameCandidateListView)===null||B===void 0||B.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(P){var x,O,B,H,K;if(!this._domNode)return;const V=P.getColor(_.widgetShadow),j=P.getColor(_.widgetBorder);this._domNode.style.backgroundColor=String((x=P.getColor(_.editorWidgetBackground))!==null&&x!==void 0?x:""),this._domNode.style.boxShadow=V?` 0 0 8px 2px ${V}`:"",this._domNode.style.border=j?`1px solid ${j}`:"",this._domNode.style.color=String((O=P.getColor(_.inputForeground))!==null&&O!==void 0?O:"");const U=P.getColor(_.inputBorder);this._inputWithButton.domNode.style.backgroundColor=String((B=P.getColor(_.inputBackground))!==null&&B!==void 0?B:""),this._inputWithButton.input.style.backgroundColor=String((H=P.getColor(_.inputBackground))!==null&&H!==void 0?H:""),this._inputWithButton.domNode.style.borderWidth=U?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=U?"solid":"none",this._inputWithButton.domNode.style.borderColor=(K=U?.toString())!==null&&K!==void 0?K:"none"}_updateFont(){if(this._domNode===void 0)return;(0,c.assertType)(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);const P=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(P.fontSize)}px`}_computeLabelFontSize(P){return P*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const P=f.getClientArea(this.getDomNode().ownerDocument.body),x=f.getDomNodePagePosition(this._editor.getDomNode()),O=this._getTopForPosition();this._nPxAvailableAbove=O+x.top,this._nPxAvailableBelow=P.height-this._nPxAvailableAbove;const B=this._editor.getOption(67),{totalHeight:H}=R.getLayoutInfo({lineHeight:B}),K=this._nPxAvailableBelow>H*6?[2,1]:[1,2];return{position:this._position,preference:K}}beforeRender(){var P,x;const[O,B]=this._acceptKeybindings;return this._label.innerText=(0,p.localize)(143,"{0} to Rename, {1} to Preview",(P=this._keybindingService.lookupKeybinding(O))===null||P===void 0?void 0:P.getLabel(),(x=this._keybindingService.lookupKeybinding(B))===null||x===void 0?void 0:x.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(P){if(this._trace("invoking afterRender, position: ",P?"not null":"null"),P===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,c.assertType)(this._renameCandidateListView),(0,c.assertType)(this._nPxAvailableAbove!==void 0),(0,c.assertType)(this._nPxAvailableBelow!==void 0);const x=f.getTotalHeight(this._inputWithButton.domNode),O=f.getTotalHeight(this._label);let B;P===2?B=this._nPxAvailableBelow:B=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:B-O-x,width:f.getTotalWidth(this._inputWithButton.domNode)})}acceptInput(P){var x;this._trace("invoking acceptInput"),(x=this._currentAcceptInput)===null||x===void 0||x.call(this,P)}cancelInput(P,x){var O;this._trace(`invoking cancelInput, caller: ${x}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(O=this._currentCancelInput)===null||O===void 0||O.call(this,P)}focusNextRenameSuggestion(){var P;!((P=this._renameCandidateListView)===null||P===void 0)&&P.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){var P;!((P=this._renameCandidateListView)===null||P===void 0)&&P.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(P,x,O,B,H){const{start:K,end:V}=this._getSelection(P,x);this._renameCts=H;const j=new i.DisposableStore;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,B===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=B,this._requestRenameCandidates(x,!1),j.add(f.addDisposableListener(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(x,!0))),j.add(f.addDisposableListener(this._inputWithButton.button,f.EventType.KEY_DOWN,Y=>{const Q=new k.StandardKeyboardEvent(Y);(Q.equals(3)||Q.equals(10))&&(Q.stopPropagation(),Q.preventDefault(),this._requestRenameCandidates(x,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",O),this._position=new r.Position(P.startLineNumber,P.startColumn),this._currentName=x,this._inputWithButton.input.value=x,this._inputWithButton.input.setAttribute("selectionStart",K.toString()),this._inputWithButton.input.setAttribute("selectionEnd",V.toString()),this._inputWithButton.input.size=Math.max((P.endColumn-P.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),j.add((0,i.toDisposable)(()=>{this._renameCts=void 0,H.dispose(!0)})),j.add((0,i.toDisposable)(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),j.add((0,i.toDisposable)(()=>this._candidates.clear()));const U=new v.DeferredPromise;return U.p.finally(()=>{j.dispose(),this._hide()}),this._currentCancelInput=Y=>{var Q;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(Q=this._renameCandidateListView)===null||Q===void 0||Q.clearCandidates(),U.complete(Y),!0},this._currentAcceptInput=Y=>{this._trace("invoking _currentAcceptInput"),(0,c.assertType)(this._renameCandidateListView!==void 0);const Q=this._renameCandidateListView.nCandidates;let Z,G;const F=this._renameCandidateListView.focusedCandidate;if(F!==void 0?(this._trace("using new name from renameSuggestion"),Z=F,G={k:"renameSuggestion"}):(this._trace("using new name from inputField"),Z=this._inputWithButton.input.value,G=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),Z===x||Z.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),U.complete({newName:Z,wantsPreview:O&&Y,stats:{source:G,nRenameSuggestions:Q,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},j.add(H.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),D||j.add(this._editor.onDidBlurEditorWidget(()=>{var Y;return this.cancelInput(!(!((Y=this._domNode)===null||Y===void 0)&&Y.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),U.p}_requestRenameCandidates(P,x){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),(0,c.assertType)(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new s.CancellationTokenSource;const O=x?l.NewSymbolNameTriggerKind.Invoke:l.NewSymbolNameTriggerKind.Automatic,B=this._requestRenameCandidatesOnce(O,this._renameCandidateProvidersCts.token);if(B.length===0){this._inputWithButton.setSparkleButton();return}x||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(B,P,this._renameCts.token)}}_getSelection(P,x){(0,c.assertType)(this._editor.hasModel());const O=this._editor.getSelection();let B=0,H=x.length;return!a.Range.isEmpty(O)&&!a.Range.spansMultipleLines(O)&&a.Range.containsRange(P,O)&&(B=Math.max(0,O.startColumn-P.startColumn),H=Math.min(P.endColumn,O.endColumn)-P.startColumn),{start:B,end:H}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(P,x,O){const B=(...U)=>this._trace("_updateRenameCandidates",...U);B("start");const H=await(0,v.raceCancellation)(Promise.allSettled(P),O);if(this._inputWithButton.setSparkleButton(),H===void 0){B("returning early - received updateRenameCandidates results - undefined");return}const K=H.flatMap(U=>U.status==="fulfilled"&&(0,c.isDefined)(U.value)?U.value:[]);B(`received updateRenameCandidates results - total (unfiltered) ${K.length} candidates.`);const V=b.distinct(K,U=>U.newSymbolName);B(`distinct candidates - ${V.length} candidates.`);const j=V.filter(({newSymbolName:U})=>U.trim().length>0&&U!==this._inputWithButton.input.value&&U!==x&&!this._candidates.has(U));if(B(`valid distinct candidates - ${K.length} candidates.`),j.forEach(U=>this._candidates.add(U.newSymbolName)),j.length<1){B("returning early - no valid distinct candidates");return}B("setting candidates"),this._renameCandidateListView.setCandidates(j),B("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const P=this._editor.getVisibleRanges();let x;return P.length>0?x=P[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),x=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(x)}_trace(...P){this._logService.trace("RenameWidget",...P)}};e.RenameWidget=T,e.RenameWidget=T=ke([ge(2,L.IThemeService),ge(3,g.IKeybindingService),ge(4,h.IContextKeyService),ge(5,C.ILogService)],T);class N{constructor(P,x){this._disposables=new i.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=x.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=x.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",P.appendChild(this._listContainer),this._listWidget=N._createListWidget(this._listContainer,this._candidateViewHeight,x.fontInfo),this._listWidget.onDidChangeFocus(O=>{O.elements.length===1&&x.onFocusChange(O.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(O=>{O.elements.length===1&&x.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(O=>{this._listWidget.setFocus([])})),this._listWidget.style((0,S.getListStyles)({listInactiveFocusForeground:_.quickInputListFocusForeground,listInactiveFocusBackground:_.quickInputListFocusBackground}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:P,width:x}){this._availableHeight=P,this._minimumWidth=x}setCandidates(P){this._listWidget.splice(0,0,P);const x=this._pickListHeight(this._listWidget.length),O=this._pickListWidth(P);this._listWidget.layout(x,O),this._listContainer.style.height=`${x}px`,this._listContainer.style.width=`${O}px`,E.status((0,p.localize)(144,"Received {0} rename suggestions",P.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const P=this._listWidget.getSelectedElements()[0];if(P!==void 0)return P.newSymbolName;const x=this._listWidget.getFocusedElements()[0];if(x!==void 0)return x.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;const P=this._listWidget.getFocus();if(P.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(P[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();const x=this._listWidget.getFocus()[0];return this._listWidget.reveal(x),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;const P=this._listWidget.getFocus();if(P.length===0){this._listWidget.focusLast();const x=this._listWidget.getFocus()[0];return this._listWidget.reveal(x),!0}else{if(P[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();const x=this._listWidget.getFocus()[0];return this._listWidget.reveal(x),!0}}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:P}=R.getLayoutInfo({lineHeight:this._lineHeight});return P}_pickListHeight(P){const x=this._candidateViewHeight*P;return Math.min(x,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(P){const x=Math.ceil(Math.max(...P.map(B=>B.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+x+10)}static _createListWidget(P,x,O){const B=new class{getTemplateId(K){return"candidate"}getHeight(K){return x}},H=new class{constructor(){this.templateId="candidate"}renderTemplate(K){return new R(K,O)}renderElement(K,V,j){j.populate(K)}disposeTemplate(K){K.dispose()}};return new w.List("NewSymbolNameCandidates",P,B,[H],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class A{constructor(){this._onDidInputChange=new t.Emitter,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new i.DisposableStore}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",(0,p.localize)(145,"Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=d.localize(146,"Generate new name suggestions"),this._buttonCancelHoverText=d.localize(147,"Cancel"),this._buttonHover=(0,I.getBaseLayerHoverDelegate)().setupManagedHover((0,y.getDefaultHoverDelegate)("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(f.addDisposableListener(this.input,f.EventType.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(f.addDisposableListener(this.input,f.EventType.KEY_DOWN,P=>{const x=new k.StandardKeyboardEvent(P);(x.keyCode===15||x.keyCode===17)&&this._onDidInputChange.fire()})),this._disposables.add(f.addDisposableListener(this.input,f.EventType.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(f.addDisposableListener(this.input,f.EventType.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(f.addDisposableListener(this.input,f.EventType.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return(0,c.assertType)(this._inputNode),this._inputNode}get button(){return(0,c.assertType)(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){var P,x;this._buttonState="sparkle",(P=this._sparkleIcon)!==null&&P!==void 0||(this._sparkleIcon=(0,m.renderIcon)(o.Codicon.sparkle)),f.clearNode(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),(x=this._buttonHover)===null||x===void 0||x.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){var P,x;this._buttonState="stop",(P=this._stopIcon)!==null&&P!==void 0||(this._stopIcon=(0,m.renderIcon)(o.Codicon.primitiveSquare)),f.clearNode(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),(x=this._buttonHover)===null||x===void 0||x.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}}class R{constructor(P,x){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${x.lineHeight}px`,this._domNode.style.padding=`${R._PADDING}px`;const O=document.createElement("div");O.style.display="flex",O.style.alignItems="center",O.style.width=O.style.height=`${x.lineHeight*.8}px`,this._domNode.appendChild(O),this._icon=(0,m.renderIcon)(o.Codicon.sparkle),this._icon.style.display="none",O.appendChild(this._icon),this._label=document.createElement("div"),u.applyFontInfo(this._label,x),this._domNode.appendChild(this._label),P.appendChild(this._domNode)}populate(P){this._updateIcon(P),this._updateLabel(P)}_updateIcon(P){var x;const O=!!(!((x=P.tags)===null||x===void 0)&&x.includes(l.NewSymbolNameTag.AIGenerated));this._icon.style.display=O?"inherit":"none"}_updateLabel(P){this._label.innerText=P.newSymbolName}static getLayoutInfo({lineHeight:P}){return{totalHeight:P+R._PADDING*2}}dispose(){}}R._PADDING=2}),define(re[782],ae([1,0,47,14,18,8,55,2,19,22,15,149,35,9,5,20,27,17,209,121,183,3,29,108,12,7,61,49,96,38,64,781]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=void 0,e.rename=M;class R{constructor(H,K,V){this.model=H,this.position=K,this._providerRenameIdx=0,this._providers=V.ordered(H)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(H){const K=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const j=this._providers[this._providerRenameIdx];if(!j.resolveRenameLocation)break;const U=await j.resolveRenameLocation(this.model,this.position,H);if(U){if(U.rejectReason){K.push(U.rejectReason);continue}return U}}this._providerRenameIdx=0;const V=this.model.getWordAtPosition(this.position);return V?{range:new i.Range(this.position.lineNumber,V.startColumn,this.position.lineNumber,V.endColumn),text:V.word,rejectReason:K.length>0?K.join(`
`):void 0}:{range:i.Range.fromPositions(this.position),text:"",rejectReason:K.length>0?K.join(`
`):void 0}}async provideRenameEdits(H,K){return this._provideRenameEdits(H,this._providerRenameIdx,[],K)}async _provideRenameEdits(H,K,V,j){const U=this._providers[K];if(!U)return{edits:[],rejectReason:V.join(`
`)};const Y=await U.provideRenameEdits(this.model,this.position,H,j);if(Y){if(Y.rejectReason)return this._provideRenameEdits(H,K+1,V.concat(Y.rejectReason),j)}else return this._provideRenameEdits(H,K+1,V.concat(d.localize(148,"No result.")),j);return Y}}async function M(B,H,K,V){const j=new R(H,K,B),U=await j.resolveRenameLocation(E.CancellationToken.None);return U?.rejectReason?{edits:[],rejectReason:U.rejectReason}:j.provideRenameEdits(V,E.CancellationToken.None)}let P=A=class{static get(H){return H.getContribution(A.ID)}constructor(H,K,V,j,U,Y,Q,Z,G){this.editor=H,this._instaService=K,this._notificationService=V,this._bulkEditService=j,this._progressService=U,this._logService=Y,this._configService=Q,this._languageFeaturesService=Z,this._telemetryService=G,this._disposableStore=new m.DisposableStore,this._cts=new E.CancellationTokenSource,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(N.RenameWidget,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var H,K;const V=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new E.CancellationTokenSource,!this.editor.hasModel()){V("editor has no model");return}const j=this.editor.getPosition(),U=new R(this.editor.getModel(),j,this._languageFeaturesService.renameProvider);if(!U.hasProvider()){V("skeleton has no provider");return}const Y=new a.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let Q;try{V("resolving rename location");const ue=U.resolveRenameLocation(Y.token);this._progressService.showWhile(ue,250),Q=await ue,V("resolved rename location")}catch(ue){ue instanceof I.CancellationError?V("resolve rename location cancelled",JSON.stringify(ue,null,"	")):(V("resolve rename location failed",ue instanceof Error?ue:JSON.stringify(ue,null,"	")),(typeof ue=="string"||(0,y.isMarkdownString)(ue))&&((H=l.MessageController.get(this.editor))===null||H===void 0||H.showMessage(ue||d.localize(149,"An unknown error occurred while resolving rename location"),j)));return}finally{Y.dispose()}if(!Q){V("returning early - no loc");return}if(Q.rejectReason){V(`returning early - rejected with reason: ${Q.rejectReason}`,Q.rejectReason),(K=l.MessageController.get(this.editor))===null||K===void 0||K.showMessage(Q.rejectReason,j);return}if(Y.token.isCancellationRequested){V("returning early - cts1 cancelled");return}const Z=new a.EditorStateCancellationTokenSource(this.editor,5,Q.range,this._cts.token),G=this.editor.getModel(),F=this._languageFeaturesService.newSymbolNamesProvider.all(G),J=await Promise.all(F.map(async ue=>{var ie;return[ue,(ie=await ue.supportsAutomaticNewSymbolNamesTriggerKind)!==null&&ie!==void 0?ie:!1]})),te=(ue,ie)=>{let se=J.slice();return ue===c.NewSymbolNameTriggerKind.Automatic&&(se=se.filter(([ne,W])=>W)),se.map(([ne])=>ne.provideNewSymbolNames(G,Q.range,ue,ie))};V("creating rename input field and awaiting its result");const de=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),he=await this._renameWidget.getInput(Q.range,Q.text,de,F.length>0?te:void 0,Z);if(V("received response from rename input field"),F.length>0&&this._reportTelemetry(F.length,G.getLanguageId(),he),typeof he=="boolean"){V(`returning early - rename input field response - ${he}`),he&&this.editor.focus(),Z.dispose();return}this.editor.focus(),V("requesting rename edits");const pe=(0,k.raceCancellation)(U.provideRenameEdits(he.newName,Z.token),Z.token).then(async ue=>{if(!ue){V("returning early - no rename edits result");return}if(!this.editor.hasModel()){V("returning early - no model after rename edits are provided");return}if(ue.rejectReason){V(`returning early - rejected with reason: ${ue.rejectReason}`),this._notificationService.info(ue.rejectReason);return}this.editor.setSelection(i.Range.fromPositions(this.editor.getSelection().getPosition())),V("applying edits"),this._bulkEditService.apply(ue,{editor:this.editor,showPreview:he.wantsPreview,label:d.localize(150,"Renaming '{0}' to '{1}'",Q?.text,he.newName),code:"undoredo.rename",quotableLabel:d.localize(151,"Renaming {0} to {1}",Q?.text,he.newName),respectAutoSaveConfig:!0}).then(ie=>{V("edits applied"),ie.ariaSummary&&(0,f.alert)(d.localize(152,"Successfully renamed '{0}' to '{1}'. Summary: {2}",Q.text,he.newName,ie.ariaSummary))}).catch(ie=>{V(`error when applying edits ${JSON.stringify(ie,null,"	")}`),this._notificationService.error(d.localize(153,"Rename failed to apply edits")),this._logService.error(ie)})},ue=>{V("error when providing rename edits",JSON.stringify(ue,null,"	")),this._notificationService.error(d.localize(154,"Rename failed to compute edits")),this._logService.error(ue)}).finally(()=>{Z.dispose()});return V("returning rename operation"),this._progressService.showWhile(pe,250),pe}acceptRenameInput(H){this._renameWidget.acceptInput(H)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(H,K,V){const j=typeof V=="boolean"?{kind:"cancelled",languageId:K,nRenameSuggestionProviders:H}:{kind:"accepted",languageId:K,nRenameSuggestionProviders:H,source:V.stats.source.k,nRenameSuggestions:V.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:V.stats.timeBeforeFirstInputFieldEdit,wantsPreview:V.wantsPreview,nRenameSuggestionsInvocations:V.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:V.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",j)}};P.ID="editor.contrib.renameController",P=A=ke([ge(1,C.IInstantiationService),ge(2,_.INotificationService),ge(3,s.IBulkEditService),ge(4,L.IEditorProgressService),ge(5,S.ILogService),ge(6,r.ITextResourceConfigurationService),ge(7,u.ILanguageFeaturesService),ge(8,T.ITelemetryService)],P);class x extends v.EditorAction{constructor(){super({id:"editor.action.rename",label:d.localize(155,"Rename Symbol"),alias:"Rename Symbol",precondition:g.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(H,K){const V=H.get(o.ICodeEditorService),[j,U]=Array.isArray(K)&&K||[void 0,void 0];return b.URI.isUri(j)&&t.Position.isIPosition(U)?V.openCodeEditor({resource:j},V.getActiveCodeEditor()).then(Y=>{Y&&(Y.setPosition(U),Y.invokeWithinContext(Q=>(this.reportTelemetry(Q,Y),this.run(Q,Y))))},I.onUnexpectedError):super.runCommand(H,K)}run(H,K){const V=H.get(S.ILogService),j=P.get(K);return j?(V.trace("[RenameAction] got controller, running..."),j.run()):(V.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}e.RenameAction=x,(0,v.registerEditorContribution)(P.ID,P,4),(0,v.registerEditorAction)(x);const O=v.EditorCommand.bindToContribution(P.get);(0,v.registerEditorCommand)(new O({id:"acceptRenameInput",precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,handler:B=>B.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:g.ContextKeyExpr.and(n.EditorContextKeys.focus,g.ContextKeyExpr.not("isComposing")),primary:3}})),(0,v.registerEditorCommand)(new O({id:"acceptRenameInputWithPreview",precondition:g.ContextKeyExpr.and(N.CONTEXT_RENAME_INPUT_VISIBLE,g.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:B=>B.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:g.ContextKeyExpr.and(n.EditorContextKeys.focus,g.ContextKeyExpr.not("isComposing")),primary:2051}})),(0,v.registerEditorCommand)(new O({id:"cancelRenameInput",precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,handler:B=>B.cancelRenameInput(),kbOpts:{weight:199,kbExpr:n.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"focusNextRenameSuggestion",title:{...d.localize2(157,"Focus Next Rename Suggestion")},precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:18,weight:199}]})}run(H){const K=H.get(o.ICodeEditorService).getFocusedCodeEditor();if(!K)return;const V=P.get(K);V&&V.focusNextRenameSuggestion()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...d.localize2(158,"Focus Previous Rename Suggestion")},precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:16,weight:199}]})}run(H){const K=H.get(o.ICodeEditorService).getFocusedCodeEditor();if(!K)return;const V=P.get(K);V&&V.focusPreviousRenameSuggestion()}}),(0,v.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(B,H,K,...V){const[j]=V;(0,w.assertType)(typeof j=="string");const{renameProvider:U}=B.get(u.ILanguageFeaturesService);return M(U,H,K,j)}),(0,v.registerModelAndPositionCommand)("_executePrepareRename",async function(B,H,K){const{renameProvider:V}=B.get(u.ILanguageFeaturesService),U=await new R(H,K,V).resolveRenameLocation(E.CancellationToken.None);if(U?.rejectReason)throw new Error(U.rejectReason);return U}),D.Registry.as(h.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:d.localize(156,"Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})}),define(re[783],ae([1,0,2,8,51,28,14,18,25,280,382,78,59,17,264,144,357]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let r=class extends f.Disposable{constructor(p,h,g,C,S,_){super(),this._watchers=Object.create(null);const L=N=>{this._watchers[N.uri.toString()]=new a(N,p,g,S,_)},D=(N,A)=>{A.dispose(),delete this._watchers[N.uri.toString()]},T=()=>{for(const N of h.getModels()){const A=this._watchers[N.uri.toString()];(0,c.isSemanticColoringEnabled)(N,g,C)?A||L(N):A&&D(N,A)}};h.getModels().forEach(N=>{(0,c.isSemanticColoringEnabled)(N,g,C)&&L(N)}),this._register(h.onModelAdded(N=>{(0,c.isSemanticColoringEnabled)(N,g,C)&&L(N)})),this._register(h.onModelRemoved(N=>{const A=this._watchers[N.uri.toString()];A&&D(N,A)})),this._register(C.onDidChangeConfiguration(N=>{N.affectsConfiguration(c.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&T()})),this._register(g.onDidColorThemeChange(T))}dispose(){for(const p of Object.values(this._watchers))p.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=r,e.DocumentSemanticTokensFeature=r=ke([ge(0,i.ISemanticTokensStylingService),ge(1,E.IModelService),ge(2,w.IThemeService),ge(3,I.IConfigurationService),ge(4,s.ILanguageFeatureDebounceService),ge(5,t.ILanguageFeaturesService)],r);let a=u=class extends f.Disposable{constructor(p,h,g,C,S){super(),this._semanticTokensStylingService=h,this._isDisposed=!1,this._model=p,this._provider=S.documentSemanticTokensProvider,this._debounceInformation=C.for(this._provider,"DocumentSemanticTokens",{min:u.REQUEST_MIN_DELAY,max:u.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new y.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),u.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const _=()=>{(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const L of this._provider.all(p))typeof L.onDidChange=="function"&&this._documentProvidersChangeListeners.push(L.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};_(),this._register(this._provider.onDidChange(()=>{_(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(g.onDidColorThemeChange(L=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,v.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const p=new m.CancellationTokenSource,h=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,g=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,C=(0,v.getDocumentSemanticTokens)(this._provider,this._model,h,g,p.token);this._currentDocumentRequestCancellationTokenSource=p,this._providersChangedDuringRequest=!1;const S=[],_=this._model.onDidChangeContent(D=>{S.push(D)}),L=new o.StopWatch(!1);C.then(D=>{if(this._debounceInformation.update(this._model,L.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,_.dispose(),!D)this._setDocumentSemanticTokens(null,null,null,S);else{const{provider:T,tokens:N}=D,A=this._semanticTokensStylingService.getStyling(T);this._setDocumentSemanticTokens(T,N||null,A,S)}},D=>{D&&(k.isCancellationError(D)||typeof D.message=="string"&&D.message.indexOf("busy")!==-1)||k.onUnexpectedError(D),this._currentDocumentRequestCancellationTokenSource=null,_.dispose(),(S.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(p,h,g,C,S){S=Math.min(S,g.length-C,p.length-h);for(let _=0;_<S;_++)g[C+_]=p[h+_]}_setDocumentSemanticTokens(p,h,g,C){const S=this._currentDocumentResponse,_=()=>{(C.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){p&&h&&p.releaseDocumentSemanticTokens(h.resultId);return}if(!p||!g){this._model.tokenization.setSemanticTokens(null,!1);return}if(!h){this._model.tokenization.setSemanticTokens(null,!0),_();return}if((0,v.isSemanticTokensEdits)(h)){if(!S){this._model.tokenization.setSemanticTokens(null,!0);return}if(h.edits.length===0)h={resultId:h.resultId,data:S.data};else{let L=0;for(const R of h.edits)L+=(R.data?R.data.length:0)-R.deleteCount;const D=S.data,T=new Uint32Array(D.length+L);let N=D.length,A=T.length;for(let R=h.edits.length-1;R>=0;R--){const M=h.edits[R];if(M.start>D.length){g.warnInvalidEditStart(S.resultId,h.resultId,R,M.start,D.length),this._model.tokenization.setSemanticTokens(null,!0);return}const P=N-(M.start+M.deleteCount);P>0&&(u._copy(D,N-P,T,A-P,P),A-=P),M.data&&(u._copy(M.data,0,T,A-M.data.length,M.data.length),A-=M.data.length),N=M.start}N>0&&u._copy(D,0,T,0,N),h={resultId:h.resultId,data:T}}}if((0,v.isSemanticTokens)(h)){this._currentDocumentResponse=new l(p,h.resultId,h.data);const L=(0,b.toMultilineTokens2)(h,g,this._model.getLanguageId());if(C.length>0)for(const D of C)for(const T of L)for(const N of D.changes)T.applyEdit(N.range,N.text);this._model.tokenization.setSemanticTokens(L,!0)}else this._model.tokenization.setSemanticTokens(null,!0);_()}};a.REQUEST_MIN_DELAY=300,a.REQUEST_MAX_DELAY=2e3,a=u=ke([ge(1,i.ISemanticTokensStylingService),ge(2,w.IThemeService),ge(3,s.ILanguageFeatureDebounceService),ge(4,t.ILanguageFeaturesService)],a);class l{constructor(p,h,g){this.provider=p,this.resultId=h,this.data=g}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,n.registerEditorFeature)(r)}),define(re[784],ae([1,0,14,2,15,382,357,280,28,25,78,59,17,264]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let i=class extends k.Disposable{constructor(c,u,r,a,l,d){super(),this._semanticTokensStylingService=u,this._themeService=r,this._configurationService=a,this._editor=c,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=l.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new f.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(h=>{this._cancelAll(),p()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(h=>{h.affectsConfiguration(y.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()})),p()}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let u=0,r=this._outstandingRequests.length;u<r;u++)if(this._outstandingRequests[u]===c){this._outstandingRequests.splice(u,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.tokenization.hasCompleteSemanticTokens())return;if(!(0,y.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}if(!(0,I.hasDocumentRangeSemanticTokensProvider)(this._provider,c)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}const u=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(u.map(r=>this._requestRange(c,r)))}_requestRange(c,u){const r=c.getVersionId(),a=(0,f.createCancelablePromise)(d=>Promise.resolve((0,I.getDocumentRangeSemanticTokens)(this._provider,c,u,d))),l=new s.StopWatch(!1);return a.then(d=>{if(this._debounceInformation.update(c,l.elapsed()),!d||!d.tokens||c.isDisposed()||c.getVersionId()!==r)return;const{provider:p,tokens:h}=d,g=this._semanticTokensStylingService.getStyling(p);c.tokenization.setPartialSemanticTokens(u,(0,m.toMultilineTokens2)(h,g,c.getLanguageId()))}).then(()=>this._removeOutstandingRequest(a),()=>this._removeOutstandingRequest(a)),a}};e.ViewportSemanticTokensContribution=i,i.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=i=ke([ge(1,t.ISemanticTokensStylingService),ge(2,b.IThemeService),ge(3,w.IConfigurationService),ge(4,v.ILanguageFeatureDebounceService),ge(5,o.ILanguageFeaturesService)],i),(0,E.registerEditorContribution)(i.ID,i,1)}),define(re[785],ae([1,0,4,232,26,30,6,83,2,22,27,701,51,42,3,378,80,25,398]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=void 0,e.getAriaId=l;function l(C){return`suggest-aria-id:${C}`}const d=(0,c.registerIcon)("suggest-more-info",E.Codicon.chevronRight,i.localize(192,"Icon for more information in the suggest widget.")),p=new(a=class{extract(S,_){if(S.textLabel.match(a._regexStrict))return _[0]=S.textLabel,!0;if(S.completion.detail&&S.completion.detail.match(a._regexStrict))return _[0]=S.completion.detail,!0;if(S.completion.documentation){const L=typeof S.completion.documentation=="string"?S.completion.documentation:S.completion.documentation.value,D=a._regexRelaxed.exec(L);if(D&&(D.index===0||D.index+D[0].length===L.length))return _[0]=D[0],!0}return!1}},a._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,a._regexStrict=new RegExp(`^${a._regexRelaxed.source}$`,"i"),a);let h=class{constructor(S,_,L,D){this._editor=S,this._modelService=_,this._languageService=L,this._themeService=D,this._onDidToggleDetails=new y.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(S){const _=new w.DisposableStore,L=S;L.classList.add("show-file-icons");const D=(0,f.append)(S,(0,f.$)(".icon")),T=(0,f.append)(D,(0,f.$)("span.colorspan")),N=(0,f.append)(S,(0,f.$)(".contents")),A=(0,f.append)(N,(0,f.$)(".main")),R=(0,f.append)(A,(0,f.$)(".icon-label.codicon")),M=(0,f.append)(A,(0,f.$)("span.left")),P=(0,f.append)(A,(0,f.$)("span.right")),x=new k.IconLabel(M,{supportHighlights:!0,supportIcons:!0});_.add(x);const O=(0,f.append)(M,(0,f.$)("span.signature-label")),B=(0,f.append)(M,(0,f.$)("span.qualifier-label")),H=(0,f.append)(P,(0,f.$)("span.details-label")),K=(0,f.append)(P,(0,f.$)("span.readMore"+I.ThemeIcon.asCSSSelector(d)));return K.title=i.localize(193,"Read More"),{root:L,left:M,right:P,icon:D,colorspan:T,iconLabel:x,iconContainer:R,parametersLabel:O,qualifierLabel:B,detailsLabel:H,readMore:K,disposables:_,configureFont:()=>{const j=this._editor.getOptions(),U=j.get(50),Y=U.getMassagedFontFamily(),Q=U.fontFeatureSettings,Z=j.get(120)||U.fontSize,G=j.get(121)||U.lineHeight,F=U.fontWeight,J=U.letterSpacing,te=`${Z}px`,de=`${G}px`,he=`${J}px`;L.style.fontSize=te,L.style.fontWeight=F,L.style.letterSpacing=he,A.style.fontFamily=Y,A.style.fontFeatureSettings=Q,A.style.lineHeight=de,D.style.height=de,D.style.width=de,K.style.height=de,K.style.width=de}}}renderElement(S,_,L){L.configureFont();const{completion:D}=S;L.root.id=l(_),L.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,m.createMatches)(S.score)},N=[];if(D.kind===19&&p.extract(S,N))L.icon.className="icon customcolor",L.iconContainer.className="icon hide",L.colorspan.style.backgroundColor=N[0];else if(D.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){L.icon.className="icon hide",L.iconContainer.className="icon hide";const A=(0,s.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:S.textLabel}),n.FileKind.FILE),R=(0,s.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:D.detail}),n.FileKind.FILE);T.extraClasses=A.length>R.length?A:R}else D.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(L.icon.className="icon hide",L.iconContainer.className="icon hide",T.extraClasses=[(0,s.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:S.textLabel}),n.FileKind.FOLDER),(0,s.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:D.detail}),n.FileKind.FOLDER)].flat()):(L.icon.className="icon hide",L.iconContainer.className="",L.iconContainer.classList.add("suggest-icon",...I.ThemeIcon.asClassNameArray(v.CompletionItemKinds.toIcon(D.kind))));D.tags&&D.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),L.iconLabel.setLabel(S.textLabel,void 0,T),typeof D.label=="string"?(L.parametersLabel.textContent="",L.detailsLabel.textContent=g(D.detail||""),L.root.classList.add("string-label")):(L.parametersLabel.textContent=g(D.label.detail||""),L.detailsLabel.textContent=g(D.label.description||""),L.root.classList.remove("string-label")),this._editor.getOption(119).showInlineDetails?(0,f.show)(L.detailsLabel):(0,f.hide)(L.detailsLabel),(0,r.canExpandCompletionItem)(S)?(L.right.classList.add("can-expand-details"),(0,f.show)(L.readMore),L.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},L.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(L.right.classList.remove("can-expand-details"),(0,f.hide)(L.readMore),L.readMore.onmousedown=null,L.readMore.onclick=null)}disposeTemplate(S){S.disposables.dispose()}};e.ItemRenderer=h,e.ItemRenderer=h=ke([ge(1,o.IModelService),ge(2,t.ILanguageService),ge(3,u.IThemeService)],h);function g(C){return C.replace(/\r\n|\r|\n/g,"")}}),define(re[786],ae([1,0,779,38,152,35,106,6,15,20,63]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let s=class extends f.AbstractGotoLineQuickAccessProvider{constructor(i){super(),this.editorService=i,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var i;return(i=this.editorService.getFocusedCodeEditor())!==null&&i!==void 0?i:void 0}};e.StandaloneGotoLineQuickAccessProvider=s,e.StandaloneGotoLineQuickAccessProvider=s=ke([ge(0,I.ICodeEditorService)],s);class o extends w.EditorAction{constructor(){super({id:o.ID,label:y.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(i){i.get(v.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=o,o.ID="editor.action.gotoLine",(0,w.registerEditorAction)(o),k.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:y.GoToLineNLS.gotoLineActionLabel,commandId:o.ID}]})}),define(re[787],ae([1,0,780,38,152,35,106,6,15,20,63,181,17,195,278]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let t=class extends f.AbstractGotoSymbolQuickAccessProvider{constructor(c,u,r){super(u,r),this.editorService=c,this.onDidActiveTextEditorControlChange=m.Event.None}get activeTextEditorControl(){var c;return(c=this.editorService.getFocusedCodeEditor())!==null&&c!==void 0?c:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=t,e.StandaloneGotoSymbolQuickAccessProvider=t=ke([ge(0,I.ICodeEditorService),ge(1,o.ILanguageFeaturesService),ge(2,s.IOutlineModelService)],t);class i extends w.EditorAction{constructor(){super({id:i.ID,label:y.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:b.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(c){c.get(v.IQuickInputService).quickAccess.show(f.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:v.ItemActivation.NONE})}}e.GotoSymbolAction=i,i.ID="editor.action.quickOutline",(0,w.registerEditorAction)(i),k.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:t,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:y.QuickOutlineNLS.quickOutlineActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:i.ID},{description:y.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(re[416],ae([1,0,4,46,763,35,12,48,25]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let b=class extends E.AbstractCodeEditorService{constructor(s,o){super(o),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(t,i,n)=>i?this.doOpenEditor(i,t):null))}_checkContextKey(){let s=!1;for(const o of this.listCodeEditors())if(!o.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,o){if(!this.findModel(s,o.resource)){if(o.resource){const n=o.resource.scheme;if(n===k.Schemas.http||n===k.Schemas.https)return(0,f.windowOpenNoOpener)(o.resource.toString()),s}return null}const i=o.options?o.options.selection:null;if(i)if(typeof i.endLineNumber=="number"&&typeof i.endColumn=="number")s.setSelection(i),s.revealRangeInCenter(i,1);else{const n={lineNumber:i.startLineNumber,column:i.startColumn};s.setPosition(n),s.revealPositionInCenter(n,1)}return s}findModel(s,o){const t=s.getModel();return t&&t.uri.toString()!==o.toString()?null:t}};e.StandaloneCodeEditorService=b,e.StandaloneCodeEditorService=b=ke([ge(0,y.IContextKeyService),ge(1,w.IThemeService)],b),(0,m.registerSingleton)(I.ICodeEditorService,b,0)}),define(re[788],ae([1,0,81,32]),function(le,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[f.editorIndentGuide1]:"#D3D3D3",[f.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[f.editorIndentGuide1]:"#404040",[f.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[f.editorIndentGuide1]:"#FFFFFF",[f.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[f.editorIndentGuide1]:"#292929",[f.editorActiveIndentGuide1]:"#292929"}}}),define(re[417],ae([1,0,4,65,33,6,27,145,585,788,38,32,25,2,97,759,52]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const u=v.Registry.as(s.Extensions.ColorContribution),r=v.Registry.as(o.Extensions.ThemingContribution);class a{constructor(C,S){this.semanticHighlighting=!1,this.themeData=S;const _=S.base;C.length>0?(l(C)?this.id=C:this.id=_+" "+C,this.themeName=C):(this.id=_,this.themeName=_),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const C=new Map;for(const S in this.themeData.colors)C.set(S,E.Color.fromHex(this.themeData.colors[S]));if(this.themeData.inherit){const S=d(this.themeData.base);for(const _ in S.colors)C.has(_)||C.set(_,E.Color.fromHex(S.colors[_]))}this.colors=C}return this.colors}getColor(C,S){const _=this.getColors().get(C);if(_)return _;if(S!==!1)return this.getDefault(C)}getDefault(C){let S=this.defaultColors[C];return S||(S=u.resolveDefaultColor(C,this),this.defaultColors[C]=S,S)}defines(C){return this.getColors().has(C)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return i.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return i.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return i.ColorScheme.HIGH_CONTRAST_LIGHT;default:return i.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let C=[],S=[];if(this.themeData.inherit){const D=d(this.themeData.base);C=D.rules,D.encodedTokensColors&&(S=D.encodedTokensColors)}const _=this.themeData.colors["editor.foreground"],L=this.themeData.colors["editor.background"];if(_||L){const D={token:""};_&&(D.foreground=_),L&&(D.background=L),C.push(D)}C=C.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(S=this.themeData.encodedTokensColors),this._tokenTheme=w.TokenTheme.createFromRawTokenTheme(C,S)}return this._tokenTheme}getTokenStyleMetadata(C,S,_){const D=this.tokenTheme._match([C].concat(S).join(".")).metadata,T=m.TokenMetadata.getForeground(D),N=m.TokenMetadata.getFontStyle(D);return{foreground:T,italic:!!(N&1),bold:!!(N&2),underline:!!(N&4),strikethrough:!!(N&8)}}}function l(g){return g===e.VS_LIGHT_THEME_NAME||g===e.VS_DARK_THEME_NAME||g===e.HC_BLACK_THEME_NAME||g===e.HC_LIGHT_THEME_NAME}function d(g){switch(g){case e.VS_LIGHT_THEME_NAME:return b.vs;case e.VS_DARK_THEME_NAME:return b.vs_dark;case e.HC_BLACK_THEME_NAME:return b.hc_black;case e.HC_LIGHT_THEME_NAME:return b.hc_light}}function p(g){const C=d(g);return new a(g,C)}class h extends t.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new I.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new I.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new n.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,p(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,p(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,p(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,p(e.HC_LIGHT_THEME_NAME));const C=this._register((0,n.getIconsStyleSheet)(this));this._codiconCSS=C.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),this._register(C.onDidChange(()=>{this._codiconCSS=C.getCSS(),this._updateCSS()})),(0,k.addMatchMediaChangeListener)(c.mainWindow,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(C){return f.isInShadowDOM(C)?this._registerShadowDomContainer(C):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=f.createStyleSheet(void 0,C=>{C.className="monaco-colors",C.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),t.Disposable.None}_registerShadowDomContainer(C){const S=f.createStyleSheet(C,_=>{_.className="monaco-colors",_.textContent=this._allCSS});return this._styleElements.push(S),{dispose:()=>{for(let _=0;_<this._styleElements.length;_++)if(this._styleElements[_]===S){this._styleElements.splice(_,1);return}}}}defineTheme(C,S){if(!/^[a-z0-9\-]+$/i.test(C))throw new Error("Illegal theme name!");if(!l(S.base)&&!l(C))throw new Error("Illegal theme base!");this._knownThemes.set(C,new a(C,S)),l(C)&&this._knownThemes.forEach(_=>{_.base===C&&_.notifyBaseUpdated()}),this._theme.themeName===C&&this.setTheme(C)}getColorTheme(){return this._theme}setColorMapOverride(C){this._colorMapOverride=C,this._updateThemeOrColorMap()}setTheme(C){let S;this._knownThemes.has(C)?S=this._knownThemes.get(C):S=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(S)}_updateActualTheme(C){!C||this._theme===C||(this._theme=C,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const C=c.mainWindow.matchMedia("(forced-colors: active)").matches;if(C!==(0,i.isHighContrast)(this._theme.type)){let S;(0,i.isDark)(this._theme.type)?S=C?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:S=C?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(S))}}}setAutoDetectHighContrast(C){this._autoDetectHighContrast=C,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const C=[],S={},_={addRule:T=>{S[T]||(C.push(T),S[T]=!0)}};r.getThemingParticipants().forEach(T=>T(this._theme,_,this._environment));const L=[];for(const T of u.getColors()){const N=this._theme.getColor(T.id,!0);N&&L.push(`${(0,s.asCssVariableName)(T.id)}: ${N.toString()};`)}_.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${L.join(`
`)} }`);const D=this._colorMapOverride||this._theme.tokenTheme.getColorMap();_.addRule((0,w.generateTokensCSSForColorMap)(D)),this._themeCSS=C.join(`
`),this._updateCSS(),y.TokenizationRegistry.setColorMap(D),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(C=>C.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=h}),define(re[789],ae([1,0,15,150,106,97,417]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class m extends f.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:E.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(b,v){const s=b.get(k.IStandaloneThemeService),o=s.getColorTheme();(0,I.isHighContrast)(o.type)?(s.setTheme(this._originalThemeName||((0,I.isDark)(o.type)?y.VS_DARK_THEME_NAME:y.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(s.setTheme((0,I.isDark)(o.type)?y.HC_BLACK_THEME_NAME:y.HC_LIGHT_THEME_NAME),this._originalThemeName=o.themeName)}}(0,f.registerEditorAction)(m)}),define(re[123],ae([1,0,4,45,148,365,40,260,2,16,3,29,377,12,58,7,31,49,100,25,30,97,19,32,109,60,552]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.TextOnlyMenuEntryActionViewItem=e.MenuEntryActionViewItem=void 0,e.createAndFillInContextMenuActions=S,e.createAndFillInActionBarActions=_,e.createActionViewItem=M;function S(P,x,O,B){const H=P.getActions(x),K=f.ModifierKeyEmitter.getInstance(),V=K.keyStatus.altKey||(b.isWindows||b.isLinux)&&K.keyStatus.shiftKey;L(H,O,V,B?j=>j===B:j=>j==="navigation")}function _(P,x,O,B,H,K){const V=P.getActions(x);L(V,O,!1,typeof B=="string"?U=>U===B:B,H,K)}function L(P,x,O,B=V=>V==="navigation",H=()=>!1,K=!1){let V,j;Array.isArray(x)?(V=x,j=x):(V=x.primary,j=x.secondary);const U=new Set;for(const[Y,Q]of P){let Z;B(Y)?(Z=V,Z.length>0&&K&&Z.push(new y.Separator)):(Z=j,Z.length>0&&Z.push(new y.Separator));for(let G of Q){O&&(G=G instanceof s.MenuItemAction&&G.alt?G.alt:G);const F=Z.push(G);G instanceof y.SubmenuAction&&U.add({group:Y,action:G,index:F-1})}}for(const{group:Y,action:Q,index:Z}of U){const G=B(Y)?V:j,F=Q.actions;H(Q,Y,G.length)&&G.splice(Z,1,...F)}}let D=class extends E.ActionViewItem{constructor(x,O,B,H,K,V,j,U){super(void 0,x,{icon:!!(x.class||x.item.icon),label:!x.class&&!x.item.icon,draggable:O?.draggable,keybinding:O?.keybinding,hoverDelegate:O?.hoverDelegate}),this._options=O,this._keybindingService=B,this._notificationService=H,this._contextKeyService=K,this._themeService=V,this._contextMenuService=j,this._accessibilityService=U,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=f.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(x){x.preventDefault(),x.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(O){this._notificationService.error(O)}}render(x){if(super.render(x),x.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let O=!1;const B=()=>{var H;const K=!!(!((H=this._menuItemAction.alt)===null||H===void 0)&&H.enabled)&&(!this._accessibilityService.isMotionReduced()||O)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&O);K!==this._wantsAltCommand&&(this._wantsAltCommand=K,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(B)),this._register((0,f.addDisposableListener)(x,"mouseleave",H=>{O=!1,B()})),this._register((0,f.addDisposableListener)(x,"mouseenter",H=>{O=!0,B()})),B()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var x;const O=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),B=O&&O.getLabel(),H=this._commandAction.tooltip||this._commandAction.label;let K=B?(0,v.localize)(1660,"{0} ({1})",H,B):H;if(!this._wantsAltCommand&&(!((x=this._menuItemAction.alt)===null||x===void 0)&&x.enabled)){const V=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,j=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),U=j&&j.getLabel(),Y=U?(0,v.localize)(1661,"{0} ({1})",V,U):V;K=(0,v.localize)(1662,`{0}
[{1}] {2}`,K,m.UILabelProvider.modifierLabels[b.OS].altKey,Y)}return K}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(x){this._itemClassDispose.value=void 0;const{element:O,label:B}=this;if(!O||!B)return;const H=this._commandAction.checked&&(0,o.isICommandActionToggleInfo)(x.toggled)&&x.toggled.icon?x.toggled.icon:x.icon;if(H)if(l.ThemeIcon.isThemeIcon(H)){const K=l.ThemeIcon.asClassNameArray(H);B.classList.add(...K),this._itemClassDispose.value=(0,w.toDisposable)(()=>{B.classList.remove(...K)})}else B.style.backgroundImage=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(H.dark):(0,f.asCSSUrl)(H.light),B.classList.add("icon"),this._itemClassDispose.value=(0,w.combinedDisposable)((0,w.toDisposable)(()=>{B.style.backgroundImage="",B.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=D,e.MenuEntryActionViewItem=D=ke([ge(2,c.IKeybindingService),ge(3,u.INotificationService),ge(4,t.IContextKeyService),ge(5,a.IThemeService),ge(6,i.IContextMenuService),ge(7,C.IAccessibilityService)],D);class T extends D{render(x){var O,B;this.options.label=!0,this.options.icon=!1,super.render(x),x.classList.add("text-only"),x.classList.toggle("use-comma",(B=(O=this._options)===null||O===void 0?void 0:O.useComma)!==null&&B!==void 0?B:!1)}updateLabel(){var x;const O=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!O)return super.updateLabel();if(this.label){const B=T._symbolPrintEnter(O);!((x=this._options)===null||x===void 0)&&x.conversational?this.label.textContent=(0,v.localize)(1663,"{1} to {0}",this._action.label,B):this.label.textContent=(0,v.localize)(1664,"{0} ({1})",this._action.label,B)}}static _symbolPrintEnter(x){var O;return(O=x.getLabel())===null||O===void 0?void 0:O.replace(/\benter\b/gi,"\u23CE").replace(/\bEscape\b/gi,"Esc")}}e.TextOnlyMenuEntryActionViewItem=T;let N=class extends I.DropdownMenuActionViewItem{constructor(x,O,B,H,K){var V,j,U;const Y={...O,menuAsChild:(V=O?.menuAsChild)!==null&&V!==void 0?V:!1,classNames:(j=O?.classNames)!==null&&j!==void 0?j:l.ThemeIcon.isThemeIcon(x.item.icon)?l.ThemeIcon.asClassName(x.item.icon):void 0,keybindingProvider:(U=O?.keybindingProvider)!==null&&U!==void 0?U:Q=>B.lookupKeybinding(Q.id)};super(x,{getActions:()=>x.actions},H,Y),this._keybindingService=B,this._contextMenuService=H,this._themeService=K}render(x){super.render(x),(0,p.assertType)(this.element),x.classList.add("menu-entry");const O=this._action,{icon:B}=O.item;if(B&&!l.ThemeIcon.isThemeIcon(B)){this.element.classList.add("icon");const H=()=>{this.element&&(this.element.style.backgroundImage=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(B.dark):(0,f.asCSSUrl)(B.light))};H(),this._register(this._themeService.onDidColorThemeChange(()=>{H()}))}}};e.SubmenuEntryActionViewItem=N,e.SubmenuEntryActionViewItem=N=ke([ge(2,c.IKeybindingService),ge(3,i.IContextMenuService),ge(4,a.IThemeService)],N);let A=class extends E.BaseActionViewItem{constructor(x,O,B,H,K,V,j,U){var Y,Q,Z;super(null,x),this._keybindingService=B,this._notificationService=H,this._contextMenuService=K,this._menuService=V,this._instaService=j,this._storageService=U,this._container=null,this._options=O,this._storageKey=`${x.item.submenu.id}_lastActionId`;let G;const F=O?.persistLastActionId?U.get(this._storageKey,1):void 0;F&&(G=x.actions.find(te=>F===te.id)),G||(G=x.actions[0]),this._defaultAction=this._instaService.createInstance(D,G,{keybinding:this._getDefaultActionKeybindingLabel(G)});const J={keybindingProvider:te=>this._keybindingService.lookupKeybinding(te.id),...O,menuAsChild:(Y=O?.menuAsChild)!==null&&Y!==void 0?Y:!0,classNames:(Q=O?.classNames)!==null&&Q!==void 0?Q:["codicon","codicon-chevron-down"],actionRunner:(Z=O?.actionRunner)!==null&&Z!==void 0?Z:new y.ActionRunner};this._dropdown=new I.DropdownMenuActionViewItem(x,x.actions,this._contextMenuService,J),this._register(this._dropdown.actionRunner.onDidRun(te=>{te.action instanceof s.MenuItemAction&&this.update(te.action)}))}update(x){var O;!((O=this._options)===null||O===void 0)&&O.persistLastActionId&&this._storageService.store(this._storageKey,x.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(D,x,{keybinding:this._getDefaultActionKeybindingLabel(x)}),this._defaultAction.actionRunner=new class extends y.ActionRunner{async runAction(B,H){await B.run(void 0)}},this._container&&this._defaultAction.render((0,f.prepend)(this._container,(0,f.$)(".action-container")))}_getDefaultActionKeybindingLabel(x){var O;let B;if(!((O=this._options)===null||O===void 0)&&O.renderKeybindingWithDefaultActionLabel){const H=this._keybindingService.lookupKeybinding(x.id);H&&(B=`(${H.getLabel()})`)}return B}setActionContext(x){super.setActionContext(x),this._defaultAction.setActionContext(x),this._dropdown.setActionContext(x)}render(x){this._container=x,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const O=(0,f.$)(".action-container");this._defaultAction.render((0,f.append)(this._container,O)),this._register((0,f.addDisposableListener)(O,f.EventType.KEY_DOWN,H=>{const K=new k.StandardKeyboardEvent(H);K.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),K.stopPropagation())}));const B=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.append)(this._container,B)),this._register((0,f.addDisposableListener)(B,f.EventType.KEY_DOWN,H=>{var K;const V=new k.StandardKeyboardEvent(H);V.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(K=this._defaultAction.element)===null||K===void 0||K.focus(),V.stopPropagation())}))}focus(x){x?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(x){x?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=A,e.DropdownWithDefaultActionViewItem=A=ke([ge(2,c.IKeybindingService),ge(3,u.INotificationService),ge(4,i.IContextMenuService),ge(5,s.IMenuService),ge(6,n.IInstantiationService),ge(7,r.IStorageService)],A);let R=class extends E.SelectActionViewItem{constructor(x,O){super(null,x,x.actions.map(B=>({text:B.id===y.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":B.label,isDisabled:!B.enabled})),0,O,g.defaultSelectBoxStyles,{ariaLabel:x.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,x.actions.findIndex(B=>B.checked)))}render(x){super.render(x),x.style.borderColor=(0,h.asCssVariable)(h.selectBorder)}runAction(x,O){const B=this.action.actions[O];B&&this.actionRunner.run(B)}};R=ke([ge(1,i.IContextViewService)],R);function M(P,x,O){return x instanceof s.MenuItemAction?P.createInstance(D,x,O):x instanceof s.SubmenuItemAction?x.item.isSelection?P.createInstance(R,x):x.item.rememberDefaultAction?P.createInstance(A,x,{...O,persistLastActionId:!0}):P.createInstance(N,x,O):void 0}}),define(re[790],ae([1,0,4,87,2,123,29,12,7]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;let b=class{constructor(s,o,t,i,n){this._menuId=o,this._menuService=i,this._contextKeyService=n,this._menuDisposables=new E.DisposableStore,this.element=f.append(s,f.$(".suggest-status-bar"));const c=u=>u instanceof y.MenuItemAction?t.createInstance(I.TextOnlyMenuEntryActionViewItem,u,{useComma:!0}):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:c}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:c}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const s=this._menuService.createMenu(this._menuId,this._contextKeyService),o=()=>{const t=[],i=[];for(const[n,c]of s.getActions())n==="left"?t.push(...c):i.push(...c);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(s.onDidChange(()=>o())),this._menuDisposables.add(s)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=b,e.SuggestWidgetStatus=b=ke([ge(2,w.IInstantiationService),ge(3,y.IMenuService),ge(4,m.IContextKeyService)],b)}),define(re[215],ae([1,0,4,73,653,40,13,296,8,6,53,2,3,123,29,402,24,12,58,31,64]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuWorkbenchToolBar=e.WorkbenchToolBar=void 0;let d=class extends E.ToolBar{constructor(g,C,S,_,L,D,T,N){super(g,L,{getKeyBinding:R=>{var M;return(M=D.lookupKeybinding(R.id))!==null&&M!==void 0?M:void 0},...C,allowContextMenu:!0,skipTelemetry:typeof C?.telemetrySource=="string"}),this._options=C,this._menuService=S,this._contextKeyService=_,this._contextMenuService=L,this._keybindingService=D,this._commandService=T,this._sessionDisposables=this._store.add(new s.DisposableStore);const A=C?.telemetrySource;A&&this._store.add(this.actionBar.onDidRun(R=>N.publicLog2("workbenchActionExecuted",{id:R.action.id,from:A})))}setActions(g,C=[],S){var _,L,D;this._sessionDisposables.clear();const T=g.slice(),N=C.slice(),A=[];let R=0;const M=[];let P=!1;if(((_=this._options)===null||_===void 0?void 0:_.hiddenItemStrategy)!==-1)for(let x=0;x<T.length;x++){const O=T[x];!(O instanceof i.MenuItemAction)&&!(O instanceof i.SubmenuItemAction)||O.hideActions&&(A.push(O.hideActions.toggle),O.hideActions.toggle.checked&&R++,O.hideActions.isHidden&&(P=!0,T[x]=void 0,((L=this._options)===null||L===void 0?void 0:L.hiddenItemStrategy)!==0&&(M[x]=O)))}if(((D=this._options)===null||D===void 0?void 0:D.overflowBehavior)!==void 0){const x=(0,m.intersection)(new Set(this._options.overflowBehavior.exempted),v.Iterable.map(T,H=>H?.id)),O=this._options.overflowBehavior.maxItems-x.size;let B=0;for(let H=0;H<T.length;H++){const K=T[H];K&&(B++,!x.has(K.id)&&B>=O&&(T[H]=void 0,M[H]=K))}}(0,y.coalesceInPlace)(T),(0,y.coalesceInPlace)(M),super.setActions(T,I.Separator.join(M,N)),(A.length>0||T.length>0)&&this._sessionDisposables.add((0,f.addDisposableListener)(this.getElement(),"contextmenu",x=>{var O,B,H,K,V;const j=new k.StandardMouseEvent((0,f.getWindow)(this.getElement()),x),U=this.getItemAction(j.target);if(!U)return;j.preventDefault(),j.stopPropagation();const Y=[];if(U instanceof i.MenuItemAction&&U.menuKeybinding)Y.push(U.menuKeybinding);else if(!(U instanceof i.SubmenuItemAction||U instanceof E.ToggleMenuAction)){const Z=U.id.startsWith("statusbaraction");Y.push((0,n.createConfigureKeybindingAction)(this._commandService,this._keybindingService,U.id,void 0,!Z))}if(A.length>0){let Z=!1;if(R===1&&((O=this._options)===null||O===void 0?void 0:O.hiddenItemStrategy)===0){Z=!0;for(let G=0;G<A.length;G++)if(A[G].checked){A[G]=(0,I.toAction)({id:U.id,label:U.label,checked:!0,enabled:!1,run(){}});break}}if(!Z&&(U instanceof i.MenuItemAction||U instanceof i.SubmenuItemAction)){if(!U.hideActions)return;Y.push(U.hideActions.hide)}else Y.push((0,I.toAction)({id:"label",label:(0,o.localize)(1658,"Hide"),enabled:!1,run(){}}))}const Q=I.Separator.join(Y,A);!((B=this._options)===null||B===void 0)&&B.resetMenu&&!S&&(S=[this._options.resetMenu]),P&&S&&(Q.push(new I.Separator),Q.push((0,I.toAction)({id:"resetThisMenu",label:(0,o.localize)(1659,"Reset Menu"),run:()=>this._menuService.resetHiddenStates(S)}))),Q.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>j,getActions:()=>Q,menuId:(H=this._options)===null||H===void 0?void 0:H.contextMenu,menuActionOptions:{renderShortTitle:!0,...(K=this._options)===null||K===void 0?void 0:K.menuOptions},skipTelemetry:typeof((V=this._options)===null||V===void 0?void 0:V.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=d,e.WorkbenchToolBar=d=ke([ge(2,i.IMenuService),ge(3,u.IContextKeyService),ge(4,r.IContextMenuService),ge(5,a.IKeybindingService),ge(6,c.ICommandService),ge(7,l.ITelemetryService)],d);let p=class extends d{constructor(g,C,S,_,L,D,T,N,A){super(g,{resetMenu:C,...S},_,L,D,T,N,A),this._onDidChangeMenuItems=this._store.add(new b.Emitter),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const R=this._store.add(_.createMenu(C,L,{emitEventsForSubmenuChanges:!0})),M=()=>{var P,x,O;const B=[],H=[];(0,t.createAndFillInActionBarActions)(R,S?.menuOptions,{primary:B,secondary:H},(P=S?.toolbarOptions)===null||P===void 0?void 0:P.primaryGroup,(x=S?.toolbarOptions)===null||x===void 0?void 0:x.shouldInlineSubmenu,(O=S?.toolbarOptions)===null||O===void 0?void 0:O.useSeparatorsInPrimaryActions),g.classList.toggle("has-no-actions",B.length===0&&H.length===0),super.setActions(B,H)};this._store.add(R.onDidChange(()=>{M(),this._onDidChangeMenuItems.fire(this)})),M()}setActions(){throw new w.BugIndicatingError("This toolbar is populated from a menu.")}};e.MenuWorkbenchToolBar=p,e.MenuWorkbenchToolBar=p=ke([ge(3,i.IMenuService),ge(4,u.IContextKeyService),ge(5,r.IContextMenuService),ge(6,a.IKeybindingService),ge(7,c.ICommandService),ge(8,l.ITelemetryService)],p)}),define(re[791],ae([1,0,4,2,21,72,319,86,566,369,56,66,5,103,104,596,215,29,12,117,7]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorGutter=void 0;const d=[],p=35;let h=class extends k.Disposable{constructor(_,L,D,T,N,A,R,M,P){super(),this._diffModel=L,this._editors=D,this._options=T,this._sashLayout=N,this._boundarySashes=A,this._instantiationService=R,this._contextKeyService=M,this._menuService=P,this._menu=this._register(this._menuService.createMenu(u.MenuId.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=(0,E.observableFromEvent)(this,this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(x=>x.length>0),this._showSash=(0,E.derived)(this,x=>this._options.renderSideBySide.read(x)&&this._hasActions.read(x)),this.width=(0,E.derived)(this,x=>this._hasActions.read(x)?p:0),this.elements=(0,f.h)("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:p+"px"}},[]),this._currentDiff=(0,E.derived)(this,x=>{var O;const B=this._diffModel.read(x);if(!B)return;const H=(O=B.diff.read(x))===null||O===void 0?void 0:O.mappings,K=this._editors.modifiedCursor.read(x);if(K)return H?.find(V=>V.lineRangeMapping.modified.contains(K.lineNumber))}),this._selectedDiffs=(0,E.derived)(this,x=>{const O=this._diffModel.read(x),B=O?.diff.read(x);if(!B)return d;const H=this._editors.modifiedSelections.read(x);if(H.every(U=>U.isEmpty()))return d;const K=new v.LineRangeSet(H.map(U=>v.LineRange.fromRangeInclusive(U))),j=B.mappings.filter(U=>U.lineRangeMapping.innerChanges&&K.intersects(U.lineRangeMapping.modified)).map(U=>({mapping:U,rangeMappings:U.lineRangeMapping.innerChanges.filter(Y=>H.some(Q=>o.Range.areIntersecting(Y.modifiedRange,Q)))}));return j.length===0||j.every(U=>U.rangeMappings.length===0)?d:j}),this._register((0,m.prependRemoveOnDispose)(_,this.elements.root)),this._register((0,f.addDisposableListener)(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register((0,m.applyStyle)(this.elements.root,{display:this._hasActions.map(x=>x?"block":"none")})),(0,I.derivedDisposable)(this,x=>this._showSash.read(x)?new y.DiffEditorSash(_,this._sashLayout.dimensions,this._options.enableSplitViewResizing,this._boundarySashes,(0,I.derivedWithSetter)(this,B=>this._sashLayout.sashLeft.read(B)-p,(B,H)=>this._sashLayout.sashLeft.set(B+p,H)),()=>this._sashLayout.resetSash()):void 0).recomputeInitiallyAndOnChange(this._store),this._register(new w.EditorGutter(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(x,O)=>{const B=this._diffModel.read(O);if(!B)return[];const H=B.diff.read(O);if(!H)return[];const K=this._selectedDiffs.read(O);if(K.length>0){const j=i.DetailedLineRangeMapping.fromRangeMappings(K.flatMap(U=>U.rangeMappings));return[new g(j,!0,u.MenuId.DiffEditorSelectionToolbar,void 0,B.model.original.uri,B.model.modified.uri)]}const V=this._currentDiff.read(O);return H.mappings.map(j=>new g(j.lineRangeMapping.withInnerChangesFromLineRanges(),j.lineRangeMapping===V?.lineRangeMapping,u.MenuId.DiffEditorHunkToolbar,void 0,B.model.original.uri,B.model.modified.uri))},createView:(x,O)=>this._instantiationService.createInstance(C,x,O,this)})),this._register((0,f.addDisposableListener)(this.elements.gutter,f.EventType.MOUSE_WHEEL,x=>{this._editors.modified.getOption(104).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(x)},{passive:!1}))}computeStagedValue(_){var L;const D=(L=_.innerChanges)!==null&&L!==void 0?L:[],T=new n.TextModelText(this._editors.modifiedModel.get()),N=new n.TextModelText(this._editors.original.getModel());return new t.TextEdit(D.map(M=>M.toTextEdit(T))).apply(N)}layout(_){this.elements.gutter.style.left=_+"px"}};e.DiffEditorGutter=h,e.DiffEditorGutter=h=ke([ge(6,l.IInstantiationService),ge(7,r.IContextKeyService),ge(8,u.IMenuService)],h);class g{constructor(_,L,D,T,N,A){this.mapping=_,this.showAlways=L,this.menuId=D,this.rangeOverride=T,this.originalUri=N,this.modifiedUri=A}get id(){return this.mapping.modified.toString()}get range(){var _;return(_=this.rangeOverride)!==null&&_!==void 0?_:this.mapping.modified}}let C=class extends k.Disposable{constructor(_,L,D,T){super(),this._item=_,this._elements=(0,f.h)("div.gutterItem",{style:{height:"20px",width:"34px"}},[(0,f.h)("div.background@background",{},[]),(0,f.h)("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,A=>A.showAlways),this._menuId=this._item.map(this,A=>A.menuId),this._isSmall=(0,E.observableValue)(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const N=this._register(T.createInstance(a.WorkbenchHoverDelegate,"element",!0,{position:{hoverPosition:1}}));this._register((0,m.appendRemoveOnDispose)(L,this._elements.root)),this._register((0,E.autorun)(A=>{const R=this._showAlways.read(A);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",R),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register((0,E.autorunWithStore)((A,R)=>{this._elements.buttons.replaceChildren();const M=R.add(T.createInstance(c.MenuWorkbenchToolBar,this._elements.buttons,this._menuId.read(A),{orientation:1,hoverDelegate:N,toolbarOptions:{primaryGroup:P=>P.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(A)?1:3},hiddenItemStrategy:0,actionRunner:new b.ActionRunnerWithContext(()=>{const P=this._item.get(),x=P.mapping;return{mapping:x,originalWithModifiedChanges:D.computeStagedValue(x),originalUri:P.originalUri,modifiedUri:P.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));R.add(M.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(_,L){this._lastItemRange=_,this._lastViewRange=L;let D=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&_.length<30,void 0),D=this._elements.buttons.clientHeight;const T=_.length/2-D/2,N=D;let A=_.start+T;const R=s.OffsetRange.tryCreate(N,L.endExclusive-N-D),M=s.OffsetRange.tryCreate(_.start+N,_.endExclusive-D-N);M&&R&&M.start<M.endExclusive&&(A=R.clip(A),A=M.clip(A)),this._elements.buttons.style.top=`${A-_.start}px`}};C=ke([ge(3,l.IInstantiationService)],C)}),define(re[281],ae([1,0,4,148,207,40,13,14,26,2,21,72,16,30,9,27,256,3,123,215,29,24,12,58,7,31,64,80,528]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_){"use strict";var L;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let D=class extends b.Disposable{constructor(O,B,H){super(),this.editor=O,this.model=B,this.instantiationService=H,this.alwaysShowToolbar=(0,v.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,v.derived)(this,K=>{var V,j,U;const Y=(V=this.model.read(K))===null||V===void 0?void 0:V.primaryGhostText.read(K);if(!this.alwaysShowToolbar.read(K)||!Y||Y.parts.length===0)return this.sessionPosition=void 0,null;const Q=Y.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==Y.lineNumber&&(this.sessionPosition=void 0);const Z=new i.Position(Y.lineNumber,Math.min(Q,(U=(j=this.sessionPosition)===null||j===void 0?void 0:j.column)!==null&&U!==void 0?U:Number.MAX_SAFE_INTEGER));return this.sessionPosition=Z,Z}),this._register((0,v.autorunWithStore)((K,V)=>{const j=this.model.read(K);if(!j||!this.alwaysShowToolbar.read(K))return;const U=(0,s.derivedWithStore)((Q,Z)=>{const G=Z.add(this.instantiationService.createInstance(A,this.editor,!0,this.position,j.selectedInlineCompletionIndex,j.inlineCompletionsCount,j.activeCommands));return O.addContentWidget(G),Z.add((0,b.toDisposable)(()=>O.removeContentWidget(G))),Z.add((0,v.autorun)(F=>{this.position.read(F)&&j.lastTriggerKind.read(F)!==n.InlineCompletionTriggerKind.Explicit&&j.triggerExplicitly()})),G}),Y=(0,v.derivedObservableWithCache)(this,(Q,Z)=>!!this.position.read(Q)||!!Z);V.add((0,v.autorun)(Q=>{Y.read(Q)&&U.read(Q)}))}))}};e.InlineCompletionsHintsWidget=D,e.InlineCompletionsHintsWidget=D=ke([ge(2,g.IInstantiationService)],D);const T=(0,_.registerIcon)("inline-suggestion-hints-next",w.Codicon.chevronRight,(0,u.localize)(400,"Icon for show next parameter hint.")),N=(0,_.registerIcon)("inline-suggestion-hints-previous",w.Codicon.chevronLeft,(0,u.localize)(401,"Icon for show previous parameter hint."));let A=L=class extends b.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(O,B,H){const K=new I.Action(O,B,H,!0,()=>this._commandService.executeCommand(O)),V=this.keybindingService.lookupKeybinding(O,this._contextKeyService);let j=B;return V&&(j=(0,u.localize)(402,"{0} ({1})",B,V.getLabel())),K.tooltip=j,K}constructor(O,B,H,K,V,j,U,Y,Q,Z,G){super(),this.editor=O,this.withBorder=B,this._position=H,this._currentSuggestionIdx=K,this._suggestionCount=V,this._extraCommands=j,this._commandService=U,this.keybindingService=Q,this._contextKeyService=Z,this._menuService=G,this.id=`InlineSuggestionHintsContentWidget${L.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.previousAction=this.createCommandAction(c.showPreviousInlineSuggestionActionId,(0,u.localize)(403,"Previous"),t.ThemeIcon.asClassName(N)),this.availableSuggestionCountAction=new I.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(c.showNextInlineSuggestionActionId,(0,u.localize)(404,"Next"),t.ThemeIcon.asClassName(T)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(l.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new m.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new m.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(Y.createInstance(P,this.nodes.toolBar,l.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:F=>F.startsWith("primary")},actionViewItemProvider:(F,J)=>{if(F instanceof l.MenuItemAction)return Y.createInstance(M,F,void 0);if(F===this.availableSuggestionCountAction){const te=new R(void 0,F,{label:!0,icon:!1});return te.setClass("availableSuggestionCount"),te}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(F=>{L._dropDownVisible=F})),this._register((0,v.autorun)(F=>{this._position.read(F),this.editor.layoutContentWidget(this)})),this._register((0,v.autorun)(F=>{const J=this._suggestionCount.read(F),te=this._currentSuggestionIdx.read(F);J!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${te+1}/${J}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),J!==void 0&&J>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,v.autorun)(F=>{const te=this._extraCommands.read(F).map(de=>({class:void 0,id:de.id,enabled:!0,tooltip:de.tooltip||"",label:de.title,run:he=>this._commandService.executeCommand(de.id)}));for(const[de,he]of this.inlineCompletionsActionsMenus.getActions())for(const pe of he)pe instanceof l.MenuItemAction&&te.push(pe);te.length>0&&te.unshift(new I.Separator),this.toolBar.setAdditionalSecondaryActions(te)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=A,A._dropDownVisible=!1,A.id=0,e.InlineSuggestionHintsContentWidget=A=L=ke([ge(6,d.ICommandService),ge(7,g.IInstantiationService),ge(8,C.IKeybindingService),ge(9,p.IContextKeyService),ge(10,l.IMenuService)],A);class R extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(O){this._className=O}render(O){super.render(O),this._className&&O.classList.add(this._className)}updateTooltip(){}}class M extends r.MenuEntryActionViewItem{updateLabel(){const O=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!O)return super.updateLabel();if(this.label){const B=(0,f.h)("div.keybinding").root;this._register(new E.KeybindingLabel(B,o.OS,{disableTitle:!0,...E.unthemedKeybindingLabelOptions})).set(O),this.label.textContent=this._action.label,this.label.appendChild(B),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let P=class extends a.WorkbenchToolBar{constructor(O,B,H,K,V,j,U,Y,Q){super(O,{resetMenu:B,...H},K,V,j,U,Y,Q),this.menuId=B,this.options2=H,this.menuService=K,this.contextKeyService=V,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var O,B,H,K,V,j,U;const Y=[],Q=[];(0,r.createAndFillInActionBarActions)(this.menu,(O=this.options2)===null||O===void 0?void 0:O.menuOptions,{primary:Y,secondary:Q},(H=(B=this.options2)===null||B===void 0?void 0:B.toolbarOptions)===null||H===void 0?void 0:H.primaryGroup,(V=(K=this.options2)===null||K===void 0?void 0:K.toolbarOptions)===null||V===void 0?void 0:V.shouldInlineSubmenu,(U=(j=this.options2)===null||j===void 0?void 0:j.toolbarOptions)===null||U===void 0?void 0:U.useSeparatorsInPrimaryActions),Q.push(...this.additionalActions),Y.unshift(...this.prependedPrimaryActions),this.setActions(Y,Q)}setPrependedPrimaryActions(O){(0,y.equals)(this.prependedPrimaryActions,O,(B,H)=>B===H)||(this.prependedPrimaryActions=O,this.updateToolbar())}setAdditionalSecondaryActions(O){(0,y.equals)(this.additionalActions,O,(B,H)=>B===H)||(this.additionalActions=O,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=P,e.CustomizedMenuWorkbenchToolBar=P=ke([ge(3,l.IMenuService),ge(4,p.IContextKeyService),ge(5,h.IContextMenuService),ge(6,C.IKeybindingService),ge(7,d.ICommandService),ge(8,S.ITelemetryService)],P)}),define(re[418],ae([1,0,4,207,40,13,2,21,16,9,123,215,29,24,12,58,7,31,64,530]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineEditHintsContentWidget=e.InlineEditHintsWidget=void 0;let l=class extends y.Disposable{constructor(C,S,_){super(),this.editor=C,this.model=S,this.instantiationService=_,this.alwaysShowToolbar=(0,m.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,m.derived)(this,L=>{var D,T,N;const A=(D=this.model.read(L))===null||D===void 0?void 0:D.widget.model.ghostText.read(L);if(!this.alwaysShowToolbar.read(L)||!A||A.parts.length===0)return this.sessionPosition=void 0,null;const R=A.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==A.lineNumber&&(this.sessionPosition=void 0);const M=new b.Position(A.lineNumber,Math.min(R,(N=(T=this.sessionPosition)===null||T===void 0?void 0:T.column)!==null&&N!==void 0?N:Number.MAX_SAFE_INTEGER));return this.sessionPosition=M,M}),this._register((0,m.autorunWithStore)((L,D)=>{if(!this.model.read(L)||!this.alwaysShowToolbar.read(L))return;const N=D.add(this.instantiationService.createInstance(d,this.editor,!0,this.position));C.addContentWidget(N),D.add((0,y.toDisposable)(()=>C.removeContentWidget(N)))}))}};e.InlineEditHintsWidget=l,e.InlineEditHintsWidget=l=ke([ge(2,c.IInstantiationService)],l);let d=a=class extends y.Disposable{constructor(C,S,_,L,D,T){super(),this.editor=C,this.withBorder=S,this._position=_,this._contextKeyService=D,this._menuService=T,this.id=`InlineEditHintsContentWidget${a.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(o.MenuId.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(L.createInstance(h,this.nodes.toolBar,this.editor,o.MenuId.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:N=>N.startsWith("primary")},actionViewItemProvider:(N,A)=>{if(N instanceof o.MenuItemAction)return L.createInstance(p,N,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(N=>{a._dropDownVisible=N})),this._register((0,m.autorun)(N=>{this._position.read(N),this.editor.layoutContentWidget(this)})),this._register((0,m.autorun)(N=>{const A=[];for(const[R,M]of this.inlineCompletionsActionsMenus.getActions())for(const P of M)P instanceof o.MenuItemAction&&A.push(P);A.length>0&&A.unshift(new E.Separator),this.toolBar.setAdditionalSecondaryActions(A)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineEditHintsContentWidget=d,d._dropDownVisible=!1,d.id=0,e.InlineEditHintsContentWidget=d=a=ke([ge(3,c.IInstantiationService),ge(4,i.IContextKeyService),ge(5,o.IMenuService)],d);class p extends v.MenuEntryActionViewItem{updateLabel(){const C=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!C)return super.updateLabel();if(this.label){const S=(0,f.h)("div.keybinding").root;this._register(new k.KeybindingLabel(S,w.OS,{disableTitle:!0,...k.unthemedKeybindingLabelOptions})).set(C),this.label.textContent=this._action.label,this.label.appendChild(S),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let h=class extends s.WorkbenchToolBar{constructor(C,S,_,L,D,T,N,A,R,M){super(C,{resetMenu:_,...L},D,T,N,A,R,M),this.editor=S,this.menuId=_,this.options2=L,this.menuService=D,this.contextKeyService=T,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var C,S,_,L,D,T,N;const A=[],R=[];(0,v.createAndFillInActionBarActions)(this.menu,(C=this.options2)===null||C===void 0?void 0:C.menuOptions,{primary:A,secondary:R},(_=(S=this.options2)===null||S===void 0?void 0:S.toolbarOptions)===null||_===void 0?void 0:_.primaryGroup,(D=(L=this.options2)===null||L===void 0?void 0:L.toolbarOptions)===null||D===void 0?void 0:D.shouldInlineSubmenu,(N=(T=this.options2)===null||T===void 0?void 0:T.toolbarOptions)===null||N===void 0?void 0:N.useSeparatorsInPrimaryActions),R.push(...this.additionalActions),A.unshift(...this.prependedPrimaryActions),this.setActions(A,R)}setAdditionalSecondaryActions(C){(0,I.equals)(this.additionalActions,C,(S,_)=>S===_)||(this.additionalActions=C,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=h,e.CustomizedMenuWorkbenchToolBar=h=ke([ge(4,o.IMenuService),ge(5,i.IContextKeyService),ge(6,n.IContextMenuService),ge(7,u.IKeybindingService),ge(8,t.ICommandService),ge(9,r.ITelemetryService)],h)}),define(re[282],ae([1,0,2,21,75,9,5,673,12,7,27,17,18,205,24,418,4,28,8]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditController=e.InlineEditWidget=void 0;class l{constructor(g,C){this.widget=g,this.edit=C}dispose(){this.widget.dispose()}}e.InlineEditWidget=l;let d=a=class extends f.Disposable{static get(g){return g.getContribution(a.ID)}constructor(g,C,S,_,L,D){super(),this.editor=g,this.instantiationService=C,this.contextKeyService=S,this.languageFeaturesService=_,this._commandService=L,this._configurationService=D,this._isVisibleContext=a.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=a.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,k.disposableObservableValue)(this,void 0)),this._isAccepting=(0,k.observableValue)(this,!1),this._enabled=(0,k.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,k.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,k.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const T=(0,k.observableSignalFromEvent)("InlineEditController.modelContentChangedSignal",g.onDidChangeModelContent);this._register((0,k.autorun)(P=>{this._enabled.read(P)&&(T.read(P),!this._isAccepting.read(P)&&this.getInlineEdit(g,!0))}));const N=(0,k.observableFromEvent)(this,g.onDidChangeCursorPosition,()=>g.getPosition());this._register((0,k.autorun)(P=>{if(!this._enabled.read(P))return;const x=N.read(P);x&&this.checkCursorPosition(x)})),this._register((0,k.autorun)(P=>{const x=this._currentEdit.read(P);if(this._isCursorAtInlineEditContext.set(!1),!x){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const O=g.getPosition();O&&this.checkCursorPosition(O)}));const A=(0,k.observableSignalFromEvent)("InlineEditController.editorBlurSignal",g.onDidBlurEditorWidget);this._register((0,k.autorun)(async P=>{var x;this._enabled.read(P)&&(A.read(P),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||g.getOption(63).keepOnBlur)&&((x=this._currentRequestCts)===null||x===void 0||x.dispose(!0),this._currentRequestCts=void 0,await this.clear(!1)))}));const R=(0,k.observableSignalFromEvent)("InlineEditController.editorFocusSignal",g.onDidFocusEditorText);this._register((0,k.autorun)(P=>{this._enabled.read(P)&&(R.read(P),this.getInlineEdit(g,!0))}));const M=this._register((0,c.createStyleSheet2)());this._register((0,k.autorun)(P=>{const x=this._fontFamily.read(P);M.setStyle(x===""||x==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${x};
}`)})),this._register(new n.InlineEditHintsWidget(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(g){var C;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const S=(C=this._currentEdit.get())===null||C===void 0?void 0:C.edit;if(!S){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(y.Range.containsPosition(S.range,g))}validateInlineEdit(g,C){var S,_;if(C.text.includes(`
`)&&C.range.startLineNumber!==C.range.endLineNumber&&C.range.startColumn!==C.range.endColumn){if(C.range.startColumn!==1)return!1;const D=C.range.endLineNumber,T=C.range.endColumn,N=(_=(S=g.getModel())===null||S===void 0?void 0:S.getLineLength(D))!==null&&_!==void 0?_:0;if(T!==N+1)return!1}return!0}async fetchInlineEdit(g,C){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const S=g.getModel();if(!S)return;const _=S.getVersionId(),L=this.languageFeaturesService.inlineEditProvider.all(S);if(L.length===0)return;const D=L[0];this._currentRequestCts=new o.CancellationTokenSource;const T=this._currentRequestCts.token,N=C?v.InlineEditTriggerKind.Automatic:v.InlineEditTriggerKind.Invoke;if(C&&await p(50,T),T.isCancellationRequested||S.isDisposed()||S.getVersionId()!==_)return;const R=await D.provideInlineEdit(S,{triggerKind:N},T);if(R&&!(T.isCancellationRequested||S.isDisposed()||S.getVersionId()!==_)&&this.validateInlineEdit(g,R))return R}async getInlineEdit(g,C){var S;this._isCursorAtInlineEditContext.set(!1),await this.clear();const _=await this.fetchInlineEdit(g,C);if(!_)return;const L=_.range.endLineNumber,D=_.range.endColumn,T=_.text.endsWith(`
`)&&!(_.range.startLineNumber===_.range.endLineNumber&&_.range.startColumn===_.range.endColumn)?_.text.slice(0,-1):_.text,N=new t.GhostText(L,[new t.GhostTextPart(D,T,!1)]),A=this.instantiationService.createInstance(m.GhostTextWidget,this.editor,{ghostText:(0,k.constObservable)(N),minReservedLineCount:(0,k.constObservable)(0),targetTextModel:(0,k.constObservable)((S=this.editor.getModel())!==null&&S!==void 0?S:void 0),range:(0,k.constObservable)(_.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new l(A,_),void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}async accept(){var g;this._isAccepting.set(!0,void 0);const C=(g=this._currentEdit.get())===null||g===void 0?void 0:g.edit;if(!C)return;let S=C.text;C.text.startsWith(`
`)&&(S=C.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[E.EditOperation.replace(y.Range.lift(C.range),S)]),C.accepted&&await this._commandService.executeCommand(C.accepted.id,...C.accepted.arguments||[]).then(void 0,r.onUnexpectedExternalError),this.freeEdit(C),(0,k.transaction)(_=>{this._currentEdit.set(void 0,_),this._isAccepting.set(!1,_)})}jumpToCurrent(){var g,C;this._jumpBackPosition=(g=this.editor.getSelection())===null||g===void 0?void 0:g.getStartPosition();const S=(C=this._currentEdit.get())===null||C===void 0?void 0:C.edit;if(!S)return;const _=I.Position.lift({lineNumber:S.range.startLineNumber,column:S.range.startColumn});this.editor.setPosition(_),this.editor.revealPositionInCenterIfOutsideViewport(_)}async clear(g=!0){var C;const S=(C=this._currentEdit.get())===null||C===void 0?void 0:C.edit;S&&S?.rejected&&g&&await this._commandService.executeCommand(S.rejected.id,...S.rejected.arguments||[]).then(void 0,r.onUnexpectedExternalError),S&&this.freeEdit(S),this._currentEdit.set(void 0,void 0)}freeEdit(g){const C=this.editor.getModel();if(!C)return;const S=this.languageFeaturesService.inlineEditProvider.all(C);S.length!==0&&S[0].freeInlineEdit(g)}shouldShowHoverAt(g){const C=this._currentEdit.get();if(!C)return!1;const S=C.edit,_=C.widget.model;if(y.Range.containsPosition(S.range,g.getStartPosition())||y.Range.containsPosition(S.range,g.getEndPosition()))return!0;const D=_.ghostText.get();return D?D.parts.some(T=>g.containsPosition(new I.Position(D.lineNumber,T.column))):!1}shouldShowHoverAtViewZone(g){var C,S;return(S=(C=this._currentEdit.get())===null||C===void 0?void 0:C.widget.ownsViewZone(g))!==null&&S!==void 0?S:!1}};e.InlineEditController=d,d.ID="editor.contrib.inlineEditController",d.inlineEditVisibleKey="inlineEditVisible",d.inlineEditVisibleContext=new w.RawContextKey(a.inlineEditVisibleKey,!1),d.cursorAtInlineEditKey="cursorAtInlineEdit",d.cursorAtInlineEditContext=new w.RawContextKey(a.cursorAtInlineEditKey,!1),e.InlineEditController=d=a=ke([ge(1,b.IInstantiationService),ge(2,w.IContextKeyService),ge(3,s.ILanguageFeaturesService),ge(4,i.ICommandService),ge(5,u.IConfigurationService)],d);function p(h,g){return new Promise(C=>{let S;const _=setTimeout(()=>{S&&S.dispose(),C()},h);g&&(S=g.onCancellationRequested(()=>{clearTimeout(_),S&&S.dispose(),C()}))})}}),define(re[792],ae([1,0,15,20,641,282,29,12]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RejectInlineEdit=e.JumpBackInlineEdit=e.JumpToInlineEdit=e.TriggerInlineEdit=e.AcceptInlineEdit=void 0;class w extends f.EditorAction{constructor(){super({id:E.inlineEditAcceptId,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:m.ContextKeyExpr.and(k.EditorContextKeys.writable,I.InlineEditController.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:m.ContextKeyExpr.and(k.EditorContextKeys.writable,I.InlineEditController.inlineEditVisibleContext,I.InlineEditController.cursorAtInlineEditContext)}],menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(i,n){const c=I.InlineEditController.get(n);await c?.accept()}}e.AcceptInlineEdit=w;class b extends f.EditorAction{constructor(){const i=m.ContextKeyExpr.and(k.EditorContextKeys.writable,m.ContextKeyExpr.not(I.InlineEditController.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:i,kbOpts:{weight:101,primary:2646,kbExpr:i}})}async run(i,n){const c=I.InlineEditController.get(n);c?.trigger()}}e.TriggerInlineEdit=b;class v extends f.EditorAction{constructor(){const i=m.ContextKeyExpr.and(k.EditorContextKeys.writable,I.InlineEditController.inlineEditVisibleContext,m.ContextKeyExpr.not(I.InlineEditController.cursorAtInlineEditKey));super({id:E.inlineEditJumpToId,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:i,kbOpts:{weight:101,primary:2646,kbExpr:i},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:i}]})}async run(i,n){const c=I.InlineEditController.get(n);c?.jumpToCurrent()}}e.JumpToInlineEdit=v;class s extends f.EditorAction{constructor(){const i=m.ContextKeyExpr.and(k.EditorContextKeys.writable,I.InlineEditController.cursorAtInlineEditContext);super({id:E.inlineEditJumpBackId,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:i,kbOpts:{weight:110,primary:2646,kbExpr:i},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:i}]})}async run(i,n){const c=I.InlineEditController.get(n);c?.jumpBack()}}e.JumpBackInlineEdit=s;class o extends f.EditorAction{constructor(){const i=m.ContextKeyExpr.and(k.EditorContextKeys.writable,I.InlineEditController.inlineEditVisibleContext);super({id:E.inlineEditRejectId,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:i,kbOpts:{weight:100,primary:9,kbExpr:i},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(i,n){const c=I.InlineEditController.get(n);await c?.clear()}}e.RejectInlineEdit=o}),define(re[793],ae([1,0,2,21,69,7,64,282,418,3]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditHoverParticipant=e.InlineEditHover=void 0;class v{constructor(t,i,n){this.owner=t,this.range=i,this.controller=n}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}e.InlineEditHover=v;let s=class{constructor(t,i,n){this._editor=t,this._instantiationService=i,this._telemetryService=n,this.hoverOrdinal=5}suggestHoverAnchor(t){const i=m.InlineEditController.get(this._editor);if(!i)return null;const n=t.target;if(n.type===8){const c=n.detail;if(i.shouldShowHoverAtViewZone(c.viewZoneId)){const u=n.range;return new E.HoverForeignElementAnchor(1e3,this,u,t.event.posx,t.event.posy,!1)}}return n.type===7&&i.shouldShowHoverAt(n.range)?new E.HoverForeignElementAnchor(1e3,this,n.range,t.event.posx,t.event.posy,!1):n.type===6&&n.detail.mightBeForeignElement&&i.shouldShowHoverAt(n.range)?new E.HoverForeignElementAnchor(1e3,this,n.range,t.event.posx,t.event.posy,!1):null}computeSync(t,i){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const n=m.InlineEditController.get(this._editor);return n&&n.shouldShowHoverAt(t.range)?[new v(this,t.range,n)]:[]}renderHoverParts(t,i){const n=new f.DisposableStore;this._telemetryService.publicLog2("inlineEditHover.shown");const c=this._instantiationService.createInstance(w.InlineEditHintsContentWidget,this._editor,!1,(0,k.constObservable)(null));n.add(c);const u=c.getDomNode(),r={hoverPart:i[0],hoverElement:u,dispose:()=>n.dispose()};return new E.RenderedHoverParts([r])}getAccessibleContent(t){return b.localize(464,"There are inline edits here.")}};e.InlineEditHoverParticipant=s,e.InlineEditHoverParticipant=s=ke([ge(1,I.IInstantiationService),ge(2,y.ITelemetryService)],s)}),define(re[794],ae([1,0,15,69,792,793,282]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorAction)(E.AcceptInlineEdit),(0,f.registerEditorAction)(E.RejectInlineEdit),(0,f.registerEditorAction)(E.JumpToInlineEdit),(0,f.registerEditorAction)(E.JumpBackInlineEdit),(0,f.registerEditorAction)(E.TriggerInlineEdit),(0,f.registerEditorContribution)(y.InlineEditController.ID,y.InlineEditController,3),k.HoverParticipantRegistry.register(I.InlineEditHoverParticipant)}),define(re[795],ae([1,0,4,40,6,2,123,29,12,31,49,64,753,58]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let i=class extends I.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new o.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(u,r,a,l,d,p){super(),this.telemetryService=u,this.notificationService=r,this.contextViewService=a,this.keybindingService=l,this.menuService=d,this.contextKeyService=p,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new E.Emitter),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new E.Emitter)}configure(u){this.contextMenuHandler.configure(u)}showContextMenu(u){u=n.transform(u,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...u,onHide:r=>{var a;(a=u.onHide)===null||a===void 0||a.call(u,r),this._onDidHideContextMenu.fire()}}),f.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=i,e.ContextMenuService=i=ke([ge(0,s.ITelemetryService),ge(1,v.INotificationService),ge(2,t.IContextViewService),ge(3,b.IKeybindingService),ge(4,m.IMenuService),ge(5,w.IContextKeyService)],i);var n;(function(c){function u(a){return a&&a.menuId instanceof m.MenuId}function r(a,l,d){if(!u(a))return a;const{menuId:p,menuActionOptions:h,contextKeyService:g}=a;return{...a,getActions:()=>{const C=[];if(p){const S=l.createMenu(p,g??d);(0,y.createAndFillInContextMenuActions)(S,h,C),S.dispose()}return a.getActions?k.Separator.join(a.getActions(),C):C}}}c.transform=r})(n||(e.ContextMenuMenuDelegate=n={}))}),define(re[796],ae([1,0,4,6,3,7,213,25,2,45,16,124,232,207,87,97,22,393,98,139,442,11,174,14,8,63,60,21,13]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L){"use strict";var D;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputTree=void 0;const T=f.$;class N{constructor(Q,Z,G){this.index=Q,this.hasCheckbox=Z,this._hidden=!1,this._init=new r.Lazy(()=>{var F;const J=(F=G.label)!==null&&F!==void 0?F:"",te=(0,a.parseLabelWithIcons)(J).text.trim(),de=G.ariaLabel||[J,this.saneDescription,this.saneDetail].map(he=>(0,a.getCodiconAriaLabel)(he)).filter(he=>!!he).join(", ");return{saneLabel:J,saneSortLabel:te,saneAriaLabel:de}}),this._saneDescription=G.description,this._saneTooltip=G.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(Q){this._element=Q}get hidden(){return this._hidden}set hidden(Q){this._hidden=Q}get saneDescription(){return this._saneDescription}set saneDescription(Q){this._saneDescription=Q}get saneDetail(){return this._saneDetail}set saneDetail(Q){this._saneDetail=Q}get saneTooltip(){return this._saneTooltip}set saneTooltip(Q){this._saneTooltip=Q}get labelHighlights(){return this._labelHighlights}set labelHighlights(Q){this._labelHighlights=Q}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(Q){this._descriptionHighlights=Q}get detailHighlights(){return this._detailHighlights}set detailHighlights(Q){this._detailHighlights=Q}}class A extends N{constructor(Q,Z,G,F,J,te){var de,he,pe;super(Q,Z,J),this.fireButtonTriggered=G,this._onChecked=F,this.item=J,this._separator=te,this._checked=!1,this.onChecked=Z?k.Event.map(k.Event.filter(this._onChecked.event,ue=>ue.element===this),ue=>ue.checked):k.Event.None,this._saneDetail=J.detail,this._labelHighlights=(de=J.highlights)===null||de===void 0?void 0:de.label,this._descriptionHighlights=(he=J.highlights)===null||he===void 0?void 0:he.description,this._detailHighlights=(pe=J.highlights)===null||pe===void 0?void 0:pe.detail}get separator(){return this._separator}set separator(Q){this._separator=Q}get checked(){return this._checked}set checked(Q){Q!==this._checked&&(this._checked=Q,this._onChecked.fire({element:this,checked:Q}))}get checkboxDisabled(){return!!this.item.disabled}}var R;(function(Y){Y[Y.NONE=0]="NONE",Y[Y.MOUSE_HOVER=1]="MOUSE_HOVER",Y[Y.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(R||(R={}));class M extends N{constructor(Q,Z,G){super(Q,!1,G),this.fireSeparatorButtonTriggered=Z,this.separator=G,this.children=new Array,this.focusInsideSeparator=R.NONE}}class P{getHeight(Q){return Q instanceof M?30:Q.saneDetail?44:22}getTemplateId(Q){return Q instanceof A?B.ID:H.ID}}class x{getWidgetAriaLabel(){return(0,E.localize)(1563,"Quick Input")}getAriaLabel(Q){var Z;return!((Z=Q.separator)===null||Z===void 0)&&Z.label?`${Q.saneAriaLabel}, ${Q.separator.label}`:Q.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(Q){return Q.hasCheckbox?"checkbox":"option"}isChecked(Q){if(!(!Q.hasCheckbox||!(Q instanceof A)))return{get value(){return Q.checked},onDidChange:Z=>Q.onChecked(()=>Z())}}}class O{constructor(Q){this.hoverDelegate=Q}renderTemplate(Q){const Z=Object.create(null);Z.toDisposeElement=new w.DisposableStore,Z.toDisposeTemplate=new w.DisposableStore,Z.entry=f.append(Q,T(".quick-input-list-entry"));const G=f.append(Z.entry,T("label.quick-input-list-label"));Z.toDisposeTemplate.add(f.addStandardDisposableListener(G,f.EventType.CLICK,pe=>{Z.checkbox.offsetParent||pe.preventDefault()})),Z.checkbox=f.append(G,T("input.quick-input-list-checkbox")),Z.checkbox.type="checkbox";const F=f.append(G,T(".quick-input-list-rows")),J=f.append(F,T(".quick-input-list-row")),te=f.append(F,T(".quick-input-list-row"));Z.label=new o.IconLabel(J,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),Z.toDisposeTemplate.add(Z.label),Z.icon=f.prepend(Z.label.element,T(".quick-input-list-icon"));const de=f.append(J,T(".quick-input-list-entry-keybinding"));Z.keybinding=new t.KeybindingLabel(de,v.OS),Z.toDisposeTemplate.add(Z.keybinding);const he=f.append(te,T(".quick-input-list-label-meta"));return Z.detail=new o.IconLabel(he,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),Z.toDisposeTemplate.add(Z.detail),Z.separator=f.append(Z.entry,T(".quick-input-list-separator")),Z.actionBar=new i.ActionBar(Z.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),Z.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),Z.toDisposeTemplate.add(Z.actionBar),Z}disposeTemplate(Q){Q.toDisposeElement.dispose(),Q.toDisposeTemplate.dispose()}disposeElement(Q,Z,G){G.toDisposeElement.clear(),G.actionBar.clear()}}let B=D=class extends O{constructor(Q,Z){super(Q),this.themeService=Z,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return D.ID}renderTemplate(Q){const Z=super.renderTemplate(Q);return Z.toDisposeTemplate.add(f.addStandardDisposableListener(Z.checkbox,f.EventType.CHANGE,G=>{Z.element.checked=Z.checkbox.checked})),Z}renderElement(Q,Z,G){var F,J,te;const de=Q.element;G.element=de,de.element=(F=G.entry)!==null&&F!==void 0?F:void 0;const he=de.item;G.checkbox.checked=de.checked,G.toDisposeElement.add(de.onChecked(q=>G.checkbox.checked=q)),G.checkbox.disabled=de.checkboxDisabled;const{labelHighlights:pe,descriptionHighlights:ue,detailHighlights:ie}=de;if(he.iconPath){const q=(0,n.isDark)(this.themeService.getColorTheme().type)?he.iconPath.dark:(J=he.iconPath.light)!==null&&J!==void 0?J:he.iconPath.dark,z=c.URI.revive(q);G.icon.className="quick-input-list-icon",G.icon.style.backgroundImage=f.asCSSUrl(z)}else G.icon.style.backgroundImage="",G.icon.className=he.iconClass?`quick-input-list-icon ${he.iconClass}`:"";let se;!de.saneTooltip&&de.saneDescription&&(se={markdown:{value:de.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:de.saneDescription});const ne={matches:pe||[],descriptionTitle:se,descriptionMatches:ue||[],labelEscapeNewLines:!0};if(ne.extraClasses=he.iconClasses,ne.italic=he.italic,ne.strikethrough=he.strikethrough,G.entry.classList.remove("quick-input-list-separator-as-item"),G.label.setLabel(de.saneLabel,de.saneDescription,ne),G.keybinding.set(he.keybinding),de.saneDetail){let q;de.saneTooltip||(q={markdown:{value:de.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:de.saneDetail}),G.detail.element.style.display="",G.detail.setLabel(de.saneDetail,void 0,{matches:ie,title:q,labelEscapeNewLines:!0})}else G.detail.element.style.display="none";!((te=de.separator)===null||te===void 0)&&te.label?(G.separator.textContent=de.separator.label,G.separator.style.display="",this.addItemWithSeparator(de)):G.separator.style.display="none",G.entry.classList.toggle("quick-input-list-separator-border",!!de.separator);const W=he.buttons;W&&W.length?(G.actionBar.push(W.map((q,z)=>(0,u.quickInputButtonToAction)(q,`id-${z}`,()=>de.fireButtonTriggered({button:q,item:de.item}))),{icon:!0,label:!1}),G.entry.classList.add("has-actions")):G.entry.classList.remove("has-actions")}disposeElement(Q,Z,G){this.removeItemWithSeparator(Q.element),super.disposeElement(Q,Z,G)}isItemWithSeparatorVisible(Q){return this._itemsWithSeparatorsFrequency.has(Q)}addItemWithSeparator(Q){this._itemsWithSeparatorsFrequency.set(Q,(this._itemsWithSeparatorsFrequency.get(Q)||0)+1)}removeItemWithSeparator(Q){const Z=this._itemsWithSeparatorsFrequency.get(Q)||0;Z>1?this._itemsWithSeparatorsFrequency.set(Q,Z-1):this._itemsWithSeparatorsFrequency.delete(Q)}};B.ID="quickpickitem",B=D=ke([ge(1,m.IThemeService)],B);class H extends O{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return H.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(Q){return this._visibleSeparatorsFrequency.has(Q)}renderElement(Q,Z,G){var F;const J=Q.element;G.element=J,J.element=(F=G.entry)!==null&&F!==void 0?F:void 0,J.element.classList.toggle("focus-inside",!!J.focusInsideSeparator);const te=J.separator,{labelHighlights:de,descriptionHighlights:he,detailHighlights:pe}=J;G.icon.style.backgroundImage="",G.icon.className="";let ue;!J.saneTooltip&&J.saneDescription&&(ue={markdown:{value:J.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:J.saneDescription});const ie={matches:de||[],descriptionTitle:ue,descriptionMatches:he||[],labelEscapeNewLines:!0};if(G.entry.classList.add("quick-input-list-separator-as-item"),G.label.setLabel(J.saneLabel,J.saneDescription,ie),J.saneDetail){let ne;J.saneTooltip||(ne={markdown:{value:J.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:J.saneDetail}),G.detail.element.style.display="",G.detail.setLabel(J.saneDetail,void 0,{matches:pe,title:ne,labelEscapeNewLines:!0})}else G.detail.element.style.display="none";G.separator.style.display="none",G.entry.classList.add("quick-input-list-separator-border");const se=te.buttons;se&&se.length?(G.actionBar.push(se.map((ne,W)=>(0,u.quickInputButtonToAction)(ne,`id-${W}`,()=>J.fireSeparatorButtonTriggered({button:ne,separator:J.separator}))),{icon:!0,label:!1}),G.entry.classList.add("has-actions")):G.entry.classList.remove("has-actions"),this.addSeparator(J)}disposeElement(Q,Z,G){var F;this.removeSeparator(Q.element),this.isSeparatorVisible(Q.element)||(F=Q.element.element)===null||F===void 0||F.classList.remove("focus-inside"),super.disposeElement(Q,Z,G)}addSeparator(Q){this._visibleSeparatorsFrequency.set(Q,(this._visibleSeparatorsFrequency.get(Q)||0)+1)}removeSeparator(Q){const Z=this._visibleSeparatorsFrequency.get(Q)||0;Z>1?this._visibleSeparatorsFrequency.set(Q,Z-1):this._visibleSeparatorsFrequency.delete(Q)}}H.ID="quickpickseparator";let K=class extends w.Disposable{constructor(Q,Z,G,F,J,te){super(),this.parent=Q,this.hoverDelegate=Z,this.linkOpenerDelegate=G,this.accessibilityService=te,this._onKeyDown=new k.Emitter,this._onLeave=new k.Emitter,this.onLeave=this._onLeave.event,this._visibleCountObservable=(0,_.observableValue)("VisibleCount",0),this.onChangedVisibleCount=k.Event.fromObservable(this._visibleCountObservable,this._store),this._allVisibleCheckedObservable=(0,_.observableValue)("AllVisibleChecked",!1),this.onChangedAllVisibleChecked=k.Event.fromObservable(this._allVisibleCheckedObservable,this._store),this._checkedCountObservable=(0,_.observableValue)("CheckedCount",0),this.onChangedCheckedCount=k.Event.fromObservable(this._checkedCountObservable,this._store),this._checkedElementsObservable=(0,_.observableValueOpts)({equalsFn:L.equals},new Array),this.onChangedCheckedElements=k.Event.fromObservable(this._checkedElementsObservable,this._store),this._onButtonTriggered=new k.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new k.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new k.Emitter,this._elementCheckedEventBufferer=new k.EventBufferer,this._hasCheckboxes=!1,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new w.DisposableStore),this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=f.append(this.parent,T(".quick-input-list")),this._separatorRenderer=new H(Z),this._itemRenderer=J.createInstance(B,Z),this._tree=this._register(J.createInstance(y.WorkbenchObjectTree,"QuickInput",this._container,new P,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new x,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:p.RenderIndentGuides.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=F,this._registerListeners()}get onDidChangeFocus(){return k.Event.map(this._tree.onDidChangeFocus,Q=>Q.elements.filter(Z=>Z instanceof A).map(Z=>Z.item),this._store)}get onDidChangeSelection(){return k.Event.map(this._tree.onDidChangeSelection,Q=>({items:Q.elements.filter(Z=>Z instanceof A).map(Z=>Z.item),event:Q.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(Q){this._container.style.display=Q?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(Q){this._tree.scrollTop=Q}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(Q){this._tree.ariaLabel=Q??""}set enabled(Q){this._tree.getHTMLElement().style.pointerEvents=Q?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(Q){this._matchOnDescription=Q}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(Q){this._matchOnDetail=Q}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(Q){this._matchOnLabel=Q}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(Q){this._matchOnLabelMode=Q}get sortByLabel(){return this._sortByLabel}set sortByLabel(Q){this._sortByLabel=Q}get shouldLoop(){return this._shouldLoop}set shouldLoop(Q){this._shouldLoop=Q}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(Q=>{const Z=new b.StandardKeyboardEvent(Q);switch(Z.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire(Z)}))}_registerOnContainerClick(){this._register(f.addDisposableListener(this._container,f.EventType.CLICK,Q=>{(Q.x||Q.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(f.addDisposableListener(this._container,f.EventType.AUXCLICK,Q=>{Q.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{const Q=this._itemElements.filter(Z=>!Z.hidden).length;this._visibleCountObservable.set(Q,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(Q,Z)=>Z)(Q=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(Q=>{Q.element&&(Q.browserEvent.preventDefault(),this._tree.setSelection([Q.element]))}))}_registerHoverListeners(){const Q=this._register(new h.ThrottledDelayer(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async Z=>{var G;if(f.isHTMLAnchorElement(Z.browserEvent.target)){Q.cancel();return}if(!(!f.isHTMLAnchorElement(Z.browserEvent.relatedTarget)&&f.isAncestor(Z.browserEvent.relatedTarget,(G=Z.element)===null||G===void 0?void 0:G.element)))try{await Q.trigger(async()=>{Z.element instanceof A&&this.showHover(Z.element)})}catch(F){if(!(0,g.isCancellationError)(F))throw F}})),this._register(this._tree.onMouseOut(Z=>{var G;f.isAncestor(Z.browserEvent.relatedTarget,(G=Z.element)===null||G===void 0?void 0:G.element)||Q.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(Q=>{const Z=Q.elements[0]?this._tree.getParentElement(Q.elements[0]):null;for(const G of this._separatorRenderer.visibleSeparators){const F=G===Z;!!(G.focusInsideSeparator&R.ACTIVE_ITEM)!==F&&(F?G.focusInsideSeparator|=R.ACTIVE_ITEM:G.focusInsideSeparator&=~R.ACTIVE_ITEM,this._tree.rerender(G))}})),this._register(this._tree.onMouseOver(Q=>{const Z=Q.element?this._tree.getParentElement(Q.element):null;for(const G of this._separatorRenderer.visibleSeparators){if(G!==Z)continue;!!(G.focusInsideSeparator&R.MOUSE_HOVER)||(G.focusInsideSeparator|=R.MOUSE_HOVER,this._tree.rerender(G))}})),this._register(this._tree.onMouseOut(Q=>{const Z=Q.element?this._tree.getParentElement(Q.element):null;for(const G of this._separatorRenderer.visibleSeparators){if(G!==Z)continue;!!(G.focusInsideSeparator&R.MOUSE_HOVER)&&(G.focusInsideSeparator&=~R.MOUSE_HOVER,this._tree.rerender(G))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(Q=>{const Z=Q.elements.filter(G=>G instanceof A);Z.length!==Q.elements.length&&(Q.elements.length===1&&Q.elements[0]instanceof M&&(this._tree.setFocus([Q.elements[0].children[0]]),this._tree.reveal(Q.elements[0],0)),this._tree.setSelection(Z))}))}setAllVisibleChecked(Q){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach(Z=>{!Z.hidden&&!Z.checkboxDisabled&&(Z.checked=Q)})})}setElements(Q){this._elementDisposable.clear(),this._inputElements=Q,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes");let Z;this._itemElements=new Array,this._elementTree=Q.reduce((G,F,J)=>{let te;if(F.type==="separator"){if(!F.buttons)return G;Z=new M(J,de=>this._onSeparatorButtonTriggered.fire(de),F),te=Z}else{const de=J>0?Q[J-1]:void 0;let he;de&&de.type==="separator"&&!de.buttons&&(Z=void 0,he=de);const pe=new A(J,this._hasCheckboxes,ue=>this._onButtonTriggered.fire(ue),this._elementChecked,F,he);if(this._itemElements.push(pe),Z)return Z.children.push(pe),G;te=pe}return G.push(te),G},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const G=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),F=G?.parentNode;if(G&&F){const J=G.nextSibling;G.remove(),F.insertBefore(G,J)}},0)}setFocusedElements(Q){const Z=Q.map(G=>this._itemElements.find(F=>F.item===G)).filter(G=>!!G);if(this._tree.setFocus(Z),Q.length>0){const G=this._tree.getFocus()[0];G&&this._tree.reveal(G)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(Q){const Z=Q.map(G=>this._itemElements.find(F=>F.item===G)).filter(G=>!!G);this._tree.setSelection(Z)}getCheckedElements(){return this._itemElements.filter(Q=>Q.checked).map(Q=>Q.item)}setCheckedElements(Q){this._elementCheckedEventBufferer.bufferEvents(()=>{const Z=new Set;for(const G of Q)Z.add(G);for(const G of this._itemElements)G.checked=Z.has(G.item)})}focus(Q){var Z;if(this._itemElements.length)switch(Q===C.QuickPickFocus.Second&&this._itemElements.length<2&&(Q=C.QuickPickFocus.First),Q){case C.QuickPickFocus.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,G=>G.element instanceof A);break;case C.QuickPickFocus.Second:{this._tree.scrollTop=0;let G=!1;this._tree.focusFirst(void 0,F=>F.element instanceof A?G?!0:(G=!G,!1):!1);break}case C.QuickPickFocus.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,G=>G.element instanceof A);break;case C.QuickPickFocus.Next:{const G=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,J=>J.element instanceof A?(this._tree.reveal(J.element),!0):!1);const F=this._tree.getFocus();G.length&&G[0]===F[0]&&G[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case C.QuickPickFocus.Previous:{const G=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,J=>{if(!(J.element instanceof A))return!1;const te=this._tree.getParentElement(J.element);return te===null||te.children[0]!==J.element?this._tree.reveal(J.element):this._tree.reveal(te),!0});const F=this._tree.getFocus();G.length&&G[0]===F[0]&&G[0]===this._itemElements[0]&&this._onLeave.fire();break}case C.QuickPickFocus.NextPage:this._tree.focusNextPage(void 0,G=>G.element instanceof A?(this._tree.reveal(G.element),!0):!1);break;case C.QuickPickFocus.PreviousPage:this._tree.focusPreviousPage(void 0,G=>{if(!(G.element instanceof A))return!1;const F=this._tree.getParentElement(G.element);return F===null||F.children[0]!==G.element?this._tree.reveal(G.element):this._tree.reveal(F),!0});break;case C.QuickPickFocus.NextSeparator:{let G=!1;const F=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,te=>{if(G)return!0;if(te.element instanceof M)G=!0,this._separatorRenderer.isSeparatorVisible(te.element)?this._tree.reveal(te.element.children[0]):this._tree.reveal(te.element,0);else if(te.element instanceof A){if(te.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(te.element)?this._tree.reveal(te.element):this._tree.reveal(te.element,0),!0;if(te.element===this._elementTree[0])return this._tree.reveal(te.element,0),!0}return!1});const J=this._tree.getFocus()[0];F===J&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,te=>te.element instanceof A));break}case C.QuickPickFocus.PreviousSeparator:{let G,F=!!(!((Z=this._tree.getFocus()[0])===null||Z===void 0)&&Z.separator);this._tree.focusPrevious(void 0,!0,void 0,J=>{if(J.element instanceof M)F?G||(this._separatorRenderer.isSeparatorVisible(J.element)?this._tree.reveal(J.element):this._tree.reveal(J.element,0),G=J.element.children[0]):F=!0;else if(J.element instanceof A&&!G){if(J.element.separator)this._itemRenderer.isItemWithSeparatorVisible(J.element)?this._tree.reveal(J.element):this._tree.reveal(J.element,0),G=J.element;else if(J.element===this._elementTree[0])return this._tree.reveal(J.element,0),!0}return!1}),G&&this._tree.setFocus([G]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(Q){this._tree.getHTMLElement().style.maxHeight=Q?`${Math.floor(Q/44)*44+6}px`:"",this._tree.layout()}filter(Q){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const Z=Q;if(Q=Q.trim(),!Q||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(te=>{te.labelHighlights=void 0,te.descriptionHighlights=void 0,te.detailHighlights=void 0,te.hidden=!1;const de=te.index&&this._inputElements[te.index-1];te.item&&(te.separator=de&&de.type==="separator"&&!de.buttons?de:void 0)});else{let te;this._elementTree.forEach(de=>{var he,pe,ue,ie;let se;this.matchOnLabelMode==="fuzzy"?se=this.matchOnLabel&&(he=(0,a.matchesFuzzyIconAware)(Q,(0,a.parseLabelWithIcons)(de.saneLabel)))!==null&&he!==void 0?he:void 0:se=this.matchOnLabel&&(pe=V(Z,(0,a.parseLabelWithIcons)(de.saneLabel)))!==null&&pe!==void 0?pe:void 0;const ne=this.matchOnDescription&&(ue=(0,a.matchesFuzzyIconAware)(Q,(0,a.parseLabelWithIcons)(de.saneDescription||"")))!==null&&ue!==void 0?ue:void 0,W=this.matchOnDetail&&(ie=(0,a.matchesFuzzyIconAware)(Q,(0,a.parseLabelWithIcons)(de.saneDetail||"")))!==null&&ie!==void 0?ie:void 0;if(se||ne||W?(de.labelHighlights=se,de.descriptionHighlights=ne,de.detailHighlights=W,de.hidden=!1):(de.labelHighlights=void 0,de.descriptionHighlights=void 0,de.detailHighlights=void 0,de.hidden=de.item?!de.item.alwaysShow:!0),de.item?de.separator=void 0:de.separator&&(de.hidden=!0),!this.sortByLabel){const q=de.index&&this._inputElements[de.index-1];te=q&&q.type==="separator"?q:te,te&&!de.hidden&&(de.separator=te,te=void 0)}})}const G=this._elementTree.filter(te=>!te.hidden);if(this.sortByLabel&&Q){const te=Q.toLowerCase();G.sort((de,he)=>U(de,he,te))}let F;const J=G.reduce((te,de,he)=>(de instanceof A?F?F.children.push(de):te.push(de):de instanceof M&&(de.children=[],F=de,te.push(de)),te),new Array);return this._setElementsToTree(J),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{const Q=this._tree.getFocus().filter(G=>G instanceof A),Z=this._allVisibleChecked(Q);for(const G of Q)G.checkboxDisabled||(G.checked=!Z)})}style(Q){this._tree.style(Q)}toggleHover(){const Q=this._tree.getFocus()[0];if(!Q?.saneTooltip||!(Q instanceof A))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(Q);const Z=new w.DisposableStore;Z.add(this._tree.onDidChangeFocus(G=>{G.elements[0]instanceof A&&this.showHover(G.elements[0])})),this._lastHover&&Z.add(this._lastHover),this._elementDisposable.add(Z)}_setElementsToTree(Q){const Z=new Array;for(const G of Q)G instanceof M?Z.push({element:G,collapsible:!1,collapsed:!1,children:G.children.map(F=>({element:F,collapsible:!1,collapsed:!1}))}):Z.push({element:G,collapsible:!1,collapsed:!1});this._tree.setChildren(null,Z)}_allVisibleChecked(Q,Z=!0){for(let G=0,F=Q.length;G<F;G++){const J=Q[G];if(!J.hidden)if(J.checked)Z=!0;else return!1}return Z}_updateCheckedObservables(){this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),void 0);const Q=this._itemElements.filter(Z=>Z.checked).length;this._checkedCountObservable.set(Q,void 0),this._checkedElementsObservable.set(this.getCheckedElements(),void 0)}showHover(Q){var Z,G,F;this._lastHover&&!this._lastHover.isDisposed&&((G=(Z=this.hoverDelegate).onDidHideHover)===null||G===void 0||G.call(Z),(F=this._lastHover)===null||F===void 0||F.dispose()),!(!Q.element||!Q.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:Q.saneTooltip,target:Q.element,linkHandler:J=>{this.linkOpenerDelegate(J)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};e.QuickInputTree=K,ke([s.memoize],K.prototype,"onDidChangeFocus",null),ke([s.memoize],K.prototype,"onDidChangeSelection",null),e.QuickInputTree=K=ke([ge(4,I.IInstantiationService),ge(5,S.IAccessibilityService)],K);function V(Y,Q){const{text:Z,iconOffsets:G}=Q;if(!G||G.length===0)return j(Y,Z);const F=(0,d.ltrim)(Z," "),J=Z.length-F.length,te=j(Y,F);if(te)for(const de of te){const he=G[de.start+J]+J;de.start+=he,de.end+=he}return te}function j(Y,Q){const Z=Q.toLowerCase().indexOf(Y.toLowerCase());return Z!==-1?[{start:Z,end:Z+Y.length}]:null}function U(Y,Q,Z){const G=Y.labelHighlights||[],F=Q.labelHighlights||[];return G.length&&!F.length?-1:!G.length&&F.length?1:G.length===0&&F.length===0?0:(0,l.compareAnything)(Y.saneSortLabel,Q.saneSortLabel,Z)}}),define(re[797],ae([1,0,4,87,231,311,478,18,6,2,110,3,63,697,269,118,52,7,796,12,711]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const d=f.$;let p=l=class extends b.Disposable{get currentQuickInput(){var g;return(g=this.controller)!==null&&g!==void 0?g:void 0}get container(){return this._container}constructor(g,C,S,_){super(),this.options=g,this.layoutService=C,this.instantiationService=S,this.contextKeyService=_,this.enabled=!0,this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new w.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new w.Emitter),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=i.InQuickInputContextKey.bindTo(this.contextKeyService),this.quickInputTypeContext=i.QuickInputTypeContextKey.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=i.EndOfQuickInputBoxContextKey.bindTo(this.contextKeyService),this.idPrefix=g.idPrefix,this._container=g.container,this.styles=g.styles,this._register(w.Event.runAndSubscribe(f.onDidRegisterWindow,({window:L,disposables:D})=>this.registerKeyModsListeners(L,D),{window:c.mainWindow,disposables:this._store})),this._register(f.onWillUnregisterWindow(L=>{this.ui&&f.getWindow(this.ui.container)===L&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(g,C){const S=_=>{this.keyMods.ctrlCmd=_.ctrlKey||_.metaKey,this.keyMods.alt=_.altKey};for(const _ of[f.EventType.KEY_DOWN,f.EventType.KEY_UP,f.EventType.MOUSE_DOWN])C.add(f.addDisposableListener(g,_,S,!0))}getUI(g){if(this.ui)return g&&f.getWindow(this._container)!==f.getWindow(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const C=f.append(this._container,d(".quick-input-widget.show-file-icons"));C.tabIndex=-1,C.style.display="none";const S=f.createStyleSheet(C),_=f.append(C,d(".quick-input-titlebar")),L=this._register(new k.ActionBar(_,{hoverDelegate:this.options.hoverDelegate}));L.domNode.classList.add("quick-input-left-action-bar");const D=f.append(_,d(".quick-input-title")),T=this._register(new k.ActionBar(_,{hoverDelegate:this.options.hoverDelegate}));T.domNode.classList.add("quick-input-right-action-bar");const N=f.append(C,d(".quick-input-header")),A=f.append(N,d("input.quick-input-check-all"));A.type="checkbox",A.setAttribute("aria-label",(0,s.localize)(1564,"Toggle all checkboxes")),this._register(f.addStandardDisposableListener(A,f.EventType.CHANGE,he=>{const pe=A.checked;te.setAllVisibleChecked(pe)})),this._register(f.addDisposableListener(A,f.EventType.CLICK,he=>{(he.x||he.y)&&x.setFocus()}));const R=f.append(N,d(".quick-input-description")),M=f.append(N,d(".quick-input-and-message")),P=f.append(M,d(".quick-input-filter")),x=this._register(new t.QuickInputBox(P,this.styles.inputBox,this.styles.toggle));x.setAttribute("aria-describedby",`${this.idPrefix}message`);const O=f.append(P,d(".quick-input-visible-count"));O.setAttribute("aria-live","polite"),O.setAttribute("aria-atomic","true");const B=new I.CountBadge(O,{countFormat:(0,s.localize)(1565,"{0} Results")},this.styles.countBadge),H=f.append(P,d(".quick-input-count"));H.setAttribute("aria-live","polite");const K=new I.CountBadge(H,{countFormat:(0,s.localize)(1566,"{0} Selected")},this.styles.countBadge),V=f.append(N,d(".quick-input-action")),j=this._register(new E.Button(V,this.styles.button));j.label=(0,s.localize)(1567,"OK"),this._register(j.onDidClick(he=>{this.onDidAcceptEmitter.fire()}));const U=f.append(N,d(".quick-input-action")),Y=this._register(new E.Button(U,{...this.styles.button,supportIcons:!0}));Y.label=(0,s.localize)(1568,"Custom"),this._register(Y.onDidClick(he=>{this.onDidCustomEmitter.fire()}));const Q=f.append(M,d(`#${this.idPrefix}message.quick-input-message`)),Z=this._register(new y.ProgressBar(C,this.styles.progressBar));Z.getContainer().classList.add("quick-input-progress");const G=f.append(C,d(".quick-input-html-widget"));G.tabIndex=-1;const F=f.append(C,d(".quick-input-description")),J=this.idPrefix+"list",te=this._register(this.instantiationService.createInstance(r.QuickInputTree,C,this.options.hoverDelegate,this.options.linkOpenerDelegate,J));x.setAttribute("aria-controls",J),this._register(te.onDidChangeFocus(()=>{var he;x.setAttribute("aria-activedescendant",(he=te.getActiveDescendant())!==null&&he!==void 0?he:"")})),this._register(te.onChangedAllVisibleChecked(he=>{A.checked=he})),this._register(te.onChangedVisibleCount(he=>{B.setCount(he)})),this._register(te.onChangedCheckedCount(he=>{K.setCount(he)})),this._register(te.onLeave(()=>{setTimeout(()=>{this.controller&&(x.setFocus(),this.controller instanceof i.QuickPick&&this.controller.canSelectMany&&te.clearFocus())},0)}));const de=f.trackFocus(C);return this._register(de),this._register(f.addDisposableListener(C,f.EventType.FOCUS,he=>{const pe=this.getUI();if(f.isAncestor(he.relatedTarget,pe.inputContainer)){const ue=pe.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==ue&&this.endOfQuickInputBoxContext.set(ue)}f.isAncestor(he.relatedTarget,pe.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=f.isHTMLElement(he.relatedTarget)?he.relatedTarget:void 0)},!0)),this._register(de.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(o.QuickInputHideReason.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(x.onKeyDown(he=>{const pe=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==pe&&this.endOfQuickInputBoxContext.set(pe)})),this._register(f.addDisposableListener(C,f.EventType.FOCUS,he=>{x.setFocus()})),this._register(f.addStandardDisposableListener(C,f.EventType.KEY_DOWN,he=>{if(!f.isAncestor(he.target,G))switch(he.keyCode){case 3:f.EventHelper.stop(he,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:f.EventHelper.stop(he,!0),this.hide(o.QuickInputHideReason.Gesture);break;case 2:if(!he.altKey&&!he.ctrlKey&&!he.metaKey){const pe=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(C.classList.contains("show-checkboxes")?pe.push("input"):pe.push("input[type=text]"),this.getUI().list.displayed&&pe.push(".monaco-list"),this.getUI().message&&pe.push(".quick-input-message a"),this.getUI().widget){if(f.isAncestor(he.target,this.getUI().widget))break;pe.push(".quick-input-html-widget")}const ue=C.querySelectorAll(pe.join(", "));he.shiftKey&&he.target===ue[0]?(f.EventHelper.stop(he,!0),te.clearFocus()):!he.shiftKey&&f.isAncestor(he.target,ue[ue.length-1])&&(f.EventHelper.stop(he,!0),ue[0].focus())}break;case 10:he.ctrlKey&&(f.EventHelper.stop(he,!0),this.getUI().list.toggleHover());break}})),this.ui={container:C,styleSheet:S,leftActionBar:L,titleBar:_,title:D,description1:F,description2:R,widget:G,rightActionBar:T,checkAll:A,inputContainer:M,filterContainer:P,inputBox:x,visibleCountContainer:O,visibleCount:B,countContainer:H,count:K,okContainer:V,ok:j,message:Q,customButtonContainer:U,customButton:Y,list:te,progressBar:Z,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:he=>this.show(he),hide:()=>this.hide(),setVisibilities:he=>this.setVisibilities(he),setEnabled:he=>this.setEnabled(he),setContextKey:he=>this.options.setContextKey(he),linkOpenerDelegate:he=>this.options.linkOpenerDelegate(he)},this.updateStyles(),this.ui}reparentUI(g){this.ui&&(this._container=g,f.append(this._container,this.ui.container))}pick(g,C={},S=m.CancellationToken.None){return new Promise((_,L)=>{let D=R=>{var M;D=_,(M=C.onKeyMods)===null||M===void 0||M.call(C,T.keyMods),_(R)};if(S.isCancellationRequested){D(void 0);return}const T=this.createQuickPick();let N;const A=[T,T.onDidAccept(()=>{if(T.canSelectMany)D(T.selectedItems.slice()),T.hide();else{const R=T.activeItems[0];R&&(D(R),T.hide())}}),T.onDidChangeActive(R=>{const M=R[0];M&&C.onDidFocus&&C.onDidFocus(M)}),T.onDidChangeSelection(R=>{if(!T.canSelectMany){const M=R[0];M&&(D(M),T.hide())}}),T.onDidTriggerItemButton(R=>C.onDidTriggerItemButton&&C.onDidTriggerItemButton({...R,removeItem:()=>{const M=T.items.indexOf(R.item);if(M!==-1){const P=T.items.slice(),x=P.splice(M,1),O=T.activeItems.filter(H=>H!==x[0]),B=T.keepScrollPosition;T.keepScrollPosition=!0,T.items=P,O&&(T.activeItems=O),T.keepScrollPosition=B}}})),T.onDidTriggerSeparatorButton(R=>{var M;return(M=C.onDidTriggerSeparatorButton)===null||M===void 0?void 0:M.call(C,R)}),T.onDidChangeValue(R=>{N&&!R&&(T.activeItems.length!==1||T.activeItems[0]!==N)&&(T.activeItems=[N])}),S.onCancellationRequested(()=>{T.hide()}),T.onDidHide(()=>{(0,b.dispose)(A),D(void 0)})];T.title=C.title,T.canSelectMany=!!C.canPickMany,T.placeholder=C.placeHolder,T.ignoreFocusOut=!!C.ignoreFocusLost,T.matchOnDescription=!!C.matchOnDescription,T.matchOnDetail=!!C.matchOnDetail,T.matchOnLabel=C.matchOnLabel===void 0||C.matchOnLabel,T.quickNavigate=C.quickNavigate,T.hideInput=!!C.hideInput,T.contextKey=C.contextKey,T.busy=!0,Promise.all([g,C.activeItem]).then(([R,M])=>{N=M,T.busy=!1,T.items=R,T.canSelectMany&&(T.selectedItems=R.filter(P=>P.type!=="separator"&&P.picked)),N&&(T.activeItems=[N])}),T.show(),Promise.resolve(g).then(void 0,R=>{L(R),T.hide()})})}createQuickPick(){const g=this.getUI(!0);return new i.QuickPick(g)}createInputBox(){const g=this.getUI(!0);return new i.InputBox(g)}show(g){const C=this.getUI(!0);this.onShowEmitter.fire();const S=this.controller;this.controller=g,S?.didHide(),this.setEnabled(!0),C.leftActionBar.clear(),C.title.textContent="",C.description1.textContent="",C.description2.textContent="",f.reset(C.widget),C.rightActionBar.clear(),C.checkAll.checked=!1,C.inputBox.placeholder="",C.inputBox.password=!1,C.inputBox.showDecoration(v.default.Ignore),C.visibleCount.setCount(0),C.count.setCount(0),f.reset(C.message),C.progressBar.stop(),C.list.matchOnDescription=!1,C.list.matchOnDetail=!1,C.list.matchOnLabel=!0,C.list.sortByLabel=!0,C.ignoreFocusOut=!1,C.inputBox.toggles=void 0;const _=this.options.backKeybindingLabel();i.backButton.tooltip=_?(0,s.localize)(1569,"Back ({0})",_):(0,s.localize)(1570,"Back"),C.container.style.display="",this.updateLayout(),C.inputBox.setFocus(),this.quickInputTypeContext.set(g.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(g){const C=this.getUI();C.title.style.display=g.title?"":"none",C.description1.style.display=g.description&&(g.inputBox||g.checkAll)?"":"none",C.description2.style.display=g.description&&!(g.inputBox||g.checkAll)?"":"none",C.checkAll.style.display=g.checkAll?"":"none",C.inputContainer.style.display=g.inputBox?"":"none",C.filterContainer.style.display=g.inputBox?"":"none",C.visibleCountContainer.style.display=g.visibleCount?"":"none",C.countContainer.style.display=g.count?"":"none",C.okContainer.style.display=g.ok?"":"none",C.customButtonContainer.style.display=g.customButton?"":"none",C.message.style.display=g.message?"":"none",C.progressBar.getContainer().style.display=g.progressBar?"":"none",C.list.displayed=!!g.list,C.container.classList.toggle("show-checkboxes",!!g.checkBox),C.container.classList.toggle("hidden-input",!g.inputBox&&!g.description),this.updateLayout()}setEnabled(g){if(g!==this.enabled){this.enabled=g;for(const C of this.getUI().leftActionBar.viewItems)C.action.enabled=g;for(const C of this.getUI().rightActionBar.viewItems)C.action.enabled=g;this.getUI().checkAll.disabled=!g,this.getUI().inputBox.enabled=g,this.getUI().ok.enabled=g,this.getUI().list.enabled=g}}hide(g){var C,S;const _=this.controller;if(!_)return;_.willHide(g);const L=(C=this.ui)===null||C===void 0?void 0:C.container,D=L&&!f.isAncestorOfActiveElement(L);if(this.controller=null,this.onHideEmitter.fire(),L&&(L.style.display="none"),!D){let T=this.previousFocusElement;for(;T&&!T.offsetParent;)T=(S=T.parentElement)!==null&&S!==void 0?S:void 0;T?.offsetParent?(T.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}_.didHide(g)}layout(g,C){this.dimension=g,this.titleBarOffset=C,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const g=this.ui.container.style,C=Math.min(this.dimension.width*.62,l.MAX_WIDTH);g.width=C+"px",g.marginLeft="-"+C/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(g){this.styles=g,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:g,quickInputBackground:C,quickInputForeground:S,widgetBorder:_,widgetShadow:L}=this.styles.widget;this.ui.titleBar.style.backgroundColor=g??"",this.ui.container.style.backgroundColor=C??"",this.ui.container.style.color=S??"",this.ui.container.style.border=_?`1px solid ${_}`:"",this.ui.container.style.boxShadow=L?`0 0 8px 2px ${L}`:"",this.ui.list.style(this.styles.list);const D=[];this.styles.pickerGroup.pickerGroupBorder&&D.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&D.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&D.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(D.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&D.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&D.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&D.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&D.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&D.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),D.push("}"));const T=D.join(`
`);T!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=T)}}};e.QuickInputController=p,p.MAX_WIDTH=600,e.QuickInputController=p=l=ke([ge(1,n.ILayoutService),ge(2,u.IInstantiationService),ge(3,a.IContextKeyService)],p)}),define(re[798],ae([1,0,18,6,12,7,118,62,714,109,32,25,269,797,28,4]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let c=class extends s.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(w.QuickAccessController))),this._quickAccess}constructor(r,a,l,d,p){super(l),this.instantiationService=r,this.contextKeyService=a,this.layoutService=d,this.configurationService=p,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(r=this.layoutService,a){const l={idPrefix:"quickInput_",container:r.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:p=>this.setContextKey(p),linkOpenerDelegate:p=>{this.instantiationService.invokeFunction(h=>{h.get(m.IOpenerService).open(p,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>r.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(o.QuickInputHoverDelegate))},d=this._register(this.instantiationService.createInstance(t.QuickInputController,{...l,...a}));return d.layout(r.activeContainerDimension,r.activeContainerOffset.quickPickTop),this._register(r.onDidLayoutActiveContainer(p=>{(0,n.getWindow)(r.activeContainer)===(0,n.getWindow)(d.container)&&d.layout(p,r.activeContainerOffset.quickPickTop)})),this._register(r.onDidChangeActiveContainer(()=>{d.isVisible()||d.layout(r.activeContainerDimension,r.activeContainerOffset.quickPickTop)})),this._register(d.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(d.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),d}setContextKey(r){let a;r&&(a=this.contexts.get(r),a||(a=new E.RawContextKey(r,!1).bindTo(this.contextKeyService),this.contexts.set(r,a))),!(a&&a.get())&&(this.resetContextKeys(),a?.set(!0))}resetContextKeys(){this.contexts.forEach(r=>{r.get()&&r.reset()})}pick(r,a={},l=f.CancellationToken.None){return this.controller.pick(r,a,l)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,v.asCssVariable)(v.quickInputBackground),quickInputForeground:(0,v.asCssVariable)(v.quickInputForeground),quickInputTitleBackground:(0,v.asCssVariable)(v.quickInputTitleBackground),widgetBorder:(0,v.asCssVariable)(v.widgetBorder),widgetShadow:(0,v.asCssVariable)(v.widgetShadow)},inputBox:b.defaultInputBoxStyles,toggle:b.defaultToggleStyles,countBadge:b.defaultCountBadgeStyles,button:b.defaultButtonStyles,progressBar:b.defaultProgressBarStyles,keybindingLabel:b.defaultKeybindingLabelStyles,list:(0,b.getListStyles)({listBackground:v.quickInputBackground,listFocusBackground:v.quickInputListFocusBackground,listFocusForeground:v.quickInputListFocusForeground,listInactiveFocusForeground:v.quickInputListFocusForeground,listInactiveSelectionIconForeground:v.quickInputListFocusIconForeground,listInactiveFocusBackground:v.quickInputListFocusBackground,listFocusOutline:v.activeContrastBorder,listInactiveFocusOutline:v.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,v.asCssVariable)(v.pickerGroupBorder),pickerGroupForeground:(0,v.asCssVariable)(v.pickerGroupForeground)}}}};e.QuickInputService=c,e.QuickInputService=c=ke([ge(0,I.IInstantiationService),ge(1,E.IContextKeyService),ge(2,s.IThemeService),ge(3,y.ILayoutService),ge(4,i.IConfigurationService)],c)}),define(re[799],ae([1,0,6,15,25,18,7,12,389,35,798,125,28,550]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let t=class extends v.QuickInputService{constructor(r,a,l,d,p,h){super(a,l,d,new w.EditorScopedLayoutService(r.getContainerDomNode(),p),h),this.host=void 0;const g=n.get(r);if(g){const C=g.widget;this.host={_serviceBrand:void 0,get mainContainer(){return C.getDomNode()},getContainer(){return C.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[C.getDomNode()]},get activeContainer(){return C.getDomNode()},get mainContainerDimension(){return r.getLayoutInfo()},get activeContainerDimension(){return r.getLayoutInfo()},get onDidLayoutMainContainer(){return r.onDidLayoutChange},get onDidLayoutActiveContainer(){return r.onDidLayoutChange},get onDidLayoutContainer(){return f.Event.map(r.onDidLayoutChange,S=>({container:C.getDomNode(),dimension:S}))},get onDidChangeActiveContainer(){return f.Event.None},get onDidAddContainer(){return f.Event.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>r.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};t=ke([ge(1,y.IInstantiationService),ge(2,m.IContextKeyService),ge(3,E.IThemeService),ge(4,b.ICodeEditorService),ge(5,o.IConfigurationService)],t);let i=class{get activeService(){const r=this.codeEditorService.getFocusedCodeEditor();if(!r)throw new Error("Quick input service needs a focused editor to work.");let a=this.mapEditorToService.get(r);if(!a){const l=a=this.instantiationService.createInstance(t,r);this.mapEditorToService.set(r,a),(0,s.createSingleCallFunction)(r.onDidDispose)(()=>{l.dispose(),this.mapEditorToService.delete(r)})}return a}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}constructor(r,a){this.instantiationService=r,this.codeEditorService=a,this.mapEditorToService=new Map}pick(r,a={},l=I.CancellationToken.None){return this.activeService.pick(r,a,l)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=i,e.StandaloneQuickInputService=i=ke([ge(0,y.IInstantiationService),ge(1,b.ICodeEditorService)],i);class n{static get(r){return r.getContribution(n.ID)}constructor(r){this.editor=r,this.widget=new c(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=n,n.ID="editor.controller.quickInput";class c{constructor(r){this.codeEditor=r,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return c.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=c,c.ID="editor.contrib.quickInputWidget",(0,k.registerEditorContribution)(n.ID,n,4)}),define(re[216],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,f.createDecorator)("undoRedoService");class k{constructor(m,w){this.resource=m,this.elements=w}}e.ResourceEditStackSnapshot=k;class E{constructor(){this.id=E._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=E,E._ID=0,E.None=new E;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=I,I._ID=0,I.None=new I}),define(re[36],ae([1,0,13,33,8,6,2,11,22,142,240,56,9,5,23,196,42,34,41,601,775,372,344,591,592,340,595,202,661,129,216]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=void 0,e.createTextBufferFactory=A,e.createTextBufferFactoryFromSnapshot=R,e.createTextBuffer=M;function A(q){const z=new S.PieceTreeTextBufferBuilder;return z.acceptChunk(q),z.finish()}function R(q){const z=new S.PieceTreeTextBufferBuilder;let $;for(;typeof($=q.read())=="string";)z.acceptChunk($);return z.finish()}function M(q,z){let $;return typeof q=="string"?$=A(q):r.isITextSnapshot(q)?$=R(q):$=q,$.create(z)}let P=0;const x=999,O=1e4;class B{constructor(z){this._source=z,this._eos=!1}read(){if(this._eos)return null;const z=[];let $=0,X=0;do{const ee=this._source.read();if(ee===null)return this._eos=!0,$===0?null:z.join("");if(ee.length>0&&(z[$++]=ee,X+=ee.length),X>=64*1024)return z.join("")}while(!0)}}const H=()=>{throw new Error("Invalid change accessor")};let K=N=class extends y.Disposable{static resolveOptions(z,$){if($.detectIndentation){const X=(0,h.guessIndentation)(z,$.tabSize,$.insertSpaces);return new r.TextModelResolvedOptions({tabSize:X.tabSize,indentSize:"tabSize",insertSpaces:X.insertSpaces,trimAutoWhitespace:$.trimAutoWhitespace,defaultEOL:$.defaultEOL,bracketPairColorizationOptions:$.bracketPairColorizationOptions})}return new r.TextModelResolvedOptions($)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(z){return this._eventEmitter.slowEvent($=>z($.contentChangedEvent))}onDidChangeContentOrInjectedText(z){return(0,y.combinedDisposable)(this._eventEmitter.fastEvent($=>z($)),this._onDidChangeInjectedText.event($=>z($)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(z,$,X,ee=null,oe,ce,fe){super(),this._undoRedoService=oe,this._languageService=ce,this._languageConfigurationService=fe,this._onWillDispose=this._register(new I.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ie(Le=>this.handleBeforeFireDecorationsChangedEvent(Le))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new I.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new I.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new I.Emitter),this._eventEmitter=this._register(new se),this._languageSelectionListener=this._register(new y.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new ne,P++,this.id="$model"+P,this.isForSimpleWidget=X.isForSimpleWidget,typeof ee>"u"||ee===null?this._associatedResource=w.URI.parse("inmemory://model/"+P):this._associatedResource=ee,this._attachedEditorCount=0;const{textBuffer:ve,disposable:_e}=M(z,X.defaultEOL);this._buffer=ve,this._bufferDisposable=_e,this._options=N.resolveOptions(this._buffer,X);const Ie=typeof $=="string"?$:$.languageId;typeof $!="string"&&(this._languageSelectionListener.value=$.onDidChange(()=>this._setLanguage($.languageId))),this._bracketPairs=this._register(new a.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new p.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new l.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new L.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Ie,this._attachedViews);const Ce=this._buffer.getLineCount(),Ee=this._buffer.getValueLengthInRange(new t.Range(1,1,Ce,this._buffer.getLineLength(Ce)+1),0);X.largeFileOptimizations?(this._isTooLargeForTokenization=Ee>N.LARGE_FILE_SIZE_THRESHOLD||Ce>N.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Ee>N.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Ee>N._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=m.singleLetterHash(P),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager=new d.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Ie),this._register(this._languageConfigurationService.onDidChange(Le=>{this._bracketPairs.handleLanguageConfigurationServiceChange(Le),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(Le)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const z=new C.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);z.dispose(),this._buffer=z,this._bufferDisposable=y.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new E.BugIndicatingError("Model is disposed!")}_emitContentChangedEvent(z,$){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent($),this._bracketPairs.handleDidChangeContent($),this._eventEmitter.fire(new D.InternalModelContentChangeEvent(z,$)))}setValue(z){if(this._assertNotDisposed(),z==null)throw(0,E.illegalArgument)();const{textBuffer:$,disposable:X}=M(z,this._options.defaultEOL);this._setValueFromTextBuffer($,X)}_createContentChanged2(z,$,X,ee,oe,ce,fe,ve){return{changes:[{range:z,rangeOffset:$,rangeLength:X,text:ee}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:oe,isRedoing:ce,isFlush:fe}}_setValueFromTextBuffer(z,$){this._assertNotDisposed();const X=this.getFullModelRange(),ee=this.getValueLengthInRange(X),oe=this.getLineCount(),ce=this.getLineMaxColumn(oe);this._buffer=z,this._bufferDisposable.dispose(),this._bufferDisposable=$,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new D.ModelRawContentChangedEvent([new D.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,oe,ce),0,ee,this.getValue(),!1,!1,!0,!1))}setEOL(z){this._assertNotDisposed();const $=z===1?`\r
`:`
`;if(this._buffer.getEOL()===$)return;const X=this.getFullModelRange(),ee=this.getValueLengthInRange(X),oe=this.getLineCount(),ce=this.getLineMaxColumn(oe);this._onBeforeEOLChange(),this._buffer.setEOL($),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new D.ModelRawContentChangedEvent([new D.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,oe,ce),0,ee,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const z=this.getVersionId(),$=this._decorationsTree.collectNodesPostOrder();for(let X=0,ee=$.length;X<ee;X++){const oe=$[X],ce=oe.range,fe=oe.cachedAbsoluteStart-oe.start,ve=this._buffer.getOffsetAt(ce.startLineNumber,ce.startColumn),_e=this._buffer.getOffsetAt(ce.endLineNumber,ce.endColumn);oe.cachedAbsoluteStart=ve,oe.cachedAbsoluteEnd=_e,oe.cachedVersionId=z,oe.start=ve-fe,oe.end=_e-fe,(0,g.recomputeMaxEnd)(oe)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(z){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(z)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let z=0,$=0;const X=this._buffer.getLineCount();for(let ee=1;ee<=X;ee++){const oe=this._buffer.getLineLength(ee);oe>=O?$+=oe:z+=oe}return $>z}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(z){this._assertNotDisposed();const $=typeof z.tabSize<"u"?z.tabSize:this._options.tabSize,X=typeof z.indentSize<"u"?z.indentSize:this._options.originalIndentSize,ee=typeof z.insertSpaces<"u"?z.insertSpaces:this._options.insertSpaces,oe=typeof z.trimAutoWhitespace<"u"?z.trimAutoWhitespace:this._options.trimAutoWhitespace,ce=typeof z.bracketColorizationOptions<"u"?z.bracketColorizationOptions:this._options.bracketPairColorizationOptions,fe=new r.TextModelResolvedOptions({tabSize:$,indentSize:X,insertSpaces:ee,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:oe,bracketPairColorizationOptions:ce});if(this._options.equals(fe))return;const ve=this._options.createChangeEvent(fe);this._options=fe,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(z,$){this._assertNotDisposed();const X=(0,h.guessIndentation)(this._buffer,$,z);this.updateOptions({insertSpaces:X.insertSpaces,tabSize:X.tabSize,indentSize:X.tabSize})}normalizeIndentation(z){return this._assertNotDisposed(),(0,v.normalizeIndentation)(z,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(z=null){const $=this.findMatches(m.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(z,$.map(X=>({range:X.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(z){this._assertNotDisposed();const $=this._validatePosition(z.lineNumber,z.column,0);return this._buffer.getOffsetAt($.lineNumber,$.column)}getPositionAt(z){this._assertNotDisposed();const $=Math.min(this._buffer.getLength(),Math.max(0,z));return this._buffer.getPositionAt($)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(z){this._versionId=z}_overwriteAlternativeVersionId(z){this._alternativeVersionId=z}_overwriteInitialUndoRedoSnapshot(z){this._initialUndoRedoSnapshot=z}getValue(z,$=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.BugIndicatingError("Operation would exceed heap memory limits");const X=this.getFullModelRange(),ee=this.getValueInRange(X,z);return $?this._buffer.getBOM()+ee:ee}createSnapshot(z=!1){return new B(this._buffer.createSnapshot(z))}getValueLength(z,$=!1){this._assertNotDisposed();const X=this.getFullModelRange(),ee=this.getValueLengthInRange(X,z);return $?this._buffer.getBOM().length+ee:ee}getValueInRange(z,$=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(z),$)}getValueLengthInRange(z,$=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(z),$)}getCharacterCountInRange(z,$=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(z),$)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(z)}getLineLength(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(z)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.BugIndicatingError("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(z){return this._assertNotDisposed(),1}getLineMaxColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(z)+1}getLineFirstNonWhitespaceColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(z)}getLineLastNonWhitespaceColumn(z){if(this._assertNotDisposed(),z<1||z>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(z)}_validateRangeRelaxedNoAllocations(z){const $=this._buffer.getLineCount(),X=z.startLineNumber,ee=z.startColumn;let oe=Math.floor(typeof X=="number"&&!isNaN(X)?X:1),ce=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1);if(oe<1)oe=1,ce=1;else if(oe>$)oe=$,ce=this.getLineMaxColumn(oe);else if(ce<=1)ce=1;else{const Ce=this.getLineMaxColumn(oe);ce>=Ce&&(ce=Ce)}const fe=z.endLineNumber,ve=z.endColumn;let _e=Math.floor(typeof fe=="number"&&!isNaN(fe)?fe:1),Ie=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(_e<1)_e=1,Ie=1;else if(_e>$)_e=$,Ie=this.getLineMaxColumn(_e);else if(Ie<=1)Ie=1;else{const Ce=this.getLineMaxColumn(_e);Ie>=Ce&&(Ie=Ce)}return X===oe&&ee===ce&&fe===_e&&ve===Ie&&z instanceof t.Range&&!(z instanceof i.Selection)?z:new t.Range(oe,ce,_e,Ie)}_isValidPosition(z,$,X){if(typeof z!="number"||typeof $!="number"||isNaN(z)||isNaN($)||z<1||$<1||(z|0)!==z||($|0)!==$)return!1;const ee=this._buffer.getLineCount();if(z>ee)return!1;if($===1)return!0;const oe=this.getLineMaxColumn(z);if($>oe)return!1;if(X===1){const ce=this._buffer.getLineCharCode(z,$-2);if(m.isHighSurrogate(ce))return!1}return!0}_validatePosition(z,$,X){const ee=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),oe=Math.floor(typeof $=="number"&&!isNaN($)?$:1),ce=this._buffer.getLineCount();if(ee<1)return new o.Position(1,1);if(ee>ce)return new o.Position(ce,this.getLineMaxColumn(ce));if(oe<=1)return new o.Position(ee,1);const fe=this.getLineMaxColumn(ee);if(oe>=fe)return new o.Position(ee,fe);if(X===1){const ve=this._buffer.getLineCharCode(ee,oe-2);if(m.isHighSurrogate(ve))return new o.Position(ee,oe-1)}return new o.Position(ee,oe)}validatePosition(z){return this._assertNotDisposed(),z instanceof o.Position&&this._isValidPosition(z.lineNumber,z.column,1)?z:this._validatePosition(z.lineNumber,z.column,1)}_isValidRange(z,$){const X=z.startLineNumber,ee=z.startColumn,oe=z.endLineNumber,ce=z.endColumn;if(!this._isValidPosition(X,ee,0)||!this._isValidPosition(oe,ce,0))return!1;if($===1){const fe=ee>1?this._buffer.getLineCharCode(X,ee-2):0,ve=ce>1&&ce<=this._buffer.getLineLength(oe)?this._buffer.getLineCharCode(oe,ce-2):0,_e=m.isHighSurrogate(fe),Ie=m.isHighSurrogate(ve);return!_e&&!Ie}return!0}validateRange(z){if(this._assertNotDisposed(),z instanceof t.Range&&!(z instanceof i.Selection)&&this._isValidRange(z,1))return z;const X=this._validatePosition(z.startLineNumber,z.startColumn,0),ee=this._validatePosition(z.endLineNumber,z.endColumn,0),oe=X.lineNumber,ce=X.column,fe=ee.lineNumber,ve=ee.column;{const _e=ce>1?this._buffer.getLineCharCode(oe,ce-2):0,Ie=ve>1&&ve<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,ve-2):0,Ce=m.isHighSurrogate(_e),Ee=m.isHighSurrogate(Ie);return!Ce&&!Ee?new t.Range(oe,ce,fe,ve):oe===fe&&ce===ve?new t.Range(oe,ce-1,fe,ve-1):Ce&&Ee?new t.Range(oe,ce-1,fe,ve+1):Ce?new t.Range(oe,ce-1,fe,ve):new t.Range(oe,ce,fe,ve+1)}return new t.Range(oe,ce,fe,ve)}modifyPosition(z,$){this._assertNotDisposed();const X=this.getOffsetAt(z)+$;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,X)))}getFullModelRange(){this._assertNotDisposed();const z=this.getLineCount();return new t.Range(1,1,z,this.getLineMaxColumn(z))}findMatchesLineByLine(z,$,X,ee){return this._buffer.findMatchesLineByLine(z,$,X,ee)}findMatches(z,$,X,ee,oe,ce,fe=x){this._assertNotDisposed();let ve=null;$!==null&&(Array.isArray($)||($=[$]),$.every(Ce=>t.Range.isIRange(Ce))&&(ve=$.map(Ce=>this.validateRange(Ce)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((Ce,Ee)=>Ce.startLineNumber-Ee.startLineNumber||Ce.startColumn-Ee.startColumn);const _e=[];_e.push(ve.reduce((Ce,Ee)=>t.Range.areIntersecting(Ce,Ee)?Ce.plusRange(Ee):(_e.push(Ce),Ee)));let Ie;if(!X&&z.indexOf(`
`)<0){const Ee=new _.SearchParams(z,X,ee,oe).parseSearchRequest();if(!Ee)return[];Ie=Le=>this.findMatchesLineByLine(Le,Ee,ce,fe)}else Ie=Ce=>_.TextModelSearch.findMatches(this,new _.SearchParams(z,X,ee,oe),Ce,ce,fe);return _e.map(Ie).reduce((Ce,Ee)=>Ce.concat(Ee),[])}findNextMatch(z,$,X,ee,oe,ce){this._assertNotDisposed();const fe=this.validatePosition($);if(!X&&z.indexOf(`
`)<0){const _e=new _.SearchParams(z,X,ee,oe).parseSearchRequest();if(!_e)return null;const Ie=this.getLineCount();let Ce=new t.Range(fe.lineNumber,fe.column,Ie,this.getLineMaxColumn(Ie)),Ee=this.findMatchesLineByLine(Ce,_e,ce,1);return _.TextModelSearch.findNextMatch(this,new _.SearchParams(z,X,ee,oe),fe,ce),Ee.length>0||(Ce=new t.Range(1,1,fe.lineNumber,this.getLineMaxColumn(fe.lineNumber)),Ee=this.findMatchesLineByLine(Ce,_e,ce,1),Ee.length>0)?Ee[0]:null}return _.TextModelSearch.findNextMatch(this,new _.SearchParams(z,X,ee,oe),fe,ce)}findPreviousMatch(z,$,X,ee,oe,ce){this._assertNotDisposed();const fe=this.validatePosition($);return _.TextModelSearch.findPreviousMatch(this,new _.SearchParams(z,X,ee,oe),fe,ce)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(z){if((this.getEOL()===`
`?0:1)!==z)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(z){return z instanceof r.ValidAnnotatedEditOperation?z:new r.ValidAnnotatedEditOperation(z.identifier||null,this.validateRange(z.range),z.text,z.forceMoveMarkers||!1,z.isAutoWhitespaceEdit||!1,z._isTracked||!1)}_validateEditOperations(z){const $=[];for(let X=0,ee=z.length;X<ee;X++)$[X]=this._validateEditOperation(z[X]);return $}pushEditOperations(z,$,X,ee){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(z,this._validateEditOperations($),X,ee)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(z,$,X,ee){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const oe=$.map(fe=>({range:this.validateRange(fe.range),text:fe.text}));let ce=!0;if(z)for(let fe=0,ve=z.length;fe<ve;fe++){const _e=z[fe];let Ie=!1;for(let Ce=0,Ee=oe.length;Ce<Ee;Ce++){const Le=oe[Ce].range,Te=Le.startLineNumber>_e.endLineNumber,Ae=_e.startLineNumber>Le.endLineNumber;if(!Te&&!Ae){Ie=!0;break}}if(!Ie){ce=!1;break}}if(ce)for(let fe=0,ve=this._trimAutoWhitespaceLines.length;fe<ve;fe++){const _e=this._trimAutoWhitespaceLines[fe],Ie=this.getLineMaxColumn(_e);let Ce=!0;for(let Ee=0,Le=oe.length;Ee<Le;Ee++){const Te=oe[Ee].range,Ae=oe[Ee].text;if(!(_e<Te.startLineNumber||_e>Te.endLineNumber)&&!(_e===Te.startLineNumber&&Te.startColumn===Ie&&Te.isEmpty()&&Ae&&Ae.length>0&&Ae.charAt(0)===`
`)&&!(_e===Te.startLineNumber&&Te.startColumn===1&&Te.isEmpty()&&Ae&&Ae.length>0&&Ae.charAt(Ae.length-1)===`
`)){Ce=!1;break}}if(Ce){const Ee=new t.Range(_e,1,_e,Ie);$.push(new r.ValidAnnotatedEditOperation(null,Ee,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(z,$,X,ee)}_applyUndo(z,$,X,ee){const oe=z.map(ce=>{const fe=this.getPositionAt(ce.newPosition),ve=this.getPositionAt(ce.newEnd);return{range:new t.Range(fe.lineNumber,fe.column,ve.lineNumber,ve.column),text:ce.oldText}});this._applyUndoRedoEdits(oe,$,!0,!1,X,ee)}_applyRedo(z,$,X,ee){const oe=z.map(ce=>{const fe=this.getPositionAt(ce.oldPosition),ve=this.getPositionAt(ce.oldEnd);return{range:new t.Range(fe.lineNumber,fe.column,ve.lineNumber,ve.column),text:ce.newText}});this._applyUndoRedoEdits(oe,$,!1,!0,X,ee)}_applyUndoRedoEdits(z,$,X,ee,oe,ce){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=X,this._isRedoing=ee,this.applyEdits(z,!1),this.setEOL($),this._overwriteAlternativeVersionId(oe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ce),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(z,$=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const X=this._validateEditOperations(z);return this._doApplyEdits(X,$)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(z,$){const X=this._buffer.getLineCount(),ee=this._buffer.applyEdits(z,this._options.trimAutoWhitespace,$),oe=this._buffer.getLineCount(),ce=ee.changes;if(this._trimAutoWhitespaceLines=ee.trimAutoWhitespaceLineNumbers,ce.length!==0){for(let _e=0,Ie=ce.length;_e<Ie;_e++){const Ce=ce[_e];this._decorationsTree.acceptReplace(Ce.rangeOffset,Ce.rangeLength,Ce.text.length,Ce.forceMoveMarkers)}const fe=[];this._increaseVersionId();let ve=X;for(let _e=0,Ie=ce.length;_e<Ie;_e++){const Ce=ce[_e],[Ee]=(0,b.countEOL)(Ce.text);this._onDidChangeDecorations.fire();const Le=Ce.range.startLineNumber,Te=Ce.range.endLineNumber,Ae=Te-Le,Pe=Ee,Re=Math.min(Ae,Pe),We=Pe-Ae,De=oe-ve-We+Le,Ne=De,me=De+Pe,we=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new o.Position(Ne,1)),this.getOffsetAt(new o.Position(me,this.getLineMaxColumn(me))),0),Fe=D.LineInjectedText.fromDecorations(we),xe=new f.ArrayQueue(Fe);for(let je=Re;je>=0;je--){const Ze=Le+je,Ye=De+je;xe.takeFromEndWhile(nt=>nt.lineNumber>Ye);const tt=xe.takeFromEndWhile(nt=>nt.lineNumber===Ye);fe.push(new D.ModelRawLineChanged(Ze,this.getLineContent(Ye),tt))}if(Re<Ae){const je=Le+Re;fe.push(new D.ModelRawLinesDeleted(je+1,Te))}if(Re<Pe){const je=new f.ArrayQueue(Fe),Ze=Le+Re,Ye=Pe-Re,tt=oe-ve-Ye+Ze+1,nt=[],dt=[];for(let ct=0;ct<Ye;ct++){const st=tt+ct;dt[ct]=this.getLineContent(st),je.takeWhile(Je=>Je.lineNumber<st),nt[ct]=je.takeWhile(Je=>Je.lineNumber===st)}fe.push(new D.ModelRawLinesInserted(Ze+1,Le+Pe,dt,nt))}ve+=We}this._emitContentChangedEvent(new D.ModelRawContentChangedEvent(fe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ce,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ee.reverseEdits===null?void 0:ee.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(z){if(z===null||z.size===0)return;const X=Array.from(z).map(ee=>new D.ModelRawLineChanged(ee,this.getLineContent(ee),this._getInjectedTextInLine(ee)));this._onDidChangeInjectedText.fire(new D.ModelInjectedTextChangedEvent(X))}changeDecorations(z,$=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations($,z)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(z,$){const X={addDecoration:(oe,ce)=>this._deltaDecorationsImpl(z,[],[{range:oe,options:ce}])[0],changeDecoration:(oe,ce)=>{this._changeDecorationImpl(oe,ce)},changeDecorationOptions:(oe,ce)=>{this._changeDecorationOptionsImpl(oe,ue(ce))},removeDecoration:oe=>{this._deltaDecorationsImpl(z,[oe],[])},deltaDecorations:(oe,ce)=>oe.length===0&&ce.length===0?[]:this._deltaDecorationsImpl(z,oe,ce)};let ee=null;try{ee=$(X)}catch(oe){(0,E.onUnexpectedError)(oe)}return X.addDecoration=H,X.changeDecoration=H,X.changeDecorationOptions=H,X.removeDecoration=H,X.deltaDecorations=H,ee}deltaDecorations(z,$,X=0){if(this._assertNotDisposed(),z||(z=[]),z.length===0&&$.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,E.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(X,z,$)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(z){return this.getDecorationRange(z)}_setTrackedRange(z,$,X){const ee=z?this._decorations[z]:null;if(!ee)return $?this._deltaDecorationsImpl(0,[],[{range:$,options:pe[X]}],!0)[0]:null;if(!$)return this._decorationsTree.delete(ee),delete this._decorations[ee.id],null;const oe=this._validateRangeRelaxedNoAllocations($),ce=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),fe=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);return this._decorationsTree.delete(ee),ee.reset(this.getVersionId(),ce,fe,oe),ee.setOptions(pe[X]),this._decorationsTree.insert(ee),ee.id}removeAllDecorationsWithOwnerId(z){if(this._isDisposed)return;const $=this._decorationsTree.collectNodesFromOwner(z);for(let X=0,ee=$.length;X<ee;X++){const oe=$[X];this._decorationsTree.delete(oe),delete this._decorations[oe.id]}}getDecorationOptions(z){const $=this._decorations[z];return $?$.options:null}getDecorationRange(z){const $=this._decorations[z];return $?this._decorationsTree.getNodeRange(this,$):null}getLineDecorations(z,$=0,X=!1){return z<1||z>this.getLineCount()?[]:this.getLinesDecorations(z,z,$,X)}getLinesDecorations(z,$,X=0,ee=!1,oe=!1){const ce=this.getLineCount(),fe=Math.min(ce,Math.max(1,z)),ve=Math.min(ce,Math.max(1,$)),_e=this.getLineMaxColumn(ve),Ie=new t.Range(fe,1,ve,_e),Ce=this._getDecorationsInRange(Ie,X,ee,oe);return(0,f.pushMany)(Ce,this._decorationProvider.getDecorationsInRange(Ie,X,ee)),Ce}getDecorationsInRange(z,$=0,X=!1,ee=!1,oe=!1){const ce=this.validateRange(z),fe=this._getDecorationsInRange(ce,$,X,oe);return(0,f.pushMany)(fe,this._decorationProvider.getDecorationsInRange(ce,$,X,ee)),fe}getOverviewRulerDecorations(z=0,$=!1){return this._decorationsTree.getAll(this,z,$,!0,!1)}getInjectedTextDecorations(z=0){return this._decorationsTree.getAllInjectedText(this,z)}_getInjectedTextInLine(z){const $=this._buffer.getOffsetAt(z,1),X=$+this._buffer.getLineLength(z),ee=this._decorationsTree.getInjectedTextInInterval(this,$,X,0);return D.LineInjectedText.fromDecorations(ee).filter(oe=>oe.lineNumber===z)}getAllDecorations(z=0,$=!1){let X=this._decorationsTree.getAll(this,z,$,!1,!1);return X=X.concat(this._decorationProvider.getAllDecorations(z,$)),X}getAllMarginDecorations(z=0){return this._decorationsTree.getAll(this,z,!1,!1,!0)}_getDecorationsInRange(z,$,X,ee){const oe=this._buffer.getOffsetAt(z.startLineNumber,z.startColumn),ce=this._buffer.getOffsetAt(z.endLineNumber,z.endColumn);return this._decorationsTree.getAllInInterval(this,oe,ce,$,X,ee)}getRangeAt(z,$){return this._buffer.getRangeAt(z,$-z)}_changeDecorationImpl(z,$){const X=this._decorations[z];if(!X)return;if(X.options.after){const fe=this.getDecorationRange(z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(X.options.before){const fe=this.getDecorationRange(z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}const ee=this._validateRangeRelaxedNoAllocations($),oe=this._buffer.getOffsetAt(ee.startLineNumber,ee.startColumn),ce=this._buffer.getOffsetAt(ee.endLineNumber,ee.endColumn);this._decorationsTree.delete(X),X.reset(this.getVersionId(),oe,ce,ee),this._decorationsTree.insert(X),this._onDidChangeDecorations.checkAffectedAndFire(X.options),X.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.endLineNumber),X.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ee.startLineNumber)}_changeDecorationOptionsImpl(z,$){const X=this._decorations[z];if(!X)return;const ee=!!(X.options.overviewRuler&&X.options.overviewRuler.color),oe=!!($.overviewRuler&&$.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(X.options),this._onDidChangeDecorations.checkAffectedAndFire($),X.options.after||$.after){const ve=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if(X.options.before||$.before){const ve=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}const ce=ee!==oe,fe=U($)!==Y(X);ce||fe?(this._decorationsTree.delete(X),X.setOptions($),this._decorationsTree.insert(X)):X.setOptions($)}_deltaDecorationsImpl(z,$,X,ee=!1){const oe=this.getVersionId(),ce=$.length;let fe=0;const ve=X.length;let _e=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Ie=new Array(ve);for(;fe<ce||_e<ve;){let Ce=null;if(fe<ce){do Ce=this._decorations[$[fe++]];while(!Ce&&fe<ce);if(Ce){if(Ce.options.after){const Ee=this._decorationsTree.getNodeRange(this,Ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber)}if(Ce.options.before){const Ee=this._decorationsTree.getNodeRange(this,Ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber)}this._decorationsTree.delete(Ce),ee||this._onDidChangeDecorations.checkAffectedAndFire(Ce.options)}}if(_e<ve){if(!Ce){const Re=++this._lastDecorationId,We=`${this._instanceId};${Re}`;Ce=new g.IntervalNode(We,0,0),this._decorations[We]=Ce}const Ee=X[_e],Le=this._validateRangeRelaxedNoAllocations(Ee.range),Te=ue(Ee.options),Ae=this._buffer.getOffsetAt(Le.startLineNumber,Le.startColumn),Pe=this._buffer.getOffsetAt(Le.endLineNumber,Le.endColumn);Ce.ownerId=z,Ce.reset(oe,Ae,Pe,Le),Ce.setOptions(Te),Ce.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.endLineNumber),Ce.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.startLineNumber),ee||this._onDidChangeDecorations.checkAffectedAndFire(Te),this._decorationsTree.insert(Ce),Ie[_e]=Ce.id,_e++}else Ce&&delete this._decorations[Ce.id]}return Ie}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(z,$){typeof z=="string"?(this._languageSelectionListener.clear(),this._setLanguage(z,$)):(this._languageSelectionListener.value=z.onDidChange(()=>this._setLanguage(z.languageId,$)),this._setLanguage(z.languageId,$))}_setLanguage(z,$){this.tokenization.setLanguageId(z,$),this._languageService.requestRichLanguageFeatures(z)}getLanguageIdAtPosition(z,$){return this.tokenization.getLanguageIdAtPosition(z,$)}getWordAtPosition(z){return this._tokenizationTextModelPart.getWordAtPosition(z)}getWordUntilPosition(z){return this._tokenizationTextModelPart.getWordUntilPosition(z)}normalizePosition(z,$){return z}getLineIndentColumn(z){return V(this.getLineContent(z))+1}};e.TextModel=K,K._MODEL_SYNC_LIMIT=50*1024*1024,K.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,K.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,K.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,K.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:n.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:n.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:n.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:n.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:n.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:n.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=K=N=ke([ge(4,T.IUndoRedoService),ge(5,c.ILanguageService),ge(6,u.ILanguageConfigurationService)],K);function V(q){let z=0;for(const $ of q)if($===" "||$==="	")z++;else break;return z}function j(q){return!!(q.options.overviewRuler&&q.options.overviewRuler.color)}function U(q){return!!q.after||!!q.before}function Y(q){return!!q.options.after||!!q.options.before}class Q{constructor(){this._decorationsTree0=new g.IntervalTree,this._decorationsTree1=new g.IntervalTree,this._injectedTextDecorationsTree=new g.IntervalTree}ensureAllNodesHaveRanges(z){this.getAll(z,0,!1,!1,!1)}_ensureNodesHaveRanges(z,$){for(const X of $)X.range===null&&(X.range=z.getRangeAt(X.cachedAbsoluteStart,X.cachedAbsoluteEnd));return $}getAllInInterval(z,$,X,ee,oe,ce){const fe=z.getVersionId(),ve=this._intervalSearch($,X,ee,oe,fe,ce);return this._ensureNodesHaveRanges(z,ve)}_intervalSearch(z,$,X,ee,oe,ce){const fe=this._decorationsTree0.intervalSearch(z,$,X,ee,oe,ce),ve=this._decorationsTree1.intervalSearch(z,$,X,ee,oe,ce),_e=this._injectedTextDecorationsTree.intervalSearch(z,$,X,ee,oe,ce);return fe.concat(ve).concat(_e)}getInjectedTextInInterval(z,$,X,ee){const oe=z.getVersionId(),ce=this._injectedTextDecorationsTree.intervalSearch($,X,ee,!1,oe,!1);return this._ensureNodesHaveRanges(z,ce).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAllInjectedText(z,$){const X=z.getVersionId(),ee=this._injectedTextDecorationsTree.search($,!1,X,!1);return this._ensureNodesHaveRanges(z,ee).filter(oe=>oe.options.showIfCollapsed||!oe.range.isEmpty())}getAll(z,$,X,ee,oe){const ce=z.getVersionId(),fe=this._search($,X,ee,ce,oe);return this._ensureNodesHaveRanges(z,fe)}_search(z,$,X,ee,oe){if(X)return this._decorationsTree1.search(z,$,ee,oe);{const ce=this._decorationsTree0.search(z,$,ee,oe),fe=this._decorationsTree1.search(z,$,ee,oe),ve=this._injectedTextDecorationsTree.search(z,$,ee,oe);return ce.concat(fe).concat(ve)}}collectNodesFromOwner(z){const $=this._decorationsTree0.collectNodesFromOwner(z),X=this._decorationsTree1.collectNodesFromOwner(z),ee=this._injectedTextDecorationsTree.collectNodesFromOwner(z);return $.concat(X).concat(ee)}collectNodesPostOrder(){const z=this._decorationsTree0.collectNodesPostOrder(),$=this._decorationsTree1.collectNodesPostOrder(),X=this._injectedTextDecorationsTree.collectNodesPostOrder();return z.concat($).concat(X)}insert(z){Y(z)?this._injectedTextDecorationsTree.insert(z):j(z)?this._decorationsTree1.insert(z):this._decorationsTree0.insert(z)}delete(z){Y(z)?this._injectedTextDecorationsTree.delete(z):j(z)?this._decorationsTree1.delete(z):this._decorationsTree0.delete(z)}getNodeRange(z,$){const X=z.getVersionId();return $.cachedVersionId!==X&&this._resolveNode($,X),$.range===null&&($.range=z.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd)),$.range}_resolveNode(z,$){Y(z)?this._injectedTextDecorationsTree.resolveNode(z,$):j(z)?this._decorationsTree1.resolveNode(z,$):this._decorationsTree0.resolveNode(z,$)}acceptReplace(z,$,X,ee){this._decorationsTree0.acceptReplace(z,$,X,ee),this._decorationsTree1.acceptReplace(z,$,X,ee),this._injectedTextDecorationsTree.acceptReplace(z,$,X,ee)}}function Z(q){return q.replace(/[^a-z0-9\-_]/gi," ")}class G{constructor(z){this.color=z.color||"",this.darkColor=z.darkColor||""}}class F extends G{constructor(z){super(z),this._resolvedColor=null,this.position=typeof z.position=="number"?z.position:r.OverviewRulerLane.Center}getColor(z){return this._resolvedColor||(z.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,z):this._resolvedColor=this._resolveColor(this.color,z)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(z,$){if(typeof z=="string")return z;const X=z?$.getColor(z.id):null;return X?X.toString():""}}e.ModelDecorationOverviewRulerOptions=F;class J{constructor(z){var $;this.position=($=z?.position)!==null&&$!==void 0?$:r.GlyphMarginLane.Center,this.persistLane=z?.persistLane}}e.ModelDecorationGlyphMarginOptions=J;class te extends G{constructor(z){var $,X;super(z),this.position=z.position,this.sectionHeaderStyle=($=z.sectionHeaderStyle)!==null&&$!==void 0?$:null,this.sectionHeaderText=(X=z.sectionHeaderText)!==null&&X!==void 0?X:null}getColor(z){return this._resolvedColor||(z.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,z):this._resolvedColor=this._resolveColor(this.color,z)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(z,$){return typeof z=="string"?k.Color.fromHex(z):$.getColor(z.id)}}e.ModelDecorationMinimapOptions=te;class de{static from(z){return z instanceof de?z:new de(z)}constructor(z){this.content=z.content||"",this.inlineClassName=z.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=z.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=z.attachedData||null,this.cursorStops=z.cursorStops||null}}e.ModelDecorationInjectedTextOptions=de;class he{static register(z){return new he(z)}static createDynamic(z){return new he(z)}constructor(z){var $,X,ee,oe,ce,fe;this.description=z.description,this.blockClassName=z.blockClassName?Z(z.blockClassName):null,this.blockDoesNotCollapse=($=z.blockDoesNotCollapse)!==null&&$!==void 0?$:null,this.blockIsAfterEnd=(X=z.blockIsAfterEnd)!==null&&X!==void 0?X:null,this.blockPadding=(ee=z.blockPadding)!==null&&ee!==void 0?ee:null,this.stickiness=z.stickiness||0,this.zIndex=z.zIndex||0,this.className=z.className?Z(z.className):null,this.shouldFillLineOnLineBreak=(oe=z.shouldFillLineOnLineBreak)!==null&&oe!==void 0?oe:null,this.hoverMessage=z.hoverMessage||null,this.glyphMarginHoverMessage=z.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=z.lineNumberHoverMessage||null,this.isWholeLine=z.isWholeLine||!1,this.showIfCollapsed=z.showIfCollapsed||!1,this.collapseOnReplaceEdit=z.collapseOnReplaceEdit||!1,this.overviewRuler=z.overviewRuler?new F(z.overviewRuler):null,this.minimap=z.minimap?new te(z.minimap):null,this.glyphMargin=z.glyphMarginClassName?new J(z.glyphMargin):null,this.glyphMarginClassName=z.glyphMarginClassName?Z(z.glyphMarginClassName):null,this.linesDecorationsClassName=z.linesDecorationsClassName?Z(z.linesDecorationsClassName):null,this.lineNumberClassName=z.lineNumberClassName?Z(z.lineNumberClassName):null,this.linesDecorationsTooltip=z.linesDecorationsTooltip?m.htmlAttributeEncodeValue(z.linesDecorationsTooltip):null,this.firstLineDecorationClassName=z.firstLineDecorationClassName?Z(z.firstLineDecorationClassName):null,this.marginClassName=z.marginClassName?Z(z.marginClassName):null,this.inlineClassName=z.inlineClassName?Z(z.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=z.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=z.beforeContentClassName?Z(z.beforeContentClassName):null,this.afterContentClassName=z.afterContentClassName?Z(z.afterContentClassName):null,this.after=z.after?de.from(z.after):null,this.before=z.before?de.from(z.before):null,this.hideInCommentTokens=(ce=z.hideInCommentTokens)!==null&&ce!==void 0?ce:!1,this.hideInStringTokens=(fe=z.hideInStringTokens)!==null&&fe!==void 0?fe:!1}}e.ModelDecorationOptions=he,he.EMPTY=he.register({description:"empty"});const pe=[he.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),he.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),he.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),he.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ue(q){return q instanceof he?q:he.createDynamic(q)}class ie extends y.Disposable{constructor(z){super(),this.handleBeforeFire=z,this._actual=this._register(new I.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var z;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(z=this._affectedInjectedTextLines)===null||z===void 0||z.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(z){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(z)}checkAffectedAndFire(z){var $,X;this._affectsMinimap||(this._affectsMinimap=!!(!(($=z.minimap)===null||$===void 0)&&$.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((X=z.overviewRuler)===null||X===void 0)&&X.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!z.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!z.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const z={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(z)}}class se extends y.Disposable{constructor(){super(),this._fastEmitter=this._register(new I.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new I.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(z=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=z;const $=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire($),this._slowEmitter.fire($)}}fire(z){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(z):this._deferredEvent=z;return}this._fastEmitter.fire(z),this._slowEmitter.fire(z)}}class ne{constructor(){this._onDidChangeVisibleRanges=new I.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const z=new W($=>{this._onDidChangeVisibleRanges.fire({view:z,state:$})});return this._views.add(z),z}detachView(z){this._views.delete(z),this._onDidChangeVisibleRanges.fire({view:z,state:void 0})}}e.AttachedViews=ne;class W{constructor(z){this.handleStateChange=z}setVisibleLines(z,$){const X=z.map(ee=>new s.LineRange(ee.startLineNumber,ee.endLineNumber+1));this.handleStateChange({visibleLineRanges:X,stabilized:$})}}}),define(re[185],ae([1,0,26,30,36,3,32,80]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=e.diffEditorUnchangedRegionShadow=e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,y.registerColor)("diffEditor.move.border","#8b8b8b9c",(0,I.localize)(287,"The border color for text that got moved in the diff editor.")),e.diffMoveBorderActive=(0,y.registerColor)("diffEditor.moveActive.border","#FFA500",(0,I.localize)(288,"The active border color for text that got moved in the diff editor.")),e.diffEditorUnchangedRegionShadow=(0,y.registerColor)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,I.localize)(289,"The color of the shadow around unchanged region widgets.")),e.diffInsertIcon=(0,m.registerIcon)("diff-insert",f.Codicon.add,(0,I.localize)(290,"Line decoration for inserts in the diff editor.")),e.diffRemoveIcon=(0,m.registerIcon)("diff-remove",f.Codicon.remove,(0,I.localize)(291,"Line decoration for removals in the diff editor.")),e.diffLineAddDecorationBackgroundWithIndicator=E.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=E.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=E.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=E.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=E.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=E.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=E.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=E.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=E.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=E.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})}),define(re[800],ae([1,0,2,21,368,185,86]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class m extends f.Disposable{constructor(b,v,s,o){super(),this._editors=b,this._diffModel=v,this._options=s,this._decorations=(0,k.derived)(this,t=>{var i;const n=(i=this._diffModel.read(t))===null||i===void 0?void 0:i.diff.read(t);if(!n)return null;const c=this._diffModel.read(t).movedTextToCompare.read(t),u=this._options.renderIndicators.read(t),r=this._options.showEmptyDecorations.read(t),a=[],l=[];if(!c)for(const p of n.mappings)if(p.lineRangeMapping.original.isEmpty||a.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:u?I.diffLineDeleteDecorationBackgroundWithIndicator:I.diffLineDeleteDecorationBackground}),p.lineRangeMapping.modified.isEmpty||l.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:u?I.diffLineAddDecorationBackgroundWithIndicator:I.diffLineAddDecorationBackground}),p.lineRangeMapping.modified.isEmpty||p.lineRangeMapping.original.isEmpty)p.lineRangeMapping.original.isEmpty||a.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:I.diffWholeLineDeleteDecoration}),p.lineRangeMapping.modified.isEmpty||l.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:I.diffWholeLineAddDecoration});else for(const h of p.lineRangeMapping.innerChanges||[])p.lineRangeMapping.original.contains(h.originalRange.startLineNumber)&&a.push({range:h.originalRange,options:h.originalRange.isEmpty()&&r?I.diffDeleteDecorationEmpty:I.diffDeleteDecoration}),p.lineRangeMapping.modified.contains(h.modifiedRange.startLineNumber)&&l.push({range:h.modifiedRange,options:h.modifiedRange.isEmpty()&&r?I.diffAddDecorationEmpty:I.diffAddDecoration});if(c)for(const p of c.changes){const h=p.original.toInclusiveRange();h&&a.push({range:h,options:u?I.diffLineDeleteDecorationBackgroundWithIndicator:I.diffLineDeleteDecorationBackground});const g=p.modified.toInclusiveRange();g&&l.push({range:g,options:u?I.diffLineAddDecorationBackgroundWithIndicator:I.diffLineAddDecorationBackground});for(const C of p.innerChanges||[])a.push({range:C.originalRange,options:I.diffDeleteDecoration}),l.push({range:C.modifiedRange,options:I.diffAddDecoration})}const d=this._diffModel.read(t).activeMovedText.read(t);for(const p of n.movedTexts)a.push({range:p.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(p===d?" currentMove":""),blockPadding:[E.MovedBlocksLinesFeature.movedCodeBlockPadding,0,E.MovedBlocksLinesFeature.movedCodeBlockPadding,E.MovedBlocksLinesFeature.movedCodeBlockPadding]}}),l.push({range:p.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(p===d?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:a,modifiedDecorations:l}}),this._register((0,y.applyObservableDecorations)(this._editors.original,this._decorations.map(t=>t?.originalDecorations||[]))),this._register((0,y.applyObservableDecorations)(this._editors.modified,this._decorations.map(t=>t?.modifiedDecorations||[])))}}e.DiffEditorDecorations=m}),define(re[801],ae([1,0,4,13,14,26,2,21,30,19,74,185,404,657,663,86,56,9,95,116,58]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorViewZones=void 0;let d=class extends y.Disposable{constructor(C,S,_,L,D,T,N,A,R,M){super(),this._targetWindow=C,this._editors=S,this._diffModel=_,this._options=L,this._diffEditorWidget=D,this._canIgnoreViewZoneUpdateEvent=T,this._origViewZonesToIgnore=N,this._modViewZonesToIgnore=A,this._clipboardService=R,this._contextMenuService=M,this._originalTopPadding=(0,m.observableValue)(this,0),this._originalScrollOffset=(0,m.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,m.observableValue)(this,0),this._modifiedScrollOffset=(0,m.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._modifiedScrollOffset,this._store);const P=(0,m.observableValue)("invalidateAlignmentsState",0),x=this._register(new E.RunOnceScheduler(()=>{P.set(P.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||x.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||x.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(U=>{(U.hasChanged(147)||U.hasChanged(67))&&x.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(U=>{(U.hasChanged(147)||U.hasChanged(67))&&x.schedule()}));const O=this._diffModel.map(U=>U?(0,m.observableFromEvent)(this,U.model.original.onDidChangeTokens,()=>U.model.original.tokenization.backgroundTokenizationState===2):void 0).map((U,Y)=>U?.read(Y)),B=(0,m.derived)(U=>{const Y=this._diffModel.read(U),Q=Y?.diff.read(U);if(!Y||!Q)return null;P.read(U);const G=this._options.renderSideBySide.read(U);return p(this._editors.original,this._editors.modified,Q.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,G)}),H=(0,m.derived)(U=>{var Y;const Q=(Y=this._diffModel.read(U))===null||Y===void 0?void 0:Y.movedTextToCompare.read(U);if(!Q)return null;P.read(U);const Z=Q.changes.map(G=>new o.DiffMapping(G));return p(this._editors.original,this._editors.modified,Z,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function K(){const U=document.createElement("div");return U.className="diagonal-fill",U}const V=this._register(new y.DisposableStore);this.viewZones=(0,m.derivedWithStore)(this,(U,Y)=>{var Q,Z,G,F,J,te,de,he;V.clear();const pe=B.read(U)||[],ue=[],ie=[],se=this._modifiedTopPadding.read(U);se>0&&ie.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:se,showInHiddenAreas:!0,suppressMouseDown:!0});const ne=this._originalTopPadding.read(U);ne>0&&ue.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ne,showInHiddenAreas:!0,suppressMouseDown:!0});const W=this._options.renderSideBySide.read(U),q=W||(Q=this._editors.modified._getViewModel())===null||Q===void 0?void 0:Q.createLineBreaksComputer();if(q){const ve=this._editors.original.getModel();for(const _e of pe)if(_e.diff)for(let Ie=_e.originalRange.startLineNumber;Ie<_e.originalRange.endLineNumberExclusive;Ie++){if(Ie>ve.getLineCount())return{orig:ue,mod:ie};q?.addRequest(ve.getLineContent(Ie),null,null)}}const z=(Z=q?.finalize())!==null&&Z!==void 0?Z:[];let $=0;const X=this._editors.modified.getOption(67),ee=(G=this._diffModel.read(U))===null||G===void 0?void 0:G.movedTextToCompare.read(U),oe=(J=(F=this._editors.original.getModel())===null||F===void 0?void 0:F.mightContainNonBasicASCII())!==null&&J!==void 0?J:!1,ce=(de=(te=this._editors.original.getModel())===null||te===void 0?void 0:te.mightContainRTL())!==null&&de!==void 0?de:!1,fe=i.RenderOptions.fromEditor(this._editors.modified);for(const ve of pe)if(ve.diff&&!W){if(!ve.originalRange.isEmpty){O.read(U);const Ie=document.createElement("div");Ie.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Ce=this._editors.original.getModel();if(ve.originalRange.endLineNumberExclusive-1>Ce.getLineCount())return{orig:ue,mod:ie};const Ee=new i.LineSource(ve.originalRange.mapToLineArray(Re=>Ce.tokenization.getLineTokens(Re)),ve.originalRange.mapToLineArray(Re=>z[$++]),oe,ce),Le=[];for(const Re of ve.diff.innerChanges||[])Le.push(new r.InlineDecoration(Re.originalRange.delta(-(ve.diff.original.startLineNumber-1)),s.diffDeleteDecoration.className,0));const Te=(0,i.renderLines)(Ee,fe,Le,Ie),Ae=document.createElement("div");if(Ae.className="inline-deleted-margin-view-zone",(0,v.applyFontInfo)(Ae,fe.fontInfo),this._options.renderIndicators.read(U))for(let Re=0;Re<Te.heightInLines;Re++){const We=document.createElement("div");We.className=`delete-sign ${w.ThemeIcon.asClassName(s.diffRemoveIcon)}`,We.setAttribute("style",`position:absolute;top:${Re*X}px;width:${fe.lineDecorationsWidth}px;height:${X}px;right:0;`),Ae.appendChild(We)}let Pe;V.add(new t.InlineDiffDeletedCodeMargin(()=>(0,b.assertIsDefined)(Pe),Ae,this._editors.modified,ve.diff,this._diffEditorWidget,Te.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Re=0;Re<Te.viewLineCounts.length;Re++){const We=Te.viewLineCounts[Re];We>1&&ue.push({afterLineNumber:ve.originalRange.startLineNumber+Re,domNode:K(),heightInPx:(We-1)*X,showInHiddenAreas:!0,suppressMouseDown:!0})}ie.push({afterLineNumber:ve.modifiedRange.startLineNumber-1,domNode:Ie,heightInPx:Te.heightInLines*X,minWidthInPx:Te.minWidthInPx,marginDomNode:Ae,setZoneId(Re){Pe=Re},showInHiddenAreas:!0,suppressMouseDown:!0})}const _e=document.createElement("div");_e.className="gutter-delete",ue.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:K(),heightInPx:ve.modifiedHeightInPx,marginDomNode:_e,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const _e=ve.modifiedHeightInPx-ve.originalHeightInPx;if(_e>0){if(ee?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(ve.originalRange.endLineNumberExclusive-1))continue;ue.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:K(),heightInPx:_e,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Ie=function(){const Ee=document.createElement("div");return Ee.className="arrow-revert-change "+w.ThemeIcon.asClassName(I.Codicon.arrowRight),Y.add((0,f.addDisposableListener)(Ee,"mousedown",Le=>Le.stopPropagation())),Y.add((0,f.addDisposableListener)(Ee,"click",Le=>{Le.stopPropagation(),D.revert(ve.diff)})),(0,f.$)("div",{},Ee)};if(ee?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(ve.modifiedRange.endLineNumberExclusive-1))continue;let Ce;ve.diff&&ve.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(U)&&(Ce=Ie()),ie.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:K(),heightInPx:-_e,marginDomNode:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const ve of(he=H.read(U))!==null&&he!==void 0?he:[]){if(!ee?.lineRangeMapping.original.intersect(ve.originalRange)||!ee?.lineRangeMapping.modified.intersect(ve.modifiedRange))continue;const _e=ve.modifiedHeightInPx-ve.originalHeightInPx;_e>0?ue.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:K(),heightInPx:_e,showInHiddenAreas:!0,suppressMouseDown:!0}):ie.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:K(),heightInPx:-_e,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:ue,mod:ie}});let j=!1;this._register(this._editors.original.onDidScrollChange(U=>{U.scrollLeftChanged&&!j&&(j=!0,this._editors.modified.setScrollLeft(U.scrollLeft),j=!1)})),this._register(this._editors.modified.onDidScrollChange(U=>{U.scrollLeftChanged&&!j&&(j=!0,this._editors.original.setScrollLeft(U.scrollLeft),j=!1)})),this._originalScrollTop=(0,m.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,m.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,m.autorun)(U=>{const Y=this._originalScrollTop.read(U)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(U))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(U));Y!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(Y,1)})),this._register((0,m.autorun)(U=>{const Y=this._modifiedScrollTop.read(U)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(U))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(U));Y!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(Y,1)})),this._register((0,m.autorun)(U=>{var Y;const Q=(Y=this._diffModel.read(U))===null||Y===void 0?void 0:Y.movedTextToCompare.read(U);let Z=0;if(Q){const G=this._editors.original.getTopForLineNumber(Q.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();Z=this._editors.modified.getTopForLineNumber(Q.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-G}Z>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(Z,void 0)):Z<0?(this._modifiedTopPadding.set(-Z,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-Z,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+Z,void 0,!0)}))}};e.DiffEditorViewZones=d,e.DiffEditorViewZones=d=ke([ge(8,a.IClipboardService),ge(9,l.IContextMenuService)],d);function p(g,C,S,_,L,D){const T=new k.ArrayQueue(h(g,_)),N=new k.ArrayQueue(h(C,L)),A=g.getOption(67),R=C.getOption(67),M=[];let P=0,x=0;function O(B,H){for(;;){let K=T.peek(),V=N.peek();if(K&&K.lineNumber>=B&&(K=void 0),V&&V.lineNumber>=H&&(V=void 0),!K&&!V)break;const j=K?K.lineNumber-P:Number.MAX_VALUE,U=V?V.lineNumber-x:Number.MAX_VALUE;j<U?(T.dequeue(),V={lineNumber:K.lineNumber-P+x,heightInPx:0}):j>U?(N.dequeue(),K={lineNumber:V.lineNumber-x+P,heightInPx:0}):(T.dequeue(),N.dequeue()),M.push({originalRange:c.LineRange.ofLength(K.lineNumber,1),modifiedRange:c.LineRange.ofLength(V.lineNumber,1),originalHeightInPx:A+K.heightInPx,modifiedHeightInPx:R+V.heightInPx,diff:void 0})}}for(const B of S){let U=function(Y,Q,Z=!1){var G,F,J,te;if(Y<j||Q<V)return;if(K)K=!1;else if(!Z&&(Y===j||Q===V))return;const de=new c.LineRange(j,Y),he=new c.LineRange(V,Q);if(de.isEmpty&&he.isEmpty)return;const pe=(F=(G=T.takeWhile(ie=>ie.lineNumber<Y))===null||G===void 0?void 0:G.reduce((ie,se)=>ie+se.heightInPx,0))!==null&&F!==void 0?F:0,ue=(te=(J=N.takeWhile(ie=>ie.lineNumber<Q))===null||J===void 0?void 0:J.reduce((ie,se)=>ie+se.heightInPx,0))!==null&&te!==void 0?te:0;M.push({originalRange:de,modifiedRange:he,originalHeightInPx:de.length*A+pe,modifiedHeightInPx:he.length*R+ue,diff:B.lineRangeMapping}),j=Y,V=Q};const H=B.lineRangeMapping;O(H.original.startLineNumber,H.modified.startLineNumber);let K=!0,V=H.modified.startLineNumber,j=H.original.startLineNumber;if(D)for(const Y of H.innerChanges||[]){Y.originalRange.startColumn>1&&Y.modifiedRange.startColumn>1&&U(Y.originalRange.startLineNumber,Y.modifiedRange.startLineNumber);const Q=g.getModel(),Z=Y.originalRange.endLineNumber<=Q.getLineCount()?Q.getLineMaxColumn(Y.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;Y.originalRange.endColumn<Z&&U(Y.originalRange.endLineNumber,Y.modifiedRange.endLineNumber)}U(H.original.endLineNumberExclusive,H.modified.endLineNumberExclusive,!0),P=H.original.endLineNumberExclusive,x=H.modified.endLineNumberExclusive}return O(Number.MAX_VALUE,Number.MAX_VALUE),M}function h(g,C){const S=[],_=[],L=g.getOption(147).wrappingColumn!==-1,D=g._getViewModel().coordinatesConverter,T=g.getOption(67);if(L)for(let A=1;A<=g.getModel().getLineCount();A++){const R=D.getModelLineViewLineCount(A);R>1&&_.push({lineNumber:A,heightInPx:T*(R-1)})}for(const A of g.getWhitespaces()){if(C.has(A.id))continue;const R=A.afterLineNumber===0?0:D.convertViewPositionToModelPosition(new u.Position(A.afterLineNumber,1)).lineNumber;S.push({lineNumber:R,heightInPx:A.height})}return(0,n.joinCombine)(S,_,A=>A.lineNumber,(A,R)=>({lineNumber:A.lineNumber,heightInPx:A.heightInPx+R.heightInPx}))}}),define(re[802],ae([1,0,6,2,16,36,196,79,42,209,28,216,127,372,46,54,34]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultModelSHA1Computer=e.ModelService=void 0;function r(g){return g.toString()}class a{constructor(C,S,_){this.model=C,this._modelEventListeners=new k.DisposableStore,this.model=C,this._modelEventListeners.add(C.onWillDispose(()=>S(C))),this._modelEventListeners.add(C.onDidChangeLanguage(L=>_(C,L)))}dispose(){this._modelEventListeners.dispose()}}const l=E.isLinux||E.isMacintosh?1:2;class d{constructor(C,S,_,L,D,T,N,A){this.uri=C,this.initialUndoRedoSnapshot=S,this.time=_,this.sharesUndoRedoStack=L,this.heapSize=D,this.sha1=T,this.versionId=N,this.alternativeVersionId=A}}let p=u=class extends k.Disposable{constructor(C,S,_,L,D){super(),this._configurationService=C,this._resourcePropertiesService=S,this._undoRedoService=_,this._languageService=L,this._languageConfigurationService=D,this._onModelAdded=this._register(new f.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new f.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new f.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(T=>this._updateModelOptions(T))),this._updateModelOptions(void 0)}static _readModelOptions(C,S){var _;let L=y.EDITOR_MODEL_DEFAULTS.tabSize;if(C.editor&&typeof C.editor.tabSize<"u"){const O=parseInt(C.editor.tabSize,10);isNaN(O)||(L=O),L<1&&(L=1)}let D="tabSize";if(C.editor&&typeof C.editor.indentSize<"u"&&C.editor.indentSize!=="tabSize"){const O=parseInt(C.editor.indentSize,10);isNaN(O)||(D=Math.max(O,1))}let T=y.EDITOR_MODEL_DEFAULTS.insertSpaces;C.editor&&typeof C.editor.insertSpaces<"u"&&(T=C.editor.insertSpaces==="false"?!1:!!C.editor.insertSpaces);let N=l;const A=C.eol;A===`\r
`?N=2:A===`
`&&(N=1);let R=y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;C.editor&&typeof C.editor.trimAutoWhitespace<"u"&&(R=C.editor.trimAutoWhitespace==="false"?!1:!!C.editor.trimAutoWhitespace);let M=y.EDITOR_MODEL_DEFAULTS.detectIndentation;C.editor&&typeof C.editor.detectIndentation<"u"&&(M=C.editor.detectIndentation==="false"?!1:!!C.editor.detectIndentation);let P=y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;C.editor&&typeof C.editor.largeFileOptimizations<"u"&&(P=C.editor.largeFileOptimizations==="false"?!1:!!C.editor.largeFileOptimizations);let x=y.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((_=C.editor)===null||_===void 0)&&_.bracketPairColorization&&typeof C.editor.bracketPairColorization=="object"&&(x={enabled:!!C.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!C.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:S,tabSize:L,indentSize:D,insertSpaces:T,detectIndentation:M,defaultEOL:N,trimAutoWhitespace:R,largeFileOptimizations:P,bracketPairColorizationOptions:x}}_getEOL(C,S){if(C)return this._resourcePropertiesService.getEOL(C,S);const _=this._configurationService.getValue("files.eol",{overrideIdentifier:S});return _&&typeof _=="string"&&_!=="auto"?_:E.OS===3||E.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const C=this._configurationService.getValue("files.restoreUndoStack");return typeof C=="boolean"?C:!0}getCreationOptions(C,S,_){const L=typeof C=="string"?C:C.languageId;let D=this._modelCreationOptionsByLanguageAndResource[L+S];if(!D){const T=this._configurationService.getValue("editor",{overrideIdentifier:L,resource:S}),N=this._getEOL(S,L);D=u._readModelOptions({editor:T,eol:N},_),this._modelCreationOptionsByLanguageAndResource[L+S]=D}return D}_updateModelOptions(C){const S=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const _=Object.keys(this._models);for(let L=0,D=_.length;L<D;L++){const T=_[L],N=this._models[T],A=N.model.getLanguageId(),R=N.model.uri;if(C&&!C.affectsConfiguration("editor",{overrideIdentifier:A,resource:R})&&!C.affectsConfiguration("files.eol",{overrideIdentifier:A,resource:R}))continue;const M=S[A+R],P=this.getCreationOptions(A,R,N.model.isForSimpleWidget);u._setModelOptionsForModel(N.model,P,M)}}static _setModelOptionsForModel(C,S,_){_&&_.defaultEOL!==S.defaultEOL&&C.getLineCount()===1&&C.setEOL(S.defaultEOL===1?0:1),!(_&&_.detectIndentation===S.detectIndentation&&_.insertSpaces===S.insertSpaces&&_.tabSize===S.tabSize&&_.indentSize===S.indentSize&&_.trimAutoWhitespace===S.trimAutoWhitespace&&(0,n.equals)(_.bracketPairColorizationOptions,S.bracketPairColorizationOptions))&&(S.detectIndentation?(C.detectIndentation(S.insertSpaces,S.tabSize),C.updateOptions({trimAutoWhitespace:S.trimAutoWhitespace,bracketColorizationOptions:S.bracketPairColorizationOptions})):C.updateOptions({insertSpaces:S.insertSpaces,tabSize:S.tabSize,indentSize:S.indentSize,trimAutoWhitespace:S.trimAutoWhitespace,bracketColorizationOptions:S.bracketPairColorizationOptions}))}_insertDisposedModel(C){this._disposedModels.set(r(C.uri),C),this._disposedModelsHeapSize+=C.heapSize}_removeDisposedModel(C){const S=this._disposedModels.get(r(C));return S&&(this._disposedModelsHeapSize-=S.heapSize),this._disposedModels.delete(r(C)),S}_ensureDisposedModelsHeapSize(C){if(this._disposedModelsHeapSize>C){const S=[];for(this._disposedModels.forEach(_=>{_.sharesUndoRedoStack||S.push(_)}),S.sort((_,L)=>_.time-L.time);S.length>0&&this._disposedModelsHeapSize>C;){const _=S.shift();this._removeDisposedModel(_.uri),_.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(_.initialUndoRedoSnapshot)}}}_createModelData(C,S,_,L){const D=this.getCreationOptions(S,_,L),T=new I.TextModel(C,S,D,_,this._undoRedoService,this._languageService,this._languageConfigurationService);if(_&&this._disposedModels.has(r(_))){const R=this._removeDisposedModel(_),M=this._undoRedoService.getElements(_),P=this._getSHA1Computer(),x=P.canComputeSHA1(T)?P.computeSHA1(T)===R.sha1:!1;if(x||R.sharesUndoRedoStack){for(const O of M.past)(0,t.isEditStackElement)(O)&&O.matchesResource(_)&&O.setModel(T);for(const O of M.future)(0,t.isEditStackElement)(O)&&O.matchesResource(_)&&O.setModel(T);this._undoRedoService.setElementsValidFlag(_,!0,O=>(0,t.isEditStackElement)(O)&&O.matchesResource(_)),x&&(T._overwriteVersionId(R.versionId),T._overwriteAlternativeVersionId(R.alternativeVersionId),T._overwriteInitialUndoRedoSnapshot(R.initialUndoRedoSnapshot))}else R.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(R.initialUndoRedoSnapshot)}const N=r(T.uri);if(this._models[N])throw new Error("ModelService: Cannot add model because it already exists!");const A=new a(T,R=>this._onWillDispose(R),(R,M)=>this._onDidChangeLanguage(R,M));return this._models[N]=A,A}createModel(C,S,_,L=!1){let D;return S?D=this._createModelData(C,S,_,L):D=this._createModelData(C,m.PLAINTEXT_LANGUAGE_ID,_,L),this._onModelAdded.fire(D.model),D.model}getModels(){const C=[],S=Object.keys(this._models);for(let _=0,L=S.length;_<L;_++){const D=S[_];C.push(this._models[D].model)}return C}getModel(C){const S=r(C),_=this._models[S];return _?_.model:null}_schemaShouldMaintainUndoRedoElements(C){return C.scheme===i.Schemas.file||C.scheme===i.Schemas.vscodeRemote||C.scheme===i.Schemas.vscodeUserData||C.scheme===i.Schemas.vscodeNotebookCell||C.scheme==="fake-fs"}_onWillDispose(C){const S=r(C.uri),_=this._models[S],L=this._undoRedoService.getUriComparisonKey(C.uri)!==C.uri.toString();let D=!1,T=0;if(L||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(C.uri)){const R=this._undoRedoService.getElements(C.uri);if(R.past.length>0||R.future.length>0){for(const M of R.past)(0,t.isEditStackElement)(M)&&M.matchesResource(C.uri)&&(D=!0,T+=M.heapSize(C.uri),M.setModel(C.uri));for(const M of R.future)(0,t.isEditStackElement)(M)&&M.matchesResource(C.uri)&&(D=!0,T+=M.heapSize(C.uri),M.setModel(C.uri))}}const N=u.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,A=this._getSHA1Computer();if(D)if(!L&&(T>N||!A.canComputeSHA1(C))){const R=_.model.getInitialUndoRedoSnapshot();R!==null&&this._undoRedoService.restoreSnapshot(R)}else this._ensureDisposedModelsHeapSize(N-T),this._undoRedoService.setElementsValidFlag(C.uri,!1,R=>(0,t.isEditStackElement)(R)&&R.matchesResource(C.uri)),this._insertDisposedModel(new d(C.uri,_.model.getInitialUndoRedoSnapshot(),Date.now(),L,T,A.computeSHA1(C),C.getVersionId(),C.getAlternativeVersionId()));else if(!L){const R=_.model.getInitialUndoRedoSnapshot();R!==null&&this._undoRedoService.restoreSnapshot(R)}delete this._models[S],_.dispose(),delete this._modelCreationOptionsByLanguageAndResource[C.getLanguageId()+C.uri],this._onModelRemoved.fire(C)}_onDidChangeLanguage(C,S){const _=S.oldLanguage,L=C.getLanguageId(),D=this.getCreationOptions(_,C.uri,C.isForSimpleWidget),T=this.getCreationOptions(L,C.uri,C.isForSimpleWidget);u._setModelOptionsForModel(C,T,D),this._onModelModeChanged.fire({model:C,oldLanguageId:_})}_getSHA1Computer(){return new h}};e.ModelService=p,p.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=p=u=ke([ge(0,v.IConfigurationService),ge(1,b.ITextResourcePropertiesService),ge(2,s.IUndoRedoService),ge(3,w.ILanguageService),ge(4,c.ILanguageConfigurationService)],p);class h{canComputeSHA1(C){return C.getValueLength()<=h.MAX_MODEL_SIZE}computeSHA1(C){const S=new o.StringSHA1,_=C.createSnapshot();let L;for(;L=_.read();)S.update(L);return S.digest()}}e.DefaultModelSHA1Computer=h,h.MAX_MODEL_SIZE=10*1024*1024}),define(re[803],ae([1,0,13,9,5,250,36,129,254,623,337,95]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class o{constructor(l,d,p,h,g,C,S,_,L,D){this._editorId=l,this.model=d,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=p,this._monospaceLineBreaksComputerFactory=h,this.fontInfo=g,this.tabSize=C,this.wrappingStrategy=S,this.wrappingColumn=_,this.wrappingIndent=L,this.wordBreak=D,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new c(this)}_constructLines(l,d){this.modelLineProjections=[],l&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const p=this.model.getLinesContent(),h=this.model.getInjectedTextDecorations(this._editorId),g=p.length,C=this.createLineBreaksComputer(),S=new f.ArrayQueue(m.LineInjectedText.fromDecorations(h));for(let M=0;M<g;M++){const P=S.takeWhile(x=>x.lineNumber===M+1);C.addRequest(p[M],P,d?d[M]:null)}const _=C.finalize(),L=[],D=this.hiddenAreasDecorationIds.map(M=>this.model.getDecorationRange(M)).sort(E.Range.compareRangesUsingStarts);let T=1,N=0,A=-1,R=A+1<D.length?N+1:g+2;for(let M=0;M<g;M++){const P=M+1;P===R&&(A++,T=D[A].startLineNumber,N=D[A].endLineNumber,R=A+1<D.length?N+1:g+2);const x=P>=T&&P<=N,O=(0,b.createModelLineProjection)(_[M],!x);L[M]=O.getViewLineCount(),this.modelLineProjections[M]=O}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new v.ConstantTimePrefixSumComputer(L)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(l=>this.model.getDecorationRange(l))}setHiddenAreas(l){const d=l.map(N=>this.model.validateRange(N)),p=t(d),h=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(E.Range.compareRangesUsingStarts);if(p.length===h.length){let N=!1;for(let A=0;A<p.length;A++)if(!p[A].equalsRange(h[A])){N=!0;break}if(!N)return!1}const g=p.map(N=>({range:N,options:y.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,g);const C=p;let S=1,_=0,L=-1,D=L+1<C.length?_+1:this.modelLineProjections.length+2,T=!1;for(let N=0;N<this.modelLineProjections.length;N++){const A=N+1;A===D&&(L++,S=C[L].startLineNumber,_=C[L].endLineNumber,D=L+1<C.length?_+1:this.modelLineProjections.length+2);let R=!1;if(A>=S&&A<=_?this.modelLineProjections[N].isVisible()&&(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!1),R=!0):(T=!0,this.modelLineProjections[N].isVisible()||(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!0),R=!0)),R){const M=this.modelLineProjections[N].getViewLineCount();this.projectedModelLineLineCounts.setValue(N,M)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(l,d){return l<1||l>this.modelLineProjections.length?!1:this.modelLineProjections[l-1].isVisible()}getModelLineViewLineCount(l){return l<1||l>this.modelLineProjections.length?1:this.modelLineProjections[l-1].getViewLineCount()}setTabSize(l){return this.tabSize===l?!1:(this.tabSize=l,this._constructLines(!1,null),!0)}setWrappingSettings(l,d,p,h,g){const C=this.fontInfo.equals(l),S=this.wrappingStrategy===d,_=this.wrappingColumn===p,L=this.wrappingIndent===h,D=this.wordBreak===g;if(C&&S&&_&&L&&D)return!1;const T=C&&S&&!_&&L&&D;this.fontInfo=l,this.wrappingStrategy=d,this.wrappingColumn=p,this.wrappingIndent=h,this.wordBreak=g;let N=null;if(T){N=[];for(let A=0,R=this.modelLineProjections.length;A<R;A++)N[A]=this.modelLineProjections[A].getProjectionData()}return this._constructLines(!1,N),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(l,d,p){if(!l||l<=this._validModelVersionId)return null;const h=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,g=this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections.splice(d-1,p-d+1),this.projectedModelLineLineCounts.removeValues(d-1,p-d+1),new w.ViewLinesDeletedEvent(h,g)}onModelLinesInserted(l,d,p,h){if(!l||l<=this._validModelVersionId)return null;const g=d>2&&!this.modelLineProjections[d-2].isVisible(),C=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1;let S=0;const _=[],L=[];for(let D=0,T=h.length;D<T;D++){const N=(0,b.createModelLineProjection)(h[D],!g);_.push(N);const A=N.getViewLineCount();S+=A,L[D]=A}return this.modelLineProjections=this.modelLineProjections.slice(0,d-1).concat(_).concat(this.modelLineProjections.slice(d-1)),this.projectedModelLineLineCounts.insertValues(d-1,L),new w.ViewLinesInsertedEvent(C,C+S-1)}onModelLineChanged(l,d,p){if(l!==null&&l<=this._validModelVersionId)return[!1,null,null,null];const h=d-1,g=this.modelLineProjections[h].getViewLineCount(),C=this.modelLineProjections[h].isVisible(),S=(0,b.createModelLineProjection)(p,C);this.modelLineProjections[h]=S;const _=this.modelLineProjections[h].getViewLineCount();let L=!1,D=0,T=-1,N=0,A=-1,R=0,M=-1;g>_?(D=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,T=D+_-1,R=T+1,M=R+(g-_)-1,L=!0):g<_?(D=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,T=D+g-1,N=T+1,A=N+(_-g)-1,L=!0):(D=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,T=D+_-1),this.projectedModelLineLineCounts.setValue(h,_);const P=D<=T?new w.ViewLinesChangedEvent(D,T-D+1):null,x=N<=A?new w.ViewLinesInsertedEvent(N,A):null,O=R<=M?new w.ViewLinesDeletedEvent(R,M):null;return[L,P,x,O]}acceptVersionId(l){this._validModelVersionId=l,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(l){if(l<1)return 1;const d=this.getViewLineCount();return l>d?d:l|0}getActiveIndentGuide(l,d,p){l=this._toValidViewLineNumber(l),d=this._toValidViewLineNumber(d),p=this._toValidViewLineNumber(p);const h=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),g=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),C=this.convertViewPositionToModelPosition(p,this.getViewLineMinColumn(p)),S=this.model.guides.getActiveIndentGuide(h.lineNumber,g.lineNumber,C.lineNumber),_=this.convertModelPositionToViewPosition(S.startLineNumber,1),L=this.convertModelPositionToViewPosition(S.endLineNumber,this.model.getLineMaxColumn(S.endLineNumber));return{startLineNumber:_.lineNumber,endLineNumber:L.lineNumber,indent:S.indent}}getViewLineInfo(l){l=this._toValidViewLineNumber(l);const d=this.projectedModelLineLineCounts.getIndexOf(l-1),p=d.index,h=d.remainder;return new i(p+1,h)}getMinColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(l){const d=this.modelLineProjections[l.modelLineNumber-1],p=d.getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),h=d.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,p);return new k.Position(l.modelLineNumber,h)}getModelEndPositionOfViewLine(l){const d=this.modelLineProjections[l.modelLineNumber-1],p=d.getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),h=d.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,p);return new k.Position(l.modelLineNumber,h)}getViewLineInfosGroupedByModelRanges(l,d){const p=this.getViewLineInfo(l),h=this.getViewLineInfo(d),g=new Array;let C=this.getModelStartPositionOfViewLine(p),S=new Array;for(let _=p.modelLineNumber;_<=h.modelLineNumber;_++){const L=this.modelLineProjections[_-1];if(L.isVisible()){const D=_===p.modelLineNumber?p.modelLineWrappedLineIdx:0,T=_===h.modelLineNumber?h.modelLineWrappedLineIdx+1:L.getViewLineCount();for(let N=D;N<T;N++)S.push(new i(_,N))}if(!L.isVisible()&&C){const D=new k.Position(_-1,this.model.getLineMaxColumn(_-1)+1),T=E.Range.fromPositions(C,D);g.push(new n(T,S)),S=[],C=null}else L.isVisible()&&!C&&(C=new k.Position(_,1))}if(C){const _=E.Range.fromPositions(C,this.getModelEndPositionOfViewLine(h));g.push(new n(_,S))}return g}getViewLinesBracketGuides(l,d,p,h){const g=p?this.convertViewPositionToModelPosition(p.lineNumber,p.column):null,C=[];for(const S of this.getViewLineInfosGroupedByModelRanges(l,d)){const _=S.modelRange.startLineNumber,L=this.model.guides.getLinesBracketGuides(_,S.modelRange.endLineNumber,g,h);for(const D of S.viewLines){const N=L[D.modelLineNumber-_].map(A=>{if(A.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[D.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesAfterColumn).lineNumber>=D.modelLineWrappedLineIdx||A.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[D.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesBeforeOrAtColumn).lineNumber<D.modelLineWrappedLineIdx)return;if(!A.horizontalLine)return A;let R=-1;if(A.column!==-1){const x=this.modelLineProjections[D.modelLineNumber-1].getViewPositionOfModelPosition(0,A.column);if(x.lineNumber===D.modelLineWrappedLineIdx)R=x.column;else if(x.lineNumber<D.modelLineWrappedLineIdx)R=this.getMinColumnOfViewLine(D);else if(x.lineNumber>D.modelLineWrappedLineIdx)return}const M=this.convertModelPositionToViewPosition(D.modelLineNumber,A.horizontalLine.endColumn),P=this.modelLineProjections[D.modelLineNumber-1].getViewPositionOfModelPosition(0,A.horizontalLine.endColumn);return P.lineNumber===D.modelLineWrappedLineIdx?new I.IndentGuide(A.visibleColumn,R,A.className,new I.IndentGuideHorizontalLine(A.horizontalLine.top,M.column),-1,-1):P.lineNumber<D.modelLineWrappedLineIdx||A.visibleColumn!==-1?void 0:new I.IndentGuide(A.visibleColumn,R,A.className,new I.IndentGuideHorizontalLine(A.horizontalLine.top,this.getMaxColumnOfViewLine(D)),-1,-1)});C.push(N.filter(A=>!!A))}}return C}getViewLinesIndentGuides(l,d){l=this._toValidViewLineNumber(l),d=this._toValidViewLineNumber(d);const p=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),h=this.convertViewPositionToModelPosition(d,this.getViewLineMaxColumn(d));let g=[];const C=[],S=[],_=p.lineNumber-1,L=h.lineNumber-1;let D=null;for(let R=_;R<=L;R++){const M=this.modelLineProjections[R];if(M.isVisible()){const P=M.getViewLineNumberOfModelPosition(0,R===_?p.column:1),x=M.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(R+1)),O=x-P+1;let B=0;O>1&&M.getViewLineMinColumn(this.model,R+1,x)===1&&(B=P===0?1:2),C.push(O),S.push(B),D===null&&(D=new k.Position(R+1,0))}else D!==null&&(g=g.concat(this.model.guides.getLinesIndentGuides(D.lineNumber,R)),D=null)}D!==null&&(g=g.concat(this.model.guides.getLinesIndentGuides(D.lineNumber,h.lineNumber)),D=null);const T=d-l+1,N=new Array(T);let A=0;for(let R=0,M=g.length;R<M;R++){let P=g[R];const x=Math.min(T-A,C[R]),O=S[R];let B;O===2?B=0:O===1?B=1:B=x;for(let H=0;H<x;H++)H===B&&(P=0),N[A++]=P}return N}getViewLineContent(l){const d=this.getViewLineInfo(l);return this.modelLineProjections[d.modelLineNumber-1].getViewLineContent(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineLength(l){const d=this.getViewLineInfo(l);return this.modelLineProjections[d.modelLineNumber-1].getViewLineLength(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMinColumn(l){const d=this.getViewLineInfo(l);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMaxColumn(l){const d=this.getViewLineInfo(l);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineData(l){const d=this.getViewLineInfo(l);return this.modelLineProjections[d.modelLineNumber-1].getViewLineData(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLinesData(l,d,p){l=this._toValidViewLineNumber(l),d=this._toValidViewLineNumber(d);const h=this.projectedModelLineLineCounts.getIndexOf(l-1);let g=l;const C=h.index,S=h.remainder,_=[];for(let L=C,D=this.model.getLineCount();L<D;L++){const T=this.modelLineProjections[L];if(!T.isVisible())continue;const N=L===C?S:0;let A=T.getViewLineCount()-N,R=!1;if(g+A>d&&(R=!0,A=d-g+1),T.getViewLinesData(this.model,L+1,N,A,g-l,p,_),g+=A,R)break}return _}validateViewPosition(l,d,p){l=this._toValidViewLineNumber(l);const h=this.projectedModelLineLineCounts.getIndexOf(l-1),g=h.index,C=h.remainder,S=this.modelLineProjections[g],_=S.getViewLineMinColumn(this.model,g+1,C),L=S.getViewLineMaxColumn(this.model,g+1,C);d<_&&(d=_),d>L&&(d=L);const D=S.getModelColumnOfViewPosition(C,d);return this.model.validatePosition(new k.Position(g+1,D)).equals(p)?new k.Position(l,d):this.convertModelPositionToViewPosition(p.lineNumber,p.column)}validateViewRange(l,d){const p=this.validateViewPosition(l.startLineNumber,l.startColumn,d.getStartPosition()),h=this.validateViewPosition(l.endLineNumber,l.endColumn,d.getEndPosition());return new E.Range(p.lineNumber,p.column,h.lineNumber,h.column)}convertViewPositionToModelPosition(l,d){const p=this.getViewLineInfo(l),h=this.modelLineProjections[p.modelLineNumber-1].getModelColumnOfViewPosition(p.modelLineWrappedLineIdx,d);return this.model.validatePosition(new k.Position(p.modelLineNumber,h))}convertViewRangeToModelRange(l){const d=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),p=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);return new E.Range(d.lineNumber,d.column,p.lineNumber,p.column)}convertModelPositionToViewPosition(l,d,p=2,h=!1,g=!1){const C=this.model.validatePosition(new k.Position(l,d)),S=C.lineNumber,_=C.column;let L=S-1,D=!1;if(g)for(;L<this.modelLineProjections.length&&!this.modelLineProjections[L].isVisible();)L++,D=!0;else for(;L>0&&!this.modelLineProjections[L].isVisible();)L--,D=!0;if(L===0&&!this.modelLineProjections[L].isVisible())return new k.Position(h?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(L);let N;return D?g?N=this.modelLineProjections[L].getViewPositionOfModelPosition(T,1,p):N=this.modelLineProjections[L].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(L+1),p):N=this.modelLineProjections[S-1].getViewPositionOfModelPosition(T,_,p),N}convertModelRangeToViewRange(l,d=0){if(l.isEmpty()){const p=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,d);return E.Range.fromPositions(p)}else{const p=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,1),h=this.convertModelPositionToViewPosition(l.endLineNumber,l.endColumn,0);return new E.Range(p.lineNumber,p.column,h.lineNumber,h.column)}}getViewLineNumberOfModelPosition(l,d){let p=l-1;if(this.modelLineProjections[p].isVisible()){const g=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(g,d)}for(;p>0&&!this.modelLineProjections[p].isVisible();)p--;if(p===0&&!this.modelLineProjections[p].isVisible())return 1;const h=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(h,this.model.getLineMaxColumn(p+1))}getDecorationsInRange(l,d,p,h,g){const C=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),S=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);if(S.lineNumber-C.lineNumber<=l.endLineNumber-l.startLineNumber)return this.model.getDecorationsInRange(new E.Range(C.lineNumber,1,S.lineNumber,S.column),d,p,h,g);let _=[];const L=C.lineNumber-1,D=S.lineNumber-1;let T=null;for(let M=L;M<=D;M++)if(this.modelLineProjections[M].isVisible())T===null&&(T=new k.Position(M+1,M===L?C.column:1));else if(T!==null){const x=this.model.getLineMaxColumn(M);_=_.concat(this.model.getDecorationsInRange(new E.Range(T.lineNumber,T.column,M,x),d,p,h)),T=null}T!==null&&(_=_.concat(this.model.getDecorationsInRange(new E.Range(T.lineNumber,T.column,S.lineNumber,S.column),d,p,h)),T=null),_.sort((M,P)=>{const x=E.Range.compareRangesUsingStarts(M.range,P.range);return x===0?M.id<P.id?-1:M.id>P.id?1:0:x});const N=[];let A=0,R=null;for(const M of _){const P=M.id;R!==P&&(R=P,N[A++]=M)}return N}getInjectedTextAt(l){const d=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[d.modelLineNumber-1].getInjectedTextAt(d.modelLineWrappedLineIdx,l.column)}normalizePosition(l,d){const p=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[p.modelLineNumber-1].normalizePosition(p.modelLineWrappedLineIdx,l,d)}getLineIndentColumn(l){const d=this.getViewLineInfo(l);return d.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(d.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=o;function t(a){if(a.length===0)return[];const l=a.slice();l.sort(E.Range.compareRangesUsingStarts);const d=[];let p=l[0].startLineNumber,h=l[0].endLineNumber;for(let g=1,C=l.length;g<C;g++){const S=l[g];S.startLineNumber>h+1?(d.push(new E.Range(p,1,h,1)),p=S.startLineNumber,h=S.endLineNumber):S.endLineNumber>h&&(h=S.endLineNumber)}return d.push(new E.Range(p,1,h,1)),d}class i{constructor(l,d){this.modelLineNumber=l,this.modelLineWrappedLineIdx=d}}class n{constructor(l,d){this.modelRange=l,this.viewLines=d}}class c{constructor(l){this._lines=l}convertViewPositionToModelPosition(l){return this._lines.convertViewPositionToModelPosition(l.lineNumber,l.column)}convertViewRangeToModelRange(l){return this._lines.convertViewRangeToModelRange(l)}validateViewPosition(l,d){return this._lines.validateViewPosition(l.lineNumber,l.column,d)}validateViewRange(l,d){return this._lines.validateViewRange(l,d)}convertModelPositionToViewPosition(l,d,p,h){return this._lines.convertModelPositionToViewPosition(l.lineNumber,l.column,d,p,h)}convertModelRangeToViewRange(l,d){return this._lines.convertModelRangeToViewRange(l,d)}modelPositionIsVisible(l){return this._lines.modelPositionIsVisible(l.lineNumber,l.column)}getModelLineViewLineCount(l){return this._lines.getModelLineViewLineCount(l)}getViewLineNumberOfModelPosition(l,d){return this._lines.getViewLineNumberOfModelPosition(l,d)}}class u{constructor(l){this.model=l}dispose(){}createCoordinatesConverter(){return new r(this)}getHiddenAreas(){return[]}setHiddenAreas(l){return!1}setTabSize(l){return!1}setWrappingSettings(l,d,p,h){return!1}createLineBreaksComputer(){const l=[];return{addRequest:(d,p,h)=>{l.push(null)},finalize:()=>l}}onModelFlushed(){}onModelLinesDeleted(l,d,p){return new w.ViewLinesDeletedEvent(d,p)}onModelLinesInserted(l,d,p,h){return new w.ViewLinesInsertedEvent(d,p)}onModelLineChanged(l,d,p){return[!1,new w.ViewLinesChangedEvent(d,1),null,null]}acceptVersionId(l){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(l,d,p){return{startLineNumber:l,endLineNumber:l,indent:0}}getViewLinesBracketGuides(l,d,p){return new Array(d-l+1).fill([])}getViewLinesIndentGuides(l,d){const p=d-l+1,h=new Array(p);for(let g=0;g<p;g++)h[g]=0;return h}getViewLineContent(l){return this.model.getLineContent(l)}getViewLineLength(l){return this.model.getLineLength(l)}getViewLineMinColumn(l){return this.model.getLineMinColumn(l)}getViewLineMaxColumn(l){return this.model.getLineMaxColumn(l)}getViewLineData(l){const d=this.model.tokenization.getLineTokens(l),p=d.getLineContent();return new s.ViewLineData(p,!1,1,p.length+1,0,d.inflate(),null)}getViewLinesData(l,d,p){const h=this.model.getLineCount();l=Math.min(Math.max(1,l),h),d=Math.min(Math.max(1,d),h);const g=[];for(let C=l;C<=d;C++){const S=C-l;g[S]=p[S]?this.getViewLineData(C):null}return g}getDecorationsInRange(l,d,p,h,g){return this.model.getDecorationsInRange(l,d,p,h,g)}normalizePosition(l,d){return this.model.normalizePosition(l,d)}getLineIndentColumn(l){return this.model.getLineIndentColumn(l)}getInjectedTextAt(l){return null}}e.ViewModelLinesFromModelAsIs=u;class r{constructor(l){this._lines=l}_validPosition(l){return this._lines.model.validatePosition(l)}_validRange(l){return this._lines.model.validateRange(l)}convertViewPositionToModelPosition(l){return this._validPosition(l)}convertViewRangeToModelRange(l){return this._validRange(l)}validateViewPosition(l,d){return this._validPosition(d)}validateViewRange(l,d){return this._validRange(d)}convertModelPositionToViewPosition(l){return this._validPosition(l)}convertModelRangeToViewRange(l){return this._validRange(l)}modelPositionIsVisible(l){const d=this._lines.model.getLineCount();return!(l.lineNumber<1||l.lineNumber>d)}getModelLineViewLineCount(l){return 1}getViewLineNumberOfModelPosition(l,d){return l}}}),define(re[804],ae([1,0,13,14,33,2,16,11,37,700,76,9,5,129,27,79,371,254,627,374,95,375,255,803,622]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const C=!0;class S extends I.Disposable{constructor(M,P,x,O,B,H,K,V,j,U){if(super(),this.languageConfigurationService=K,this._themeService=V,this._attachedView=j,this._transactionalTarget=U,this.hiddenAreasModel=new D,this.previousHiddenAreas=[],this._editorId=M,this._configuration=P,this.model=x,this._eventDispatcher=new p.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=_.create(this.model),this.glyphLanes=new g.GlyphMarginLanesModel(0),C&&this.model.isTooLargeForTokenization())this._lines=new h.ViewModelLinesFromModelAsIs(this.model);else{const Y=this._configuration.options,Q=Y.get(50),Z=Y.get(140),G=Y.get(147),F=Y.get(139),J=Y.get(130);this._lines=new h.ViewModelLinesFromProjectedModel(this._editorId,this.model,O,B,Q,this.model.getOptions().tabSize,Z,G.wrappingColumn,F,J)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new b.CursorsController(x,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new r.ViewLayout(this._configuration,this.getLineCount(),H)),this._register(this.viewLayout.onDidScroll(Y=>{Y.scrollTopChanged&&this._handleVisibleLinesChanged(),Y.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new u.ViewScrollChangedEvent(Y)),this._eventDispatcher.emitOutgoingEvent(new p.ScrollChangedEvent(Y.oldScrollWidth,Y.oldScrollLeft,Y.oldScrollHeight,Y.oldScrollTop,Y.scrollWidth,Y.scrollLeft,Y.scrollHeight,Y.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Y=>{this._eventDispatcher.emitOutgoingEvent(Y)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Y=>{try{const Q=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Q,Y)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(a.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new u.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(Y=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new u.ViewThemeChangedEvent(Y))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),P=new o.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(P)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new u.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new p.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new u.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new u.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new s.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),P=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new A(P,this._viewportStart.startLineDelta)}return new A(null,0)}_onConfigurationChanged(M,P){const x=this._captureStableViewport(),O=this._configuration.options,B=O.get(50),H=O.get(140),K=O.get(147),V=O.get(139),j=O.get(130);this._lines.setWrappingSettings(B,H,K.wrappingColumn,V,j)&&(M.emitViewEvent(new u.ViewFlushedEvent),M.emitViewEvent(new u.ViewLineMappingChangedEvent),M.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),P.hasChanged(92)&&(this._decorations.reset(),M.emitViewEvent(new u.ViewDecorationsChangedEvent(null))),P.hasChanged(99)&&(this._decorations.reset(),M.emitViewEvent(new u.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new u.ViewConfigurationChangedEvent(P)),this.viewLayout.onConfigurationChanged(P),x.recoverViewportStart(this.coordinatesConverter,this.viewLayout),v.CursorConfiguration.shouldRecreate(P)&&(this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const x=this._eventDispatcher.beginEmitViewEvents();let O=!1,B=!1;const H=M instanceof t.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,K=M instanceof t.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,V=this._lines.createLineBreaksComputer();for(const Y of H)switch(Y.changeType){case 4:{for(let Q=0;Q<Y.detail.length;Q++){const Z=Y.detail[Q];let G=Y.injectedTexts[Q];G&&(G=G.filter(F=>!F.ownerId||F.ownerId===this._editorId)),V.addRequest(Z,G,null)}break}case 2:{let Q=null;Y.injectedText&&(Q=Y.injectedText.filter(Z=>!Z.ownerId||Z.ownerId===this._editorId)),V.addRequest(Y.detail,Q,null);break}}const j=V.finalize(),U=new f.ArrayQueue(j);for(const Y of H)switch(Y.changeType){case 1:{this._lines.onModelFlushed(),x.emitViewEvent(new u.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),O=!0;break}case 3:{const Q=this._lines.onModelLinesDeleted(K,Y.fromLineNumber,Y.toLineNumber);Q!==null&&(x.emitViewEvent(Q),this.viewLayout.onLinesDeleted(Q.fromLineNumber,Q.toLineNumber)),O=!0;break}case 4:{const Q=U.takeCount(Y.detail.length),Z=this._lines.onModelLinesInserted(K,Y.fromLineNumber,Y.toLineNumber,Q);Z!==null&&(x.emitViewEvent(Z),this.viewLayout.onLinesInserted(Z.fromLineNumber,Z.toLineNumber)),O=!0;break}case 2:{const Q=U.dequeue(),[Z,G,F,J]=this._lines.onModelLineChanged(K,Y.lineNumber,Q);B=Z,G&&x.emitViewEvent(G),F&&(x.emitViewEvent(F),this.viewLayout.onLinesInserted(F.fromLineNumber,F.toLineNumber)),J&&(x.emitViewEvent(J),this.viewLayout.onLinesDeleted(J.fromLineNumber,J.toLineNumber));break}case 5:break}K!==null&&this._lines.acceptVersionId(K),this.viewLayout.onHeightMaybeChanged(),!O&&B&&(x.emitViewEvent(new u.ViewLineMappingChangedEvent),x.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(x),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const P=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&P){const x=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(x){const O=this.coordinatesConverter.convertModelPositionToViewPosition(x.getStartPosition()),B=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStart.startLineDelta},1)}}try{const x=this._eventDispatcher.beginEmitViewEvents();M instanceof t.InternalModelContentChangeEvent&&x.emitOutgoingEvent(new p.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(x,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const P=[];for(let x=0,O=M.ranges.length;x<O;x++){const B=M.ranges[x],H=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(B.fromLineNumber,1)).lineNumber,K=this.coordinatesConverter.convertModelPositionToViewPosition(new s.Position(B.toLineNumber,this.model.getLineMaxColumn(B.toLineNumber))).lineNumber;P[x]={fromLineNumber:H,toLineNumber:K}}this._eventDispatcher.emitSingleViewEvent(new u.ViewTokensChangedEvent(P)),this._eventDispatcher.emitOutgoingEvent(new p.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new u.ViewLanguageConfigurationEvent),this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const P=this._eventDispatcher.beginEmitViewEvents();P.emitViewEvent(new u.ViewFlushedEvent),P.emitViewEvent(new u.ViewLineMappingChangedEvent),P.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(P),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new u.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new p.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,P){var x;this.hiddenAreasModel.setHiddenAreas(P,M);const O=this.hiddenAreasModel.getMergedRanges();if(O===this.previousHiddenAreas)return;this.previousHiddenAreas=O;const B=this._captureStableViewport();let H=!1;try{const K=this._eventDispatcher.beginEmitViewEvents();H=this._lines.setHiddenAreas(O),H&&(K.emitViewEvent(new u.ViewFlushedEvent),K.emitViewEvent(new u.ViewLineMappingChangedEvent),K.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(K),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const V=(x=B.viewportStartModelPosition)===null||x===void 0?void 0:x.lineNumber;V&&O.some(U=>U.startLineNumber<=V&&V<=U.endLineNumber)||B.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),H&&this._eventDispatcher.emitOutgoingEvent(new p.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(146),P=this._configuration.options.get(67),x=Math.max(20,Math.round(M.height/P)),O=this.viewLayout.getLinesViewportData(),B=Math.max(1,O.completelyVisibleStartLineNumber-x),H=Math.min(this.getLineCount(),O.completelyVisibleEndLineNumber+x);return this._toModelVisibleRanges(new o.Range(B,this.getLineMinColumn(B),H,this.getLineMaxColumn(H)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const P=this.coordinatesConverter.convertViewRangeToModelRange(M),x=this._lines.getHiddenAreas();if(x.length===0)return[P];const O=[];let B=0,H=P.startLineNumber,K=P.startColumn;const V=P.endLineNumber,j=P.endColumn;for(let U=0,Y=x.length;U<Y;U++){const Q=x[U].startLineNumber,Z=x[U].endLineNumber;Z<H||Q>V||(H<Q&&(O[B++]=new o.Range(H,K,Q-1,this.model.getLineMaxColumn(Q-1))),H=Z+1,K=1)}return(H<V||H===V&&K<j)&&(O[B++]=new o.Range(H,K,V,j)),O}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),P=M.completelyVisibleStartLineNumber,x=M.completelyVisibleEndLineNumber;return new o.Range(P,this.getLineMinColumn(P),x,this.getLineMaxColumn(x))}getCompletelyVisibleViewRangeAtScrollTop(M){const P=this.viewLayout.getLinesViewportDataAtScrollTop(M),x=P.completelyVisibleStartLineNumber,O=P.completelyVisibleEndLineNumber;return new o.Range(x,this.getLineMinColumn(x),O,this.getLineMaxColumn(O))}saveState(){const M=this.viewLayout.saveState(),P=M.scrollTop,x=this.viewLayout.getLineNumberAtVerticalOffset(P),O=this.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(x,this.getLineMinColumn(x))),B=this.viewLayout.getVerticalOffsetForLineNumber(x)-P;return{scrollLeft:M.scrollLeft,firstPosition:O,firstPositionDeltaTop:B}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const P=this.model.validatePosition(M.firstPosition),x=this.coordinatesConverter.convertModelPositionToViewPosition(P),O=this.viewLayout.getVerticalOffsetForLineNumber(x.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:O}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,P,x){this._viewportStart.update(this,M)}getActiveIndentGuide(M,P,x){return this._lines.getActiveIndentGuide(M,P,x)}getLinesIndentGuides(M,P){return this._lines.getViewLinesIndentGuides(M,P)}getBracketGuidesInRangeByLine(M,P,x,O){return this._lines.getViewLinesBracketGuides(M,P,x,O)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const P=m.firstNonWhitespaceIndex(this.getLineContent(M));return P===-1?0:P+1}getLineLastNonWhitespaceColumn(M){const P=m.lastNonWhitespaceIndex(this.getLineContent(M));return P===-1?0:P+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,P){const O=this._decorations.getDecorationsViewportData(M).inlineDecorations[P-M.startLineNumber];return this._getViewLineRenderingData(P,O)}getViewLineRenderingData(M){const P=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,P)}_getViewLineRenderingData(M,P){const x=this.model.mightContainRTL(),O=this.model.mightContainNonBasicASCII(),B=this.getTabSize(),H=this._lines.getViewLineData(M);return H.inlineDecorations&&(P=[...P,...H.inlineDecorations.map(K=>K.toInlineDecoration(M))]),new l.ViewLineRenderingData(H.minColumn,H.maxColumn,H.content,H.continuesWithWrappedLine,x,O,H.tokens,P,B,H.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,P,x){const O=this._lines.getViewLinesData(M,P,x);return new l.MinimapLinesRenderingData(this.getTabSize(),O)}getAllOverviewRulerDecorations(M){const P=this.model.getOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options)),x=new L;for(const O of P){const B=O.options,H=B.overviewRuler;if(!H)continue;const K=H.position;if(K===0)continue;const V=H.getColor(M.value),j=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.startLineNumber,O.range.startColumn),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.endLineNumber,O.range.endColumn);x.accept(V,B.zIndex,j,U,K)}return x.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const P of M){const x=P.options.overviewRuler;x?.invalidateCachedColor();const O=P.options.minimap;O?.invalidateCachedColor()}}getValueInRange(M,P){const x=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(x,P)}getValueLengthInRange(M,P){const x=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(x,P)}modifyPosition(M,P){const x=this.coordinatesConverter.convertViewPositionToModelPosition(M),O=this.model.modifyPosition(x,P);return this.coordinatesConverter.convertModelPositionToViewPosition(O)}deduceModelPositionRelativeToViewPosition(M,P,x){const O=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(P<0?P-=x:P+=x);const H=this.model.getOffsetAt(O)+P;return this.model.getPositionAt(H)}getPlainTextToCopy(M,P,x){const O=x?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(o.Range.compareRangesUsingStarts);let B=!1,H=!1;for(const V of M)V.isEmpty()?B=!0:H=!0;if(!H){if(!P)return"";const V=M.map(U=>U.startLineNumber);let j="";for(let U=0;U<V.length;U++)U>0&&V[U-1]===V[U]||(j+=this.model.getLineContent(V[U])+O);return j}if(B&&P){const V=[];let j=0;for(const U of M){const Y=U.startLineNumber;U.isEmpty()?Y!==j&&V.push(this.model.getLineContent(Y)):V.push(this.model.getValueInRange(U,x?2:0)),j=Y}return V.length===1?V[0]:V}const K=[];for(const V of M)V.isEmpty()||K.push(this.model.getValueInRange(V,x?2:0));return K.length===1?K[0]:K}getRichTextToCopy(M,P){const x=this.model.getLanguageId();if(x===n.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let O=M[0];if(O.isEmpty()){if(!P)return null;const U=O.startLineNumber;O=new o.Range(U,this.model.getLineMinColumn(U),U,this.model.getLineMaxColumn(U))}const B=this._configuration.options.get(50),H=this._getColorMap(),V=/[:;\\\/<>]/.test(B.fontFamily)||B.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let j;return V?j=w.EDITOR_FONT_DEFAULTS.fontFamily:(j=B.fontFamily,j=j.replace(/"/g,"'"),/[,']/.test(j)||/[+ ]/.test(j)&&(j=`'${j}'`),j=`${j}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:x,html:`<div style="color: ${H[1]};background-color: ${H[2]};font-family: ${j};font-weight: ${B.fontWeight};font-size: ${B.fontSize}px;line-height: ${B.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(O,H)+"</div>"}}_getHTMLToCopy(M,P){const x=M.startLineNumber,O=M.startColumn,B=M.endLineNumber,H=M.endColumn,K=this.getTabSize();let V="";for(let j=x;j<=B;j++){const U=this.model.tokenization.getLineTokens(j),Y=U.getLineContent(),Q=j===x?O-1:0,Z=j===B?H-1:Y.length;Y===""?V+="<br>":V+=(0,c.tokenizeLineToHTML)(Y,U.inflate(),P,Q,Z,K,y.isWindows)}return V}_getColorMap(){const M=i.TokenizationRegistry.getColorMap(),P=["#000000"];if(M)for(let x=1,O=M.length;x<O;x++)P[x]=E.Color.Format.CSS.formatHex(M[x]);return P}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,P,x){return this._withViewEventsCollector(O=>this._cursor.setStates(O,M,P,x))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,P,x=0){this._withViewEventsCollector(O=>this._cursor.setSelections(O,M,P,x))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(P=>this._cursor.restoreState(P,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new p.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,P,x){this._executeCursorEdit(O=>this._cursor.executeEdits(O,M,P,x))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(P=>this._cursor.endComposition(P,M))}type(M,P){this._executeCursorEdit(x=>this._cursor.type(x,M,P))}compositionType(M,P,x,O,B){this._executeCursorEdit(H=>this._cursor.compositionType(H,M,P,x,O,B))}paste(M,P,x,O){this._executeCursorEdit(B=>this._cursor.paste(B,M,P,x,O))}cut(M){this._executeCursorEdit(P=>this._cursor.cut(P,M))}executeCommand(M,P){this._executeCursorEdit(x=>this._cursor.executeCommand(x,M,P))}executeCommands(M,P){this._executeCursorEdit(x=>this._cursor.executeCommands(x,M,P))}revealAllCursors(M,P,x=!1){this._withViewEventsCollector(O=>this._cursor.revealAll(O,M,x,0,P,0))}revealPrimaryCursor(M,P,x=!1){this._withViewEventsCollector(O=>this._cursor.revealPrimary(O,M,x,0,P,0))}revealTopMostCursor(M){const P=this._cursor.getTopMostViewPosition(),x=new o.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(O=>O.emitViewEvent(new u.ViewRevealRangeRequestEvent(M,!1,x,null,0,!0,0)))}revealBottomMostCursor(M){const P=this._cursor.getBottomMostViewPosition(),x=new o.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(O=>O.emitViewEvent(new u.ViewRevealRangeRequestEvent(M,!1,x,null,0,!0,0)))}revealRange(M,P,x,O,B){this._withViewEventsCollector(H=>H.emitViewEvent(new u.ViewRevealRangeRequestEvent(M,!1,x,null,O,P,B)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new u.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new p.ViewZonesChangedEvent))}_withViewEventsCollector(M){return this._transactionalTarget.batchChanges(()=>{try{const P=this._eventDispatcher.beginEmitViewEvents();return M(P)}finally{this._eventDispatcher.endEmitViewEvents()}})}batchEvents(M){this._withViewEventsCollector(()=>{M()})}normalizePosition(M,P){return this._lines.normalizePosition(M,P)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=S;class _{static create(M){const P=M._setTrackedRange(null,new o.Range(1,1,1,1),1);return new _(M,1,!1,P,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,P,x,O,B){this._model=M,this._viewLineNumber=P,this._isValid=x,this._modelTrackedRange=O,this._startLineDelta=B}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,P){const x=M.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(P,M.getLineMinColumn(P))),O=M.model._setTrackedRange(this._modelTrackedRange,new o.Range(x.lineNumber,x.column,x.lineNumber,x.column),1),B=M.viewLayout.getVerticalOffsetForLineNumber(P),H=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=P,this._isValid=!0,this._modelTrackedRange=O,this._startLineDelta=H-B}invalidate(){this._isValid=!1}}class L{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,P,x,O,B){const H=this._asMap[M];if(H){const K=H.data,V=K[K.length-3],j=K[K.length-1];if(V===B&&j+1>=x){O>j&&(K[K.length-1]=O);return}K.push(B,x,O)}else{const K=new l.OverviewRulerDecorationsGroup(M,P,[B,x,O]);this._asMap[M]=K,this.asArray.push(K)}}}class D{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,P){const x=this.hiddenAreas.get(M);x&&N(x,P)||(this.hiddenAreas.set(M,P),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((P,x)=>T(P,x),[]);return N(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function T(R,M){const P=[];let x=0,O=0;for(;x<R.length&&O<M.length;){const B=R[x],H=M[O];if(B.endLineNumber<H.startLineNumber-1)P.push(R[x++]);else if(H.endLineNumber<B.startLineNumber-1)P.push(M[O++]);else{const K=Math.min(B.startLineNumber,H.startLineNumber),V=Math.max(B.endLineNumber,H.endLineNumber);P.push(new o.Range(K,1,V,1)),x++,O++}}for(;x<R.length;)P.push(R[x++]);for(;O<M.length;)P.push(M[O++]);return P}function N(R,M){if(R.length!==M.length)return!1;for(let P=0;P<R.length;P++)if(!R[P].equalsRange(M[P]))return!1;return!0}class A{constructor(M,P){this.viewportStartModelPosition=M,this.startLineDelta=P}recoverViewportStart(M,P){if(!this.viewportStartModelPosition)return;const x=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),O=P.getVerticalOffsetForLineNumber(x.lineNumber);P.setScrollPosition({scrollTop:O+this.startLineDelta},1)}}}),define(re[217],ae([1,0,4,8,6,2,46,74,679,239,15,35,774,602,321,562,37,93,81,9,5,23,198,332,197,20,34,36,17,624,804,3,60,24,12,7,179,49,32,25,29,717,509]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N,A,R,M,P,x,O,B,H,K){"use strict";var V;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let j=V=class extends I.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(W,q,z,$,X,ee,oe,ce,fe,ve,_e,Ie){var Ce,Ee;super(),this.languageConfigurationService=_e,this._deliveryQueue=(0,E.createEventDeliveryQueue)(),this._contributions=this._register(new n.CodeEditorContributions),this._onDidDispose=this._register(new E.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Z(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Q({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Q({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Z(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Z(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Z(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Z(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Z(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Z(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Z(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Z(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Z(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Z(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._updateCounter=0,this._onBeginUpdate=this._register(new E.Emitter),this.onBeginUpdate=this._onBeginUpdate.event,this._onEndUpdate=this._register(new E.Emitter),this.onEndUpdate=this._onEndUpdate.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),X.willCreateCodeEditor();const Le={...q};this._domElement=W,this._overflowWidgetsDomNode=Le.overflowWidgetsDomNode,delete Le.overflowWidgetsDomNode,this._id=++U,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=z.telemetryData,this._configuration=this._register(this._createConfiguration(z.isSimpleWidget||!1,(Ce=z.contextMenuId)!==null&&Ce!==void 0?Ce:z.isSimpleWidget?K.MenuId.SimpleEditorContext:K.MenuId.EditorContext,Le,ve)),this._register(this._configuration.onDidChange(Pe=>{this._onDidChangeConfiguration.fire(Pe);const Re=this._configuration.options;if(Pe.hasChanged(146)){const We=Re.get(146);this._onDidLayoutChange.fire(We)}})),this._contextKeyService=this._register(oe.createScoped(this._domElement)),this._notificationService=fe,this._codeEditorService=X,this._commandService=ee,this._themeService=ce,this._register(new G(this,this._contextKeyService)),this._register(new F(this,this._contextKeyService,Ie)),this._instantiationService=this._register($.createChild(new x.ServiceCollection([M.IContextKeyService,this._contextKeyService]))),this._modelData=null,this._focusTracker=new J(W,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Te;Array.isArray(z.contributions)?Te=z.contributions:Te=v.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Te,this._instantiationService);for(const Pe of v.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Pe.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Pe.id}`));continue}const Re=new h.InternalEditorAction(Pe.id,Pe.label,Pe.alias,Pe.metadata,(Ee=Pe.precondition)!==null&&Ee!==void 0?Ee:void 0,We=>this._instantiationService.invokeFunction(De=>Promise.resolve(Pe.runEditorCommand(De,this,We))),this._contextKeyService);this._actions.set(Re.id,Re)}const Ae=()=>!this._configuration.options.get(92)&&this._configuration.options.get(36).enabled;this._register(new f.DragAndDropObserver(this._domElement,{onDragOver:Pe=>{if(!Ae())return;const Re=this.getTargetAtClientPoint(Pe.clientX,Pe.clientY);Re?.position&&this.showDropIndicatorAt(Re.position)},onDrop:async Pe=>{if(!Ae()||(this.removeDropIndicator(),!Pe.dataTransfer))return;const Re=this.getTargetAtClientPoint(Pe.clientX,Pe.clientY);Re?.position&&this._onDropIntoEditor.fire({position:Re.position,event:Pe})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(W){var q;(q=this._modelData)===null||q===void 0||q.view.writeScreenReaderContent(W)}_createConfiguration(W,q,z,$){return new w.EditorConfiguration(W,q,z,this._domElement,$)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return g.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(W){return this._instantiationService.invokeFunction(W)}updateOptions(W){this._configuration.updateOptions(W||{})}getOptions(){return this._configuration.options}getOption(W){return this._configuration.options.get(W)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(W){return this._modelData?p.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(132),this._configuration.options.get(131),W):null}getValue(W=null){if(!this._modelData)return"";const q=!!(W&&W.preserveBOM);let z=0;return W&&W.lineEnding&&W.lineEnding===`
`?z=1:W&&W.lineEnding&&W.lineEnding===`\r
`&&(z=2),this._modelData.model.getValue(z,q)}setValue(W){try{if(this._beginUpdate(),!this._modelData)return;this._modelData.model.setValue(W)}finally{this._endUpdate()}}getModel(){return this._modelData?this._modelData.model:null}setModel(W=null){var q;try{this._beginUpdate();const z=W;if(this._modelData===null&&z===null||this._modelData&&this._modelData.model===z)return;const $={oldModelUrl:((q=this._modelData)===null||q===void 0?void 0:q.model.uri)||null,newModelUrl:z?.uri||null};this._onWillChangeModel.fire($);const X=this.hasTextFocus(),ee=this._detachModel();this._attachModel(z),X&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(ee),this._contributionsDisposable=this._contributions.onAfterModelAttached()}finally{this._endUpdate()}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const W in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[W];for(const z in q)this._removeDecorationType(W+"-"+z)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(W,q,z,$){const X=W.model.validatePosition({lineNumber:q,column:z}),ee=W.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return W.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ee.lineNumber,$)}getTopForLineNumber(W,q=!1){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,W,1,q):-1}getTopForPosition(W,q){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,W,q,!1):-1}static _getVerticalOffsetForPosition(W,q,z,$=!1){const X=W.model.validatePosition({lineNumber:q,column:z}),ee=W.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return W.viewModel.viewLayout.getVerticalOffsetForLineNumber(ee.lineNumber,$)}getBottomForLineNumber(W,q=!1){return this._modelData?V._getVerticalOffsetAfterPosition(this._modelData,W,1,q):-1}setHiddenAreas(W,q){var z;(z=this._modelData)===null||z===void 0||z.viewModel.setHiddenAreas(W.map($=>l.Range.lift($)),q)}getVisibleColumnFromPosition(W){if(!this._modelData)return W.column;const q=this._modelData.model.validatePosition(W),z=this._modelData.model.getOptions().tabSize;return u.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,z)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(W,q="api"){if(this._modelData){if(!a.Position.isIPosition(W))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,[{selectionStartLineNumber:W.lineNumber,selectionStartColumn:W.column,positionLineNumber:W.lineNumber,positionColumn:W.column}])}}_sendRevealRange(W,q,z,$){if(!this._modelData)return;if(!l.Range.isIRange(W))throw new Error("Invalid arguments");const X=this._modelData.model.validateRange(W),ee=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(X);this._modelData.viewModel.revealRange("api",z,ee,q,$)}revealLine(W,q=0){this._revealLine(W,0,q)}revealLineInCenter(W,q=0){this._revealLine(W,1,q)}revealLineInCenterIfOutsideViewport(W,q=0){this._revealLine(W,2,q)}revealLineNearTop(W,q=0){this._revealLine(W,5,q)}_revealLine(W,q,z){if(typeof W!="number")throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(W,1,W,1),q,!1,z)}revealPosition(W,q=0){this._revealPosition(W,0,!0,q)}revealPositionInCenter(W,q=0){this._revealPosition(W,1,!0,q)}revealPositionInCenterIfOutsideViewport(W,q=0){this._revealPosition(W,2,!0,q)}revealPositionNearTop(W,q=0){this._revealPosition(W,5,!0,q)}_revealPosition(W,q,z,$){if(!a.Position.isIPosition(W))throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(W.lineNumber,W.column,W.lineNumber,W.column),q,z,$)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(W,q="api"){const z=d.Selection.isISelection(W),$=l.Range.isIRange(W);if(!z&&!$)throw new Error("Invalid arguments");if(z)this._setSelectionImpl(W,q);else if($){const X={selectionStartLineNumber:W.startLineNumber,selectionStartColumn:W.startColumn,positionLineNumber:W.endLineNumber,positionColumn:W.endColumn};this._setSelectionImpl(X,q)}}_setSelectionImpl(W,q){if(!this._modelData)return;const z=new d.Selection(W.selectionStartLineNumber,W.selectionStartColumn,W.positionLineNumber,W.positionColumn);this._modelData.viewModel.setSelections(q,[z])}revealLines(W,q,z=0){this._revealLines(W,q,0,z)}revealLinesInCenter(W,q,z=0){this._revealLines(W,q,1,z)}revealLinesInCenterIfOutsideViewport(W,q,z=0){this._revealLines(W,q,2,z)}revealLinesNearTop(W,q,z=0){this._revealLines(W,q,5,z)}_revealLines(W,q,z,$){if(typeof W!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(W,1,q,1),z,!1,$)}revealRange(W,q=0,z=!1,$=!0){this._revealRange(W,z?1:0,$,q)}revealRangeInCenter(W,q=0){this._revealRange(W,1,!0,q)}revealRangeInCenterIfOutsideViewport(W,q=0){this._revealRange(W,2,!0,q)}revealRangeNearTop(W,q=0){this._revealRange(W,5,!0,q)}revealRangeNearTopIfOutsideViewport(W,q=0){this._revealRange(W,6,!0,q)}revealRangeAtTop(W,q=0){this._revealRange(W,3,!0,q)}_revealRange(W,q,z,$){if(!l.Range.isIRange(W))throw new Error("Invalid arguments");this._sendRevealRange(l.Range.lift(W),q,z,$)}setSelections(W,q="api",z=0){if(this._modelData){if(!W||W.length===0)throw new Error("Invalid arguments");for(let $=0,X=W.length;$<X;$++)if(!d.Selection.isISelection(W[$]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,W,z)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(W,q=1){if(this._modelData){if(typeof W!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:W},q)}}setScrollTop(W,q=1){if(this._modelData){if(typeof W!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:W},q)}}setScrollPosition(W,q=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(W,q)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const W=this._contributions.saveViewState(),q=this._modelData.viewModel.saveCursorState(),z=this._modelData.viewModel.saveState();return{cursorState:q,viewState:z,contributionsState:W}}restoreViewState(W){if(!this._modelData||!this._modelData.hasRealView)return;const q=W;if(q&&q.cursorState&&q.viewState){const z=q.cursorState;Array.isArray(z)?z.length>0&&this._modelData.viewModel.restoreCursorState(z):this._modelData.viewModel.restoreCursorState([z]),this._contributions.restoreViewState(q.contributionsState||{});const $=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState($)}}handleInitialized(){var W;(W=this._getViewModel())===null||W===void 0||W.visibleLinesStabilized()}getContribution(W){return this._contributions.get(W)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let W=this.getActions();return W=W.filter(q=>q.isSupported()),W}getAction(W){return this._actions.get(W)||null}trigger(W,q,z){z=z||{};try{switch(this._beginUpdate(),q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(W);return;case"type":{const X=z;this._type(W,X.text||"");return}case"replacePreviousChar":{const X=z;this._compositionType(W,X.text||"",X.replaceCharCnt||0,0,0);return}case"compositionType":{const X=z;this._compositionType(W,X.text||"",X.replacePrevCharCnt||0,X.replaceNextCharCnt||0,X.positionDelta||0);return}case"paste":{const X=z;this._paste(W,X.text||"",X.pasteOnNewLine||!1,X.multicursorText||null,X.mode||null,X.clipboardEvent);return}case"cut":this._cut(W);return}const $=this.getAction(q);if($){Promise.resolve($.run(z)).then(void 0,k.onUnexpectedError);return}if(!this._modelData||this._triggerEditorCommand(W,q,z))return;this._triggerCommand(q,z)}finally{this._endUpdate()}}_triggerCommand(W,q){this._commandService.executeCommand(W,q)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(W){this._modelData&&(this._modelData.viewModel.endComposition(W),this._onDidCompositionEnd.fire())}_type(W,q){!this._modelData||q.length===0||(W==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,W),W==="keyboard"&&this._onDidType.fire(q))}_compositionType(W,q,z,$,X){this._modelData&&this._modelData.viewModel.compositionType(q,z,$,X,W)}_paste(W,q,z,$,X,ee){if(!this._modelData)return;const oe=this._modelData.viewModel,ce=oe.getSelection().getStartPosition();oe.paste(q,z,$,W);const fe=oe.getSelection().getStartPosition();W==="keyboard"&&this._onDidPaste.fire({clipboardEvent:ee,range:new l.Range(ce.lineNumber,ce.column,fe.lineNumber,fe.column),languageId:X})}_cut(W){this._modelData&&this._modelData.viewModel.cut(W)}_triggerEditorCommand(W,q,z){const $=v.EditorExtensionsRegistry.getEditorCommand(q);return $?(z=z||{},z.source=W,this._instantiationService.invokeFunction(X=>{Promise.resolve($.runEditorCommand(X,this,z)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(92)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(W,q,z){if(!this._modelData||this._configuration.options.get(92))return!1;let $;return z?Array.isArray(z)?$=()=>z:$=z:$=()=>null,this._modelData.viewModel.executeEdits(W,q,$),!0}executeCommand(W,q){this._modelData&&this._modelData.viewModel.executeCommand(q,W)}executeCommands(W,q){this._modelData&&this._modelData.viewModel.executeCommands(q,W)}createDecorationsCollection(W){return new te(this,W)}changeDecorations(W){return this._modelData?this._modelData.model.changeDecorations(W,this._id):null}getLineDecorations(W){return this._modelData?this._modelData.model.getLineDecorations(W,this._id,(0,c.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(W){return this._modelData?this._modelData.model.getDecorationsInRange(W,this._id,(0,c.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(W,q){return this._modelData?W.length===0&&q.length===0?W:this._modelData.model.deltaDecorations(W,q,this._id):[]}removeDecorations(W){!this._modelData||W.length===0||this._modelData.model.changeDecorations(q=>{q.deltaDecorations(W,[])})}removeDecorationsByType(W){const q=this._decorationTypeKeysToIds[W];q&&this.changeDecorations(z=>z.deltaDecorations(q,[])),this._decorationTypeKeysToIds.hasOwnProperty(W)&&delete this._decorationTypeKeysToIds[W],this._decorationTypeSubtypes.hasOwnProperty(W)&&delete this._decorationTypeSubtypes[W]}getLayoutInfo(){return this._configuration.options.get(146)}createOverviewRuler(W){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(W)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(W)}delegateScrollFromMouseWheelEvent(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(W)}layout(W,q=!1){this._configuration.observeContainer(W),q||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(W){const q={widget:W,position:W.getPosition()};this._contentWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting a content widget with the same id:"+W.getId()),this._contentWidgets[W.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(W){const q=W.getId();if(this._contentWidgets.hasOwnProperty(q)){const z=this._contentWidgets[q];z.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(z)}}removeContentWidget(W){const q=W.getId();if(this._contentWidgets.hasOwnProperty(q)){const z=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(z)}}addOverlayWidget(W){const q={widget:W,position:W.getPosition()};this._overlayWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[W.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(W){const q=W.getId();if(this._overlayWidgets.hasOwnProperty(q)){const z=this._overlayWidgets[q];z.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(z)}}removeOverlayWidget(W){const q=W.getId();if(this._overlayWidgets.hasOwnProperty(q)){const z=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(z)}}addGlyphMarginWidget(W){const q={widget:W,position:W.getPosition()};this._glyphMarginWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[W.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(q)}layoutGlyphMarginWidget(W){const q=W.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const z=this._glyphMarginWidgets[q];z.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(z)}}removeGlyphMarginWidget(W){const q=W.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const z=this._glyphMarginWidgets[q];delete this._glyphMarginWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(z)}}changeViewZones(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(W)}getTargetAtClientPoint(W,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(W,q)}getScrolledVisiblePosition(W){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(W),z=this._configuration.options,$=z.get(146),X=V._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),ee=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+$.glyphMarginWidth+$.lineNumbersWidth+$.decorationsWidth-this.getScrollLeft();return{top:X,left:ee,height:z.get(67)}}getOffsetForColumn(W,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(W,q)}render(W=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,W)})}setAriaOptions(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(W)}applyFontInfo(W){(0,m.applyFontInfo)(W,this._configuration.options.get(50))}setBanner(W,q){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),this._bannerDomNode=W,this._configuration.setReservedHeight(W?q:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(W){if(!W){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",W.getLanguageId()),this._configuration.setIsDominatedByLongLines(W.isDominatedByLongLines()),this._configuration.setModelLineCount(W.getLineCount());const z=W.onBeforeAttached(),$=new T.ViewModel(this._id,this._configuration,W,t.DOMLineBreaksComputerFactory.create(f.getWindow(this._domElement)),D.MonospaceLineBreaksComputerFactory.create(this._configuration.options),oe=>f.scheduleAtNextAnimationFrame(f.getWindow(this._domElement),oe),this.languageConfigurationService,this._themeService,z,{batchChanges:oe=>{try{return this._beginUpdate(),oe()}finally{this._endUpdate()}}});q.push(W.onWillDispose(()=>this.setModel(null))),q.push($.onEvent(oe=>{switch(oe.kind){case 0:this._onDidContentSizeChange.fire(oe);break;case 1:this._editorTextFocus.setValue(oe.hasFocus);break;case 2:this._onDidScrollChange.fire(oe);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(oe.reachedMaxCursorCount){const _e=this.getOption(80),Ie=N.localize(347,"The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",_e);this._notificationService.prompt(O.Severity.Warning,Ie,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.localize(348,"Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ce=[];for(let _e=0,Ie=oe.selections.length;_e<Ie;_e++)ce[_e]=oe.selections[_e].getPosition();const fe={position:ce[0],secondaryPositions:ce.slice(1),reason:oe.reason,source:oe.source};this._onDidChangeCursorPosition.fire(fe);const ve={selection:oe.selections[0],secondarySelections:oe.selections.slice(1),modelVersionId:oe.modelVersionId,oldSelections:oe.oldSelections,oldModelVersionId:oe.oldModelVersionId,source:oe.source,reason:oe.reason};this._onDidChangeCursorSelection.fire(ve);break}case 7:this._onDidChangeModelDecorations.fire(oe.event);break;case 8:this._domElement.setAttribute("data-mode-id",W.getLanguageId()),this._onDidChangeModelLanguage.fire(oe.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(oe.event);break;case 10:this._onDidChangeModelContent.fire(oe.event);break;case 11:this._onDidChangeModelOptions.fire(oe.event);break;case 12:this._onDidChangeModelTokens.fire(oe.event);break}}));const[X,ee]=this._createView($);if(ee){this._domElement.appendChild(X.domNode.domNode);let oe=Object.keys(this._contentWidgets);for(let ce=0,fe=oe.length;ce<fe;ce++){const ve=oe[ce];X.addContentWidget(this._contentWidgets[ve])}oe=Object.keys(this._overlayWidgets);for(let ce=0,fe=oe.length;ce<fe;ce++){const ve=oe[ce];X.addOverlayWidget(this._overlayWidgets[ve])}oe=Object.keys(this._glyphMarginWidgets);for(let ce=0,fe=oe.length;ce<fe;ce++){const ve=oe[ce];X.addGlyphMarginWidget(this._glyphMarginWidgets[ve])}X.render(!1,!0),X.domNode.domNode.setAttribute("data-uri",W.uri.toString())}this._modelData=new Y(W,$,X,ee,q,z)}_createView(W){let q;this.isSimpleWidget?q={paste:(X,ee,oe,ce)=>{this._paste("keyboard",X,ee,oe,ce)},type:X=>{this._type("keyboard",X)},compositionType:(X,ee,oe,ce)=>{this._compositionType("keyboard",X,ee,oe,ce)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:(X,ee,oe,ce)=>{const fe={text:X,pasteOnNewLine:ee,multicursorText:oe,mode:ce};this._commandService.executeCommand("paste",fe)},type:X=>{const ee={text:X};this._commandService.executeCommand("type",ee)},compositionType:(X,ee,oe,ce)=>{if(oe||ce){const fe={text:X,replacePrevCharCnt:ee,replaceNextCharCnt:oe,positionDelta:ce};this._commandService.executeCommand("compositionType",fe)}else{const fe={text:X,replaceCharCnt:ee};this._commandService.executeCommand("replacePreviousChar",fe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const z=new i.ViewUserInputEvents(W.coordinatesConverter);return z.onKeyDown=X=>this._onKeyDown.fire(X),z.onKeyUp=X=>this._onKeyUp.fire(X),z.onContextMenu=X=>this._onContextMenu.fire(X),z.onMouseMove=X=>this._onMouseMove.fire(X),z.onMouseLeave=X=>this._onMouseLeave.fire(X),z.onMouseDown=X=>this._onMouseDown.fire(X),z.onMouseUp=X=>this._onMouseUp.fire(X),z.onMouseDrag=X=>this._onMouseDrag.fire(X),z.onMouseDrop=X=>this._onMouseDrop.fire(X),z.onMouseDropCanceled=X=>this._onMouseDropCanceled.fire(X),z.onMouseWheel=X=>this._onMouseWheel.fire(X),[new o.View(q,this._configuration,this._themeService.getColorTheme(),W,z,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(W){W?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var W;if((W=this._contributionsDisposable)===null||W===void 0||W.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const q=this._modelData.model,z=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),z&&this._domElement.contains(z)&&z.remove(),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),q}_removeDecorationType(W){this._codeEditorService.removeDecorationType(W)}hasModel(){return this._modelData!==null}showDropIndicatorAt(W){const q=[{range:new l.Range(W.lineNumber,W.column,W.lineNumber,W.column),options:V.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(q),this.revealPosition(W,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(W,q){this._contextKeyService.createKey(W,q)}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&this._onBeginUpdate.fire()}_endUpdate(){this._updateCounter--,this._updateCounter===0&&this._onEndUpdate.fire()}};e.CodeEditorWidget=j,j.dropIntoEditorDecorationOptions=_.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=j=V=ke([ge(3,P.IInstantiationService),ge(4,s.ICodeEditorService),ge(5,R.ICommandService),ge(6,M.IContextKeyService),ge(7,H.IThemeService),ge(8,O.INotificationService),ge(9,A.IAccessibilityService),ge(10,S.ILanguageConfigurationService),ge(11,L.ILanguageFeaturesService)],j);let U=0;class Y{constructor(W,q,z,$,X,ee){this.model=W,this.viewModel=q,this.view=z,this.hasRealView=$,this.listenersToRemove=X,this.attachedView=ee}dispose(){(0,I.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class Q extends I.Disposable{constructor(W){super(),this._emitterOptions=W,this._onDidChangeToTrue=this._register(new E.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new E.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(W){const q=W?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=Q;class Z extends E.Emitter{constructor(W,q){super({deliveryQueue:q}),this._contributions=W}fire(W){this._contributions.onBeforeInteractionEvent(),super.fire(W)}}class G extends I.Disposable{constructor(W,q){super(),this._editor=W,q.createKey("editorId",W.getId()),this._editorSimpleInput=C.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=C.EditorContextKeys.focus.bindTo(q),this._textInputFocus=C.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=C.EditorContextKeys.editorTextFocus.bindTo(q),this._tabMovesFocus=C.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=C.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=C.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=C.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=C.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=C.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=C.EditorContextKeys.canUndo.bindTo(q),this._canRedo=C.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(b.TabFocus.onDidChangeTabFocus(z=>this._tabMovesFocus.set(z))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const W=this._editor.getOptions();this._tabMovesFocus.set(b.TabFocus.getTabFocusMode()),this._editorReadonly.set(W.get(92)),this._inDiffEditor.set(W.get(61)),this._editorColumnSelection.set(W.get(22))}_updateFromSelection(){const W=this._editor.getSelections();W?(this._hasMultipleSelections.set(W.length>1),this._hasNonEmptySelection.set(W.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const W=this._editor.getModel();this._canUndo.set(!!(W&&W.canUndo())),this._canRedo.set(!!(W&&W.canRedo()))}}class F extends I.Disposable{constructor(W,q,z){super(),this._editor=W,this._contextKeyService=q,this._languageFeaturesService=z,this._langId=C.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=C.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=C.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=C.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=C.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=C.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=C.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=C.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=C.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=C.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=C.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=C.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=C.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=C.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasInlayHintsProvider=C.EditorContextKeys.hasInlayHintsProvider.bindTo(q),this._hasDocumentFormattingProvider=C.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=C.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=C.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=C.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInEmbeddedEditor=C.EditorContextKeys.isInEmbeddedEditor.bindTo(q);const $=()=>this._update();this._register(W.onDidChangeModel($)),this._register(W.onDidChangeModelLanguage($)),this._register(z.completionProvider.onDidChange($)),this._register(z.codeActionProvider.onDidChange($)),this._register(z.codeLensProvider.onDidChange($)),this._register(z.definitionProvider.onDidChange($)),this._register(z.declarationProvider.onDidChange($)),this._register(z.implementationProvider.onDidChange($)),this._register(z.typeDefinitionProvider.onDidChange($)),this._register(z.hoverProvider.onDidChange($)),this._register(z.documentHighlightProvider.onDidChange($)),this._register(z.documentSymbolProvider.onDidChange($)),this._register(z.referenceProvider.onDidChange($)),this._register(z.renameProvider.onDidChange($)),this._register(z.documentFormattingEditProvider.onDidChange($)),this._register(z.documentRangeFormattingEditProvider.onDidChange($)),this._register(z.signatureHelpProvider.onDidChange($)),this._register(z.inlayHintsProvider.onDidChange($)),$()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const W=this._editor.getModel();if(!W){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(W.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(W)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(W)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(W)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(W)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(W)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(W)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(W)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(W)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(W)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(W)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(W)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(W)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(W)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(W)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(W)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(W)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(W)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(W).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(W).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(W).length>1),this._isInEmbeddedEditor.set(W.uri.scheme===y.Schemas.walkThroughSnippet||W.uri.scheme===y.Schemas.vscodeChatCodeBlock)})}}e.EditorModeContext=F;class J extends I.Disposable{constructor(W,q){super(),this._onChange=this._register(new E.Emitter),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(f.trackFocus(W)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),q&&(this._overflowWidgetsDomNode=this._register(f.trackFocus(q)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const W=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==W&&(this._hadFocus=W,this._onChange.fire(void 0))}hasFocus(){var W;return(W=this._hadFocus)!==null&&W!==void 0?W:!1}}class te{get length(){return this._decorationIds.length}constructor(W,q){this._editor=W,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(q)&&q.length>0&&this.set(q)}onDidChange(W,q,z){return this._editor.onDidChangeModelDecorations($=>{this._isChangingDecorations||W.call(q,$)},z)}getRange(W){return!this._editor.hasModel()||W>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[W])}getRanges(){if(!this._editor.hasModel())return[];const W=this._editor.getModel(),q=[];for(const z of this._decorationIds){const $=W.getDecorationRange(z);$&&q.push($)}return q}has(W){return this._decorationIds.includes(W.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(W){try{this._isChangingDecorations=!0,this._editor.changeDecorations(q=>{this._decorationIds=q.deltaDecorations(this._decorationIds,W)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(W){let q=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(z=>{q=z.deltaDecorations([],W),this._decorationIds=this._decorationIds.concat(q)})}finally{this._isChangingDecorations=!1}return q}}const de=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),he=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function pe(ne){return de+encodeURIComponent(ne.toString())+he}const ue=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ie=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function se(ne){return ue+encodeURIComponent(ne.toString())+ie}(0,H.registerThemingParticipant)((ne,W)=>{const q=ne.getColor(B.editorErrorForeground);q&&W.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${pe(q)}") repeat-x bottom left; }`);const z=ne.getColor(B.editorWarningForeground);z&&W.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${pe(z)}") repeat-x bottom left; }`);const $=ne.getColor(B.editorInfoForeground);$&&W.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${pe($)}") repeat-x bottom left; }`);const X=ne.getColor(B.editorHintForeground);X&&W.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${se(X)}") no-repeat bottom left; }`);const ee=ne.getColor(r.editorUnnecessaryCodeOpacity);ee&&W.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ee.rgba.a}; }`)})}),define(re[136],ae([1,0,54,35,217,34,17,60,24,12,7,49,25]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let t=class extends E.CodeEditorWidget{constructor(n,c,u,r,a,l,d,p,h,g,C,S,_){super(n,{...r.getRawOptions(),overflowWidgetsDomNode:r.getOverflowWidgetsDomNode()},u,a,l,d,p,h,g,C,S,_),this._parentEditor=r,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(r.onDidChangeConfiguration(L=>this._onParentConfigurationChanged(L)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(n){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(n){f.mixin(this._overwriteOptions,n,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=t,e.EmbeddedCodeEditorWidget=t=ke([ge(4,v.IInstantiationService),ge(5,k.ICodeEditorService),ge(6,w.ICommandService),ge(7,b.IContextKeyService),ge(8,o.IThemeService),ge(9,s.INotificationService),ge(10,m.IAccessibilityService),ge(11,I.ILanguageConfigurationService),ge(12,y.ILanguageFeaturesService)],t)}),define(re[283],ae([1,0,4,67,8,6,2,21,72,15,35,140,217,754,800,319,801,791,379,368,413,658,86,159,392,9,5,197,20,134,12,7,179,96,767,563,680,404,511]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N,A,R,M,P,x,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;let B=class extends P.DelegatingEditor{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(V,j,U,Y,Q,Z,G,F){var J;super(),this._domElement=V,this._parentContextKeyService=Y,this._parentInstantiationService=Q,this._accessibilitySignalService=G,this._editorProgressService=F,this.elements=(0,f.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,f.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,m.observableValue)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=I.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new A.ServiceCollection([T.IContextKeyService,this._contextKeyService]))),this._boundarySashes=(0,m.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,m.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,m.derived)(this,$=>this._options.onlyShowAccessibleDiffViewer.read($)?!0:this._accessibleDiffViewerShouldBeVisible.read($)),this._movedBlocksLinesPart=(0,m.observableValue)(this,void 0),this._layoutInfo=(0,m.derived)(this,$=>{var X,ee,oe,ce,fe;const ve=this._rootSizeObserver.width.read($),_e=this._rootSizeObserver.height.read($);this._rootSizeObserver.automaticLayout?this.elements.root.style.height="100%":this.elements.root.style.height=_e+"px";const Ie=this._sash.read($),Ce=this._gutter.read($),Ee=(X=Ce?.width.read($))!==null&&X!==void 0?X:0,Le=(oe=(ee=this._overviewRulerPart.read($))===null||ee===void 0?void 0:ee.width)!==null&&oe!==void 0?oe:0;let Te,Ae,Pe,Re,We;if(!!Ie){const Ne=Ie.sashLeft.read($),me=(fe=(ce=this._movedBlocksLinesPart.read($))===null||ce===void 0?void 0:ce.width.read($))!==null&&fe!==void 0?fe:0;Te=0,Ae=Ne-Ee-me,We=Ne-Ee,Pe=Ne,Re=ve-Pe-Le}else We=0,Te=Ee,Ae=Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),Pe=Ee+Ae,Re=ve-Pe-Le;return this.elements.original.style.left=Te+"px",this.elements.original.style.width=Ae+"px",this._editors.original.layout({width:Ae,height:_e},!0),Ce?.layout(We),this.elements.modified.style.left=Pe+"px",this.elements.modified.style.width=Re+"px",this._editors.modified.layout({width:Re,height:_e},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map(($,X)=>$?.diff.read(X)),this.onDidUpdateDiff=I.Event.fromObservableLight(this._diffValue),Z.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,y.toDisposable)(()=>this.elements.root.remove())),this._rootSizeObserver=this._register(new p.ObservableElementSizeObserver(this.elements.root,j.dimension)),this._rootSizeObserver.setAutomaticLayout((J=j.automaticLayout)!==null&&J!==void 0?J:!1),this._options=this._instantiationService.createInstance(x.DiffEditorOptions,j),this._register((0,m.autorun)($=>{this._options.setWidth(this._rootSizeObserver.width.read($))})),this._contextKeyService.createKey(L.EditorContextKeys.isEmbeddedDiffEditor.key,!1),this._register((0,g.bindContextKey)(L.EditorContextKeys.isEmbeddedDiffEditor,this._contextKeyService,$=>this._options.isInEmbeddedEditor.read($))),this._register((0,g.bindContextKey)(L.EditorContextKeys.comparingMovedCode,this._contextKeyService,$=>{var X;return!!(!((X=this._diffModel.read($))===null||X===void 0)&&X.movedTextToCompare.read($))})),this._register((0,g.bindContextKey)(L.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,$=>this._options.couldShowInlineViewBecauseOfSize.read($))),this._register((0,g.bindContextKey)(L.EditorContextKeys.diffEditorInlineMode,this._contextKeyService,$=>!this._options.renderSideBySide.read($))),this._register((0,g.bindContextKey)(L.EditorContextKeys.hasChanges,this._contextKeyService,$=>{var X,ee,oe;return((oe=(ee=(X=this._diffModel.read($))===null||X===void 0?void 0:X.diff.read($))===null||ee===void 0?void 0:ee.mappings.length)!==null&&oe!==void 0?oe:0)>0})),this._editors=this._register(this._instantiationService.createInstance(M.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,U,($,X,ee,oe)=>this._createInnerEditor($,X,ee,oe))),this._register((0,g.bindContextKey)(L.EditorContextKeys.diffEditorOriginalWritable,this._contextKeyService,$=>this._options.originalEditable.read($))),this._register((0,g.bindContextKey)(L.EditorContextKeys.diffEditorModifiedWritable,this._contextKeyService,$=>!this._options.readOnly.read($))),this._register((0,g.bindContextKey)(L.EditorContextKeys.diffEditorOriginalUri,this._contextKeyService,$=>{var X,ee;return(ee=(X=this._diffModel.read($))===null||X===void 0?void 0:X.model.original.uri.toString())!==null&&ee!==void 0?ee:""})),this._register((0,g.bindContextKey)(L.EditorContextKeys.diffEditorModifiedUri,this._contextKeyService,$=>{var X,ee;return(ee=(X=this._diffModel.read($))===null||X===void 0?void 0:X.model.modified.uri.toString())!==null&&ee!==void 0?ee:""})),this._overviewRulerPart=(0,w.derivedDisposable)(this,$=>this._options.renderOverviewRuler.read($)?this._instantiationService.createInstance((0,h.readHotReloadableExport)(l.OverviewRulerFeature,$),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(X=>X.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store);const te={height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map(($,X)=>{var ee,oe;return $-((oe=(ee=this._overviewRulerPart.read(X))===null||ee===void 0?void 0:ee.width)!==null&&oe!==void 0?oe:0)})};this._sashLayout=new n.SashLayout(this._options,te),this._sash=(0,w.derivedDisposable)(this,$=>{const X=this._options.renderSideBySide.read($);return this.elements.root.classList.toggle("side-by-side",X),X?new n.DiffEditorSash(this.elements.root,te,this._options.enableSplitViewResizing,this._boundarySashes,this._sashLayout.sashLeft,()=>this._sashLayout.resetSash()):void 0}).recomputeInitiallyAndOnChange(this._store);const de=(0,w.derivedDisposable)(this,$=>this._instantiationService.createInstance((0,h.readHotReloadableExport)(r.HideUnchangedRegionsFeature,$),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,w.derivedDisposable)(this,$=>this._instantiationService.createInstance((0,h.readHotReloadableExport)(i.DiffEditorDecorations,$),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const he=new Set,pe=new Set;let ue=!1;const ie=(0,w.derivedDisposable)(this,$=>this._instantiationService.createInstance((0,h.readHotReloadableExport)(c.DiffEditorViewZones,$),(0,f.getWindow)(this._domElement),this._editors,this._diffModel,this._options,this,()=>ue||de.get().isUpdatingHiddenAreas,he,pe)).recomputeInitiallyAndOnChange(this._store),se=(0,m.derived)(this,$=>{const X=ie.read($).viewZones.read($).orig,ee=de.read($).viewZones.read($).origViewZones;return X.concat(ee)}),ne=(0,m.derived)(this,$=>{const X=ie.read($).viewZones.read($).mod,ee=de.read($).viewZones.read($).modViewZones;return X.concat(ee)});this._register((0,p.applyViewZones)(this._editors.original,se,$=>{ue=$},he));let W;this._register((0,p.applyViewZones)(this._editors.modified,ne,$=>{ue=$,ue?W=s.StableEditorScrollState.capture(this._editors.modified):(W?.restore(this._editors.modified),W=void 0)},pe)),this._accessibleDiffViewer=(0,w.derivedDisposable)(this,$=>this._instantiationService.createInstance((0,h.readHotReloadableExport)(t.AccessibleDiffViewer,$),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(X,ee)=>this._accessibleDiffViewerShouldBeVisible.set(X,ee),this._options.onlyShowAccessibleDiffViewer.map(X=>!X),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((X,ee)=>{var oe;return(oe=X?.diff.read(ee))===null||oe===void 0?void 0:oe.mappings.map(ce=>ce.lineRangeMapping)}),new t.AccessibleDiffViewerModelFromEditors(this._editors))).recomputeInitiallyAndOnChange(this._store);const q=this._accessibleDiffViewerVisible.map($=>$?"hidden":"visible");this._register((0,p.applyStyle)(this.elements.modified,{visibility:q})),this._register((0,p.applyStyle)(this.elements.original,{visibility:q})),this._createDiffEditorContributions(),Z.addDiffEditor(this),this._gutter=(0,w.derivedDisposable)(this,$=>this._options.shouldRenderGutterMenu.read($)?this._instantiationService.createInstance((0,h.readHotReloadableExport)(u.DiffEditorGutter,$),this.elements.root,this._diffModel,this._editors,this._options,this._sashLayout,this._boundarySashes):void 0),this._register((0,m.recomputeInitiallyAndOnChange)(this._layoutInfo)),(0,w.derivedDisposable)(this,$=>new((0,h.readHotReloadableExport)(a.MovedBlocksLinesFeature,$))(this.elements.root,this._diffModel,this._layoutInfo.map(X=>X.originalEditor),this._layoutInfo.map(X=>X.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,$=>{this._movedBlocksLinesPart.set($,void 0)}),this._register(I.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,$=>this._handleCursorPositionChange($,!0))),this._register(I.Event.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,$=>this._handleCursorPositionChange($,!1)));const z=this._diffModel.map(this,($,X)=>{if($)return $.diff.read(X)===void 0&&!$.isDiffUpToDate.read(X)});this._register((0,m.autorunWithStore)(($,X)=>{if(z.read($)===!0){const ee=this._editorProgressService.show(!0,1e3);X.add((0,y.toDisposable)(()=>ee.done()))}})),this._register((0,y.toDisposable)(()=>{var $;this._shouldDisposeDiffModel&&(($=this._diffModel.get())===null||$===void 0||$.dispose())})),this._register((0,m.autorunWithStore)(($,X)=>{X.add(new((0,h.readHotReloadableExport)(d.RevertButtonsFeature,$))(this._editors,this._diffModel,this._options,this))})),this._register((0,m.autorunWithStore)(($,X)=>{const ee=this._diffModel.read($);if(ee)for(const oe of[ee.model.original,ee.model.modified])X.add(oe.onWillDispose(ce=>{(0,E.onUnexpectedError)(new E.BugIndicatingError("TextModel got disposed before DiffEditorWidget model got reset")),this.setModel(null)}))}))}_createInnerEditor(V,j,U,Y){return V.createInstance(o.CodeEditorWidget,j,U,Y)}_createDiffEditorContributions(){const V=b.EditorExtensionsRegistry.getDiffEditorContributions();for(const j of V)try{this._register(this._instantiationService.createInstance(j.ctor,this))}catch(U){(0,E.onUnexpectedError)(U)}}get _targetEditor(){return this._editors.modified}getEditorType(){return _.EditorType.IDiffEditor}layout(V){this._rootSizeObserver.observe(V)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var V;const j=this._editors.original.saveViewState(),U=this._editors.modified.saveViewState();return{original:j,modified:U,modelState:(V=this._diffModel.get())===null||V===void 0?void 0:V.serializeState()}}restoreViewState(V){var j;if(V&&V.original&&V.modified){const U=V;this._editors.original.restoreViewState(U.original),this._editors.modified.restoreViewState(U.modified),U.modelState&&((j=this._diffModel.get())===null||j===void 0||j.restoreSerializedState(U.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(V){return this._instantiationService.createInstance(O.DiffEditorViewModel,V,this._options)}getModel(){var V,j;return(j=(V=this._diffModel.get())===null||V===void 0?void 0:V.model)!==null&&j!==void 0?j:null}setModel(V,j){!V&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const U=V?"model"in V?{model:V,shouldDispose:!1}:{model:this.createViewModel(V),shouldDispose:!0}:void 0;this._diffModel.get()!==U?.model&&(0,m.subtransaction)(j,Y=>{var Q;m.observableFromEvent.batchEventsGlobally(Y,()=>{this._editors.original.setModel(U?U.model.model.original:null),this._editors.modified.setModel(U?U.model.model.modified:null)});const Z=this._diffModel.get(),G=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(Q=U?.shouldDispose)!==null&&Q!==void 0?Q:!1,this._diffModel.set(U?.model,Y),G&&Z?.dispose()})}updateOptions(V){this._options.updateOptions(V)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var V;const j=(V=this._diffModel.get())===null||V===void 0?void 0:V.diff.get();return j?H(j):null}revert(V){const j=this._diffModel.get();!j||!j.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:V.modified.toExclusiveRange(),text:j.model.original.getValueInRange(V.original.toExclusiveRange())}])}revertRangeMappings(V){const j=this._diffModel.get();if(!j||!j.isDiffUpToDate.get())return;const U=V.map(Y=>({range:Y.modifiedRange,text:j.model.original.getValueInRange(Y.originalRange)}));this._editors.modified.executeEdits("diffEditor",U)}_goTo(V){this._editors.modified.setPosition(new C.Position(V.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(V.lineRangeMapping.modified.toExclusiveRange())}goToDiff(V){var j,U,Y,Q;const Z=(U=(j=this._diffModel.get())===null||j===void 0?void 0:j.diff.get())===null||U===void 0?void 0:U.mappings;if(!Z||Z.length===0)return;const G=this._editors.modified.getPosition().lineNumber;let F;V==="next"?F=(Y=Z.find(J=>J.lineRangeMapping.modified.startLineNumber>G))!==null&&Y!==void 0?Y:Z[0]:F=(Q=(0,k.findLast)(Z,J=>J.lineRangeMapping.modified.startLineNumber<G))!==null&&Q!==void 0?Q:Z[Z.length-1],this._goTo(F),F.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(D.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.goToDiff"}):F.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(D.AccessibilitySignal.diffLineInserted,{source:"diffEditor.goToDiff"}):F&&this._accessibilitySignalService.playSignal(D.AccessibilitySignal.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const V=this._diffModel.get();V&&this.waitForDiff().then(()=>{var j;const U=(j=V.diff.get())===null||j===void 0?void 0:j.mappings;!U||U.length===0||this._goTo(U[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const V=this._diffModel.get();V&&await V.waitForDiff()}mapToOtherSide(){var V,j;const U=this._editors.modified.hasWidgetFocus(),Y=U?this._editors.modified:this._editors.original,Q=U?this._editors.original:this._editors.modified;let Z;const G=Y.getSelection();if(G){const F=(j=(V=this._diffModel.get())===null||V===void 0?void 0:V.diff.get())===null||j===void 0?void 0:j.mappings.map(J=>U?J.lineRangeMapping.flip():J.lineRangeMapping);if(F){const J=(0,p.translatePosition)(G.getStartPosition(),F),te=(0,p.translatePosition)(G.getEndPosition(),F);Z=S.Range.plusRange(J,te)}}return{destination:Q,destinationSelection:Z}}switchSide(){const{destination:V,destinationSelection:j}=this.mapToOtherSide();V.focus(),j&&V.setSelection(j)}exitCompareMove(){const V=this._diffModel.get();V&&V.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var V;const j=(V=this._diffModel.get())===null||V===void 0?void 0:V.unchangedRegions.get();j&&(0,m.transaction)(U=>{for(const Y of j)Y.collapseAll(U)})}showAllUnchangedRegions(){var V;const j=(V=this._diffModel.get())===null||V===void 0?void 0:V.unchangedRegions.get();j&&(0,m.transaction)(U=>{for(const Y of j)Y.showAll(U)})}_handleCursorPositionChange(V,j){var U,Y;if(V?.reason===3){const Q=(Y=(U=this._diffModel.get())===null||U===void 0?void 0:U.diff.get())===null||Y===void 0?void 0:Y.mappings.find(Z=>j?Z.lineRangeMapping.modified.contains(V.position.lineNumber):Z.lineRangeMapping.original.contains(V.position.lineNumber));Q?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(D.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):Q?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(D.AccessibilitySignal.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):Q&&this._accessibilitySignalService.playSignal(D.AccessibilitySignal.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};e.DiffEditorWidget=B,e.DiffEditorWidget=B=ke([ge(3,T.IContextKeyService),ge(4,N.IInstantiationService),ge(5,v.ICodeEditorService),ge(6,D.IAccessibilitySignalService),ge(7,R.IEditorProgressService)],B);function H(K){return K.mappings.map(V=>{const j=V.lineRangeMapping;let U,Y,Q,Z,G=j.innerChanges;return j.original.isEmpty?(U=j.original.startLineNumber-1,Y=0,G=void 0):(U=j.original.startLineNumber,Y=j.original.endLineNumberExclusive-1),j.modified.isEmpty?(Q=j.modified.startLineNumber-1,Z=0,G=void 0):(Q=j.modified.startLineNumber,Z=j.modified.endLineNumberExclusive-1),{originalStartLineNumber:U,originalEndLineNumber:Y,modifiedStartLineNumber:Q,modifiedEndLineNumber:Z,charChanges:G?.map(F=>({originalStartLineNumber:F.originalRange.startLineNumber,originalStartColumn:F.originalRange.startColumn,originalEndLineNumber:F.originalRange.endLineNumber,originalEndColumn:F.originalRange.endColumn,modifiedStartLineNumber:F.modifiedRange.startLineNumber,modifiedStartColumn:F.modifiedRange.startColumn,modifiedEndLineNumber:F.modifiedRange.endLineNumber,modifiedEndColumn:F.modifiedRange.endColumn}))}})}}),define(re[805],ae([1,0,4,26,15,35,283,20,3,29,28,12,185]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=e.RevertHunkOrSelection=e.ShowAllUnchangedRegions=e.CollapseAllUnchangedRegions=e.ExitCompareMove=e.SwitchSide=e.ToggleUseInlineViewWhenSpaceIsLimited=e.ToggleShowMovedCodeBlocks=e.ToggleCollapseUnchangedRegions=void 0,e.findDiffEditor=g,e.findFocusedDiffEditor=C;class o extends b.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,w.localize2)(297,"Toggle Collapse Unchanged Regions"),icon:k.Codicon.map,toggled:s.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:s.ContextKeyExpr.has("isInDiffEditor"),menu:{when:s.ContextKeyExpr.has("isInDiffEditor"),id:b.MenuId.EditorTitle,order:22,group:"navigation"}})}run(L,...D){const T=L.get(v.IConfigurationService),N=!T.getValue("diffEditor.hideUnchangedRegions.enabled");T.updateValue("diffEditor.hideUnchangedRegions.enabled",N)}}e.ToggleCollapseUnchangedRegions=o;class t extends b.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,w.localize2)(298,"Toggle Show Moved Code Blocks"),precondition:s.ContextKeyExpr.has("isInDiffEditor")})}run(L,...D){const T=L.get(v.IConfigurationService),N=!T.getValue("diffEditor.experimental.showMoves");T.updateValue("diffEditor.experimental.showMoves",N)}}e.ToggleShowMovedCodeBlocks=t;class i extends b.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,w.localize2)(299,"Toggle Use Inline View When Space Is Limited"),precondition:s.ContextKeyExpr.has("isInDiffEditor")})}run(L,...D){const T=L.get(v.IConfigurationService),N=!T.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");T.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",N)}}e.ToggleUseInlineViewWhenSpaceIsLimited=i;const n=(0,w.localize2)(300,"Diff Editor");class c extends E.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:(0,w.localize2)(301,"Switch Side"),icon:k.Codicon.arrowSwap,precondition:s.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(L,D,T){const N=C(L);if(N instanceof y.DiffEditorWidget){if(T&&T.dryRun)return{destinationSelection:N.mapToOtherSide().destinationSelection};N.switchSide()}}}e.SwitchSide=c;class u extends E.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,w.localize2)(302,"Exit Compare Move"),icon:k.Codicon.close,precondition:m.EditorContextKeys.comparingMovedCode,f1:!1,category:n,keybinding:{weight:1e4,primary:9}})}runEditorCommand(L,D,...T){const N=C(L);N instanceof y.DiffEditorWidget&&N.exitCompareMove()}}e.ExitCompareMove=u;class r extends E.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,w.localize2)(303,"Collapse All Unchanged Regions"),icon:k.Codicon.fold,precondition:s.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(L,D,...T){const N=C(L);N instanceof y.DiffEditorWidget&&N.collapseAllUnchangedRegions()}}e.CollapseAllUnchangedRegions=r;class a extends E.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,w.localize2)(304,"Show All Unchanged Regions"),icon:k.Codicon.unfold,precondition:s.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(L,D,...T){const N=C(L);N instanceof y.DiffEditorWidget&&N.showAllUnchangedRegions()}}e.ShowAllUnchangedRegions=a;class l extends b.Action2{constructor(){super({id:"diffEditor.revert",title:(0,w.localize2)(305,"Revert"),f1:!1,category:n})}run(L,D){var T;const N=g(L,D.originalUri,D.modifiedUri);N instanceof y.DiffEditorWidget&&N.revertRangeMappings((T=D.mapping.innerChanges)!==null&&T!==void 0?T:[])}}e.RevertHunkOrSelection=l;const d=(0,w.localize2)(306,"Accessible Diff Viewer");class p extends b.Action2{constructor(){super({id:p.id,title:(0,w.localize2)(307,"Go to Next Difference"),category:d,precondition:s.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(L){const D=C(L);D?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=p,p.id="editor.action.accessibleDiffViewer.next";class h extends b.Action2{constructor(){super({id:h.id,title:(0,w.localize2)(308,"Go to Previous Difference"),category:d,precondition:s.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(L){const D=C(L);D?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=h,h.id="editor.action.accessibleDiffViewer.prev";function g(_,L,D){return _.get(I.ICodeEditorService).listDiffEditors().find(A=>{var R,M;const P=A.getModifiedEditor(),x=A.getOriginalEditor();return P&&((R=P.getModel())===null||R===void 0?void 0:R.uri.toString())===D.toString()&&x&&((M=x.getModel())===null||M===void 0?void 0:M.uri.toString())===L.toString()})||null}function C(_){const D=_.get(I.ICodeEditorService).listDiffEditors(),T=(0,f.getActiveElement)();if(T)for(const N of D){const A=N.getContainerDomNode();if(S(A,T))return N}return null}function S(_,L){let D=L;for(;D;){if(D===_)return!0;D=D.parentElement}return!1}}),define(re[806],ae([1,0,26,805,20,3,29,24,12,185]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerAction2)(k.ToggleCollapseUnchangedRegions),(0,y.registerAction2)(k.ToggleShowMovedCodeBlocks),(0,y.registerAction2)(k.ToggleUseInlineViewWhenSpaceIsLimited),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleUseInlineViewWhenSpaceIsLimited().desc.id,title:(0,I.localize)(292,"Use Inline View When Space Is Limited"),toggled:w.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,w.ContextKeyExpr.has("isInDiffEditor"))}),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleShowMovedCodeBlocks().desc.id,title:(0,I.localize)(293,"Show Moved Code Blocks"),icon:f.Codicon.move,toggled:w.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:w.ContextKeyExpr.has("isInDiffEditor")}),(0,y.registerAction2)(k.RevertHunkOrSelection);for(const b of[{icon:f.Codicon.arrowRight,key:E.EditorContextKeys.diffEditorInlineMode.toNegated()},{icon:f.Codicon.discard,key:E.EditorContextKeys.diffEditorInlineMode}])y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorHunkToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,I.localize)(294,"Revert Block"),icon:b.icon},when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorModifiedWritable,b.key),order:5,group:"primary"}),y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorSelectionToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,I.localize)(295,"Revert Selection"),icon:b.icon},when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorModifiedWritable,b.key),order:5,group:"primary"});(0,y.registerAction2)(k.SwitchSide),(0,y.registerAction2)(k.ExitCompareMove),(0,y.registerAction2)(k.CollapseAllUnchangedRegions),(0,y.registerAction2)(k.ShowAllUnchangedRegions),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:k.AccessibleDiffViewerNext.id,title:(0,I.localize)(296,"Open Accessible Diff Viewer"),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:w.ContextKeyExpr.and(E.EditorContextKeys.accessibleDiffViewerVisible.negate(),w.ContextKeyExpr.has("isInDiffEditor"))}),m.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",k.AccessibleDiffViewerNext.id),(0,y.registerAction2)(k.AccessibleDiffViewerNext),m.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",k.AccessibleDiffViewerPrev.id),(0,y.registerAction2)(k.AccessibleDiffViewerPrev)}),define(re[419],ae([1,0,4,231,26,2,21,91,283,215,29,7,369,123]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorItemTemplate=e.TemplateData=void 0;class i{constructor(r,a){this.viewModel=r,this.deltaScrollVertical=a}getId(){return this.viewModel}}e.TemplateData=i;let n=class extends I.Disposable{constructor(r,a,l,d){super(),this._container=r,this._overflowWidgetsDomNode=a,this._workbenchUIElementFactory=l,this._instantiationService=d,this._viewModel=(0,m.observableValue)(this,void 0),this._collapsed=(0,y.derived)(this,h=>{var g;return(g=this._viewModel.read(h))===null||g===void 0?void 0:g.collapsed.read(h)}),this._editorContentHeight=(0,m.observableValue)(this,500),this.contentHeight=(0,y.derived)(this,h=>(this._collapsed.read(h)?0:this._editorContentHeight.read(h))+this._outerEditorHeight),this._modifiedContentWidth=(0,m.observableValue)(this,0),this._modifiedWidth=(0,m.observableValue)(this,0),this._originalContentWidth=(0,m.observableValue)(this,0),this._originalWidth=(0,m.observableValue)(this,0),this.maxScroll=(0,y.derived)(this,h=>{const g=this._modifiedContentWidth.read(h)-this._modifiedWidth.read(h),C=this._originalContentWidth.read(h)-this._originalWidth.read(h);return g>C?{maxScroll:g,width:this._modifiedWidth.read(h)}:{maxScroll:C,width:this._originalWidth.read(h)}}),this._elements=(0,f.h)("div.multiDiffEntry",[(0,f.h)("div.header@header",[(0,f.h)("div.header-content",[(0,f.h)("div.collapse-button@collapseButton"),(0,f.h)("div.file-path",[(0,f.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,f.h)("div.status.deleted@status",["R"]),(0,f.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,f.h)("div.actions@actions")])]),(0,f.h)("div.editorParent",[(0,f.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(w.DiffEditorWidget,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=c(this.editor.getModifiedEditor()),this.isOriginalFocused=c(this.editor.getOriginalEditor()),this.isFocused=(0,y.derived)(this,h=>this.isModifedFocused.read(h)||this.isOriginalFocused.read(h)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new I.DisposableStore,this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const p=new k.Button(this._elements.collapseButton,{});this._register((0,y.autorun)(h=>{p.element.className="",p.icon=this._collapsed.read(h)?E.Codicon.chevronRight:E.Codicon.chevronDown})),this._register(p.onDidClick(()=>{var h;(h=this._viewModel.get())===null||h===void 0||h.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,y.autorun)(h=>{this._elements.editor.style.display=this._collapsed.read(h)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(h=>{const g=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(g,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(h=>{const g=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(g,void 0)})),this._register(this.editor.onDidContentSizeChange(h=>{(0,m.globalTransaction)(g=>{this._editorContentHeight.set(h.contentHeight,g),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),g),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),g)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(h=>{if(this._isSettingScrollTop||!h.scrollTopChanged||!this._data)return;const g=h.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(g)})),this._register((0,y.autorun)(h=>{var g;const C=(g=this._viewModel.read(h))===null||g===void 0?void 0:g.isActive.read(h);this._elements.root.classList.toggle("active",C)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(b.MenuWorkbenchToolBar,this._elements.actions,v.MenuId.MultiDiffEditorFileToolbar,{actionRunner:this._register(new o.ActionRunnerWithContext(()=>{var h;return(h=this._viewModel.get())===null||h===void 0?void 0:h.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:h=>h.startsWith("navigation")},actionViewItemProvider:(h,g)=>(0,t.createActionViewItem)(d,h,g)}))}setScrollLeft(r){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(r):this.editor.getOriginalEditor().setScrollLeft(r)}setData(r){this._data=r;function a(d){return{...d,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const l=r.viewModel.entry.value;l.onOptionsDidChange&&this._dataStore.add(l.onOptionsDidChange(()=>{var d;this.editor.updateOptions(a((d=l.options)!==null&&d!==void 0?d:{}))})),(0,m.globalTransaction)(d=>{var p,h,g,C;(p=this._resourceLabel)===null||p===void 0||p.setUri((h=r.viewModel.modifiedUri)!==null&&h!==void 0?h:r.viewModel.originalUri,{strikethrough:r.viewModel.modifiedUri===void 0});let S=!1,_=!1,L=!1,D="";r.viewModel.modifiedUri&&r.viewModel.originalUri&&r.viewModel.modifiedUri.path!==r.viewModel.originalUri.path?(D="R",S=!0):r.viewModel.modifiedUri?r.viewModel.originalUri||(D="A",L=!0):(D="D",_=!0),this._elements.status.classList.toggle("renamed",S),this._elements.status.classList.toggle("deleted",_),this._elements.status.classList.toggle("added",L),this._elements.status.innerText=D,(g=this._resourceLabel2)===null||g===void 0||g.setUri(S?r.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(r.viewModel,d),this.editor.setModel(r.viewModel.diffEditorViewModel,d),this.editor.updateOptions(a((C=l.options)!==null&&C!==void 0?C:{}))})}render(r,a,l,d){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${r.start}px`,this._elements.root.style.height=`${r.length}px`,this._elements.root.style.width=`${a}px`,this._elements.root.style.position="absolute";const p=r.length-this._headerHeight,h=Math.max(0,Math.min(d.start-r.start,p));this._elements.header.style.transform=`translateY(${h}px)`,(0,m.globalTransaction)(g=>{this.editor.layout({width:a-2*8-2*1,height:r.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=l,this.editor.getOriginalEditor().setScrollTop(l)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",h>0||l>0),this._elements.header.classList.toggle("collapsed",h===p)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};e.DiffEditorItemTemplate=n,e.DiffEditorItemTemplate=n=ke([ge(3,s.IInstantiationService)],n);function c(u){return(0,y.observableFromEvent)(r=>{const a=new I.DisposableStore;return a.add(u.onDidFocusEditorWidget(()=>r(!0))),a.add(u.onDidBlurEditorWidget(()=>r(!1))),a},()=>u.hasTextFocus())}}),define(re[807],ae([1,0,4,85,13,67,8,2,21,91,160,86,66,23,20,12,7,179,419,564,3,513]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidgetImpl=void 0;let d=class extends m.Disposable{constructor(g,C,S,_,L,D){super(),this._element=g,this._dimension=C,this._viewModel=S,this._workbenchUIElementFactory=_,this._parentContextKeyService=L,this._parentInstantiationService=D,this._scrollableElements=(0,f.h)("div.scrollContent",[(0,f.h)("div@content",{style:{overflow:"hidden"}}),(0,f.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._scrollable=this._register(new v.Scrollable({forceIntegerValues:!1,scheduleAtNextAnimationFrame:N=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this._element),N),smoothScrollDuration:100})),this._scrollableElement=this._register(new k.SmoothScrollableElement(this._scrollableElements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this._elements=(0,f.h)("div.monaco-component.multiDiffEditor",{},[(0,f.h)("div",{},[this._scrollableElement.getDomNode()]),(0,f.h)("div.placeholder@placeholder",{},[(0,f.h)("div",[(0,l.localize)(283,"No Changed Files")])])]),this._sizeObserver=this._register(new s.ObservableElementSizeObserver(this._element,void 0)),this._objectPool=this._register(new a.ObjectPool(N=>{const A=this._instantiationService.createInstance(r.DiffEditorItemTemplate,this._scrollableElements.content,this._scrollableElements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return A.setData(N),A})),this.scrollTop=(0,w.observableFromEvent)(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,w.observableFromEvent)(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=(0,w.derivedWithStore)(this,(N,A)=>{const R=this._viewModel.read(N);if(!R)return{items:[],getItem:O=>{throw new y.BugIndicatingError}};const M=R.items.read(N),P=new Map;return{items:M.map(O=>{var B;const H=A.add(new p(O,this._objectPool,this.scrollLeft,V=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+V})})),K=(B=this._lastDocStates)===null||B===void 0?void 0:B[H.getKey()];return K&&(0,b.transaction)(V=>{H.setViewState(K,V)}),P.set(O,H),H}),getItem:O=>P.get(O)}}),this._viewItems=this._viewItemsInfo.map(this,N=>N.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(N,A)=>N.reduce((R,M)=>R+M.contentHeight.read(A)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new u.ServiceCollection([n.IContextKeyService,this._contextKeyService]))),this._lastDocStates={},this._contextKeyService.createKey(i.EditorContextKeys.inMultiDiffEditor.key,!0),this._register((0,w.autorunWithStore)((N,A)=>{const R=this._viewModel.read(N);if(R&&R.contextKeys)for(const[M,P]of Object.entries(R.contextKeys)){const x=this._contextKeyService.createKey(M,void 0);x.set(P),A.add((0,m.toDisposable)(()=>x.reset()))}}));const T=this._parentContextKeyService.createKey(i.EditorContextKeys.multiDiffEditorAllCollapsed.key,!1);this._register((0,w.autorun)(N=>{const A=this._viewModel.read(N);if(A){const R=A.items.read(N).every(M=>M.collapsed.read(N));T.set(R)}})),this._register((0,w.autorun)(N=>{const A=this._dimension.read(N);this._sizeObserver.observe(A)})),this._register((0,w.autorun)(N=>{const A=this._viewItems.read(N);this._elements.placeholder.classList.toggle("visible",A.length===0)})),this._scrollableElements.content.style.position="relative",this._register((0,w.autorun)(N=>{const A=this._sizeObserver.height.read(N);this._scrollableElements.root.style.height=`${A}px`;const R=this._totalHeight.read(N);this._scrollableElements.content.style.height=`${R}px`;const M=this._sizeObserver.width.read(N);let P=M;const x=this._viewItems.read(N),O=(0,I.findFirstMax)(x,(0,E.compareBy)(B=>B.maxScroll.read(N).maxScroll,E.numberComparator));if(O){const B=O.maxScroll.read(N);P=M+B.maxScroll}this._scrollableElement.setScrollDimensions({width:M,height:A,scrollHeight:R,scrollWidth:P})})),g.replaceChildren(this._elements.root),this._register((0,m.toDisposable)(()=>{g.replaceChildren()})),this._register(this._register((0,w.autorun)(N=>{(0,b.globalTransaction)(A=>{this.render(N)})})))}render(g){const C=this.scrollTop.read(g);let S=0,_=0,L=0;const D=this._sizeObserver.height.read(g),T=o.OffsetRange.ofStartAndLength(C,D),N=this._sizeObserver.width.read(g);for(const A of this._viewItems.read(g)){const R=A.contentHeight.read(g),M=Math.min(R,D),P=o.OffsetRange.ofStartAndLength(_,M),x=o.OffsetRange.ofStartAndLength(L,R);if(x.isBefore(T))S-=R-M,A.hide();else if(x.isAfter(T))A.hide();else{const O=Math.max(0,Math.min(T.start-x.start,R-M));S-=O;const B=o.OffsetRange.ofStartAndLength(C+S,D);A.render(P,O,N,B)}_+=M+this._spaceBetweenPx,L+=R+this._spaceBetweenPx}this._scrollableElements.content.style.transform=`translateY(${-(C+S)}px)`}};e.MultiDiffEditorWidgetImpl=d,e.MultiDiffEditorWidgetImpl=d=ke([ge(4,n.IContextKeyService),ge(5,c.IInstantiationService)],d);class p extends m.Disposable{constructor(g,C,S,_){super(),this.viewModel=g,this._objectPool=C,this._scrollLeft=S,this._deltaScrollVertical=_,this._templateRef=this._register((0,b.disposableObservableValue)(this,void 0)),this.contentHeight=(0,w.derived)(this,L=>{var D,T,N;return(N=(T=(D=this._templateRef.read(L))===null||D===void 0?void 0:D.object.contentHeight)===null||T===void 0?void 0:T.read(L))!==null&&N!==void 0?N:this.viewModel.lastTemplateData.read(L).contentHeight}),this.maxScroll=(0,w.derived)(this,L=>{var D,T;return(T=(D=this._templateRef.read(L))===null||D===void 0?void 0:D.object.maxScroll.read(L))!==null&&T!==void 0?T:{maxScroll:0,scrollWidth:0}}),this.template=(0,w.derived)(this,L=>{var D;return(D=this._templateRef.read(L))===null||D===void 0?void 0:D.object}),this._isHidden=(0,w.observableValue)(this,!1),this._isFocused=(0,w.derived)(this,L=>{var D,T;return(T=(D=this.template.read(L))===null||D===void 0?void 0:D.isFocused.read(L))!==null&&T!==void 0?T:!1}),this.viewModel.setIsFocused(this._isFocused,void 0),this._register((0,w.autorun)(L=>{var D;const T=this._scrollLeft.read(L);(D=this._templateRef.read(L))===null||D===void 0||D.object.setScrollLeft(T)})),this._register((0,w.autorun)(L=>{const D=this._templateRef.read(L);!D||!this._isHidden.read(L)||D.object.isFocused.read(L)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var g;return`VirtualViewItem(${(g=this.viewModel.entry.value.modified)===null||g===void 0?void 0:g.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(g,C){var S;this.viewModel.collapsed.set(g.collapsed,C),this._updateTemplateData(C);const _=this.viewModel.lastTemplateData.get(),L=(S=g.selections)===null||S===void 0?void 0:S.map(t.Selection.liftSelection);this.viewModel.lastTemplateData.set({..._,selections:L},C);const D=this._templateRef.get();D&&L&&D.object.editor.setSelections(L)}_updateTemplateData(g){var C;const S=this._templateRef.get();S&&this.viewModel.lastTemplateData.set({contentHeight:S.object.contentHeight.get(),selections:(C=S.object.editor.getSelections())!==null&&C!==void 0?C:void 0},g)}_clear(){const g=this._templateRef.get();g&&(0,b.transaction)(C=>{this._updateTemplateData(C),g.object.hide(),this._templateRef.set(void 0,C)})}hide(){this._isHidden.set(!0,void 0)}render(g,C,S,_){this._isHidden.set(!1,void 0);let L=this._templateRef.get();if(!L){L=this._objectPool.getUnusedObj(new r.TemplateData(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(L,void 0);const D=this.viewModel.lastTemplateData.get().selections;D&&L.object.editor.setSelections(D)}L.object.render(g,S,C,_)}}}),define(re[808],ae([1,0,2,21,159,807,7,419,748]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidget=void 0;let w=class extends f.Disposable{constructor(v,s,o){super(),this._element=v,this._workbenchUIElementFactory=s,this._instantiationService=o,this._dimension=(0,k.observableValue)(this,void 0),this._viewModel=(0,k.observableValue)(this,void 0),this._widgetImpl=(0,k.derivedWithStore)(this,(t,i)=>((0,E.readHotReloadableExport)(m.DiffEditorItemTemplate,t),i.add(this._instantiationService.createInstance((0,E.readHotReloadableExport)(I.MultiDiffEditorWidgetImpl,t),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,k.recomputeInitiallyAndOnChange)(this._widgetImpl))}};e.MultiDiffEditorWidget=w,e.MultiDiffEditorWidget=w=ke([ge(2,y.IInstantiationService)],w)}),define(re[809],ae([1,0,14,2,15,9,5,23,20,41,36,3,29,32,25,515]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const n=(0,t.registerColor)("editorOverviewRuler.bracketMatchForeground","#A0A0A0",s.localize(778,"Overview ruler marker color for matching brackets."));class c extends E.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:s.localize(779,"Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(p,h){var g;(g=l.get(h))===null||g===void 0||g.jumpToBracket()}}class u extends E.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:s.localize(780,"Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:s.localize2(783,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(p,h,g){var C;let S=!0;g&&g.selectBrackets===!1&&(S=!1),(C=l.get(h))===null||C===void 0||C.selectToBracket(S)}}class r extends E.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:s.localize(781,"Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(p,h){var g;(g=l.get(h))===null||g===void 0||g.removeBrackets(this.id)}}class a{constructor(p,h,g){this.position=p,this.brackets=h,this.options=g}}class l extends k.Disposable{static get(p){return p.getContribution(l.ID)}constructor(p){super(),this._editor=p,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new f.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(p.onDidChangeCursorPosition(h=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelContent(h=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModel(h=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelLanguageConfiguration(h=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeConfiguration(h=>{h.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(p.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const p=this._editor.getModel(),h=this._editor.getSelections().map(g=>{const C=g.getStartPosition(),S=p.bracketPairs.matchBracket(C);let _=null;if(S)S[0].containsPosition(C)&&!S[1].containsPosition(C)?_=S[1].getStartPosition():S[1].containsPosition(C)&&(_=S[0].getStartPosition());else{const L=p.bracketPairs.findEnclosingBrackets(C);if(L)_=L[1].getStartPosition();else{const D=p.bracketPairs.findNextBracket(C);D&&D.range&&(_=D.range.getStartPosition())}}return _?new m.Selection(_.lineNumber,_.column,_.lineNumber,_.column):new m.Selection(C.lineNumber,C.column,C.lineNumber,C.column)});this._editor.setSelections(h),this._editor.revealRange(h[0])}selectToBracket(p){if(!this._editor.hasModel())return;const h=this._editor.getModel(),g=[];this._editor.getSelections().forEach(C=>{const S=C.getStartPosition();let _=h.bracketPairs.matchBracket(S);if(!_&&(_=h.bracketPairs.findEnclosingBrackets(S),!_)){const T=h.bracketPairs.findNextBracket(S);T&&T.range&&(_=h.bracketPairs.matchBracket(T.range.getStartPosition()))}let L=null,D=null;if(_){_.sort(y.Range.compareRangesUsingStarts);const[T,N]=_;if(L=p?T.getStartPosition():T.getEndPosition(),D=p?N.getEndPosition():N.getStartPosition(),N.containsPosition(S)){const A=L;L=D,D=A}}L&&D&&g.push(new m.Selection(L.lineNumber,L.column,D.lineNumber,D.column))}),g.length>0&&(this._editor.setSelections(g),this._editor.revealRange(g[0]))}removeBrackets(p){if(!this._editor.hasModel())return;const h=this._editor.getModel();this._editor.getSelections().forEach(g=>{const C=g.getPosition();let S=h.bracketPairs.matchBracket(C);S||(S=h.bracketPairs.findEnclosingBrackets(C)),S&&(this._editor.pushUndoStop(),this._editor.executeEdits(p,[{range:S[0],text:""},{range:S[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const p=[];let h=0;for(const g of this._lastBracketsData){const C=g.brackets;C&&(p[h++]={range:C[0],options:g.options},p[h++]={range:C[1],options:g.options})}this._decorations.set(p)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const p=this._editor.getSelections();if(p.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const h=this._editor.getModel(),g=h.getVersionId();let C=[];this._lastVersionId===g&&(C=this._lastBracketsData);const S=[];let _=0;for(let A=0,R=p.length;A<R;A++){const M=p[A];M.isEmpty()&&(S[_++]=M.getStartPosition())}S.length>1&&S.sort(I.Position.compare);const L=[];let D=0,T=0;const N=C.length;for(let A=0,R=S.length;A<R;A++){const M=S[A];for(;T<N&&C[T].position.isBefore(M);)T++;if(T<N&&C[T].position.equals(M))L[D++]=C[T];else{let P=h.bracketPairs.matchBracket(M,20),x=l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!P&&this._matchBrackets==="always"&&(P=h.bracketPairs.findEnclosingBrackets(M,20),x=l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),L[D++]=new a(M,P,x)}}this._lastBracketsData=L,this._lastVersionId=g}}e.BracketMatchingController=l,l.ID="editor.contrib.bracketMatchingController",l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=v.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,i.themeColorFromId)(n),position:b.OverviewRulerLane.Center}}),l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=v.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,E.registerEditorContribution)(l.ID,l,1),(0,E.registerEditorAction)(u),(0,E.registerEditorAction)(c),(0,E.registerEditorAction)(r),o.MenuRegistry.appendMenuItem(o.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:s.localize(782,"Go to &&Bracket")},order:2})}),define(re[284],ae([1,0,4,47,8,98,2,9,36,17,153,725,749,406,183,3,752,24,28,12,7,107,96,32,97,25,131,405,90]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L){"use strict";var D;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;const T="quickfix-edit-highlight";let N=D=class extends y.Disposable{static get(R){return R.getContribution(D.ID)}constructor(R,M,P,x,O,B,H,K,V,j){super(),this._commandService=H,this._configurationService=K,this._actionWidgetService=V,this._instantiationService=j,this._activeCodeActions=this._register(new y.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=R,this._model=this._register(new _.CodeActionModel(this._editor,O.codeActionProvider,M,P,B,K)),this._register(this._model.onDidChangeState(U=>this.update(U))),this._lightBulbWidget=new I.Lazy(()=>{const U=this._editor.getContribution(t.LightBulbWidget.ID);return U&&this._register(U.onClick(Y=>this.showCodeActionsFromLightbulb(Y.actions,Y))),U}),this._resolver=x.createInstance(s.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(R,M){if(R.allAIFixes&&R.validActions.length===1){const P=R.validActions[0],x=P.action.command;x&&x.id==="inlineChat.start"&&x.arguments&&x.arguments.length>=1&&(x.arguments[0]={...x.arguments[0],autoSend:!1}),await this._applyCodeAction(P,!1,!1,v.ApplyCodeActionReason.FromAILightbulb);return}await this.showCodeActionList(R,M,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(R,M,P){return this.showCodeActionList(M,P,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(R,M,P,x){var O;if(!this._editor.hasModel())return;(O=i.MessageController.get(this._editor))===null||O===void 0||O.closeMessage();const B=this._editor.getPosition();this._trigger({type:1,triggerAction:M,filter:P,autoApply:x,context:{notAvailableMessage:R,position:B}})}_trigger(R){return this._model.trigger(R)}async _applyCodeAction(R,M,P,x){try{await this._instantiationService.invokeFunction(v.applyCodeAction,R,x,{preview:P,editor:this._editor})}finally{M&&this._trigger({type:2,triggerAction:S.CodeActionTriggerSource.QuickFix,filter:{}})}}async update(R){var M,P,x,O,B,H,K;if(R.type!==1){(M=this._lightBulbWidget.rawValue)===null||M===void 0||M.hide();return}let V;try{V=await R.actions}catch(j){(0,E.onUnexpectedError)(j);return}if(!this._disposed)if((P=this._lightBulbWidget.value)===null||P===void 0||P.update(V,R.trigger,R.position),R.trigger.type===1){if(!((x=R.trigger.filter)===null||x===void 0)&&x.include){const U=this.tryGetValidActionToApply(R.trigger,V);if(U){try{(O=this._lightBulbWidget.value)===null||O===void 0||O.hide(),await this._applyCodeAction(U,!1,!1,v.ApplyCodeActionReason.FromCodeActions)}finally{V.dispose()}return}if(R.trigger.context){const Y=this.getInvalidActionThatWouldHaveBeenApplied(R.trigger,V);if(Y&&Y.action.disabled){(B=i.MessageController.get(this._editor))===null||B===void 0||B.showMessage(Y.action.disabled,R.trigger.context.position),V.dispose();return}}}const j=!!(!((H=R.trigger.filter)===null||H===void 0)&&H.include);if(R.trigger.context&&(!V.allActions.length||!j&&!V.validActions.length)){(K=i.MessageController.get(this._editor))===null||K===void 0||K.showMessage(R.trigger.context.notAvailableMessage,R.trigger.context.position),this._activeCodeActions.value=V,V.dispose();return}this._activeCodeActions.value=V,this.showCodeActionList(V,this.toCoords(R.position),{includeDisabledActions:j,fromLightbulb:!1})}else this._actionWidgetService.isVisible?V.dispose():this._activeCodeActions.value=V}getInvalidActionThatWouldHaveBeenApplied(R,M){if(M.allActions.length&&(R.autoApply==="first"&&M.validActions.length===0||R.autoApply==="ifSingle"&&M.allActions.length===1))return M.allActions.find(({action:P})=>P.disabled)}tryGetValidActionToApply(R,M){if(M.validActions.length&&(R.autoApply==="first"&&M.validActions.length>0||R.autoApply==="ifSingle"&&M.validActions.length===1))return M.validActions[0]}async showCodeActionList(R,M,P){const x=this._editor.createDecorationsCollection(),O=this._editor.getDomNode();if(!O)return;const B=P.includeDisabledActions&&(this._showDisabled||R.validActions.length===0)?R.allActions:R.validActions;if(!B.length)return;const H=m.Position.isIPosition(M)?this.toCoords(M):M,K={onSelect:async(V,j)=>{this._applyCodeAction(V,!0,!!j,P.fromLightbulb?v.ApplyCodeActionReason.FromAILightbulb:v.ApplyCodeActionReason.FromCodeActions),this._actionWidgetService.hide(!1),x.clear()},onHide:V=>{var j;(j=this._editor)===null||j===void 0||j.focus(),x.clear()},onHover:async(V,j)=>{var U;if(j.isCancellationRequested)return;let Y=!1;const Q=V.action.kind;if(Q){const Z=new L.HierarchicalKind(Q);Y=[S.CodeActionKind.RefactorExtract,S.CodeActionKind.RefactorInline,S.CodeActionKind.RefactorRewrite,S.CodeActionKind.RefactorMove,S.CodeActionKind.Source].some(F=>F.contains(Z))}return{canPreview:Y||!!(!((U=V.action.edit)===null||U===void 0)&&U.edits.length)}},onFocus:V=>{var j,U;if(V&&V.action){const Y=V.action.ranges,Q=V.action.diagnostics;if(x.clear(),Y&&Y.length>0){const Z=Q&&Q?.length>1?Q.map(G=>({range:G,options:D.DECORATION})):Y.map(G=>({range:G,options:D.DECORATION}));x.set(Z)}else if(Q&&Q.length>0){const Z=Q.map(F=>({range:F,options:D.DECORATION}));x.set(Z);const G=Q[0];if(G.startLineNumber&&G.startColumn){const F=(U=(j=this._editor.getModel())===null||j===void 0?void 0:j.getWordAtPosition({lineNumber:G.startLineNumber,column:G.startColumn}))===null||U===void 0?void 0:U.word;k.status((0,n.localize)(73,"Context: {0} at line {1} and column {2}.",F,G.startLineNumber,G.startColumn))}}}else x.clear()}};this._actionWidgetService.show("codeActionWidget",!0,(0,o.toMenuItems)(B,this._shouldShowHeaders(),this._resolver.getResolver()),K,H,O,this._getActionBarActions(R,M,P))}toCoords(R){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(R,1),this._editor.render();const M=this._editor.getScrolledVisiblePosition(R),P=(0,f.getDomNodePagePosition)(this._editor.getDomNode()),x=P.left+M.left,O=P.top+M.top+M.height;return{x,y:O}}_shouldShowHeaders(){var R;const M=(R=this._editor)===null||R===void 0?void 0:R.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:M?.uri})}_getActionBarActions(R,M,P){if(P.fromLightbulb)return[];const x=R.documentation.map(O=>{var B;return{id:O.id,label:O.title,tooltip:(B=O.tooltip)!==null&&B!==void 0?B:"",class:void 0,enabled:!0,run:()=>{var H;return this._commandService.executeCommand(O.id,...(H=O.arguments)!==null&&H!==void 0?H:[])}}});return P.includeDisabledActions&&R.validActions.length>0&&R.allActions.length!==R.validActions.length&&x.push(this._showDisabled?{id:"hideMoreActions",label:(0,n.localize)(74,"Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(R,M,P))}:{id:"showMoreActions",label:(0,n.localize)(75,"Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(R,M,P))}),x}};e.CodeActionController=N,N.ID="editor.contrib.codeActionController",N.DECORATION=w.ModelDecorationOptions.register({description:"quickfix-highlight",className:T}),e.CodeActionController=N=D=ke([ge(1,d.IMarkerService),ge(2,a.IContextKeyService),ge(3,l.IInstantiationService),ge(4,b.ILanguageFeaturesService),ge(5,p.IEditorProgressService),ge(6,u.ICommandService),ge(7,r.IConfigurationService),ge(8,c.IActionWidgetService),ge(9,l.IInstantiationService)],N),(0,C.registerThemingParticipant)((A,R)=>{((x,O)=>{O&&R.addRule(`.monaco-editor ${x} { background-color: ${O}; }`)})(".quickfix-edit-highlight",A.getColor(h.editorFindMatchHighlight));const P=A.getColor(h.editorFindMatchHighlightBorder);P&&R.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,g.isHighContrast)(A.type)?"dotted":"solid"} ${P}; box-sizing: border-box; }`)})}),define(re[810],ae([1,0,90,11,15,20,153,3,12,131,284,405]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function o(p){return w.ContextKeyExpr.regex(s.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,k.escapeRegExpCharacters)(p.value)+"\\b"))}const t={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:m.localize(78,"Kind of the code action to run.")},apply:{type:"string",description:m.localize(79,"Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[m.localize(80,"Always apply the first returned code action."),m.localize(81,"Apply the first returned code action if it is the only one."),m.localize(82,"Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:m.localize(83,"Controls if only preferred code actions should be returned.")}}};function i(p,h,g,C,S=b.CodeActionTriggerSource.Default){if(p.hasModel()){const _=v.CodeActionController.get(p);_?.manualTriggerAtCurrentPosition(h,S,g,C)}}class n extends E.EditorAction{constructor(){super({id:y.quickFixCommandId,label:m.localize(84,"Quick Fix..."),alias:"Quick Fix...",precondition:w.ContextKeyExpr.and(I.EditorContextKeys.writable,I.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(h,g){return i(g,m.localize(85,"No code actions available"),void 0,void 0,b.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=n;class c extends E.EditorCommand{constructor(){super({id:y.codeActionCommandId,precondition:w.ContextKeyExpr.and(I.EditorContextKeys.writable,I.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:t}]}})}runEditorCommand(h,g,C){const S=b.CodeActionCommandArgs.fromUser(C,{kind:f.HierarchicalKind.Empty,apply:"ifSingle"});return i(g,typeof C?.kind=="string"?S.preferred?m.localize(86,"No preferred code actions for '{0}' available",C.kind):m.localize(87,"No code actions for '{0}' available",C.kind):S.preferred?m.localize(88,"No preferred code actions available"):m.localize(89,"No code actions available"),{include:S.kind,includeSourceActions:!0,onlyIncludePreferredActions:S.preferred},S.apply)}}e.CodeActionCommand=c;class u extends E.EditorAction{constructor(){super({id:y.refactorCommandId,label:m.localize(90,"Refactor..."),alias:"Refactor...",precondition:w.ContextKeyExpr.and(I.EditorContextKeys.writable,I.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:w.ContextKeyExpr.and(I.EditorContextKeys.writable,o(b.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:t}]}})}run(h,g,C){const S=b.CodeActionCommandArgs.fromUser(C,{kind:b.CodeActionKind.Refactor,apply:"never"});return i(g,typeof C?.kind=="string"?S.preferred?m.localize(91,"No preferred refactorings for '{0}' available",C.kind):m.localize(92,"No refactorings for '{0}' available",C.kind):S.preferred?m.localize(93,"No preferred refactorings available"):m.localize(94,"No refactorings available"),{include:b.CodeActionKind.Refactor.contains(S.kind)?S.kind:f.HierarchicalKind.None,onlyIncludePreferredActions:S.preferred},S.apply,b.CodeActionTriggerSource.Refactor)}}e.RefactorAction=u;class r extends E.EditorAction{constructor(){super({id:y.sourceActionCommandId,label:m.localize(95,"Source Action..."),alias:"Source Action...",precondition:w.ContextKeyExpr.and(I.EditorContextKeys.writable,I.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:w.ContextKeyExpr.and(I.EditorContextKeys.writable,o(b.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:t}]}})}run(h,g,C){const S=b.CodeActionCommandArgs.fromUser(C,{kind:b.CodeActionKind.Source,apply:"never"});return i(g,typeof C?.kind=="string"?S.preferred?m.localize(96,"No preferred source actions for '{0}' available",C.kind):m.localize(97,"No source actions for '{0}' available",C.kind):S.preferred?m.localize(98,"No preferred source actions available"):m.localize(99,"No source actions available"),{include:b.CodeActionKind.Source.contains(S.kind)?S.kind:f.HierarchicalKind.None,includeSourceActions:!0,onlyIncludePreferredActions:S.preferred},S.apply,b.CodeActionTriggerSource.SourceAction)}}e.SourceAction=r;class a extends E.EditorAction{constructor(){super({id:y.organizeImportsCommandId,label:m.localize(100,"Organize Imports"),alias:"Organize Imports",precondition:w.ContextKeyExpr.and(I.EditorContextKeys.writable,o(b.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(h,g){return i(g,m.localize(101,"No organize imports action available"),{include:b.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",b.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=a;class l extends E.EditorAction{constructor(){super({id:y.fixAllCommandId,label:m.localize(102,"Fix All"),alias:"Fix All",precondition:w.ContextKeyExpr.and(I.EditorContextKeys.writable,o(b.CodeActionKind.SourceFixAll))})}run(h,g){return i(g,m.localize(103,"No fix all action available"),{include:b.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",b.CodeActionTriggerSource.FixAll)}}e.FixAllAction=l;class d extends E.EditorAction{constructor(){super({id:y.autoFixCommandId,label:m.localize(104,"Auto Fix..."),alias:"Auto Fix...",precondition:w.ContextKeyExpr.and(I.EditorContextKeys.writable,o(b.CodeActionKind.QuickFix)),kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(h,g){return i(g,m.localize(105,"No auto fixes available"),{include:b.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",b.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=d}),define(re[811],ae([1,0,15,271,810,284,406,3,108,38]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(I.CodeActionController.ID,I.CodeActionController,3),(0,f.registerEditorContribution)(y.LightBulbWidget.ID,y.LightBulbWidget,4),(0,f.registerEditorAction)(E.QuickFixAction),(0,f.registerEditorAction)(E.RefactorAction),(0,f.registerEditorAction)(E.SourceAction),(0,f.registerEditorAction)(E.OrganizeImportsAction),(0,f.registerEditorAction)(E.AutoFixAction),(0,f.registerEditorAction)(E.FixAllAction),(0,f.registerEditorCommand)(new E.CodeActionCommand),b.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:m.localize(76,"Enable/disable showing group headers in the Code Action menu."),default:!0}}}),b.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:m.localize(77,"Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}})}),define(re[812],ae([1,0,4,111,5,36,517]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class y{constructor(o,t,i){this.afterColumn=1073741824,this.afterLineNumber=o,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(o){this._lastHeight===void 0?this._lastHeight=o:this._lastHeight!==o&&(this._lastHeight=o,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class m{constructor(o,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=o,this._id=`codelens.widget-${m._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(o,t){this._commands.clear();const i=[];let n=!1;for(let c=0;c<o.length;c++){const u=o[c];if(u&&(n=!0,u.command)){const r=(0,k.renderLabelWithIcons)(u.command.title.trim());if(u.command.id){const a=`c${m._idPool++}`;i.push(f.$("a",{id:a,title:u.command.tooltip,role:"button"},...r)),this._commands.set(a,u.command)}else i.push(f.$("span",{title:u.command.tooltip},...r));c+1<o.length&&i.push(f.$("span",void 0,"\xA0|\xA0"))}}n?(f.reset(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):f.reset(this._domNode,f.$("span",void 0,"no commands"))}getCommand(o){return o.parentElement===this._domNode?this._commands.get(o.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(o){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(o);this._widgetPosition={position:{lineNumber:o,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}m._idPool=0;class w{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(o,t){this._addDecorations.push(o),this._addDecorationsCallbacks.push(t)}removeDecoration(o){this._removeDecorations.push(o)}commit(o){const t=o.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}}e.CodeLensHelper=w;const b=I.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class v{constructor(o,t,i,n,c,u){this._isDisposed=!1,this._editor=t,this._data=o,this._decorationIds=[];let r;const a=[];this._data.forEach((l,d)=>{l.symbol.command&&a.push(l.symbol),i.addDecoration({range:l.symbol.range,options:b},p=>this._decorationIds[d]=p),r?r=E.Range.plusRange(r,l.symbol.range):r=E.Range.lift(l.symbol.range)}),this._viewZone=new y(r.startLineNumber-1,c,u),this._viewZoneId=n.addZone(this._viewZone),a.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new m(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(o,t){this._decorationIds.forEach(o.removeDecoration,o),this._decorationIds=[],t?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((o,t)=>{const i=this._editor.getModel().getDecorationRange(o),n=this._data[t].symbol;return!!(i&&E.Range.isEmpty(n.range)===i.isEmpty())})}updateCodeLensSymbols(o,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=o,this._data.forEach((i,n)=>{t.addDecoration({range:i.symbol.range,options:b},c=>this._decorationIds[n]=c)})}updateHeight(o,t){this._viewZone.heightInPx=o,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(o){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=o.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(o){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(o,!0);for(let t=0;t<this._data.length;t++){const i=o[t];if(i){const{symbol:n}=this._data[t];n.command=i.command||n.command}}}getCommand(o){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(o)}getLineNumber(){const o=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return o?o.startLineNumber:-1}update(o){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,o.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=v}),define(re[813],ae([1,0,14,8,2,140,15,37,20,381,716,812,3,24,49,63,78,17]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let r=class{constructor(l,d,p,h,g,C){this._editor=l,this._languageFeaturesService=d,this._commandService=h,this._notificationService=g,this._codeLensCache=C,this._disposables=new E.DisposableStore,this._localToDispose=new E.DisposableStore,this._lenses=[],this._oldCodeLensModels=new E.DisposableStore,this._provideCodeLensDebounce=p.for(d.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=p.for(d.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(S=>{(S.hasChanged(50)||S.hasChanged(19)||S.hasChanged(18))&&this._updateLensStyle(),S.hasChanged(17)&&this._onModelChange()})),this._disposables.add(d.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var l;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(l=this._currentCodeLensModel)===null||l===void 0||l.dispose()}_getLayoutInfo(){const l=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let d=this._editor.getOption(19);return(!d||d<5)&&(d=this._editor.getOption(52)*.9|0),{fontSize:d,codeLensHeight:d*l|0}}_updateLensStyle(){const{codeLensHeight:l,fontSize:d}=this._getLayoutInfo(),p=this._editor.getOption(18),h=this._editor.getOption(50),{style:g}=this._editor.getContainerDomNode();g.setProperty("--vscode-editorCodeLens-lineHeight",`${l}px`),g.setProperty("--vscode-editorCodeLens-fontSize",`${d}px`),g.setProperty("--vscode-editorCodeLens-fontFeatureSettings",h.fontFeatureSettings),p&&(g.setProperty("--vscode-editorCodeLens-fontFamily",p),g.setProperty("--vscode-editorCodeLens-fontFamilyDefault",m.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(C=>{for(const S of this._lenses)S.updateHeight(l,C)})}_localDispose(){var l,d,p;(l=this._getCodeLensModelPromise)===null||l===void 0||l.cancel(),this._getCodeLensModelPromise=void 0,(d=this._resolveCodeLensesPromise)===null||d===void 0||d.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose()}_onModelChange(){this._localDispose();const l=this._editor.getModel();if(!l||!this._editor.getOption(17)||l.isTooLargeForTokenization())return;const d=this._codeLensCache.get(l);if(d&&this._renderCodeLensSymbols(d),!this._languageFeaturesService.codeLensProvider.has(l)){d&&(0,f.disposableTimeout)(()=>{const h=this._codeLensCache.get(l);d===h&&(this._codeLensCache.delete(l),this._onModelChange())},30*1e3,this._localToDispose);return}for(const h of this._languageFeaturesService.codeLensProvider.all(l))if(typeof h.onDidChange=="function"){const g=h.onDidChange(()=>p.schedule());this._localToDispose.add(g)}const p=new f.RunOnceScheduler(()=>{var h;const g=Date.now();(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=(0,f.createCancelablePromise)(C=>(0,b.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,l,C)),this._getCodeLensModelPromise.then(C=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=C,this._codeLensCache.put(l,C);const S=this._provideCodeLensDebounce.update(l,Date.now()-g);p.delay=S,this._renderCodeLensSymbols(C),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(l));this._localToDispose.add(p),this._localToDispose.add((0,E.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var h;this._editor.changeDecorations(g=>{this._editor.changeViewZones(C=>{const S=[];let _=-1;this._lenses.forEach(D=>{!D.isValid()||_===D.getLineNumber()?S.push(D):(D.update(C),_=D.getLineNumber())});const L=new s.CodeLensHelper;S.forEach(D=>{D.dispose(L,C),this._lenses.splice(this._lenses.indexOf(D),1)}),L.commit(g)})}),p.schedule(),this._resolveCodeLensesScheduler.cancel(),(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{p.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{p.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(h=>{h.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,E.toDisposable)(()=>{if(this._editor.getModel()){const h=I.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(g=>{this._editor.changeViewZones(C=>{this._disposeAllLenses(g,C)})}),h.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(h=>{if(h.target.type!==9)return;let g=h.target.element;if(g?.tagName==="SPAN"&&(g=g.parentElement),g?.tagName==="A")for(const C of this._lenses){const S=C.getCommand(g);if(S){this._commandService.executeCommand(S.id,...S.arguments||[]).catch(_=>this._notificationService.error(_));break}}})),p.schedule()}_disposeAllLenses(l,d){const p=new s.CodeLensHelper;for(const h of this._lenses)h.dispose(p,d);l&&p.commit(l),this._lenses.length=0}_renderCodeLensSymbols(l){if(!this._editor.hasModel())return;const d=this._editor.getModel().getLineCount(),p=[];let h;for(const S of l.lenses){const _=S.symbol.range.startLineNumber;_<1||_>d||(h&&h[h.length-1].symbol.range.startLineNumber===_?h.push(S):(h=[S],p.push(h)))}if(!p.length&&!this._lenses.length)return;const g=I.StableEditorScrollState.capture(this._editor),C=this._getLayoutInfo();this._editor.changeDecorations(S=>{this._editor.changeViewZones(_=>{const L=new s.CodeLensHelper;let D=0,T=0;for(;T<p.length&&D<this._lenses.length;){const N=p[T][0].symbol.range.startLineNumber,A=this._lenses[D].getLineNumber();A<N?(this._lenses[D].dispose(L,_),this._lenses.splice(D,1)):A===N?(this._lenses[D].updateCodeLensSymbols(p[T],L),T++,D++):(this._lenses.splice(D,0,new s.CodeLensWidget(p[T],this._editor,L,_,C.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),D++,T++)}for(;D<this._lenses.length;)this._lenses[D].dispose(L,_),this._lenses.splice(D,1);for(;T<p.length;)this._lenses.push(new s.CodeLensWidget(p[T],this._editor,L,_,C.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;L.commit(S)})}),g.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var l;(l=this._resolveCodeLensesPromise)===null||l===void 0||l.cancel(),this._resolveCodeLensesPromise=void 0;const d=this._editor.getModel();if(!d)return;const p=[],h=[];if(this._lenses.forEach(S=>{const _=S.computeIfNecessary(d);_&&(p.push(_),h.push(S))}),p.length===0)return;const g=Date.now(),C=(0,f.createCancelablePromise)(S=>{const _=p.map((L,D)=>{const T=new Array(L.length),N=L.map((A,R)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(d,A.symbol,S)).then(M=>{T[R]=M},k.onUnexpectedExternalError):(T[R]=A.symbol,Promise.resolve(void 0)));return Promise.all(N).then(()=>{!S.isCancellationRequested&&!h[D].isDisposed()&&h[D].updateCommands(T)})});return Promise.all(_)});this._resolveCodeLensesPromise=C,this._resolveCodeLensesPromise.then(()=>{const S=this._resolveCodeLensesDebounce.update(d,Date.now()-g);this._resolveCodeLensesScheduler.delay=S,this._currentCodeLensModel&&this._codeLensCache.put(d,this._currentCodeLensModel),this._oldCodeLensModels.clear(),C===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},S=>{(0,k.onUnexpectedError)(S),C===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var l;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((l=this._currentCodeLensModel)===null||l===void 0)&&l.isDisposed?void 0:this._currentCodeLensModel}};e.CodeLensContribution=r,r.ID="css.editor.codeLens",e.CodeLensContribution=r=ke([ge(1,u.ILanguageFeaturesService),ge(2,c.ILanguageFeatureDebounceService),ge(3,t.ICommandService),ge(4,i.INotificationService),ge(5,v.ICodeLensCache)],r),(0,y.registerEditorContribution)(r.ID,r,1),(0,y.registerEditorAction)(class extends y.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:w.EditorContextKeys.hasCodeLensProvider,label:(0,o.localize)(730,"Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}async run(l,d){if(!d.hasModel())return;const p=l.get(n.IQuickInputService),h=l.get(t.ICommandService),g=l.get(i.INotificationService),C=d.getSelection().positionLineNumber,S=d.getContribution(r.ID);if(!S)return;const _=await S.getModel();if(!_)return;const L=[];for(const N of _.lenses)N.symbol.command&&N.symbol.range.startLineNumber===C&&L.push({label:N.symbol.command.title,command:N.symbol.command});if(L.length===0)return;const D=await p.pick(L,{canPickMany:!1,placeHolder:(0,o.localize)(731,"Select a command")});if(!D)return;let T=D.command;if(_.isDisposed){const N=await S.getModel(),A=N?.lenses.find(R=>{var M;return R.symbol.range.startLineNumber===C&&((M=R.symbol.command)===null||M===void 0?void 0:M.title)===T.title});if(!A||!A.symbol.command)return;T=A.symbol.command}try{await h.executeCommand(T.id,...T.arguments||[])}catch(N){g.error(N)}}})}),define(re[420],ae([1,0,14,33,8,6,2,59,11,184,15,5,36,78,17,397,28]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let r=u=class extends y.Disposable{constructor(d,p,h,g){super(),this._editor=d,this._configurationService=p,this._languageFeaturesService=h,this._localToDispose=this._register(new y.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new b.DynamicCssRules(this._editor),this._decoratorLimitReporter=new a,this._colorDecorationClassRefs=this._register(new y.DisposableStore),this._debounceInformation=g.for(h.colorProvider,"Document Colors",{min:u.RECOMPUTE_TIME}),this._register(d.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(d.onDidChangeModelLanguage(()=>this.updateColors())),this._register(h.colorProvider.onDidChange(()=>this.updateColors())),this._register(d.onDidChangeConfiguration(C=>{const S=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148);const _=S!==this._isColorDecoratorsEnabled||C.hasChanged(21),L=C.hasChanged(148);(_||L)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148),this.updateColors()}isEnabled(){const d=this._editor.getModel();if(!d)return!1;const p=d.getLanguageId(),h=this._configurationService.getValue(p);if(h&&typeof h=="object"){const g=h.colorDecorators;if(g&&g.enable!==void 0&&!g.enable)return g.enable}return this._editor.getOption(20)}static get(d){return d.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const d=this._editor.getModel();!d||!this._languageFeaturesService.colorProvider.has(d)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new f.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(d)))})),this.beginCompute())}async beginCompute(){this._computePromise=(0,f.createCancelablePromise)(async d=>{const p=this._editor.getModel();if(!p)return[];const h=new m.StopWatch(!1),g=await(0,n.getColors)(this._languageFeaturesService.colorProvider,p,d,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(p,h.elapsed()),g});try{const d=await this._computePromise;this.updateDecorations(d),this.updateColorDecorators(d),this._computePromise=null}catch(d){(0,E.onUnexpectedError)(d)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(d){const p=d.map(h=>({range:{startLineNumber:h.colorInfo.range.startLineNumber,startColumn:h.colorInfo.range.startColumn,endLineNumber:h.colorInfo.range.endLineNumber,endColumn:h.colorInfo.range.endColumn},options:o.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(h=>{this._decorationsIds=h.deltaDecorations(this._decorationsIds,p),this._colorDatas=new Map,this._decorationsIds.forEach((g,C)=>this._colorDatas.set(g,d[C]))})}updateColorDecorators(d){this._colorDecorationClassRefs.clear();const p=[],h=this._editor.getOption(21);for(let C=0;C<d.length&&p.length<h;C++){const{red:S,green:_,blue:L,alpha:D}=d[C].colorInfo.color,T=new k.RGBA(Math.round(S*255),Math.round(_*255),Math.round(L*255),D),N=`rgba(${T.r}, ${T.g}, ${T.b}, ${T.a})`,A=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:N}));p.push({range:{startLineNumber:d[C].colorInfo.range.startLineNumber,startColumn:d[C].colorInfo.range.startColumn,endLineNumber:d[C].colorInfo.range.endLineNumber,endColumn:d[C].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:w.noBreakWhitespace,inlineClassName:`${A.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const g=h<d.length?h:!1;this._decoratorLimitReporter.update(d.length,g),this._colorDecoratorIds.set(p)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(d){const p=this._editor.getModel();if(!p)return null;const h=p.getDecorationsInRange(s.Range.fromPositions(d,d)).filter(g=>this._colorDatas.has(g.id));return h.length===0?null:this._colorDatas.get(h[0].id)}isColorDecoration(d){return this._colorDecoratorIds.has(d)}};e.ColorDetector=r,r.ID="editor.contrib.colorDetector",r.RECOMPUTE_TIME=1e3,e.ColorDetector=r=u=ke([ge(1,c.IConfigurationService),ge(2,i.ILanguageFeaturesService),ge(3,t.ILanguageFeatureDebounceService)],r);class a{constructor(){this._onDidChange=new I.Emitter,this._computed=0,this._limited=!1}update(d,p){(d!==this._computed||p!==this._limited)&&(this._computed=d,this._limited=p,this._onDidChange.fire())}}e.DecoratorLimitReporter=a,(0,v.registerEditorContribution)(r.ID,r,1)}),define(re[285],ae([1,0,14,18,33,2,5,397,420,629,755,69,25,4,3]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class n{constructor(g,C,S,_){this.owner=g,this.range=C,this.model=S,this.provider=_,this.forceShowAtRange=!0}isValidForHoverAnchor(g){return g.type===1&&this.range.startColumn<=g.range.startColumn&&this.range.endColumn>=g.range.endColumn}}e.ColorHover=n;let c=class{constructor(g,C){this._editor=g,this._themeService=C,this.hoverOrdinal=2}computeSync(g,C){return[]}computeAsync(g,C,S){return f.AsyncIterableObject.fromPromise(this._computeAsync(g,C,S))}async _computeAsync(g,C,S){if(!this._editor.hasModel())return[];const _=w.ColorDetector.get(this._editor);if(!_)return[];for(const L of C){if(!_.isColorDecoration(L))continue;const D=_.getColorData(L.range.getStartPosition());if(D)return[await a(this,this._editor.getModel(),D.colorInfo,D.provider)]}return[]}renderHoverParts(g,C){const S=l(this,this._editor,this._themeService,C,g);if(!S)return new s.RenderedHoverParts([]);this._colorPicker=S.colorPicker;const _={hoverPart:S.hoverPart,hoverElement:this._colorPicker.domNode,dispose(){S.disposables.dispose()}};return new s.RenderedHoverParts([_])}getAccessibleContent(g){return i.localize(754,"There is a color picker here.")}handleResize(){var g;(g=this._colorPicker)===null||g===void 0||g.layout()}isColorPickerVisible(){return!!this._colorPicker}};e.ColorHoverParticipant=c,e.ColorHoverParticipant=c=ke([ge(1,o.IThemeService)],c);class u{constructor(g,C,S,_){this.owner=g,this.range=C,this.model=S,this.provider=_}}e.StandaloneColorPickerHover=u;let r=class{constructor(g,C){this._editor=g,this._themeService=C,this._color=null}async createColorHover(g,C,S){if(!this._editor.hasModel()||!w.ColorDetector.get(this._editor))return null;const L=await(0,m.getColors)(S,this._editor.getModel(),k.CancellationToken.None);let D=null,T=null;for(const M of L){const P=M.colorInfo;y.Range.containsRange(P.range,g.range)&&(D=P,T=M.provider)}const N=D??g,A=T??C,R=!!D;return{colorHover:await a(this,this._editor.getModel(),N,A),foundInEditor:R}}async updateEditorModel(g){if(!this._editor.hasModel())return;const C=g.model;let S=new y.Range(g.range.startLineNumber,g.range.startColumn,g.range.endLineNumber,g.range.endColumn);this._color&&(await p(this._editor.getModel(),C,this._color,S,g),S=d(this._editor,S,C))}renderHoverParts(g,C){return l(this,this._editor,this._themeService,C,g)}set color(g){this._color=g}get color(){return this._color}};e.StandaloneColorPickerParticipant=r,e.StandaloneColorPickerParticipant=r=ke([ge(1,o.IThemeService)],r);async function a(h,g,C,S){const _=g.getValueInRange(C.range),{red:L,green:D,blue:T,alpha:N}=C.color,A=new E.RGBA(Math.round(L*255),Math.round(D*255),Math.round(T*255),N),R=new E.Color(A),M=await(0,m.getColorPresentations)(g,C,S,k.CancellationToken.None),P=new b.ColorPickerModel(R,[],0);return P.colorPresentations=M||[],P.guessColorPresentation(R,_),h instanceof c?new n(h,y.Range.lift(C.range),P,S):new u(h,y.Range.lift(C.range),P,S)}function l(h,g,C,S,_){if(S.length===0||!g.hasModel())return;if(_.setMinimumDimensions){const P=g.getOption(67)+8;_.setMinimumDimensions(new t.Dimension(302,P))}const L=new I.DisposableStore,D=S[0],T=g.getModel(),N=D.model,A=L.add(new v.ColorPickerWidget(_.fragment,N,g.getOption(144),C,h instanceof r));let R=!1,M=new y.Range(D.range.startLineNumber,D.range.startColumn,D.range.endLineNumber,D.range.endColumn);if(h instanceof r){const P=D.model.color;h.color=P,p(T,N,P,M,D),L.add(N.onColorFlushed(x=>{h.color=x}))}else L.add(N.onColorFlushed(async P=>{await p(T,N,P,M,D),R=!0,M=d(g,M,N)}));return L.add(N.onDidChangeColor(P=>{p(T,N,P,M,D)})),L.add(g.onDidChangeModelContent(P=>{R?R=!1:(_.hide(),g.focus())})),{hoverPart:D,colorPicker:A,disposables:L}}function d(h,g,C){var S,_;const L=[],D=(S=C.presentation.textEdit)!==null&&S!==void 0?S:{range:g,text:C.presentation.label,forceMoveMarkers:!1};L.push(D),C.presentation.additionalTextEdits&&L.push(...C.presentation.additionalTextEdits);const T=y.Range.lift(D.range),N=h.getModel()._setTrackedRange(null,T,3);return h.executeEdits("colorpicker",L),h.pushUndoStop(),(_=h.getModel()._getTrackedRange(N))!==null&&_!==void 0?_:T}async function p(h,g,C,S,_){const L=await(0,m.getColorPresentations)(h,{range:S,color:{red:C.rgba.r/255,green:C.rgba.g/255,blue:C.rgba.b/255,alpha:C.rgba.a}},_.provider,k.CancellationToken.None);g.colorPresentations=L||[]}}),define(re[814],ae([1,0,2,285,7,385,31,6,17,15,20,12,51,34,396,4,236]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";var c,u;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let r=c=class extends f.Disposable{constructor(g,C,S,_,L,D,T){super(),this._editor=g,this._modelService=S,this._keybindingService=_,this._instantiationService=L,this._languageFeatureService=D,this._languageConfigurationService=T,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=v.EditorContextKeys.standaloneColorPickerVisible.bindTo(C),this._standaloneColorPickerFocused=v.EditorContextKeys.standaloneColorPickerFocused.bindTo(C)}showOrFocus(){var g;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(g=this._standaloneColorPickerWidget)===null||g===void 0||g.focus():this._standaloneColorPickerWidget=new d(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var g;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(g=this._standaloneColorPickerWidget)===null||g===void 0||g.hide(),this._editor.focus()}insertColor(){var g;(g=this._standaloneColorPickerWidget)===null||g===void 0||g.updateEditor(),this.hide()}static get(g){return g.getContribution(c.ID)}};e.StandaloneColorPickerController=r,r.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=r=c=ke([ge(1,s.IContextKeyService),ge(2,o.IModelService),ge(3,y.IKeybindingService),ge(4,E.IInstantiationService),ge(5,w.ILanguageFeaturesService),ge(6,t.ILanguageConfigurationService)],r),(0,b.registerEditorContribution)(r.ID,r,1);const a=8,l=22;let d=u=class extends f.Disposable{constructor(g,C,S,_,L,D,T,N){var A;super(),this._editor=g,this._standaloneColorPickerVisible=C,this._standaloneColorPickerFocused=S,this._modelService=L,this._keybindingService=D,this._languageFeaturesService=T,this._languageConfigurationService=N,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new m.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=_.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(A=this._editor._getViewModel())===null||A===void 0?void 0:A.getPrimaryCursorState().modelState.position;const R=this._editor.getSelection(),M=R?{startLineNumber:R.startLineNumber,startColumn:R.startColumn,endLineNumber:R.endLineNumber,endColumn:R.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},P=this._register(n.trackFocus(this._body));this._register(P.onDidBlur(x=>{this.hide()})),this._register(P.onDidFocus(x=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(x=>{var O;const B=(O=x.target.element)===null||O===void 0?void 0:O.classList;B&&B.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(x=>{this._render(x.value,x.foundInEditor)})),this._start(M),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return u.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const g=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:g?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(g){const C=await this._computeAsync(g);C&&this._onResult.fire(new p(C.result,C.foundInEditor))}async _computeAsync(g){if(!this._editor.hasModel())return null;const C={range:g,color:{red:0,green:0,blue:0,alpha:1}},S=await this._standaloneColorPickerParticipant.createColorHover(C,new i.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return S?{result:S.colorHover,foundInEditor:S.foundInEditor}:null}_render(g,C){const S=document.createDocumentFragment(),_=this._register(new I.EditorHoverStatusBar(this._keybindingService)),L={fragment:S,statusBar:_,onContentsChanged:()=>{},hide:()=>this.hide()};this._colorHover=g;const D=this._standaloneColorPickerParticipant.renderHoverParts(L,[g]);if(!D)return;this._register(D.disposables);const T=D.colorPicker;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(S),T.layout();const N=T.body,A=N.saturationBox.domNode.clientWidth,R=N.domNode.clientWidth-A-l-a,M=T.body.enterButton;M?.onClicked(()=>{this.updateEditor(),this.hide()});const P=T.header,x=P.pickedColorNode;x.style.width=A+a+"px";const O=P.originalColorNode;O.style.width=R+"px";const B=T.header.closeButton;B?.onClicked(()=>{this.hide()}),C&&(M&&(M.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(g.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=d,d.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=d=u=ke([ge(3,E.IInstantiationService),ge(4,o.IModelService),ge(5,y.IKeybindingService),ge(6,w.ILanguageFeaturesService),ge(7,t.ILanguageConfigurationService)],d);class p{constructor(g,C){this.value=g,this.foundInEditor=C}}}),define(re[815],ae([1,0,15,3,814,20,29,236]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class m extends f.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,k.localize2)(748,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,k.localize)(745,"&&Show or Focus Standalone Color Picker")},precondition:void 0,menu:[{id:y.MenuId.CommandPalette}],metadata:{description:(0,k.localize2)(749,"Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(s,o){var t;(t=E.StandaloneColorPickerController.get(o))===null||t===void 0||t.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=m;class w extends f.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(746,"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:I.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:(0,k.localize2)(750,"Hide the standalone color picker.")}})}run(s,o){var t;(t=E.StandaloneColorPickerController.get(o))===null||t===void 0||t.hide()}}class b extends f.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(747,"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:I.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:(0,k.localize2)(751,"Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(s,o){var t;(t=E.StandaloneColorPickerController.get(o))===null||t===void 0||t.insertColor()}}(0,f.registerEditorAction)(w),(0,f.registerEditorAction)(b),(0,y.registerAction2)(m)}),define(re[816],ae([1,0,2,16,15,9,5,23,36,631,518]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function v(o){return k.isMacintosh?o.altKey:o.ctrlKey}class s extends f.Disposable{constructor(t){super(),this._editor=t,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._register(this._editor.onMouseUp(i=>this._onEditorMouseUp(i))),this._register(this._editor.onMouseDrag(i=>this._onEditorMouseDrag(i))),this._register(this._editor.onMouseDrop(i=>this._onEditorMouseDrop(i))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(i=>this.onEditorKeyDown(i))),this._register(this._editor.onKeyUp(i=>this.onEditorKeyUp(i))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(35)||this._editor.getOption(22)||(v(t)&&(this._modifierPressed=!0),this._mouseDown&&v(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(35)||this._editor.getOption(22)||(v(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===s.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){const i=t.target;if(this._dragSelection===null){const c=(this._editor.getSelections()||[]).filter(u=>i.position&&u.containsPosition(i.position));if(c.length===1)this._dragSelection=c[0];else return}v(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),i.position&&(this._dragSelection.containsPosition(i.position)?this._removeDecoration():this.showAt(i.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){const i=new I.Position(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let n=null;if(t.event.shiftKey){const c=this._editor.getSelection();if(c){const{selectionStartLineNumber:u,selectionStartColumn:r}=c;n=[new m.Selection(u,r,i.lineNumber,i.column)]}}else n=(this._editor.getSelections()||[]).map(c=>c.containsPosition(i)?new m.Selection(i.lineNumber,i.column,i.lineNumber,i.column):c);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(i)||(v(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(i)||this._dragSelection.getStartPosition().equals(i)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(s.ID,new b.DragAndDropCommand(this._dragSelection,i,v(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){this._dndDecorationIds.set([{range:new y.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:s._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=s,s.ID="editor.contrib.dragAndDrop",s.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,s._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,E.registerEditorContribution)(s.ID,s,2)}),define(re[817],ae([1,0,5,41,36,32,25]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class m{constructor(b){this._editor=b,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const b=this._findScopeDecorationIds.map(v=>this._editor.getModel().getDecorationRange(v)).filter(v=>!!v);if(b.length)return b}return null}getStartPosition(){return this._startPosition}setStartPosition(b){this._startPosition=b,this.setCurrentFindMatch(null)}_getDecorationIndex(b){const v=this._decorations.indexOf(b);return v>=0?v+1:1}getDecorationRangeAt(b){const v=b<this._decorations.length?this._decorations[b]:null;return v?this._editor.getModel().getDecorationRange(v):null}getCurrentMatchesPosition(b){const v=this._editor.getModel().getDecorationsInRange(b);for(const s of v){const o=s.options;if(o===m._FIND_MATCH_DECORATION||o===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(s.id)}return 0}setCurrentFindMatch(b){let v=null,s=0;if(b)for(let o=0,t=this._decorations.length;o<t;o++){const i=this._editor.getModel().getDecorationRange(this._decorations[o]);if(b.equalsRange(i)){v=this._decorations[o],s=o+1;break}}return(this._highlightedDecorationId!==null||v!==null)&&this._editor.changeDecorations(o=>{if(this._highlightedDecorationId!==null&&(o.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),v!==null&&(this._highlightedDecorationId=v,o.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),v!==null){let t=this._editor.getModel().getDecorationRange(v);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){const i=t.endLineNumber-1,n=this._editor.getModel().getLineMaxColumn(i);t=new f.Range(t.startLineNumber,t.startColumn,i,n)}this._rangeHighlightDecorationId=o.addDecoration(t,m._RANGE_HIGHLIGHT_DECORATION)}}),s}set(b,v){this._editor.changeDecorations(s=>{let o=m._FIND_MATCH_DECORATION;const t=[];if(b.length>1e3){o=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const n=this._editor.getModel().getLineCount(),u=this._editor.getLayoutInfo().height/n,r=Math.max(2,Math.ceil(3/u));let a=b[0].range.startLineNumber,l=b[0].range.endLineNumber;for(let d=1,p=b.length;d<p;d++){const h=b[d].range;l+r>=h.startLineNumber?h.endLineNumber>l&&(l=h.endLineNumber):(t.push({range:new f.Range(a,1,l,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),a=h.startLineNumber,l=h.endLineNumber)}t.push({range:new f.Range(a,1,l,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const i=new Array(b.length);for(let n=0,c=b.length;n<c;n++)i[n]={range:b[n].range,options:o};this._decorations=s.deltaDecorations(this._decorations,i),this._overviewRulerApproximateDecorations=s.deltaDecorations(this._overviewRulerApproximateDecorations,t),this._rangeHighlightDecorationId&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(n=>s.removeDecoration(n)),this._findScopeDecorationIds=[]),v?.length&&(this._findScopeDecorationIds=v.map(n=>s.addDecoration(n,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(b){if(this._decorations.length===0)return null;for(let v=this._decorations.length-1;v>=0;v--){const s=this._decorations[v],o=this._editor.getModel().getDecorationRange(s);if(!(!o||o.endLineNumber>b.lineNumber)){if(o.endLineNumber<b.lineNumber)return o;if(!(o.endColumn>b.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(b){if(this._decorations.length===0)return null;for(let v=0,s=this._decorations.length;v<s;v++){const o=this._decorations[v],t=this._editor.getModel().getDecorationRange(o);if(!(!t||t.startLineNumber<b.lineNumber)){if(t.startLineNumber>b.lineNumber)return t;if(!(t.startColumn<b.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let b=[];return b=b.concat(this._decorations),b=b.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&b.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&b.push(this._rangeHighlightDecorationId),b}}e.FindDecorations=m,m._CURRENT_FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(I.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(I.minimapFindMatch),position:1}}),m._FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(I.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(I.minimapFindMatch),position:1}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=E.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=E.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,y.themeColorFromId)(I.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),m._RANGE_HIGHLIGHT_DECORATION=E.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=E.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(re[218],ae([1,0,67,14,2,143,9,5,23,202,817,632,633,12]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new t.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new t.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new t.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const i=240;class n{constructor(u,r){this._toDispose=new E.DisposableStore,this._editor=u,this._state=r,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new v.FindDecorations(u),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(a=>{(a.reason===3||a.reason===5||a.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(a=>{this._ignoreModelContentChanged||(a.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(a=>this._onStateChanged(a))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,E.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(u){this._isDisposed||this._editor.hasModel()&&(u.searchString||u.isReplaceRevealed||u.isRegex||u.wholeWord||u.matchCase||u.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{u.searchScope?this.research(u.moveCursor,this._state.searchScope):this.research(u.moveCursor)},i)):u.searchScope?this.research(u.moveCursor,this._state.searchScope):this.research(u.moveCursor))}static _getSearchRange(u,r){return r||u.getFullModelRange()}research(u,r){let a=null;typeof r<"u"?r!==null&&(Array.isArray(r)?a=r:a=[r]):a=this._decorations.getFindScopes(),a!==null&&(a=a.map(h=>{if(h.startLineNumber!==h.endLineNumber){let g=h.endLineNumber;return h.endColumn===1&&(g=g-1),new m.Range(h.startLineNumber,1,g,this._editor.getModel().getLineMaxColumn(g))}return h}));const l=this._findMatches(a,!1,e.MATCHES_LIMIT);this._decorations.set(l,a);const d=this._editor.getSelection();let p=this._decorations.getCurrentMatchesPosition(d);if(p===0&&l.length>0){const h=(0,f.findFirstIdxMonotonousOrArrLen)(l.map(g=>g.range),g=>m.Range.compareRangesUsingStarts(g,d)>=0);p=h>0?h-1+1:p}this._state.changeMatchInfo(p,this._decorations.getCount(),void 0),u&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const u=this._decorations.getFindScope();return u&&this._editor.revealRangeInCenterIfOutsideViewport(u,0),!0}return!1}_setCurrentFindMatch(u){const r=this._decorations.setCurrentFindMatch(u);this._state.changeMatchInfo(r,this._decorations.getCount(),u),this._editor.setSelection(u),this._editor.revealRangeInCenterIfOutsideViewport(u,0)}_prevSearchPosition(u){const r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:a,column:l}=u;const d=this._editor.getModel();return r||l===1?(a===1?a=d.getLineCount():a--,l=d.getLineMaxColumn(a)):l--,new y.Position(a,l)}_moveToPrevMatch(u,r=!1){if(!this._state.canNavigateBack()){const S=this._decorations.matchAfterPosition(u);S&&this._setCurrentFindMatch(S);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let S=this._decorations.matchBeforePosition(u);S&&S.isEmpty()&&S.getStartPosition().equals(u)&&(u=this._prevSearchPosition(u),S=this._decorations.matchBeforePosition(u)),S&&this._setCurrentFindMatch(S);return}if(this._cannotFind())return;const a=this._decorations.getFindScope(),l=n._getSearchRange(this._editor.getModel(),a);l.getEndPosition().isBefore(u)&&(u=l.getEndPosition()),u.isBefore(l.getStartPosition())&&(u=l.getEndPosition());const{lineNumber:d,column:p}=u,h=this._editor.getModel();let g=new y.Position(d,p),C=h.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1);if(C&&C.range.isEmpty()&&C.range.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),C=h.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1)),!!C){if(!r&&!l.containsRange(C.range))return this._moveToPrevMatch(C.range.getStartPosition(),!0);this._setCurrentFindMatch(C.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(u){const r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:a,column:l}=u;const d=this._editor.getModel();return r||l===d.getLineMaxColumn(a)?(a===d.getLineCount()?a=1:a++,l=1):l++,new y.Position(a,l)}_moveToNextMatch(u){if(!this._state.canNavigateForward()){const a=this._decorations.matchBeforePosition(u);a&&this._setCurrentFindMatch(a);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let a=this._decorations.matchAfterPosition(u);a&&a.isEmpty()&&a.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),a=this._decorations.matchAfterPosition(u)),a&&this._setCurrentFindMatch(a);return}const r=this._getNextMatch(u,!1,!0);r&&this._setCurrentFindMatch(r.range)}_getNextMatch(u,r,a,l=!1){if(this._cannotFind())return null;const d=this._decorations.getFindScope(),p=n._getSearchRange(this._editor.getModel(),d);p.getEndPosition().isBefore(u)&&(u=p.getStartPosition()),u.isBefore(p.getStartPosition())&&(u=p.getStartPosition());const{lineNumber:h,column:g}=u,C=this._editor.getModel();let S=new y.Position(h,g),_=C.findNextMatch(this._state.searchString,S,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,r);return a&&_&&_.range.isEmpty()&&_.range.getStartPosition().equals(S)&&(S=this._nextSearchPosition(S),_=C.findNextMatch(this._state.searchString,S,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,r)),_?!l&&!p.containsRange(_.range)?this._getNextMatch(_.range.getEndPosition(),r,a,!0):_:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(u){const r=this._decorations.getDecorationRangeAt(u);r&&this._setCurrentFindMatch(r)}moveToMatch(u){this._moveToMatch(u)}_getReplacePattern(){return this._state.isRegex?(0,o.parseReplaceString)(this._state.replaceString):o.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const u=this._getReplacePattern(),r=this._editor.getSelection(),a=this._getNextMatch(r.getStartPosition(),!0,!1);if(a)if(r.equalsRange(a.range)){const l=u.buildReplaceString(a.matches,this._state.preserveCase),d=new I.ReplaceCommand(r,l);this._executeEditorCommand("replace",d),this._decorations.setStartPosition(new y.Position(r.startLineNumber,r.startColumn+l.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(a.range)}_findMatches(u,r,a){const l=(u||[null]).map(d=>n._getSearchRange(this._editor.getModel(),d));return this._editor.getModel().findMatches(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,r,a)}replaceAll(){if(!this._hasMatches())return;const u=this._decorations.getFindScopes();u===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(u),this.research(!1)}_largeReplaceAll(){const r=new b.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null).parseSearchRequest();if(!r)return;let a=r.regex;if(!a.multiline){let _="mu";a.ignoreCase&&(_+="i"),a.global&&(_+="g"),a=new RegExp(a.source,_)}const l=this._editor.getModel(),d=l.getValue(1),p=l.getFullModelRange(),h=this._getReplacePattern();let g;const C=this._state.preserveCase;h.hasReplacementPatterns||C?g=d.replace(a,function(){return h.buildReplaceString(arguments,C)}):g=d.replace(a,h.buildReplaceString(null,C));const S=new I.ReplaceCommandThatPreservesSelection(p,g,this._editor.getSelection());this._executeEditorCommand("replaceAll",S)}_regularReplaceAll(u){const r=this._getReplacePattern(),a=this._findMatches(u,r.hasReplacementPatterns||this._state.preserveCase,1073741824),l=[];for(let p=0,h=a.length;p<h;p++)l[p]=r.buildReplaceString(a[p].matches,this._state.preserveCase);const d=new s.ReplaceAllCommand(this._editor.getSelection(),a.map(p=>p.range),l);this._executeEditorCommand("replaceAll",d)}selectAllMatches(){if(!this._hasMatches())return;const u=this._decorations.getFindScopes();let a=this._findMatches(u,!1,1073741824).map(d=>new w.Selection(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn));const l=this._editor.getSelection();for(let d=0,p=a.length;d<p;d++)if(a[d].equalsRange(l)){a=[l].concat(a.slice(0,d)).concat(a.slice(d+1));break}this._editor.setSelections(a)}_executeEditorCommand(u,r){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(u,r),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=n}),define(re[818],ae([1,0,4,364,84,14,218,32,43,520]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class b extends E.Widget{constructor(s,o,t){super(),this._hideSoon=this._register(new I.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=s,this._state=o,this._keybindingService=t,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const i={inputActiveOptionBorder:(0,m.asCssVariable)(m.inputActiveOptionBorder),inputActiveOptionForeground:(0,m.asCssVariable)(m.inputActiveOptionForeground),inputActiveOptionBackground:(0,m.asCssVariable)(m.inputActiveOptionBackground)},n=this._register((0,w.createInstantHoverDelegate)());this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:n,...i})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:n,...i})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:n,...i})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(c=>{let u=!1;c.isRegex&&(this.regex.checked=this._state.isRegex,u=!0),c.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,u=!0),c.matchCase&&(this.caseSensitive.checked=this._state.matchCase,u=!0),!this._state.isRevealed&&u&&this._revealTemporarily()})),this._register(f.addDisposableListener(this._domNode,f.EventType.MOUSE_LEAVE,c=>this._onMouseLeave())),this._register(f.addDisposableListener(this._domNode,"mouseover",c=>this._onMouseOver()))}_keybindingLabelFor(s){const o=this._keybindingService.lookupKeybinding(s);return o?` (${o.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=b,b.ID="editor.contrib.findOptionsWidget"}),define(re[819],ae([1,0,6,2,5,218]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function y(w,b){return w===1?!0:w===2?!1:b}class m extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return y(this._isRegexOverride,this._isRegex)}get wholeWord(){return y(this._wholeWordOverride,this._wholeWord)}get matchCase(){return y(this._matchCaseOverride,this._matchCase)}get preserveCase(){return y(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new f.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(b,v,s){const o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;v===0&&(b=0),b>v&&(b=v),this._matchesPosition!==b&&(this._matchesPosition=b,o.matchesPosition=!0,t=!0),this._matchesCount!==v&&(this._matchesCount=v,o.matchesCount=!0,t=!0),typeof s<"u"&&(E.Range.equalsRange(this._currentMatch,s)||(this._currentMatch=s,o.currentMatch=!0,t=!0)),t&&this._onFindReplaceStateChange.fire(o)}change(b,v,s=!0){var o;const t={moveCursor:v,updateHistory:s,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;const n=this.isRegex,c=this.wholeWord,u=this.matchCase,r=this.preserveCase;typeof b.searchString<"u"&&this._searchString!==b.searchString&&(this._searchString=b.searchString,t.searchString=!0,i=!0),typeof b.replaceString<"u"&&this._replaceString!==b.replaceString&&(this._replaceString=b.replaceString,t.replaceString=!0,i=!0),typeof b.isRevealed<"u"&&this._isRevealed!==b.isRevealed&&(this._isRevealed=b.isRevealed,t.isRevealed=!0,i=!0),typeof b.isReplaceRevealed<"u"&&this._isReplaceRevealed!==b.isReplaceRevealed&&(this._isReplaceRevealed=b.isReplaceRevealed,t.isReplaceRevealed=!0,i=!0),typeof b.isRegex<"u"&&(this._isRegex=b.isRegex),typeof b.wholeWord<"u"&&(this._wholeWord=b.wholeWord),typeof b.matchCase<"u"&&(this._matchCase=b.matchCase),typeof b.preserveCase<"u"&&(this._preserveCase=b.preserveCase),typeof b.searchScope<"u"&&(!((o=b.searchScope)===null||o===void 0)&&o.every(a=>{var l;return(l=this._searchScope)===null||l===void 0?void 0:l.some(d=>!E.Range.equalsRange(d,a))})||(this._searchScope=b.searchScope,t.searchScope=!0,i=!0)),typeof b.loop<"u"&&this._loop!==b.loop&&(this._loop=b.loop,t.loop=!0,i=!0),typeof b.isSearching<"u"&&this._isSearching!==b.isSearching&&(this._isSearching=b.isSearching,t.isSearching=!0,i=!0),typeof b.filters<"u"&&(this._filters?this._filters.update(b.filters):this._filters=b.filters,t.filters=!0,i=!0),this._isRegexOverride=typeof b.isRegexOverride<"u"?b.isRegexOverride:0,this._wholeWordOverride=typeof b.wholeWordOverride<"u"?b.wholeWordOverride:0,this._matchCaseOverride=typeof b.matchCaseOverride<"u"?b.matchCaseOverride:0,this._preserveCaseOverride=typeof b.preserveCaseOverride<"u"?b.preserveCaseOverride:0,n!==this.isRegex&&(i=!0,t.isRegex=!0),c!==this.wholeWord&&(i=!0,t.wholeWord=!0),u!==this.matchCase&&(i=!0,t.matchCase=!0),r!==this.preserveCase&&(i=!0,t.preserveCase=!0),i&&this._onFindReplaceStateChange.fire(t)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=I.MATCHES_LIMIT}}e.FindReplaceState=m}),define(re[820],ae([1,0,4,47,163,162,84,14,26,8,2,16,11,5,218,3,400,669,32,80,25,30,97,19,109,43,521]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=e.findSelectionIcon=void 0;const S=(0,a.registerIcon)("find-collapsed",w.Codicon.chevronRight,n.localize(678,"Icon to indicate that the editor find widget is collapsed.")),_=(0,a.registerIcon)("find-expanded",w.Codicon.chevronDown,n.localize(679,"Icon to indicate that the editor find widget is expanded."));e.findSelectionIcon=(0,a.registerIcon)("find-selection",w.Codicon.selection,n.localize(680,"Icon for 'Find in Selection' in the editor find widget.")),e.findReplaceIcon=(0,a.registerIcon)("find-replace",w.Codicon.replace,n.localize(681,"Icon for 'Replace' in the editor find widget.")),e.findReplaceAllIcon=(0,a.registerIcon)("find-replace-all",w.Codicon.replaceAll,n.localize(682,"Icon for 'Replace All' in the editor find widget.")),e.findPreviousMatchIcon=(0,a.registerIcon)("find-previous-match",w.Codicon.arrowUp,n.localize(683,"Icon for 'Find Previous' in the editor find widget.")),e.findNextMatchIcon=(0,a.registerIcon)("find-next-match",w.Codicon.arrowDown,n.localize(684,"Icon for 'Find Next' in the editor find widget."));const L=n.localize(685,"Find / Replace"),D=n.localize(686,"Find"),T=n.localize(687,"Find"),N=n.localize(688,"Previous Match"),A=n.localize(689,"Next Match"),R=n.localize(690,"Find in Selection"),M=n.localize(691,"Close"),P=n.localize(692,"Replace"),x=n.localize(693,"Replace"),O=n.localize(694,"Replace"),B=n.localize(695,"Replace All"),H=n.localize(696,"Toggle Replace"),K=n.localize(697,"Only the first {0} results are highlighted, but all find operations work on the entire text.",i.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=n.localize(698,"{0} of {1}"),e.NLS_NO_RESULTS=n.localize(699,"No results");const V=419,U=275-54;let Y=69;const Q=33,Z="ctrlEnterReplaceAll.windows.donotask",G=s.isMacintosh?256:2048;class F{constructor(ue){this.afterLineNumber=ue,this.heightInPx=Q,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=F;function J(pe,ue,ie){const se=!!ue.match(/\n/);if(ie&&se&&ie.selectionStart>0){pe.stopPropagation();return}}function te(pe,ue,ie){const se=!!ue.match(/\n/);if(ie&&se&&ie.selectionEnd<ie.value.length){pe.stopPropagation();return}}class de extends y.Widget{constructor(ue,ie,se,ne,W,q,z,$,X,ee){super(),this._hoverService=ee,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ue,this._controller=ie,this._state=se,this._contextViewProvider=ne,this._keybindingService=W,this._contextKeyService=q,this._storageService=$,this._notificationService=X,this._ctrlEnterReplaceAllWarningPrompted=!!$.getBoolean(Z,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new m.Delayer(500),this._register((0,v.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(oe=>this._onStateChanged(oe))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(92)&&(this._codeEditor.getOption(92)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),oe.hasChanged(146)&&this._tryUpdateWidgetWidth(),oe.hasChanged(2)&&this.updateAccessibilitySupport(),oe.hasChanged(41)){const ce=this._codeEditor.getOption(41).loop;this._state.change({loop:ce},!1);const fe=this._codeEditor.getOption(41).addExtraSpaceOnTop;fe&&!this._viewZone&&(this._viewZone=new F(0),this._showViewZone()),!fe&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const oe=await this._controller.getGlobalBufferTerm();oe&&oe!==this._state.searchString&&(this._state.change({searchString:oe},!1),this._findInput.select())}})),this._findInputFocused=i.CONTEXT_FIND_INPUT_FOCUSED.bindTo(q),this._findFocusTracker=this._register(f.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=i.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(q),this._replaceFocusTracker=this._register(f.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new F(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(oe=>{if(oe.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return de.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ue){if(ue.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ue.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ue.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ue.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(92)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ue.isRevealed||ue.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ue.isRegex&&this._findInput.setRegex(this._state.isRegex),ue.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ue.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ue.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ue.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ue.searchString||ue.matchesCount||ue.matchesPosition){const ie=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ie),this._updateMatchesCount(),this._updateButtons()}(ue.searchString||ue.currentMatch)&&this._layoutViewZone(),ue.updateHistory&&this._delayedUpdateHistory(),ue.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,b.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){var ue;this._matchesCount.style.minWidth=Y+"px",this._state.matchesCount>=i.MATCHES_LIMIT?this._matchesCount.title=K:this._matchesCount.title="",(ue=this._matchesCount.firstChild)===null||ue===void 0||ue.remove();let ie;if(this._state.matchesCount>0){let se=String(this._state.matchesCount);this._state.matchesCount>=i.MATCHES_LIMIT&&(se+="+");let ne=String(this._state.matchesPosition);ne==="0"&&(ne="?"),ie=o.format(e.NLS_MATCHES_LOCATION,ne,se)}else ie=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(ie)),(0,k.alert)(this._getAriaLabel(ie,this._state.currentMatch,this._state.searchString)),Y=Math.max(Y,this._matchesCount.clientWidth)}_getAriaLabel(ue,ie,se){if(ue===e.NLS_NO_RESULTS)return se===""?n.localize(700,"{0} found",ue):n.localize(701,"{0} found for '{1}'",ue,se);if(ie){const ne=n.localize(702,"{0} found for '{1}', at {2}",ue,se,ie.startLineNumber+":"+ie.startColumn),W=this._codeEditor.getModel();return W&&ie.startLineNumber<=W.getLineCount()&&ie.startLineNumber>=1?`${W.getLineContent(ie.startLineNumber)}, ${ne}`:ne}return n.localize(703,"{0} found for '{1}'",ue,se)}_updateToggleSelectionFindButton(){const ue=this._codeEditor.getSelection(),ie=ue?ue.startLineNumber!==ue.endLineNumber||ue.startColumn!==ue.endColumn:!1,se=this._toggleSelectionFind.checked;this._isVisible&&(se||ie)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const ue=this._state.searchString.length>0,ie=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ue&&ie&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ue&&ie&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ue),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ue),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const se=!this._codeEditor.getOption(92);this._toggleReplaceBtn.setEnabled(this._isVisible&&se)}_reveal(){if(this._revealTimeouts.forEach(ue=>{clearTimeout(ue)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ue=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const se=!!ue&&ue.startLineNumber!==ue.endLineNumber;this._toggleSelectionFind.checked=se;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ie=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&ue){const se=this._codeEditor.getDomNode();if(se){const ne=f.getDomNodePagePosition(se),W=this._codeEditor.getScrolledVisiblePosition(ue.getStartPosition()),q=ne.left+(W?W.left:0),z=W?W.top:0;if(this._viewZone&&z<this._viewZone.heightInPx){ue.endLineNumber>ue.startLineNumber&&(ie=!1);const $=f.getTopLeftOffset(this._domNode).left;q>$&&(ie=!1);const X=this._codeEditor.getScrolledVisiblePosition(ue.getEndPosition());ne.left+(X?X.left:0)>$&&(ie=!1)}}}this._showViewZone(ie)}}_hide(ue){this._revealTimeouts.forEach(ie=>{clearTimeout(ie)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ue&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ue){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const se=this._viewZone;this._viewZoneId!==void 0||!se||this._codeEditor.changeViewZones(ne=>{se.heightInPx=this._getHeight(),this._viewZoneId=ne.addZone(se),this._codeEditor.setScrollTop(ue||this._codeEditor.getScrollTop()+se.heightInPx)})}_showViewZone(ue=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new F(0));const se=this._viewZone;this._codeEditor.changeViewZones(ne=>{if(this._viewZoneId!==void 0){const W=this._getHeight();if(W===se.heightInPx)return;const q=W-se.heightInPx;se.heightInPx=W,ne.layoutZone(this._viewZoneId),ue&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+q);return}else{let W=this._getHeight();if(W-=this._codeEditor.getOption(84).top,W<=0)return;se.heightInPx=W,this._viewZoneId=ne.addZone(se),ue&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+W)}})}_removeViewZone(){this._codeEditor.changeViewZones(ue=>{this._viewZoneId!==void 0&&(ue.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const ue=this._codeEditor.getLayoutInfo();if(ue.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const se=ue.width,ne=ue.minimap.minimapWidth;let W=!1,q=!1,z=!1;if(this._resized&&f.getTotalWidth(this._domNode)>V){this._domNode.style.maxWidth=`${se-28-ne-15}px`,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode);return}if(V+28+ne>=se&&(q=!0),V+28+ne-Y>=se&&(z=!0),V+28+ne-Y>=se+50&&(W=!0),this._domNode.classList.toggle("collapsed-find-widget",W),this._domNode.classList.toggle("narrow-find-widget",z),this._domNode.classList.toggle("reduced-find-widget",q),!z&&!W&&(this._domNode.style.maxWidth=`${se-28-ne-15}px`),this._findInput.layout({collapsedFindWidget:W,narrowFindWidget:z,reducedFindWidget:q}),this._resized){const $=this._findInput.inputBox.element.clientWidth;$>0&&(this._replaceInput.width=$)}else this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode))}_getHeight(){let ue=0;return ue+=4,ue+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ue+=4,ue+=this._replaceInput.inputBox.height+2),ue+=4,ue}_tryUpdateHeight(){const ue=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ue?!1:(this._cachedHeight=ue,this._domNode.style.height=`${ue}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const ue=this._codeEditor.getSelections();ue.map(ie=>{ie.endColumn===1&&ie.endLineNumber>ie.startLineNumber&&(ie=ie.setEndPosition(ie.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ie.endLineNumber-1)));const se=this._state.currentMatch;return ie.startLineNumber!==ie.endLineNumber&&!t.Range.equalsRange(ie,se)?ie:null}).filter(ie=>!!ie),ue.length&&this._state.change({searchScope:ue},!0)}}_onFindInputMouseDown(ue){ue.middleButton&&ue.stopPropagation()}_onFindInputKeyDown(ue){if(ue.equals(G|3))if(this._keybindingService.dispatchEvent(ue,ue.target)){ue.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ue.preventDefault();return}if(ue.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ue.preventDefault();return}if(ue.equals(2066)){this._codeEditor.focus(),ue.preventDefault();return}if(ue.equals(16))return J(ue,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ue.equals(18))return te(ue,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ue){if(ue.equals(G|3))if(this._keybindingService.dispatchEvent(ue,ue.target)){ue.preventDefault();return}else{s.isWindows&&s.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(n.localize(704,"Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Z,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ue.preventDefault();return}if(ue.equals(2)){this._findInput.focusOnCaseSensitive(),ue.preventDefault();return}if(ue.equals(1026)){this._findInput.focus(),ue.preventDefault();return}if(ue.equals(2066)){this._codeEditor.focus(),ue.preventDefault();return}if(ue.equals(16))return J(ue,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ue.equals(18))return te(ue,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ue){return 0}_keybindingLabelFor(ue){const ie=this._keybindingService.lookupKeybinding(ue);return ie?` (${ie.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new c.ContextScopedFindInput(null,this._contextViewProvider,{width:U,label:D,placeholder:T,appendCaseSensitiveLabel:this._keybindingLabelFor(i.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(i.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(i.FIND_IDS.ToggleRegexCommand),validation:ee=>{if(ee.length===0||!this._findInput.getRegex())return null;try{return new RegExp(ee,"gu"),null}catch(oe){return{content:oe.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,u.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:g.defaultInputBoxStyles,toggleStyles:g.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ee=>this._onFindInputKeyDown(ee))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ee=>{ee.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ee.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ee=>{ee.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ee.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ee=>{this._tryUpdateHeight()&&this._showViewZone()})),s.isLinux&&this._register(this._findInput.onMouseDown(ee=>this._onFindInputMouseDown(ee))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const se=this._register((0,C.createInstantHoverDelegate)());this._prevBtn=this._register(new he({label:N+this._keybindingLabelFor(i.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,hoverDelegate:se,onTrigger:()=>{(0,h.assertIsDefined)(this._codeEditor.getAction(i.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,b.onUnexpectedError)}},this._hoverService)),this._nextBtn=this._register(new he({label:A+this._keybindingLabelFor(i.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,hoverDelegate:se,onTrigger:()=>{(0,h.assertIsDefined)(this._codeEditor.getAction(i.FIND_IDS.NextMatchFindAction)).run().then(void 0,b.onUnexpectedError)}},this._hoverService));const ne=document.createElement("div");ne.className="find-part",ne.appendChild(this._findInput.domNode);const W=document.createElement("div");W.className="find-actions",ne.appendChild(W),W.appendChild(this._matchesCount),W.appendChild(this._prevBtn.domNode),W.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new E.Toggle({icon:e.findSelectionIcon,title:R+this._keybindingLabelFor(i.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:se,inputActiveOptionBackground:(0,r.asCssVariable)(r.inputActiveOptionBackground),inputActiveOptionBorder:(0,r.asCssVariable)(r.inputActiveOptionBorder),inputActiveOptionForeground:(0,r.asCssVariable)(r.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let ee=this._codeEditor.getSelections();ee=ee.map(oe=>(oe.endColumn===1&&oe.endLineNumber>oe.startLineNumber&&(oe=oe.setEndPosition(oe.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(oe.endLineNumber-1))),oe.isEmpty()?null:oe)).filter(oe=>!!oe),ee.length&&this._state.change({searchScope:ee},!0)}}else this._state.change({searchScope:null},!0)})),W.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new he({label:M+this._keybindingLabelFor(i.FIND_IDS.CloseFindWidgetCommand),icon:a.widgetClose,hoverDelegate:se,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ee=>{ee.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ee.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new c.ContextScopedReplaceInput(null,void 0,{label:P,placeholder:x,appendPreserveCaseLabel:this._keybindingLabelFor(i.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,u.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:g.defaultInputBoxStyles,toggleStyles:g.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ee=>this._onReplaceInputKeyDown(ee))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ee=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ee=>{ee.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ee.preventDefault())}));const q=this._register((0,C.createInstantHoverDelegate)());this._replaceBtn=this._register(new he({label:O+this._keybindingLabelFor(i.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,hoverDelegate:q,onTrigger:()=>{this._controller.replace()},onKeyDown:ee=>{ee.equals(1026)&&(this._closeBtn.focus(),ee.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new he({label:B+this._keybindingLabelFor(i.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,hoverDelegate:q,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));const z=document.createElement("div");z.className="replace-part",z.appendChild(this._replaceInput.domNode);const $=document.createElement("div");$.className="replace-actions",z.appendChild($),$.appendChild(this._replaceBtn.domNode),$.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new he({label:H,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=L,this._domNode.role="dialog",this._domNode.style.width=`${V}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ne),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(z),this._resizeSash=this._register(new I.Sash(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let X=V;this._register(this._resizeSash.onDidStart(()=>{X=f.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(ee=>{this._resized=!0;const oe=X+ee.startX-ee.currentX;if(oe<V)return;const ce=parseFloat(f.getComputedStyle(this._domNode).maxWidth)||0;oe>ce||(this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ee=f.getTotalWidth(this._domNode);if(ee<V)return;let oe=V;if(!this._resized||ee===V){const ce=this._codeEditor.getLayoutInfo();oe=ce.width-28-ce.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ue=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ue!==2)}}e.FindWidget=de,de.ID="editor.contrib.findWidget";class he extends y.Widget{constructor(ue,ie){var se;super(),this._opts=ue;let ne="button";this._opts.className&&(ne=ne+" "+this._opts.className),this._opts.icon&&(ne=ne+" "+d.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=ne,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(ie.setupManagedHover((se=ue.hoverDelegate)!==null&&se!==void 0?se:(0,C.getDefaultHoverDelegate)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,W=>{this._opts.onTrigger(),W.preventDefault()}),this.onkeydown(this._domNode,W=>{var q,z;if(W.equals(10)||W.equals(3)){this._opts.onTrigger(),W.preventDefault();return}(z=(q=this._opts).onKeyDown)===null||z===void 0||z.call(q,W)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ue){this._domNode.classList.toggle("disabled",!ue),this._domNode.setAttribute("aria-disabled",String(!ue)),this._domNode.tabIndex=ue?0:-1}setExpanded(ue){this._domNode.setAttribute("aria-expanded",String(!!ue)),ue?(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(S)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(_))):(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(_)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(S)))}}e.SimpleButton=he,(0,l.registerThemingParticipant)((pe,ue)=>{const ie=pe.getColor(r.editorFindMatchHighlightBorder);ie&&ue.addRule(`.monaco-editor .findMatch { border: 1px ${(0,p.isHighContrast)(pe.type)?"dotted":"solid"} ${ie}; box-sizing: border-box; }`);const se=pe.getColor(r.editorFindRangeHighlightBorder);se&&ue.addRule(`.monaco-editor .findScope { border: 1px ${(0,p.isHighContrast)(pe.type)?"dashed":"solid"} ${se}; }`);const ne=pe.getColor(r.contrastBorder);ne&&ue.addRule(`.monaco-editor .find-widget { border: 1px solid ${ne}; }`);const W=pe.getColor(r.editorFindMatchForeground);W&&ue.addRule(`.monaco-editor .findMatchInline { color: ${W}; }`);const q=pe.getColor(r.editorFindMatchHighlightForeground);q&&ue.addRule(`.monaco-editor .currentFindMatchInline { color: ${q}; }`)})}),define(re[421],ae([1,0,14,2,11,15,81,20,41,218,818,819,820,3,29,116,12,58,31,49,63,100,25,117]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=void 0,e.getSelectionSearchString=S;const C=524288;function S(K,V="single",j=!1){if(!K.hasModel())return null;const U=K.getSelection();if(V==="single"&&U.startLineNumber===U.endLineNumber||V==="multiple"){if(U.isEmpty()){const Y=K.getConfiguredWordAtPosition(U.getStartPosition());if(Y&&j===!1)return Y.word}else if(K.getModel().getValueLengthInRange(U)<C)return K.getModel().getValueInRange(U)}return null}let _=g=class extends k.Disposable{get editor(){return this._editor}static get(V){return V.getContribution(g.ID)}constructor(V,j,U,Y,Q,Z){super(),this._editor=V,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(j),this._contextKeyService=j,this._storageService=U,this._clipboardService=Y,this._notificationService=Q,this._hoverService=Z,this._updateHistoryDelayer=new f.Delayer(500),this._state=this._register(new s.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(G=>this._onStateChanged(G))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const G=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),G&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(V){this.saveQueryState(V),V.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),V.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(V){V.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),V.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),V.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),V.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let V=this._editor.getSelections();V=V.map(j=>(j.endColumn===1&&j.endLineNumber>j.startLineNumber&&(j=j.setEndPosition(j.endLineNumber-1,this._editor.getModel().getLineMaxColumn(j.endLineNumber-1))),j.isEmpty()?null:j)).filter(j=>!!j),V.length&&this._state.change({searchScope:V},!0)}}setSearchString(V){this._state.isRegex&&(V=E.escapeRegExpCharacters(V)),this._state.change({searchString:V},!1)}highlightFindOptions(V=!1){}async _start(V,j){if(this.disposeModel(),!this._editor.hasModel())return;const U={...j,isRevealed:!0};if(V.seedSearchStringFromSelection==="single"){const Y=S(this._editor,V.seedSearchStringFromSelection,V.seedSearchStringFromNonEmptySelection);Y&&(this._state.isRegex?U.searchString=E.escapeRegExpCharacters(Y):U.searchString=Y)}else if(V.seedSearchStringFromSelection==="multiple"&&!V.updateSearchScope){const Y=S(this._editor,V.seedSearchStringFromSelection);Y&&(U.searchString=Y)}if(!U.searchString&&V.seedSearchStringFromGlobalClipboard){const Y=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Y&&(U.searchString=Y)}if(V.forceRevealReplace||U.isReplaceRevealed?U.isReplaceRevealed=!0:this._findWidgetVisible.get()||(U.isReplaceRevealed=!1),V.updateSearchScope){const Y=this._editor.getSelections();Y.some(Q=>!Q.isEmpty())&&(U.searchScope=Y)}U.loop=V.loop,this._state.change(U,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))}start(V,j){return this._start(V,j)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(V){return this._model?(this._model.moveToMatch(V),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var V;return this._model?!((V=this._editor.getModel())===null||V===void 0)&&V.isTooLargeForHeapOperation()?(this._notificationService.warn(t.localize(705,"The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(V){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(V)}};e.CommonFindController=_,_.ID="editor.contrib.findController",e.CommonFindController=_=g=ke([ge(1,c.IContextKeyService),ge(2,d.IStorageService),ge(3,n.IClipboardService),ge(4,a.INotificationService),ge(5,h.IHoverService)],_);let L=class extends _{constructor(V,j,U,Y,Q,Z,G,F,J){super(V,U,G,F,Z,J),this._contextViewService=j,this._keybindingService=Y,this._themeService=Q,this._widget=null,this._findOptionsWidget=null}async _start(V,j){this._widget||this._createFindWidget();const U=this._editor.getSelection();let Y=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":Y=!0;break;case"never":Y=!1;break;case"multiline":{Y=!!U&&U.startLineNumber!==U.endLineNumber;break}default:break}V.updateSearchScope=V.updateSearchScope||Y,await super._start(V,j),this._widget&&(V.shouldFocus===2?this._widget.focusReplaceInput():V.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(V=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!V?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new o.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new v.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=L,e.FindController=L=ke([ge(1,u.IContextViewService),ge(2,c.IContextKeyService),ge(3,r.IKeybindingService),ge(4,p.IThemeService),ge(5,a.INotificationService),ge(6,d.IStorageService),ge(7,n.IClipboardService),ge(8,h.IHoverService)],L),e.StartFindAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:t.localize(706,"Find"),alias:"Find",precondition:c.ContextKeyExpr.or(m.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(707,"&&Find"),order:1}})),e.StartFindAction.addImplementation(0,(K,V,j)=>{const U=_.get(V);return U?U.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop}):!1});const D={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class T extends I.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:t.localize(708,"Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:D})}async run(V,j,U){const Y=_.get(j);if(Y){const Q=U?{searchString:U.searchString,replaceString:U.replaceString,isReplaceRevealed:U.replaceString!==void 0,isRegex:U.isRegex,wholeWord:U.matchWholeWord,matchCase:U.isCaseSensitive,preserveCase:U.preserveCase}:{};await Y.start({forceRevealReplace:!1,seedSearchStringFromSelection:Y.getState().searchString.length===0&&j.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:U?.findInSelection||!1,loop:j.getOption(41).loop},Q),Y.setGlobalBufferTerm(Y.getState().searchString)}}}e.StartFindWithArgsAction=T;class N extends I.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:t.localize(709,"Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(V,j){const U=_.get(j);U&&(await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(41).loop}),U.setGlobalBufferTerm(U.getState().searchString))}}e.StartFindWithSelectionAction=N;class A extends I.EditorAction{async run(V,j){const U=_.get(j);U&&!this._run(U)&&(await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:U.getState().searchString.length===0&&j.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(41).loop}),this._run(U))}}e.MatchFindAction=A;class R extends A{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:t.localize(710,"Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(V){return V.moveToNextMatch()?(V.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=R;class M extends A{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:t.localize(711,"Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(V){return V.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class P extends I.EditorAction{constructor(){super({id:b.FIND_IDS.GoToMatchFindAction,label:t.localize(712,"Go to Match..."),alias:"Go to Match...",precondition:b.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(V,j,U){const Y=_.get(j);if(!Y)return;const Q=Y.getState().matchesCount;if(Q<1){V.get(a.INotificationService).notify({severity:a.Severity.Warning,message:t.localize(713,"No matches. Try searching for something else.")});return}const G=V.get(l.IQuickInputService).createInputBox();G.placeholder=t.localize(714,"Type a number to go to a specific match (between 1 and {0})",Q);const F=te=>{const de=parseInt(te);if(isNaN(de))return;const he=Y.getState().matchesCount;if(de>0&&de<=he)return de-1;if(de<0&&de>=-he)return he+de},J=te=>{const de=F(te);if(typeof de=="number"){G.validationMessage=void 0,Y.goToMatch(de);const he=Y.getState().currentMatch;he&&this.addDecorations(j,he)}else G.validationMessage=t.localize(715,"Please type a number between 1 and {0}",Y.getState().matchesCount),this.clearDecorations(j)};G.onDidChangeValue(te=>{J(te)}),G.onDidAccept(()=>{const te=F(G.value);typeof te=="number"?(Y.goToMatch(te),G.hide()):G.validationMessage=t.localize(716,"Please type a number between 1 and {0}",Y.getState().matchesCount)}),G.onDidHide(()=>{this.clearDecorations(j),G.dispose()}),G.show()}clearDecorations(V){V.changeDecorations(j=>{this._highlightDecorations=j.deltaDecorations(this._highlightDecorations,[])})}addDecorations(V,j){V.changeDecorations(U=>{this._highlightDecorations=U.deltaDecorations(this._highlightDecorations,[{range:j,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:j,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,p.themeColorFromId)(y.overviewRulerRangeHighlight),position:w.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=P;class x extends I.EditorAction{async run(V,j){const U=_.get(j);if(!U)return;const Y=S(j,"single",!1);Y&&U.setSearchString(Y),this._run(U)||(await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(41).loop}),this._run(U))}}e.SelectionMatchFindAction=x;class O extends x{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:t.localize(717,"Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109,weight:100}})}_run(V){return V.moveToNextMatch()}}e.NextSelectionMatchFindAction=O;class B extends x{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:t.localize(718,"Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133,weight:100}})}_run(V){return V.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=B,e.StartFindReplaceAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:t.localize(719,"Replace"),alias:"Replace",precondition:c.ContextKeyExpr.or(m.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(720,"&&Replace"),order:2}})),e.StartFindReplaceAction.addImplementation(0,(K,V,j)=>{if(!V.hasModel()||V.getOption(92))return!1;const U=_.get(V);if(!U)return!1;const Y=V.getSelection(),Q=U.isFindInputFocused(),Z=!Y.isEmpty()&&Y.startLineNumber===Y.endLineNumber&&V.getOption(41).seedSearchStringFromSelection!=="never"&&!Q,G=Q||Z?2:1;return U.start({forceRevealReplace:!0,seedSearchStringFromSelection:Z?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:G,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop})}),(0,I.registerEditorContribution)(_.ID,L,0),(0,I.registerEditorAction)(T),(0,I.registerEditorAction)(N),(0,I.registerEditorAction)(R),(0,I.registerEditorAction)(M),(0,I.registerEditorAction)(P),(0,I.registerEditorAction)(O),(0,I.registerEditorAction)(B);const H=I.EditorCommand.bindToContribution(_.get);(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.closeFindWidget(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:K=>K.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:K=>K.toggleWholeWords(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:K=>K.toggleRegex(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:K=>K.toggleSearchScope(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:K=>K.togglePreserveCase(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replace(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:3094}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replace(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replaceAll(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:2563}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.replaceAll(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(m.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,I.registerEditorCommand)(new H({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:K=>K.selectAllMatches(),kbOpts:{weight:105,kbExpr:m.EditorContextKeys.focus,primary:515}}))}),define(re[422],ae([1,0,26,36,3,32,80,25,30]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const b=(0,I.registerColor)("editor.foldBackground",{light:(0,I.transparent)(I.editorSelectionBackground,.3),dark:(0,I.transparent)(I.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,E.localize)(623,"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,I.registerColor)("editor.foldPlaceholderForeground",{light:"#808080",dark:"#808080",hcDark:null,hcLight:null},(0,E.localize)(624,"Color of the collapsed text after the first line of a folded range.")),(0,I.registerColor)("editorGutter.foldingControlForeground",I.iconForeground,(0,E.localize)(625,"Color of the folding control in the editor gutter.")),e.foldingExpandedIcon=(0,y.registerIcon)("folding-expanded",f.Codicon.chevronDown,(0,E.localize)(626,"Icon for expanded ranges in the editor glyph margin.")),e.foldingCollapsedIcon=(0,y.registerIcon)("folding-collapsed",f.Codicon.chevronRight,(0,E.localize)(627,"Icon for collapsed ranges in the editor glyph margin.")),e.foldingManualCollapsedIcon=(0,y.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,E.localize)(628,"Icon for manually collapsed ranges in the editor glyph margin.")),e.foldingManualExpandedIcon=(0,y.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,E.localize)(629,"Icon for manually expanded ranges in the editor glyph margin."));const v={color:(0,m.themeColorFromId)(b),position:1},s=(0,E.localize)(630,"Click to expand the range."),o=(0,E.localize)(631,"Click to collapse the range.");class t{constructor(n){this.editor=n,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(n,c,u){return c?t.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?n?this.showFoldingHighlights?t.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:t.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:t.NO_CONTROLS_EXPANDED_RANGE_DECORATION:n?u?this.showFoldingHighlights?t.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?t.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?u?t.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:t.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:u?t.MANUALLY_EXPANDED_VISUAL_DECORATION:t.EXPANDED_VISUAL_DECORATION}changeDecorations(n){return this.editor.changeDecorations(n)}removeDecorations(n){this.editor.removeDecorations(n)}}e.FoldingDecorationProvider=t,t.COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:s,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:v,isWholeLine:!0,linesDecorationsTooltip:s,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.MANUALLY_COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:s,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:v,isWholeLine:!0,linesDecorationsTooltip:s,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:s}),t.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:v,isWholeLine:!0,linesDecorationsTooltip:s}),t.EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:o}),t.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:o}),t.MANUALLY_EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:o}),t.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:o}),t.NO_CONTROLS_EXPANDED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),t.HIDDEN_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(re[286],ae([1,0,14,18,8,70,2,11,19,140,15,20,27,34,349,634,350,3,12,422,203,351,49,78,59,17,6,24,22,51,28,522]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const A=new r.RawContextKey("foldingEnabled",!1);let R=N=class extends y.Disposable{static get(ne){return ne.getContribution(N.ID)}static getFoldingRangeProviders(ne,W){var q,z;const $=ne.foldingRangeProvider.ordered(W);return(z=(q=N._foldingRangeSelector)===null||q===void 0?void 0:q.call(N,$,W))!==null&&z!==void 0?z:$}constructor(ne,W,q,z,$,X){super(),this.contextKeyService=W,this.languageConfigurationService=q,this.languageFeaturesService=X,this.localToDispose=this._register(new y.DisposableStore),this.editor=ne,this._foldingLimitReporter=new M(ne);const ee=this.editor.getOptions();this._isEnabled=ee.get(43),this._useFoldingProviders=ee.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=ee.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ee.get(46),this.updateDebounceInfo=$.for(X.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new a.FoldingDecorationProvider(ne),this.foldingDecorationProvider.showFoldingControls=ee.get(111),this.foldingDecorationProvider.showFoldingHighlights=ee.get(45),this.foldingEnabled=A.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),oe.hasChanged(47)&&this.onModelChanged(),oe.hasChanged(111)||oe.hasChanged(45)){const ce=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=ce.get(111),this.foldingDecorationProvider.showFoldingHighlights=ce.get(45),this.triggerFoldingModelChanged()}oe.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),oe.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),oe.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const ne=this.editor.getModel();if(!ne||!this._isEnabled||ne.isTooLargeForTokenization())return{};if(this.foldingModel){const W=this.foldingModel.getMemento(),q=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:W,lineCount:ne.getLineCount(),provider:q,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ne){const W=this.editor.getModel();if(!(!W||!this._isEnabled||W.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ne&&(this._currentModelHasFoldedImports=!!ne.foldedImports,ne.collapsedRegions&&ne.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ne.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ne=this.editor.getModel();!this._isEnabled||!ne||ne.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new i.FoldingModel(ne,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new n.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(W=>this.onHiddenRangesChanges(W))),this.updateScheduler=new f.Delayer(this.updateDebounceInfo.get(ne)),this.cursorChangedScheduler=new f.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(W=>this.onDidChangeModelContent(W))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(W=>this.onEditorMouseDown(W))),this.localToDispose.add(this.editor.onMouseUp(W=>this.onEditorMouseUp(W))),this.localToDispose.add({dispose:()=>{var W,q;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(W=this.updateScheduler)===null||W===void 0||W.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(q=this.rangeProvider)===null||q===void 0||q.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ne;(ne=this.rangeProvider)===null||ne===void 0||ne.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ne){if(this.rangeProvider)return this.rangeProvider;const W=new c.IndentRangeProvider(ne,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=W,this._useFoldingProviders&&this.foldingModel){const q=N.getFoldingRangeProviders(this.languageFeaturesService,ne);q.length>0&&(this.rangeProvider=new d.SyntaxRangeProvider(ne,q,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,W))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ne){var W;(W=this.hiddenRangeModel)===null||W===void 0||W.notifyChangeModelContent(ne),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ne=this.foldingModel;if(!ne)return null;const W=new g.StopWatch,q=this.getRangeProvider(ne.textModel),z=this.foldingRegionPromise=(0,f.createCancelablePromise)($=>q.compute($));return z.then($=>{if($&&z===this.foldingRegionPromise){let X;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const fe=$.setCollapsedAllOfType(o.FoldingRangeKind.Imports.value,!0);fe&&(X=b.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=fe)}const ee=this.editor.getSelections(),oe=ee?ee.map(fe=>fe.startLineNumber):[];ne.update($,oe),X?.restore(this.editor);const ce=this.updateDebounceInfo.update(ne.textModel,W.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ce)}return ne})}).then(void 0,ne=>((0,E.onUnexpectedError)(ne),null)))}onHiddenRangesChanges(ne){if(this.hiddenRangeModel&&ne.length&&!this._restoringViewState){const W=this.editor.getSelections();W&&this.hiddenRangeModel.adjustSelections(W)&&this.editor.setSelections(W)}this.editor.setHiddenAreas(ne,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ne=this.getFoldingModel();ne&&ne.then(W=>{if(W){const q=this.editor.getSelections();if(q&&q.length>0){const z=[];for(const $ of q){const X=$.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(X)&&z.push(...W.getAllRegionsAtLine(X,ee=>ee.isCollapsed&&X>ee.startLineNumber))}z.length&&(W.toggleCollapseState(z),this.reveal(q[0].getPosition()))}}}).then(void 0,E.onUnexpectedError)}onEditorMouseDown(ne){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ne.target||!ne.target.range||!ne.event.leftButton&&!ne.event.middleButton)return;const W=ne.target.range;let q=!1;switch(ne.target.type){case 4:{const z=ne.target.detail,$=ne.target.element.offsetLeft;if(z.offsetX-$<4)return;q=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ne.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const z=this.editor.getModel();if(z&&W.startColumn===z.getLineMaxColumn(W.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:W.startLineNumber,iconClicked:q}}onEditorMouseUp(ne){const W=this.foldingModel;if(!W||!this.mouseDownInfo||!ne.target)return;const q=this.mouseDownInfo.lineNumber,z=this.mouseDownInfo.iconClicked,$=ne.target.range;if(!$||$.startLineNumber!==q)return;if(z){if(ne.target.type!==4)return}else{const ee=this.editor.getModel();if(!ee||$.startColumn!==ee.getLineMaxColumn(q))return}const X=W.getRegionAtLine(q);if(X&&X.startLineNumber===q){const ee=X.isCollapsed;if(z||ee){const oe=ne.event.altKey;let ce=[];if(oe){const fe=_e=>!_e.containedBy(X)&&!X.containedBy(_e),ve=W.getRegionsInside(null,fe);for(const _e of ve)_e.isCollapsed&&ce.push(_e);ce.length===0&&(ce=ve)}else{const fe=ne.event.middleButton||ne.event.shiftKey;if(fe)for(const ve of W.getRegionsInside(X))ve.isCollapsed===ee&&ce.push(ve);(ee||!fe||ce.length===0)&&ce.push(X)}W.toggleCollapseState(ce),this.reveal({lineNumber:q,column:1})}}}reveal(ne){this.editor.revealPositionInCenterIfOutsideViewport(ne,0)}};e.FoldingController=R,R.ID="editor.contrib.folding",e.FoldingController=R=N=ke([ge(1,r.IContextKeyService),ge(2,t.ILanguageConfigurationService),ge(3,p.INotificationService),ge(4,h.ILanguageFeatureDebounceService),ge(5,C.ILanguageFeaturesService)],R);class M{constructor(ne){this.editor=ne,this._onDidChange=new S.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(ne,W){(ne!==this._computed||W!==this._limited)&&(this._computed=ne,this._limited=W,this._onDidChange.fire())}}e.RangesLimitReporter=M;class P extends v.EditorAction{runEditorCommand(ne,W,q){const z=ne.get(t.ILanguageConfigurationService),$=R.get(W);if(!$)return;const X=$.getFoldingModel();if(X)return this.reportTelemetry(ne,W),X.then(ee=>{if(ee){this.invoke($,ee,W,q,z);const oe=W.getSelection();oe&&$.reveal(oe.getStartPosition())}})}getSelectedLines(ne){const W=ne.getSelections();return W?W.map(q=>q.startLineNumber):[]}getLineNumbers(ne,W){return ne&&ne.selectionLines?ne.selectionLines.map(q=>q+1):this.getSelectedLines(W)}run(ne,W){}}function x(se){if(!w.isUndefined(se)){if(!w.isObject(se))return!1;const ne=se;if(!w.isUndefined(ne.levels)&&!w.isNumber(ne.levels)||!w.isUndefined(ne.direction)&&!w.isString(ne.direction)||!w.isUndefined(ne.selectionLines)&&(!Array.isArray(ne.selectionLines)||!ne.selectionLines.every(w.isNumber)))return!1}return!0}class O extends P{constructor(){super({id:"editor.unfold",label:u.localize(632,"Unfold"),alias:"Unfold",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:x,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ne,W,q,z){const $=z&&z.levels||1,X=this.getLineNumbers(z,q);z&&z.direction==="up"?(0,i.setCollapseStateLevelsUp)(W,!1,$,X):(0,i.setCollapseStateLevelsDown)(W,!1,$,X)}}class B extends P{constructor(){super({id:"editor.unfoldRecursively",label:u.localize(633,"Unfold Recursively"),alias:"Unfold Recursively",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2142),weight:100}})}invoke(ne,W,q,z){(0,i.setCollapseStateLevelsDown)(W,!1,Number.MAX_VALUE,this.getSelectedLines(q))}}class H extends P{constructor(){super({id:"editor.fold",label:u.localize(634,"Fold"),alias:"Fold",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:x,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ne,W,q,z){const $=this.getLineNumbers(z,q),X=z&&z.levels,ee=z&&z.direction;typeof X!="number"&&typeof ee!="string"?(0,i.setCollapseStateUp)(W,!0,$):ee==="up"?(0,i.setCollapseStateLevelsUp)(W,!0,X||1,$):(0,i.setCollapseStateLevelsDown)(W,!0,X||1,$)}}class K extends P{constructor(){super({id:"editor.toggleFold",label:u.localize(635,"Toggle Fold"),alias:"Toggle Fold",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2090),weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);(0,i.toggleCollapseState)(W,1,z)}}class V extends P{constructor(){super({id:"editor.foldRecursively",label:u.localize(636,"Fold Recursively"),alias:"Fold Recursively",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2140),weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);(0,i.setCollapseStateLevelsDown)(W,!0,Number.MAX_VALUE,z)}}class j extends P{constructor(){super({id:"editor.toggleFoldRecursively",label:u.localize(637,"Toggle Fold Recursively"),alias:"Toggle Fold Recursively",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,3114),weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);(0,i.toggleCollapseState)(W,Number.MAX_VALUE,z)}}class U extends P{constructor(){super({id:"editor.foldAllBlockComments",label:u.localize(638,"Fold All Block Comments"),alias:"Fold All Block Comments",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2138),weight:100}})}invoke(ne,W,q,z,$){if(W.regions.hasTypes())(0,i.setCollapseStateForType)(W,o.FoldingRangeKind.Comment.value,!0);else{const X=q.getModel();if(!X)return;const ee=$.getLanguageConfiguration(X.getLanguageId()).comments;if(ee&&ee.blockCommentStartToken){const oe=new RegExp("^\\s*"+(0,m.escapeRegExpCharacters)(ee.blockCommentStartToken));(0,i.setCollapseStateForMatchingLines)(W,oe,!0)}}}}class Y extends P{constructor(){super({id:"editor.foldAllMarkerRegions",label:u.localize(639,"Fold All Regions"),alias:"Fold All Regions",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2077),weight:100}})}invoke(ne,W,q,z,$){if(W.regions.hasTypes())(0,i.setCollapseStateForType)(W,o.FoldingRangeKind.Region.value,!0);else{const X=q.getModel();if(!X)return;const ee=$.getLanguageConfiguration(X.getLanguageId()).foldingRules;if(ee&&ee.markers&&ee.markers.start){const oe=new RegExp(ee.markers.start);(0,i.setCollapseStateForMatchingLines)(W,oe,!0)}}}}class Q extends P{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:u.localize(640,"Unfold All Regions"),alias:"Unfold All Regions",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2078),weight:100}})}invoke(ne,W,q,z,$){if(W.regions.hasTypes())(0,i.setCollapseStateForType)(W,o.FoldingRangeKind.Region.value,!1);else{const X=q.getModel();if(!X)return;const ee=$.getLanguageConfiguration(X.getLanguageId()).foldingRules;if(ee&&ee.markers&&ee.markers.start){const oe=new RegExp(ee.markers.start);(0,i.setCollapseStateForMatchingLines)(W,oe,!1)}}}}class Z extends P{constructor(){super({id:"editor.foldAllExcept",label:u.localize(641,"Fold All Except Selected"),alias:"Fold All Except Selected",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2136),weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);(0,i.setCollapseStateForRest)(W,!0,z)}}class G extends P{constructor(){super({id:"editor.unfoldAllExcept",label:u.localize(642,"Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2134),weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);(0,i.setCollapseStateForRest)(W,!1,z)}}class F extends P{constructor(){super({id:"editor.foldAll",label:u.localize(643,"Fold All"),alias:"Fold All",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2069),weight:100}})}invoke(ne,W,q){(0,i.setCollapseStateLevelsDown)(W,!0)}}class J extends P{constructor(){super({id:"editor.unfoldAll",label:u.localize(644,"Unfold All"),alias:"Unfold All",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2088),weight:100}})}invoke(ne,W,q){(0,i.setCollapseStateLevelsDown)(W,!1)}}class te extends P{getFoldingLevel(){return parseInt(this.id.substr(te.ID_PREFIX.length))}invoke(ne,W,q){(0,i.setCollapseStateAtLevel)(W,this.getFoldingLevel(),!0,this.getSelectedLines(q))}}te.ID_PREFIX="editor.foldLevel",te.ID=se=>te.ID_PREFIX+se;class de extends P{constructor(){super({id:"editor.gotoParentFold",label:u.localize(645,"Go to Parent Fold"),alias:"Go to Parent Fold",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);if(z.length>0){const $=(0,i.getParentFoldLine)(z[0],W);$!==null&&q.setSelection({startLineNumber:$,startColumn:1,endLineNumber:$,endColumn:1})}}}class he extends P{constructor(){super({id:"editor.gotoPreviousFold",label:u.localize(646,"Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);if(z.length>0){const $=(0,i.getPreviousFoldLine)(z[0],W);$!==null&&q.setSelection({startLineNumber:$,startColumn:1,endLineNumber:$,endColumn:1})}}}class pe extends P{constructor(){super({id:"editor.gotoNextFold",label:u.localize(647,"Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ne,W,q){const z=this.getSelectedLines(q);if(z.length>0){const $=(0,i.getNextFoldLine)(z[0],W);$!==null&&q.setSelection({startLineNumber:$,startColumn:1,endLineNumber:$,endColumn:1})}}}class ue extends P{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:u.localize(648,"Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2135),weight:100}})}invoke(ne,W,q){var z;const $=[],X=q.getSelections();if(X){for(const ee of X){let oe=ee.endLineNumber;ee.endColumn===1&&--oe,oe>ee.startLineNumber&&($.push({startLineNumber:ee.startLineNumber,endLineNumber:oe,type:void 0,isCollapsed:!0,source:1}),q.setSelection({startLineNumber:ee.startLineNumber,startColumn:1,endLineNumber:ee.startLineNumber,endColumn:1}))}if($.length>0){$.sort((oe,ce)=>oe.startLineNumber-ce.startLineNumber);const ee=l.FoldingRegions.sanitizeAndMerge(W.regions,$,(z=q.getModel())===null||z===void 0?void 0:z.getLineCount());W.updatePost(l.FoldingRegions.fromFoldRanges(ee))}}}}class ie extends P{constructor(){super({id:"editor.removeManualFoldingRanges",label:u.localize(649,"Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2137),weight:100}})}invoke(ne,W,q){const z=q.getSelections();if(z){const $=[];for(const X of z){const{startLineNumber:ee,endLineNumber:oe}=X;$.push(oe>=ee?{startLineNumber:ee,endLineNumber:oe}:{endLineNumber:oe,startLineNumber:ee})}W.removeManualRanges($),ne.triggerFoldingModelChanged()}}}(0,v.registerEditorContribution)(R.ID,R,0),(0,v.registerEditorAction)(O),(0,v.registerEditorAction)(B),(0,v.registerEditorAction)(H),(0,v.registerEditorAction)(V),(0,v.registerEditorAction)(j),(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(J),(0,v.registerEditorAction)(U),(0,v.registerEditorAction)(Y),(0,v.registerEditorAction)(Q),(0,v.registerEditorAction)(Z),(0,v.registerEditorAction)(G),(0,v.registerEditorAction)(K),(0,v.registerEditorAction)(de),(0,v.registerEditorAction)(he),(0,v.registerEditorAction)(pe),(0,v.registerEditorAction)(ue),(0,v.registerEditorAction)(ie);for(let se=1;se<=7;se++)(0,v.registerInstantiatedEditorAction)(new te({id:te.ID(se),label:u.localize(650,"Fold Level {0}",se),alias:`Fold Level ${se}`,precondition:A,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2089,2048|21+se),weight:100}}));_.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(se,...ne){const[W]=ne;if(!(W instanceof L.URI))throw(0,E.illegalArgument)();const q=se.get(C.ILanguageFeaturesService),z=se.get(D.IModelService).getModel(W);if(!z)throw(0,E.illegalArgument)();const $=se.get(T.IConfigurationService);if(!$.getValue("editor.folding",{resource:W}))return[];const X=se.get(t.ILanguageConfigurationService),ee=$.getValue("editor.foldingStrategy",{resource:W}),oe={get limit(){return $.getValue("editor.foldingMaximumRegions",{resource:W})},update:(Ie,Ce)=>{}},ce=new c.IndentRangeProvider(z,X,oe);let fe=ce;if(ee!=="indentation"){const Ie=R.getFoldingRangeProviders(q,z);Ie.length&&(fe=new d.SyntaxRangeProvider(z,Ie,()=>{},oe,ce))}const ve=await fe.compute(k.CancellationToken.None),_e=[];try{if(ve)for(let Ie=0;Ie<ve.length;Ie++){const Ce=ve.getType(Ie);_e.push({start:ve.getStartLineNumber(Ie),end:ve.getEndLineNumber(Ie),kind:Ce?o.FoldingRangeKind.fromValue(Ce):void 0})}return _e}finally{fe.dispose()}})}),define(re[821],ae([1,0,14,8,121,15,5,23,20,36,115,3,639,526]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0});let i=t=class{static get(r){return r.getContribution(t.ID)}constructor(r,a){this.editor=r,this.editorWorkerService=a,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(r,a){var l;(l=this.currentRequest)===null||l===void 0||l.cancel();const d=this.editor.getSelection(),p=this.editor.getModel();if(!p||!d)return;let h=d;if(h.startLineNumber!==h.endLineNumber)return;const g=new E.EditorState(this.editor,5),C=p.uri;return this.editorWorkerService.canNavigateValueSet(C)?(this.currentRequest=(0,f.createCancelablePromise)(S=>this.editorWorkerService.navigateValueSet(C,h,a)),this.currentRequest.then(S=>{var _;if(!S||!S.range||!S.value||!g.validate(this.editor))return;const L=y.Range.lift(S.range);let D=S.range;const T=S.value.length-(h.endColumn-h.startColumn);D={startLineNumber:D.startLineNumber,startColumn:D.startColumn,endLineNumber:D.endLineNumber,endColumn:D.startColumn+S.value.length},T>1&&(h=new m.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn+T-1));const N=new o.InPlaceReplaceCommand(L,h,S.value);this.editor.pushUndoStop(),this.editor.executeCommand(r,N),this.editor.pushUndoStop(),this.decorations.set([{range:D,options:t.DECORATION}]),(_=this.decorationRemover)===null||_===void 0||_.cancel(),this.decorationRemover=(0,f.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};i.ID="editor.contrib.inPlaceReplaceController",i.DECORATION=b.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),i=t=ke([ge(1,v.IEditorWorkerService)],i);class n extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.localize(571,"Replace with Previous Value"),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(r,a){const l=i.get(a);return l?l.run(this.id,!1):Promise.resolve(void 0)}}class c extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.localize(572,"Replace with Next Value"),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(r,a){const l=i.get(a);return l?l.run(this.id,!0):Promise.resolve(void 0)}}(0,I.registerEditorContribution)(i.ID,i,4),(0,I.registerEditorAction)(n),(0,I.registerEditorAction)(c)}),define(re[287],ae([1,0,4,14,26,2,11,30,5,36,7,532]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const s=b.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:y.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class o extends I.Disposable{constructor(n,c,u,r,a){super(),this.typeId=n,this.editor=c,this.range=u,this.delegate=a,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(r),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(n){this.domNode=f.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=n;const c=f.$("span.icon");this.domNode.append(c),c.classList.add(...m.ThemeIcon.asClassNameArray(E.Codicon.loading),"codicon-modifier-spin");const u=()=>{const r=this.editor.getOption(67);this.domNode.style.height=`${r}px`,this.domNode.style.width=`${Math.ceil(.8*r)}px`};u(),this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(52)||r.hasChanged(67))&&u()})),this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,r=>{this.delegate.cancel()}))}getId(){return o.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}o.baseId="editor.widget.inlineProgressWidget";let t=class extends I.Disposable{constructor(n,c,u){super(),this.id=n,this._editor=c,this._instantiationService=u,this._showDelay=500,this._showPromise=this._register(new I.MutableDisposable),this._currentWidget=this._register(new I.MutableDisposable),this._operationIdPool=0,this._currentDecorations=c.createDecorationsCollection()}dispose(){super.dispose(),this._currentDecorations.clear()}async showWhile(n,c,u,r,a){const l=this._operationIdPool++;this._currentOperation=l,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const d=w.Range.fromPositions(n);this._currentDecorations.set([{range:d,options:s}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(o,this.id,this._editor,d,c,r))},a??this._showDelay);try{return await u}finally{this._currentOperation===l&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=t,e.InlineProgressManager=t=ke([ge(2,v.IInstantiationService)],t)}),define(re[822],ae([1,0,13,14,194,90,2,395,5,17,342,672,121,287,3,28,12,394,7,265,391]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new c.RawContextKey("dropWidgetVisible",!1,(0,i.localize)(656,"Whether the drop widget is showing"));let p=d=class extends y.Disposable{static get(g){return g.getContribution(d.ID)}constructor(g,C,S,_,L){super(),this._configService=S,this._languageFeaturesService=_,this._treeViewsDragAndDropService=L,this.treeItemsTransfer=u.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(C.createInstance(t.InlineProgressManager,"dropIntoEditor",g)),this._postDropWidgetManager=this._register(C.createInstance(l.PostEditWidgetManager,"dropIntoEditor",g,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,i.localize)(657,"Show drop options...")})),this._register(g.onDropIntoEditor(D=>this.onDropIntoEditor(g,D.position,D.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(g,C,S){var _;if(!S.dataTransfer||!g.hasModel())return;(_=this._currentOperation)===null||_===void 0||_.cancel(),g.focus(),g.setPosition(C);const L=(0,k.createCancelablePromise)(async D=>{const T=new y.DisposableStore,N=T.add(new o.EditorStateCancellationTokenSource(g,1,void 0,D));try{const A=await this.extractDataTransferData(S);if(A.size===0||N.token.isCancellationRequested)return;const R=g.getModel();if(!R)return;const M=this._languageFeaturesService.documentDropEditProvider.ordered(R).filter(x=>x.dropMimeTypes?x.dropMimeTypes.some(O=>A.matches(O)):!0),P=T.add(await this.getDropEdits(M,R,C,A,N));if(N.token.isCancellationRequested)return;if(P.edits.length){const x=this.getInitialActiveEditIndex(R,P.edits),O=g.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([w.Range.fromPositions(C)],{activeEditIndex:x,allEdits:P.edits},O,async B=>B,D)}}finally{T.dispose(),this._currentOperation===L&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(C,(0,i.localize)(658,"Running drop handlers. Click to cancel"),L,{cancel:()=>L.cancel()}),this._currentOperation=L}async getDropEdits(g,C,S,_,L){const D=new y.DisposableStore,T=await(0,k.raceCancellation)(Promise.all(g.map(async A=>{try{const R=await A.provideDocumentDropEdits(C,S,_,L.token);return R&&D.add(R),R?.edits.map(M=>({...M,providerId:A.id}))}catch(R){console.error(R)}})),L.token),N=(0,f.coalesce)(T??[]).flat();return{edits:(0,a.sortEditsByYieldTo)(N),dispose:()=>D.dispose()}}getInitialActiveEditIndex(g,C){const S=this._configService.getValue(e.defaultProviderConfig,{resource:g.uri});for(const[_,L]of Object.entries(S)){const D=new I.HierarchicalKind(L),T=C.findIndex(N=>D.value===N.providerId&&N.handledMimeType&&(0,E.matchesMimeType)(_,[N.handledMimeType]));if(T>=0)return T}return 0}async extractDataTransferData(g){if(!g.dataTransfer)return new E.VSDataTransfer;const C=(0,m.toExternalVSDataTransfer)(g.dataTransfer);if(this.treeItemsTransfer.hasData(v.DraggedTreeItemsIdentifier.prototype)){const S=this.treeItemsTransfer.getData(v.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(S))for(const _ of S){const L=await this._treeViewsDragAndDropService.removeDragOperationTransfer(_.identifier);if(L)for(const[D,T]of L)C.replace(D,T)}}return C}};e.DropIntoEditorController=p,p.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=p=d=ke([ge(1,r.IInstantiationService),ge(2,n.IConfigurationService),ge(3,b.ILanguageFeaturesService),ge(4,s.ITreeViewsDnDService)],p)}),define(re[823],ae([1,0,13,14,18,33,8,6,2,11,22,15,35,9,5,20,36,34,3,12,17,32,78,59,533]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new a.RawContextKey("LinkedEditingInputVisible",!1);const C="linked-editing-decoration";let S=g=class extends w.Disposable{static get(N){return N.getContribution(g.ID)}constructor(N,A,R,M,P){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new w.DisposableStore),this._editor=N,this._providers=R.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(A),this._debounceInformation=P.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(x=>{(x.hasChanged(70)||x.hasChanged(94))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(N){const A=this._editor.getModel(),R=A!==null&&(this._editor.getOption(70)||this._editor.getOption(94))&&this._providers.has(A);if(R===this._enabled&&!N||(this._enabled=R,this.clearRanges(),this._localToDispose.clear(),!R||A===null))return;this._localToDispose.add(m.Event.runAndSubscribe(A.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition()}));const M=new k.Delayer(this._debounceInformation.get(A)),P=()=>{var B;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(B=this._debounceDuration)!==null&&B!==void 0?B:this._debounceInformation.get(A))},x=new k.Delayer(0),O=B=>{this._rangeSyncTriggerPromise=x.trigger(()=>this._syncRanges(B))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{P()})),this._localToDispose.add(this._editor.onDidChangeModelContent(B=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const H=this._currentDecorations.getRange(0);if(H&&B.changes.every(K=>H.intersectRanges(K.range))){O(this._syncRangesToken);return}}P()})),this._localToDispose.add({dispose:()=>{M.dispose(),x.dispose()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._syncRangesToken||this._currentDecorations.length===0)return;const A=this._editor.getModel(),R=this._currentDecorations.getRange(0);if(!R||R.startLineNumber!==R.endLineNumber)return this.clearRanges();const M=A.getValueInRange(R);if(this._currentWordPattern){const x=M.match(this._currentWordPattern);if((x?x[0].length:0)!==M.length)return this.clearRanges()}const P=[];for(let x=1,O=this._currentDecorations.length;x<O;x++){const B=this._currentDecorations.getRange(x);if(B)if(B.startLineNumber!==B.endLineNumber)P.push({range:B,text:M});else{let H=A.getValueInRange(B),K=M,V=B.startColumn,j=B.endColumn;const U=b.commonPrefixLength(H,K);V+=U,H=H.substr(U),K=K.substr(U);const Y=b.commonSuffixLength(H,K);j-=Y,H=H.substr(0,H.length-Y),K=K.substr(0,K.length-Y),(V!==j||K.length!==0)&&P.push({range:new i.Range(B.startLineNumber,V,B.endLineNumber,j),text:K})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const x=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(x)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(N=!1){if(!this._editor.hasModel()){this.clearRanges();return}const A=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const R=this._editor.getModel(),M=R.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(A.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const x=this._currentDecorations.getRange(0);if(x&&x.containsPosition(A))return}}this.clearRanges(),this._currentRequestPosition=A,this._currentRequestModelVersion=M;const P=this._currentRequestCts=new E.CancellationTokenSource;try{const x=new h.StopWatch(!1),O=await D(this._providers,R,A,P.token);if(this._debounceInformation.update(R,x.elapsed()),P!==this._currentRequestCts||(this._currentRequestCts=null,M!==R.getVersionId()))return;let B=[];O?.ranges&&(B=O.ranges),this._currentWordPattern=O?.wordPattern||this._languageWordPattern;let H=!1;for(let V=0,j=B.length;V<j;V++)if(i.Range.containsPosition(B[V],A)){if(H=!0,V!==0){const U=B[V];B.splice(V,1),B.unshift(U)}break}if(!H){this.clearRanges();return}const K=B.map(V=>({range:V,options:g.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(K),this._syncRangesToken++}catch(x){(0,y.isCancellationError)(x)||(0,y.onUnexpectedError)(x),(this._currentRequestCts===P||!this._currentRequestCts)&&this.clearRanges()}}};e.LinkedEditingContribution=S,S.ID="editor.contrib.linkedEditing",S.DECORATION=c.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:C}),e.LinkedEditingContribution=S=g=ke([ge(1,a.IContextKeyService),ge(2,l.ILanguageFeaturesService),ge(3,u.ILanguageConfigurationService),ge(4,p.ILanguageFeatureDebounceService)],S);class _ extends s.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:r.localize(375,"Start Linked Editing"),alias:"Start Linked Editing",precondition:a.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(N,A){const R=N.get(o.ICodeEditorService),[M,P]=Array.isArray(A)&&A||[void 0,void 0];return v.URI.isUri(M)&&t.Position.isIPosition(P)?R.openCodeEditor({resource:M},R.getActiveCodeEditor()).then(x=>{x&&(x.setPosition(P),x.invokeWithinContext(O=>(this.reportTelemetry(O,x),this.run(O,x))))},y.onUnexpectedError):super.runCommand(N,A)}run(N,A){const R=S.get(A);return R?Promise.resolve(R.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=_;const L=s.EditorCommand.bindToContribution(S.get);(0,s.registerEditorCommand)(new L({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function D(T,N,A,R){const M=T.ordered(N);return(0,k.first)(M.map(P=>async()=>{try{return await P.provideLinkedEditingRanges(N,A,R)}catch(x){(0,y.onUnexpectedExternalError)(x);return}}),P=>!!P&&f.isNonEmptyArray(P?.ranges))}e.editorLinkedEditingBackground=(0,d.registerColor)("editor.linkedEditingBackground",{dark:I.Color.fromHex("#f00").transparent(.3),light:I.Color.fromHex("#f00").transparent(.3),hcDark:I.Color.fromHex("#f00").transparent(.3),hcLight:I.Color.white},r.localize(376,"Background color when the editor auto renames on type.")),(0,s.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,N,A)=>{const{linkedEditingRangeProvider:R}=T.get(l.ILanguageFeaturesService);return D(R,N,A,E.CancellationToken.None)}),(0,s.registerEditorContribution)(S.ID,S,1),(0,s.registerEditorAction)(_)}),define(re[824],ae([1,0,14,18,8,55,2,46,16,50,59,22,15,36,78,17,204,674,3,49,62,534]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let p=d=class extends y.Disposable{static get(L){return L.getContribution(d.ID)}constructor(L,D,T,N,A){super(),this.editor=L,this.openerService=D,this.notificationService=T,this.languageFeaturesService=N,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=A.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new f.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const R=this._register(new c.ClickLinkGesture(L));this._register(R.onMouseMoveOrRelevantKeyDown(([M,P])=>{this._onEditorMouseMove(M,P)})),this._register(R.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(R.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(L.onDidChangeConfiguration(M=>{M.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(L.onDidChangeModelContent(M=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(L.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(L.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const L=this.editor.getModel();if(!L.isTooLargeForSyncing()&&this.providers.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,f.createCancelablePromise)(D=>(0,u.getLinks)(this.providers,L,D));try{const D=new v.StopWatch(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(L,D.elapsed()),L.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(D){(0,E.onUnexpectedError)(D)}finally{this.computePromise=null}}}updateDecorations(L){const D=this.editor.getOption(78)==="altKey",T=[],N=Object.keys(this.currentOccurrences);for(const R of N){const M=this.currentOccurrences[R];T.push(M.decorationId)}const A=[];if(L)for(const R of L)A.push(g.decoration(R,D));this.editor.changeDecorations(R=>{const M=R.deltaDecorations(T,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let P=0,x=M.length;P<x;P++){const O=new g(L[P],M[P]);this.currentOccurrences[O.decorationId]=O}})}_onEditorMouseMove(L,D){const T=this.editor.getOption(78)==="altKey";if(this.isEnabled(L,D)){this.cleanUpActiveLinkDecoration();const N=this.getLinkOccurrence(L.target.position);N&&this.editor.changeDecorations(A=>{N.activate(A,T),this.activeLinkDecorationId=N.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const D=this.currentOccurrences[this.activeLinkDecorationId];D&&this.editor.changeDecorations(T=>{D.deactivate(T,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!this.isEnabled(L))return;const D=this.getLinkOccurrence(L.target.position);D&&this.openLinkOccurrence(D,L.hasSideBySideModifier,!0)}openLinkOccurrence(L,D,T=!1){if(!this.openerService)return;const{link:N}=L;N.resolve(k.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const R=this.editor.getModel().uri;if(R.scheme===m.Schemas.file&&A.startsWith(`${m.Schemas.file}:`)){const M=s.URI.parse(A);if(M.scheme===m.Schemas.file){const P=b.originalFSPath(M);let x=null;P.startsWith("/./")||P.startsWith("\\.\\")?x=`.${P.substr(1)}`:(P.startsWith("//./")||P.startsWith("\\\\.\\"))&&(x=`.${P.substr(2)}`),x&&(A=b.joinPath(R,x))}}}return this.openerService.open(A,{openToSide:D,fromUserGesture:T,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},A=>{const R=A instanceof Error?A.message:A;R==="invalid"?this.notificationService.warn(r.localize(423,"Failed to open this link because it is not well-formed: {0}",N.url.toString())):R==="missing"?this.notificationService.warn(r.localize(424,"Failed to open this link because its target is missing.")):(0,E.onUnexpectedError)(A)})}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const D=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const T of D){const N=this.currentOccurrences[T.id];if(N)return N}return null}isEnabled(L,D){return!!(L.target.type===6&&(L.hasTriggerModifier||D&&D.keyCodeIsTriggerKey))}stop(){var L;this.computeLinks.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=p,p.ID="editor.linkDetector",e.LinkDetector=p=d=ke([ge(1,l.IOpenerService),ge(2,a.INotificationService),ge(3,n.ILanguageFeaturesService),ge(4,i.ILanguageFeatureDebounceService)],p);const h={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class g{static decoration(L,D){return{range:L.range,options:g._getOptions(L,D,!1)}}static _getOptions(L,D,T){const N={...T?h.active:h.general};return N.hoverMessage=C(L,D),N}constructor(L,D){this.link=L,this.decorationId=D}activate(L,D){L.changeDecorationOptions(this.decorationId,g._getOptions(this.link,D,!0))}deactivate(L,D){L.changeDecorationOptions(this.decorationId,g._getOptions(this.link,D,!1))}}function C(_,L){const D=_.url&&/^command:/i.test(_.url.toString()),T=_.tooltip?_.tooltip:D?r.localize(425,"Execute command"):r.localize(426,"Follow link"),N=L?w.isMacintosh?r.localize(427,"cmd + click"):r.localize(428,"ctrl + click"):w.isMacintosh?r.localize(429,"option + click"):r.localize(430,"alt + click");if(_.url){let A="";if(/^command:/i.test(_.url.toString())){const M=_.url.toString().match(/^command:([^?#]+)/);if(M){const P=M[1];A=r.localize(431,"Execute command {0}",P)}}return new I.MarkdownString("",!0).appendLink(_.url.toString(!0).replace(/ /g,"%20"),T,A).appendMarkdown(` (${N})`)}else return new I.MarkdownString().appendText(`${T} (${N})`)}class S extends o.EditorAction{constructor(){super({id:"editor.action.openLink",label:r.localize(432,"Open Link"),alias:"Open Link",precondition:void 0})}run(L,D){const T=p.get(D);if(!T||!D.hasModel())return;const N=D.getSelections();for(const A of N){const R=T.getLinkOccurrence(A.getEndPosition());R&&T.openLinkOccurrence(R,!1)}}}(0,o.registerEditorContribution)(p.ID,p,1),(0,o.registerEditorAction)(S)}),define(re[825],ae([1,0,14,2,15,34,36,115]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SectionHeaderDetector=void 0;let w=class extends k.Disposable{constructor(s,o,t){super(),this.editor=s,this.languageConfigurationService=o,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(s.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(s.onDidChangeModel(i=>{this.currentOccurrences={},this.options=this.createOptions(s.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(s.onDidChangeModelLanguage(i=>{this.currentOccurrences={},this.options=this.createOptions(s.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(o.onDidChange(i=>{var n;const c=(n=this.editor.getModel())===null||n===void 0?void 0:n.getLanguageId();c&&i.affects(c)&&(this.currentOccurrences={},this.options=this.createOptions(s.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(s.onDidChangeConfiguration(i=>{this.options&&!i.hasChanged(73)||(this.options=this.createOptions(s.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(i=>{this.computeSectionHeaders.schedule()})),this._register(s.onDidChangeModelTokens(i=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new f.RunOnceScheduler(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(s){if(!s||!this.editor.hasModel())return;const o=this.editor.getModel().getLanguageId();if(!o)return;const t=this.languageConfigurationService.getLanguageConfiguration(o).comments,i=this.languageConfigurationService.getLanguageConfiguration(o).foldingRules;if(!(!t&&!i?.markers))return{foldingRules:i,findMarkSectionHeaders:s.showMarkSectionHeaders,findRegionSectionHeaders:s.showRegionSectionHeaders}}findSectionHeaders(){var s,o;if(!this.editor.hasModel()||!(!((s=this.options)===null||s===void 0)&&s.findMarkSectionHeaders)&&!(!((o=this.options)===null||o===void 0)&&o.findRegionSectionHeaders))return;const t=this.editor.getModel();if(t.isDisposed()||t.isTooLargeForSyncing())return;const i=t.getVersionId();this.editorWorkerService.findSectionHeaders(t.uri,this.options).then(n=>{t.isDisposed()||t.getVersionId()!==i||this.updateDecorations(n)})}updateDecorations(s){const o=this.editor.getModel();o&&(s=s.filter(n=>{if(!n.shouldBeInComments)return!0;const c=o.validateRange(n.range),u=o.tokenization.getLineTokens(c.startLineNumber),r=u.findTokenIndexAtOffset(c.startColumn-1),a=u.getStandardTokenType(r);return u.getLanguageId(r)===o.getLanguageId()&&a===1}));const t=Object.values(this.currentOccurrences).map(n=>n.decorationId),i=s.map(n=>b(n));this.editor.changeDecorations(n=>{const c=n.deltaDecorations(t,i);this.currentOccurrences={};for(let u=0,r=c.length;u<r;u++){const a={sectionHeader:s[u],decorationId:c[u]};this.currentOccurrences[a.decorationId]=a}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};e.SectionHeaderDetector=w,w.ID="editor.sectionHeaderDetector",e.SectionHeaderDetector=w=ke([ge(1,I.ILanguageConfigurationService),ge(2,m.IEditorWorkerService)],w);function b(v){return{range:v.range,options:y.ModelDecorationOptions.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:v.hasSeparatorLine?2:1,sectionHeaderText:v.text}})}}(0,E.registerEditorContribution)(w.ID,w,1)}),define(re[826],ae([1,0,2,17,181,14,286,351,350,34,8,360,53,7]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var i;(function(p){p.OUTLINE_MODEL="outlineModel",p.FOLDING_PROVIDER_MODEL="foldingProviderModel",p.INDENTATION_MODEL="indentationModel"})(i||(i={}));var n;(function(p){p[p.VALID=0]="VALID",p[p.INVALID=1]="INVALID",p[p.CANCELED=2]="CANCELED"})(n||(n={}));let c=class extends f.Disposable{constructor(h,g,C,S){switch(super(),this._editor=h,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new I.Delayer(300)),this._updateOperation=this._register(new f.DisposableStore),this._editor.getOption(116).defaultModel){case i.OUTLINE_MODEL:this._modelProviders.push(new r(this._editor,S));case i.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new d(this._editor,g,S));case i.INDENTATION_MODEL:this._modelProviders.push(new l(this._editor,C));break}}dispose(){this._modelProviders.forEach(h=>h.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(h){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const g of this._modelProviders){const{statusPromise:C,modelPromise:S}=g.computeStickyModel(h);this._modelPromise=S;const _=await C;if(this._modelPromise!==S)return null;switch(_){case n.CANCELED:return this._updateOperation.clear(),null;case n.VALID:return g.stickyModel}}return null}).catch(g=>((0,v.onUnexpectedError)(g),null))}};e.StickyModelProvider=c,e.StickyModelProvider=c=ke([ge(2,t.IInstantiationService),ge(3,k.ILanguageFeaturesService)],c);class u extends f.Disposable{constructor(h){super(),this._editor=h,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,n.INVALID}computeStickyModel(h){if(h.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const g=(0,I.createCancelablePromise)(C=>this.createModelFromProvider(C));return{statusPromise:g.then(C=>this.isModelValid(C)?h.isCancellationRequested?n.CANCELED:(this._stickyModel=this.createStickyModel(h,C),n.VALID):this._invalid()).then(void 0,C=>((0,v.onUnexpectedError)(C),n.CANCELED)),modelPromise:g}}isModelValid(h){return!0}isProviderValid(){return!0}}let r=class extends u{constructor(h,g){super(h),this._languageFeaturesService=g}createModelFromProvider(h){return E.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),h)}createStickyModel(h,g){var C;const{stickyOutlineElement:S,providerID:_}=this._stickyModelFromOutlineModel(g,(C=this._stickyModel)===null||C===void 0?void 0:C.outlineProviderId),L=this._editor.getModel();return new s.StickyModel(L.uri,L.getVersionId(),S,_)}isModelValid(h){return h&&h.children.size>0}_stickyModelFromOutlineModel(h,g){let C;if(o.Iterable.first(h.children.values())instanceof E.OutlineGroup){const D=o.Iterable.find(h.children.values(),T=>T.id===g);if(D)C=D.children;else{let T="",N=-1,A;for(const[R,M]of h.children.entries()){const P=this._findSumOfRangesOfGroup(M);P>N&&(A=M,N=P,T=M.id)}g=T,C=A.children}}else C=h.children;const S=[],_=Array.from(C.values()).sort((D,T)=>{const N=new s.StickyRange(D.symbol.range.startLineNumber,D.symbol.range.endLineNumber),A=new s.StickyRange(T.symbol.range.startLineNumber,T.symbol.range.endLineNumber);return this._comparator(N,A)});for(const D of _)S.push(this._stickyModelFromOutlineElement(D,D.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new s.StickyElement(void 0,S,void 0),providerID:g}}_stickyModelFromOutlineElement(h,g){const C=[];for(const _ of h.children.values())if(_.symbol.selectionRange.startLineNumber!==_.symbol.range.endLineNumber)if(_.symbol.selectionRange.startLineNumber!==g)C.push(this._stickyModelFromOutlineElement(_,_.symbol.selectionRange.startLineNumber));else for(const L of _.children.values())C.push(this._stickyModelFromOutlineElement(L,_.symbol.selectionRange.startLineNumber));C.sort((_,L)=>this._comparator(_.range,L.range));const S=new s.StickyRange(h.symbol.selectionRange.startLineNumber,h.symbol.range.endLineNumber);return new s.StickyElement(S,C,void 0)}_comparator(h,g){return h.startLineNumber!==g.startLineNumber?h.startLineNumber-g.startLineNumber:g.endLineNumber-h.endLineNumber}_findSumOfRangesOfGroup(h){let g=0;for(const C of h.children.values())g+=this._findSumOfRangesOfGroup(C);return h instanceof E.OutlineElement?g+h.symbol.range.endLineNumber-h.symbol.selectionRange.startLineNumber:g}};r=ke([ge(1,k.ILanguageFeaturesService)],r);class a extends u{constructor(h){super(h),this._foldingLimitReporter=new y.RangesLimitReporter(h)}createStickyModel(h,g){const C=this._fromFoldingRegions(g),S=this._editor.getModel();return new s.StickyModel(S.uri,S.getVersionId(),C,void 0)}isModelValid(h){return h!==null}_fromFoldingRegions(h){const g=h.length,C=[],S=new s.StickyElement(void 0,[],void 0);for(let _=0;_<g;_++){const L=h.getParentIndex(_);let D;L!==-1?D=C[L]:D=S;const T=new s.StickyElement(new s.StickyRange(h.getStartLineNumber(_),h.getEndLineNumber(_)+1),[],D);D.children.push(T),C.push(T)}return S}}let l=class extends a{constructor(h,g){super(h),this._languageConfigurationService=g,this.provider=this._register(new w.IndentRangeProvider(h.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(h){return this.provider.compute(h)}};l=ke([ge(1,b.ILanguageConfigurationService)],l);let d=class extends a{constructor(h,g,C){super(h),this._languageFeaturesService=C;const S=y.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,h.getModel());S.length>0&&(this.provider=this._register(new m.SyntaxRangeProvider(h.getModel(),S,g,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}async createModelFromProvider(h){var g,C;return(C=(g=this.provider)===null||g===void 0?void 0:g.compute(h))!==null&&C!==void 0?C:null}};d=ke([ge(2,k.ILanguageFeaturesService)],d)}),define(re[827],ae([1,0,2,17,18,14,13,6,34,826]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class v{constructor(t,i,n){this.startLineNumber=t,this.endLineNumber=i,this.nestingDepth=n}}e.StickyLineCandidate=v;let s=class extends f.Disposable{constructor(t,i,n){super(),this._languageFeaturesService=i,this._languageConfigurationService=n,this._onDidChangeStickyScroll=this._register(new m.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=t,this._sessionStore=this._register(new f.DisposableStore),this._updateSoon=this._register(new I.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(116)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(116).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,f.toDisposable)(()=>{var i;(i=this._stickyModelProvider)===null||i===void 0||i.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var t;return(t=this._model)===null||t===void 0?void 0:t.version}updateStickyModelProvider(){var t;(t=this._stickyModelProvider)===null||t===void 0||t.dispose(),this._stickyModelProvider=null;const i=this._editor;i.hasModel()&&(this._stickyModelProvider=new b.StickyModelProvider(i,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){var t;(t=this._cts)===null||t===void 0||t.dispose(!0),this._cts=new E.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(t){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const i=await this._stickyModelProvider.update(t);t.isCancellationRequested||(this._model=i)}updateIndex(t){return t===-1?t=0:t<0&&(t=-t-2),t}getCandidateStickyLinesIntersectingFromStickyModel(t,i,n,c,u){if(i.children.length===0)return;let r=u;const a=[];for(let p=0;p<i.children.length;p++){const h=i.children[p];h.range&&a.push(h.range.startLineNumber)}const l=this.updateIndex((0,y.binarySearch)(a,t.startLineNumber,(p,h)=>p-h)),d=this.updateIndex((0,y.binarySearch)(a,t.startLineNumber+c,(p,h)=>p-h));for(let p=l;p<=d;p++){const h=i.children[p];if(!h)return;if(h.range){const g=h.range.startLineNumber,C=h.range.endLineNumber;t.startLineNumber<=C+1&&g-1<=t.endLineNumber&&g!==r&&(r=g,n.push(new v(g,C-1,c+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(t,h,n,c+1,g))}else this.getCandidateStickyLinesIntersectingFromStickyModel(t,h,n,c,u)}}getCandidateStickyLinesIntersecting(t){var i,n;if(!(!((i=this._model)===null||i===void 0)&&i.element))return[];let c=[];this.getCandidateStickyLinesIntersectingFromStickyModel(t,this._model.element,c,0,-1);const u=(n=this._editor._getViewModel())===null||n===void 0?void 0:n.getHiddenAreas();if(u)for(const r of u)c=c.filter(a=>!(a.startLineNumber>=r.startLineNumber&&a.endLineNumber<=r.endLineNumber+1));return c}};e.StickyLineCandidateProvider=s,e.StickyLineCandidateProvider=s=ke([ge(1,k.ILanguageFeaturesService),ge(2,w.ILanguageConfigurationService)],s)}),define(re[828],ae([1,0,4,102,13,2,30,279,136,9,113,147,133,422,541]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class i{constructor(g,C,S,_=null){this.startLineNumbers=g,this.endLineNumbers=C,this.lastLineRelativePosition=S,this.showEndForLine=_}equals(g){return!!g&&this.lastLineRelativePosition===g.lastLineRelativePosition&&this.showEndForLine===g.showEndForLine&&(0,E.equals)(this.startLineNumbers,g.startLineNumbers)&&(0,E.equals)(this.endLineNumbers,g.endLineNumbers)}static get Empty(){return new i([],[],0)}}e.StickyScrollWidgetState=i;const n=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:h=>h}),c="data-sticky-line-index",u="data-sticky-is-line",r="data-sticky-is-line-number",a="data-sticky-is-folding-icon";class l extends I.Disposable{constructor(g){super(),this._editor=g,this._foldingIconStore=new I.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",g instanceof w.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const C=()=>{this._linesDomNode.style.left=this._editor.getOption(116).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(S=>{S.hasChanged(116)&&C(),S.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(S=>{S.scrollLeftChanged&&C(),S.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{C(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),C(),this._register(this._editor.onDidLayoutChange(S=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(g){return this._renderedStickyLines.find(C=>C.lineNumber===g)}getCurrentLines(){return this._lineNumbers}setState(g,C,S){if(S===void 0&&(!this._previousState&&!g||this._previousState&&this._previousState.equals(g)))return;const _=this._isWidgetHeightZero(g),L=_?void 0:g,D=_?0:this._findLineToRebuildWidgetFrom(g,S);this._renderRootNode(L,C,D),this._previousState=g}_isWidgetHeightZero(g){if(!g)return!0;const C=g.startLineNumbers.length*this._lineHeight+g.lastLineRelativePosition;if(C>0){this._lastLineRelativePosition=g.lastLineRelativePosition;const S=[...g.startLineNumbers];g.showEndForLine!==null&&(S[g.showEndForLine]=g.endLineNumbers[g.showEndForLine]),this._lineNumbers=S}else this._lastLineRelativePosition=0,this._lineNumbers=[];return C===0}_findLineToRebuildWidgetFrom(g,C){if(!g||!this._previousState)return 0;if(C!==void 0)return C;const S=this._previousState,_=g.startLineNumbers.findIndex(L=>!S.startLineNumbers.includes(L));return _===-1?0:_}_updateWidgetWidth(){const g=this._editor.getLayoutInfo(),C=g.contentLeft;this._lineNumbersDomNode.style.width=`${C}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-g.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${g.width-g.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(g){this._foldingIconStore.clear();for(let C=g;C<this._renderedStickyLines.length;C++){const S=this._renderedStickyLines[C];S.lineNumberDomNode.remove(),S.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,g),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(g){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${g?.5:0}s`)}_setFoldingIconsVisibility(g){for(const C of this._renderedStickyLines){const S=C.foldingIcon;S&&S.setVisible(g?!0:S.isCollapsed)}}async _renderRootNode(g,C,S){if(this._clearStickyLinesFromLine(S),!g)return;for(const T of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(T);const _=this._editor.getLayoutInfo(),L=this._lineNumbers.slice(S);for(const[T,N]of L.entries()){const A=this._renderChildNode(T+S,N,C,_);A&&(this._linesDomNode.appendChild(A.lineDomNode),this._lineNumbersDomNode.appendChild(A.lineNumberDomNode),this._renderedStickyLines.push(A))}C&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const D=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${D}px`,this._linesDomNodeScrollable.style.height=`${D}px`,this._rootDomNode.style.height=`${D}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(T=>T.scrollWidth))+_.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(111)==="mouseover"&&(this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(g,C,S,_){const L=this._editor._getViewModel();if(!L)return;const D=L.coordinatesConverter.convertModelPositionToViewPosition(new b.Position(C,1)).lineNumber,T=L.getViewLineRenderingData(D),N=this._editor.getOption(68);let A;try{A=s.LineDecoration.filter(T.inlineDecorations,D,T.minColumn,T.maxColumn)}catch{A=[]}const R=new o.RenderLineInput(!0,!0,T.content,T.continuesWithWrappedLine,T.isBasicASCII,T.containsRTL,0,T.tokens,A,T.tabSize,T.startVisibleColumn,1,1,1,500,"none",!0,!0,null),M=new v.StringBuilder(2e3),P=(0,o.renderViewLine)(R,M);let x;n?x=n.createHTML(M.build()):x=M.build();const O=document.createElement("span");O.setAttribute(c,String(g)),O.setAttribute(u,""),O.setAttribute("role","listitem"),O.tabIndex=0,O.className="sticky-line-content",O.classList.add(`stickyLine${C}`),O.style.lineHeight=`${this._lineHeight}px`,O.innerHTML=x;const B=document.createElement("span");B.setAttribute(c,String(g)),B.setAttribute(r,""),B.className="sticky-line-number",B.style.lineHeight=`${this._lineHeight}px`;const H=_.contentLeft;B.style.width=`${H}px`;const K=document.createElement("span");N.renderType===1||N.renderType===3&&C%10===0?K.innerText=C.toString():N.renderType===2&&(K.innerText=Math.abs(C-this._editor.getPosition().lineNumber).toString()),K.className="sticky-line-number-inner",K.style.lineHeight=`${this._lineHeight}px`,K.style.width=`${_.lineNumbersWidth}px`,K.style.paddingLeft=`${_.lineNumbersLeft}px`,B.appendChild(K);const V=this._renderFoldingIconForLine(S,C);V&&B.appendChild(V.domNode),this._editor.applyFontInfo(O),this._editor.applyFontInfo(K),B.style.lineHeight=`${this._lineHeight}px`,O.style.lineHeight=`${this._lineHeight}px`,B.style.height=`${this._lineHeight}px`,O.style.height=`${this._lineHeight}px`;const j=new d(g,C,O,B,V,P.characterMapping,O.scrollWidth);return this._updateTopAndZIndexOfStickyLine(j)}_updateTopAndZIndexOfStickyLine(g){var C;const S=g.index,_=g.lineDomNode,L=g.lineNumberDomNode,D=S===this._lineNumbers.length-1,T="0",N="1";_.style.zIndex=D?T:N,L.style.zIndex=D?T:N;const A=`${S*this._lineHeight+this._lastLineRelativePosition+(!((C=g.foldingIcon)===null||C===void 0)&&C.isCollapsed?1:0)}px`,R=`${S*this._lineHeight}px`;return _.style.top=D?A:R,L.style.top=D?A:R,g}_renderFoldingIconForLine(g,C){const S=this._editor.getOption(111);if(!g||S==="never")return;const _=g.regions,L=_.findRange(C),D=_.getStartLineNumber(L);if(!(C===D))return;const N=_.isCollapsed(L),A=new p(N,D,_.getEndLineNumber(L),this._lineHeight);return A.setVisible(this._isOnGlyphMargin?!0:N||S==="always"),A.domNode.setAttribute(a,""),A}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:2,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(g){0<=g&&g<this._renderedStickyLines.length&&this._renderedStickyLines[g].lineDomNode.focus()}getEditorPositionFromNode(g){if(!g||g.children.length>0)return null;const C=this._getRenderedStickyLineFromChildDomNode(g);if(!C)return null;const S=(0,m.getColumnOfNodeOffset)(C.characterMapping,g,0);return new b.Position(C.lineNumber,S)}getLineNumberFromChildDomNode(g){var C,S;return(S=(C=this._getRenderedStickyLineFromChildDomNode(g))===null||C===void 0?void 0:C.lineNumber)!==null&&S!==void 0?S:null}_getRenderedStickyLineFromChildDomNode(g){const C=this.getLineIndexFromChildDomNode(g);return C===null||C<0||C>=this._renderedStickyLines.length?null:this._renderedStickyLines[C]}getLineIndexFromChildDomNode(g){const C=this._getAttributeValue(g,c);return C?parseInt(C,10):null}isInStickyLine(g){return this._getAttributeValue(g,u)!==void 0}isInFoldingIconDomNode(g){return this._getAttributeValue(g,a)!==void 0}_getAttributeValue(g,C){for(;g&&g!==this._rootDomNode;){const S=g.getAttribute(C);if(S!==null)return S;g=g.parentElement}}}e.StickyScrollWidget=l;class d{constructor(g,C,S,_,L,D,T){this.index=g,this.lineNumber=C,this.lineDomNode=S,this.lineNumberDomNode=_,this.foldingIcon=L,this.characterMapping=D,this.scrollWidth=T}}class p{constructor(g,C,S,_){this.isCollapsed=g,this.foldingStartLine=C,this.foldingEndLine=S,this.dimension=_,this.domNode=document.createElement("div"),this.domNode.style.width=`${_}px`,this.domNode.style.height=`${_}px`,this.domNode.className=y.ThemeIcon.asClassName(g?t.foldingCollapsedIcon:t.foldingExpandedIcon)}setVisible(g){this.domNode.style.cursor=g?"pointer":"default",this.domNode.style.opacity=g?"1":"0"}}}),define(re[829],ae([1,0,4,112,14,8,6,2,138,11,136,790,3,12,7,100,32,97,25,234,151,398,785,109,47,195,542,278]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,c.registerColor)("editorSuggestWidget.background",c.editorWidgetBackground,o.localize(196,"Background color of the suggest widget.")),(0,c.registerColor)("editorSuggestWidget.border",c.editorWidgetBorder,o.localize(197,"Border color of the suggest widget."));const S=(0,c.registerColor)("editorSuggestWidget.foreground",c.editorForeground,o.localize(198,"Foreground color of the suggest widget."));(0,c.registerColor)("editorSuggestWidget.selectedForeground",c.quickInputListFocusForeground,o.localize(199,"Foreground color of the selected entry in the suggest widget.")),(0,c.registerColor)("editorSuggestWidget.selectedIconForeground",c.quickInputListFocusIconForeground,o.localize(200,"Icon foreground color of the selected entry in the suggest widget.")),e.editorSuggestWidgetSelectedBackground=(0,c.registerColor)("editorSuggestWidget.selectedBackground",c.quickInputListFocusBackground,o.localize(201,"Background color of the selected entry in the suggest widget.")),(0,c.registerColor)("editorSuggestWidget.highlightForeground",c.listHighlightForeground,o.localize(202,"Color of the match highlights in the suggest widget.")),(0,c.registerColor)("editorSuggestWidget.focusHighlightForeground",c.listFocusHighlightForeground,o.localize(203,"Color of the match highlights in the suggest widget when an item is focused.")),(0,c.registerColor)("editorSuggestWidgetStatus.foreground",(0,c.transparent)(S,.5),o.localize(204,"Foreground color of the suggest widget status."));class _{constructor(N,A){this._service=N,this._key=`suggestWidget.size/${A.getEditorType()}/${A instanceof v.EmbeddedCodeEditorWidget}`}restore(){var N;const A=(N=this._service.get(this._key,0))!==null&&N!==void 0?N:"";try{const R=JSON.parse(A);if(f.Dimension.is(R))return f.Dimension.lift(R)}catch{}}store(N){this._service.store(this._key,JSON.stringify(N),0,1)}reset(){this._service.remove(this._key,0)}}let L=C=class{constructor(N,A,R,M,P){this.editor=N,this._storageService=A,this._state=0,this._isAuto=!1,this._pendingLayout=new m.MutableDisposable,this._pendingShowDetails=new m.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new E.TimeoutTimer,this._disposables=new m.DisposableStore,this._onDidSelect=new y.PauseableEmitter,this._onDidFocus=new y.PauseableEmitter,this._onDidHide=new y.Emitter,this._onDidShow=new y.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new a.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new D(this,N),this._persistedSize=new _(A,N);class x{constructor(U,Y,Q=!1,Z=!1){this.persistedSize=U,this.currentSize=Y,this.persistHeight=Q,this.persistWidth=Z}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new x(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(j=>{var U,Y,Q,Z;if(this._resize(j.dimension.width,j.dimension.height),O&&(O.persistHeight=O.persistHeight||!!j.north||!!j.south,O.persistWidth=O.persistWidth||!!j.east||!!j.west),!!j.done){if(O){const{itemHeight:G,defaultSize:F}=this.getLayoutInfo(),J=Math.round(G/2);let{width:te,height:de}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-de)<=J)&&(de=(Y=(U=O.persistedSize)===null||U===void 0?void 0:U.height)!==null&&Y!==void 0?Y:F.height),(!O.persistWidth||Math.abs(O.currentSize.width-te)<=J)&&(te=(Z=(Q=O.persistedSize)===null||Q===void 0?void 0:Q.width)!==null&&Z!==void 0?Z:F.width),this._persistedSize.store(new f.Dimension(te,de))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=f.append(this.element.domNode,f.$(".message")),this._listElement=f.append(this.element.domNode,f.$(".tree"));const B=this._disposables.add(P.createInstance(d.SuggestDetailsWidget,this.editor));B.onDidClose(this.toggleDetails,this,this._disposables),this._details=new d.SuggestDetailsOverlay(B,this.editor);const H=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(119).showIcons);H();const K=P.createInstance(p.ItemRenderer,this.editor);this._disposables.add(K),this._disposables.add(K.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:j=>this.getLayoutInfo().itemHeight,getTemplateId:j=>"suggestion"},[K],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>o.localize(207,"Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:j=>{let U=j.textLabel;if(typeof j.completion.label!="string"){const{detail:G,description:F}=j.completion.label;G&&F?U=o.localize(208,"{0} {1}, {2}",U,G,F):G?U=o.localize(209,"{0} {1}",U,G):F&&(U=o.localize(210,"{0}, {1}",U,F))}if(!j.isResolved||!this._isDetailsVisible())return U;const{documentation:Y,detail:Q}=j.completion,Z=b.format("{0}{1}",Q||"",Y?typeof Y=="string"?Y:Y.value:"");return o.localize(211,"{0}, docs: {1}",U,Z)}}}),this._list.style((0,h.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:c.activeContrastBorder})),this._status=P.createInstance(s.SuggestWidgetStatus,this.element.domNode,l.suggestWidgetStatusbarMenu);const V=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(119).showStatusBar);V(),this._disposables.add(M.onDidColorThemeChange(j=>this._onThemeChange(j))),this._onThemeChange(M.getColorTheme()),this._disposables.add(this._list.onMouseDown(j=>this._onListMouseDownOrTap(j))),this._disposables.add(this._list.onTap(j=>this._onListMouseDownOrTap(j))),this._disposables.add(this._list.onDidChangeSelection(j=>this._onListSelection(j))),this._disposables.add(this._list.onDidChangeFocus(j=>this._onListFocus(j))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(j=>{j.hasChanged(119)&&(V(),H()),this._completionModel&&(j.hasChanged(50)||j.hasChanged(120)||j.hasChanged(121))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=l.Context.Visible.bindTo(R),this._ctxSuggestWidgetDetailsVisible=l.Context.DetailsVisible.bindTo(R),this._ctxSuggestWidgetMultipleSuggestions=l.Context.MultipleSuggestions.bindTo(R),this._ctxSuggestWidgetHasFocusedSuggestion=l.Context.HasFocusedSuggestion.bindTo(R),this._disposables.add(f.addStandardDisposableListener(this._details.widget.domNode,"keydown",j=>{this._onDetailsKeydown.fire(j)})),this._disposables.add(this.editor.onMouseDown(j=>this._onEditorMouseDown(j)))}dispose(){var N;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(N){this._details.widget.domNode.contains(N.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(N.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(N){typeof N.element>"u"||typeof N.index>"u"||(N.browserEvent.preventDefault(),N.browserEvent.stopPropagation(),this._select(N.element,N.index))}_onListSelection(N){N.elements.length&&this._select(N.elements[0],N.indexes[0])}_select(N,A){const R=this._completionModel;R&&(this._onDidSelect.fire({item:N,index:A,model:R}),this.editor.focus())}_onThemeChange(N){this._details.widget.borderWidth=(0,u.isHighContrast)(N.type)?2:1}_onListFocus(N){var A;if(this._ignoreFocusEvents)return;if(!N.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const R=N.elements[0],M=N.indexes[0];R!==this._focusedItem&&((A=this._currentSuggestionDetails)===null||A===void 0||A.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=R,this._list.reveal(M),this._currentSuggestionDetails=(0,E.createCancelablePromise)(async P=>{const x=(0,E.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),O=P.onCancellationRequested(()=>x.dispose());try{return await R.resolve(P)}finally{x.dispose(),O.dispose()}}),this._currentSuggestionDetails.then(()=>{M>=this._list.length||R!==this._list.element(M)||(this._ignoreFocusEvents=!0,this._list.splice(M,1,[R]),this._list.setFocus([M]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,p.getAriaId)(M)}))}).catch(I.onUnexpectedError)),this._onDidFocus.fire({item:R,index:M,model:this._completionModel})}_setState(N){if(this._state!==N)switch(this._state=N,this.element.domNode.classList.toggle("frozen",N===4),this.element.domNode.classList.remove("message"),N){case 0:f.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=C.LOADING_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,g.status)(C.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=C.NO_SUGGESTIONS_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,g.status)(C.NO_SUGGESTIONS_MESSAGE);break;case 3:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 4:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 5:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(N,A){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!N,this._isAuto||(this._loadingTimeout=(0,E.disposableTimeout)(()=>this._setState(1),A)))}showSuggestions(N,A,R,M,P){var x,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(x=this._loadingTimeout)===null||x===void 0||x.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==N&&(this._completionModel=N),R&&this._state!==2&&this._state!==0){this._setState(4);return}const B=this._completionModel.items.length,H=B===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(B>1),H){this._setState(M?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(R?4:3),this._list.reveal(A,0),this._list.setFocus(P?[]:[A])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,d.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(N){this._pendingShowDetails.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),N?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var N;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const A=this._persistedSize.restore(),R=Math.ceil(this.getLayoutInfo().itemHeight*4.3);A&&A.height<R&&this._persistedSize.store(A.with(void 0,R))}isFrozen(){return this._state===4}_afterRender(N){if(N===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(N){var A,R,M;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const P=f.getClientArea(this.element.domNode.ownerDocument.body),x=this.getLayoutInfo();N||(N=x.defaultSize);let O=N.height,B=N.width;if(this._status.element.style.height=`${x.itemHeight}px`,this._state===2||this._state===1)O=x.itemHeight+x.borderHeight,B=x.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new f.Dimension(B,O),this._contentWidget.setPreference(2);else{const H=P.width-x.borderHeight-2*x.horizontalPadding;B>H&&(B=H);const K=this._completionModel?this._completionModel.stats.pLabelLen*x.typicalHalfwidthCharacterWidth:B,V=x.statusBarHeight+this._list.contentHeight+x.borderHeight,j=x.itemHeight+x.statusBarHeight,U=f.getDomNodePagePosition(this.editor.getDomNode()),Y=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Q=U.top+Y.top+Y.height,Z=Math.min(P.height-Q-x.verticalPadding,V),G=U.top+Y.top-x.verticalPadding,F=Math.min(G,V);let J=Math.min(Math.max(F,Z)+x.borderHeight,V);O===((A=this._cappedHeight)===null||A===void 0?void 0:A.capped)&&(O=this._cappedHeight.wanted),O<j&&(O=j),O>J&&(O=J),O>Z||this._forceRenderingAbove&&G>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),J=F):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),J=Z),this.element.preferredSize=new f.Dimension(K,x.defaultSize.height),this.element.maxSize=new f.Dimension(H,J),this.element.minSize=new f.Dimension(220,j),this._cappedHeight=O===V?{wanted:(M=(R=this._cappedHeight)===null||R===void 0?void 0:R.wanted)!==null&&M!==void 0?M:N.height,capped:O}:void 0}this._resize(B,O)}_resize(N,A){const{width:R,height:M}=this.element.maxSize;N=Math.min(R,N),A=Math.min(M,A);const{statusBarHeight:P}=this.getLayoutInfo();this._list.layout(A-P,N),this._listElement.style.height=`${A-P}px`,this.element.layout(A,N),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var N;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((N=this._contentWidget.getPosition())===null||N===void 0?void 0:N.preference[0])===2)}getLayoutInfo(){const N=this.editor.getOption(50),A=(0,w.clamp)(this.editor.getOption(121)||N.lineHeight,8,1e3),R=!this.editor.getOption(119).showStatusBar||this._state===2||this._state===1?0:A,M=this._details.widget.borderWidth,P=2*M;return{itemHeight:A,statusBarHeight:R,borderWidth:M,borderHeight:P,typicalHalfwidthCharacterWidth:N.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new f.Dimension(430,R+12*A+P)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(N){this._storageService.store("expandSuggestionDocs",N,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=L,L.LOADING_MESSAGE=o.localize(205,"Loading..."),L.NO_SUGGESTIONS_MESSAGE=o.localize(206,"No suggestions."),e.SuggestWidget=L=C=ke([ge(1,n.IStorageService),ge(2,t.IContextKeyService),ge(3,r.IThemeService),ge(4,i.IInstantiationService)],L);class D{constructor(N,A){this._widget=N,this._editor=A,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:N,width:A}=this._widget.element.size,{borderWidth:R,horizontalPadding:M}=this._widget.getLayoutInfo();return new f.Dimension(A+2*R+M,N+2*R)}afterRender(N){this._widget._afterRender(N)}setPreference(N){this._preferenceLocked||(this._preference=N)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(N){this._position=N}}e.SuggestContentWidget=D}),define(re[423],ae([1,0,41,36,27,3,32,25,546]),function(le,e,f,k,E,I,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHighlightDecorationOptions=r,e.getSelectionHighlightDecorationOptions=a;const w=(0,y.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},I.localize(47,"Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,y.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},I.localize(48,"Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,y.registerColor)("editor.wordHighlightTextBackground",w,I.localize(49,"Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const b=(0,y.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},I.localize(50,"Border color of a symbol during read-access, like reading a variable."));(0,y.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},I.localize(51,"Border color of a symbol during write-access, like writing to a variable.")),(0,y.registerColor)("editor.wordHighlightTextBorder",b,I.localize(52,"Border color of a textual occurrence for a symbol."));const v=(0,y.registerColor)("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",I.localize(53,"Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),s=(0,y.registerColor)("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",I.localize(54,"Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),o=(0,y.registerColor)("editorOverviewRuler.wordHighlightTextForeground",y.overviewRulerSelectionHighlightForeground,I.localize(55,"Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),t=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,m.themeColorFromId)(s),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),i=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,m.themeColorFromId)(o),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),n=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,m.themeColorFromId)(y.overviewRulerSelectionHighlightForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),c=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),u=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,m.themeColorFromId)(v),position:f.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}});function r(l){return l===E.DocumentHighlightKind.Write?t:l===E.DocumentHighlightKind.Text?i:u}function a(l){return l?c:n}(0,m.registerThemingParticipant)((l,d)=>{const p=l.getColor(y.editorSelectionHighlight);p&&d.addRule(`.monaco-editor .selectionHighlight { background-color: ${p.transparent(.5)}; }`)})}),define(re[830],ae([1,0,47,14,70,2,15,246,5,23,20,421,3,29,12,17,423,7]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function a(V,j){const U=j.filter(Y=>!V.find(Q=>Q.equals(Y)));if(U.length>=1){const Y=U.map(Z=>`line ${Z.viewState.position.lineNumber} column ${Z.viewState.position.column}`).join(", "),Q=U.length===1?o.localize(377,"Cursor added: {0}",Y):o.localize(378,"Cursors added: {0}",Y);(0,f.status)(Q)}}class l extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:o.localize(379,"Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(380,"&&Add Cursor Above"),order:2}})}run(j,U,Y){if(!U.hasModel())return;let Q=!0;Y&&Y.logicalLine===!1&&(Q=!1);const Z=U._getViewModel();if(Z.cursorConfig.readOnly)return;Z.model.pushStackElement();const G=Z.getCursorStates();Z.setCursorStates(Y.source,3,m.CursorMoveCommands.addCursorUp(Z,G,Q)),Z.revealTopMostCursor(Y.source),a(G,Z.getCursorStates())}}e.InsertCursorAbove=l;class d extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:o.localize(381,"Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(382,"A&&dd Cursor Below"),order:3}})}run(j,U,Y){if(!U.hasModel())return;let Q=!0;Y&&Y.logicalLine===!1&&(Q=!1);const Z=U._getViewModel();if(Z.cursorConfig.readOnly)return;Z.model.pushStackElement();const G=Z.getCursorStates();Z.setCursorStates(Y.source,3,m.CursorMoveCommands.addCursorDown(Z,G,Q)),Z.revealBottomMostCursor(Y.source),a(G,Z.getCursorStates())}}e.InsertCursorBelow=d;class p extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.localize(383,"Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(384,"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(j,U,Y){if(!j.isEmpty()){for(let Q=j.startLineNumber;Q<j.endLineNumber;Q++){const Z=U.getLineMaxColumn(Q);Y.push(new b.Selection(Q,Z,Q,Z))}j.endColumn>1&&Y.push(new b.Selection(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn))}}run(j,U){if(!U.hasModel())return;const Y=U.getModel(),Q=U.getSelections(),Z=U._getViewModel(),G=Z.getCursorStates(),F=[];Q.forEach(J=>this.getCursorsForSelection(J,Y,F)),F.length>0&&U.setSelections(F),a(G,Z.getCursorStates())}}class h extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:o.localize(385,"Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(j,U){if(!U.hasModel())return;const Y=U.getSelections(),Q=U.getModel().getLineCount(),Z=[];for(let J=Y[0].startLineNumber;J<=Q;J++)Z.push(new b.Selection(J,Y[0].startColumn,J,Y[0].endColumn));const G=U._getViewModel(),F=G.getCursorStates();Z.length>0&&U.setSelections(Z),a(F,G.getCursorStates())}}class g extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:o.localize(386,"Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(j,U){if(!U.hasModel())return;const Y=U.getSelections(),Q=[];for(let F=Y[0].startLineNumber;F>=1;F--)Q.push(new b.Selection(F,Y[0].startColumn,F,Y[0].endColumn));const Z=U._getViewModel(),G=Z.getCursorStates();Q.length>0&&U.setSelections(Q),a(G,Z.getCursorStates())}}class C{constructor(j,U,Y){this.selections=j,this.revealRange=U,this.revealScrollType=Y}}e.MultiCursorSessionResult=C;class S{static create(j,U){if(!j.hasModel())return null;const Y=U.getState();if(!j.hasTextFocus()&&Y.isRevealed&&Y.searchString.length>0)return new S(j,U,!1,Y.searchString,Y.wholeWord,Y.matchCase,null);let Q=!1,Z,G;const F=j.getSelections();F.length===1&&F[0].isEmpty()?(Q=!0,Z=!0,G=!0):(Z=Y.wholeWord,G=Y.matchCase);const J=j.getSelection();let te,de=null;if(J.isEmpty()){const he=j.getConfiguredWordAtPosition(J.getStartPosition());if(!he)return null;te=he.word,de=new b.Selection(J.startLineNumber,he.startColumn,J.startLineNumber,he.endColumn)}else te=j.getModel().getValueInRange(J).replace(/\r\n/g,`
`);return new S(j,U,Q,te,Z,G,de)}constructor(j,U,Y,Q,Z,G,F){this._editor=j,this.findController=U,this.isDisconnectedFromFindController=Y,this.searchText=Q,this.wholeWord=Z,this.matchCase=G,this.currentMatch=F}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const U=this._editor.getSelections();return new C(U.concat(j),j,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const U=this._editor.getSelections();return new C(U.slice(0,U.length-1).concat(j),j,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Q=this.currentMatch;return this.currentMatch=null,Q}this.findController.highlightFindOptions();const j=this._editor.getSelections(),U=j[j.length-1],Y=this._editor.getModel().findNextMatch(this.searchText,U.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return Y?new b.Selection(Y.range.startLineNumber,Y.range.startColumn,Y.range.endLineNumber,Y.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const U=this._editor.getSelections();return new C(U.concat(j),j,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const U=this._editor.getSelections();return new C(U.slice(0,U.length-1).concat(j),j,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Q=this.currentMatch;return this.currentMatch=null,Q}this.findController.highlightFindOptions();const j=this._editor.getSelections(),U=j[j.length-1],Y=this._editor.getModel().findPreviousMatch(this.searchText,U.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return Y?new b.Selection(Y.range.startLineNumber,Y.range.startColumn,Y.range.endLineNumber,Y.range.endColumn):null}selectAll(j){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const U=this._editor.getModel();return j?U.findMatches(this.searchText,j,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824):U.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824)}}e.MultiCursorSession=S;class _ extends I.Disposable{static get(j){return j.getContribution(_.ID)}constructor(j){super(),this._sessionDispose=this._register(new I.DisposableStore),this._editor=j,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(j){if(!this._session){const U=S.create(this._editor,j);if(!U)return;this._session=U;const Y={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Y.wholeWordOverride=1,Y.matchCaseOverride=1,Y.isRegexOverride=2),j.getState().change(Y,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Q=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(j.getState().onFindReplaceStateChange(Q=>{(Q.matchCase||Q.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const j={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(j,!1)}this._session=null}_setSelections(j){this._ignoreSelectionChange=!0,this._editor.setSelections(j),this._ignoreSelectionChange=!1}_expandEmptyToWord(j,U){if(!U.isEmpty())return U;const Y=this._editor.getConfiguredWordAtPosition(U.getStartPosition());return Y?new b.Selection(U.startLineNumber,Y.startColumn,U.startLineNumber,Y.endColumn):U}_applySessionResult(j){j&&(this._setSelections(j.selections),j.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(j.revealRange,j.revealScrollType))}getSession(j){return this._session}addSelectionToNextFindMatch(j){if(this._editor.hasModel()){if(!this._session){const U=this._editor.getSelections();if(U.length>1){const Q=j.getState().matchCase;if(!O(this._editor.getModel(),U,Q)){const G=this._editor.getModel(),F=[];for(let J=0,te=U.length;J<te;J++)F[J]=this._expandEmptyToWord(G,U[J]);this._editor.setSelections(F);return}}}this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(j){if(!this._editor.hasModel())return;let U=null;const Y=j.getState();if(Y.isRevealed&&Y.searchString.length>0&&Y.isRegex){const Q=this._editor.getModel();Y.searchScope?U=Q.findMatches(Y.searchString,Y.searchScope,Y.isRegex,Y.matchCase,Y.wholeWord?this._editor.getOption(132):null,!1,1073741824):U=Q.findMatches(Y.searchString,!0,Y.isRegex,Y.matchCase,Y.wholeWord?this._editor.getOption(132):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(j),!this._session)return;U=this._session.selectAll(Y.searchScope)}if(U.length>0){const Q=this._editor.getSelection();for(let Z=0,G=U.length;Z<G;Z++){const F=U[Z];if(F.range.intersectRanges(Q)){U[Z]=U[0],U[0]=F;break}}this._setSelections(U.map(Z=>new b.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn)))}}}e.MultiCursorSelectionController=_,_.ID="editor.contrib.multiCursorController";class L extends y.EditorAction{run(j,U){const Y=_.get(U);if(!Y)return;const Q=U._getViewModel();if(Q){const Z=Q.getCursorStates(),G=s.CommonFindController.get(U);if(G)this._run(Y,G);else{const F=j.get(u.IInstantiationService).createInstance(s.CommonFindController,U);this._run(Y,F),F.dispose()}a(Z,Q.getCursorStates())}}}e.MultiCursorSelectionControllerAction=L;class D extends L{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:o.localize(387,"Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(388,"Add &&Next Occurrence"),order:5}})}_run(j,U){j.addSelectionToNextFindMatch(U)}}e.AddSelectionToNextFindMatchAction=D;class T extends L{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:o.localize(389,"Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(390,"Add P&&revious Occurrence"),order:6}})}_run(j,U){j.addSelectionToPreviousFindMatch(U)}}e.AddSelectionToPreviousFindMatchAction=T;class N extends L{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:o.localize(391,"Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:(0,E.KeyChord)(2089,2082),weight:100}})}_run(j,U){j.moveSelectionToNextFindMatch(U)}}e.MoveSelectionToNextFindMatchAction=N;class A extends L{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:o.localize(392,"Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(j,U){j.moveSelectionToPreviousFindMatch(U)}}e.MoveSelectionToPreviousFindMatchAction=A;class R extends L{constructor(){super({id:"editor.action.selectHighlights",label:o.localize(393,"Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(394,"Select All &&Occurrences"),order:7}})}_run(j,U){j.selectAll(U)}}e.SelectHighlightsAction=R;class M extends L{constructor(){super({id:"editor.action.changeAll",label:o.localize(395,"Change All Occurrences"),alias:"Change All Occurrences",precondition:i.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(j,U){j.selectAll(U)}}e.CompatChangeAll=M;class P{constructor(j,U,Y,Q,Z){this._model=j,this._searchText=U,this._matchCase=Y,this._wordSeparators=Q,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Z&&this._model===Z._model&&this._searchText===Z._searchText&&this._matchCase===Z._matchCase&&this._wordSeparators===Z._wordSeparators&&this._modelVersionId===Z._modelVersionId&&(this._cachedFindMatches=Z._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(j=>j.range),this._cachedFindMatches.sort(w.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let x=r=class extends I.Disposable{constructor(j,U){super(),this._languageFeaturesService=U,this.editor=j,this._isEnabled=j.getOption(109),this._decorations=j.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(j.onDidChangeConfiguration(Q=>{this._isEnabled=j.getOption(109)})),this._register(j.onDidChangeCursorSelection(Q=>{this._isEnabled&&(Q.selection.isEmpty()?Q.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(j.onDidChangeModel(Q=>{this._setState(null)})),this._register(j.onDidChangeModelContent(Q=>{this._isEnabled&&this.updateSoon.schedule()}));const Y=s.CommonFindController.get(j);Y&&this._register(Y.getState().onFindReplaceStateChange(Q=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(r._createState(this.state,this._isEnabled,this.editor))}static _createState(j,U,Y){if(!U||!Y.hasModel())return null;const Q=Y.getSelection();if(Q.startLineNumber!==Q.endLineNumber)return null;const Z=_.get(Y);if(!Z)return null;const G=s.CommonFindController.get(Y);if(!G)return null;let F=Z.getSession(G);if(!F){const de=Y.getSelections();if(de.length>1){const pe=G.getState().matchCase;if(!O(Y.getModel(),de,pe))return null}F=S.create(Y,G)}if(!F||F.currentMatch||/^[ \t]+$/.test(F.searchText)||F.searchText.length>200)return null;const J=G.getState(),te=J.matchCase;if(J.isRevealed){let de=J.searchString;te||(de=de.toLowerCase());let he=F.searchText;if(te||(he=he.toLowerCase()),de===he&&F.matchCase===J.matchCase&&F.wholeWord===J.wholeWord&&!J.isRegex)return null}return new P(Y.getModel(),F.searchText,F.matchCase,F.wholeWord?Y.getOption(132):null,j)}_setState(j){if(this.state=j,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const U=this.editor.getModel();if(U.isTooLargeForTokenization())return;const Y=this.state.findMatches(),Q=this.editor.getSelections();Q.sort(w.Range.compareRangesUsingStarts);const Z=[];for(let te=0,de=0,he=Y.length,pe=Q.length;te<he;){const ue=Y[te];if(de>=pe)Z.push(ue),te++;else{const ie=w.Range.compareRangesUsingStarts(ue,Q[de]);ie<0?((Q[de].isEmpty()||!w.Range.areIntersecting(ue,Q[de]))&&Z.push(ue),te++):(ie>0||te++,de++)}}const G=this.editor.getOption(81)!=="off",F=this._languageFeaturesService.documentHighlightProvider.has(U)&&G,J=Z.map(te=>({range:te,options:(0,c.getSelectionHighlightDecorationOptions)(F)}));this._decorations.set(J)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=x,x.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=x=r=ke([ge(1,n.ILanguageFeaturesService)],x);function O(V,j,U){const Y=B(V,j[0],!U);for(let Q=1,Z=j.length;Q<Z;Q++){const G=j[Q];if(G.isEmpty())return!1;const F=B(V,G,!U);if(Y!==F)return!1}return!0}function B(V,j,U){const Y=V.getValueInRange(j);return U?Y.toLowerCase():Y}class H extends y.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:o.localize(396,"Focus Next Cursor"),metadata:{description:o.localize(397,"Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(j,U,Y){if(!U.hasModel())return;const Q=U._getViewModel();if(Q.cursorConfig.readOnly)return;Q.model.pushStackElement();const Z=Array.from(Q.getCursorStates()),G=Z.shift();G&&(Z.push(G),Q.setCursorStates(Y.source,3,Z),Q.revealPrimaryCursor(Y.source,!0),a(Z,Q.getCursorStates()))}}e.FocusNextCursor=H;class K extends y.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:o.localize(398,"Focus Previous Cursor"),metadata:{description:o.localize(399,"Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(j,U,Y){if(!U.hasModel())return;const Q=U._getViewModel();if(Q.cursorConfig.readOnly)return;Q.model.pushStackElement();const Z=Array.from(Q.getCursorStates()),G=Z.pop();G&&(Z.unshift(G),Q.setCursorStates(Y.source,3,Z),Q.revealPrimaryCursor(Y.source,!0),a(Z,Q.getCursorStates()))}}e.FocusPreviousCursor=K,(0,y.registerEditorContribution)(_.ID,_,4),(0,y.registerEditorContribution)(x.ID,x,1),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(p),(0,y.registerEditorAction)(D),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(H),(0,y.registerEditorAction)(K)}),define(re[831],ae([1,0,3,13,47,14,18,8,2,170,15,35,5,20,27,41,17,423,12,46,44,333]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d){"use strict";var p,h;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=void 0,e.getOccurrencesAtPosition=C,e.getOccurrencesAcrossMultipleModels=S;const g=new r.RawContextKey("hasWordHighlights",!1);function C(H,K,V,j){const U=H.ordered(K);return(0,I.first)(U.map(Y=>()=>Promise.resolve(Y.provideDocumentHighlights(K,V,j)).then(void 0,m.onUnexpectedExternalError)),k.isNonEmptyArray).then(Y=>{if(Y){const Q=new l.ResourceMap;return Q.set(K.uri,Y),Q}return new l.ResourceMap})}function S(H,K,V,j,U,Y){const Q=H.ordered(K);return(0,I.first)(Q.map(Z=>()=>{const G=Y.filter(F=>(0,n.shouldSynchronizeModel)(F)).filter(F=>(0,d.score)(Z.selector,F.uri,F.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(Z.provideMultiDocumentHighlights(K,V,G,U)).then(void 0,m.onUnexpectedExternalError)}),Z=>Z instanceof l.ResourceMap&&Z.size>0)}class _{constructor(K,V,j){this._model=K,this._selection=V,this._wordSeparators=j,this._wordRange=this._getCurrentWordRange(K,V),this._result=null}get result(){return this._result||(this._result=(0,I.createCancelablePromise)(K=>this._compute(this._model,this._selection,this._wordSeparators,K))),this._result}_getCurrentWordRange(K,V){const j=K.getWordAtPosition(V.getPosition());return j?new o.Range(V.startLineNumber,j.startColumn,V.startLineNumber,j.endColumn):null}isValid(K,V,j){const U=V.startLineNumber,Y=V.startColumn,Q=V.endColumn,Z=this._getCurrentWordRange(K,V);let G=!!(this._wordRange&&this._wordRange.equalsRange(Z));for(let F=0,J=j.length;!G&&F<J;F++){const te=j.getRange(F);te&&te.startLineNumber===U&&te.startColumn<=Y&&te.endColumn>=Q&&(G=!0)}return G}cancel(){this.result.cancel()}}class L extends _{constructor(K,V,j,U){super(K,V,j),this._providers=U}_compute(K,V,j,U){return C(this._providers,K,V.getPosition(),U).then(Y=>Y||new l.ResourceMap)}}class D extends _{constructor(K,V,j,U,Y){super(K,V,j),this._providers=U,this._otherModels=Y}_compute(K,V,j,U){return S(this._providers,K,V.getPosition(),j,U,this._otherModels).then(Y=>Y||new l.ResourceMap)}}class T extends _{constructor(K,V,j,U,Y){super(K,V,U),this._otherModels=Y,this._selectionIsEmpty=V.isEmpty(),this._word=j}_compute(K,V,j,U){return(0,I.timeout)(250,U).then(()=>{const Y=new l.ResourceMap;let Q;if(this._word?Q=this._word:Q=K.getWordAtPosition(V.getPosition()),!Q)return new l.ResourceMap;const Z=[K,...this._otherModels];for(const G of Z){if(G.isDisposed())continue;const J=G.findMatches(Q.word,!0,!1,!0,j,!1).map(te=>({range:te.range,kind:i.DocumentHighlightKind.Text}));J&&Y.set(G.uri,J)}return Y})}isValid(K,V,j){const U=V.isEmpty();return this._selectionIsEmpty!==U?!1:super.isValid(K,V,j)}}function N(H,K,V,j,U){return H.has(K)?new L(K,V,U,H):new T(K,V,j,U,[])}function A(H,K,V,j,U,Y){return H.has(K)?new D(K,V,U,H,Y):new T(K,V,j,U,Y)}(0,v.registerModelAndPositionCommand)("_executeDocumentHighlights",async(H,K,V)=>{const j=H.get(c.ILanguageFeaturesService),U=await C(j.documentHighlightProvider,K,V,y.CancellationToken.None);return U?.get(K.uri)});let R=p=class{constructor(K,V,j,U,Y){this.toUnhook=new w.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new l.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=K,this.providers=V,this.multiDocumentProviders=j,this.codeEditorService=Y,this._hasWordHighlights=g.bindTo(U),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(K.onDidChangeCursorPosition(Q=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(Q)})),this.toUnhook.add(K.onDidFocusEditorText(Q=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(K.onDidChangeModelContent(Q=>{this._stopAll()})),this.toUnhook.add(K.onDidChangeModel(Q=>{!Q.newModelUrl&&Q.oldModelUrl?this._stopSingular():p.query&&this._run()})),this.toUnhook.add(K.onDidChangeConfiguration(Q=>{const Z=this.editor.getOption(81);this.occurrencesHighlight!==Z&&(this.occurrencesHighlight=Z,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,p.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(o.Range.compareRangesUsingStarts)}moveNext(){const K=this._getSortedHighlights(),j=(K.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))+1)%K.length,U=K[j];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const Y=this._getWord();if(Y){const Q=this.editor.getModel().getLineContent(U.startLineNumber);(0,E.alert)(`${Q}, ${j+1} of ${K.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const K=this._getSortedHighlights(),j=(K.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))-1+K.length)%K.length,U=K[j];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const Y=this._getWord();if(Y){const Q=this.editor.getModel().getLineContent(U.startLineNumber);(0,E.alert)(`${Q}, ${j+1} of ${K.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const K=p.storedDecorations.get(this.editor.getModel().uri);K&&(this.editor.removeDecorations(K),p.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const K=this.codeEditorService.listCodeEditors(),V=[];for(const j of K){if(!j.hasModel())continue;const U=p.storedDecorations.get(j.getModel().uri);if(!U)continue;j.removeDecorations(U),V.push(j.getModel().uri);const Y=M.get(j);Y?.wordHighlighter&&Y.wordHighlighter.decorations.length>0&&(Y.wordHighlighter.decorations.clear(),Y.wordHighlighter.workerRequest=null,Y.wordHighlighter._hasWordHighlights.set(!1))}for(const j of V)p.storedDecorations.delete(j)}_stopSingular(){var K,V,j,U;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((K=this.editor.getModel())===null||K===void 0?void 0:K.uri.scheme)!==a.Schemas.vscodeNotebookCell&&((j=(V=p.query)===null||V===void 0?void 0:V.modelInfo)===null||j===void 0?void 0:j.model.uri.scheme)!==a.Schemas.vscodeNotebookCell?(p.query=null,this._run()):!((U=p.query)===null||U===void 0)&&U.modelInfo&&(p.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(K){var V;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(K.reason!==3&&((V=this.editor.getModel())===null||V===void 0?void 0:V.uri.scheme)!==a.Schemas.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const K=this.editor.getSelection(),V=K.startLineNumber,j=K.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:V,column:j})}getOtherModelsToHighlight(K){if(!K)return[];if(K.uri.scheme===a.Schemas.vscodeNotebookCell){const Y=[],Q=this.codeEditorService.listCodeEditors();for(const Z of Q){const G=Z.getModel();G&&G!==K&&G.uri.scheme===a.Schemas.vscodeNotebookCell&&Y.push(G)}return Y}const j=[],U=this.codeEditorService.listCodeEditors();for(const Y of U){if(!(0,b.isDiffEditor)(Y))continue;const Q=Y.getModel();Q&&K===Q.modified&&j.push(Q.modified)}if(j.length)return j;if(this.occurrencesHighlight==="singleFile")return[];for(const Y of U){const Q=Y.getModel();Q&&Q!==K&&j.push(Q)}return j}_run(){var K;let V;if(this.editor.hasTextFocus()){const U=this.editor.getSelection();if(!U||U.startLineNumber!==U.endLineNumber){p.query=null,this._stopAll();return}const Y=U.startColumn,Q=U.endColumn,Z=this._getWord();if(!Z||Z.startColumn>Y||Z.endColumn<Q){p.query=null,this._stopAll();return}V=this.workerRequest&&this.workerRequest.isValid(this.model,U,this.decorations),p.query={modelInfo:{model:this.model,selection:U},word:Z}}else if(!p.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),V)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const U=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const Y=this.getOtherModelsToHighlight(this.editor.getModel());if(!p.query.modelInfo||p.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(p.query.modelInfo.model,p.query.modelInfo.selection,p.query.word,Y),(K=this.workerRequest)===null||K===void 0||K.result.then(Q=>{U===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Q||[],this._beginRenderDecorations())},m.onUnexpectedError)}}computeWithModel(K,V,j,U){return U.length?A(this.multiDocumentProviders,K,V,j,this.editor.getOption(132),U):N(this.providers,K,V,j,this.editor.getOption(132))}_beginRenderDecorations(){const K=new Date().getTime(),V=this.lastCursorPositionChangeTime+250;K>=V?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},V-K)}renderDecorations(){var K,V,j;this.renderDecorationsTimer=-1;const U=this.codeEditorService.listCodeEditors();for(const Y of U){const Q=M.get(Y);if(!Q)continue;const Z=[],G=(K=Y.getModel())===null||K===void 0?void 0:K.uri;if(G&&this.workerRequestValue.has(G)){const F=p.storedDecorations.get(G),J=this.workerRequestValue.get(G);if(J)for(const de of J)de.range&&Z.push({range:de.range,options:(0,u.getHighlightDecorationOptions)(de.kind)});let te=[];Y.changeDecorations(de=>{te=de.deltaDecorations(F??[],Z)}),p.storedDecorations=p.storedDecorations.set(G,te),Z.length>0&&((V=Q.wordHighlighter)===null||V===void 0||V.decorations.set(Z),(j=Q.wordHighlighter)===null||j===void 0||j._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};R.storedDecorations=new l.ResourceMap,R.query=null,R=p=ke([ge(4,s.ICodeEditorService)],R);let M=h=class extends w.Disposable{static get(K){return K.getContribution(h.ID)}constructor(K,V,j,U){super(),this._wordHighlighter=null;const Y=()=>{K.hasModel()&&!K.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new R(K,j.documentHighlightProvider,j.multiDocumentHighlightProvider,V,U))};this._register(K.onDidChangeModel(Q=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),Y()})),Y()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveNext()}moveBack(){var K;(K=this._wordHighlighter)===null||K===void 0||K.moveBack()}restoreViewState(K){this._wordHighlighter&&K&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=M,M.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=M=h=ke([ge(1,r.IContextKeyService),ge(2,c.ILanguageFeaturesService),ge(3,s.ICodeEditorService)],M);class P extends v.EditorAction{constructor(K,V){super(V),this._isNext=K}run(K,V){const j=M.get(V);j&&(this._isNext?j.moveNext():j.moveBack())}}class x extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:f.localize(44,"Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:g,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:f.localize(45,"Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:g,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class B extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:f.localize(46,"Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:g.toNegated(),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(K,V,j){const U=M.get(V);U&&U.restoreViewState(!0)}}(0,v.registerEditorContribution)(M.ID,M,0),(0,v.registerEditorAction)(x),(0,v.registerEditorAction)(O),(0,v.registerEditorAction)(B)}),define(re[832],ae([1,0,4,162,33,187,2,54,5,36,547]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const v=new E.Color(new E.RGBA(0,122,204)),s={showArrow:!0,showFrame:!0,className:"",frameColor:v,arrowColor:v,keepEditorSelection:!1},o="vs.editor.contrib.zoneWidget";class t{constructor(r,a,l,d,p,h,g,C){this.id="",this.domNode=r,this.afterLineNumber=a,this.afterColumn=l,this.heightInLines=d,this.showInHiddenAreas=g,this.ordinal=C,this._onDomNodeTop=p,this._onComputedHeight=h}onDomNodeTop(r){this._onDomNodeTop(r)}onComputedHeight(r){this._onComputedHeight(r)}}class i{constructor(r,a){this._id=r,this._domNode=a}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=i;class n{constructor(r){this._editor=r,this._ruleName=n._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),f.removeCSSRulesContainingSelector(this._ruleName)}set color(r){this._color!==r&&(this._color=r,this._updateStyle())}set height(r){this._height!==r&&(this._height=r,this._updateStyle())}_updateStyle(){f.removeCSSRulesContainingSelector(this._ruleName),f.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(r){r.column===1&&(r={lineNumber:r.lineNumber,column:2}),this._decorations.set([{range:w.Range.fromPositions(r),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}n._IdGenerator=new I.IdGenerator(".arrow-decoration-");class c{constructor(r,a={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new y.DisposableStore,this.container=null,this._isShowing=!1,this.editor=r,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=m.deepClone(a),m.mixin(this.options,s,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const d=this._getWidth(l);this.domNode.style.width=d+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(d)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(r=>{this._viewZone&&r.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new n(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(r){r.frameColor&&(this.options.frameColor=r.frameColor),r.arrowColor&&(this.options.arrowColor=r.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const r=this.options.frameColor.toString();this.container.style.borderTopColor=r,this.container.style.borderBottomColor=r}if(this._arrow&&this.options.arrowColor){const r=this.options.arrowColor.toString();this._arrow.color=r}}_getWidth(r){return r.width-r.minimap.minimapWidth-r.verticalScrollbarWidth}_getLeft(r){return r.minimap.minimapWidth>0&&r.minimap.minimapLeft===0?r.minimap.minimapWidth:0}_onViewZoneTop(r){this.domNode.style.top=r+"px"}_onViewZoneHeight(r){var a;if(this.domNode.style.height=`${r}px`,this.container){const l=r-this._decoratingElementsHeight();this.container.style.height=`${l}px`;const d=this.editor.getLayoutInfo();this._doLayout(l,this._getWidth(d))}(a=this._resizeSash)===null||a===void 0||a.layout()}get position(){const r=this._positionMarkerId.getRange(0);if(r)return r.getStartPosition()}show(r,a){const l=w.Range.isIRange(r)?w.Range.lift(r):w.Range.fromPositions(r);this._isShowing=!0,this._showImpl(l,a),this._isShowing=!1,this._positionMarkerId.set([{range:l,options:b.ModelDecorationOptions.EMPTY}])}hide(){var r;this._viewZone&&(this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(r=this._arrow)===null||r===void 0||r.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const r=this.editor.getOption(67);let a=0;if(this.options.showArrow){const l=Math.round(r/3);a+=2*l}if(this.options.showFrame){const l=Math.round(r/9);a+=2*l}return a}_showImpl(r,a){const l=r.getStartPosition(),d=this.editor.getLayoutInfo(),p=this._getWidth(d);this.domNode.style.width=`${p}px`,this.domNode.style.left=this._getLeft(d)+"px";const h=document.createElement("div");h.style.overflow="hidden";const g=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const D=Math.max(12,this.editor.getLayoutInfo().height/g*.8);a=Math.min(a,D)}let C=0,S=0;if(this._arrow&&this.options.showArrow&&(C=Math.round(g/3),this._arrow.height=C,this._arrow.show(l)),this.options.showFrame&&(S=Math.round(g/9)),this.editor.changeViewZones(D=>{this._viewZone&&D.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new t(h,l.lineNumber,l.column,a,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=D.addZone(this._viewZone),this._overlayWidget=new i(o+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const D=this.options.frameWidth?this.options.frameWidth:S;this.container.style.borderTopWidth=D+"px",this.container.style.borderBottomWidth=D+"px"}const _=a*g-this._decoratingElementsHeight();this.container&&(this.container.style.top=C+"px",this.container.style.height=_+"px",this.container.style.overflow="hidden"),this._doLayout(_,p),this.options.keepEditorSelection||this.editor.setSelection(r);const L=this.editor.getModel();if(L){const D=L.validateRange(new w.Range(r.startLineNumber,1,r.endLineNumber+1,1));this.revealRange(D,D.startLineNumber===L.getLineCount())}}revealRange(r,a){a?this.editor.revealLineNearTop(r.endLineNumber,0):this.editor.revealRange(r,0)}setCssClass(r,a){this.container&&(a&&this.container.classList.remove(a),this.container.classList.add(r))}_onWidth(r){}_doLayout(r,a){}_relayout(r){this._viewZone&&this._viewZone.heightInLines!==r&&this.editor.changeViewZones(a=>{this._viewZone&&(this._viewZone.heightInLines=r,a.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let r;this._disposables.add(this._resizeSash.onDidStart(a=>{this._viewZone&&(r={startY:a.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{r=void 0})),this._disposables.add(this._resizeSash.onDidChange(a=>{if(r){const l=(a.currentY-r.startY)/this.editor.getOption(67),d=l<0?Math.ceil(l):Math.floor(l),p=r.heightInLines+d;p>5&&p<35&&this._relayout(p)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const r=this.editor.getLayoutInfo();return r.width-r.minimap.minimapWidth}}e.ZoneWidget=c}),define(re[154],ae([1,0,4,87,40,26,30,33,6,54,15,35,136,832,3,123,12,48,7,32,537]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.PeekContext=e.IPeekViewService=void 0,e.getOuterEditor=p,e.IPeekViewService=(0,r.createDecorator)("IPeekViewService"),(0,u.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(C,S){const _=this._widgets.get(C);_&&(_.listener.dispose(),_.widget.dispose());const L=()=>{const D=this._widgets.get(C);D&&D.widget===S&&(D.listener.dispose(),this._widgets.delete(C))};this._widgets.set(C,{widget:S,listener:S.onDidClose(L)})}},1);var l;(function(C){C.inPeekEditor=new c.RawContextKey("inReferenceSearchEditor",!0,i.localize(353,"Whether the current code editor is embedded inside peek")),C.notInPeekEditor=C.inPeekEditor.toNegated()})(l||(e.PeekContext=l={}));let d=class{constructor(S,_){S instanceof o.EmbeddedCodeEditorWidget&&l.inPeekEditor.bindTo(_)}dispose(){}};d.ID="editor.contrib.referenceController",d=ke([ge(1,c.IContextKeyService)],d),(0,v.registerEditorContribution)(d.ID,d,0);function p(C){const S=C.get(s.ICodeEditorService).getFocusedCodeEditor();return S instanceof o.EmbeddedCodeEditorWidget?S.getParentEditor():S}const h={headerBackgroundColor:m.Color.white,primaryHeadingColor:m.Color.fromHex("#333333"),secondaryHeadingColor:m.Color.fromHex("#6c6c6cb3")};let g=class extends t.ZoneWidget{constructor(S,_,L){super(S,_),this.instantiationService=L,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,b.mixin(this.options,h,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(S){const _=this.options;S.headerBackgroundColor&&(_.headerBackgroundColor=S.headerBackgroundColor),S.primaryHeadingColor&&(_.primaryHeadingColor=S.primaryHeadingColor),S.secondaryHeadingColor&&(_.secondaryHeadingColor=S.secondaryHeadingColor),super.style(S)}_applyStyles(){super._applyStyles();const S=this.options;this._headElement&&S.headerBackgroundColor&&(this._headElement.style.backgroundColor=S.headerBackgroundColor.toString()),this._primaryHeading&&S.primaryHeadingColor&&(this._primaryHeading.style.color=S.primaryHeadingColor.toString()),this._secondaryHeading&&S.secondaryHeadingColor&&(this._secondaryHeading.style.color=S.secondaryHeadingColor.toString()),this._bodyElement&&S.frameColor&&(this._bodyElement.style.borderColor=S.frameColor.toString())}_fillContainer(S){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),S.appendChild(this._headElement),S.appendChild(this._bodyElement)}_fillHead(S,_){this._titleElement=f.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),f.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),f.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const L=f.$(".peekview-actions");f.append(this._headElement,L);const D=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(L,D),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new E.Action("peekview.close",i.localize(354,"Close"),y.ThemeIcon.asClassName(I.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(S){}_getActionBarOptions(){return{actionViewItemProvider:n.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(S){}setTitle(S,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=S,this._primaryHeading.setAttribute("title",S),_?this._secondaryHeading.innerText=_:f.clearNode(this._secondaryHeading))}setMetaTitle(S){this._metaHeading&&(S?(this._metaHeading.innerText=S,f.show(this._metaHeading)):f.hide(this._metaHeading))}_doLayout(S,_){if(!this._isShowing&&S<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(67)*1.2),D=Math.round(S-(L+2));this._doLayoutHead(L,_),this._doLayoutBody(D,_)}_doLayoutHead(S,_){this._headElement&&(this._headElement.style.height=`${S}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(S,_){this._bodyElement&&(this._bodyElement.style.height=`${S}px`)}};e.PeekViewWidget=g,e.PeekViewWidget=g=ke([ge(2,r.IInstantiationService)],g),e.peekViewTitleBackground=(0,a.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},i.localize(355,"Background color of the peek view title area.")),e.peekViewTitleForeground=(0,a.registerColor)("peekViewTitleLabel.foreground",{dark:m.Color.white,light:m.Color.black,hcDark:m.Color.white,hcLight:a.editorForeground},i.localize(356,"Color of the peek view title.")),e.peekViewTitleInfoForeground=(0,a.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},i.localize(357,"Color of the peek view title info.")),e.peekViewBorder=(0,a.registerColor)("peekView.border",{dark:a.editorInfoForeground,light:a.editorInfoForeground,hcDark:a.contrastBorder,hcLight:a.contrastBorder},i.localize(358,"Color of the peek view borders and arrow.")),e.peekViewResultsBackground=(0,a.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},i.localize(359,"Background color of the peek view result list.")),e.peekViewResultsMatchForeground=(0,a.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:m.Color.white,hcLight:a.editorForeground},i.localize(360,"Foreground color for line nodes in the peek view result list.")),e.peekViewResultsFileForeground=(0,a.registerColor)("peekViewResult.fileForeground",{dark:m.Color.white,light:"#1E1E1E",hcDark:m.Color.white,hcLight:a.editorForeground},i.localize(361,"Foreground color for file nodes in the peek view result list.")),e.peekViewResultsSelectionBackground=(0,a.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},i.localize(362,"Background color of the selected entry in the peek view result list.")),e.peekViewResultsSelectionForeground=(0,a.registerColor)("peekViewResult.selectionForeground",{dark:m.Color.white,light:"#6C6C6C",hcDark:m.Color.white,hcLight:a.editorForeground},i.localize(363,"Foreground color of the selected entry in the peek view result list.")),e.peekViewEditorBackground=(0,a.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:m.Color.black,hcLight:m.Color.white},i.localize(364,"Background color of the peek view editor.")),e.peekViewEditorGutterBackground=(0,a.registerColor)("peekViewEditorGutter.background",e.peekViewEditorBackground,i.localize(365,"Background color of the gutter in the peek view editor.")),e.peekViewEditorStickyScrollBackground=(0,a.registerColor)("peekViewEditorStickyScroll.background",e.peekViewEditorBackground,i.localize(366,"Background color of sticky scroll in the peek view editor.")),e.peekViewResultsMatchHighlight=(0,a.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},i.localize(367,"Match highlight color in the peek view result list.")),e.peekViewEditorMatchHighlight=(0,a.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},i.localize(368,"Match highlight color in the peek view editor.")),e.peekViewEditorMatchHighlightBorder=(0,a.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:a.activeContrastBorder,hcLight:a.activeContrastBorder},i.localize(369,"Match highlight border in the peek view editor."))}),define(re[833],ae([1,0,4,85,13,33,6,2,50,11,5,154,3,123,29,12,7,180,107,62,715,32,25,523]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class g{constructor(O,B,H,K,V){this._openerService=K,this._labelService=V,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new m.DisposableStore,this._editor=B;const j=document.createElement("div");j.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),j.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),j.appendChild(this._relatedBlock),this._disposables.add(f.addStandardDisposableListener(this._relatedBlock,"click",U=>{U.preventDefault();const Y=this._relatedDiagnostics.get(U.target);Y&&H(Y)})),this._scrollable=new k.ScrollableElement(j,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),O.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(U=>{j.style.left=`-${U.scrollLeft}px`,j.style.top=`-${U.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,m.dispose)(this._disposables)}update(O){const{source:B,message:H,relatedInformation:K,code:V}=O;let j=(B?.length||0)+2;V&&(typeof V=="string"?j+=V.length:j+=V.value.length);const U=(0,b.splitLines)(H);this._lines=U.length,this._longestLineLength=0;for(const F of U)this._longestLineLength=Math.max(F.length+j,this._longestLineLength);f.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(O)),this._editor.applyFontInfo(this._messageBlock);let Y=this._messageBlock;for(const F of U)Y=document.createElement("div"),Y.innerText=F,F===""&&(Y.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Y);if(B||V){const F=document.createElement("span");if(F.classList.add("details"),Y.appendChild(F),B){const J=document.createElement("span");J.innerText=B,J.classList.add("source"),F.appendChild(J)}if(V)if(typeof V=="string"){const J=document.createElement("span");J.innerText=`(${V})`,J.classList.add("code"),F.appendChild(J)}else{this._codeLink=f.$("a.code-link"),this._codeLink.setAttribute("href",`${V.target.toString()}`),this._codeLink.onclick=te=>{this._openerService.open(V.target,{allowCommands:!0}),te.preventDefault(),te.stopPropagation()};const J=f.append(this._codeLink,f.$("span"));J.innerText=V.value,F.appendChild(this._codeLink)}}if(f.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.isNonEmptyArray)(K)){const F=this._relatedBlock.appendChild(document.createElement("div"));F.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const J of K){const te=document.createElement("div"),de=document.createElement("a");de.classList.add("filename"),de.innerText=`${this._labelService.getUriBasenameLabel(J.resource)}(${J.startLineNumber}, ${J.startColumn}): `,de.title=this._labelService.getUriLabel(J.resource),this._relatedDiagnostics.set(de,J);const he=document.createElement("span");he.innerText=J.message,te.appendChild(de),te.appendChild(he),this._lines+=1,F.appendChild(te)}}const Q=this._editor.getOption(50),Z=Math.ceil(Q.typicalFullwidthCharacterWidth*this._longestLineLength*.75),G=Q.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Z,scrollHeight:G})}layout(O,B){this._scrollable.getDomNode().style.height=`${O}px`,this._scrollable.getDomNode().style.width=`${B}px`,this._scrollable.setScrollDimensions({width:B,height:O})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(O){let B="";switch(O.severity){case r.MarkerSeverity.Error:B=o.localize(527,"Error");break;case r.MarkerSeverity.Warning:B=o.localize(528,"Warning");break;case r.MarkerSeverity.Info:B=o.localize(529,"Info");break;case r.MarkerSeverity.Hint:B=o.localize(530,"Hint");break}let H=o.localize(531,"{0} at {1}. ",B,O.startLineNumber+":"+O.startColumn);const K=this._editor.getModel();return K&&O.startLineNumber<=K.getLineCount()&&O.startLineNumber>=1&&(H=`${K.getLineContent(O.startLineNumber)}, ${H}`),H}}let C=h=class extends s.PeekViewWidget{constructor(O,B,H,K,V,j,U){super(O,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},V),this._themeService=B,this._openerService=H,this._menuService=K,this._contextKeyService=j,this._labelService=U,this._callOnDispose=new m.DisposableStore,this._onDidSelectRelatedInformation=new y.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=r.MarkerSeverity.Warning,this._backgroundColor=I.Color.white,this._applyTheme(B.getColorTheme()),this._callOnDispose.add(B.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(O){this._backgroundColor=O.getColor(P);let B=D,H=T;this._severity===r.MarkerSeverity.Warning?(B=N,H=A):this._severity===r.MarkerSeverity.Info&&(B=R,H=M);const K=O.getColor(B),V=O.getColor(H);this.style({arrowColor:K,frameColor:K,headerBackgroundColor:V,primaryHeadingColor:O.getColor(s.peekViewTitleForeground),secondaryHeadingColor:O.getColor(s.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(O){super._fillHead(O),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(K=>this.editor.focus()));const B=[],H=this._menuService.createMenu(h.TitleMenu,this._contextKeyService);(0,t.createAndFillInActionBarActions)(H,void 0,B),this._actionbarWidget.push(B,{label:!1,icon:!0,index:0}),H.dispose()}_fillTitleIcon(O){this._icon=f.append(O,f.$(""))}_fillBody(O){this._parentContainer=O,O.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),O.appendChild(this._container),this._message=new g(this._container,this.editor,B=>this._onDidSelectRelatedInformation.fire(B),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(O,B,H){this._container.classList.remove("stale"),this._message.update(O),this._severity=O.severity,this._applyTheme(this._themeService.getColorTheme());const K=v.Range.lift(O),V=this.editor.getPosition(),j=V&&K.containsPosition(V)?V:K.getStartPosition();super.show(j,this.computeRequiredHeight());const U=this.editor.getModel();if(U){const Y=H>1?o.localize(532,"{0} of {1} problems",B,H):o.localize(533,"{0} of {1} problem",B,H);this.setTitle((0,w.basename)(U.uri),Y)}this._icon.className=`codicon ${l.SeverityIcon.className(r.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(j,0),this.editor.focus()}updateMarker(O){this._container.classList.remove("stale"),this._message.update(O)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(O,B){super._doLayoutBody(O,B),this._heightInPixel=O,this._message.layout(O,B),this._container.style.height=`${O}px`}_onWidth(O){this._message.layout(this._heightInPixel,O)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=C,C.TitleMenu=new i.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=C=h=ke([ge(1,p.IThemeService),ge(2,a.IOpenerService),ge(3,i.IMenuService),ge(4,c.IInstantiationService),ge(5,n.IContextKeyService),ge(6,u.ILabelService)],C);const S=(0,d.oneOf)(d.editorErrorForeground,d.editorErrorBorder),_=(0,d.oneOf)(d.editorWarningForeground,d.editorWarningBorder),L=(0,d.oneOf)(d.editorInfoForeground,d.editorInfoBorder),D=(0,d.registerColor)("editorMarkerNavigationError.background",{dark:S,light:S,hcDark:d.contrastBorder,hcLight:d.contrastBorder},o.localize(534,"Editor marker navigation widget error color.")),T=(0,d.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,d.transparent)(D,.1),light:(0,d.transparent)(D,.1),hcDark:null,hcLight:null},o.localize(535,"Editor marker navigation widget error heading background.")),N=(0,d.registerColor)("editorMarkerNavigationWarning.background",{dark:_,light:_,hcDark:d.contrastBorder,hcLight:d.contrastBorder},o.localize(536,"Editor marker navigation widget warning color.")),A=(0,d.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,d.transparent)(N,.1),light:(0,d.transparent)(N,.1),hcDark:"#0C141F",hcLight:(0,d.transparent)(N,.2)},o.localize(537,"Editor marker navigation widget warning heading background.")),R=(0,d.registerColor)("editorMarkerNavigationInfo.background",{dark:L,light:L,hcDark:d.contrastBorder,hcLight:d.contrastBorder},o.localize(538,"Editor marker navigation widget info color.")),M=(0,d.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,d.transparent)(R,.1),light:(0,d.transparent)(R,.1),hcDark:null,hcLight:null},o.localize(539,"Editor marker navigation widget info heading background.")),P=(0,d.registerColor)("editorMarkerNavigation.background",d.editorBackground,o.localize(540,"Editor marker navigation widget background."))}),define(re[424],ae([1,0,26,2,15,35,9,5,20,691,3,29,12,7,80,833]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let u=c=class{static get(S){return S.getContribution(c.ID)}constructor(S,_,L,D,T){this._markerNavigationService=_,this._contextKeyService=L,this._editorService=D,this._instantiationService=T,this._sessionDispoables=new k.DisposableStore,this._editor=S,this._widgetVisible=h.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(S){if(this._model&&this._model.matches(S))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(S),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(n.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var D,T,N;(!(!((D=this._model)===null||D===void 0)&&D.selected)||!m.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,L.position))&&((N=this._model)===null||N===void 0||N.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:m.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(S=!0){this._cleanUp(),S&&this._editor.focus()}showAtMarker(S){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new y.Position(S.startLineNumber,S.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}async nagivate(S,_){var L,D;if(this._editor.hasModel()){const T=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(T.move(S,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=await this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);N&&((L=c.get(N))===null||L===void 0||L.close(),(D=c.get(N))===null||D===void 0||D.nagivate(S,_))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}}};e.MarkerController=u,u.ID="editor.contrib.markerController",e.MarkerController=u=c=ke([ge(1,b.IMarkerNavigationService),ge(2,o.IContextKeyService),ge(3,I.ICodeEditorService),ge(4,t.IInstantiationService)],u);class r extends E.EditorAction{constructor(S,_,L){super(L),this._next=S,this._multiFile=_}async run(S,_){var L;_.hasModel()&&((L=u.get(_))===null||L===void 0||L.nagivate(this._next,this._multiFile))}}class a extends r{constructor(){super(!0,!1,{id:a.ID,label:a.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,i.registerIcon)("marker-navigation-next",f.Codicon.arrowDown,v.localize(542,"Icon for goto next marker.")),group:"navigation",order:1}})}}e.NextMarkerAction=a,a.ID="editor.action.marker.next",a.LABEL=v.localize(541,"Go to Next Problem (Error, Warning, Info)");class l extends r{constructor(){super(!1,!1,{id:l.ID,label:l.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:(0,i.registerIcon)("marker-navigation-previous",f.Codicon.arrowUp,v.localize(544,"Icon for goto previous marker.")),group:"navigation",order:2}})}}l.ID="editor.action.marker.prev",l.LABEL=v.localize(543,"Go to Previous Problem (Error, Warning, Info)");class d extends r{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:v.localize(545,"Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:v.localize(546,"Next &&Problem"),group:"6_problem_nav",order:1}})}}class p extends r{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:v.localize(547,"Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,title:v.localize(548,"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,E.registerEditorContribution)(u.ID,u,4),(0,E.registerEditorAction)(a),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(d),(0,E.registerEditorAction)(p);const h=new o.RawContextKey("markersNavigationVisible",!1),g=E.EditorCommand.bindToContribution(u.get);(0,E.registerEditorCommand)(new g({id:"closeMarkersNavigation",precondition:h,handler:C=>C.close(),kbOpts:{weight:150,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(re[834],ae([1,0,4,315,33,6,2,46,50,136,5,36,34,79,42,77,750,154,3,7,31,180,213,25,216,176,525]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class S{constructor(N,A){this._editor=N,this._model=A,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.DisposableStore,this._callOnModelChange=new y.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(N){for(const A of this._model.references)if(A.uri.toString()===N.uri.toString()){this._addDecorations(A.parent);return}}}_addDecorations(N){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const A=[],R=[];for(let M=0,P=N.children.length;M<P;M++){const x=N.children[M];this._decorationIgnoreSet.has(x.id)||x.uri.toString()===this._editor.getModel().uri.toString()&&(A.push({range:x.range,options:S.DecorationOptions}),R.push(M))}this._editor.changeDecorations(M=>{const P=M.deltaDecorations([],A);for(let x=0;x<P.length;x++)this._decorations.set(P[x],N.children[R[x]])})}_onDecorationChanged(){const N=[],A=this._editor.getModel();if(A){for(const[R,M]of this._decorations){const P=A.getDecorationRange(R);if(!P)continue;let x=!1;if(!v.Range.equalsRange(P,M.range)){if(v.Range.spansMultipleLines(P))x=!0;else{const O=M.range.endColumn-M.range.startColumn,B=P.endColumn-P.startColumn;O!==B&&(x=!0)}x?(this._decorationIgnoreSet.add(M.id),N.push(R)):M.range=P}}for(let R=0,M=N.length;R<M;R++)this._decorations.delete(N[R]);this._editor.removeDecorations(N)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}S.DecorationOptions=s.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class _{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let A,R;try{const M=JSON.parse(N);A=M.ratio,R=M.heightInLines}catch{}return{ratio:A||.7,heightInLines:R||18}}}e.LayoutData=_;class L extends p.WorkbenchAsyncDataTree{}let D=class extends u.PeekViewWidget{constructor(N,A,R,M,P,x,O,B,H,K,V,j){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},x),this._defaultTreeKeyboardSupport=A,this.layoutData=R,this._textModelResolverService=P,this._instantiationService=x,this._peekViewService=O,this._uriLabel=B,this._undoRedoService=H,this._keybindingService=K,this._languageService=V,this._languageConfigurationService=j,this._disposeOnNewModel=new y.DisposableStore,this._callOnDispose=new y.DisposableStore,this._onDidSelectReference=new I.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new f.Dimension(0,0),this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,y.dispose)(this._preview),(0,y.dispose)(this._previewNotAvailableMessage),(0,y.dispose)(this._tree),(0,y.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const A=N.getColor(u.peekViewBorder)||E.Color.transparent;this.style({arrowColor:A,frameColor:A,headerBackgroundColor:N.getColor(u.peekViewTitleBackground)||E.Color.transparent,primaryHeadingColor:N.getColor(u.peekViewTitleForeground),secondaryHeadingColor:N.getColor(u.peekViewTitleInfoForeground)})}show(N){super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=f.append(N,f.$("div.messages")),f.hide(this._messageContainer),this._splitView=new k.SplitView(N,{orientation:1}),this._previewContainer=f.append(N,f.$("div.preview.inline"));const A={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(b.EmbeddedCodeEditorWidget,this._previewContainer,A,{},this.editor),f.hide(this._previewContainer),this._previewNotAvailableMessage=new s.TextModel(r.localize(34,"no preview available"),t.PLAINTEXT_LANGUAGE_ID,s.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=f.append(N,f.$("div.ref-tree.inline"));const R={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:u.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(f.addStandardDisposableListener(this._treeContainer,"keydown",P=>{P.equals(9)&&(this._keybindingService.dispatchEvent(P,P.target),P.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(L,"ReferencesWidget",this._treeContainer,new c.Delegate,[this._instantiationService.createInstance(c.FileReferencesRenderer),this._instantiationService.createInstance(c.OneReferenceRenderer)],this._instantiationService.createInstance(c.DataSource),R),this._splitView.addView({onDidChange:I.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:P=>{this._preview.layout({height:this._dim.height,width:P})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:I.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:P=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${P}px`,this._tree.layout(this._dim.height,P)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const M=(P,x)=>{P instanceof C.OneReference&&(x==="show"&&this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:x,source:"tree"}))};this._disposables.add(this._tree.onDidOpen(P=>{P.sideBySide?M(P.element,"side"):P.editorOptions.pinned?M(P.element,"goto"):M(P.element,"show")})),f.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,A){super._doLayoutBody(N,A),this._dim=new f.Dimension(A,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(A),this._splitView.resizeView(0,A*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{this._model&&(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=r.localize(35,"No results"),f.show(this._messageContainer),Promise.resolve(void 0)):(f.hide(this._messageContainer),this._decorationsManager=new S(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:A,target:R}=N;if(A.detail!==2)return;const M=this._getFocusedReference();M&&this._onDidSelectReference.fire({element:{uri:M.uri,range:R.range},kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),f.show(this._treeContainer),f.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof C.OneReference)return N;if(N instanceof C.FileReferences&&N.children.length>0)return N.children[0]}async revealReference(N){await this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})}async _revealReference(N,A){if(this._revealedReference===N)return;this._revealedReference=N,N.uri.scheme!==m.Schemas.inMemory?this.setTitle((0,w.basenameOrAuthority)(N.uri),this._uriLabel.getUriLabel((0,w.dirname)(N.uri))):this.setTitle(r.localize(36,"References"));const R=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(A&&this._tree.reveal(N.parent),await this._tree.expand(N.parent),this._tree.reveal(N));const M=await R;if(!this._model){M.dispose();return}(0,y.dispose)(this._previewModelReference);const P=M.object;if(P){const x=this._preview.getModel()===P.textEditorModel?0:1,O=v.Range.lift(N.range).collapseToStart();this._previewModelReference=M,this._preview.setModel(P.textEditorModel),this._preview.setSelection(O),this._preview.revealRangeInCenter(O,x)}else this._preview.setModel(this._previewNotAvailableMessage),M.dispose()}};e.ReferenceWidget=D,e.ReferenceWidget=D=ke([ge(3,h.IThemeService),ge(4,n.ITextModelService),ge(5,a.IInstantiationService),ge(6,u.IPeekViewService),ge(7,d.ILabelService),ge(8,g.IUndoRedoService),ge(9,l.IKeybindingService),ge(10,i.ILanguageService),ge(11,o.ILanguageConfigurationService)],D)}),define(re[425],ae([1,0,14,8,70,2,35,9,5,154,3,24,28,12,7,120,213,49,100,176,834,20,177]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new t.RawContextKey("referenceSearchVisible",!1,v.localize(40,"Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let g=h=class{static get(_){return _.getContribution(h.ID)}constructor(_,L,D,T,N,A,R,M){this._defaultTreeKeyboardSupport=_,this._editor=L,this._editorService=T,this._notificationService=N,this._instantiationService=A,this._storageService=R,this._configurationService=M,this._disposables=new I.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(D)}dispose(){var _,L;this._referenceSearchVisible.reset(),this._disposables.dispose(),(_=this._widget)===null||_===void 0||_.dispose(),(L=this._model)===null||L===void 0||L.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(_,L,D){let T;if(this._widget&&(T=this._widget.position),this.closeWidget(),T&&_.containsPosition(T))return;this._peekMode=D,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",A=l.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(l.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,A),this._widget.setTitle(v.localize(41,"Loading...")),this._widget.show(_),this._disposables.add(this._widget.onDidClose(()=>{L.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(M=>{const{element:P,kind:x}=M;if(P)switch(x){case"open":(M.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":D?this._gotoReference(P,!0):this.openReference(P,!1,!0);break}}));const R=++this._requestIdPool;L.then(M=>{var P;if(R!==this._requestIdPool||!this._widget){M.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=M,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(v.localize(42,"{0} ({1})",this._model.title,this._model.references.length));const x=this._editor.getModel().uri,O=new m.Position(_.startLineNumber,_.startColumn),B=this._model.nearestReference(x,O);if(B)return this._widget.setSelection(B).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},M=>{this._notificationService.error(M)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(_){if(!this._editor.hasModel()||!this._model||!this._widget)return;const L=this._widget.position;if(!L)return;const D=this._model.nearestReference(this._editor.getModel().uri,L);if(!D)return;const T=this._model.nextOrPreviousReference(D,_),N=this._editor.hasTextFocus(),A=this._widget.isPreviewEditorFocused();await this._widget.setSelection(T),await this._gotoReference(T,!1),N?this._editor.focus():this._widget&&A&&this._widget.focusOnPreviewEditor()}async revealReference(_){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(_)}closeWidget(_=!0){var L,D;(L=this._widget)===null||L===void 0||L.dispose(),(D=this._model)===null||D===void 0||D.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,_&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(_,L){var D;(D=this._widget)===null||D===void 0||D.hide(),this._ignoreModelChangeEvent=!0;const T=w.Range.lift(_.range).collapseToStart();return this._editorService.openCodeEditor({resource:_.uri,options:{selection:T,selectionSource:"code.jump",pinned:L}},this._editor).then(N=>{var A;if(this._ignoreModelChangeEvent=!1,!N||!this._widget){this.closeWidget();return}if(this._editor===N)this._widget.show(T),this._widget.focusOnReferenceTree();else{const R=h.get(N),M=this._model.clone();this.closeWidget(),N.focus(),R?.toggleWidget(T,(0,f.createCancelablePromise)(P=>Promise.resolve(M)),(A=this._peekMode)!==null&&A!==void 0?A:!1)}},N=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(N)})}openReference(_,L,D){L||this.closeWidget();const{uri:T,range:N}=_;this._editorService.openCodeEditor({resource:T,options:{selection:N,selectionSource:"code.jump",pinned:D}},this._editor,L)}};e.ReferencesController=g,g.ID="editor.contrib.referencesController",e.ReferencesController=g=h=ke([ge(2,t.IContextKeyService),ge(3,y.ICodeEditorService),ge(4,u.INotificationService),ge(5,i.IInstantiationService),ge(6,r.IStorageService),ge(7,o.IConfigurationService)],g);function C(S,_){const L=(0,b.getOuterEditor)(S);if(!L)return;const D=g.get(L);D&&_(D)}n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,E.KeyChord)(2089,60),when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(S){C(S,_=>{_.changeFocusBetweenPreviewAndReferences()})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(S){C(S,_=>{_.goToNextOrPreviousReference(!0)})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(S){C(S,_=>{_.goToNextOrPreviousReference(!1)})}}),s.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),s.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),s.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),s.CommandsRegistry.registerCommand("closeReferenceSearch",S=>C(S,_=>_.closeWidget())),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:t.ContextKeyExpr.and(b.PeekContext.inPeekEditor,t.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.ContextKeyExpr.not("config.editor.stablePeek"),t.ContextKeyExpr.or(d.EditorContextKeys.editorTextFocus,p.InputFocusedContext.negate()))}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var _;const D=(_=S.get(c.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(D)&&D[0]instanceof a.OneReference&&C(S,T=>T.revealReference(D[0]))}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var _;const D=(_=S.get(c.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(D)&&D[0]instanceof a.OneReference&&C(S,T=>T.openReference(D[0],!0,!0))}}),s.CommandsRegistry.registerCommand("openReference",S=>{var _;const D=(_=S.get(c.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(D)&&D[0]instanceof a.OneReference&&C(S,T=>T.openReference(D[0],!1,!0))})}),define(re[288],ae([1,0,47,14,70,19,22,121,170,15,35,136,9,5,20,27,425,176,728,183,154,3,29,24,12,7,49,96,275,17,53,177]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N){"use strict";var A,R,M,P,x,O,B,H;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,{submenu:p.MenuId.EditorContextPeek,title:d.localize(584,"Peek"),group:"navigation",order:100});class K{static is(J){return!J||typeof J!="object"?!1:!!(J instanceof K||o.Position.isIPosition(J.position)&&J.model)}constructor(J,te){this.model=J,this.position=te}}e.SymbolNavigationAnchor=K;class V extends b.EditorAction2{static all(){return V._allSymbolNavigationCommands.values()}static _patchConfig(J){const te={...J,f1:!0};if(te.menu)for(const de of T.Iterable.wrap(te.menu))(de.id===p.MenuId.EditorContext||de.id===p.MenuId.EditorContextPeek)&&(de.when=g.ContextKeyExpr.and(J.precondition,de.when));return te}constructor(J,te){super(V._patchConfig(te)),this.configuration=J,V._allSymbolNavigationCommands.set(te.id,this)}runEditorCommand(J,te,de,he){if(!te.hasModel())return Promise.resolve(void 0);const pe=J.get(S.INotificationService),ue=J.get(v.ICodeEditorService),ie=J.get(_.IEditorProgressService),se=J.get(r.ISymbolNavigationService),ne=J.get(D.ILanguageFeaturesService),W=J.get(C.IInstantiationService),q=te.getModel(),z=te.getPosition(),$=K.is(de)?de:new K(q,z),X=new m.EditorStateCancellationTokenSource(te,5),ee=(0,k.raceCancellation)(this._getLocationModel(ne,$.model,$.position,X.token),X.token).then(async oe=>{var ce;if(!oe||X.token.isCancellationRequested)return;(0,f.alert)(oe.ariaMessage);let fe;if(oe.referenceAt(q.uri,z)){const _e=this._getAlternativeCommand(te);!V._activeAlternativeCommands.has(_e)&&V._allSymbolNavigationCommands.has(_e)&&(fe=V._allSymbolNavigationCommands.get(_e))}const ve=oe.references.length;if(ve===0){if(!this.configuration.muteMessage){const _e=q.getWordAtPosition(z);(ce=a.MessageController.get(te))===null||ce===void 0||ce.showMessage(this._getNoResultFoundMessage(_e),z)}}else if(ve===1&&fe)V._activeAlternativeCommands.add(this.desc.id),W.invokeFunction(_e=>fe.runEditorCommand(_e,te,de,he).finally(()=>{V._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(ue,se,te,oe,he)},oe=>{pe.error(oe)}).finally(()=>{X.dispose()});return ie.showWhile(ee,250),ee}async _onResult(J,te,de,he,pe){const ue=this._getGoToPreference(de);if(!(de instanceof s.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||ue==="peek"&&he.references.length>1))this._openInPeek(de,he,pe);else{const ie=he.firstReference(),se=he.references.length>1&&ue==="gotoAndPeek",ne=await this._openReference(de,J,ie,this.configuration.openToSide,!se);se&&ne?this._openInPeek(ne,he,pe):he.dispose(),ue==="goto"&&te.put(ie)}}async _openReference(J,te,de,he,pe){let ue;if((0,n.isLocationLink)(de)&&(ue=de.targetSelectionRange),ue||(ue=de.range),!ue)return;const ie=await te.openCodeEditor({resource:de.uri,options:{selection:t.Range.collapseToStart(ue),selectionRevealType:3,selectionSource:"code.jump"}},J,he);if(ie){if(pe){const se=ie.getModel(),ne=ie.createDecorationsCollection([{range:ue,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{ie.getModel()===se&&ne.clear()},350)}return ie}}_openInPeek(J,te,de){const he=c.ReferencesController.get(J);he&&J.hasModel()?he.toggleWidget(de??J.getSelection(),(0,k.createCancelablePromise)(pe=>Promise.resolve(te)),this.configuration.openInPeek):te.dispose()}}e.SymbolNavigationAction=V,V._allSymbolNavigationCommands=new Map,V._activeAlternativeCommands=new Set;class j extends V{async _getLocationModel(J,te,de,he){return new u.ReferencesModel(await(0,L.getDefinitionsAtPosition)(J.definitionProvider,te,de,he),d.localize(585,"Definitions"))}_getNoResultFoundMessage(J){return J&&J.word?d.localize(586,"No definition found for '{0}'",J.word):d.localize(587,"No definition found")}_getAlternativeCommand(J){return J.getOption(58).alternativeDefinitionCommand}_getGoToPreference(J){return J.getOption(58).multipleDefinitions}}e.DefinitionAction=j,(0,p.registerAction2)((A=class extends j{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:A.id,title:{...d.localize2(611,"Go to Definition"),mnemonicTitle:d.localize(588,"Go to &&Definition")},precondition:i.EditorContextKeys.hasDefinitionProvider,keybinding:[{when:i.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:g.ContextKeyExpr.and(i.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:2118,weight:100}],menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.1},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),h.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",A.id)}},A.id="editor.action.revealDefinition",A)),(0,p.registerAction2)((R=class extends j{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:R.id,title:d.localize2(612,"Open Definition to the Side"),precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasDefinitionProvider,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:[{when:i.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,70),weight:100},{when:g.ContextKeyExpr.and(i.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:(0,E.KeyChord)(2089,2118),weight:100}]}),h.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",R.id)}},R.id="editor.action.revealDefinitionAside",R)),(0,p.registerAction2)((M=class extends j{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:M.id,title:d.localize2(613,"Peek Definition"),precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasDefinitionProvider,l.PeekContext.notInPeekEditor,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:i.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:2}}),h.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",M.id)}},M.id="editor.action.peekDefinition",M));class U extends V{async _getLocationModel(J,te,de,he){return new u.ReferencesModel(await(0,L.getDeclarationsAtPosition)(J.declarationProvider,te,de,he),d.localize(589,"Declarations"))}_getNoResultFoundMessage(J){return J&&J.word?d.localize(590,"No declaration found for '{0}'",J.word):d.localize(591,"No declaration found")}_getAlternativeCommand(J){return J.getOption(58).alternativeDeclarationCommand}_getGoToPreference(J){return J.getOption(58).multipleDeclarations}}(0,p.registerAction2)((P=class extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:P.id,title:{...d.localize2(614,"Go to Declaration"),mnemonicTitle:d.localize(592,"Go to &&Declaration")},precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasDeclarationProvider,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.3},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(J){return J&&J.word?d.localize(593,"No declaration found for '{0}'",J.word):d.localize(594,"No declaration found")}},P.id="editor.action.revealDeclaration",P)),(0,p.registerAction2)(class extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:d.localize2(615,"Peek Declaration"),precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasDeclarationProvider,l.PeekContext.notInPeekEditor,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:3}})}});class Y extends V{async _getLocationModel(J,te,de,he){return new u.ReferencesModel(await(0,L.getTypeDefinitionsAtPosition)(J.typeDefinitionProvider,te,de,he),d.localize(595,"Type Definitions"))}_getNoResultFoundMessage(J){return J&&J.word?d.localize(596,"No type definition found for '{0}'",J.word):d.localize(597,"No type definition found")}_getAlternativeCommand(J){return J.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(J){return J.getOption(58).multipleTypeDefinitions}}(0,p.registerAction2)((x=class extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:x.ID,title:{...d.localize2(616,"Go to Type Definition"),mnemonicTitle:d.localize(598,"Go to &&Type Definition")},precondition:i.EditorContextKeys.hasTypeDefinitionProvider,keybinding:{when:i.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.4},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},x.ID="editor.action.goToTypeDefinition",x)),(0,p.registerAction2)((O=class extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:O.ID,title:d.localize2(617,"Peek Type Definition"),precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasTypeDefinitionProvider,l.PeekContext.notInPeekEditor,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class Q extends V{async _getLocationModel(J,te,de,he){return new u.ReferencesModel(await(0,L.getImplementationsAtPosition)(J.implementationProvider,te,de,he),d.localize(599,"Implementations"))}_getNoResultFoundMessage(J){return J&&J.word?d.localize(600,"No implementation found for '{0}'",J.word):d.localize(601,"No implementation found")}_getAlternativeCommand(J){return J.getOption(58).alternativeImplementationCommand}_getGoToPreference(J){return J.getOption(58).multipleImplementations}}(0,p.registerAction2)((B=class extends Q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:B.ID,title:{...d.localize2(618,"Go to Implementations"),mnemonicTitle:d.localize(602,"Go to &&Implementations")},precondition:i.EditorContextKeys.hasImplementationProvider,keybinding:{when:i.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.45},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},B.ID="editor.action.goToImplementation",B)),(0,p.registerAction2)((H=class extends Q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:H.ID,title:d.localize2(619,"Peek Implementations"),precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasImplementationProvider,l.PeekContext.notInPeekEditor,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:i.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:5}})}},H.ID="editor.action.peekImplementation",H));class Z extends V{_getNoResultFoundMessage(J){return J?d.localize(603,"No references found for '{0}'",J.word):d.localize(604,"No references found")}_getAlternativeCommand(J){return J.getOption(58).alternativeReferenceCommand}_getGoToPreference(J){return J.getOption(58).multipleReferences}}(0,p.registerAction2)(class extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...d.localize2(620,"Go to References"),mnemonicTitle:d.localize(605,"Go to &&References")},precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasReferenceProvider,l.PeekContext.notInPeekEditor,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:i.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.45},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(J,te,de,he){return new u.ReferencesModel(await(0,L.getReferencesAtPosition)(J.referenceProvider,te,de,!0,he),d.localize(606,"References"))}}),(0,p.registerAction2)(class extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:d.localize2(621,"Peek References"),precondition:g.ContextKeyExpr.and(i.EditorContextKeys.hasReferenceProvider,l.PeekContext.notInPeekEditor,i.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(J,te,de,he){return new u.ReferencesModel(await(0,L.getReferencesAtPosition)(J.referenceProvider,te,de,!1,he),d.localize(607,"References"))}});class G extends V{constructor(J,te,de){super(J,{id:"editor.action.goToLocation",title:d.localize2(622,"Go to Any Symbol"),precondition:g.ContextKeyExpr.and(l.PeekContext.notInPeekEditor,i.EditorContextKeys.isInEmbeddedEditor.toNegated())}),this._references=te,this._gotoMultipleBehaviour=de}async _getLocationModel(J,te,de,he){return new u.ReferencesModel(this._references,d.localize(608,"Locations"))}_getNoResultFoundMessage(J){return J&&d.localize(609,"No results for '{0}'",J.word)||""}_getGoToPreference(J){var te;return(te=this._gotoMultipleBehaviour)!==null&&te!==void 0?te:J.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}h.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(F,J,te,de,he,pe,ue)=>{(0,I.assertType)(y.URI.isUri(J)),(0,I.assertType)(o.Position.isIPosition(te)),(0,I.assertType)(Array.isArray(de)),(0,I.assertType)(typeof he>"u"||typeof he=="string"),(0,I.assertType)(typeof ue>"u"||typeof ue=="boolean");const ie=F.get(v.ICodeEditorService),se=await ie.openCodeEditor({resource:J},ie.getFocusedCodeEditor());if((0,w.isCodeEditor)(se))return se.setPosition(te),se.revealPositionInCenterIfOutsideViewport(te,0),se.invokeWithinContext(ne=>{const W=new class extends G{_getNoResultFoundMessage(q){return pe||super._getNoResultFoundMessage(q)}}({muteMessage:!pe,openInPeek:!!ue,openToSide:!1},de,he);ne.get(C.IInstantiationService).invokeFunction(W.run.bind(W),se)})}}),h.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(F,J,te,de,he)=>{F.get(h.ICommandService).executeCommand("editor.action.goToLocations",J,te,de,he,void 0,!0)}}),h.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(F,J,te)=>{(0,I.assertType)(y.URI.isUri(J)),(0,I.assertType)(o.Position.isIPosition(te));const de=F.get(D.ILanguageFeaturesService),he=F.get(v.ICodeEditorService);return he.openCodeEditor({resource:J},he.getFocusedCodeEditor()).then(pe=>{if(!(0,w.isCodeEditor)(pe)||!pe.hasModel())return;const ue=c.ReferencesController.get(pe);if(!ue)return;const ie=(0,k.createCancelablePromise)(ne=>(0,L.getReferencesAtPosition)(de.referenceProvider,pe.getModel(),o.Position.lift(te),!1,ne).then(W=>new u.ReferencesModel(W,d.localize(610,"References")))),se=new t.Range(te.lineNumber,te.column,te.lineNumber,te.column);return Promise.resolve(ue.toggleWidget(se,ie,!1))})}}),h.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(re[426],ae([1,0,14,8,55,2,121,15,5,42,77,204,154,3,12,288,275,17,36,524]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let l=a=class{constructor(p,h,g,C){this.textModelResolverService=h,this.languageService=g,this.languageFeaturesService=C,this.toUnhook=new I.DisposableStore,this.toUnhookForKeyboard=new I.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=p,this.linkDecorations=this.editor.createDecorationsCollection();const S=new s.ClickLinkGesture(p);this.toUnhook.add(S),this.toUnhook.add(S.onMouseMoveOrRelevantKeyDown(([_,L])=>{this.startFindDefinitionFromMouse(_,L??void 0)})),this.toUnhook.add(S.onExecute(_=>{this.isEnabled(_)&&this.gotoDefinition(_.target.position,_.hasSideBySideModifier).catch(L=>{(0,k.onUnexpectedError)(L)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(S.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(p){return p.getContribution(a.ID)}async startFindDefinitionFromCursor(p){await this.startFindDefinition(p),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(h=>{h&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(p,h){if(p.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(p,h)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const g=p.target.position;this.startFindDefinition(g)}async startFindDefinition(p){var h;this.toUnhookForKeyboard.clear();const g=p?(h=this.editor.getModel())===null||h===void 0?void 0:h.getWordAtPosition(p):null;if(!g){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===g.startColumn&&this.currentWordAtPosition.endColumn===g.endColumn&&this.currentWordAtPosition.word===g.word)return;this.currentWordAtPosition=g;const C=new y.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,f.createCancelablePromise)(L=>this.findDefinition(p,L));let S;try{S=await this.previousPromise}catch(L){(0,k.onUnexpectedError)(L);return}if(!S||!S.length||!C.validate(this.editor)){this.removeLinkDecorations();return}const _=S[0].originSelectionRange?w.Range.lift(S[0].originSelectionRange):new w.Range(p.lineNumber,g.startColumn,p.lineNumber,g.endColumn);if(S.length>1){let L=_;for(const{originSelectionRange:D}of S)D&&(L=w.Range.plusRange(L,D));this.addDecoration(L,new E.MarkdownString().appendText(t.localize(43,"Click to show {0} definitions.",S.length)))}else{const L=S[0];if(!L.uri)return;this.textModelResolverService.createModelReference(L.uri).then(D=>{if(!D.object||!D.object.textEditorModel){D.dispose();return}const{object:{textEditorModel:T}}=D,{startLineNumber:N}=L.range;if(N<1||N>T.getLineCount()){D.dispose();return}const A=this.getPreviewValue(T,N,L),R=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(_,A?new E.MarkdownString().appendCodeblock(R||"",A):void 0),D.dispose()})}}getPreviewValue(p,h,g){let C=g.range;return C.endLineNumber-C.startLineNumber>=a.MAX_SOURCE_PREVIEW_LINES&&(C=this.getPreviewRangeBasedOnIndentation(p,h)),this.stripIndentationFromPreviewRange(p,h,C)}stripIndentationFromPreviewRange(p,h,g){let S=p.getLineFirstNonWhitespaceColumn(h);for(let L=h+1;L<g.endLineNumber;L++){const D=p.getLineFirstNonWhitespaceColumn(L);S=Math.min(S,D)}return p.getValueInRange(g).replace(new RegExp(`^\\s{${S-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(p,h){const g=p.getLineFirstNonWhitespaceColumn(h),C=Math.min(p.getLineCount(),h+a.MAX_SOURCE_PREVIEW_LINES);let S=h+1;for(;S<C;S++){const _=p.getLineFirstNonWhitespaceColumn(S);if(g===_)break}return new w.Range(h,1,S+1,1)}addDecoration(p,h){const g={range:p,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:h}};this.linkDecorations.set([g])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(p,h){var g;return this.editor.hasModel()&&p.isLeftClick&&p.isNoneOrSingleMouseDown&&p.target.type===6&&!(((g=p.target.detail.injectedText)===null||g===void 0?void 0:g.options)instanceof r.ModelDecorationInjectedTextOptions)&&(p.hasTriggerModifier||(h?h.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(p,h){const g=this.editor.getModel();return g?(0,c.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,g,p,h):Promise.resolve(null)}gotoDefinition(p,h){return this.editor.setPosition(p),this.editor.invokeWithinContext(g=>{const C=!h&&this.editor.getOption(89)&&!this.isInPeekEditor(g);return new n.DefinitionAction({openToSide:h,openInPeek:C,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(g)})}isInPeekEditor(p){const h=p.get(i.IContextKeyService);return o.PeekContext.inPeekEditor.getValue(h)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=l,l.ID="editor.contrib.gotodefinitionatposition",l.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=l=a=ke([ge(1,v.ITextModelService),ge(2,b.ILanguageService),ge(3,u.ILanguageFeaturesService)],l),(0,m.registerEditorContribution)(l.ID,l,2)}),define(re[835],ae([1,0,4,13,14,8,2,50,5,17,263,153,284,131,424,69,3,107,62,96]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const l=f.$;class d{constructor(C,S,_){this.owner=C,this.range=S,this.marker=_}isValidForHoverAnchor(C){return C.type===1&&this.range.startColumn<=C.range.startColumn&&this.range.endColumn>=C.range.endColumn}}e.MarkerHover=d;const p={type:1,filter:{include:t.CodeActionKind.QuickFix},triggerAction:t.CodeActionTriggerSource.QuickFixHover};let h=class{constructor(C,S,_,L){this._editor=C,this._markerDecorationsService=S,this._openerService=_,this._languageFeaturesService=L,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(C,S){if(!this._editor.hasModel()||C.type!==1&&!C.supportsMarkerHover)return[];const _=this._editor.getModel(),L=C.range.startLineNumber,D=_.getLineMaxColumn(L),T=[];for(const N of S){const A=N.range.startLineNumber===L?N.range.startColumn:1,R=N.range.endLineNumber===L?N.range.endColumn:D,M=this._markerDecorationsService.getMarker(_.uri,N);if(!M)continue;const P=new w.Range(C.range.startLineNumber,A,C.range.startLineNumber,R);T.push(new d(this,P,M))}return T}renderHoverParts(C,S){if(!S.length)return new n.RenderedHoverParts([]);const _=new y.DisposableStore,L=[];S.forEach(T=>{const N=this._renderMarkerHover(T);C.fragment.appendChild(N.hoverElement),L.push(N)});const D=S.length===1?S[0]:S.sort((T,N)=>u.MarkerSeverity.compare(T.marker.severity,N.marker.severity))[0];return this.renderMarkerStatusbar(C,D,_),new n.RenderedHoverParts(L)}getAccessibleContent(C){return C.marker.message}_renderMarkerHover(C){const S=new y.DisposableStore,_=l("div.hover-row"),L=f.append(_,l("div.marker.hover-contents")),{source:D,message:T,code:N,relatedInformation:A}=C.marker;this._editor.applyFontInfo(L);const R=f.append(L,l("span"));if(R.style.whiteSpace="pre-wrap",R.innerText=T,D||N)if(N&&typeof N!="string"){const P=l("span");if(D){const H=f.append(P,l("span"));H.innerText=D}const x=f.append(P,l("a.code-link"));x.setAttribute("href",N.target.toString()),S.add(f.addDisposableListener(x,"click",H=>{this._openerService.open(N.target,{allowCommands:!0}),H.preventDefault(),H.stopPropagation()}));const O=f.append(x,l("span"));O.innerText=N.value;const B=f.append(L,P);B.style.opacity="0.6",B.style.paddingLeft="6px"}else{const P=f.append(L,l("span"));P.style.opacity="0.6",P.style.paddingLeft="6px",P.innerText=D&&N?`${D}(${N})`:D||`(${N})`}if((0,k.isNonEmptyArray)(A))for(const{message:P,resource:x,startLineNumber:O,startColumn:B}of A){const H=f.append(L,l("div"));H.style.marginTop="8px";const K=f.append(H,l("a"));K.innerText=`${(0,m.basename)(x)}(${O}, ${B}): `,K.style.cursor="pointer",S.add(f.addDisposableListener(K,"click",j=>{j.stopPropagation(),j.preventDefault(),this._openerService&&this._openerService.open(x,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:B}}}).catch(I.onUnexpectedError)}));const V=f.append(H,l("span"));V.innerText=P,this._editor.applyFontInfo(V)}return{hoverPart:C,hoverElement:_,dispose:()=>S.dispose()}}renderMarkerStatusbar(C,S,_){if(S.marker.severity===u.MarkerSeverity.Error||S.marker.severity===u.MarkerSeverity.Warning||S.marker.severity===u.MarkerSeverity.Info){const L=i.MarkerController.get(this._editor);L&&C.statusBar.addAction({label:c.localize(473,"View Problem"),commandId:i.NextMarkerAction.ID,run:()=>{C.hide(),L.showAtMarker(S.marker),this._editor.focus()}})}if(!this._editor.getOption(92)){const L=C.statusBar.append(l("div"));this.recentMarkerCodeActionsInfo&&(u.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===u.IMarkerData.makeKey(S.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(L.textContent=c.localize(474,"No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const D=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?y.Disposable.None:(0,E.disposableTimeout)(()=>L.textContent=c.localize(475,"Checking for quick fixes..."),200,_);L.textContent||(L.textContent="\xA0");const T=this.getCodeActions(S.marker);_.add((0,y.toDisposable)(()=>T.cancel())),T.then(N=>{if(D.dispose(),this.recentMarkerCodeActionsInfo={marker:S.marker,hasCodeActions:N.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){N.dispose(),L.textContent=c.localize(476,"No quick fixes available");return}L.style.display="none";let A=!1;_.add((0,y.toDisposable)(()=>{A||N.dispose()})),C.statusBar.addAction({label:c.localize(477,"Quick Fix..."),commandId:s.quickFixCommandId,run:R=>{A=!0;const M=o.CodeActionController.get(this._editor),P=f.getDomNodePagePosition(R);C.hide(),M?.showCodeActions(p,N,{x:P.left,y:P.top,width:P.width,height:P.height})}})},I.onUnexpectedError)}}getCodeActions(C){return(0,E.createCancelablePromise)(S=>(0,s.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new w.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),p,a.Progress.None,S))}};e.MarkerHoverParticipant=h,e.MarkerHoverParticipant=h=ke([ge(1,v.IMarkerDecorationsService),ge(2,r.IOpenerService),ge(3,b.ILanguageFeaturesService)],h)}),define(re[427],ae([1,0,4,40,18,193,5,77,288,154,29,24,12,58,7,49]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showGoToContextMenu=c,e.goToDefinitionWithLocation=u;async function c(r,a,l,d){var p;const h=r.get(m.ITextModelService),g=r.get(t.IContextMenuService),C=r.get(s.ICommandService),S=r.get(i.IInstantiationService),_=r.get(n.INotificationService);if(await d.item.resolve(E.CancellationToken.None),!d.part.location)return;const L=d.part.location,D=[],T=new Set(v.MenuRegistry.getMenuItems(v.MenuId.EditorContext).map(A=>(0,v.isIMenuItem)(A)?A.command.id:(0,I.generateUuid)()));for(const A of w.SymbolNavigationAction.all())T.has(A.desc.id)&&D.push(new k.Action(A.desc.id,v.MenuItemAction.label(A.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const R=await h.createModelReference(L.uri);try{const M=new w.SymbolNavigationAnchor(R.object.textEditorModel,y.Range.getStartPosition(L.range)),P=d.item.anchor.range;await S.invokeFunction(A.runEditorCommand.bind(A),a,M,P)}finally{R.dispose()}}));if(d.part.command){const{command:A}=d.part;D.push(new k.Separator),D.push(new k.Action(A.id,A.title,void 0,!0,async()=>{var R;try{await C.executeCommand(A.id,...(R=A.arguments)!==null&&R!==void 0?R:[])}catch(M){_.notify({severity:n.Severity.Error,source:d.item.provider.displayName,message:M})}}))}const N=a.getOption(128);g.showContextMenu({domForShadowRoot:N&&(p=a.getDomNode())!==null&&p!==void 0?p:void 0,getAnchor:()=>{const A=f.getDomNodePagePosition(l);return{x:A.left,y:A.top+A.height+8}},getActions:()=>D,onHide:()=>{a.focus()},autoSelectFirstItem:!0})}async function u(r,a,l,d){const h=await r.get(m.ITextModelService).createModelReference(d.uri);await l.invokeWithinContext(async g=>{const C=a.hasSideBySideModifier,S=g.get(o.IContextKeyService),_=b.PeekContext.inPeekEditor.getValue(S),L=!C&&l.getOption(89)&&!_;return new w.DefinitionAction({openToSide:C,openInPeek:L,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(g,new w.SymbolNavigationAnchor(h.object.textEditorModel,y.Range.getStartPosition(d.range)),y.Range.lift(d.range))}),h.dispose()}}),define(re[428],ae([1,0,4,13,14,18,8,2,44,19,22,184,140,37,75,5,27,41,36,78,17,77,204,355,427,24,48,7,49,32,25]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class A{constructor(){this._entries=new w.LRUCache(50)}get(H){const K=A._key(H);return this._entries.get(K)}set(H,K){const V=A._key(H);this._entries.set(V,K)}static _key(H){return`${H.uri.toString()}/${H.getVersionId()}`}}const R=(0,_.createDecorator)("IInlayHintsCache");(0,S.registerSingleton)(R,A,1);class M{constructor(H,K){this.item=H,this.index=K}get part(){const H=this.item.hint.label;return typeof H=="string"?{label:H}:H[this.index]}}e.RenderedInlayHintLabelPart=M;class P{constructor(H,K){this.part=H,this.hasTriggerModifier=K}}let x=N=class{static get(H){var K;return(K=H.getContribution(N.ID))!==null&&K!==void 0?K:void 0}constructor(H,K,V,j,U,Y,Q){this._editor=H,this._languageFeaturesService=K,this._inlayHintsCache=j,this._commandService=U,this._notificationService=Y,this._instaService=Q,this._disposables=new m.DisposableStore,this._sessionDisposables=new m.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new s.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=V.for(K.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(K.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(H.onDidChangeModel(()=>this._update())),this._disposables.add(H.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(H.onDidChangeConfiguration(Z=>{Z.hasChanged(142)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const H=this._editor.getOption(142);if(H.enabled==="off")return;const K=this._editor.getModel();if(!K||!this._languageFeaturesService.inlayHintsProvider.has(K))return;if(H.enabled==="on")this._activeRenderMode=0;else{let Q,Z;H.enabled==="onUnlessPressed"?(Q=0,Z=1):(Q=1,Z=0),this._activeRenderMode=Q,this._sessionDisposables.add(f.ModifierKeyEmitter.getInstance().event(G=>{if(!this._editor.hasModel())return;const F=G.altKey&&G.ctrlKey&&!(G.shiftKey||G.metaKey)?Z:Q;if(F!==this._activeRenderMode){this._activeRenderMode=F;const J=this._editor.getModel(),te=this._copyInlayHintsWithCurrentAnchor(J);this._updateHintsDecorators([J.getFullModelRange()],te),Y.schedule(0)}}))}const V=this._inlayHintsCache.get(K);V&&this._updateHintsDecorators([K.getFullModelRange()],V),this._sessionDisposables.add((0,m.toDisposable)(()=>{K.isDisposed()||this._cacheHintsForFastRestore(K)}));let j;const U=new Set,Y=new E.RunOnceScheduler(async()=>{const Q=Date.now();j?.dispose(!0),j=new I.CancellationTokenSource;const Z=K.onWillDispose(()=>j?.cancel());try{const G=j.token,F=await h.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,K,this._getHintsRanges(),G);if(Y.delay=this._debounceInfo.update(K,Date.now()-Q),G.isCancellationRequested){F.dispose();return}for(const J of F.provider)typeof J.onDidChangeInlayHints=="function"&&!U.has(J)&&(U.add(J),this._sessionDisposables.add(J.onDidChangeInlayHints(()=>{Y.isScheduled()||Y.schedule()})));this._sessionDisposables.add(F),this._updateHintsDecorators(F.ranges,F.items),this._cacheHintsForFastRestore(K)}catch(G){(0,y.onUnexpectedError)(G)}finally{j.dispose(),Z.dispose()}},this._debounceInfo.get(K));this._sessionDisposables.add(Y),this._sessionDisposables.add((0,m.toDisposable)(()=>j?.dispose(!0))),Y.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(Q=>{(Q.scrollTopChanged||!Y.isScheduled())&&Y.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(Q=>{j?.cancel();const Z=Math.max(Y.delay,1250);Y.schedule(Z)})),this._sessionDisposables.add(this._installDblClickGesture(()=>Y.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const H=new m.DisposableStore,K=H.add(new p.ClickLinkGesture(this._editor)),V=new m.DisposableStore;return H.add(V),H.add(K.onMouseMoveOrRelevantKeyDown(j=>{const[U]=j,Y=this._getInlayHintLabelPart(U),Q=this._editor.getModel();if(!Y||!Q){V.clear();return}const Z=new I.CancellationTokenSource;V.add((0,m.toDisposable)(()=>Z.dispose(!0))),Y.item.resolve(Z.token),this._activeInlayHintPart=Y.part.command||Y.part.location?new P(Y,U.hasTriggerModifier):void 0;const G=Q.validatePosition(Y.item.hint.position).lineNumber,F=new n.Range(G,1,G,Q.getLineMaxColumn(G)),J=this._getInlineHintsForRange(F);this._updateHintsDecorators([F],J),V.add((0,m.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([F],J)}))})),H.add(K.onCancel(()=>V.clear())),H.add(K.onExecute(async j=>{const U=this._getInlayHintLabelPart(j);if(U){const Y=U.part;Y.location?this._instaService.invokeFunction(g.goToDefinitionWithLocation,j,this._editor,Y.location):c.Command.is(Y.command)&&await this._invokeCommand(Y.command,U.item)}})),H}_getInlineHintsForRange(H){const K=new Set;for(const V of this._decorationsMetadata.values())H.containsRange(V.item.anchor.range)&&K.add(V.item);return Array.from(K)}_installDblClickGesture(H){return this._editor.onMouseUp(async K=>{if(K.event.detail!==2)return;const V=this._getInlayHintLabelPart(K);if(V&&(K.event.preventDefault(),await V.item.resolve(I.CancellationToken.None),(0,k.isNonEmptyArray)(V.item.hint.textEdits))){const j=V.item.hint.textEdits.map(U=>i.EditOperation.replace(n.Range.lift(U.range),U.text));this._editor.executeEdits("inlayHint.default",j),H()}})}_installContextMenu(){return this._editor.onContextMenu(async H=>{if(!(0,f.isHTMLElement)(H.event.target))return;const K=this._getInlayHintLabelPart(H);K&&await this._instaService.invokeFunction(g.showGoToContextMenu,this._editor,H.event.target,K)})}_getInlayHintLabelPart(H){var K;if(H.target.type!==6)return;const V=(K=H.target.detail.injectedText)===null||K===void 0?void 0:K.options;if(V instanceof r.ModelDecorationInjectedTextOptions&&V?.attachedData instanceof M)return V.attachedData}async _invokeCommand(H,K){var V;try{await this._commandService.executeCommand(H.id,...(V=H.arguments)!==null&&V!==void 0?V:[])}catch(j){this._notificationService.notify({severity:L.Severity.Error,source:K.provider.displayName,message:j})}}_cacheHintsForFastRestore(H){const K=this._copyInlayHintsWithCurrentAnchor(H);this._inlayHintsCache.set(H,K)}_copyInlayHintsWithCurrentAnchor(H){const K=new Map;for(const[V,j]of this._decorationsMetadata){if(K.has(j.item))continue;const U=H.getDecorationRange(V);if(U){const Y=new h.InlayHintAnchor(U,j.item.anchor.direction),Q=j.item.with({anchor:Y});K.set(j.item,Q)}}return Array.from(K.values())}_getHintsRanges(){const K=this._editor.getModel(),V=this._editor.getVisibleRangesPlusViewportAboveBelow(),j=[];for(const U of V.sort(n.Range.compareRangesUsingStarts)){const Y=K.validateRange(new n.Range(U.startLineNumber-30,U.startColumn,U.endLineNumber+30,U.endColumn));j.length===0||!n.Range.areIntersectingOrTouching(j[j.length-1],Y)?j.push(Y):j[j.length-1]=n.Range.plusRange(j[j.length-1],Y)}return j}_updateHintsDecorators(H,K){var V,j;const U=[],Y=(ue,ie,se,ne,W)=>{const q={content:se,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ie.className,cursorStops:ne,attachedData:W};U.push({item:ue,classNameRef:ie,decoration:{range:ue.anchor.range,options:{description:"InlayHint",showIfCollapsed:ue.anchor.range.isEmpty(),collapseOnReplaceEdit:!ue.anchor.range.isEmpty(),stickiness:0,[ue.anchor.direction]:this._activeRenderMode===0?q:void 0}}})},Q=(ue,ie)=>{const se=this._ruleFactory.createClassNameRef({width:`${Z/3|0}px`,display:"inline-block"});Y(ue,se,"\u200A",ie?u.InjectedTextCursorStops.Right:u.InjectedTextCursorStops.None)},{fontSize:Z,fontFamily:G,padding:F,isUniform:J}=this._getLayoutInfo(),te="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(te,G);let de={line:0,totalLen:0};for(const ue of K){if(de.line!==ue.anchor.range.startLineNumber&&(de={line:ue.anchor.range.startLineNumber,totalLen:0}),de.totalLen>N._MAX_LABEL_LEN)continue;ue.hint.paddingLeft&&Q(ue,!1);const ie=typeof ue.hint.label=="string"?[{label:ue.hint.label}]:ue.hint.label;for(let se=0;se<ie.length;se++){const ne=ie[se],W=se===0,q=se===ie.length-1,z={fontSize:`${Z}px`,fontFamily:`var(${te}), ${t.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:J?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(ue.hint.textEdits)&&(z.cursor="default"),this._fillInColors(z,ue.hint),(ne.command||ne.location)&&((V=this._activeInlayHintPart)===null||V===void 0?void 0:V.part.item)===ue&&this._activeInlayHintPart.part.index===se&&(z.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(z.color=(0,T.themeColorFromId)(D.editorActiveLinkForeground),z.cursor="pointer")),F&&(W&&q?(z.padding=`1px ${Math.max(1,Z/4)|0}px`,z.borderRadius=`${Z/4|0}px`):W?(z.padding=`1px 0 1px ${Math.max(1,Z/4)|0}px`,z.borderRadius=`${Z/4|0}px 0 0 ${Z/4|0}px`):q?(z.padding=`1px ${Math.max(1,Z/4)|0}px 1px 0`,z.borderRadius=`0 ${Z/4|0}px ${Z/4|0}px 0`):z.padding="1px 0 1px 0");let $=ne.label;de.totalLen+=$.length;let X=!1;const ee=de.totalLen-N._MAX_LABEL_LEN;if(ee>0&&($=$.slice(0,-ee)+"\u2026",X=!0),Y(ue,this._ruleFactory.createClassNameRef(z),O($),q&&!ue.hint.paddingRight?u.InjectedTextCursorStops.Right:u.InjectedTextCursorStops.None,new M(ue,se)),X)break}if(ue.hint.paddingRight&&Q(ue,!0),U.length>N._MAX_DECORATORS)break}const he=[];for(const[ue,ie]of this._decorationsMetadata){const se=(j=this._editor.getModel())===null||j===void 0?void 0:j.getDecorationRange(ue);se&&H.some(ne=>ne.containsRange(se))&&(he.push(ue),ie.classNameRef.dispose(),this._decorationsMetadata.delete(ue))}const pe=o.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(ue=>{const ie=ue.deltaDecorations(he,U.map(se=>se.decoration));for(let se=0;se<ie.length;se++){const ne=U[se];this._decorationsMetadata.set(ie[se],ne)}}),pe.restore(this._editor)}_fillInColors(H,K){K.kind===c.InlayHintKind.Parameter?(H.backgroundColor=(0,T.themeColorFromId)(D.editorInlayHintParameterBackground),H.color=(0,T.themeColorFromId)(D.editorInlayHintParameterForeground)):K.kind===c.InlayHintKind.Type?(H.backgroundColor=(0,T.themeColorFromId)(D.editorInlayHintTypeBackground),H.color=(0,T.themeColorFromId)(D.editorInlayHintTypeForeground)):(H.backgroundColor=(0,T.themeColorFromId)(D.editorInlayHintBackground),H.color=(0,T.themeColorFromId)(D.editorInlayHintForeground))}_getLayoutInfo(){const H=this._editor.getOption(142),K=H.padding,V=this._editor.getOption(52),j=this._editor.getOption(49);let U=H.fontSize;(!U||U<5||U>V)&&(U=V);const Y=H.fontFamily||j;return{fontSize:U,fontFamily:Y,padding:K,isUniform:!K&&Y===j&&U===V}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const H of this._decorationsMetadata.values())H.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=x,x.ID="editor.contrib.InlayHints",x._MAX_DECORATORS=1500,x._MAX_LABEL_LEN=43,e.InlayHintsController=x=N=ke([ge(1,l.ILanguageFeaturesService),ge(2,a.ILanguageFeatureDebounceService),ge(3,R),ge(4,C.ICommandService),ge(5,L.INotificationService),ge(6,_.IInstantiationService)],x);function O(B){return B.replace(/[ \t]/g,"\xA0")}C.CommandsRegistry.registerCommand("_executeInlayHintProvider",async(B,...H)=>{const[K,V]=H;(0,b.assertType)(v.URI.isUri(K)),(0,b.assertType)(n.Range.isIRange(V));const{inlayHintsProvider:j}=B.get(l.ILanguageFeaturesService),U=await B.get(d.ITextModelService).createModelReference(K);try{const Y=await h.InlayHintsFragments.create(j,U.object.textEditorModel,[n.Range.lift(V)],I.CancellationToken.None),Q=Y.items.map(Z=>Z.hint);return setTimeout(()=>Y.dispose(),0),Q}finally{U.dispose()}})}),define(re[429],ae([1,0,14,55,9,36,69,42,77,408,214,428,28,62,17,3,16,355,13,31,117,24]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class p extends y.HoverForeignElementAnchor{constructor(C,S,_,L){super(10,S,C.item.anchor.range,_,L,!0),this.part=C}}let h=class extends v.MarkdownHoverParticipant{constructor(C,S,_,L,D,T,N,A,R){super(C,S,_,T,A,L,D,R),this._resolverService=N,this.hoverOrdinal=6}suggestHoverAnchor(C){var S;if(!s.InlayHintsController.get(this._editor)||C.target.type!==6)return null;const L=(S=C.target.detail.injectedText)===null||S===void 0?void 0:S.options;return L instanceof I.ModelDecorationInjectedTextOptions&&L.attachedData instanceof s.RenderedInlayHintLabelPart?new p(L.attachedData,this,C.event.posx,C.event.posy):null}computeSync(){return[]}computeAsync(C,S,_){return C instanceof p?new f.AsyncIterableObject(async L=>{const{part:D}=C;if(await D.item.resolve(_),_.isCancellationRequested)return;let T;typeof D.item.hint.tooltip=="string"?T=new k.MarkdownString().appendText(D.item.hint.tooltip):D.item.hint.tooltip&&(T=D.item.hint.tooltip),T&&L.emitOne(new v.MarkdownHover(this,C.range,[T],!1,0)),(0,r.isNonEmptyArray)(D.item.hint.textEdits)&&L.emitOne(new v.MarkdownHover(this,C.range,[new k.MarkdownString().appendText((0,n.localize)(519,"Double-click to insert"))],!1,10001));let N;if(typeof D.part.tooltip=="string"?N=new k.MarkdownString().appendText(D.part.tooltip):D.part.tooltip&&(N=D.part.tooltip),N&&L.emitOne(new v.MarkdownHover(this,C.range,[N],!1,1)),D.part.location||D.part.command){let R;const P=this._editor.getOption(78)==="altKey"?c.isMacintosh?(0,n.localize)(520,"cmd + click"):(0,n.localize)(521,"ctrl + click"):c.isMacintosh?(0,n.localize)(522,"option + click"):(0,n.localize)(523,"alt + click");D.part.location&&D.part.command?R=new k.MarkdownString().appendText((0,n.localize)(524,"Go to Definition ({0}), right click for more",P)):D.part.location?R=new k.MarkdownString().appendText((0,n.localize)(525,"Go to Definition ({0})",P)):D.part.command&&(R=new k.MarkdownString(`[${(0,n.localize)(526,"Execute Command")}](${(0,u.asCommandLink)(D.part.command)} "${D.part.command.title}") (${P})`,{isTrusted:!0})),R&&L.emitOne(new v.MarkdownHover(this,C.range,[R],!1,1e4))}const A=await this._resolveInlayHintLabelPartHover(D,_);for await(const R of A)L.emitOne(R)}):f.AsyncIterableObject.EMPTY}async _resolveInlayHintLabelPartHover(C,S){if(!C.part.location)return f.AsyncIterableObject.EMPTY;const{uri:_,range:L}=C.part.location,D=await this._resolverService.createModelReference(_);try{const T=D.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(T)?(0,b.getHoverProviderResultsAsAsyncIterable)(this._languageFeaturesService.hoverProvider,T,new E.Position(L.startLineNumber,L.startColumn),S).filter(N=>!(0,k.isEmptyMarkdownString)(N.hover.contents)).map(N=>new v.MarkdownHover(this,C.item.anchor.range,N.hover.contents,!1,2+N.ordinal)):f.AsyncIterableObject.EMPTY}finally{D.dispose()}}};e.InlayHintsHover=h,e.InlayHintsHover=h=ke([ge(1,m.ILanguageService),ge(2,t.IOpenerService),ge(3,a.IKeybindingService),ge(4,l.IHoverService),ge(5,o.IConfigurationService),ge(6,w.ITextModelService),ge(7,i.ILanguageFeaturesService),ge(8,d.ICommandService)],h)}),define(re[836],ae([1,0,69,2,385,36,9,5,4,214,285,3,429,8]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderedContentHover=void 0;class i extends k.Disposable{constructor(r,a,l,d,p,h){super();const g=a.anchor,C=a.hoverParts;this._renderedHoverParts=this._register(new c(r,l,C,h,p));const{showAtPosition:S,showAtSecondaryPosition:_}=i.computeHoverPositions(r,g.range,C);this.shouldAppearBeforeContent=C.some(L=>L.isBeforeContent),this.showAtPosition=S,this.showAtSecondaryPosition=_,this.initialMousePosX=g.initialMousePosX,this.initialMousePosY=g.initialMousePosY,this.shouldFocus=d.shouldFocus,this.source=d.source}get domNode(){return this._renderedHoverParts.domNode}get domNodeHasChildren(){return this._renderedHoverParts.domNodeHasChildren}get focusedHoverPartIndex(){return this._renderedHoverParts.focusedHoverPartIndex}getAccessibleWidgetContent(){return this._renderedHoverParts.getAccessibleContent()}getAccessibleWidgetContentAtIndex(r){return this._renderedHoverParts.getAccessibleHoverContentAtIndex(r)}async updateHoverVerbosityLevel(r,a,l){this._renderedHoverParts.updateHoverVerbosityLevel(r,a,l)}doesHoverAtIndexSupportVerbosityAction(r,a){return this._renderedHoverParts.doesHoverAtIndexSupportVerbosityAction(r,a)}isColorPickerVisible(){return this._renderedHoverParts.isColorPickerVisible()}static computeHoverPositions(r,a,l){let d=1;if(r.hasModel()){const _=r._getViewModel(),L=_.coordinatesConverter,D=L.convertModelRangeToViewRange(a),T=_.getLineMinColumn(D.startLineNumber),N=new y.Position(D.startLineNumber,T);d=L.convertViewPositionToModelPosition(N).column}const p=a.startLineNumber;let h=a.startColumn,g;for(const _ of l){const L=_.range,D=L.startLineNumber===p,T=L.endLineNumber===p;if(D&&T){const A=L.startColumn,R=Math.min(h,A);h=Math.max(R,d)}_.forceShowAtRange&&(g=L)}let C,S;if(g){const _=g.getStartPosition();C=_,S=_}else C=a.getStartPosition(),S=new y.Position(p,h);return{showAtPosition:C,showAtSecondaryPosition:S}}}e.RenderedContentHover=i;class n{constructor(r,a){this._statusBar=a,r.appendChild(this._statusBar.hoverElement)}get hoverElement(){return this._statusBar.hoverElement}get actions(){return this._statusBar.actions}dispose(){this._statusBar.dispose()}}class c extends k.Disposable{constructor(r,a,l,d,p){super(),this._renderedParts=[],this._focusedHoverPartIndex=-1,this._context=p,this._fragment=document.createDocumentFragment(),this._register(this._renderParts(a,l,p,d)),this._register(this._registerListenersOnRenderedParts()),this._register(this._createEditorDecorations(r,l)),this._updateMarkdownAndColorParticipantInfo(a)}_createEditorDecorations(r,a){if(a.length===0)return k.Disposable.None;let l=a[0].range;for(const p of a){const h=p.range;l=m.Range.plusRange(l,h)}const d=r.createDecorationsCollection();return d.set([{range:l,options:c._DECORATION_OPTIONS}]),(0,k.toDisposable)(()=>{d.clear()})}_renderParts(r,a,l,d){const p=new E.EditorHoverStatusBar(d),h={fragment:this._fragment,statusBar:p,...l},g=new k.DisposableStore;for(const S of r){const _=this._renderHoverPartsForParticipant(a,S,h);g.add(_);for(const L of _.renderedHoverParts)this._renderedParts.push({type:"hoverPart",participant:S,hoverPart:L.hoverPart,hoverElement:L.hoverElement})}const C=this._renderStatusBar(this._fragment,p);return C&&(g.add(C),this._renderedParts.push({type:"statusBar",hoverElement:C.hoverElement,actions:C.actions})),(0,k.toDisposable)(()=>{g.dispose()})}_renderHoverPartsForParticipant(r,a,l){const d=r.filter(h=>h.owner===a);return d.length>0?a.renderHoverParts(l,d):new f.RenderedHoverParts([])}_renderStatusBar(r,a){if(a.hasContent)return new n(r,a)}_registerListenersOnRenderedParts(){const r=new k.DisposableStore;return this._renderedParts.forEach((a,l)=>{const d=a.hoverElement;d.tabIndex=0,r.add(w.addDisposableListener(d,w.EventType.FOCUS_IN,p=>{p.stopPropagation(),this._focusedHoverPartIndex=l})),r.add(w.addDisposableListener(d,w.EventType.FOCUS_OUT,p=>{p.stopPropagation(),this._focusedHoverPartIndex=-1}))}),r}_updateMarkdownAndColorParticipantInfo(r){const a=r.find(l=>l instanceof b.MarkdownHoverParticipant&&!(l instanceof o.InlayHintsHover));a&&(this._markdownHoverParticipant=a),this._colorHoverParticipant=r.find(l=>l instanceof v.ColorHoverParticipant)}getAccessibleContent(){const r=[];for(let a=0;a<this._renderedParts.length;a++)r.push(this.getAccessibleHoverContentAtIndex(a));return r.join(`

`)}getAccessibleHoverContentAtIndex(r){const a=this._renderedParts[r];if(!a)return"";if(a.type==="statusBar"){const l=[(0,s.localize)(516,"This is a hover status bar.")];for(const d of a.actions){const p=d.actionKeybindingLabel;p?l.push((0,s.localize)(517,"It has an action with label {0} and keybinding {1}.",d.actionLabel,p)):l.push((0,s.localize)(518,"It has an action with label {0}.",d.actionLabel))}return l.join(`
`)}return a.participant.getAccessibleContent(a.hoverPart)}async updateHoverVerbosityLevel(r,a,l){if(!this._markdownHoverParticipant)return;const d=this._normalizedIndexToMarkdownHoverIndexRange(this._markdownHoverParticipant,a);if(d===void 0)return;const p=await this._markdownHoverParticipant.updateMarkdownHoverVerbosityLevel(r,d,l);p&&(this._renderedParts[a]={type:"hoverPart",participant:this._markdownHoverParticipant,hoverPart:p.hoverPart,hoverElement:p.hoverElement},this._context.onContentsChanged())}doesHoverAtIndexSupportVerbosityAction(r,a){if(!this._markdownHoverParticipant)return!1;const l=this._normalizedIndexToMarkdownHoverIndexRange(this._markdownHoverParticipant,r);return l===void 0?!1:this._markdownHoverParticipant.doesMarkdownHoverAtIndexSupportVerbosityAction(l,a)}isColorPickerVisible(){var r,a;return(a=(r=this._colorHoverParticipant)===null||r===void 0?void 0:r.isColorPickerVisible())!==null&&a!==void 0?a:!1}_normalizedIndexToMarkdownHoverIndexRange(r,a){const l=this._renderedParts[a];if(!l||l.type!=="hoverPart"||!(l.participant===r))return;const p=this._renderedParts.findIndex(h=>h.type==="hoverPart"&&h.participant===r);if(p===-1)throw new t.BugIndicatingError;return a-p}get domNode(){return this._fragment}get domNodeHasChildren(){return this._fragment.hasChildNodes()}get focusedHoverPartIndex(){return this._focusedHoverPartIndex}}c._DECORATION_OPTIONS=I.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"})}),define(re[837],ae([1,0,4,2,27,353,69,7,31,386,635,636,6,836]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverController=void 0;let i=class extends k.Disposable{constructor(c,u,r){super(),this._editor=c,this._instantiationService=u,this._keybindingService=r,this._currentResult=null,this._onContentsChanged=this._register(new o.Emitter),this.onContentsChanged=this._onContentsChanged.event,this._contentHoverWidget=this._register(this._instantiationService.createInstance(b.ContentHoverWidget,this._editor)),this._participants=this._initializeHoverParticipants(),this._computer=new v.ContentHoverComputer(this._editor,this._participants),this._hoverOperation=this._register(new I.HoverOperation(this._editor,this._computer)),this._registerListeners()}_initializeHoverParticipants(){const c=[];for(const u of y.HoverParticipantRegistry.getAll()){const r=this._instantiationService.createInstance(u,this._editor);c.push(r)}return c.sort((u,r)=>u.hoverOrdinal-r.hoverOrdinal),this._register(this._contentHoverWidget.onDidResize(()=>{this._participants.forEach(u=>{var r;return(r=u.handleResize)===null||r===void 0?void 0:r.call(u)})})),c}_registerListeners(){this._register(this._hoverOperation.onResult(c=>{if(!this._computer.anchor)return;const u=c.hasLoadingMessage?this._addLoadingMessage(c.value):c.value;this._withResult(new s.HoverResult(this._computer.anchor,u,c.isComplete))})),this._register(f.addStandardDisposableListener(this._contentHoverWidget.getDomNode(),"keydown",c=>{c.equals(9)&&this.hide()})),this._register(E.TokenizationRegistry.onDidChange(()=>{this._contentHoverWidget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(c,u,r,a,l){if(!(this._contentHoverWidget.position&&this._currentResult))return c?(this._startHoverOperationIfNecessary(c,u,r,a,!1),!0):!1;const p=this._editor.getOption(60).sticky,h=l&&this._contentHoverWidget.isMouseGettingCloser(l.event.posx,l.event.posy);return p&&h?(c&&this._startHoverOperationIfNecessary(c,u,r,a,!0),!0):c?this._currentResult.anchor.equals(c)?!0:c.canAdoptVisibleHover(this._currentResult.anchor,this._contentHoverWidget.position)?(this._setCurrentResult(this._currentResult.filter(c)),this._startHoverOperationIfNecessary(c,u,r,a,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(c,u,r,a,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(c,u,r,a,l){this._computer.anchor&&this._computer.anchor.equals(c)||(this._hoverOperation.cancel(),this._computer.anchor=c,this._computer.shouldFocus=a,this._computer.source=r,this._computer.insistOnKeepingHoverVisible=l,this._hoverOperation.start(u))}_setCurrentResult(c){let u=c;if(this._currentResult===u)return;u&&u.hoverParts.length===0&&(u=null),this._currentResult=u,this._currentResult?this._showHover(this._currentResult):this._hideHover()}_addLoadingMessage(c){if(!this._computer.anchor)return c;for(const u of this._participants){if(!u.createLoadingMessage)continue;const r=u.createLoadingMessage(this._computer.anchor);if(r)return c.slice(0).concat([r])}return c}_withResult(c){if(this._contentHoverWidget.position&&this._currentResult&&this._currentResult.isComplete||this._setCurrentResult(c),!c.isComplete)return;const a=c.hoverParts.length===0,l=this._computer.insistOnKeepingHoverVisible;a&&l||this._setCurrentResult(c)}_showHover(c){const u=this._getHoverContext();this._renderedContentHover=new t.RenderedContentHover(this._editor,c,this._participants,this._computer,u,this._keybindingService),this._renderedContentHover.domNodeHasChildren?this._contentHoverWidget.show(this._renderedContentHover):this._renderedContentHover.dispose()}_hideHover(){this._contentHoverWidget.hide()}_getHoverContext(){return{hide:()=>{this.hide()},onContentsChanged:()=>{this._onContentsChanged.fire(),this._contentHoverWidget.onContentsChanged()},setMinimumDimensions:a=>{this._contentHoverWidget.setMinimumDimensions(a)}}}showsOrWillShow(c){if(this._contentHoverWidget.isResizing)return!0;const r=this._findHoverAnchorCandidates(c);if(!(r.length>0))return this._startShowingOrUpdateHover(null,0,0,!1,c);const l=r[0];return this._startShowingOrUpdateHover(l,0,0,!1,c)}_findHoverAnchorCandidates(c){const u=[];for(const a of this._participants){if(!a.suggestHoverAnchor)continue;const l=a.suggestHoverAnchor(c);l&&u.push(l)}const r=c.target;switch(r.type){case 6:{u.push(new y.HoverRangeAnchor(0,r.range,c.event.posx,c.event.posy));break}case 7:{const a=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;if(!(!r.detail.isAfterLines&&typeof r.detail.horizontalDistanceToText=="number"&&r.detail.horizontalDistanceToText<a))break;u.push(new y.HoverRangeAnchor(0,r.range,c.event.posx,c.event.posy));break}}return u.sort((a,l)=>l.priority-a.priority),u}startShowingAtRange(c,u,r,a){this._startShowingOrUpdateHover(new y.HoverRangeAnchor(0,c,void 0,void 0),u,r,a,null)}async updateHoverVerbosityLevel(c,u,r){var a;(a=this._renderedContentHover)===null||a===void 0||a.updateHoverVerbosityLevel(c,u,r)}doesHoverAtIndexSupportVerbosityAction(c,u){var r,a;return(a=(r=this._renderedContentHover)===null||r===void 0?void 0:r.doesHoverAtIndexSupportVerbosityAction(c,u))!==null&&a!==void 0?a:!1}getAccessibleWidgetContent(){var c;return(c=this._renderedContentHover)===null||c===void 0?void 0:c.getAccessibleWidgetContent()}getAccessibleWidgetContentAtIndex(c){var u;return(u=this._renderedContentHover)===null||u===void 0?void 0:u.getAccessibleWidgetContentAtIndex(c)}focusedHoverPartIndex(){var c,u;return(u=(c=this._renderedContentHover)===null||c===void 0?void 0:c.focusedHoverPartIndex)!==null&&u!==void 0?u:-1}containsNode(c){return c?this._contentHoverWidget.getDomNode().contains(c):!1}focus(){this._contentHoverWidget.focus()}scrollUp(){this._contentHoverWidget.scrollUp()}scrollDown(){this._contentHoverWidget.scrollDown()}scrollLeft(){this._contentHoverWidget.scrollLeft()}scrollRight(){this._contentHoverWidget.scrollRight()}pageUp(){this._contentHoverWidget.pageUp()}pageDown(){this._contentHoverWidget.pageDown()}goToTop(){this._contentHoverWidget.goToTop()}goToBottom(){this._contentHoverWidget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){var c,u;return(u=(c=this._renderedContentHover)===null||c===void 0?void 0:c.isColorPickerVisible())!==null&&u!==void 0?u:!1}get isVisibleFromKeyboard(){return this._contentHoverWidget.isVisibleFromKeyboard}get isVisible(){return this._contentHoverWidget.isVisible}get isFocused(){return this._contentHoverWidget.isFocused}get isResizing(){return this._contentHoverWidget.isResizing}get widget(){return this._contentHoverWidget}};e.ContentHoverController=i,e.ContentHoverController=i=ke([ge(1,m.IInstantiationService),ge(2,w.IKeybindingService)],i)}),define(re[289],ae([1,0,208,2,7,281,31,14,386,837,705,6,237]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.HoverController=void 0;const t=!1;let i=o=class extends k.Disposable{constructor(c,u,r){super(),this._editor=c,this._instantiationService=u,this._keybindingService=r,this._onHoverContentsChanged=this._register(new s.Emitter),this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new k.DisposableStore,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new m.RunOnceScheduler(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(c){return c.getContribution(o.ID)}_hookListeners(){const c=this._editor.getOption(60);this._hoverSettings={enabled:c.enabled,sticky:c.sticky,hidingDelay:c.delay},c.enabled?(this._listenersStore.add(this._editor.onMouseDown(u=>this._onEditorMouseDown(u))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(u=>this._onEditorMouseMove(u))),this._listenersStore.add(this._editor.onKeyDown(u=>this._onKeyDown(u)))):(this._listenersStore.add(this._editor.onMouseMove(u=>this._onEditorMouseMove(u))),this._listenersStore.add(this._editor.onKeyDown(u=>this._onKeyDown(u)))),this._listenersStore.add(this._editor.onMouseLeave(u=>this._onEditorMouseLeave(u))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(u=>this._onEditorScrollChanged(u)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(c){(c.scrollTopChanged||c.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(c){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget(c)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget(c){return!!(this._isMouseOnContentHoverWidget(c)||this._isMouseOnMarginHoverWidget(c)||this._isContentWidgetResizing())}_isMouseOnMarginHoverWidget(c){const u=c.target;return u?u.type===12&&u.detail===v.MarginHoverWidget.ID:!1}_isMouseOnContentHoverWidget(c){const u=c.target;return u?u.type===9&&u.detail===w.ContentHoverWidget.ID:!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(c){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._shouldNotHideCurrentHoverWidget(c))||t||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(c){const u=this._hoverSettings.sticky,r=(p,h)=>{const g=this._isMouseOnMarginHoverWidget(p);return h&&g},a=(p,h)=>{const g=this._isMouseOnContentHoverWidget(p);return h&&g},l=p=>{var h;const g=this._isMouseOnContentHoverWidget(p),C=(h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible;return g&&C},d=(p,h)=>{var g,C,S,_;return h&&((g=this._contentWidget)===null||g===void 0?void 0:g.containsNode((C=p.event.browserEvent.view)===null||C===void 0?void 0:C.document.activeElement))&&!(!((_=(S=p.event.browserEvent.view)===null||S===void 0?void 0:S.getSelection())===null||_===void 0)&&_.isCollapsed)};return!!(r(c,u)||a(c,u)||l(c)||d(c,u))}_onEditorMouseMove(c){var u,r,a,l;if(this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._mouseMoveEvent=c,!((u=this._contentWidget)===null||u===void 0)&&u.isFocused||!((r=this._contentWidget)===null||r===void 0)&&r.isResizing))return;const d=this._hoverSettings.sticky;if(d&&(!((a=this._contentWidget)===null||a===void 0)&&a.isVisibleFromKeyboard))return;if(this._shouldNotRecomputeCurrentHoverWidget(c)){this._reactToEditorMouseMoveRunner.cancel();return}const h=this._hoverSettings.hidingDelay;if(((l=this._contentWidget)===null||l===void 0?void 0:l.isVisible)&&d&&h>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(h);return}this._reactToEditorMouseMove(c)}_reactToEditorMouseMove(c){var u;if(!c)return;const a=(u=c.target.element)===null||u===void 0?void 0:u.classList.contains("colorpicker-color-decoration"),l=this._editor.getOption(149),d=this._hoverSettings.enabled,p=this._hoverState.activatedByDecoratorClick;if(a&&(l==="click"&&!p||l==="hover"&&!d&&!t||l==="clickAndHover"&&!d&&!p)||!a&&!d&&!p){this._hideWidgets();return}this._tryShowHoverWidget(c,0)||this._tryShowHoverWidget(c,1)||t||this._hideWidgets()}_tryShowHoverWidget(c,u){const r=this._getOrCreateContentWidget(),a=this._getOrCreateGlyphWidget();let l,d;switch(u){case 0:l=r,d=a;break;case 1:l=a,d=r;break;default:throw new Error(`HoverWidgetType ${u} is unrecognized`)}const p=l.showsOrWillShow(c);return p&&d.hide(),p}_onKeyDown(c){var u;if(!this._editor.hasModel())return;const r=this._keybindingService.softDispatch(c,this._editor.getDomNode()),a=r.kind===1||r.kind===2&&(r.commandId===f.SHOW_OR_FOCUS_HOVER_ACTION_ID||r.commandId===f.INCREASE_HOVER_VERBOSITY_ACTION_ID||r.commandId===f.DECREASE_HOVER_VERBOSITY_ACTION_ID)&&((u=this._contentWidget)===null||u===void 0?void 0:u.isVisible);c.keyCode===5||c.keyCode===6||c.keyCode===57||c.keyCode===4||a||this._hideWidgets()}_hideWidgets(){var c,u,r;t||this._hoverState.mouseDown&&(!((c=this._contentWidget)===null||c===void 0)&&c.isColorPickerVisible)||I.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,(u=this._glyphWidget)===null||u===void 0||u.hide(),(r=this._contentWidget)===null||r===void 0||r.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(b.ContentHoverController,this._editor),this._listenersStore.add(this._contentWidget.onContentsChanged(()=>this._onHoverContentsChanged.fire()))),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(v.MarginHoverWidget,this._editor)),this._glyphWidget}showContentHover(c,u,r,a,l=!1){this._hoverState.activatedByDecoratorClick=l,this._getOrCreateContentWidget().startShowingAtRange(c,u,r,a)}_isContentWidgetResizing(){var c;return((c=this._contentWidget)===null||c===void 0?void 0:c.widget.isResizing)||!1}focusedHoverPartIndex(){return this._getOrCreateContentWidget().focusedHoverPartIndex()}doesHoverAtIndexSupportVerbosityAction(c,u){return this._getOrCreateContentWidget().doesHoverAtIndexSupportVerbosityAction(c,u)}updateHoverVerbosityLevel(c,u,r){this._getOrCreateContentWidget().updateHoverVerbosityLevel(c,u,r)}focus(){var c;(c=this._contentWidget)===null||c===void 0||c.focus()}scrollUp(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollUp()}scrollDown(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollDown()}scrollLeft(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollLeft()}scrollRight(){var c;(c=this._contentWidget)===null||c===void 0||c.scrollRight()}pageUp(){var c;(c=this._contentWidget)===null||c===void 0||c.pageUp()}pageDown(){var c;(c=this._contentWidget)===null||c===void 0||c.pageDown()}goToTop(){var c;(c=this._contentWidget)===null||c===void 0||c.goToTop()}goToBottom(){var c;(c=this._contentWidget)===null||c===void 0||c.goToBottom()}getAccessibleWidgetContent(){var c;return(c=this._contentWidget)===null||c===void 0?void 0:c.getAccessibleWidgetContent()}getAccessibleWidgetContentAtIndex(c){var u;return(u=this._contentWidget)===null||u===void 0?void 0:u.getAccessibleWidgetContentAtIndex(c)}get isColorPickerVisible(){var c;return(c=this._contentWidget)===null||c===void 0?void 0:c.isColorPickerVisible}get isHoverVisible(){var c;return(c=this._contentWidget)===null||c===void 0?void 0:c.isVisible}dispose(){var c,u;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(c=this._glyphWidget)===null||c===void 0||c.dispose(),(u=this._contentWidget)===null||u===void 0||u.dispose()}};e.HoverController=i,i.ID="editor.contrib.hover",e.HoverController=i=o=ke([ge(1,E.IInstantiationService),ge(2,y.IKeybindingService)],i)}),define(re[838],ae([1,0,2,15,5,420,285,289,69]),function(le,e,f,k,E,I,y,m,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class b extends f.Disposable{constructor(s){super(),this._editor=s,this._register(s.onMouseDown(o=>this.onMouseDown(o)))}dispose(){super.dispose()}onMouseDown(s){const o=this._editor.getOption(149);if(o!=="click"&&o!=="clickAndHover")return;const t=s.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==I.ColorDecorationInjectedTextMarker||!t.range)return;const i=this._editor.getContribution(m.HoverController.ID);if(i&&!i.isColorPickerVisible){const n=new E.Range(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);i.showContentHover(n,1,0,!1,!0)}}}e.ColorContribution=b,b.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(b.ID,b,2),w.HoverParticipantRegistry.register(y.ColorHoverParticipant)}),define(re[839],ae([1,0,208,70,15,5,20,426,289,27,3,237]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecreaseHoverVerbosityLevel=e.IncreaseHoverVerbosityLevel=e.GoToBottomHoverAction=e.GoToTopHoverAction=e.PageDownHoverAction=e.PageUpHoverAction=e.ScrollRightHoverAction=e.ScrollLeftHoverAction=e.ScrollDownHoverAction=e.ScrollUpHoverAction=e.ShowDefinitionPreviewHoverAction=e.ShowOrFocusHoverAction=void 0;var s;(function(g){g.NoAutoFocus="noAutoFocus",g.FocusIfVisible="focusIfVisible",g.AutoFocusImmediately="autoFocusImmediately"})(s||(s={}));class o extends E.EditorAction{constructor(){super({id:f.SHOW_OR_FOCUS_HOVER_ACTION_ID,label:v.localize(487,"Show or Focus Hover"),metadata:{description:v.localize2(500,"Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[s.NoAutoFocus,s.FocusIfVisible,s.AutoFocusImmediately],enumDescriptions:[v.localize(488,"The hover will not automatically take focus."),v.localize(489,"The hover will take focus only if it is already visible."),v.localize(490,"The hover will automatically take focus when it appears.")],default:s.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2087),weight:100}})}run(C,S,_){if(!S.hasModel())return;const L=w.HoverController.get(S);if(!L)return;const D=_?.focus;let T=s.FocusIfVisible;Object.values(s).includes(D)?T=D:typeof D=="boolean"&&D&&(T=s.AutoFocusImmediately);const N=R=>{const M=S.getPosition(),P=new I.Range(M.lineNumber,M.column,M.lineNumber,M.column);L.showContentHover(P,1,1,R)},A=S.getOption(2)===2;L.isHoverVisible?T!==s.NoAutoFocus?L.focus():N(A):N(A||T===s.AutoFocusImmediately)}}e.ShowOrFocusHoverAction=o;class t extends E.EditorAction{constructor(){super({id:f.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID,label:v.localize(491,"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:v.localize2(501,"Show the definition preview hover in the editor.")}})}run(C,S){const _=w.HoverController.get(S);if(!_)return;const L=S.getPosition();if(!L)return;const D=new I.Range(L.lineNumber,L.column,L.lineNumber,L.column),T=m.GotoDefinitionAtPositionEditorContribution.get(S);if(!T)return;T.startFindDefinitionFromCursor(L).then(()=>{_.showContentHover(D,1,1,!0)})}}e.ShowDefinitionPreviewHoverAction=t;class i extends E.EditorAction{constructor(){super({id:f.SCROLL_UP_HOVER_ACTION_ID,label:v.localize(492,"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:16,weight:100},metadata:{description:v.localize2(502,"Scroll up the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.scrollUp()}}e.ScrollUpHoverAction=i;class n extends E.EditorAction{constructor(){super({id:f.SCROLL_DOWN_HOVER_ACTION_ID,label:v.localize(493,"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:18,weight:100},metadata:{description:v.localize2(503,"Scroll down the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.scrollDown()}}e.ScrollDownHoverAction=n;class c extends E.EditorAction{constructor(){super({id:f.SCROLL_LEFT_HOVER_ACTION_ID,label:v.localize(494,"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:15,weight:100},metadata:{description:v.localize2(504,"Scroll left the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.scrollLeft()}}e.ScrollLeftHoverAction=c;class u extends E.EditorAction{constructor(){super({id:f.SCROLL_RIGHT_HOVER_ACTION_ID,label:v.localize(495,"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:17,weight:100},metadata:{description:v.localize2(505,"Scroll right the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.scrollRight()}}e.ScrollRightHoverAction=u;class r extends E.EditorAction{constructor(){super({id:f.PAGE_UP_HOVER_ACTION_ID,label:v.localize(496,"Page Up Hover"),alias:"Page Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:v.localize2(506,"Page up the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.pageUp()}}e.PageUpHoverAction=r;class a extends E.EditorAction{constructor(){super({id:f.PAGE_DOWN_HOVER_ACTION_ID,label:v.localize(497,"Page Down Hover"),alias:"Page Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:v.localize2(507,"Page down the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.pageDown()}}e.PageDownHoverAction=a;class l extends E.EditorAction{constructor(){super({id:f.GO_TO_TOP_HOVER_ACTION_ID,label:v.localize(498,"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:v.localize2(508,"Go to the top of the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.goToTop()}}e.GoToTopHoverAction=l;class d extends E.EditorAction{constructor(){super({id:f.GO_TO_BOTTOM_HOVER_ACTION_ID,label:v.localize(499,"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:v.localize2(509,"Go to the bottom of the editor hover.")}})}run(C,S){const _=w.HoverController.get(S);_&&_.goToBottom()}}e.GoToBottomHoverAction=d;class p extends E.EditorAction{constructor(){super({id:f.INCREASE_HOVER_VERBOSITY_ACTION_ID,label:f.INCREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Increase Hover Verbosity Level",precondition:y.EditorContextKeys.hoverVisible})}run(C,S,_){const L=w.HoverController.get(S);if(!L)return;const D=_?.index!==void 0?_.index:L.focusedHoverPartIndex();L.updateHoverVerbosityLevel(b.HoverVerbosityAction.Increase,D,_?.focus)}}e.IncreaseHoverVerbosityLevel=p;class h extends E.EditorAction{constructor(){super({id:f.DECREASE_HOVER_VERBOSITY_ACTION_ID,label:f.DECREASE_HOVER_VERBOSITY_ACTION_LABEL,alias:"Decrease Hover Verbosity Level",precondition:y.EditorContextKeys.hoverVisible})}run(C,S,_){var L;const D=w.HoverController.get(S);if(!D)return;const T=_?.index!==void 0?_.index:D.focusedHoverPartIndex();(L=w.HoverController.get(S))===null||L===void 0||L.updateHoverVerbosityLevel(b.HoverVerbosityAction.Decrease,T,_?.focus)}}e.DecreaseHoverVerbosityLevel=h}),define(re[840],ae([1,0,839,15,32,25,69,214,835,289,376,664,237]),function(le,e,f,k,E,I,y,m,w,b,v,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(b.HoverController.ID,b.HoverController,2),(0,k.registerEditorAction)(f.ShowOrFocusHoverAction),(0,k.registerEditorAction)(f.ShowDefinitionPreviewHoverAction),(0,k.registerEditorAction)(f.ScrollUpHoverAction),(0,k.registerEditorAction)(f.ScrollDownHoverAction),(0,k.registerEditorAction)(f.ScrollLeftHoverAction),(0,k.registerEditorAction)(f.ScrollRightHoverAction),(0,k.registerEditorAction)(f.PageUpHoverAction),(0,k.registerEditorAction)(f.PageDownHoverAction),(0,k.registerEditorAction)(f.GoToTopHoverAction),(0,k.registerEditorAction)(f.GoToBottomHoverAction),(0,k.registerEditorAction)(f.IncreaseHoverVerbosityLevel),(0,k.registerEditorAction)(f.DecreaseHoverVerbosityLevel),y.HoverParticipantRegistry.register(m.MarkdownHoverParticipant),y.HoverParticipantRegistry.register(w.MarkerHoverParticipant),(0,I.registerThemingParticipant)((o,t)=>{const i=o.getColor(E.editorHoverBorder);i&&(t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${i.transparent(.5)}; }`))}),v.AccessibleViewRegistry.register(new s.HoverAccessibleView),v.AccessibleViewRegistry.register(new s.HoverAccessibilityHelp),v.AccessibleViewRegistry.register(new s.ExtHoverAccessibleView)}),define(re[841],ae([1,0,15,69,428,429]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(E.InlayHintsController.ID,E.InlayHintsController,1),k.HoverParticipantRegistry.register(I.InlayHintsHover)}),define(re[430],ae([1,0,2,17,828,827,7,58,29,12,20,204,5,275,427,9,18,34,78,4,360,73,286,349]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let C=g=class extends f.Disposable{constructor(_,L,D,T,N,A,R){super(),this._editor=_,this._contextMenuService=L,this._languageFeaturesService=D,this._instaService=T,this._contextKeyService=R,this._sessionStore=new f.DisposableStore,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._stickyScrollWidget=new E.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new I.StickyLineCandidateProvider(this._editor,D,N),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=E.StickyScrollWidgetState.Empty,this._onDidResize(),this._readConfiguration();const M=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(x=>{this._readConfigurationChange(x)})),this._register(a.addDisposableListener(M,a.EventType.CONTEXT_MENU,async x=>{this._onContextMenu(a.getWindow(M),x)})),this._stickyScrollFocusedContextKey=v.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=v.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const P=this._register(a.trackFocus(M));this._register(P.onDidBlur(x=>{this._positionRevealed===!1&&M.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(P.onDidFocus(x=>{this.focus()})),this._registerMouseListeners(),this._register(a.addDisposableListener(M,a.EventType.MOUSE_DOWN,x=>{this._onMouseDown=!0}))}static get(_){return _.getContribution(g.ID)}_disposeFocusStickyScrollStore(){var _;this._stickyScrollFocusedContextKey.set(!1),(_=this._focusDisposableStore)===null||_===void 0||_.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new f.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(_){this._focusedStickyElementIndex=_?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const _=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:_[this._focusedStickyElementIndex],column:1})}_revealPosition(_){this._reveaInEditor(_,()=>this._editor.revealPosition(_))}_revealLineInCenterIfOutsideViewport(_){this._reveaInEditor(_,()=>this._editor.revealLineInCenterIfOutsideViewport(_.lineNumber,0))}_reveaInEditor(_,L){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,L(),this._editor.setSelection(o.Range.fromPositions(_)),this._editor.focus()}_registerMouseListeners(){const _=this._register(new f.DisposableStore),L=this._register(new s.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:N=>{const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);return A?A.lineNumber:0}})),D=N=>{if(!this._editor.hasModel()||N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return null;const A=N.target.element;if(!A||A.innerText!==A.innerHTML)return null;const R=this._stickyScrollWidget.getEditorPositionFromNode(A);return R?{range:new o.Range(R.lineNumber,R.column,R.lineNumber,R.column+A.innerText.length),textElement:A}:null},T=this._stickyScrollWidget.getDomNode();this._register(a.addStandardDisposableListener(T,a.EventType.CLICK,N=>{if(N.ctrlKey||N.altKey||N.metaKey||!N.leftButton)return;if(N.shiftKey){const P=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(P===null)return;const x=new n.Position(this._endLineNumbers[P],1);this._revealLineInCenterIfOutsideViewport(x);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(N.target)){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);this._toggleFoldingRegionForLine(P);return}if(!this._stickyScrollWidget.isInStickyLine(N.target))return;let M=this._stickyScrollWidget.getEditorPositionFromNode(N.target);if(!M){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);if(P===null)return;M=new n.Position(P,1)}this._revealPosition(M)})),this._register(a.addStandardDisposableListener(T,a.EventType.MOUSE_MOVE,N=>{if(N.shiftKey){const A=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(A===null||this._showEndForLine!==null&&this._showEndForLine===A)return;this._showEndForLine=A,this._renderStickyScroll();return}this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(a.addDisposableListener(T,a.EventType.MOUSE_LEAVE,N=>{this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(L.onMouseMoveOrRelevantKeyDown(([N,A])=>{const R=D(N);if(!R||!N.hasTriggerModifier||!this._editor.hasModel()){_.clear();return}const{range:M,textElement:P}=R;if(!M.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=M,_.clear();else if(P.style.textDecoration==="underline")return;const x=new c.CancellationTokenSource;_.add((0,f.toDisposable)(()=>x.dispose(!0)));let O;(0,t.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new n.Position(M.startLineNumber,M.startColumn+1),x.token).then(B=>{if(!x.token.isCancellationRequested)if(B.length!==0){this._candidateDefinitionsLength=B.length;const H=P;O!==H?(_.clear(),O=H,O.style.textDecoration="underline",_.add((0,f.toDisposable)(()=>{O.style.textDecoration="none"}))):O||(O=H,O.style.textDecoration="underline",_.add((0,f.toDisposable)(()=>{O.style.textDecoration="none"})))}else _.clear()})})),this._register(L.onCancel(()=>{_.clear()})),this._register(L.onExecute(async N=>{if(N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return;const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);A&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:A.lineNumber,column:1})),this._instaService.invokeFunction(i.goToDefinitionWithLocation,N,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(_,L){const D=new d.StandardMouseEvent(_,L);this._contextMenuService.showContextMenu({menuId:w.MenuId.StickyScrollContext,getAnchor:()=>D})}_toggleFoldingRegionForLine(_){if(!this._foldingModel||_===null)return;const L=this._stickyScrollWidget.getRenderedStickyLine(_),D=L?.foldingIcon;if(!D)return;(0,h.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[_]),D.isCollapsed=!D.isCollapsed;const T=(D.isCollapsed?this._editor.getTopForLineNumber(D.foldingEndLine):this._editor.getTopForLineNumber(D.foldingStartLine))-this._editor.getOption(67)*L.index+1;this._editor.setScrollTop(T),this._renderStickyScroll(_)}_readConfiguration(){const _=this._editor.getOption(116);if(_.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else _.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(D=>{D.scrollTopChanged&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(D=>this._onTokensChange(D))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=void 0,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=void 0,this._renderStickyScroll(0)}))}_readConfigurationChange(_){(_.hasChanged(116)||_.hasChanged(73)||_.hasChanged(67)||_.hasChanged(111)||_.hasChanged(68))&&this._readConfiguration(),_.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(_){const L=this._stickyScrollWidget.getCurrentLines();for(const D of L)for(const T of _.ranges)if(D>=T.fromLineNumber&&D<=T.toLineNumber)return!0;return!1}_onTokensChange(_){this._needsUpdate(_)&&this._renderStickyScroll(0)}_onDidResize(){const L=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(L*.25)}async _renderStickyScroll(_){const L=this._editor.getModel();if(!L||L.isTooLargeForTokenization()){this._resetState();return}const D=this._updateAndGetMinRebuildFromLine(_),T=this._stickyLineCandidateProvider.getVersionId();if(T===void 0||T===L.getVersionId())if(!this._focused)await this._updateState(D);else if(this._focusedStickyElementIndex===-1)await this._updateState(D),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const A=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];await this._updateState(D),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(A)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}_updateAndGetMinRebuildFromLine(_){if(_!==void 0){const L=this._minRebuildFromLine!==void 0?this._minRebuildFromLine:1/0;this._minRebuildFromLine=Math.min(_,L)}return this._minRebuildFromLine}async _updateState(_){var L,D;this._minRebuildFromLine=void 0,this._foldingModel=(D=await((L=p.FoldingController.get(this._editor))===null||L===void 0?void 0:L.getFoldingModel()))!==null&&D!==void 0?D:void 0,this._widgetState=this.findScrollWidgetState();const T=this._widgetState.startLineNumbers.length>0;this._stickyScrollVisibleContextKey.set(T),this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,_)}async _resetState(){this._minRebuildFromLine=void 0,this._foldingModel=void 0,this._widgetState=E.StickyScrollWidgetState.Empty,this._stickyScrollVisibleContextKey.set(!1),this._stickyScrollWidget.setState(void 0,void 0)}findScrollWidgetState(){const _=this._editor.getOption(67),L=Math.min(this._maxStickyLines,this._editor.getOption(116).maxLineCount),D=this._editor.getScrollTop();let T=0;const N=[],A=[],R=this._editor.getVisibleRanges();if(R.length!==0){const M=new l.StickyRange(R[0].startLineNumber,R[R.length-1].endLineNumber),P=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(M);for(const x of P){const O=x.startLineNumber,B=x.endLineNumber,H=x.nestingDepth;if(B-O>0){const K=(H-1)*_,V=H*_,j=this._editor.getBottomForLineNumber(O)-D,U=this._editor.getTopForLineNumber(B)-D,Y=this._editor.getBottomForLineNumber(B)-D;if(K>U&&K<=Y){N.push(O),A.push(B+1),T=Y-V;break}else V>j&&V<=Y&&(N.push(O),A.push(B+1));if(N.length===L)break}}}return this._endLineNumbers=A,new E.StickyScrollWidgetState(N,A,T,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=C,C.ID="store.contrib.stickyScrollController",e.StickyScrollController=C=g=ke([ge(1,m.IContextMenuService),ge(2,k.ILanguageFeaturesService),ge(3,y.IInstantiationService),ge(4,u.ILanguageConfigurationService),ge(5,r.ILanguageFeatureDebounceService),ge(6,b.IContextKeyService)],C)}),define(re[842],ae([1,0,15,3,665,29,28,12,20,430]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class v extends I.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,k.localize2)(234,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,k.localize)(230,"&&Toggle Editor Sticky Scroll")},metadata:{description:(0,k.localize2)(235,"Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:E.Categories.View,toggled:{condition:m.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(231,"Sticky Scroll"),mnemonicTitle:(0,k.localize)(232,"&&Sticky Scroll")},menu:[{id:I.MenuId.CommandPalette},{id:I.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:I.MenuId.StickyScrollContext}]})}async run(r){const a=r.get(y.IConfigurationService),l=!a.getValue("editor.stickyScroll.enabled");return a.updateValue("editor.stickyScroll.enabled",l)}}e.ToggleStickyScroll=v;const s=100;class o extends f.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,k.localize2)(236,"Focus on the editor sticky scroll"),mnemonicTitle:(0,k.localize)(233,"&&Focus Sticky Scroll")},precondition:m.ContextKeyExpr.and(m.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),w.EditorContextKeys.stickyScrollVisible),menu:[{id:I.MenuId.CommandPalette}]})}runEditorCommand(r,a){var l;(l=b.StickyScrollController.get(a))===null||l===void 0||l.focus()}}e.FocusStickyScroll=o;class t extends f.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,k.localize2)(237,"Select the next editor sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:18}})}runEditorCommand(r,a){var l;(l=b.StickyScrollController.get(a))===null||l===void 0||l.focusNext()}}e.SelectNextStickyScrollLine=t;class i extends f.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,k.localize2)(238,"Select the previous sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:16}})}runEditorCommand(r,a){var l;(l=b.StickyScrollController.get(a))===null||l===void 0||l.focusPrevious()}}e.SelectPreviousStickyScrollLine=i;class n extends f.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,k.localize2)(239,"Go to the focused sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:3}})}runEditorCommand(r,a){var l;(l=b.StickyScrollController.get(a))===null||l===void 0||l.goToFocused()}}e.GoToStickyScrollLine=n;class c extends f.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:(0,k.localize2)(240,"Select Editor"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:s,primary:9}})}runEditorCommand(r,a){var l;(l=b.StickyScrollController.get(a))===null||l===void 0||l.selectEditor()}}e.SelectEditor=c}),define(re[843],ae([1,0,15,842,430,29]),function(le,e,f,k,E,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(E.StickyScrollController.ID,E.StickyScrollController,1),(0,I.registerAction2)(k.ToggleStickyScroll),(0,I.registerAction2)(k.FocusStickyScroll),(0,I.registerAction2)(k.SelectPreviousStickyScrollLine),(0,I.registerAction2)(k.SelectNextStickyScrollLine),(0,I.registerAction2)(k.GoToStickyScrollLine),(0,I.registerAction2)(k.SelectEditor)}),define(re[844],ae([1,0,15,35,425,28,12,7,49,100]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let v=class extends E.ReferencesController{constructor(o,t,i,n,c,u,r){super(!0,o,t,i,n,c,u,r)}};e.StandaloneReferencesController=v,e.StandaloneReferencesController=v=ke([ge(1,y.IContextKeyService),ge(2,k.ICodeEditorService),ge(3,w.INotificationService),ge(4,m.IInstantiationService),ge(5,b.IStorageService),ge(6,I.IConfigurationService)],v),(0,f.registerEditorContribution)(E.ReferencesController.ID,v,4)}),define(re[845],ae([1,0,8,2,46,110,3,178,48,49,216]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const s=!1;function o(h){return h.scheme===E.Schemas.file?h.fsPath:h.path}let t=0;class i{constructor(g,C,S,_,L,D,T){this.id=++t,this.type=0,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabel=C,this.strResource=S,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=_,this.groupOrder=L,this.sourceId=D,this.sourceOrder=T,this.isValid=!0}setValid(g){this.isValid=g}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(g,C){this.resourceLabel=g,this.reason=C}}class c{constructor(){this.elements=new Map}createMessage(){const g=[],C=[];for(const[,_]of this.elements)(_.reason===0?g:C).push(_.resourceLabel);const S=[];return g.length>0&&S.push(y.localize(1044,"The following files have been closed and modified on disk: {0}.",g.join(", "))),C.length>0&&S.push(y.localize(1045,"The following files have been modified in an incompatible way: {0}.",C.join(", "))),S.join(`
`)}get size(){return this.elements.size}has(g){return this.elements.has(g)}set(g,C){this.elements.set(g,C)}delete(g){return this.elements.delete(g)}}class u{constructor(g,C,S,_,L,D,T){this.id=++t,this.type=1,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabels=C,this.strResources=S,this.groupId=_,this.groupOrder=L,this.sourceId=D,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(g,C,S){this.removedResources||(this.removedResources=new c),this.removedResources.has(C)||this.removedResources.set(C,new n(g,S))}setValid(g,C,S){S?this.invalidatedResources&&(this.invalidatedResources.delete(C),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new c),this.invalidatedResources.has(C)||this.invalidatedResources.set(C,new n(g,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(g,C){this.resourceLabel=g,this.strResource=C,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const g of this._past)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const g=[];g.push(`* ${this.strResource}:`);for(let C=0;C<this._past.length;C++)g.push(`   * [UNDO] ${this._past[C]}`);for(let C=this._future.length-1;C>=0;C--)g.push(`   * [REDO] ${this._future[C]}`);return g.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(g,C){g.type===1?g.setValid(this.resourceLabel,this.strResource,C):g.setValid(C)}setElementsValidFlag(g,C){for(const S of this._past)C(S.actual)&&this._setElementValidFlag(S,g);for(const S of this._future)C(S.actual)&&this._setElementValidFlag(S,g)}pushElement(g){for(const C of this._future)C.type===1&&C.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(g),this.versionId++}createSnapshot(g){const C=[];for(let S=0,_=this._past.length;S<_;S++)C.push(this._past[S].id);for(let S=this._future.length-1;S>=0;S--)C.push(this._future[S].id);return new v.ResourceEditStackSnapshot(g,C)}restoreSnapshot(g){const C=g.elements.length;let S=!0,_=0,L=-1;for(let T=0,N=this._past.length;T<N;T++,_++){const A=this._past[T];S&&(_>=C||A.id!==g.elements[_])&&(S=!1,L=0),!S&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let D=-1;for(let T=this._future.length-1;T>=0;T--,_++){const N=this._future[T];S&&(_>=C||N.id!==g.elements[_])&&(S=!1,D=T),!S&&N.type===1&&N.removeResource(this.resourceLabel,this.strResource,0)}L!==-1&&(this._past=this._past.slice(0,L)),D!==-1&&(this._future=this._future.slice(D+1)),this.versionId++}getElements(){const g=[],C=[];for(const S of this._past)g.push(S.actual);for(const S of this._future)C.push(S.actual);return{past:g,future:C}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(g,C){for(let S=this._past.length-1;S>=0;S--)if(this._past[S]===g){C.has(this.strResource)?this._past[S]=C.get(this.strResource):this._past.splice(S,1);break}this.versionId++}splitFutureWorkspaceElement(g,C){for(let S=this._future.length-1;S>=0;S--)if(this._future[S]===g){C.has(this.strResource)?this._future[S]=C.get(this.strResource):this._future.splice(S,1);break}this.versionId++}moveBackward(g){this._past.pop(),this._future.push(g),this.versionId++}moveForward(g){this._future.pop(),this._past.push(g),this.versionId++}}class a{constructor(g){this.editStacks=g,this._versionIds=[];for(let C=0,S=this.editStacks.length;C<S;C++)this._versionIds[C]=this.editStacks[C].versionId}isValid(){for(let g=0,C=this.editStacks.length;g<C;g++)if(this._versionIds[g]!==this.editStacks[g].versionId)return!1;return!0}}const l=new r("","");l.locked=!0;let d=class{constructor(g,C){this._dialogService=g,this._notificationService=C,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(g){for(const C of this._uriComparisonKeyComputers)if(C[0]===g.scheme)return C[1].getComparisonKey(g);return g.toString()}_print(g){console.log("------------------------------------"),console.log(`AFTER ${g}: `);const C=[];for(const S of this._editStacks)C.push(S[1].toString());console.log(C.join(`
`))}pushElement(g,C=v.UndoRedoGroup.None,S=v.UndoRedoSource.None){if(g.type===0){const _=o(g.resource),L=this.getUriComparisonKey(g.resource);this._pushElement(new i(g,_,L,C.id,C.nextOrder(),S.id,S.nextOrder()))}else{const _=new Set,L=[],D=[];for(const T of g.resources){const N=o(T),A=this.getUriComparisonKey(T);_.has(A)||(_.add(A),L.push(N),D.push(A))}L.length===1?this._pushElement(new i(g,L[0],D[0],C.id,C.nextOrder(),S.id,S.nextOrder())):this._pushElement(new u(g,L,D,C.id,C.nextOrder(),S.id,S.nextOrder()))}s&&this._print("pushElement")}_pushElement(g){for(let C=0,S=g.strResources.length;C<S;C++){const _=g.resourceLabels[C],L=g.strResources[C];let D;this._editStacks.has(L)?D=this._editStacks.get(L):(D=new r(_,L),this._editStacks.set(L,D)),D.pushElement(g)}}getLastElement(g){const C=this.getUriComparisonKey(g);if(this._editStacks.has(C)){const S=this._editStacks.get(C);if(S.hasFutureElements())return null;const _=S.getClosestPastElement();return _?_.actual:null}return null}_splitPastWorkspaceElement(g,C){const S=g.actual.split(),_=new Map;for(const L of S){const D=o(L.resource),T=this.getUriComparisonKey(L.resource),N=new i(L,D,T,0,0,0,0);_.set(N.strResource,N)}for(const L of g.strResources){if(C&&C.has(L))continue;this._editStacks.get(L).splitPastWorkspaceElement(g,_)}}_splitFutureWorkspaceElement(g,C){const S=g.actual.split(),_=new Map;for(const L of S){const D=o(L.resource),T=this.getUriComparisonKey(L.resource),N=new i(L,D,T,0,0,0,0);_.set(N.strResource,N)}for(const L of g.strResources){if(C&&C.has(L))continue;this._editStacks.get(L).splitFutureWorkspaceElement(g,_)}}removeElements(g){const C=typeof g=="string"?g:this.getUriComparisonKey(g);this._editStacks.has(C)&&(this._editStacks.get(C).dispose(),this._editStacks.delete(C)),s&&this._print("removeElements")}setElementsValidFlag(g,C,S){const _=this.getUriComparisonKey(g);this._editStacks.has(_)&&this._editStacks.get(_).setElementsValidFlag(C,S),s&&this._print("setElementsValidFlag")}createSnapshot(g){const C=this.getUriComparisonKey(g);return this._editStacks.has(C)?this._editStacks.get(C).createSnapshot(g):new v.ResourceEditStackSnapshot(g,[])}restoreSnapshot(g){const C=this.getUriComparisonKey(g.resource);if(this._editStacks.has(C)){const S=this._editStacks.get(C);S.restoreSnapshot(g),!S.hasPastElements()&&!S.hasFutureElements()&&(S.dispose(),this._editStacks.delete(C))}s&&this._print("restoreSnapshot")}getElements(g){const C=this.getUriComparisonKey(g);return this._editStacks.has(C)?this._editStacks.get(C).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(g){if(!g)return[null,null];let C=null,S=null;for(const[_,L]of this._editStacks){const D=L.getClosestPastElement();D&&D.sourceId===g&&(!C||D.sourceOrder>C.sourceOrder)&&(C=D,S=_)}return[C,S]}canUndo(g){if(g instanceof v.UndoRedoSource){const[,S]=this._findClosestUndoElementWithSource(g.id);return!!S}const C=this.getUriComparisonKey(g);return this._editStacks.has(C)?this._editStacks.get(C).hasPastElements():!1}_onError(g,C){(0,f.onUnexpectedError)(g);for(const S of C.strResources)this.removeElements(S);this._notificationService.error(g)}_acquireLocks(g){for(const C of g.editStacks)if(C.locked)throw new Error("Cannot acquire edit stack lock");for(const C of g.editStacks)C.locked=!0;return()=>{for(const C of g.editStacks)C.locked=!1}}_safeInvokeWithLocks(g,C,S,_,L){const D=this._acquireLocks(S);let T;try{T=C()}catch(N){return D(),_.dispose(),this._onError(N,g)}return T?T.then(()=>(D(),_.dispose(),L()),N=>(D(),_.dispose(),this._onError(N,g))):(D(),_.dispose(),L())}async _invokeWorkspacePrepare(g){if(typeof g.actual.prepareUndoRedo>"u")return k.Disposable.None;const C=g.actual.prepareUndoRedo();return typeof C>"u"?k.Disposable.None:C}_invokeResourcePrepare(g,C){if(g.actual.type!==1||typeof g.actual.prepareUndoRedo>"u")return C(k.Disposable.None);const S=g.actual.prepareUndoRedo();return S?(0,k.isDisposable)(S)?C(S):S.then(_=>C(_)):C(k.Disposable.None)}_getAffectedEditStacks(g){const C=[];for(const S of g.strResources)C.push(this._editStacks.get(S)||l);return new a(C)}_tryToSplitAndUndo(g,C,S,_){if(C.canSplit())return this._splitPastWorkspaceElement(C,S),this._notificationService.warn(_),new p(this._undo(g,0,!0));for(const L of C.strResources)this.removeElements(L);return this._notificationService.warn(_),new p}_checkWorkspaceUndo(g,C,S,_){if(C.removedResources)return this._tryToSplitAndUndo(g,C,C.removedResources,y.localize(1046,"Could not undo '{0}' across all files. {1}",C.label,C.removedResources.createMessage()));if(_&&C.invalidatedResources)return this._tryToSplitAndUndo(g,C,C.invalidatedResources,y.localize(1047,"Could not undo '{0}' across all files. {1}",C.label,C.invalidatedResources.createMessage()));const L=[];for(const T of S.editStacks)T.getClosestPastElement()!==C&&L.push(T.resourceLabel);if(L.length>0)return this._tryToSplitAndUndo(g,C,null,y.localize(1048,"Could not undo '{0}' across all files because changes were made to {1}",C.label,L.join(", ")));const D=[];for(const T of S.editStacks)T.locked&&D.push(T.resourceLabel);return D.length>0?this._tryToSplitAndUndo(g,C,null,y.localize(1049,"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",C.label,D.join(", "))):S.isValid()?null:this._tryToSplitAndUndo(g,C,null,y.localize(1050,"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",C.label))}_workspaceUndo(g,C,S){const _=this._getAffectedEditStacks(C),L=this._checkWorkspaceUndo(g,C,_,!1);return L?L.returnValue:this._confirmAndExecuteWorkspaceUndo(g,C,_,S)}_isPartOfUndoGroup(g){if(!g.groupId)return!1;for(const[,C]of this._editStacks){const S=C.getClosestPastElement();if(S){if(S===g){const _=C.getSecondClosestPastElement();if(_&&_.groupId===g.groupId)return!0}if(S.groupId===g.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(g,C,S,_){if(C.canSplit()&&!this._isPartOfUndoGroup(C)){let T;(function(R){R[R.All=0]="All",R[R.This=1]="This",R[R.Cancel=2]="Cancel"})(T||(T={}));const{result:N}=await this._dialogService.prompt({type:I.default.Info,message:y.localize(1051,"Would you like to undo '{0}' across all files?",C.label),buttons:[{label:y.localize(1052,"&&Undo in {0} Files",S.editStacks.length),run:()=>T.All},{label:y.localize(1053,"Undo this &&File"),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(N===T.Cancel)return;if(N===T.This)return this._splitPastWorkspaceElement(C,null),this._undo(g,0,!0);const A=this._checkWorkspaceUndo(g,C,S,!1);if(A)return A.returnValue;_=!0}let L;try{L=await this._invokeWorkspacePrepare(C)}catch(T){return this._onError(T,C)}const D=this._checkWorkspaceUndo(g,C,S,!0);if(D)return L.dispose(),D.returnValue;for(const T of S.editStacks)T.moveBackward(C);return this._safeInvokeWithLocks(C,()=>C.actual.undo(),S,L,()=>this._continueUndoInGroup(C.groupId,_))}_resourceUndo(g,C,S){if(!C.isValid){g.flushAllElements();return}if(g.locked){const _=y.localize(1054,"Could not undo '{0}' because there is already an undo or redo operation running.",C.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(C,_=>(g.moveBackward(C),this._safeInvokeWithLocks(C,()=>C.actual.undo(),new a([g]),_,()=>this._continueUndoInGroup(C.groupId,S))))}_findClosestUndoElementInGroup(g){if(!g)return[null,null];let C=null,S=null;for(const[_,L]of this._editStacks){const D=L.getClosestPastElement();D&&D.groupId===g&&(!C||D.groupOrder>C.groupOrder)&&(C=D,S=_)}return[C,S]}_continueUndoInGroup(g,C){if(!g)return;const[,S]=this._findClosestUndoElementInGroup(g);if(S)return this._undo(S,0,C)}undo(g){if(g instanceof v.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(g.id);return C?this._undo(C,g.id,!1):void 0}return typeof g=="string"?this._undo(g,0,!1):this._undo(this.getUriComparisonKey(g),0,!1)}_undo(g,C=0,S){if(!this._editStacks.has(g))return;const _=this._editStacks.get(g),L=_.getClosestPastElement();if(!L)return;if(L.groupId){const[T,N]=this._findClosestUndoElementInGroup(L.groupId);if(L!==T&&N)return this._undo(N,C,S)}if((L.sourceId!==C||L.confirmBeforeUndo)&&!S)return this._confirmAndContinueUndo(g,C,L);try{return L.type===1?this._workspaceUndo(g,L,S):this._resourceUndo(_,L,S)}finally{s&&this._print("undo")}}async _confirmAndContinueUndo(g,C,S){if((await this._dialogService.confirm({message:y.localize(1055,"Would you like to undo '{0}'?",S.label),primaryButton:y.localize(1056,"&&Yes"),cancelButton:y.localize(1057,"No")})).confirmed)return this._undo(g,C,!0)}_findClosestRedoElementWithSource(g){if(!g)return[null,null];let C=null,S=null;for(const[_,L]of this._editStacks){const D=L.getClosestFutureElement();D&&D.sourceId===g&&(!C||D.sourceOrder<C.sourceOrder)&&(C=D,S=_)}return[C,S]}canRedo(g){if(g instanceof v.UndoRedoSource){const[,S]=this._findClosestRedoElementWithSource(g.id);return!!S}const C=this.getUriComparisonKey(g);return this._editStacks.has(C)?this._editStacks.get(C).hasFutureElements():!1}_tryToSplitAndRedo(g,C,S,_){if(C.canSplit())return this._splitFutureWorkspaceElement(C,S),this._notificationService.warn(_),new p(this._redo(g));for(const L of C.strResources)this.removeElements(L);return this._notificationService.warn(_),new p}_checkWorkspaceRedo(g,C,S,_){if(C.removedResources)return this._tryToSplitAndRedo(g,C,C.removedResources,y.localize(1058,"Could not redo '{0}' across all files. {1}",C.label,C.removedResources.createMessage()));if(_&&C.invalidatedResources)return this._tryToSplitAndRedo(g,C,C.invalidatedResources,y.localize(1059,"Could not redo '{0}' across all files. {1}",C.label,C.invalidatedResources.createMessage()));const L=[];for(const T of S.editStacks)T.getClosestFutureElement()!==C&&L.push(T.resourceLabel);if(L.length>0)return this._tryToSplitAndRedo(g,C,null,y.localize(1060,"Could not redo '{0}' across all files because changes were made to {1}",C.label,L.join(", ")));const D=[];for(const T of S.editStacks)T.locked&&D.push(T.resourceLabel);return D.length>0?this._tryToSplitAndRedo(g,C,null,y.localize(1061,"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",C.label,D.join(", "))):S.isValid()?null:this._tryToSplitAndRedo(g,C,null,y.localize(1062,"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",C.label))}_workspaceRedo(g,C){const S=this._getAffectedEditStacks(C),_=this._checkWorkspaceRedo(g,C,S,!1);return _?_.returnValue:this._executeWorkspaceRedo(g,C,S)}async _executeWorkspaceRedo(g,C,S){let _;try{_=await this._invokeWorkspacePrepare(C)}catch(D){return this._onError(D,C)}const L=this._checkWorkspaceRedo(g,C,S,!0);if(L)return _.dispose(),L.returnValue;for(const D of S.editStacks)D.moveForward(C);return this._safeInvokeWithLocks(C,()=>C.actual.redo(),S,_,()=>this._continueRedoInGroup(C.groupId))}_resourceRedo(g,C){if(!C.isValid){g.flushAllElements();return}if(g.locked){const S=y.localize(1063,"Could not redo '{0}' because there is already an undo or redo operation running.",C.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(C,S=>(g.moveForward(C),this._safeInvokeWithLocks(C,()=>C.actual.redo(),new a([g]),S,()=>this._continueRedoInGroup(C.groupId))))}_findClosestRedoElementInGroup(g){if(!g)return[null,null];let C=null,S=null;for(const[_,L]of this._editStacks){const D=L.getClosestFutureElement();D&&D.groupId===g&&(!C||D.groupOrder<C.groupOrder)&&(C=D,S=_)}return[C,S]}_continueRedoInGroup(g){if(!g)return;const[,C]=this._findClosestRedoElementInGroup(g);if(C)return this._redo(C)}redo(g){if(g instanceof v.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(g.id);return C?this._redo(C):void 0}return typeof g=="string"?this._redo(g):this._redo(this.getUriComparisonKey(g))}_redo(g){if(!this._editStacks.has(g))return;const C=this._editStacks.get(g),S=C.getClosestFutureElement();if(S){if(S.groupId){const[_,L]=this._findClosestRedoElementInGroup(S.groupId);if(S!==_&&L)return this._redo(L)}try{return S.type===1?this._workspaceRedo(g,S):this._resourceRedo(C,S)}finally{s&&this._print("redo")}}}};e.UndoRedoService=d,e.UndoRedoService=d=ke([ge(0,m.IDialogService),ge(1,b.INotificationService)],d);class p{constructor(g){this.returnValue=g}}(0,w.registerSingleton)(v.IUndoRedoService,d,1)}),define(re[186],ae([1,0,3,99,227,22,7]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.IWorkspaceContextService=void 0,e.isSingleFolderWorkspaceIdentifier=m,e.isEmptyWorkspaceIdentifier=w,e.toWorkspaceIdentifier=b,e.isWorkspaceIdentifier=v,e.isStandaloneEditorWorkspace=t,e.IWorkspaceContextService=(0,y.createDecorator)("contextService");function m(i){const n=i;return typeof n?.id=="string"&&I.URI.isUri(n.uri)}function w(i){const n=i;return typeof n?.id=="string"&&!m(i)&&!v(i)}e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function b(i,n){if(typeof i=="string"||typeof i>"u")return typeof i=="string"?{id:(0,k.basename)(i)}:n?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const c=i;return c.configuration?{id:c.id,configPath:c.configuration}:c.folders.length===1?{id:c.id,uri:c.folders[0].uri}:{id:c.id}}function v(i){const n=i;return typeof n?.id=="string"&&I.URI.isUri(n.configPath)}class s{constructor(n,c,u,r,a){this._id=n,this._transient=u,this._configuration=r,this._ignorePathCasing=a,this._foldersMap=E.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=c}get folders(){return this._folders}set folders(n){this._folders=n,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(n){this._configuration=n}getFolder(n){return n&&this._foldersMap.findSubstr(n)||null}updateFoldersMap(){this._foldersMap=E.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const n of this.folders)this._foldersMap.set(n.uri,n)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=s;class o{constructor(n,c){this.raw=c,this.uri=n.uri,this.index=n.index,this.name=n.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=o,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,f.localize)(1042,"Code Workspace"),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function t(i){return i.id===e.STANDALONE_EDITOR_WORKSPACE_ID}}),define(re[431],ae([1,0,4,148,40,2,16,15,20,3,29,12,58,31,28,186]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let u=c=class{static get(l){return l.getContribution(c.ID)}constructor(l,d,p,h,g,C,S,_){this._contextMenuService=d,this._contextViewService=p,this._contextKeyService=h,this._keybindingService=g,this._menuService=C,this._configurationService=S,this._workspaceContextService=_,this._toDispose=new I.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=l,this._toDispose.add(this._editor.onContextMenu(L=>this._onContextMenu(L))),this._toDispose.add(this._editor.onMouseWheel(L=>{if(this._contextMenuIsBeingShownCount>0){const D=this._contextViewService.getContextViewElement(),T=L.srcElement;T.shadowRoot&&f.getShadowRoot(D)===T.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(L=>{this._editor.getOption(24)&&L.keyCode===58&&(L.preventDefault(),L.stopPropagation(),this.showContextMenu())}))}_onContextMenu(l){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),l.target.position&&!this._editor.getSelection().containsPosition(l.target.position)&&this._editor.setPosition(l.target.position);return}if(l.target.type===12||l.target.type===6&&l.target.detail.injectedText)return;if(l.event.preventDefault(),l.event.stopPropagation(),l.target.type===11)return this._showScrollbarContextMenu(l.event);if(l.target.type!==6&&l.target.type!==7&&l.target.type!==1)return;if(this._editor.focus(),l.target.position){let p=!1;for(const h of this._editor.getSelections())if(h.containsPosition(l.target.position)){p=!0;break}p||this._editor.setPosition(l.target.position)}let d=null;l.target.type!==1&&(d=l.event),this.showContextMenu(d)}showContextMenu(l){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const d=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);d.length>0&&this._doShowContextMenu(d,l)}_getMenuActions(l,d){const p=[],h=this._menuService.createMenu(d,this._contextKeyService),g=h.getActions({arg:l.uri});h.dispose();for(const C of g){const[,S]=C;let _=0;for(const L of S)if(L instanceof v.SubmenuItemAction){const D=this._getMenuActions(l,L.item.submenu);D.length>0&&(p.push(new E.SubmenuAction(L.id,L.label,D)),_++)}else p.push(L),_++;_&&p.push(new E.Separator)}return p.length&&p.pop(),p}_doShowContextMenu(l,d=null){var p;if(!this._editor.hasModel())return;const h=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let g=d;if(!g){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const S=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),_=f.getDomNodePagePosition(this._editor.getDomNode()),L=_.left+S.left,D=_.top+S.top+S.height;g={x:L,y:D}}const C=this._editor.getOption(128)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:C?(p=this._editor.getOverflowWidgetsDomNode())!==null&&p!==void 0?p:this._editor.getDomNode():void 0,getAnchor:()=>g,getActions:()=>l,getActionViewItem:S=>{const _=this._keybindingFor(S);if(_)return new k.ActionViewItem(S,S,{label:!0,keybinding:_.getLabel(),isMenu:!0});const L=S;return typeof L.getActionViewItem=="function"?L.getActionViewItem():new k.ActionViewItem(S,S,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:S=>this._keybindingFor(S),onHide:S=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:h})}})}_showScrollbarContextMenu(l){if(!this._editor.hasModel()||(0,n.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const d=this._editor.getOption(73);let p=0;const h=L=>({id:`menu-action-${++p}`,label:L.label,tooltip:"",class:void 0,enabled:typeof L.enabled>"u"?!0:L.enabled,checked:L.checked,run:L.run}),g=(L,D)=>new E.SubmenuAction(`menu-action-${++p}`,L,D,void 0),C=(L,D,T,N,A)=>{if(!D)return h({label:L,enabled:D,run:()=>{}});const R=P=>()=>{this._configurationService.updateValue(T,P)},M=[];for(const P of A)M.push(h({label:P.label,checked:N===P.value,run:R(P.value)}));return g(L,M)},S=[];S.push(h({label:b.localize(735,"Minimap"),checked:d.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!d.enabled)}})),S.push(new E.Separator),S.push(h({label:b.localize(736,"Render Characters"),enabled:d.enabled,checked:d.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!d.renderCharacters)}})),S.push(C(b.localize(737,"Vertical size"),d.enabled,"editor.minimap.size",d.size,[{label:b.localize(738,"Proportional"),value:"proportional"},{label:b.localize(739,"Fill"),value:"fill"},{label:b.localize(740,"Fit"),value:"fit"}])),S.push(C(b.localize(741,"Slider"),d.enabled,"editor.minimap.showSlider",d.showSlider,[{label:b.localize(742,"Mouse Over"),value:"mouseover"},{label:b.localize(743,"Always"),value:"always"}]));const _=this._editor.getOption(128)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>l,getActions:()=>S,onHide:L=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(l){return this._keybindingService.lookupKeybinding(l.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=u,u.ID="editor.contrib.contextmenu",e.ContextMenuController=u=c=ke([ge(1,o.IContextMenuService),ge(2,o.IContextViewService),ge(3,s.IContextKeyService),ge(4,t.IKeybindingService),ge(5,v.IMenuService),ge(6,i.IConfigurationService),ge(7,n.IWorkspaceContextService)],u);class r extends m.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:b.localize(744,"Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(l,d){var p;(p=u.get(d))===null||p===void 0||p.showContextMenu()}}(0,m.registerEditorContribution)(u.ID,u,2),(0,m.registerEditorAction)(r)}),define(re[290],ae([1,0,13,194,90,2,126,46,50,22,27,17,3,186]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=e.DefaultTextPasteOrDropEditProvider=void 0;class i{async provideDocumentPasteEdits(h,g,C,S,_){const L=await this.getEdit(C,_);if(L)return{edits:[{insertText:L.insertText,title:L.title,kind:L.kind,handledMimeType:L.handledMimeType,yieldTo:L.yieldTo}],dispose(){}}}async provideDocumentDropEdits(h,g,C,S){const _=await this.getEdit(C,S);if(_)return{edits:[{insertText:_.insertText,title:_.title,kind:_.kind,handledMimeType:_.handledMimeType,yieldTo:_.yieldTo}],dispose(){}}}}class n extends i{constructor(){super(...arguments),this.kind=n.kind,this.dropMimeTypes=[y.Mimes.text],this.pasteMimeTypes=[y.Mimes.text]}async getEdit(h,g){const C=h.get(y.Mimes.text);if(!C||h.has(y.Mimes.uriList))return;const S=await C.asString();return{handledMimeType:y.Mimes.text,title:(0,o.localize)(660,"Insert Plain Text"),insertText:S,kind:this.kind}}}e.DefaultTextPasteOrDropEditProvider=n,n.id="text",n.kind=new E.HierarchicalKind("text.plain");class c extends i{constructor(){super(...arguments),this.kind=new E.HierarchicalKind("uri.absolute"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(h,g){const C=await a(h);if(!C.length||g.isCancellationRequested)return;let S=0;const _=C.map(({uri:D,originalText:T})=>D.scheme===m.Schemas.file?D.fsPath:(S++,T)).join(" ");let L;return S>0?L=C.length>1?(0,o.localize)(661,"Insert Uris"):(0,o.localize)(662,"Insert Uri"):L=C.length>1?(0,o.localize)(663,"Insert Paths"):(0,o.localize)(664,"Insert Path"),{handledMimeType:y.Mimes.uriList,insertText:_,title:L,kind:this.kind}}}let u=class extends i{constructor(h){super(),this._workspaceContextService=h,this.kind=new E.HierarchicalKind("uri.relative"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(h,g){const C=await a(h);if(!C.length||g.isCancellationRequested)return;const S=(0,f.coalesce)(C.map(({uri:_})=>{const L=this._workspaceContextService.getWorkspaceFolder(_);return L?(0,w.relativePath)(L.uri,_):void 0}));if(S.length)return{handledMimeType:y.Mimes.uriList,insertText:S.join(" "),title:C.length>1?(0,o.localize)(665,"Insert Relative Paths"):(0,o.localize)(666,"Insert Relative Path"),kind:this.kind}}};u=ke([ge(0,t.IWorkspaceContextService)],u);class r{constructor(){this.kind=new E.HierarchicalKind("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:y.Mimes.text}]}async provideDocumentPasteEdits(h,g,C,S,_){var L;if(S.triggerKind!==v.DocumentPasteTriggerKind.PasteAs&&!(!((L=S.only)===null||L===void 0)&&L.contains(this.kind)))return;const D=C.get("text/html"),T=await D?.asString();if(!(!T||_.isCancellationRequested))return{dispose(){},edits:[{insertText:T,yieldTo:this._yieldTo,title:(0,o.localize)(667,"Insert HTML"),kind:this.kind}]}}}async function a(p){const h=p.get(y.Mimes.uriList);if(!h)return[];const g=await h.asString(),C=[];for(const S of k.UriList.parse(g))try{C.push({uri:b.URI.parse(S),originalText:S})}catch{}return C}let l=class extends I.Disposable{constructor(h,g){super(),this._register(h.documentDropEditProvider.register("*",new n)),this._register(h.documentDropEditProvider.register("*",new c)),this._register(h.documentDropEditProvider.register("*",new u(g)))}};e.DefaultDropProvidersFeature=l,e.DefaultDropProvidersFeature=l=ke([ge(0,s.ILanguageFeaturesService),ge(1,t.IWorkspaceContextService)],l);let d=class extends I.Disposable{constructor(h,g){super(),this._register(h.documentPasteEditProvider.register("*",new n)),this._register(h.documentPasteEditProvider.register("*",new c)),this._register(h.documentPasteEditProvider.register("*",new u(g))),this._register(h.documentPasteEditProvider.register("*",new r))}};e.DefaultPasteProvidersFeature=d,e.DefaultPasteProvidersFeature=d=ke([ge(0,s.ILanguageFeaturesService),ge(1,t.IWorkspaceContextService)],d)}),define(re[432],ae([1,0,4,13,14,18,194,90,2,126,16,193,210,395,149,5,27,17,290,265,121,287,183,3,116,12,7,96,63,391,8]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new C.RawContextKey("pasteWidgetVisible",!1,(0,h.localize)(668,"Whether the paste widget is showing"));const A="application/vnd.code.copyMetadata";let R=N=class extends w.Disposable{static get(P){return P.getContribution(N.ID)}constructor(P,x,O,B,H,K,V){super(),this._bulkEditService=O,this._clipboardService=B,this._languageFeaturesService=H,this._quickInputService=K,this._progressService=V,this._editor=P;const j=P.getContainerDomNode();this._register((0,f.addDisposableListener)(j,"copy",U=>this.handleCopy(U))),this._register((0,f.addDisposableListener)(j,"cut",U=>this.handleCopy(U))),this._register((0,f.addDisposableListener)(j,"paste",U=>this.handlePaste(U),!0)),this._pasteProgressManager=this._register(new d.InlineProgressManager("pasteIntoEditor",P,x)),this._postPasteWidgetManager=this._register(x.createInstance(D.PostEditWidgetManager,"pasteIntoEditor",P,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,h.localize)(669,"Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(P){this._editor.focus();try{this._pasteAsActionContext={preferred:P},(0,f.getActiveDocument)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(92)}async finishedPaste(){await this._currentPasteOperation}handleCopy(P){var x,O;if(!this._editor.hasTextFocus()||(v.isWeb&&this._clipboardService.writeResources([]),!P.clipboardData||!this.isPasteAsEnabled()))return;const B=this._editor.getModel(),H=this._editor.getSelections();if(!B||!H?.length)return;const K=this._editor.getOption(37);let V=H;const j=H.length===1&&H[0].isEmpty();if(j){if(!K)return;V=[new n.Range(V[0].startLineNumber,1,V[0].startLineNumber,1+B.getLineLength(V[0].startLineNumber))]}const U=(x=this._editor._getViewModel())===null||x===void 0?void 0:x.getPlainTextToCopy(H,K,v.isWindows),Q={multicursorText:Array.isArray(U)?U:null,pasteOnNewLine:j,mode:null},Z=this._languageFeaturesService.documentPasteEditProvider.ordered(B).filter(de=>!!de.prepareDocumentPaste);if(!Z.length){this.setCopyMetadata(P.clipboardData,{defaultPastePayload:Q});return}const G=(0,t.toVSDataTransfer)(P.clipboardData),F=Z.flatMap(de=>{var he;return(he=de.copyMimeTypes)!==null&&he!==void 0?he:[]}),J=(0,s.generateUuid)();this.setCopyMetadata(P.clipboardData,{id:J,providerCopyMimeTypes:F,defaultPastePayload:Q});const te=(0,E.createCancelablePromise)(async de=>{const he=(0,k.coalesce)(await Promise.all(Z.map(async pe=>{try{return await pe.prepareDocumentPaste(B,V,G,de)}catch(ue){console.error(ue);return}})));he.reverse();for(const pe of he)for(const[ue,ie]of pe)G.replace(ue,ie);return G});(O=N._currentCopyOperation)===null||O===void 0||O.dataTransferPromise.cancel(),N._currentCopyOperation={handle:J,dataTransferPromise:te}}async handlePaste(P){var x,O,B,H;if(!P.clipboardData||!this._editor.hasTextFocus())return;(x=p.MessageController.get(this._editor))===null||x===void 0||x.closeMessage(),(O=this._currentPasteOperation)===null||O===void 0||O.cancel(),this._currentPasteOperation=void 0;const K=this._editor.getModel(),V=this._editor.getSelections();if(!V?.length||!K||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const j=this.fetchCopyMetadata(P),U=(0,t.toExternalVSDataTransfer)(P.clipboardData);U.delete(A);const Y=[...P.clipboardData.types,...(B=j?.providerCopyMimeTypes)!==null&&B!==void 0?B:[],b.Mimes.uriList],Q=this._languageFeaturesService.documentPasteEditProvider.ordered(K).filter(Z=>{var G,F;const J=(G=this._pasteAsActionContext)===null||G===void 0?void 0:G.preferred;return J&&Z.providedPasteEditKinds&&!this.providerMatchesPreference(Z,J)?!1:(F=Z.pasteMimeTypes)===null||F===void 0?void 0:F.some(te=>(0,y.matchesMimeType)(te,Y))});if(!Q.length){!((H=this._pasteAsActionContext)===null||H===void 0)&&H.preferred&&this.showPasteAsNoEditMessage(V,this._pasteAsActionContext.preferred);return}P.preventDefault(),P.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,Q,V,U,j):this.doPasteInline(Q,V,U,j,P)}showPasteAsNoEditMessage(P,x){var O;(O=p.MessageController.get(this._editor))===null||O===void 0||O.showMessage((0,h.localize)(670,"No paste edits for '{0}' found",x instanceof m.HierarchicalKind?x.value:x.providerId),P[0].getStartPosition())}doPasteInline(P,x,O,B,H){const K=this._editor;if(!K.hasModel())return;const V=new l.EditorStateCancellationTokenSource(K,3,void 0),j=(0,E.createCancelablePromise)(async U=>{const Y=this._editor;if(!Y.hasModel())return;const Q=Y.getModel(),Z=new w.DisposableStore,G=Z.add(new I.CancellationTokenSource(U));Z.add(V.token.onCancellationRequested(()=>G.cancel()));const F=G.token;try{if(await this.mergeInDataFromCopy(O,B,F),F.isCancellationRequested)return;const J=P.filter(he=>this.isSupportedPasteProvider(he,O));if(!J.length||J.length===1&&J[0]instanceof r.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(O,B,F,H);const te={triggerKind:c.DocumentPasteTriggerKind.Automatic},de=await this.getPasteEdits(J,O,Q,x,te,F);if(Z.add(de),F.isCancellationRequested)return;if(de.edits.length===1&&de.edits[0].provider instanceof r.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(O,B,F,H);if(de.edits.length){const he=Y.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(x,{activeEditIndex:0,allEdits:de.edits},he,(pe,ue)=>new Promise((ie,se)=>{(async()=>{var ne,W;try{const q=(W=(ne=pe.provider).resolveDocumentPasteEdit)===null||W===void 0?void 0:W.call(ne,pe,ue),z=new E.DeferredPromise,$=q&&await this._pasteProgressManager.showWhile(x[0].getEndPosition(),(0,h.localize)(671,"Resolving paste edit. Click to cancel"),Promise.race([z.p,q]),{cancel:()=>(z.cancel(),se(new T.CancellationError))},0);return $&&(pe.additionalEdit=$.additionalEdit),ie(pe)}catch(q){return se(q)}})()}),F)}await this.applyDefaultPasteHandler(O,B,F,H)}finally{Z.dispose(),this._currentPasteOperation===j&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(x[0].getEndPosition(),(0,h.localize)(672,"Running paste handlers. Click to cancel and do basic paste"),j,{cancel:async()=>{try{if(j.cancel(),V.token.isCancellationRequested)return;await this.applyDefaultPasteHandler(O,B,V.token,H)}finally{V.dispose()}}}).then(()=>{V.dispose()}),this._currentPasteOperation=j}showPasteAsPick(P,x,O,B,H){const K=(0,E.createCancelablePromise)(async V=>{const j=this._editor;if(!j.hasModel())return;const U=j.getModel(),Y=new w.DisposableStore,Q=Y.add(new l.EditorStateCancellationTokenSource(j,3,void 0,V));try{if(await this.mergeInDataFromCopy(B,H,Q.token),Q.token.isCancellationRequested)return;let Z=x.filter(de=>this.isSupportedPasteProvider(de,B,P));P&&(Z=Z.filter(de=>this.providerMatchesPreference(de,P)));const G={triggerKind:c.DocumentPasteTriggerKind.PasteAs,only:P&&P instanceof m.HierarchicalKind?P:void 0};let F=Y.add(await this.getPasteEdits(Z,B,U,O,G,Q.token));if(Q.token.isCancellationRequested)return;if(P&&(F={edits:F.edits.filter(de=>P instanceof m.HierarchicalKind?P.contains(de.kind):P.providerId===de.provider.id),dispose:F.dispose}),!F.edits.length){G.only&&this.showPasteAsNoEditMessage(O,G.only);return}let J;if(P)J=F.edits.at(0);else{const de=await this._quickInputService.pick(F.edits.map(he=>{var pe;return{label:he.title,description:(pe=he.kind)===null||pe===void 0?void 0:pe.value,edit:he}}),{placeHolder:(0,h.localize)(673,"Select Paste Action")});J=de?.edit}if(!J)return;const te=(0,a.createCombinedWorkspaceEdit)(U.uri,O,J);await this._bulkEditService.apply(te,{editor:this._editor})}finally{Y.dispose(),this._currentPasteOperation===K&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:(0,h.localize)(674,"Running paste handlers")},()=>K)}setCopyMetadata(P,x){P.setData(A,JSON.stringify(x))}fetchCopyMetadata(P){var x;if(!P.clipboardData)return;const O=P.clipboardData.getData(A);if(O)try{return JSON.parse(O)}catch{return}const[B,H]=o.ClipboardEventUtils.getTextData(P.clipboardData);if(H)return{defaultPastePayload:{mode:H.mode,multicursorText:(x=H.multicursorText)!==null&&x!==void 0?x:null,pasteOnNewLine:!!H.isFromEmptySelection}}}async mergeInDataFromCopy(P,x,O){var B;if(x?.id&&((B=N._currentCopyOperation)===null||B===void 0?void 0:B.handle)===x.id){const H=await N._currentCopyOperation.dataTransferPromise;if(O.isCancellationRequested)return;for(const[K,V]of H)P.replace(K,V)}if(!P.has(b.Mimes.uriList)){const H=await this._clipboardService.readResources();if(O.isCancellationRequested)return;H.length&&P.append(b.Mimes.uriList,(0,y.createStringDataTransferItem)(y.UriList.create(H)))}}async getPasteEdits(P,x,O,B,H,K){const V=new w.DisposableStore,j=await(0,E.raceCancellation)(Promise.all(P.map(async Y=>{var Q,Z;try{const G=await((Q=Y.provideDocumentPasteEdits)===null||Q===void 0?void 0:Q.call(Y,O,B,x,H,K));return G&&V.add(G),(Z=G?.edits)===null||Z===void 0?void 0:Z.map(F=>({...F,provider:Y}))}catch(G){(0,T.isCancellationError)(G)||console.error(G);return}})),K),U=(0,k.coalesce)(j??[]).flat().filter(Y=>!H.only||H.only.contains(Y.kind));return{edits:(0,a.sortEditsByYieldTo)(U),dispose:()=>V.dispose()}}async applyDefaultPasteHandler(P,x,O,B){var H,K,V,j;const U=(H=P.get(b.Mimes.text))!==null&&H!==void 0?H:P.get("text"),Y=(K=await U?.asString())!==null&&K!==void 0?K:"";if(O.isCancellationRequested)return;const Q={clipboardEvent:B,text:Y,pasteOnNewLine:(V=x?.defaultPastePayload.pasteOnNewLine)!==null&&V!==void 0?V:!1,multicursorText:(j=x?.defaultPastePayload.multicursorText)!==null&&j!==void 0?j:null,mode:null};this._editor.trigger("keyboard","paste",Q)}isSupportedPasteProvider(P,x,O){var B;return!((B=P.pasteMimeTypes)===null||B===void 0)&&B.some(H=>x.matches(H))?!O||this.providerMatchesPreference(P,O):!1}providerMatchesPreference(P,x){return x instanceof m.HierarchicalKind?P.providedPasteEditKinds?P.providedPasteEditKinds.some(O=>x.contains(O)):!0:P.id===x.providerId}};e.CopyPasteController=R,R.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=R=N=ke([ge(1,S.IInstantiationService),ge(2,i.IBulkEditService),ge(3,g.IClipboardService),ge(4,u.ILanguageFeaturesService),ge(5,L.IQuickInputService),ge(6,_.IProgressService)],R)}),define(re[846],ae([1,0,65,4,16,210,15,35,20,432,3,29,116,12]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",n=E.isNative||document.queryCommandSupported("cut"),c=E.isNative||document.queryCommandSupported("copy"),u=typeof navigator.clipboard>"u"||f.isFirefox?document.queryCommandSupported("paste"):!0;function r(d){return d.register(),d}e.CutAction=n?r(new y.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:E.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:s.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(761,"Cu&&t"),order:1},{menuId:s.MenuId.EditorContext,group:i,title:v.localize(762,"Cut"),when:w.EditorContextKeys.writable,order:1},{menuId:s.MenuId.CommandPalette,group:"",title:v.localize(763,"Cut"),order:1},{menuId:s.MenuId.SimpleEditorContext,group:i,title:v.localize(764,"Cut"),when:w.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=c?r(new y.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:E.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:s.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(765,"&&Copy"),order:2},{menuId:s.MenuId.EditorContext,group:i,title:v.localize(766,"Copy"),order:2},{menuId:s.MenuId.CommandPalette,group:"",title:v.localize(767,"Copy"),order:1},{menuId:s.MenuId.SimpleEditorContext,group:i,title:v.localize(768,"Copy"),order:2}]})):void 0,s.MenuRegistry.appendMenuItem(s.MenuId.MenubarEditMenu,{submenu:s.MenuId.MenubarCopy,title:v.localize2(774,"Copy As"),group:"2_ccp",order:3}),s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,{submenu:s.MenuId.EditorContextCopy,title:v.localize2(775,"Copy As"),group:i,order:3}),s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,{submenu:s.MenuId.EditorContextShare,title:v.localize2(776,"Share"),group:"11_share",order:-1,when:t.ContextKeyExpr.and(t.ContextKeyExpr.notEquals("resourceScheme","output"),w.EditorContextKeys.editorTextFocus)}),s.MenuRegistry.appendMenuItem(s.MenuId.ExplorerContext,{submenu:s.MenuId.ExplorerContextShare,title:v.localize2(777,"Share"),group:"11_share",order:-1}),e.PasteAction=u?r(new y.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:E.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:s.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(769,"&&Paste"),order:4},{menuId:s.MenuId.EditorContext,group:i,title:v.localize(770,"Paste"),when:w.EditorContextKeys.writable,order:4},{menuId:s.MenuId.CommandPalette,group:"",title:v.localize(771,"Paste"),order:1},{menuId:s.MenuId.SimpleEditorContext,group:i,title:v.localize(772,"Paste"),when:w.EditorContextKeys.writable,order:4}]})):void 0;class a extends y.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(773,"Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(p,h){!h.hasModel()||!h.getOption(37)&&h.getSelection().isEmpty()||(I.CopyOptions.forceCopyWithSyntaxHighlighting=!0,h.focus(),h.getContainerDomNode().ownerDocument.execCommand("copy"),I.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function l(d,p){d&&(d.addImplementation(1e4,"code-editor",(h,g)=>{const C=h.get(m.ICodeEditorService).getFocusedCodeEditor();if(C&&C.hasTextFocus()){const S=C.getOption(37),_=C.getSelection();return _&&_.isEmpty()&&!S||C.getContainerDomNode().ownerDocument.execCommand(p),!0}return!1}),d.addImplementation(0,"generic-dom",(h,g)=>((0,k.getActiveDocument)().execCommand(p),!0)))}l(e.CutAction,"cut"),l(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(d,p)=>{var h,g;const C=d.get(m.ICodeEditorService),S=d.get(o.IClipboardService),_=C.getFocusedCodeEditor();return _&&_.hasTextFocus()?_.getContainerDomNode().ownerDocument.execCommand("paste")?(g=(h=b.CopyPasteController.get(_))===null||h===void 0?void 0:h.finishedPaste())!==null&&g!==void 0?g:Promise.resolve():E.isWeb?(async()=>{const D=await S.readText();if(D!==""){const T=I.InMemoryClipboardMetadataManager.INSTANCE.get(D);let N=!1,A=null,R=null;T&&(N=_.getOption(37)&&!!T.isFromEmptySelection,A=typeof T.multicursorText<"u"?T.multicursorText:null,R=T.mode),_.trigger("keyboard","paste",{text:D,pasteOnNewLine:N,multicursorText:A,mode:R})}})():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(d,p)=>((0,k.getActiveDocument)().execCommand("paste"),!0))),c&&(0,y.registerEditorAction)(a)}),define(re[847],ae([1,0,90,15,20,144,432,290,3]),function(le,e,f,k,E,I,y,m,w){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,I.registerEditorFeature)(m.DefaultPasteProvidersFeature),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(v,s){var o;return(o=y.CopyPasteController.get(s))===null||o===void 0?void 0:o.changePasteType()}}),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:"editor.hidePasteWidget",precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(v,s){var o;(o=y.CopyPasteController.get(s))===null||o===void 0||o.clearWidgets()}}),(0,k.registerEditorAction)((b=class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:w.localize(676,"Paste As..."),alias:"Paste As...",precondition:E.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:b.argsSchema}]}})}run(s,o,t){var i;let n=typeof t?.kind=="string"?t.kind:void 0;return!n&&t&&(n=typeof t.id=="string"?t.id:void 0),(i=y.CopyPasteController.get(o))===null||i===void 0?void 0:i.pasteAs(n?new f.HierarchicalKind(n):void 0)}},b.argsSchema={type:"object",properties:{kind:{type:"string",description:w.localize(675,"The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}},b)),(0,k.registerEditorAction)(class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAsText",label:w.localize(677,"Paste as Text"),alias:"Paste as Text",precondition:E.EditorContextKeys.writable})}run(v,s){var o;return(o=y.CopyPasteController.get(s))===null||o===void 0?void 0:o.pasteAs({providerId:m.DefaultTextPasteOrDropEditProvider.id})}})}),define(re[848],ae([1,0,15,271,144,290,3,108,38,822]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(b.DropIntoEditorController.ID,b.DropIntoEditorController,2),(0,E.registerEditorFeature)(I.DefaultDropProvidersFeature),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:b.changeDropTypeCommandId,precondition:b.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(v,s,o){var t;(t=b.DropIntoEditorController.get(s))===null||t===void 0||t.changeDropType()}}),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.hideDropWidget",precondition:b.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(v,s,o){var t;(t=b.DropIntoEditorController.get(s))===null||t===void 0||t.clearWidgets()}}),w.Registry.as(m.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{[b.defaultProviderConfig]:{type:"object",scope:5,description:y.localize(659,"Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}})}),define(re[849],ae([1,0,453,99,50,11,193,34,132,3,186]),function(le,e,f,k,E,I,y,m,w,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class s{constructor(l){this._delegates=l}resolve(l){for(const d of this._delegates){const p=d.resolve(l);if(p!==void 0)return p}}}e.CompositeSnippetVariableResolver=s;class o{constructor(l,d,p,h){this._model=l,this._selection=d,this._selectionIdx=p,this._overtypingCapturer=h}resolve(l){const{name:d}=l;if(d==="SELECTION"||d==="TM_SELECTED_TEXT"){let p=this._model.getValueInRange(this._selection)||void 0,h=this._selection.startLineNumber!==this._selection.endLineNumber;if(!p&&this._overtypingCapturer){const g=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);g&&(p=g.value,h=g.multiline)}if(p&&h&&l.snippet){const g=this._model.getLineContent(this._selection.startLineNumber),C=(0,I.getLeadingWhitespace)(g,0,this._selection.startColumn-1);let S=C;l.snippet.walk(L=>L===l?!1:(L instanceof w.Text&&(S=(0,I.getLeadingWhitespace)((0,I.splitLines)(L.value).pop())),!0));const _=(0,I.commonPrefixLength)(S,C);p=p.replace(/(\r\n|\r|\n)(.*)/g,(L,D,T)=>`${D}${S.substr(_)}${T}`)}return p}else{if(d==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(d==="TM_CURRENT_WORD"){const p=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return p&&p.word||void 0}else{if(d==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(d==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(d==="CURSOR_INDEX")return String(this._selectionIdx);if(d==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=o;class t{constructor(l,d){this._labelService=l,this._model=d}resolve(l){const{name:d}=l;if(d==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(d==="TM_FILENAME_BASE"){const p=k.basename(this._model.uri.fsPath),h=p.lastIndexOf(".");return h<=0?p:p.slice(0,h)}else{if(d==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,E.dirname)(this._model.uri));if(d==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(d==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=t;class i{constructor(l,d,p,h){this._readClipboardText=l,this._selectionIdx=d,this._selectionCount=p,this._spread=h}resolve(l){if(l.name!=="CLIPBOARD")return;const d=this._readClipboardText();if(d){if(this._spread){const p=d.split(/\r\n|\n|\r/).filter(h=>!(0,I.isFalsyOrWhitespace)(h));if(p.length===this._selectionCount)return p[this._selectionIdx]}return d}}}e.ClipboardBasedVariableResolver=i;let n=class{constructor(l,d,p){this._model=l,this._selection=d,this._languageConfigurationService=p}resolve(l){const{name:d}=l,p=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),h=this._languageConfigurationService.getLanguageConfiguration(p).comments;if(h){if(d==="LINE_COMMENT")return h.lineCommentToken||void 0;if(d==="BLOCK_COMMENT_START")return h.blockCommentStartToken||void 0;if(d==="BLOCK_COMMENT_END")return h.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=n,e.CommentBasedVariableResolver=n=ke([ge(2,m.ILanguageConfigurationService)],n);class c{constructor(){this._date=new Date}resolve(l){const{name:d}=l;if(d==="CURRENT_YEAR")return String(this._date.getFullYear());if(d==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(d==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(d==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(d==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(d==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(d==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(d==="CURRENT_DAY_NAME")return c.dayNames[this._date.getDay()];if(d==="CURRENT_DAY_NAME_SHORT")return c.dayNamesShort[this._date.getDay()];if(d==="CURRENT_MONTH_NAME")return c.monthNames[this._date.getMonth()];if(d==="CURRENT_MONTH_NAME_SHORT")return c.monthNamesShort[this._date.getMonth()];if(d==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(d==="CURRENT_TIMEZONE_OFFSET"){const p=this._date.getTimezoneOffset(),h=p>0?"-":"+",g=Math.trunc(Math.abs(p/60)),C=g<10?"0"+g:g,S=Math.abs(p)-g*60,_=S<10?"0"+S:S;return h+C+":"+_}}}e.TimeBasedVariableResolver=c,c.dayNames=[b.localize(241,"Sunday"),b.localize(242,"Monday"),b.localize(243,"Tuesday"),b.localize(244,"Wednesday"),b.localize(245,"Thursday"),b.localize(246,"Friday"),b.localize(247,"Saturday")],c.dayNamesShort=[b.localize(248,"Sun"),b.localize(249,"Mon"),b.localize(250,"Tue"),b.localize(251,"Wed"),b.localize(252,"Thu"),b.localize(253,"Fri"),b.localize(254,"Sat")],c.monthNames=[b.localize(255,"January"),b.localize(256,"February"),b.localize(257,"March"),b.localize(258,"April"),b.localize(259,"May"),b.localize(260,"June"),b.localize(261,"July"),b.localize(262,"August"),b.localize(263,"September"),b.localize(264,"October"),b.localize(265,"November"),b.localize(266,"December")],c.monthNamesShort=[b.localize(267,"Jan"),b.localize(268,"Feb"),b.localize(269,"Mar"),b.localize(270,"Apr"),b.localize(271,"May"),b.localize(272,"Jun"),b.localize(273,"Jul"),b.localize(274,"Aug"),b.localize(275,"Sep"),b.localize(276,"Oct"),b.localize(277,"Nov"),b.localize(278,"Dec")];class u{constructor(l){this._workspaceService=l}resolve(l){if(!this._workspaceService)return;const d=(0,v.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,v.isEmptyWorkspaceIdentifier)(d)){if(l.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(d);if(l.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(d)}}_resolveWorkspaceName(l){if((0,v.isSingleFolderWorkspaceIdentifier)(l))return k.basename(l.uri.path);let d=k.basename(l.configPath.path);return d.endsWith(v.WORKSPACE_EXTENSION)&&(d=d.substr(0,d.length-v.WORKSPACE_EXTENSION.length-1)),d}_resoveWorkspacePath(l){if((0,v.isSingleFolderWorkspaceIdentifier)(l))return(0,f.normalizeDriveLetter)(l.uri.fsPath);const d=k.basename(l.configPath.path);let p=l.configPath.fsPath;return p.endsWith(d)&&(p=p.substr(0,p.length-d.length-1)),p?(0,f.normalizeDriveLetter)(p):"/"}}e.WorkspaceBasedVariableResolver=u;class r{resolve(l){const{name:d}=l;if(d==="RANDOM")return Math.random().toString().slice(-6);if(d==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(d==="UUID")return(0,y.generateUuid)()}}e.RandomBasedVariableResolver=r}),define(re[433],ae([1,0,13,2,11,75,5,23,34,36,180,186,132,849,540]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class n{constructor(a,l,d){this._editor=a,this._snippet=l,this._snippetLineLeadingWhitespace=d,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,f.groupBy)(l.placeholders,o.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(a){this._offset=a.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const a=this._editor.getModel();this._editor.changeDecorations(l=>{for(const d of this._snippet.placeholders){const p=this._snippet.offset(d),h=this._snippet.fullLen(d),g=y.Range.fromPositions(a.getPositionAt(this._offset+p),a.getPositionAt(this._offset+p+h)),C=d.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,S=l.addDecoration(g,C);this._placeholderDecorations.set(d,S)}})}move(a){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const p=[];for(const h of this._placeholderGroups[this._placeholderGroupsIdx])if(h.transform){const g=this._placeholderDecorations.get(h),C=this._editor.getModel().getDecorationRange(g),S=this._editor.getModel().getValueInRange(C),_=h.transform.resolve(S).split(/\r\n|\r|\n/);for(let L=1;L<_.length;L++)_[L]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+_[L]);p.push(I.EditOperation.replace(C,_.join(this._editor.getModel().getEOL())))}p.length>0&&this._editor.executeEdits("snippet.placeholderTransform",p)}let l=!1;a===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,l=!0):a===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,l=!0);const d=this._editor.getModel().changeDecorations(p=>{const h=new Set,g=[];for(const C of this._placeholderGroups[this._placeholderGroupsIdx]){const S=this._placeholderDecorations.get(C),_=this._editor.getModel().getDecorationRange(S);g.push(new m.Selection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)),l=l&&this._hasPlaceholderBeenCollapsed(C),p.changeDecorationOptions(S,C.isFinalTabstop?n._decor.activeFinal:n._decor.active),h.add(C);for(const L of this._snippet.enclosingPlaceholders(C)){const D=this._placeholderDecorations.get(L);p.changeDecorationOptions(D,L.isFinalTabstop?n._decor.activeFinal:n._decor.active),h.add(L)}}for(const[C,S]of this._placeholderDecorations)h.has(C)||p.changeDecorationOptions(S,C.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return g});return l?this.move(a):d??[]}_hasPlaceholderBeenCollapsed(a){let l=a;for(;l;){if(l instanceof o.Placeholder){const d=this._placeholderDecorations.get(l);if(this._editor.getModel().getDecorationRange(d).isEmpty()&&l.toString().length>0)return!0}l=l.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[a]=this._snippet.placeholders;if(a.isFinalTabstop&&this._snippet.rightMostDescendant===a)return!0}return!1}computePossibleSelections(){const a=new Map;for(const l of this._placeholderGroups){let d;for(const p of l){if(p.isFinalTabstop)break;d||(d=[],a.set(p.index,d));const h=this._placeholderDecorations.get(p),g=this._editor.getModel().getDecorationRange(h);if(!g){a.delete(p.index);break}d.push(g)}}return a}get activeChoice(){if(!this._placeholderDecorations)return;const a=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!a?.choice)return;const l=this._placeholderDecorations.get(a);if(!l)return;const d=this._editor.getModel().getDecorationRange(l);if(d)return{range:d,choice:a.choice}}get hasChoice(){let a=!1;return this._snippet.walk(l=>(a=l instanceof o.Choice,!a)),a}merge(a){const l=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(d=>{for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const h=a.shift();console.assert(h._offset!==-1),console.assert(!h._placeholderDecorations);const g=h._snippet.placeholderInfo.last.index;for(const S of h._snippet.placeholderInfo.all)S.isFinalTabstop?S.index=p.index+(g+1)/this._nestingLevel:S.index=p.index+S.index/this._nestingLevel;this._snippet.replace(p,h._snippet.children);const C=this._placeholderDecorations.get(p);d.removeDecoration(C),this._placeholderDecorations.delete(p);for(const S of h._snippet.placeholders){const _=h._snippet.offset(S),L=h._snippet.fullLen(S),D=y.Range.fromPositions(l.getPositionAt(h._offset+_),l.getPositionAt(h._offset+_+L)),T=d.addDecoration(D,n._decor.inactive);this._placeholderDecorations.set(S,T)}}this._placeholderGroups=(0,f.groupBy)(this._snippet.placeholders,o.Placeholder.compareByIndex)})}}e.OneSnippet=n,n._decor={active:b.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:b.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const c={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=i=class{static adjustWhitespace(a,l,d,p,h){const g=a.getLineContent(l.lineNumber),C=(0,E.getLeadingWhitespace)(g,0,l.column-1);let S;return p.walk(_=>{if(!(_ instanceof o.Text)||_.parent instanceof o.Choice||h&&!h.has(_))return!0;const L=_.value.split(/\r\n|\r|\n/);if(d){const T=p.offset(_);if(T===0)L[0]=a.normalizeIndentation(L[0]);else{S=S??p.toString();const N=S.charCodeAt(T-1);(N===10||N===13)&&(L[0]=a.normalizeIndentation(C+L[0]))}for(let N=1;N<L.length;N++)L[N]=a.normalizeIndentation(C+L[N])}const D=L.join(a.getEOL());return D!==_.value&&(_.parent.replace(_,[new o.Text(D)]),S=void 0),!0}),C}static adjustSelection(a,l,d,p){if(d!==0||p!==0){const{positionLineNumber:h,positionColumn:g}=l,C=g-d,S=g+p,_=a.validateRange({startLineNumber:h,startColumn:C,endLineNumber:h,endColumn:S});l=m.Selection.createWithDirection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn,l.getDirection())}return l}static createEditsAndSnippetsFromSelections(a,l,d,p,h,g,C,S,_){const L=[],D=[];if(!a.hasModel())return{edits:L,snippets:D};const T=a.getModel(),N=a.invokeWithinContext(B=>B.get(s.IWorkspaceContextService)),A=a.invokeWithinContext(B=>new t.ModelBasedVariableResolver(B.get(v.ILabelService),T)),R=()=>C,M=T.getValueInRange(i.adjustSelection(T,a.getSelection(),d,0)),P=T.getValueInRange(i.adjustSelection(T,a.getSelection(),0,p)),x=T.getLineFirstNonWhitespaceColumn(a.getSelection().positionLineNumber),O=a.getSelections().map((B,H)=>({selection:B,idx:H})).sort((B,H)=>y.Range.compareRangesUsingStarts(B.selection,H.selection));for(const{selection:B,idx:H}of O){let K=i.adjustSelection(T,B,d,0),V=i.adjustSelection(T,B,0,p);M!==T.getValueInRange(K)&&(K=B),P!==T.getValueInRange(V)&&(V=B);const j=B.setStartPosition(K.startLineNumber,K.startColumn).setEndPosition(V.endLineNumber,V.endColumn),U=new o.SnippetParser().parse(l,!0,h),Y=j.getStartPosition(),Q=i.adjustWhitespace(T,Y,g||H>0&&x!==T.getLineFirstNonWhitespaceColumn(B.positionLineNumber),U);U.resolveVariables(new t.CompositeSnippetVariableResolver([A,new t.ClipboardBasedVariableResolver(R,H,O.length,a.getOption(79)==="spread"),new t.SelectionBasedVariableResolver(T,B,H,S),new t.CommentBasedVariableResolver(T,B,_),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(N),new t.RandomBasedVariableResolver])),L[H]=I.EditOperation.replace(j,U.toString()),L[H].identifier={major:H,minor:0},L[H]._isTracked=!0,D[H]=new n(a,U,Q)}return{edits:L,snippets:D}}static createEditsAndSnippetsFromEdits(a,l,d,p,h,g,C){if(!a.hasModel()||l.length===0)return{edits:[],snippets:[]};const S=[],_=a.getModel(),L=new o.SnippetParser,D=new o.TextmateSnippet,T=new t.CompositeSnippetVariableResolver([a.invokeWithinContext(A=>new t.ModelBasedVariableResolver(A.get(v.ILabelService),_)),new t.ClipboardBasedVariableResolver(()=>h,0,a.getSelections().length,a.getOption(79)==="spread"),new t.SelectionBasedVariableResolver(_,a.getSelection(),0,g),new t.CommentBasedVariableResolver(_,a.getSelection(),C),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(a.invokeWithinContext(A=>A.get(s.IWorkspaceContextService))),new t.RandomBasedVariableResolver]);l=l.sort((A,R)=>y.Range.compareRangesUsingStarts(A.range,R.range));let N=0;for(let A=0;A<l.length;A++){const{range:R,template:M}=l[A];if(A>0){const H=l[A-1].range,K=y.Range.fromPositions(H.getEndPosition(),R.getStartPosition()),V=new o.Text(_.getValueInRange(K));D.appendChild(V),N+=V.value.length}const P=L.parseFragment(M,D);i.adjustWhitespace(_,R.getStartPosition(),!0,D,new Set(P)),D.resolveVariables(T);const x=D.toString(),O=x.slice(N);N=x.length;const B=I.EditOperation.replace(R,O);B.identifier={major:A,minor:0},B._isTracked=!0,S.push(B)}return L.ensureFinalTabstop(D,d,!0),{edits:S,snippets:[new n(a,D,"")]}}constructor(a,l,d=c,p){this._editor=a,this._template=l,this._options=d,this._languageConfigurationService=p,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:a,snippets:l}=typeof this._template=="string"?i.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):i.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=l,this._editor.executeEdits("snippet",a,d=>{const p=d.filter(h=>!!h.identifier);for(let h=0;h<l.length;h++)l[h].initialize(p[h].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):p.map(h=>m.Selection.fromPositions(h.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(a,l=c){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,a]);const{edits:d,snippets:p}=i.createEditsAndSnippetsFromSelections(this._editor,a,l.overwriteBefore,l.overwriteAfter,!0,l.adjustWhitespace,l.clipboardText,l.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",d,h=>{const g=h.filter(S=>!!S.identifier);for(let S=0;S<p.length;S++)p[S].initialize(g[S].textChange);const C=p[0].isTrivialSnippet;if(!C){for(const S of this._snippets)S.merge(p);console.assert(p.length===0)}return this._snippets[0].hasPlaceholder&&!C?this._move(void 0):g.map(S=>m.Selection.fromPositions(S.range.getEndPosition()))})}next(){const a=this._move(!0);this._editor.setSelections(a),this._editor.revealPositionInCenterIfOutsideViewport(a[0].getPosition())}prev(){const a=this._move(!1);this._editor.setSelections(a),this._editor.revealPositionInCenterIfOutsideViewport(a[0].getPosition())}_move(a){const l=[];for(const d of this._snippets){const p=d.move(a);l.push(...p)}return l}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const a=this._editor.getSelections();if(a.length<this._snippets.length)return!1;const l=new Map;for(const d of this._snippets){const p=d.computePossibleSelections();if(l.size===0)for(const[h,g]of p){g.sort(y.Range.compareRangesUsingStarts);for(const C of a)if(g[0].containsRange(C)){l.set(h,[]);break}}if(l.size===0)return!1;l.forEach((h,g)=>{h.push(...p.get(g))})}a.sort(y.Range.compareRangesUsingStarts);for(const[d,p]of l){if(p.length!==a.length){l.delete(d);continue}p.sort(y.Range.compareRangesUsingStarts);for(let h=0;h<p.length;h++)if(!p[h].containsRange(a[h])){l.delete(d);continue}}return l.size>0}};e.SnippetSession=u,e.SnippetSession=u=i=ke([ge(3,w.ILanguageConfigurationService)],u)}),define(re[219],ae([1,0,2,19,15,9,20,34,17,151,3,12,61,433]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const n={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=i=class{static get(a){return a.getContribution(i.ID)}constructor(a,l,d,p,h){this._editor=a,this._logService=l,this._languageFeaturesService=d,this._languageConfigurationService=h,this._snippetListener=new f.DisposableStore,this._modelVersionId=-1,this._inSnippet=i.InSnippetMode.bindTo(p),this._hasNextTabstop=i.HasNextTabstop.bindTo(p),this._hasPrevTabstop=i.HasPrevTabstop.bindTo(p)}dispose(){var a;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(a=this._session)===null||a===void 0||a.dispose(),this._snippetListener.dispose()}insert(a,l){try{this._doInsert(a,typeof l>"u"?n:{...n,...l})}catch(d){this.cancel(),this._logService.error(d),this._logService.error("snippet_error"),this._logService.error("insert_template=",a),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(a,l){var d;if(this._editor.hasModel()){if(this._snippetListener.clear(),l.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof a!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof a=="string"),this._session.merge(a,l)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new t.SnippetSession(this._editor,a,l,this._languageConfigurationService),this._session.insert()),l.undoStopAfter&&this._editor.getModel().pushStackElement(),!((d=this._session)===null||d===void 0)&&d.hasChoice){const p={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(L,D)=>{if(!this._session||L!==this._editor.getModel()||!I.Position.equals(this._editor.getPosition(),D))return;const{activeChoice:T}=this._session;if(!T||T.choice.options.length===0)return;const N=L.getValueInRange(T.range),A=!!T.choice.options.find(M=>M.value===N),R=[];for(let M=0;M<T.choice.options.length;M++){const P=T.choice.options[M];R.push({kind:13,label:P.value,insertText:P.value,sortText:"a".repeat(M+1),range:T.range,filterText:A?`${N}_${P.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,v.localize)(282,"Go to next placeholder...")}})}return{suggestions:R}}},h=this._editor.getModel();let g,C=!1;const S=()=>{g?.dispose(),C=!1},_=()=>{C||(g=this._languageFeaturesService.completionProvider.register({language:h.getLanguageId(),pattern:h.uri.fsPath,scheme:h.uri.scheme,exclusive:!0},p),this._snippetListener.add(g),C=!0)};this._choiceCompletions={provider:p,enable:_,disable:S}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(p=>p.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var a;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:l}=this._session;if(!l||!this._choiceCompletions){(a=this._choiceCompletions)===null||a===void 0||a.disable(),this._currentChoice=void 0;return}this._currentChoice!==l.choice&&(this._currentChoice=l.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,b.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(a=!1){var l;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(l=this._session)===null||l===void 0||l.dispose(),this._session=void 0,this._modelVersionId=-1,a&&this._editor.setSelections([this._editor.getSelection()])}prev(){var a;(a=this._session)===null||a===void 0||a.prev(),this._updateState()}next(){var a;(a=this._session)===null||a===void 0||a.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=c,c.ID="snippetController2",c.InSnippetMode=new s.RawContextKey("inSnippetMode",!1,(0,v.localize)(279,"Whether the editor in current in snippet mode")),c.HasNextTabstop=new s.RawContextKey("hasNextTabstop",!1,(0,v.localize)(280,"Whether there is a next tab stop when in snippet mode")),c.HasPrevTabstop=new s.RawContextKey("hasPrevTabstop",!1,(0,v.localize)(281,"Whether there is a previous tab stop when in snippet mode")),e.SnippetController2=c=i=ke([ge(1,o.ILogService),ge(2,w.ILanguageFeaturesService),ge(3,s.IContextKeyService),ge(4,m.ILanguageConfigurationService)],c),(0,E.registerEditorContribution)(c.ID,c,4);const u=E.EditorCommand.bindToContribution(c.get);(0,E.registerEditorCommand)(new u({id:"jumpToNextSnippetPlaceholder",precondition:s.ContextKeyExpr.and(c.InSnippetMode,c.HasNextTabstop),handler:r=>r.next(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:2}})),(0,E.registerEditorCommand)(new u({id:"jumpToPrevSnippetPlaceholder",precondition:s.ContextKeyExpr.and(c.InSnippetMode,c.HasPrevTabstop),handler:r=>r.prev(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:1026}})),(0,E.registerEditorCommand)(new u({id:"leaveSnippet",precondition:c.InSnippetMode,handler:r=>r.cancel(!0),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new u({id:"acceptSnippet",precondition:c.InSnippetMode,handler:r=>r.finish()}))}),define(re[850],ae([1,0,13,67,101,8,2,21,11,19,75,9,5,23,103,114,27,34,205,707,257,206,219,24,7]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VersionIdChangeReason=e.InlineCompletionsModel=void 0,e.getSecondaryEdits=_;let C=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(N,A,R,M,P,x,O,B,H,K,V,j){super(),this.textModel=N,this.selectedSuggestItem=A,this._textModelVersionId=R,this._positions=M,this._debounceValue=P,this._suggestPreviewEnabled=x,this._suggestPreviewMode=O,this._inlineSuggestMode=B,this._enabled=H,this._instantiationService=K,this._commandService=V,this._languageConfigurationService=j,this._source=this._register(this._instantiationService.createInstance(a.InlineCompletionsSource,this.textModel,this._textModelVersionId,this._debounceValue)),this._isActive=(0,m.observableValue)(this,!1),this._forceUpdateExplicitlySignal=(0,m.observableSignal)(this),this._selectedInlineCompletionId=(0,m.observableValue)(this,void 0),this._primaryPosition=(0,m.derived)(this,Y=>{var Q;return(Q=this._positions.read(Y)[0])!==null&&Q!==void 0?Q:new s.Position(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([S.Redo,S.Undo,S.AcceptWord]),this._fetchInlineCompletionsPromise=(0,m.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:c.InlineCompletionTriggerKind.Automatic}),handleChange:(Y,Q)=>(Y.didChange(this._textModelVersionId)&&this._preserveCurrentCompletionReasons.has(this._getReason(Y.change))?Q.preserveCurrentCompletion=!0:Y.didChange(this._forceUpdateExplicitlySignal)&&(Q.inlineCompletionTriggerKind=c.InlineCompletionTriggerKind.Explicit),!0)},(Y,Q)=>{if(this._forceUpdateExplicitlySignal.read(Y),!(this._enabled.read(Y)&&this.selectedSuggestItem.read(Y)||this._isActive.read(Y))){this._source.cancelUpdate();return}this._textModelVersionId.read(Y);const G=this._source.suggestWidgetInlineCompletions.get(),F=this.selectedSuggestItem.read(Y);if(G&&!F){const pe=this._source.inlineCompletions.get();(0,m.transaction)(ue=>{(!pe||G.request.versionId>pe.request.versionId)&&this._source.inlineCompletions.set(G.clone(),ue),this._source.clearSuggestWidgetInlineCompletions(ue)})}const J=this._primaryPosition.read(Y),te={triggerKind:Q.inlineCompletionTriggerKind,selectedSuggestionInfo:F?.toSelectedSuggestionInfo()},de=this.selectedInlineCompletion.get(),he=Q.preserveCurrentCompletion||de?.forwardStable?de:void 0;return this._source.fetch(J,te,he)}),this._filteredInlineCompletionItems=(0,m.derivedOpts)({owner:this,equalsFn:(0,E.itemsEquals)()},Y=>{const Q=this._source.inlineCompletions.read(Y);if(!Q)return[];const Z=this._primaryPosition.read(Y);return Q.inlineCompletions.filter(F=>F.isVisible(this.textModel,Z,Y))}),this.selectedInlineCompletionIndex=(0,m.derived)(this,Y=>{const Q=this._selectedInlineCompletionId.read(Y),Z=this._filteredInlineCompletionItems.read(Y),G=this._selectedInlineCompletionId===void 0?-1:Z.findIndex(F=>F.semanticId===Q);return G===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):G}),this.selectedInlineCompletion=(0,m.derived)(this,Y=>{const Q=this._filteredInlineCompletionItems.read(Y),Z=this.selectedInlineCompletionIndex.read(Y);return Q[Z]}),this.activeCommands=(0,m.derivedOpts)({owner:this,equalsFn:(0,E.itemsEquals)()},Y=>{var Q,Z;return(Z=(Q=this.selectedInlineCompletion.read(Y))===null||Q===void 0?void 0:Q.inlineCompletion.source.inlineCompletions.commands)!==null&&Z!==void 0?Z:[]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,Y=>Y?.request.context.triggerKind),this.inlineCompletionsCount=(0,m.derived)(this,Y=>{if(this.lastTriggerKind.read(Y)===c.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(Y).length}),this.state=(0,m.derivedOpts)({owner:this,equalsFn:(Y,Q)=>!Y||!Q?Y===Q:(0,r.ghostTextsOrReplacementsEqual)(Y.ghostTexts,Q.ghostTexts)&&Y.inlineCompletion===Q.inlineCompletion&&Y.suggestItem===Q.suggestItem},Y=>{var Q,Z;const G=this.textModel,F=this.selectedSuggestItem.read(Y);if(F){const J=(0,l.singleTextRemoveCommonPrefix)(F.toSingleTextEdit(),G),te=this._computeAugmentation(J,Y);if(!this._suggestPreviewEnabled.read(Y)&&!te)return;const he=(Q=te?.edit)!==null&&Q!==void 0?Q:J,pe=te?te.edit.text.length-J.text.length:0,ue=this._suggestPreviewMode.read(Y),ie=this._positions.read(Y),se=[he,..._(this.textModel,ie,he)],ne=se.map((q,z)=>(0,l.computeGhostText)(q,G,ue,ie[z],pe)).filter(b.isDefined),W=(Z=ne[0])!==null&&Z!==void 0?Z:new r.GhostText(he.range.endLineNumber,[]);return{edits:se,primaryGhostText:W,ghostTexts:ne,inlineCompletion:te?.completion,suggestItem:F}}else{if(!this._isActive.read(Y))return;const J=this.selectedInlineCompletion.read(Y);if(!J)return;const te=J.toSingleTextEdit(Y),de=this._inlineSuggestMode.read(Y),he=this._positions.read(Y),pe=[te,..._(this.textModel,he,te)],ue=pe.map((ie,se)=>(0,l.computeGhostText)(ie,G,de,he[se],0)).filter(b.isDefined);return ue[0]?{edits:pe,primaryGhostText:ue[0],ghostTexts:ue,inlineCompletion:J,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,m.derivedOpts)({owner:this,equalsFn:r.ghostTextsOrReplacementsEqual},Y=>{const Q=this.state.read(Y);if(Q)return Q.ghostTexts}),this.primaryGhostText=(0,m.derivedOpts)({owner:this,equalsFn:r.ghostTextOrReplacementEquals},Y=>{const Q=this.state.read(Y);if(Q)return Q?.primaryGhostText}),this._register((0,m.recomputeInitiallyAndOnChange)(this._fetchInlineCompletionsPromise));let U;this._register((0,m.autorun)(Y=>{var Q,Z;const G=this.state.read(Y),F=G?.inlineCompletion;if(F?.semanticId!==U?.semanticId&&(U=F,F)){const J=F.inlineCompletion,te=J.source;(Z=(Q=te.provider).handleItemDidShow)===null||Z===void 0||Z.call(Q,te.inlineCompletions,J.sourceInlineCompletion,J.insertText)}}))}_getReason(N){return N?.isUndoing?S.Undo:N?.isRedoing?S.Redo:this.isAcceptingPartially?S.AcceptWord:S.Other}async trigger(N){this._isActive.set(!0,N),await this._fetchInlineCompletionsPromise.get()}async triggerExplicitly(N){(0,m.subtransaction)(N,A=>{this._isActive.set(!0,A),this._forceUpdateExplicitlySignal.trigger(A)}),await this._fetchInlineCompletionsPromise.get()}stop(N){(0,m.subtransaction)(N,A=>{this._isActive.set(!1,A),this._source.clear(A)})}_computeAugmentation(N,A){const R=this.textModel,M=this._source.suggestWidgetInlineCompletions.read(A),P=M?M.inlineCompletions:[this.selectedInlineCompletion.read(A)].filter(b.isDefined);return(0,k.mapFindFirst)(P,O=>{let B=O.toSingleTextEdit(A);return B=(0,l.singleTextRemoveCommonPrefix)(B,R,o.Range.fromPositions(B.range.getStartPosition(),N.range.getEndPosition())),(0,l.singleTextEditAugments)(B,N)?{completion:O,edit:B}:void 0})}async _deltaSelectedInlineCompletionIndex(N){await this.triggerExplicitly();const A=this._filteredInlineCompletionItems.get()||[];if(A.length>0){const R=(this.selectedInlineCompletionIndex.get()+N+A.length)%A.length;this._selectedInlineCompletionId.set(A[R].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(N){var A;if(N.getModel()!==this.textModel)throw new I.BugIndicatingError;const R=this.state.get();if(!R||R.primaryGhostText.isEmpty()||!R.inlineCompletion)return;const M=R.inlineCompletion.toInlineCompletion(void 0);if(M.command&&M.source.addRef(),N.pushUndoStop(),M.snippetInfo)N.executeEdits("inlineSuggestion.accept",[v.EditOperation.replace(M.range,""),...M.additionalTextEdits]),N.setPosition(M.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(A=p.SnippetController2.get(N))===null||A===void 0||A.insert(M.snippetInfo.snippet,{undoStopBefore:!1});else{const P=R.edits,x=D(P).map(O=>t.Selection.fromPositions(O));N.executeEdits("inlineSuggestion.accept",[...P.map(O=>v.EditOperation.replace(O.range,O.text)),...M.additionalTextEdits]),N.setSelections(x,"inlineCompletionAccept")}this.stop(),M.command&&(await this._commandService.executeCommand(M.command.id,...M.command.arguments||[]).then(void 0,I.onUnexpectedExternalError),M.source.removeRef())}async acceptNextWord(N){await this._acceptNext(N,(A,R)=>{const M=this.textModel.getLanguageIdAtPosition(A.lineNumber,A.column),P=this._languageConfigurationService.getLanguageConfiguration(M),x=new RegExp(P.wordDefinition.source,P.wordDefinition.flags.replace("g","")),O=R.match(x);let B=0;O&&O.index!==void 0?O.index===0?B=O[0].length:B=O.index:B=R.length;const K=/\s+/g.exec(R);return K&&K.index!==void 0&&K.index+K[0].length<B&&(B=K.index+K[0].length),B},0)}async acceptNextLine(N){await this._acceptNext(N,(A,R)=>{const M=R.match(/\n/);return M&&M.index!==void 0?M.index+1:R.length},1)}async _acceptNext(N,A,R){if(N.getModel()!==this.textModel)throw new I.BugIndicatingError;const M=this.state.get();if(!M||M.primaryGhostText.isEmpty()||!M.inlineCompletion)return;const P=M.primaryGhostText,x=M.inlineCompletion.toInlineCompletion(void 0);if(x.snippetInfo||x.filterText!==x.insertText){await this.accept(N);return}const O=P.parts[0],B=new s.Position(P.lineNumber,O.column),H=O.text,K=A(B,H);if(K===H.length&&P.parts.length===1){this.accept(N);return}const V=H.substring(0,K),j=this._positions.get(),U=j[0];x.source.addRef();try{this._isAcceptingPartially=!0;try{N.pushUndoStop();const Y=o.Range.fromPositions(U,B),Q=N.getModel().getValueInRange(Y)+V,Z=new i.SingleTextEdit(Y,Q),G=[Z,..._(this.textModel,j,Z)],F=D(G).map(J=>t.Selection.fromPositions(J));N.executeEdits("inlineSuggestion.accept",G.map(J=>v.EditOperation.replace(J.range,J.text))),N.setSelections(F,"inlineCompletionPartialAccept"),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1)}finally{this._isAcceptingPartially=!1}if(x.source.provider.handlePartialAccept){const Y=o.Range.fromPositions(x.range.getStartPosition(),n.TextLength.ofText(V).addToPosition(B)),Q=N.getModel().getValueInRange(Y,1);x.source.provider.handlePartialAccept(x.source.inlineCompletions,x.sourceInlineCompletion,Q.length,{kind:R})}}finally{x.source.removeRef()}}handleSuggestAccepted(N){var A,R;const M=(0,l.singleTextRemoveCommonPrefix)(N.toSingleTextEdit(),this.textModel),P=this._computeAugmentation(M,void 0);if(!P)return;const x=P.completion.inlineCompletion;(R=(A=x.source.provider).handlePartialAccept)===null||R===void 0||R.call(A,x.source.inlineCompletions,x.sourceInlineCompletion,M.text.length,{kind:2})}};e.InlineCompletionsModel=C,e.InlineCompletionsModel=C=ke([ge(9,g.IInstantiationService),ge(10,h.ICommandService),ge(11,u.ILanguageConfigurationService)],C);var S;(function(T){T[T.Undo=0]="Undo",T[T.Redo=1]="Redo",T[T.AcceptWord=2]="AcceptWord",T[T.Other=3]="Other"})(S||(e.VersionIdChangeReason=S={}));function _(T,N,A){if(N.length===1)return[];const R=N[0],M=N.slice(1),P=A.range.getStartPosition(),x=A.range.getEndPosition(),O=T.getValueInRange(o.Range.fromPositions(R,x)),B=(0,d.subtractPositions)(R,P);if(B.lineNumber<1)return(0,I.onUnexpectedError)(new I.BugIndicatingError(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${R.toString()} and ${P.toString()}`)),[];const H=L(A.text,B);return M.map(K=>{const V=(0,d.addPositions)((0,d.subtractPositions)(K,P),x),j=T.getValueInRange(o.Range.fromPositions(K,V)),U=(0,w.commonPrefixLength)(O,j),Y=o.Range.fromPositions(K,K.delta(0,U));return new i.SingleTextEdit(Y,H)})}function L(T,N){let A="";const R=(0,w.splitLinesIncludeSeparators)(T);for(let M=N.lineNumber-1;M<R.length;M++)A+=R[M].substring(M===N.lineNumber-1?N.column-1:0);return A}function D(T){const N=f.Permutation.createSortPermutation(T,(0,f.compareBy)(P=>P.range,o.Range.compareRangesUsingStarts)),R=new i.TextEdit(N.apply(T)).getNewRanges();return N.inverse().apply(R).map(P=>P.getEndPosition())}}),define(re[434],ae([1,0,14,18,8,6,2,11,23,115,362,116,28,12,61,64,361,151,17,83,19,266,219,268]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class C{static shouldAutoTrigger(T){if(!T.hasModel())return!1;const N=T.getModel(),A=T.getPosition();N.tokenization.tokenizeIfCheap(A.lineNumber);const R=N.getWordAtPosition(A);return!(!R||R.endColumn!==A.column&&R.startColumn+1!==A.column||!isNaN(Number(R.word)))}constructor(T,N,A){this.leadingLineContent=T.getLineContent(N.lineNumber).substr(0,N.column-1),this.leadingWord=T.getWordUntilPosition(N),this.lineNumber=N.lineNumber,this.column=N.column,this.triggerOptions=A}}e.LineContext=C;function S(D,T,N){if(!T.getContextKeyValue(d.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const A=T.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!D.getOption(62).suppressSuggestions}function _(D,T,N){if(!T.getContextKeyValue("inlineSuggestionVisible"))return!0;const A=T.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!D.getOption(62).suppressSuggestions}let L=g=class{constructor(T,N,A,R,M,P,x,O,B){this._editor=T,this._editorWorkerService=N,this._clipboardService=A,this._telemetryService=R,this._logService=M,this._contextKeyService=P,this._configurationService=x,this._languageFeaturesService=O,this._envService=B,this._toDispose=new y.DisposableStore,this._triggerCharacterListener=new y.DisposableStore,this._triggerQuickSuggest=new f.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new y.DisposableStore,this._onDidCancel=new I.Emitter,this._onDidTrigger=new I.Emitter,this._onDidSuggest=new I.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new w.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let H=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{H=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{H=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(K=>{H||this._onCursorChange(K)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!H&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,y.dispose)(this._triggerCharacterListener),(0,y.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(92)||!this._editor.hasModel()||!this._editor.getOption(122))return;const T=new Map;for(const A of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const R of A.triggerCharacters||[]){let M=T.get(R);M||(M=new Set,M.add((0,u.getSnippetSuggestSupport)()),T.set(R,M)),M.add(A)}const N=A=>{var R;if(!_(this._editor,this._contextKeyService,this._configurationService)||C.shouldAutoTrigger(this._editor))return;if(!A){const x=this._editor.getPosition();A=this._editor.getModel().getLineContent(x.lineNumber).substr(0,x.column-1)}let M="";(0,m.isLowSurrogate)(A.charCodeAt(A.length-1))?(0,m.isHighSurrogate)(A.charCodeAt(A.length-2))&&(M=A.substr(A.length-2)):M=A.charAt(A.length-1);const P=T.get(M);if(P){const x=new Map;if(this._completionModel)for(const[O,B]of this._completionModel.getItemsByProvider())P.has(O)||x.set(O,B);this.trigger({auto:!0,triggerKind:1,triggerCharacter:M,retrigger:!!this._completionModel,clipboardText:(R=this._completionModel)===null||R===void 0?void 0:R.clipboardText,completionOptions:{providerFilter:P,providerItemsToReuse:x}})}};this._triggerCharacterListener.add(this._editor.onDidType(N)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>N()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(T=!1){var N;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(N=this._requestToken)===null||N===void 0||N.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:T}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(T){if(!this._editor.hasModel())return;const N=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!T.selection.isEmpty()||T.reason!==0&&T.reason!==3||T.source!=="keyboard"&&T.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&T.reason===0?(N.containsRange(this._currentSelection)||N.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&T.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var T;u.QuickSuggestionsOptions.isAllOff(this._editor.getOption(90))||this._editor.getOption(119).snippetsPreventQuickSuggestions&&(!((T=p.SnippetController2.get(this._editor))===null||T===void 0)&&T.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!C.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const N=this._editor.getModel(),A=this._editor.getPosition(),R=this._editor.getOption(90);if(!u.QuickSuggestionsOptions.isAllOff(R)){if(!u.QuickSuggestionsOptions.isAllOn(R)){N.tokenization.tokenizeIfCheap(A.lineNumber);const M=N.tokenization.getLineTokens(A.lineNumber),P=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(A.column-1-1,0)));if(u.QuickSuggestionsOptions.valueFor(R,P)!=="on")return}S(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(N)&&this.trigger({auto:!0})}},this._editor.getOption(91)))}_refilterCompletionItems(){(0,l.assertType)(this._editor.hasModel()),(0,l.assertType)(this._triggerState!==void 0);const T=this._editor.getModel(),N=this._editor.getPosition(),A=new C(T,N,{...this._triggerState,refilter:!0});this._onNewContext(A)}trigger(T){var N,A,R,M,P,x;if(!this._editor.hasModel())return;const O=this._editor.getModel(),B=new C(O,this._editor.getPosition(),T);this.cancel(T.retrigger),this._triggerState=T,this._onDidTrigger.fire({auto:T.auto,shy:(N=T.shy)!==null&&N!==void 0?N:!1,position:this._editor.getPosition()}),this._context=B;let H={triggerKind:(A=T.triggerKind)!==null&&A!==void 0?A:0};T.triggerCharacter&&(H={triggerKind:1,triggerCharacter:T.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const K=this._editor.getOption(113);let V=1;switch(K){case"top":V=0;break;case"bottom":V=2;break}const{itemKind:j,showDeprecated:U}=g.createSuggestFilter(this._editor),Y=new u.CompletionOptions(V,(M=(R=T.completionOptions)===null||R===void 0?void 0:R.kindFilter)!==null&&M!==void 0?M:j,(P=T.completionOptions)===null||P===void 0?void 0:P.providerFilter,(x=T.completionOptions)===null||x===void 0?void 0:x.providerItemsToReuse,U),Q=v.WordDistance.create(this._editorWorkerService,this._editor),Z=(0,u.provideSuggestionItems)(this._languageFeaturesService.completionProvider,O,this._editor.getPosition(),Y,H,this._requestToken.token);Promise.all([Z,Q]).then(async([G,F])=>{var J;if((J=this._requestToken)===null||J===void 0||J.dispose(),!this._editor.hasModel())return;let te=T?.clipboardText;if(!te&&G.needsClipboard&&(te=await this._clipboardService.readText()),this._triggerState===void 0)return;const de=this._editor.getModel(),he=new C(de,this._editor.getPosition(),T),pe={...a.FuzzyScoreOptions.default,firstMatchCanBeWeak:!this._editor.getOption(119).matchOnWordStartOnly};if(this._completionModel=new c.CompletionModel(G.items,this._context.column,{leadingLineContent:he.leadingLineContent,characterCountDelta:he.column-this._context.column},F,this._editor.getOption(119),this._editor.getOption(113),pe,te),this._completionDisposables.add(G.disposable),this._onNewContext(he),this._reportDurationsTelemetry(G.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const ue of G.items)ue.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${ue.provider._debugDisplayName}`,ue.completion)}).catch(E.onUnexpectedError)}_reportDurationsTelemetry(T){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(T)}),this._logService.debug("suggest.durations.json",T)})}static createSuggestFilter(T){const N=new Set;T.getOption(113)==="none"&&N.add(27);const R=T.getOption(119);return R.showMethods||N.add(0),R.showFunctions||N.add(1),R.showConstructors||N.add(2),R.showFields||N.add(3),R.showVariables||N.add(4),R.showClasses||N.add(5),R.showStructs||N.add(6),R.showInterfaces||N.add(7),R.showModules||N.add(8),R.showProperties||N.add(9),R.showEvents||N.add(10),R.showOperators||N.add(11),R.showUnits||N.add(12),R.showValues||N.add(13),R.showConstants||N.add(14),R.showEnums||N.add(15),R.showEnumMembers||N.add(16),R.showKeywords||N.add(17),R.showWords||N.add(18),R.showColors||N.add(19),R.showFiles||N.add(20),R.showReferences||N.add(21),R.showColors||N.add(22),R.showFolders||N.add(23),R.showTypeParameters||N.add(24),R.showSnippets||N.add(27),R.showUsers||N.add(25),R.showIssues||N.add(26),{itemKind:N,showDeprecated:R.showDeprecated}}_onNewContext(T){if(this._context){if(T.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,m.getLeadingWhitespace)(T.leadingLineContent)!==(0,m.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(T.column<this._context.column){T.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(T.leadingWord.word.length!==0&&T.leadingWord.startColumn>this._context.leadingWord.startColumn){if(C.shouldAutoTrigger(this._editor)&&this._context){const A=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:A}})}return}if(T.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&T.leadingWord.word.length!==0){const N=new Map,A=new Set;for(const[R,M]of this._completionModel.getItemsByProvider())M.length>0&&M[0].container.incomplete?A.add(R):N.set(R,M);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:A,providerItemsToReuse:N}})}else{const N=this._completionModel.lineContext;let A=!1;if(this._completionModel.lineContext={leadingLineContent:T.leadingLineContent,characterCountDelta:T.column-this._context.column},this._completionModel.items.length===0){const R=C.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(R&&this._context.leadingWord.endColumn<T.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=N,A=this._completionModel.items.length>0,A&&T.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:T.triggerOptions,isFrozen:A})}}}}};e.SuggestModel=L,e.SuggestModel=L=g=ke([ge(1,b.IEditorWorkerService),ge(2,s.IClipboardService),ge(3,n.ITelemetryService),ge(4,i.ILogService),ge(5,t.IContextKeyService),ge(6,o.IConfigurationService),ge(7,r.ILanguageFeaturesService),ge(8,h.IEnvironmentService)],L)}),define(re[291],ae([1,0,47,13,18,8,6,137,2,16,59,19,140,15,75,9,5,20,219,132,401,678,3,24,12,7,61,151,677,645,434,646,829,64,50,127,4,36]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N,A,R,M,P,x,O){"use strict";var B;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const H=!1;class K{constructor(G,F){if(this._model=G,this._position=F,this._decorationOptions=O.ModelDecorationOptions.register({description:"suggest-line-suffix",stickiness:1}),G.getLineMaxColumn(F.lineNumber)!==F.column){const te=G.getOffsetAt(F),de=G.getPositionAt(te+1);G.changeDecorations(he=>{this._marker&&he.removeDecoration(this._marker),this._marker=he.addDecoration(c.Range.fromPositions(F,de),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(G=>{G.removeDecoration(this._marker),this._marker=void 0})}delta(G){if(this._model.isDisposed()||this._position.lineNumber!==G.lineNumber)return 0;if(this._marker){const F=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(F.getStartPosition())-this._model.getOffsetAt(G)}else return this._model.getLineMaxColumn(G.lineNumber)-G.column}}let V=B=class{static get(G){return G.getContribution(B.ID)}constructor(G,F,J,te,de,he,pe){this._memoryService=F,this._commandService=J,this._contextKeyService=te,this._instantiationService=de,this._logService=he,this._telemetryService=pe,this._lineSuffix=new w.MutableDisposable,this._toDispose=new w.DisposableStore,this._selectors=new j(ne=>ne.priority),this._onWillInsertSuggestItem=new y.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=G,this.model=de.createInstance(T.SuggestModel,this.editor),this._selectors.register({priority:0,select:(ne,W,q)=>this._memoryService.select(ne,W,q)});const ue=_.Context.InsertMode.bindTo(te);ue.set(G.getOption(119).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>ue.set(G.getOption(119).insertMode))),this.widget=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(G.getDomNode()),()=>{const ne=this._instantiationService.createInstance(A.SuggestWidget,this.editor);this._toDispose.add(ne),this._toDispose.add(ne.onDidSelect(X=>this._insertSuggestion(X,0),this));const W=new D.CommitCharacterController(this.editor,ne,this.model,X=>this._insertSuggestion(X,2));this._toDispose.add(W);const q=_.Context.MakesTextEdit.bindTo(this._contextKeyService),z=_.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),$=_.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,w.toDisposable)(()=>{q.reset(),z.reset(),$.reset()})),this._toDispose.add(ne.onDidFocus(({item:X})=>{const ee=this.editor.getPosition(),oe=X.editStart.column,ce=ee.column;let fe=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!X.completion.additionalTextEdits&&!(X.completion.insertTextRules&4)&&ce-oe===X.completion.insertText.length&&(fe=this.editor.getModel().getValueInRange({startLineNumber:ee.lineNumber,startColumn:oe,endLineNumber:ee.lineNumber,endColumn:ce})!==X.completion.insertText),q.set(fe),z.set(!n.Position.equals(X.editInsertEnd,X.editReplaceEnd)),$.set(!!X.provider.resolveCompletionItem||!!X.completion.documentation||X.completion.detail!==X.completion.label)})),this._toDispose.add(ne.onDetailsKeyDown(X=>{if(X.toKeyCodeChord().equals(new m.KeyCodeChord(!0,!1,!1,!1,33))||b.isMacintosh&&X.toKeyCodeChord().equals(new m.KeyCodeChord(!1,!1,!1,!0,33))){X.stopPropagation();return}X.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ne})),this._overtypingCapturer=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(G.getDomNode()),()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(G.getDomNode()),()=>this._toDispose.add(new L.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(de.createInstance(d.WordContextKey,G)),this._toDispose.add(this.model.onDidTrigger(ne=>{this.widget.value.showTriggered(ne.auto,ne.shy?250:50),this._lineSuffix.value=new K(this.editor.getModel(),ne.position)})),this._toDispose.add(this.model.onDidSuggest(ne=>{if(ne.triggerOptions.shy)return;let W=-1;for(const z of this._selectors.itemsOrderedByPriorityDesc)if(W=z.select(this.editor.getModel(),this.editor.getPosition(),ne.completionModel.items),W!==-1)break;if(W===-1&&(W=0),this.model.state===0)return;let q=!1;if(ne.triggerOptions.auto){const z=this.editor.getOption(119);z.selectionMode==="never"||z.selectionMode==="always"?q=z.selectionMode==="never":z.selectionMode==="whenTriggerCharacter"?q=ne.triggerOptions.triggerKind!==1:z.selectionMode==="whenQuickSuggestion"&&(q=ne.triggerOptions.triggerKind===1&&!ne.triggerOptions.refilter)}this.widget.value.showSuggestions(ne.completionModel,W,ne.isFrozen,ne.triggerOptions.auto,q)})),this._toDispose.add(this.model.onDidCancel(ne=>{ne.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{H||(this.model.cancel(),this.model.clear())}));const ie=_.Context.AcceptSuggestionsOnEnter.bindTo(te),se=()=>{const ne=this.editor.getOption(1);ie.set(ne==="on"||ne==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>se())),se()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(G,F){if(!G||!G.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const J=r.SnippetController2.get(this.editor);if(!J)return;this._onWillInsertSuggestItem.fire({item:G.item});const te=this.editor.getModel(),de=te.getAlternativeVersionId(),{item:he}=G,pe=[],ue=new E.CancellationTokenSource;F&1||this.editor.pushUndoStop();const ie=this.getOverwriteInfo(he,!!(F&8));this._memoryService.memorize(te,this.editor.getPosition(),he);const se=he.isResolved;let ne=-1,W=-1;if(Array.isArray(he.completion.additionalTextEdits)){this.model.cancel();const z=o.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",he.completion.additionalTextEdits.map($=>{let X=c.Range.lift($.range);if(X.startLineNumber===he.position.lineNumber&&X.startColumn>he.position.column){const ee=this.editor.getPosition().column-he.position.column,oe=ee,ce=c.Range.spansMultipleLines(X)?0:ee;X=new c.Range(X.startLineNumber,X.startColumn+oe,X.endLineNumber,X.endColumn+ce)}return i.EditOperation.replaceMove(X,$.text)})),z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!se){const z=new v.StopWatch;let $;const X=te.onDidChangeContent(fe=>{if(fe.isFlush){ue.cancel(),X.dispose();return}for(const ve of fe.changes){const _e=c.Range.getEndPosition(ve.range);(!$||n.Position.isBefore(_e,$))&&($=_e)}}),ee=F;F|=2;let oe=!1;const ce=this.editor.onWillType(()=>{ce.dispose(),oe=!0,ee&2||this.editor.pushUndoStop()});pe.push(he.resolve(ue.token).then(()=>{if(!he.completion.additionalTextEdits||ue.token.isCancellationRequested)return;if($&&he.completion.additionalTextEdits.some(ve=>n.Position.isBefore($,c.Range.getStartPosition(ve.range))))return!1;oe&&this.editor.pushUndoStop();const fe=o.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",he.completion.additionalTextEdits.map(ve=>i.EditOperation.replaceMove(c.Range.lift(ve.range),ve.text))),fe.restoreRelativeVerticalPositionOfCursor(this.editor),(oe||!(ee&2))&&this.editor.pushUndoStop(),!0}).then(fe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",z.elapsed(),fe),W=fe===!0?1:fe===!1?0:-2}).finally(()=>{X.dispose(),ce.dispose()}))}let{insertText:q}=he.completion;if(he.completion.insertTextRules&4||(q=a.SnippetParser.escape(q)),this.model.cancel(),J.insert(q,{overwriteBefore:ie.overwriteBefore,overwriteAfter:ie.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(he.completion.insertTextRules&1),clipboardText:G.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),F&2||this.editor.pushUndoStop(),he.completion.command)if(he.completion.command.id===U.id)this.model.trigger({auto:!0,retrigger:!0});else{const z=new v.StopWatch;pe.push(this._commandService.executeCommand(he.completion.command.id,...he.completion.command.arguments?[...he.completion.command.arguments]:[]).catch($=>{he.completion.extensionId?(0,I.onUnexpectedExternalError)($):(0,I.onUnexpectedError)($)}).finally(()=>{ne=z.elapsed()}))}F&4&&this._alternatives.value.set(G,z=>{for(ue.cancel();te.canUndo();){de!==te.getAlternativeVersionId()&&te.undo(),this._insertSuggestion(z,3|(F&8?8:0));break}}),this._alertCompletionItem(he),Promise.all(pe).finally(()=>{this._reportSuggestionAcceptedTelemetry(he,te,se,ne,W),this.model.clear(),ue.dispose()})}_reportSuggestionAcceptedTelemetry(G,F,J,te,de){var he,pe,ue;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(pe=(he=G.extensionId)===null||he===void 0?void 0:he.value)!==null&&pe!==void 0?pe:"unknown",providerId:(ue=G.provider._debugDisplayName)!==null&&ue!==void 0?ue:"unknown",kind:G.completion.kind,basenameHash:(0,P.hash)((0,M.basename)(F.uri)).toString(16),languageId:F.getLanguageId(),fileExtension:(0,M.extname)(F.uri),resolveInfo:G.provider.resolveCompletionItem?J?1:0:-1,resolveDuration:G.resolveDuration,commandDuration:te,additionalEditsAsync:de})}getOverwriteInfo(G,F){(0,s.assertType)(this.editor.hasModel());let J=this.editor.getOption(119).insertMode==="replace";F&&(J=!J);const te=G.position.column-G.editStart.column,de=(J?G.editReplaceEnd.column:G.editInsertEnd.column)-G.position.column,he=this.editor.getPosition().column-G.position.column,pe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:te+he,overwriteAfter:de+pe}}_alertCompletionItem(G){if((0,k.isNonEmptyArray)(G.completion.additionalTextEdits)){const F=p.localize(212,"Accepting '{0}' made {1} additional edits",G.textLabel,G.completion.additionalTextEdits.length);(0,f.alert)(F)}}triggerSuggest(G,F,J){this.editor.hasModel()&&(this.model.trigger({auto:F??!1,completionOptions:{providerFilter:G,kindFilter:J?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(G){if(!this.editor.hasModel())return;const F=this.editor.getPosition(),J=()=>{F.equals(this.editor.getPosition())&&this._commandService.executeCommand(G.fallback)},te=de=>{if(de.completion.insertTextRules&4||de.completion.additionalTextEdits)return!0;const he=this.editor.getPosition(),pe=de.editStart.column,ue=he.column;return ue-pe!==de.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:he.lineNumber,startColumn:pe,endLineNumber:he.lineNumber,endColumn:ue})!==de.completion.insertText};y.Event.once(this.model.onDidTrigger)(de=>{const he=[];y.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,w.dispose)(he),J()},void 0,he),this.model.onDidSuggest(({completionModel:pe})=>{if((0,w.dispose)(he),pe.items.length===0){J();return}const ue=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),pe.items),ie=pe.items[ue];if(!te(ie)){J();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ue,item:ie,model:pe},7)},void 0,he)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(F,0),this.editor.focus()}acceptSelectedSuggestion(G,F){const J=this.widget.value.getFocusedItem();let te=0;G&&(te|=4),F&&(te|=8),this._insertSuggestion(J,te)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(G){return this._selectors.register(G)}};e.SuggestController=V,V.ID="editor.contrib.suggestController",e.SuggestController=V=B=ke([ge(1,l.ISuggestMemoryService),ge(2,h.ICommandService),ge(3,g.IContextKeyService),ge(4,C.IInstantiationService),ge(5,S.ILogService),ge(6,R.ITelemetryService)],V);class j{constructor(G){this.prioritySelector=G,this._items=new Array}register(G){if(this._items.indexOf(G)!==-1)throw new Error("Value is already registered");return this._items.push(G),this._items.sort((F,J)=>this.prioritySelector(J)-this.prioritySelector(F)),{dispose:()=>{const F=this._items.indexOf(G);F>=0&&this._items.splice(F,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class U extends t.EditorAction{constructor(){super({id:U.id,label:p.localize(213,"Trigger Suggest"),alias:"Trigger Suggest",precondition:g.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCompletionItemProvider,_.Context.Visible.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(G,F,J){const te=V.get(F);if(!te)return;let de;J&&typeof J=="object"&&J.auto===!0&&(de=!0),te.triggerSuggest(void 0,de,void 0)}}e.TriggerSuggestAction=U,U.id="editor.action.triggerSuggest",(0,t.registerEditorContribution)(V.ID,V,2),(0,t.registerEditorAction)(U);const Y=190,Q=t.EditorCommand.bindToContribution(V.get);(0,t.registerEditorCommand)(new Q({id:"acceptSelectedSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion),handler(Z){Z.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:g.ContextKeyExpr.and(_.Context.Visible,u.EditorContextKeys.textInputFocus),weight:Y},{primary:3,kbExpr:g.ContextKeyExpr.and(_.Context.Visible,u.EditorContextKeys.textInputFocus,_.Context.AcceptSuggestionsOnEnter,_.Context.MakesTextEdit),weight:Y}],menuOpts:[{menuId:_.suggestWidgetStatusbarMenu,title:p.localize(214,"Insert"),group:"left",order:1,when:_.Context.HasInsertAndReplaceRange.toNegated()},{menuId:_.suggestWidgetStatusbarMenu,title:p.localize(215,"Insert"),group:"left",order:1,when:g.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("insert"))},{menuId:_.suggestWidgetStatusbarMenu,title:p.localize(216,"Replace"),group:"left",order:1,when:g.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("replace"))}]})),(0,t.registerEditorCommand)(new Q({id:"acceptAlternativeSelectedSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,u.EditorContextKeys.textInputFocus,_.Context.HasFocusedSuggestion),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(Z){Z.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:_.suggestWidgetStatusbarMenu,group:"left",order:2,when:g.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("insert")),title:p.localize(217,"Replace")},{menuId:_.suggestWidgetStatusbarMenu,group:"left",order:2,when:g.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("replace")),title:p.localize(218,"Insert")}]})),h.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,t.registerEditorCommand)(new Q({id:"hideSuggestWidget",precondition:_.Context.Visible,handler:Z=>Z.cancelSuggestWidget(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,t.registerEditorCommand)(new Q({id:"selectNextSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,g.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:Z=>Z.selectNextSuggestion(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,t.registerEditorCommand)(new Q({id:"selectNextPageSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,g.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:Z=>Z.selectNextPageSuggestion(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,t.registerEditorCommand)(new Q({id:"selectLastSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,g.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:Z=>Z.selectLastSuggestion()})),(0,t.registerEditorCommand)(new Q({id:"selectPrevSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,g.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:Z=>Z.selectPrevSuggestion(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,t.registerEditorCommand)(new Q({id:"selectPrevPageSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,g.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:Z=>Z.selectPrevPageSuggestion(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,t.registerEditorCommand)(new Q({id:"selectFirstSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,g.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:Z=>Z.selectFirstSuggestion()})),(0,t.registerEditorCommand)(new Q({id:"focusSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion.negate()),handler:Z=>Z.focusSuggestion(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,t.registerEditorCommand)(new Q({id:"focusAndAcceptSuggestion",precondition:g.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion.negate()),handler:Z=>{Z.focusSuggestion(),Z.acceptSelectedSuggestion(!0,!1)}})),(0,t.registerEditorCommand)(new Q({id:"toggleSuggestionDetails",precondition:g.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion),handler:Z=>Z.toggleSuggestionDetails(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:_.suggestWidgetStatusbarMenu,group:"right",order:1,when:g.ContextKeyExpr.and(_.Context.DetailsVisible,_.Context.CanResolve),title:p.localize(219,"show less")},{menuId:_.suggestWidgetStatusbarMenu,group:"right",order:1,when:g.ContextKeyExpr.and(_.Context.DetailsVisible.toNegated(),_.Context.CanResolve),title:p.localize(220,"show more")}]})),(0,t.registerEditorCommand)(new Q({id:"toggleExplainMode",precondition:_.Context.Visible,handler:Z=>Z.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,t.registerEditorCommand)(new Q({id:"toggleSuggestionFocus",precondition:_.Context.Visible,handler:Z=>Z.toggleSuggestionFocus(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,t.registerEditorCommand)(new Q({id:"insertBestCompletion",precondition:g.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,g.ContextKeyExpr.equals("config.editor.tabCompletion","on"),d.WordContextKey.AtEnd,_.Context.Visible.toNegated(),L.SuggestAlternatives.OtherSuggestions.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:(Z,G)=>{Z.triggerSuggestAndAcceptBest((0,s.isObject)(G)?{fallback:"tab",...G}:{fallback:"tab"})},kbOpts:{weight:Y,primary:2}})),(0,t.registerEditorCommand)(new Q({id:"insertNextSuggestion",precondition:g.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,g.ContextKeyExpr.equals("config.editor.tabCompletion","on"),L.SuggestAlternatives.OtherSuggestions,_.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:Z=>Z.acceptNextSuggestion(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:2}})),(0,t.registerEditorCommand)(new Q({id:"insertPrevSuggestion",precondition:g.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,g.ContextKeyExpr.equals("config.editor.tabCompletion","on"),L.SuggestAlternatives.OtherSuggestions,_.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:Z=>Z.acceptPrevSuggestion(),kbOpts:{weight:Y,kbExpr:u.EditorContextKeys.textInputFocus,primary:1026}})),(0,t.registerEditorAction)(class extends t.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:p.localize(221,"Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Z,G){var F;(F=V.get(G))===null||F===void 0||F.resetWidgetSize()}})}),define(re[851],ae([1,0,13,67,6,2,9,5,103,27,257,132,433,291]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class i extends I.Disposable{get selectedItem(){return this._currentSuggestItemInfo}constructor(r,a,l){super(),this.editor=r,this.suggestControllerPreselector=a,this.onWillAccept=l,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._onDidSelectedItemChange=this._register(new E.Emitter),this.onDidSelectedItemChange=this._onDidSelectedItemChange.event,this._register(r.onKeyDown(p=>{p.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(r.onKeyUp(p=>{p.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const d=t.SuggestController.get(this.editor);if(d){this._register(d.registerSelector({priority:100,select:(g,C,S)=>{const _=this.editor.getModel();if(!_)return-1;const L=this.suggestControllerPreselector(),D=L?(0,v.singleTextRemoveCommonPrefix)(L,_):void 0;if(!D)return-1;const T=y.Position.lift(C),N=S.map((R,M)=>{const P=n.fromSuggestion(d,_,T,R,this.isShiftKeyPressed),x=(0,v.singleTextRemoveCommonPrefix)(P.toSingleTextEdit(),_),O=(0,v.singleTextEditAugments)(D,x);return{index:M,valid:O,prefixLength:x.text.length,suggestItem:R}}).filter(R=>R&&R.valid&&R.prefixLength>0),A=(0,k.findFirstMax)(N,(0,f.compareBy)(R=>R.prefixLength,f.numberComparator));return A?A.index:-1}}));let p=!1;const h=()=>{p||(p=!0,this._register(d.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(d.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(d.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(E.Event.once(d.model.onDidTrigger)(g=>{h()})),this._register(d.onWillInsertSuggestItem(g=>{const C=this.editor.getPosition(),S=this.editor.getModel();if(!C||!S)return;const _=n.fromSuggestion(d,S,C,g.item,this.isShiftKeyPressed);this.onWillAccept(_)}))}this.update(this._isActive)}update(r){const a=this.getSuggestItemInfo();(this._isActive!==r||!c(this._currentSuggestItemInfo,a))&&(this._isActive=r,this._currentSuggestItemInfo=a,this._onDidSelectedItemChange.fire())}getSuggestItemInfo(){const r=t.SuggestController.get(this.editor);if(!r||!this.isSuggestWidgetVisible)return;const a=r.widget.value.getFocusedItem(),l=this.editor.getPosition(),d=this.editor.getModel();if(!(!a||!l||!d))return n.fromSuggestion(r,d,l,a.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const r=t.SuggestController.get(this.editor);r?.stopForceRenderingAbove()}forceRenderingAbove(){const r=t.SuggestController.get(this.editor);r?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=i;class n{static fromSuggestion(r,a,l,d,p){let{insertText:h}=d.completion,g=!1;if(d.completion.insertTextRules&4){const S=new s.SnippetParser().parse(h);S.children.length<100&&o.SnippetSession.adjustWhitespace(a,l,!0,S),h=S.toString(),g=!0}const C=r.getOverwriteInfo(d,p);return new n(m.Range.fromPositions(l.delta(0,-C.overwriteBefore),l.delta(0,Math.max(C.overwriteAfter,0))),h,d.completion.kind,g)}constructor(r,a,l,d){this.range=r,this.insertText=a,this.completionItemKind=l,this.isSnippetText=d}equals(r){return this.range.equalsRange(r.range)&&this.insertText===r.insertText&&this.completionItemKind===r.completionItemKind&&this.isSnippetText===r.isSnippetText}toSelectedSuggestionInfo(){return new b.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new w.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=n;function c(u,r){return u===r?!0:!u||!r?!1:u.equals(r)}}),define(re[292],ae([1,0,459,47,14,18,2,21,72,223,19,212,166,9,78,17,256,380,266,281,850,851,3,60,134,24,28,12,7,31]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let N=T=class extends y.Disposable{static get(M){return M.getContribution(T.ID)}constructor(M,P,x,O,B,H,K,V,j,U){super(),this.editor=M,this._instantiationService=P,this._contextKeyService=x,this._configurationService=O,this._commandService=B,this._debounceService=H,this._languageFeaturesService=K,this._accessibilitySignalService=V,this._keybindingService=j,this._accessibilityService=U,this._editorObs=(0,o.observableCodeEditor)(this.editor),this._positions=(0,m.derived)(this,Q=>{var Z,G;return(G=(Z=this._editorObs.selections.read(Q))===null||Z===void 0?void 0:Z.map(F=>F.getEndPosition()))!==null&&G!==void 0?G:[new t.Position(1,1)]}),this._suggestWidgetAdaptor=this._register(new d.SuggestWidgetAdaptor(this.editor,()=>{var Q,Z;return this._editorObs.forceUpdate(),(Z=(Q=this.model.get())===null||Q===void 0?void 0:Q.selectedInlineCompletion.get())===null||Z===void 0?void 0:Z.toSingleTextEdit(void 0)},Q=>this._editorObs.forceUpdate(Z=>{var G;(G=this.model.get())===null||G===void 0||G.handleSuggestAccepted(Q)}))),this._suggestWidgetSelectedItem=(0,m.observableFromEvent)(this,Q=>this._suggestWidgetAdaptor.onDidSelectedItemChange(()=>{this._editorObs.forceUpdate(Z=>Q(void 0))}),()=>this._suggestWidgetAdaptor.selectedItem),this._enabledInConfig=(0,m.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=(0,m.observableFromEvent)(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=(0,m.observableFromEvent)(this,this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=(0,m.derived)(this,Q=>this._enabledInConfig.read(Q)&&(!this._isScreenReaderEnabled.read(Q)||!this._editorDictationInProgress.read(Q))),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this.model=(0,w.derivedDisposable)(this,Q=>{if(this._editorObs.isReadonly.read(Q))return;const Z=this._editorObs.model.read(Q);return Z?this._instantiationService.createInstance(l.InlineCompletionsModel,Z,this._suggestWidgetSelectedItem,this._editorObs.versionId,this._positions,this._debounceValue,(0,m.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).preview),(0,m.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).previewMode),(0,m.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).mode),this._enabled):void 0}).recomputeInitiallyAndOnChange(this._store),this._ghostTexts=(0,m.derived)(this,Q=>{var Z;const G=this.model.read(Q);return(Z=G?.ghostTexts.read(Q))!==null&&Z!==void 0?Z:[]}),this._stablizedGhostTexts=A(this._ghostTexts,this._store),this._ghostTextWidgets=(0,b.mapObservableArrayCached)(this,this._stablizedGhostTexts,(Q,Z)=>Z.add(this._instantiationService.createInstance(u.GhostTextWidget,this.editor,{ghostText:Q,minReservedLineCount:(0,m.constObservable)(0),targetTextModel:this.model.map(G=>G?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._playAccessibilitySignal=(0,m.observableSignal)(this),this._fontFamily=(0,m.observableFromEvent)(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._register(new r.InlineCompletionContextKeys(this._contextKeyService,this.model)),this._register((0,o.reactToChange)(this._editorObs.onDidType,(Q,Z)=>{var G;this._enabled.get()&&((G=this.model.get())===null||G===void 0||G.trigger())})),this._register(this._commandService.onDidExecuteCommand(Q=>{new Set([s.CoreEditingCommands.Tab.id,s.CoreEditingCommands.DeleteLeft.id,s.CoreEditingCommands.DeleteRight.id,c.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(Q.commandId)&&M.hasTextFocus()&&this._enabled.get()&&this._editorObs.forceUpdate(G=>{var F;(F=this.model.get())===null||F===void 0||F.trigger(G)})})),this._register((0,o.reactToChange)(this._editorObs.selections,(Q,Z)=>{var G;Z.some(F=>F.reason===3||F.source==="api")&&((G=this.model.get())===null||G===void 0||G.stop())})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||M.getOption(62).keepOnBlur||a.InlineSuggestionHintsContentWidget.dropDownVisible||(0,m.transaction)(Q=>{var Z;(Z=this.model.get())===null||Z===void 0||Z.stop(Q)})})),this._register((0,m.autorun)(Q=>{var Z;const G=(Z=this.model.read(Q))===null||Z===void 0?void 0:Z.state.read(Q);G?.suggestItem?G.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,y.toDisposable)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));const Y=(0,b.derivedObservableWithCache)(this,(Q,Z)=>{var G;const F=this.model.read(Q),J=F?.state.read(Q);return this._suggestWidgetSelectedItem.get()?Z:(G=J?.inlineCompletion)===null||G===void 0?void 0:G.semanticId});this._register((0,o.reactToChangeWithStore)((0,m.derived)(Q=>(this._playAccessibilitySignal.read(Q),Y.read(Q),{})),async(Q,Z,G)=>{const F=this.model.get(),J=F?.state.get();if(!J||!F)return;const te=F.textModel.getLineContent(J.primaryGhostText.lineNumber);await(0,E.timeout)(50,(0,I.cancelOnDispose)(G)),await(0,m.waitForState)(this._suggestWidgetSelectedItem,v.isUndefined,()=>!1,(0,I.cancelOnDispose)(G)),await this._accessibilitySignalService.playSignal(g.AccessibilitySignal.inlineSuggestion),this.editor.getOption(8)&&this._provideScreenReaderUpdate(J.primaryGhostText.renderForScreenReader(te))})),this._register(new a.InlineCompletionsHintsWidget(this.editor,this.model,this._instantiationService)),this._register((0,f.createStyleSheetFromObservable)((0,m.derived)(Q=>{const Z=this._fontFamily.read(Q);return Z===""||Z==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${Z};
}`}))),this._register(this._configurationService.onDidChangeConfiguration(Q=>{Q.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(M){this._playAccessibilitySignal.trigger(M)}_provideScreenReaderUpdate(M){const P=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),x=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let O;!P&&x&&this.editor.getOption(150)&&(O=(0,p.localize)(405,"Inspect this in the accessible view ({0})",x.getAriaLabel())),(0,k.alert)(O?M+", "+O:M)}shouldShowHoverAt(M){var P;const x=(P=this.model.get())===null||P===void 0?void 0:P.primaryGhostText.get();return x?x.parts.some(O=>M.containsPosition(new t.Position(x.lineNumber,O.column))):!1}shouldShowHoverAtViewZone(M){var P,x;return(x=(P=this._ghostTextWidgets.get()[0])===null||P===void 0?void 0:P.ownsViewZone(M))!==null&&x!==void 0?x:!1}};e.InlineCompletionsController=N,N.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=N=T=ke([ge(1,L.IInstantiationService),ge(2,_.IContextKeyService),ge(3,S.IConfigurationService),ge(4,C.ICommandService),ge(5,i.ILanguageFeatureDebounceService),ge(6,n.ILanguageFeaturesService),ge(7,g.IAccessibilitySignalService),ge(8,D.IKeybindingService),ge(9,h.IAccessibilityService)],N);function A(R,M){const P=(0,m.observableValue)("result",[]),x=[];return M.add((0,m.autorun)(O=>{const B=R.read(O);(0,m.transaction)(H=>{if(B.length!==x.length){x.length=B.length;for(let K=0;K<x.length;K++)x[K]||(x[K]=(0,m.observableValue)("item",B[K]));P.set([...x],H)}x.forEach((K,V)=>K.set(B[V],H))})})),P}}),define(re[852],ae([1,0,21,91,15,20,256,266,292,151,3,29,28,12]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class i extends E.EditorAction{constructor(){super({id:i.ID,label:v.localize(412,"Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:t.ContextKeyExpr.and(I.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(h,g){var C;const S=w.InlineCompletionsController.get(g);(C=S?.model.get())===null||C===void 0||C.next()}}e.ShowNextInlineSuggestionAction=i,i.ID=y.showNextInlineSuggestionActionId;class n extends E.EditorAction{constructor(){super({id:n.ID,label:v.localize(413,"Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:t.ContextKeyExpr.and(I.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(h,g){var C;const S=w.InlineCompletionsController.get(g);(C=S?.model.get())===null||C===void 0||C.previous()}}e.ShowPreviousInlineSuggestionAction=n,n.ID=y.showPreviousInlineSuggestionActionId;class c extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:v.localize(414,"Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:I.EditorContextKeys.writable})}async run(h,g){const C=w.InlineCompletionsController.get(g);await(0,k.asyncTransaction)(async S=>{var _;await((_=C?.model.get())===null||_===void 0?void 0:_.triggerExplicitly(S)),C?.playAccessibilitySignal(S)})}}e.TriggerInlineSuggestionAction=c;class u extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:v.localize(415,"Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:t.ContextKeyExpr.and(I.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:t.ContextKeyExpr.and(I.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:s.MenuId.InlineSuggestionToolbar,title:v.localize(416,"Accept Word"),group:"primary",order:2}]})}async run(h,g){var C;const S=w.InlineCompletionsController.get(g);await((C=S?.model.get())===null||C===void 0?void 0:C.acceptNextWord(S.editor))}}e.AcceptNextWordOfInlineCompletion=u;class r extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:v.localize(417,"Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:t.ContextKeyExpr.and(I.EditorContextKeys.writable,m.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:s.MenuId.InlineSuggestionToolbar,title:v.localize(418,"Accept Line"),group:"secondary",order:2}]})}async run(h,g){var C;const S=w.InlineCompletionsController.get(g);await((C=S?.model.get())===null||C===void 0?void 0:C.acceptNextLine(S.editor))}}e.AcceptNextLineOfInlineCompletion=r;class a extends E.EditorAction{constructor(){super({id:y.inlineSuggestCommitId,label:v.localize(419,"Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:m.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:s.MenuId.InlineSuggestionToolbar,title:v.localize(420,"Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:t.ContextKeyExpr.and(m.InlineCompletionContextKeys.inlineSuggestionVisible,I.EditorContextKeys.tabMovesFocus.toNegated(),m.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,b.Context.Visible.toNegated(),I.EditorContextKeys.hoverFocused.toNegated())}})}async run(h,g){var C;const S=w.InlineCompletionsController.get(g);S&&((C=S.model.get())===null||C===void 0||C.accept(S.editor),S.editor.focus())}}e.AcceptInlineCompletion=a;class l extends E.EditorAction{constructor(){super({id:l.ID,label:v.localize(421,"Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:m.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(h,g){const C=w.InlineCompletionsController.get(g);(0,f.transaction)(S=>{var _;(_=C?.model.get())===null||_===void 0||_.stop(S)})}}e.HideInlineCompletion=l,l.ID="editor.action.inlineSuggest.hide";class d extends s.Action2{constructor(){super({id:d.ID,title:v.localize(422,"Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:s.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:t.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(h,g){const C=h.get(o.IConfigurationService),_=C.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";C.updateValue("editor.inlineSuggest.showToolbar",_)}}e.ToggleAlwaysShowInlineSuggestionToolbar=d,d.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(re[853],ae([1,0,4,55,2,21,5,42,69,292,281,119,3,60,7,62,64]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class u{constructor(l,d,p){this.owner=l,this.range=d,this.controller=p}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.InlineCompletionsHover=u;let r=class{constructor(l,d,p,h,g,C){this._editor=l,this._languageService=d,this._openerService=p,this.accessibilityService=h,this._instantiationService=g,this._telemetryService=C,this.hoverOrdinal=4}suggestHoverAnchor(l){const d=b.InlineCompletionsController.get(this._editor);if(!d)return null;const p=l.target;if(p.type===8){const h=p.detail;if(d.shouldShowHoverAtViewZone(h.viewZoneId))return new w.HoverForeignElementAnchor(1e3,this,y.Range.fromPositions(this._editor.getModel().validatePosition(h.positionBefore||h.position)),l.event.posx,l.event.posy,!1)}return p.type===7&&d.shouldShowHoverAt(p.range)?new w.HoverForeignElementAnchor(1e3,this,p.range,l.event.posx,l.event.posy,!1):p.type===6&&p.detail.mightBeForeignElement&&d.shouldShowHoverAt(p.range)?new w.HoverForeignElementAnchor(1e3,this,p.range,l.event.posx,l.event.posy,!1):null}computeSync(l,d){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const p=b.InlineCompletionsController.get(this._editor);return p&&p.shouldShowHoverAt(l.range)?[new u(this,l.range,p)]:[]}renderHoverParts(l,d){const p=new E.DisposableStore,h=d[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&p.add(this.renderScreenReaderText(l,h));const g=h.controller.model.get(),C=this._instantiationService.createInstance(v.InlineSuggestionHintsContentWidget,this._editor,!1,(0,I.constObservable)(null),g.selectedInlineCompletionIndex,g.inlineCompletionsCount,g.activeCommands),S=C.getDomNode();l.fragment.appendChild(S),g.triggerExplicitly(),p.add(C);const _={hoverPart:h,hoverElement:S,dispose(){p.dispose()}};return new w.RenderedHoverParts([_])}getAccessibleContent(l){return o.localize(410,"There are inline completions here")}renderScreenReaderText(l,d){const p=new E.DisposableStore,h=f.$,g=h("div.hover-row.markdown-hover"),C=f.append(g,h("div.hover-contents",{"aria-live":"assertive"})),S=p.add(new s.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),_=L=>{p.add(S.onDidRenderAsync(()=>{C.className="hover-contents code-hover-contents",l.onContentsChanged()}));const D=o.localize(411,"Suggestion:"),T=p.add(S.render(new k.MarkdownString().appendText(D).appendCodeblock("text",L)));C.replaceChildren(T.element)};return p.add((0,I.autorun)(L=>{var D;const T=(D=d.controller.model.read(L))===null||D===void 0?void 0:D.primaryGhostText.read(L);if(T){const N=this._editor.getModel().getLineContent(T.lineNumber);_(T.renderForScreenReader(N))}else f.reset(C)})),l.fragment.appendChild(g),p}};e.InlineCompletionsHoverParticipant=r,e.InlineCompletionsHoverParticipant=r=ke([ge(1,m.ILanguageService),ge(2,n.IOpenerService),ge(3,t.IAccessibilityService),ge(4,i.IInstantiationService),ge(5,c.ITelemetryService)],r)}),define(re[854],ae([1,0,15,69,852,853,640,292,376,29]),function(le,e,f,k,E,I,y,m,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(m.InlineCompletionsController.ID,m.InlineCompletionsController,3),(0,f.registerEditorAction)(E.TriggerInlineSuggestionAction),(0,f.registerEditorAction)(E.ShowNextInlineSuggestionAction),(0,f.registerEditorAction)(E.ShowPreviousInlineSuggestionAction),(0,f.registerEditorAction)(E.AcceptNextWordOfInlineCompletion),(0,f.registerEditorAction)(E.AcceptNextLineOfInlineCompletion),(0,f.registerEditorAction)(E.AcceptInlineCompletion),(0,f.registerEditorAction)(E.HideInlineCompletion),(0,b.registerAction2)(E.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(I.InlineCompletionsHoverParticipant),w.AccessibleViewRegistry.register(new y.InlineCompletionsAccessibleView)}),define(re[435],ae([1,0,4,298,2,21,72,15,166,136,185,86,79,36,431,356,291,7,531]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditsWidget=e.InlineEdit=void 0;class r{constructor(C,S,_){this.range=C,this.newLines=S,this.changes=_}}e.InlineEdit=r;let a=class extends E.Disposable{constructor(C,S,_,L){super(),this._editor=C,this._edit=S,this._userPrompt=_,this._instantiationService=L,this._editorObs=(0,w.observableCodeEditor)(this._editor),this._elements=(0,f.h)("div.inline-edits-widget",{style:{position:"absolute",overflow:"visible",top:"0px",left:"0px"}},[(0,f.h)("div@editorContainer",{style:{position:"absolute",top:"0px",left:"0px",width:"500px",height:"500px"}},[(0,f.h)("div.toolbar@toolbar",{style:{position:"absolute",top:"-25px",left:"0px"}}),(0,f.h)("div.promptEditor@promptEditor",{style:{position:"absolute",top:"-25px",left:"80px",width:"300px",height:"22px"}}),(0,f.h)("div.preview@editor",{style:{position:"absolute",top:"0px",left:"0px"}})]),(0,f.svgElem)("svg",{style:{overflow:"visible",pointerEvents:"none"}},[(0,f.svgElem)("defs",[(0,f.svgElem)("linearGradient",{id:"Gradient2",x1:"0",y1:"0",x2:"1",y2:"0"},[(0,f.svgElem)("stop",{offset:"0%",class:"gradient-stop"}),(0,f.svgElem)("stop",{offset:"100%",class:"gradient-stop"})])]),(0,f.svgElem)("path@path",{d:"",fill:"url(#Gradient2)"})])]),this._previewTextModel=this._register(this._instantiationService.createInstance(t.TextModel,"",o.PLAINTEXT_LANGUAGE_ID,t.TextModel.DEFAULT_CREATION_OPTIONS,null)),this._setText=(0,I.derived)(T=>{const N=this._edit.read(T);N&&this._previewTextModel.setValue(N.newLines.join(`
`))}).recomputeInitiallyAndOnChange(this._store),this._promptTextModel=this._register(this._instantiationService.createInstance(t.TextModel,"",o.PLAINTEXT_LANGUAGE_ID,t.TextModel.DEFAULT_CREATION_OPTIONS,null)),this._promptEditor=this._register(this._instantiationService.createInstance(b.EmbeddedCodeEditorWidget,this._elements.promptEditor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,placeholder:"Describe the change you want...",fontFamily:k.DEFAULT_FONT_FAMILY},{contributions:m.EditorExtensionsRegistry.getSomeEditorContributions([c.SuggestController.ID,n.PlaceholderTextContribution.ID,i.ContextMenuController.ID]),isSimpleWidget:!0},this._editor)),this._previewEditor=this._register(this._instantiationService.createInstance(b.EmbeddedCodeEditorWidget,this._elements.editor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0},{contributions:[]},this._editor)),this._previewEditorObs=(0,w.observableCodeEditor)(this._previewEditor),this._decorations=(0,I.derived)(this,T=>{var N;this._setText.read(T);const A=(N=this._edit.read(T))===null||N===void 0?void 0:N.changes;if(!A)return[];const R=[],M=[];if(A.length===1&&A[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return[];for(const P of A)if(P.original.isEmpty||R.push({range:P.original.toInclusiveRange(),options:v.diffLineDeleteDecorationBackgroundWithIndicator}),P.modified.isEmpty||M.push({range:P.modified.toInclusiveRange(),options:v.diffLineAddDecorationBackgroundWithIndicator}),P.modified.isEmpty||P.original.isEmpty)P.original.isEmpty||R.push({range:P.original.toInclusiveRange(),options:v.diffWholeLineDeleteDecoration}),P.modified.isEmpty||M.push({range:P.modified.toInclusiveRange(),options:v.diffWholeLineAddDecoration});else for(const x of P.innerChanges||[])P.original.contains(x.originalRange.startLineNumber)&&R.push({range:x.originalRange,options:x.originalRange.isEmpty()?v.diffDeleteDecorationEmpty:v.diffDeleteDecoration}),P.modified.contains(x.modifiedRange.startLineNumber)&&M.push({range:x.modifiedRange,options:x.modifiedRange.isEmpty()?v.diffAddDecorationEmpty:v.diffAddDecoration});return M}),this._layout1=(0,I.derived)(this,T=>{const N=this._editor.getModel(),A=this._edit.read(T);if(!A)return null;const R=A.range;let M=0;for(let O=R.startLineNumber;O<R.endLineNumberExclusive;O++){const B=N.getLineMaxColumn(O),H=this._editor.getOffsetForColumn(O,B);M=Math.max(M,H)}return{left:this._editor.getLayoutInfo().contentLeft+M}}),this._layout=(0,I.derived)(this,T=>{const N=this._edit.read(T);if(!N)return null;const A=N.range,R=this._editorObs.scrollLeft.read(T),M=this._layout1.read(T).left+20-R,P=this._editor.getTopForLineNumber(A.startLineNumber)-this._editorObs.scrollTop.read(T),x=this._editor.getTopForLineNumber(A.endLineNumberExclusive)-this._editorObs.scrollTop.read(T),O=new d(M,P),B=new d(M,x),H=x-P,K=50,V=this._editor.getOption(67)*N.newLines.length,j=H-V,U=new d(M+K,P+j/2),Y=new d(M+K,x-j/2);return{topCode:O,bottomCode:B,codeHeight:H,topEdit:U,bottomEdit:Y,editHeight:V}});const D=(0,I.derived)(this,T=>this._edit.read(T)!==void 0||this._userPrompt.read(T)!==void 0);this._register((0,s.applyStyle)(this._elements.root,{display:(0,I.derived)(this,T=>D.read(T)?"block":"none")})),this._register((0,s.appendRemoveOnDispose)(this._editor.getDomNode(),this._elements.root)),this._register((0,w.observableCodeEditor)(C).createOverlayWidget({domNode:this._elements.root,position:(0,I.constObservable)(null),allowEditorOverflow:!1,minContentWidthInPx:(0,I.derived)(T=>{var N;const A=(N=this._layout1.read(T))===null||N===void 0?void 0:N.left;if(A===void 0)return 0;const R=this._previewEditorObs.contentWidth.read(T);return A+R})})),this._previewEditor.setModel(this._previewTextModel),this._register(this._previewEditorObs.setDecorations(this._decorations)),this._register((0,I.autorun)(T=>{const N=this._layout.read(T);if(!N)return;const{topCode:A,bottomCode:R,topEdit:M,bottomEdit:P,editHeight:x}=N,O=10,B=0,H=40,K=new p().moveTo(A).lineTo(A.deltaX(O)).curveTo(A.deltaX(O+H),M.deltaX(-H-B),M.deltaX(-B)).lineTo(M).lineTo(P).lineTo(P.deltaX(-B)).curveTo(P.deltaX(-H-B),R.deltaX(O+H),R.deltaX(O)).lineTo(R).build();this._elements.path.setAttribute("d",K),this._elements.editorContainer.style.top=`${M.y}px`,this._elements.editorContainer.style.left=`${M.x}px`,this._elements.editorContainer.style.height=`${x}px`;const V=this._previewEditorObs.contentWidth.read(T);this._previewEditor.layout({height:x,width:V})})),this._promptEditor.setModel(this._promptTextModel),this._promptEditor.layout(),this._register(h(l(this._userPrompt,T=>T??"",T=>T),(0,w.observableCodeEditor)(this._promptEditor).value)),this._register((0,I.autorun)(T=>{const N=(0,w.observableCodeEditor)(this._promptEditor).isFocused.read(T);this._elements.root.classList.toggle("focused",N)}))}};e.InlineEditsWidget=a,e.InlineEditsWidget=a=ke([ge(3,u.IInstantiationService)],a);function l(g,C,S){return(0,y.derivedWithSetter)(void 0,_=>C(g.read(_)),(_,L)=>g.set(S(_),L))}class d{constructor(C,S){this.x=C,this.y=S}deltaX(C){return new d(this.x+C,this.y)}}class p{constructor(){this._data=""}moveTo(C){return this._data+=`M ${C.x} ${C.y} `,this}lineTo(C){return this._data+=`L ${C.x} ${C.y} `,this}curveTo(C,S,_){return this._data+=`C ${C.x} ${C.y} ${S.x} ${S.y} ${_.x} ${_.y} `,this}build(){return this._data}}function h(g,C){const S=new E.DisposableStore;return S.add((0,I.autorun)(_=>{const L=g.read(_);C.set(L,void 0)})),S.add((0,I.autorun)(_=>{const L=C.read(_);g.set(L,void 0)})),S}}),define(re[855],ae([1,0,14,18,101,8,2,21,72,22,403,56,27,17,51,359,435]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditsModel=void 0;let r=u=class extends y.Disposable{static _createUniqueUri(){return b.URI.from({scheme:"inline-edits",path:new Date().toString()+String(u._modelId++)})}constructor(p,h,g,C,S,_,L){super(),this.textModel=p,this._textModelVersionId=h,this._selection=g,this._debounceValue=C,this.languageFeaturesService=S,this._diffProviderFactoryService=_,this._modelService=L,this._forceUpdateExplicitlySignal=(0,m.observableSignal)(this),this._selectedInlineCompletionId=(0,m.observableValue)(this,void 0),this._isActive=(0,m.observableValue)(this,!1),this._originalModel=(0,w.derivedDisposable)(()=>this._modelService.createModel("",null,u._createUniqueUri())).keepObserved(this._store),this._modifiedModel=(0,w.derivedDisposable)(()=>this._modelService.createModel("",null,u._createUniqueUri())).keepObserved(this._store),this._pinnedRange=new l(this.textModel,this._textModelVersionId),this.isPinned=this._pinnedRange.range.map(D=>!!D),this.userPrompt=(0,m.observableValue)(this,void 0),this.inlineEdit=(0,m.derived)(this,D=>{var T,N;return(N=(T=this._inlineEdit.read(D))===null||T===void 0?void 0:T.promiseResult.read(D))===null||N===void 0?void 0:N.data}),this._inlineEdit=(0,m.derived)(this,D=>{const T=this.selectedInlineEdit.read(D);if(!T)return;const N=T.inlineCompletion.range;if(T.inlineCompletion.insertText.trim()==="")return;let A=T.inlineCompletion.insertText.split(/\r\n|\r|\n/);function R(O){var B,H;const K=(H=(B=O[0].match(/^\s*/))===null||B===void 0?void 0:B[0])!==null&&H!==void 0?H:"";return O.map(V=>V.replace(new RegExp("^"+K),""))}A=R(A);let P=this.textModel.getValueInRange(N).split(/\r\n|\r|\n/);P=R(P),this._originalModel.get().setValue(P.join(`
`)),this._modifiedModel.get().setValue(A.join(`
`));const x=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return m.ObservablePromise.fromFn(async()=>{const O=await x.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3},k.CancellationToken.None);if(!O.identical)return new c.InlineEdit(s.LineRange.fromRangeInclusive(N),R(A),O.changes)})}),this._fetchStore=this._register(new y.DisposableStore),this._inlineEditsFetchResult=(0,m.disposableObservableValue)(this,void 0),this._inlineEdits=(0,m.derivedOpts)({owner:this,equalsFn:E.structuralEquals},D=>{var T,N;return(N=(T=this._inlineEditsFetchResult.read(D))===null||T===void 0?void 0:T.completions.map(A=>new a(A)))!==null&&N!==void 0?N:[]}),this._fetchInlineEditsPromise=(0,m.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({inlineCompletionTriggerKind:o.InlineCompletionTriggerKind.Automatic}),handleChange:(D,T)=>(D.didChange(this._forceUpdateExplicitlySignal)&&(T.inlineCompletionTriggerKind=o.InlineCompletionTriggerKind.Explicit),!0)},async(D,T)=>{var N;this._fetchStore.clear(),this._forceUpdateExplicitlySignal.read(D),this._textModelVersionId.read(D);function A(O,B){return B(O)}const R=(N=this._pinnedRange.range.read(D))!==null&&N!==void 0?N:A(this._selection.read(D),O=>O.isEmpty()?void 0:O);if(!R){this._inlineEditsFetchResult.set(void 0,void 0),this.userPrompt.set(void 0,void 0);return}const M={triggerKind:T.inlineCompletionTriggerKind,selectedSuggestionInfo:void 0,userPrompt:this.userPrompt.read(D)},P=(0,k.cancelOnDispose)(this._fetchStore);await(0,f.timeout)(200,P);const x=await(0,n.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,R,this.textModel,M,P);P.isCancellationRequested||this._inlineEditsFetchResult.set(x,void 0)}),this._filteredInlineEditItems=(0,m.derivedOpts)({owner:this,equalsFn:(0,E.itemsEquals)()},D=>this._inlineEdits.read(D)),this.selectedInlineCompletionIndex=(0,m.derived)(this,D=>{const T=this._selectedInlineCompletionId.read(D),N=this._filteredInlineEditItems.read(D),A=this._selectedInlineCompletionId===void 0?-1:N.findIndex(R=>R.semanticId===T);return A===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):A}),this.selectedInlineEdit=(0,m.derived)(this,D=>{const T=this._filteredInlineEditItems.read(D),N=this.selectedInlineCompletionIndex.read(D);return T[N]}),this._register((0,m.recomputeInitiallyAndOnChange)(this._fetchInlineEditsPromise))}async triggerExplicitly(p){(0,m.subtransaction)(p,h=>{this._isActive.set(!0,h),this._forceUpdateExplicitlySignal.trigger(h)}),await this._fetchInlineEditsPromise.get()}stop(p){(0,m.subtransaction)(p,h=>{this.userPrompt.set(void 0,h),this._isActive.set(!1,h),this._inlineEditsFetchResult.set(void 0,h),this._pinnedRange.setRange(void 0,h)})}async _deltaSelectedInlineCompletionIndex(p){await this.triggerExplicitly();const h=this._filteredInlineEditItems.get()||[];if(h.length>0){const g=(this.selectedInlineCompletionIndex.get()+p+h.length)%h.length;this._selectedInlineCompletionId.set(h[g].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(p){if(p.getModel()!==this.textModel)throw new I.BugIndicatingError;const h=this.selectedInlineEdit.get();h&&(p.pushUndoStop(),p.executeEdits("inlineSuggestion.accept",[h.inlineCompletion.toSingleTextEdit().toSingleEditOperation()]),this.stop())}};e.InlineEditsModel=r,r._modelId=0,e.InlineEditsModel=r=u=ke([ge(4,t.ILanguageFeaturesService),ge(5,v.IDiffProviderFactoryService),ge(6,i.IModelService)],r);class a{constructor(p){this.inlineCompletion=p,this.semanticId=this.inlineCompletion.hash()}}class l extends y.Disposable{constructor(p,h){super(),this._textModel=p,this._versionId=h,this._decorations=(0,m.observableValue)(this,[]),this.range=(0,m.derived)(this,g=>{var C;this._versionId.read(g);const S=this._decorations.read(g)[0];return S&&(C=this._textModel.getDecorationRange(S))!==null&&C!==void 0?C:null}),this._register((0,y.toDisposable)(()=>{this._textModel.deltaDecorations(this._decorations.get(),[])}))}setRange(p,h){this._decorations.set(this._textModel.deltaDecorations(this._decorations.get(),p?[{range:p,options:{description:"trackedRange"}}]:[]),h)}}}),define(re[436],ae([1,0,2,21,72,166,159,23,78,17,384,855,435,28,12,7,392]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditsController=void 0;let r=u=class extends f.Disposable{static get(d){return d.getContribution(u.ID)}constructor(d,p,h,g,C,S){super(),this.editor=d,this._instantiationService=p,this._contextKeyService=h,this._debounceService=g,this._languageFeaturesService=C,this._configurationService=S,this._enabled=(0,c.observableConfigValue)("editor.inlineEdits.enabled",!1,this._configurationService),this._editorObs=(0,I.observableCodeEditor)(this.editor),this._selection=(0,k.derived)(this,_=>{var L;return(L=this._editorObs.cursorSelection.read(_))!==null&&L!==void 0?L:new m.Selection(1,1,1,1)}),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineEditsDebounce",{min:50,max:50}),this.model=(0,E.derivedDisposable)(this,_=>{if(!this._enabled.read(_)||this._editorObs.isReadonly.read(_))return;const L=this._editorObs.model.read(_);return L?this._instantiationService.createInstance((0,y.readHotReloadableExport)(s.InlineEditsModel,_),L,this._editorObs.versionId,this._selection,this._debounceValue):void 0}),this._hadInlineEdit=(0,k.derivedObservableWithCache)(this,(_,L)=>{var D;return L||((D=this.model.read(_))===null||D===void 0?void 0:D.inlineEdit.read(_))!==void 0}),this._widget=(0,E.derivedDisposable)(this,_=>{if(this._hadInlineEdit.read(_))return this._instantiationService.createInstance((0,y.readHotReloadableExport)(o.InlineEditsWidget,_),this.editor,this.model.map((L,D)=>L?.inlineEdit.read(D)),a(L=>{var D,T;return(T=(D=this.model.read(L))===null||D===void 0?void 0:D.userPrompt)!==null&&T!==void 0?T:(0,k.observableValue)("empty","")}))}),this._register((0,c.bindContextKey)(v.inlineEditVisible,this._contextKeyService,_=>{var L;return!!(!((L=this.model.read(_))===null||L===void 0)&&L.inlineEdit.read(_))})),this._register((0,c.bindContextKey)(v.isPinnedContextKey,this._contextKeyService,_=>{var L;return!!(!((L=this.model.read(_))===null||L===void 0)&&L.isPinned.read(_))})),this.model.recomputeInitiallyAndOnChange(this._store),this._widget.recomputeInitiallyAndOnChange(this._store)}};e.InlineEditsController=r,r.ID="editor.contrib.inlineEditsController",e.InlineEditsController=r=u=ke([ge(1,n.IInstantiationService),ge(2,i.IContextKeyService),ge(3,w.ILanguageFeatureDebounceService),ge(4,b.ILanguageFeaturesService),ge(5,t.IConfigurationService)],r);function a(l){return(0,E.derivedWithSetter)(void 0,d=>l(d).read(d),(d,p)=>{l(void 0).set(d,p)})}}),define(re[856],ae([1,0,26,21,91,15,136,20,384,436,3,29,12]),function(le,e,f,k,E,I,y,m,w,b,v,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HideInlineEdit=e.AcceptInlineEdit=e.TriggerInlineEditAction=e.ShowPreviousInlineEditAction=e.ShowNextInlineEditAction=void 0;function t(a){return{label:a.value,alias:a.original}}class i extends I.EditorAction{constructor(){super({id:i.ID,...t(v.localize2(468,"Show Next Inline Edit")),precondition:o.ContextKeyExpr.and(m.EditorContextKeys.writable,w.inlineEditVisible),kbOpts:{weight:100,primary:606}})}async run(l,d){var p;const h=b.InlineEditsController.get(d);(p=h?.model.get())===null||p===void 0||p.next()}}e.ShowNextInlineEditAction=i,i.ID=w.showNextInlineEditActionId;class n extends I.EditorAction{constructor(){super({id:n.ID,...t(v.localize2(469,"Show Previous Inline Edit")),precondition:o.ContextKeyExpr.and(m.EditorContextKeys.writable,w.inlineEditVisible),kbOpts:{weight:100,primary:604}})}async run(l,d){var p;const h=b.InlineEditsController.get(d);(p=h?.model.get())===null||p===void 0||p.previous()}}e.ShowPreviousInlineEditAction=n,n.ID=w.showPreviousInlineEditActionId;class c extends I.EditorAction{constructor(){super({id:"editor.action.inlineEdits.trigger",...t(v.localize2(470,"Trigger Inline Edit")),precondition:m.EditorContextKeys.writable})}async run(l,d){const p=b.InlineEditsController.get(d);await(0,E.asyncTransaction)(async h=>{var g;await((g=p?.model.get())===null||g===void 0?void 0:g.triggerExplicitly(h))})}}e.TriggerInlineEditAction=c;class u extends I.EditorAction{constructor(){super({id:w.inlineEditAcceptId,...t(v.localize2(471,"Accept Inline Edit")),precondition:w.inlineEditVisible,menuOpts:{menuId:s.MenuId.InlineEditsActions,title:v.localize(467,"Accept Inline Edit"),group:"primary",order:1,icon:f.Codicon.check},kbOpts:{primary:2058,weight:2e4,kbExpr:w.inlineEditVisible}})}async run(l,d){var p;d instanceof y.EmbeddedCodeEditorWidget&&(d=d.getParentEditor());const h=b.InlineEditsController.get(d);h&&((p=h.model.get())===null||p===void 0||p.accept(h.editor),h.editor.focus())}}e.AcceptInlineEdit=u;class r extends I.EditorAction{constructor(){super({id:r.ID,...t(v.localize2(472,"Hide Inline Edit")),precondition:w.inlineEditVisible,kbOpts:{weight:100,primary:9}})}async run(l,d){const p=b.InlineEditsController.get(d);(0,k.transaction)(h=>{var g;(g=p?.model.get())===null||g===void 0||g.stop(h)})}}e.HideInlineEdit=r,r.ID="editor.action.inlineEdits.hide"}),define(re[857],ae([1,0,15,856,436]),function(le,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(E.InlineEditsController.ID,E.InlineEditsController,3),(0,f.registerEditorAction)(k.TriggerInlineEditAction),(0,f.registerEditorAction)(k.ShowNextInlineEditAction),(0,f.registerEditorAction)(k.ShowPreviousInlineEditAction),(0,f.registerEditorAction)(k.AcceptInlineEdit),(0,f.registerEditorAction)(k.HideInlineEdit)}),define(re[858],ae([1,0,18,83,53,2,35,5,144,17,361,151,401,434,362,116]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class c{constructor(l,d,p,h,g,C){this.range=l,this.insertText=d,this.filterText=p,this.additionalTextEdits=h,this.command=g,this.completion=C}}let u=class extends I.RefCountedDisposable{constructor(l,d,p,h,g,C){super(g.disposable),this.model=l,this.line=d,this.word=p,this.completionModel=h,this._suggestMemoryService=C}canBeReused(l,d,p){return this.model===l&&this.line===d&&this.word.word.length>0&&this.word.startColumn===p.startColumn&&this.word.endColumn<p.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var l;const d=[],{items:p}=this.completionModel,h=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},p),g=E.Iterable.slice(p,h),C=E.Iterable.slice(p,0,h);let S=5;for(const _ of E.Iterable.concat(g,C)){if(_.score===k.FuzzyScore.Default)continue;const L=new m.Range(_.editStart.lineNumber,_.editStart.column,_.editInsertEnd.lineNumber,_.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),D=_.completion.insertTextRules&&_.completion.insertTextRules&4?{snippet:_.completion.insertText}:_.completion.insertText;d.push(new c(L,D,(l=_.filterTextLow)!==null&&l!==void 0?l:_.labelLow,_.completion.additionalTextEdits,_.completion.command,_)),S-->=0&&_.resolve(f.CancellationToken.None)}return d}};u=ke([ge(5,o.ISuggestMemoryService)],u);let r=class extends I.Disposable{constructor(l,d,p,h){super(),this._languageFeatureService=l,this._clipboardService=d,this._suggestMemoryService=p,this._editorService=h,this._store.add(l.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(l,d,p,h){var g;if(p.selectedSuggestionInfo)return;let C;for(const R of this._editorService.listCodeEditors())if(R.getModel()===l){C=R;break}if(!C)return;const S=C.getOption(90);if(s.QuickSuggestionsOptions.isAllOff(S))return;l.tokenization.tokenizeIfCheap(d.lineNumber);const _=l.tokenization.getLineTokens(d.lineNumber),L=_.getStandardTokenType(_.findTokenIndexAtOffset(Math.max(d.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(S,L)!=="inline")return;let D=l.getWordAtPosition(d),T;if(D?.word||(T=this._getTriggerCharacterInfo(l,d)),!D?.word&&!T||(D||(D=l.getWordUntilPosition(d)),D.endColumn!==d.column))return;let N;const A=l.getValueInRange(new m.Range(d.lineNumber,1,d.lineNumber,d.column));if(!T&&(!((g=this._lastResult)===null||g===void 0)&&g.canBeReused(l,d.lineNumber,D))){const R=new v.LineContext(A,d.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=R,this._lastResult.acquire(),N=this._lastResult}else{const R=await(0,s.provideSuggestionItems)(this._languageFeatureService.completionProvider,l,d,new s.CompletionOptions(void 0,t.SuggestModel.createSuggestFilter(C).itemKind,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},h);let M;R.needsClipboard&&(M=await this._clipboardService.readText());const P=new v.CompletionModel(R.items,d.column,new v.LineContext(A,0),i.WordDistance.None,C.getOption(119),C.getOption(113),{boostFullMatch:!1,firstMatchCanBeWeak:!1},M);N=new u(l,d.lineNumber,D,P,R,this._suggestMemoryService)}return this._lastResult=N,N}handleItemDidShow(l,d){d.completion.resolve(f.CancellationToken.None)}freeInlineCompletions(l){l.release()}_getTriggerCharacterInfo(l,d){var p;const h=l.getValueInRange(m.Range.fromPositions({lineNumber:d.lineNumber,column:d.column-1},d)),g=new Set;for(const C of this._languageFeatureService.completionProvider.all(l))!((p=C.triggerCharacters)===null||p===void 0)&&p.includes(h)&&g.add(C);if(g.size!==0)return{providers:g,ch:h}}};e.SuggestInlineCompletions=r,e.SuggestInlineCompletions=r=ke([ge(0,b.ILanguageFeaturesService),ge(1,n.IClipboardService),ge(2,o.ISuggestMemoryService),ge(3,y.ICodeEditorService)],r),(0,w.registerEditorFeature)(r)}),define(re[437],ae([1,0,7]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,f.createDecorator)("workspaceTrustManagementService")}),define(re[859],ae([1,0,14,26,55,2,16,11,15,37,36,343,115,42,375,69,214,758,3,28,7,62,63,80,437,545]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,h.registerIcon)("extensions-warning-message",k.Codicon.warning,r.localize(109,"Icon shown with a warning message in the extensions editor."));let C=class extends I.Disposable{constructor(Z,G,F,J){super(),this._editor=Z,this._editorWorkerService=G,this._workspaceTrustService=F,this._highlighter=null,this._bannerClosed=!1,this._updateState=te=>{if(te&&te.hasMore){if(this._bannerClosed)return;const de=Math.max(te.ambiguousCharacterCount,te.nonBasicAsciiCharacterCount,te.invisibleCharacterCount);let he;if(te.nonBasicAsciiCharacterCount>=de)he={message:r.localize(110,"This document contains many non-basic ASCII unicode characters"),command:new K};else if(te.ambiguousCharacterCount>=de)he={message:r.localize(111,"This document contains many ambiguous unicode characters"),command:new B};else if(te.invisibleCharacterCount>=de)he={message:r.localize(112,"This document contains many invisible unicode characters"),command:new H};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:he.message,icon:e.warningIcon,actions:[{label:he.command.shortLabel,href:`command:${he.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(J.createInstance(u.BannerController,Z)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=Z.getOption(126),this._register(F.onDidChangeTrust(te=>{this._updateHighlighter()})),this._register(Z.onDidChangeConfiguration(te=>{te.hasChanged(126)&&(this._options=Z.getOption(126),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const Z=S(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([Z.nonBasicASCII,Z.ambiguousCharacters,Z.invisibleCharacters].every(F=>F===!1))return;const G={nonBasicASCII:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments,includeStrings:Z.includeStrings,allowedCodePoints:Object.keys(Z.allowedCharacters).map(F=>F.codePointAt(0)),allowedLocales:Object.keys(Z.allowedLocales).map(F=>F==="_os"?new Intl.NumberFormat().resolvedOptions().locale:F==="_vscode"?y.language:F)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new _(this._editor,G,this._updateState,this._editorWorkerService):this._highlighter=new L(this._editor,G,this._updateState)}getDecorationInfo(Z){return this._highlighter?this._highlighter.getDecorationInfo(Z):null}};e.UnicodeHighlighter=C,C.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=C=ke([ge(1,o.IEditorWorkerService),ge(2,g.IWorkspaceTrustManagementService),ge(3,l.IInstantiationService)],C);function S(Q,Z){return{nonBasicASCII:Z.nonBasicASCII===b.inUntrustedWorkspace?!Q:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments===b.inUntrustedWorkspace?!Q:Z.includeComments,includeStrings:Z.includeStrings===b.inUntrustedWorkspace?!Q:Z.includeStrings,allowedCharacters:Z.allowedCharacters,allowedLocales:Z.allowedLocales}}let _=class extends I.Disposable{constructor(Z,G,F,J){super(),this._editor=Z,this._options=G,this._updateState=F,this._editorWorkerService=J,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Z=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(G=>{if(this._model.isDisposed()||this._model.getVersionId()!==Z)return;this._updateState(G);const F=[];if(!G.hasMore)for(const J of G.ranges)F.push({range:J,options:P.instance.getDecorationFromOptions(this._options)});this._decorations.set(F)})}getDecorationInfo(Z){if(!this._decorations.has(Z))return null;const G=this._editor.getModel();if(!(0,i.isModelDecorationVisible)(G,Z))return null;const F=G.getValueInRange(Z.range);return{reason:M(F,this._options),inComment:(0,i.isModelDecorationInComment)(G,Z),inString:(0,i.isModelDecorationInString)(G,Z)}}};_=ke([ge(3,o.IEditorWorkerService)],_);class L extends I.Disposable{constructor(Z,G,F){super(),this._editor=Z,this._options=G,this._updateState=F,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Z=this._editor.getVisibleRanges(),G=[],F={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const J of Z){const te=s.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,J);for(const de of te.ranges)F.ranges.push(de);F.ambiguousCharacterCount+=F.ambiguousCharacterCount,F.invisibleCharacterCount+=F.invisibleCharacterCount,F.nonBasicAsciiCharacterCount+=F.nonBasicAsciiCharacterCount,F.hasMore=F.hasMore||te.hasMore}if(!F.hasMore)for(const J of F.ranges)G.push({range:J,options:P.instance.getDecorationFromOptions(this._options)});this._updateState(F),this._decorations.set(G)}getDecorationInfo(Z){if(!this._decorations.has(Z))return null;const G=this._editor.getModel(),F=G.getValueInRange(Z.range);return(0,i.isModelDecorationVisible)(G,Z)?{reason:M(F,this._options),inComment:(0,i.isModelDecorationInComment)(G,Z),inString:(0,i.isModelDecorationInString)(G,Z)}:null}}const D=r.localize(113,"Configure Unicode Highlight Options");let T=class{constructor(Z,G,F){this._editor=Z,this._languageService=G,this._openerService=F,this.hoverOrdinal=5}computeSync(Z,G){if(!this._editor.hasModel()||Z.type!==1)return[];const F=this._editor.getModel(),J=this._editor.getContribution(C.ID);if(!J)return[];const te=[],de=new Set;let he=300;for(const pe of G){const ue=J.getDecorationInfo(pe);if(!ue)continue;const se=F.getValueInRange(pe.range).codePointAt(0),ne=A(se);let W;switch(ue.reason.kind){case 0:{(0,m.isBasicASCII)(ue.reason.confusableWith)?W=r.localize(114,"The character {0} could be confused with the ASCII character {1}, which is more common in source code.",ne,A(ue.reason.confusableWith.codePointAt(0))):W=r.localize(115,"The character {0} could be confused with the character {1}, which is more common in source code.",ne,A(ue.reason.confusableWith.codePointAt(0)));break}case 1:W=r.localize(116,"The character {0} is invisible.",ne);break;case 2:W=r.localize(117,"The character {0} is not a basic ASCII character.",ne);break}if(de.has(W))continue;de.add(W);const q={codePoint:se,reason:ue.reason,inComment:ue.inComment,inString:ue.inString},z=r.localize(118,"Adjust settings"),$=`command:${V.ID}?${encodeURIComponent(JSON.stringify(q))}`,X=new E.MarkdownString("",!0).appendMarkdown(W).appendText(" ").appendLink($,z,D);te.push(new c.MarkdownHover(this,pe.range,[X],!1,he++))}return te}renderHoverParts(Z,G){return(0,c.renderMarkdownHovers)(Z,G,this._editor,this._languageService,this._openerService)}getAccessibleContent(Z){return Z.contents.map(G=>G.value).join(`
`)}};e.UnicodeHighlighterHoverParticipant=T,e.UnicodeHighlighterHoverParticipant=T=ke([ge(1,t.ILanguageService),ge(2,d.IOpenerService)],T);function N(Q){return`U+${Q.toString(16).padStart(4,"0")}`}function A(Q){let Z=`\`${N(Q)}\``;return m.InvisibleCharacters.isInvisibleCharacter(Q)||(Z+=` "${`${R(Q)}`}"`),Z}function R(Q){return Q===96?"`` ` ``":"`"+String.fromCodePoint(Q)+"`"}function M(Q,Z){return s.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(Q,Z)}class P{constructor(){this.map=new Map}getDecorationFromOptions(Z){return this.getDecoration(!Z.includeComments,!Z.includeStrings)}getDecoration(Z,G){const F=`${Z}${G}`;let J=this.map.get(F);return J||(J=v.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:Z,hideInStringTokens:G}),this.map.set(F,J)),J}}P.instance=new P;class x extends w.EditorAction{constructor(){super({id:B.ID,label:r.localize(120,"Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=r.localize(119,"Disable Highlight In Comments")}async run(Z,G,F){const J=Z?.get(a.IConfigurationService);J&&this.runAction(J)}async runAction(Z){await Z.updateValue(b.unicodeHighlightConfigKeys.includeComments,!1,2)}}e.DisableHighlightingInCommentsAction=x;class O extends w.EditorAction{constructor(){super({id:B.ID,label:r.localize(122,"Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=r.localize(121,"Disable Highlight In Strings")}async run(Z,G,F){const J=Z?.get(a.IConfigurationService);J&&this.runAction(J)}async runAction(Z){await Z.updateValue(b.unicodeHighlightConfigKeys.includeStrings,!1,2)}}e.DisableHighlightingInStringsAction=O;class B extends w.EditorAction{constructor(){super({id:B.ID,label:r.localize(124,"Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=r.localize(123,"Disable Ambiguous Highlight")}async run(Z,G,F){const J=Z?.get(a.IConfigurationService);J&&this.runAction(J)}async runAction(Z){await Z.updateValue(b.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class H extends w.EditorAction{constructor(){super({id:H.ID,label:r.localize(126,"Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=r.localize(125,"Disable Invisible Highlight")}async run(Z,G,F){const J=Z?.get(a.IConfigurationService);J&&this.runAction(J)}async runAction(Z){await Z.updateValue(b.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)}}e.DisableHighlightingOfInvisibleCharactersAction=H,H.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class K extends w.EditorAction{constructor(){super({id:K.ID,label:r.localize(128,"Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=r.localize(127,"Disable Non ASCII Highlight")}async run(Z,G,F){const J=Z?.get(a.IConfigurationService);J&&this.runAction(J)}async runAction(Z){await Z.updateValue(b.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=K,K.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class V extends w.EditorAction{constructor(){super({id:V.ID,label:r.localize(129,"Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}async run(Z,G,F){const{codePoint:J,reason:te,inString:de,inComment:he}=F,pe=String.fromCodePoint(J),ue=Z.get(p.IQuickInputService),ie=Z.get(a.IConfigurationService);function se(q){return m.InvisibleCharacters.isInvisibleCharacter(q)?r.localize(130,"Exclude {0} (invisible character) from being highlighted",N(q)):r.localize(131,"Exclude {0} from being highlighted",`${N(q)} "${pe}"`)}const ne=[];if(te.kind===0)for(const q of te.notAmbiguousInLocales)ne.push({label:r.localize(132,'Allow unicode characters that are more common in the language "{0}".',q),run:async()=>{U(ie,[q])}});if(ne.push({label:se(J),run:()=>j(ie,[J])}),he){const q=new x;ne.push({label:q.label,run:async()=>q.runAction(ie)})}else if(de){const q=new O;ne.push({label:q.label,run:async()=>q.runAction(ie)})}if(te.kind===0){const q=new B;ne.push({label:q.label,run:async()=>q.runAction(ie)})}else if(te.kind===1){const q=new H;ne.push({label:q.label,run:async()=>q.runAction(ie)})}else if(te.kind===2){const q=new K;ne.push({label:q.label,run:async()=>q.runAction(ie)})}else Y(te);const W=await ue.pick(ne,{title:D});W&&await W.run()}}e.ShowExcludeOptions=V,V.ID="editor.action.unicodeHighlight.showExcludeOptions";async function j(Q,Z){const G=Q.getValue(b.unicodeHighlightConfigKeys.allowedCharacters);let F;typeof G=="object"&&G?F=G:F={};for(const J of Z)F[String.fromCodePoint(J)]=!0;await Q.updateValue(b.unicodeHighlightConfigKeys.allowedCharacters,F,2)}async function U(Q,Z){var G;const F=(G=Q.inspect(b.unicodeHighlightConfigKeys.allowedLocales).user)===null||G===void 0?void 0:G.value;let J;typeof F=="object"&&F?J=Object.assign({},F):J={};for(const te of Z)J[te]=!0;await Q.updateValue(b.unicodeHighlightConfigKeys.allowedLocales,J,2)}function Y(Q){throw new Error(`Unexpected value: ${Q}`)}(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(H),(0,w.registerEditorAction)(K),(0,w.registerEditorAction)(V),(0,w.registerEditorContribution)(C.ID,C,1),n.HoverParticipantRegistry.register(T)}),define(re[860],ae([1,0,212,217,806,719,809,720,721,846,811,813,838,815,722,431,723,816,847,848,421,286,726,727,688,854,287,288,426,424,840,729,841,821,730,731,823,824,732,830,794,857,757,778,782,825,783,784,734,219,843,291,858,735,710,859,736,831,409,737,733,687,106,195]),function(le,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(re[293],ae([1,0,11,4,45,6,137,2,16,110,22,149,271,75,9,5,51,77,209,24,28,399,12,178,7,684,31,387,120,388,685,180,49,96,64,186,118,106,50,35,61,437,58,390,704,795,48,694,115,272,42,776,263,802,799,417,150,686,60,29,402,689,116,681,262,682,179,213,107,692,62,63,100,709,134,690,144,8,268,52,44,34,416,389,845,78,777,671,764]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N,A,R,M,P,x,O,B,H,K,V,j,U,Y,Q,Z,G,F,J,te,de,he,pe,ue,ie,se,ne,W,q,z,$,X,ee,oe,ce,fe,ve,_e,Ie,Ce,Ee,Le,Te,Ae,Pe,Re,We,De,Ne,me){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0,e.updateConfigurationService=pt;class we{constructor(Oe){this.disposed=!1,this.model=Oe,this._onWillDispose=new I.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Fe=class{constructor(Oe){this.modelService=Oe}createModelReference(Oe){const Ve=this.modelService.getModel(Oe);return Ve?Promise.resolve(new m.ImmortalReference(new we(Ve))):Promise.reject(new Error("Model not found"))}};Fe=ke([ge(0,c.IModelService)],Fe);class xe{show(){return xe.NULL_PROGRESS_RUNNER}async showWhile(Oe,Ve){await Oe}}xe.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class je{withProgress(Oe,Ve,qe){return Ve({report:()=>{}})}}class Ze{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class Ye{async confirm(Oe){return{confirmed:this.doConfirm(Oe.message,Oe.detail),checkboxChecked:!1}}doConfirm(Oe,Ve){let qe=Oe;return Ve&&(qe=qe+`

`+Ve),Ne.mainWindow.confirm(qe)}async prompt(Oe){var Ve,qe;let $e;if(this.doConfirm(Oe.message,Oe.detail)){const Xe=[...(Ve=Oe.buttons)!==null&&Ve!==void 0?Ve:[]];Oe.cancelButton&&typeof Oe.cancelButton!="string"&&typeof Oe.cancelButton!="boolean"&&Xe.push(Oe.cancelButton),$e=await((qe=Xe[0])===null||qe===void 0?void 0:qe.run({checkboxChecked:!1}))}return{result:$e}}async error(Oe,Ve){await this.prompt({type:b.default.Error,message:Oe,detail:Ve})}}class tt{info(Oe){return this.notify({severity:b.default.Info,message:Oe})}warn(Oe){return this.notify({severity:b.default.Warning,message:Oe})}error(Oe){return this.notify({severity:b.default.Error,message:Oe})}notify(Oe){switch(Oe.severity){case b.default.Error:console.error(Oe.message);break;case b.default.Warning:console.warn(Oe.message);break;default:console.log(Oe.message);break}return tt.NO_OP}prompt(Oe,Ve,qe,$e){return tt.NO_OP}status(Oe,Ve){return m.Disposable.None}}e.StandaloneNotificationService=tt,tt.NO_OP=new A.NoOpNotification;let nt=class{constructor(Oe){this._onWillExecuteCommand=new I.Emitter,this._onDidExecuteCommand=new I.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Oe}executeCommand(Oe,...Ve){const qe=a.CommandsRegistry.getCommand(Oe);if(!qe)return Promise.reject(new Error(`command '${Oe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Oe,args:Ve});const $e=this._instantiationService.invokeFunction.apply(this._instantiationService,[qe.handler,...Ve]);return this._onDidExecuteCommand.fire({commandId:Oe,args:Ve}),Promise.resolve($e)}catch($e){return Promise.reject($e)}}};e.StandaloneCommandService=nt,e.StandaloneCommandService=nt=ke([ge(0,g.IInstantiationService)],nt);let dt=class extends C.AbstractKeybindingService{constructor(Oe,Ve,qe,$e,et,Xe){super(Oe,Ve,qe,$e,et),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const rt=lt=>{const ft=new m.DisposableStore;ft.add(k.addDisposableListener(lt,k.EventType.KEY_DOWN,It=>{const Et=new E.StandardKeyboardEvent(It);this._dispatch(Et,Et.target)&&(Et.preventDefault(),Et.stopPropagation())})),ft.add(k.addDisposableListener(lt,k.EventType.KEY_UP,It=>{const Et=new E.StandardKeyboardEvent(It);this._singleModifierDispatch(Et,Et.target)&&Et.preventDefault()})),this._domNodeListeners.push(new ct(lt,ft))},it=lt=>{for(let ft=0;ft<this._domNodeListeners.length;ft++){const It=this._domNodeListeners[ft];It.domNode===lt&&(this._domNodeListeners.splice(ft,1),It.dispose())}},ot=lt=>{lt.getOption(61)||rt(lt.getContainerDomNode())},at=lt=>{lt.getOption(61)||it(lt.getContainerDomNode())};this._register(Xe.onCodeEditorAdd(ot)),this._register(Xe.onCodeEditorRemove(at)),Xe.listCodeEditors().forEach(ot);const gt=lt=>{rt(lt.getContainerDomNode())},vt=lt=>{it(lt.getContainerDomNode())};this._register(Xe.onDiffEditorAdd(gt)),this._register(Xe.onDiffEditorRemove(vt)),Xe.listDiffEditors().forEach(gt)}addDynamicKeybinding(Oe,Ve,qe,$e){return(0,m.combinedDisposable)(a.CommandsRegistry.registerCommand(Oe,qe),this.addDynamicKeybindings([{keybinding:Ve,command:Oe,when:$e}]))}addDynamicKeybindings(Oe){const Ve=Oe.map(qe=>{var $e;return{keybinding:(0,y.decodeKeybinding)(qe.keybinding,w.OS),command:($e=qe.command)!==null&&$e!==void 0?$e:null,commandArgs:qe.commandArgs,when:qe.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ve),this.updateResolver(),(0,m.toDisposable)(()=>{for(let qe=0;qe<this._dynamicKeybindings.length;qe++)if(this._dynamicKeybindings[qe]===Ve[0]){this._dynamicKeybindings.splice(qe,Ve.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Oe=this._toNormalizedKeybindingItems(L.KeybindingsRegistry.getDefaultKeybindings(),!0),Ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new _.KeybindingResolver(Oe,Ve,qe=>this._log(qe))}return this._cachedResolver}_documentHasFocus(){return Ne.mainWindow.document.hasFocus()}_toNormalizedKeybindingItems(Oe,Ve){const qe=[];let $e=0;for(const et of Oe){const Xe=et.when||void 0,rt=et.keybinding;if(!rt)qe[$e++]=new D.ResolvedKeybindingItem(void 0,et.command,et.commandArgs,Xe,Ve,null,!1);else{const it=T.USLayoutResolvedKeybinding.resolveKeybinding(rt,w.OS);for(const ot of it)qe[$e++]=new D.ResolvedKeybindingItem(ot,et.command,et.commandArgs,Xe,Ve,null,!1)}}return qe}resolveKeyboardEvent(Oe){const Ve=new y.KeyCodeChord(Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey,Oe.keyCode);return new T.USLayoutResolvedKeybinding([Ve],w.OS)}};e.StandaloneKeybindingService=dt,e.StandaloneKeybindingService=dt=ke([ge(0,p.IContextKeyService),ge(1,a.ICommandService),ge(2,M.ITelemetryService),ge(3,A.INotificationService),ge(4,K.ILogService),ge(5,H.ICodeEditorService)],dt);class ct extends m.Disposable{constructor(Oe,Ve){super(),this.domNode=Oe,this._register(Ve)}}function st(ze){return ze&&typeof ze=="object"&&(!ze.overrideIdentifier||typeof ze.overrideIdentifier=="string")&&(!ze.resource||ze.resource instanceof v.URI)}let Je=class{constructor(Oe){this.logService=Oe,this._onDidChangeConfiguration=new I.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Ve=new Te.DefaultConfiguration(Oe);this._configuration=new d.Configuration(Ve.reload(),d.ConfigurationModel.createEmptyModel(Oe),d.ConfigurationModel.createEmptyModel(Oe),d.ConfigurationModel.createEmptyModel(Oe),d.ConfigurationModel.createEmptyModel(Oe),d.ConfigurationModel.createEmptyModel(Oe),new me.ResourceMap,d.ConfigurationModel.createEmptyModel(Oe),new me.ResourceMap,Oe),Ve.dispose()}getValue(Oe,Ve){const qe=typeof Oe=="string"?Oe:void 0,$e=st(Oe)?Oe:st(Ve)?Ve:{};return this._configuration.getValue(qe,$e,void 0)}updateValues(Oe){const Ve={data:this._configuration.toData()},qe=[];for(const $e of Oe){const[et,Xe]=$e;this.getValue(et)!==Xe&&(this._configuration.updateValue(et,Xe),qe.push(et))}if(qe.length>0){const $e=new d.ConfigurationChangeEvent({keys:qe,overrides:[]},Ve,this._configuration,void 0,this.logService);$e.source=8,this._onDidChangeConfiguration.fire($e)}return Promise.resolve()}updateValue(Oe,Ve,qe,$e){return this.updateValues([[Oe,Ve]])}inspect(Oe,Ve={}){return this._configuration.inspect(Oe,Ve,void 0)}};e.StandaloneConfigurationService=Je,e.StandaloneConfigurationService=Je=ke([ge(0,K.ILogService)],Je);let ht=class{constructor(Oe,Ve,qe){this.configurationService=Oe,this.modelService=Ve,this.languageService=qe,this._onDidChangeConfiguration=new I.Emitter,this.configurationService.onDidChangeConfiguration($e=>{this._onDidChangeConfiguration.fire({affectedKeys:$e.affectedKeys,affectsConfiguration:(et,Xe)=>$e.affectsConfiguration(Xe)})})}getValue(Oe,Ve,qe){const $e=i.Position.isIPosition(Ve)?Ve:null,et=$e?typeof qe=="string"?qe:void 0:typeof Ve=="string"?Ve:void 0,Xe=Oe?this.getLanguage(Oe,$e):void 0;return typeof et>"u"?this.configurationService.getValue({resource:Oe,overrideIdentifier:Xe}):this.configurationService.getValue(et,{resource:Oe,overrideIdentifier:Xe})}getLanguage(Oe,Ve){const qe=this.modelService.getModel(Oe);return qe?Ve?qe.getLanguageIdAtPosition(Ve.lineNumber,Ve.column):qe.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Oe)}};ht=ke([ge(0,l.IConfigurationService),ge(1,c.IModelService),ge(2,te.ILanguageService)],ht);let _t=class{constructor(Oe){this.configurationService=Oe}getEOL(Oe,Ve){const qe=this.configurationService.getValue("files.eol",{overrideIdentifier:Ve,resource:Oe});return qe&&typeof qe=="string"&&qe!=="auto"?qe:w.isLinux||w.isMacintosh?`
`:`\r
`}};_t=ke([ge(0,l.IConfigurationService)],_t);class Lt{publicLog2(){}}class ut{constructor(){const Oe=v.URI.from({scheme:ut.SCHEME,authority:"model",path:"/"});this.workspace={id:P.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new P.WorkspaceFolder({uri:Oe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Oe){return Oe&&Oe.scheme===ut.SCHEME?this.workspace.folders[0]:null}}ut.SCHEME="inmemory";function pt(ze,Oe,Ve){if(!Oe||!(ze instanceof Je))return;const qe=[];Object.keys(Oe).forEach($e=>{(0,o.isEditorConfigurationKey)($e)&&qe.push([`editor.${$e}`,Oe[$e]]),Ve&&(0,o.isDiffEditorConfigurationKey)($e)&&qe.push([`diffEditor.${$e}`,Oe[$e]])}),qe.length>0&&ze.updateValues(qe)}let Se=class{constructor(Oe){this._modelService=Oe}hasPreviewHandler(){return!1}async apply(Oe,Ve){const qe=Array.isArray(Oe)?Oe:s.ResourceEdit.convert(Oe),$e=new Map;for(const rt of qe){if(!(rt instanceof s.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const it=this._modelService.getModel(rt.resource);if(!it)throw new Error("bad edit - model not found");if(typeof rt.versionId=="number"&&it.getVersionId()!==rt.versionId)throw new Error("bad state - model changed in the meantime");let ot=$e.get(it);ot||(ot=[],$e.set(it,ot)),ot.push(t.EditOperation.replaceMove(n.Range.lift(rt.textEdit.range),rt.textEdit.text))}let et=0,Xe=0;for(const[rt,it]of $e)rt.pushStackElement(),rt.pushEditOperations([],it,()=>[]),rt.pushStackElement(),Xe+=1,et+=it.length;return{ariaSummary:f.format(O.StandaloneServicesNLS.bulkEditServiceSummary,et,Xe),isApplied:et>0}}};Se=ke([ge(0,c.IModelService)],Se);class be{getUriLabel(Oe,Ve){return Oe.scheme==="file"?Oe.fsPath:Oe.path}getUriBasenameLabel(Oe){return(0,B.basename)(Oe)}}let ye=class extends U.ContextViewService{constructor(Oe,Ve){super(Oe),this._codeEditorService=Ve}showContextView(Oe,Ve,qe){if(!Ve){const $e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();$e&&(Ve=$e.getContainerDomNode())}return super.showContextView(Oe,Ve,qe)}};ye=ke([ge(0,x.ILayoutService),ge(1,H.ICodeEditorService)],ye);class Me{constructor(){this._neverEmitter=new I.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Be extends Y.LanguageService{constructor(){super()}}class Ue extends Pe.LogService{constructor(){super(new K.ConsoleLogger)}}let He=class extends Q.ContextMenuService{constructor(Oe,Ve,qe,$e,et,Xe){super(Oe,Ve,qe,$e,et,Xe),this.configure({blockMouse:!1})}};He=ke([ge(0,M.ITelemetryService),ge(1,A.INotificationService),ge(2,j.IContextViewService),ge(3,S.IKeybindingService),ge(4,q.IMenuService),ge(5,p.IContextKeyService)],He);class Ke{async playSignal(Oe,Ve){}}(0,Z.registerSingleton)(K.ILogService,Ue,0),(0,Z.registerSingleton)(l.IConfigurationService,Je,0),(0,Z.registerSingleton)(r.ITextResourceConfigurationService,ht,0),(0,Z.registerSingleton)(r.ITextResourcePropertiesService,_t,0),(0,Z.registerSingleton)(P.IWorkspaceContextService,ut,0),(0,Z.registerSingleton)(N.ILabelService,be,0),(0,Z.registerSingleton)(M.ITelemetryService,Lt,0),(0,Z.registerSingleton)(h.IDialogService,Ye,0),(0,Z.registerSingleton)(De.IEnvironmentService,Ze,0),(0,Z.registerSingleton)(A.INotificationService,tt,0),(0,Z.registerSingleton)(_e.IMarkerService,Ie.MarkerService,0),(0,Z.registerSingleton)(te.ILanguageService,Be,0),(0,Z.registerSingleton)(se.IStandaloneThemeService,ie.StandaloneThemeService,0),(0,Z.registerSingleton)(c.IModelService,pe.ModelService,0),(0,Z.registerSingleton)(he.IMarkerDecorationsService,de.MarkerDecorationsService,0),(0,Z.registerSingleton)(p.IContextKeyService,ee.ContextKeyService,0),(0,Z.registerSingleton)(R.IProgressService,je,0),(0,Z.registerSingleton)(R.IEditorProgressService,xe,0),(0,Z.registerSingleton)(Le.IStorageService,Le.InMemoryStorageService,0),(0,Z.registerSingleton)(F.IEditorWorkerService,J.EditorWorkerService,0),(0,Z.registerSingleton)(s.IBulkEditService,Se,0),(0,Z.registerSingleton)(V.IWorkspaceTrustManagementService,Me,0),(0,Z.registerSingleton)(u.ITextModelService,Fe,0),(0,Z.registerSingleton)(W.IAccessibilityService,ne.AccessibilityService,0),(0,Z.registerSingleton)(ve.IListService,ve.ListService,0),(0,Z.registerSingleton)(a.ICommandService,nt,0),(0,Z.registerSingleton)(S.IKeybindingService,dt,0),(0,Z.registerSingleton)(Ee.IQuickInputService,ue.StandaloneQuickInputService,0),(0,Z.registerSingleton)(j.IContextViewService,ye,0),(0,Z.registerSingleton)(Ce.IOpenerService,G.OpenerService,0),(0,Z.registerSingleton)(X.IClipboardService,$.BrowserClipboardService,0),(0,Z.registerSingleton)(j.IContextMenuService,He,0),(0,Z.registerSingleton)(q.IMenuService,z.MenuService,0),(0,Z.registerSingleton)(Ae.IAccessibilitySignalService,Ke,0);var Ge;(function(ze){const Oe=new fe.ServiceCollection;for(const[it,ot]of(0,Z.getSingletonServiceDescriptors)())Oe.set(it,ot);const Ve=new ce.InstantiationService(Oe,!0);Oe.set(g.IInstantiationService,Ve);function qe(it){$e||Xe({});const ot=Oe.get(it);if(!ot)throw new Error("Missing service "+it);return ot instanceof oe.SyncDescriptor?Ve.invokeFunction(at=>at.get(it)):ot}ze.get=qe;let $e=!1;const et=new I.Emitter;function Xe(it){if($e)return Ve;$e=!0;for(const[at,gt]of(0,Z.getSingletonServiceDescriptors)())Oe.get(at)||Oe.set(at,gt);for(const at in it)if(it.hasOwnProperty(at)){const gt=(0,g.createDecorator)(at);Oe.get(gt)instanceof oe.SyncDescriptor&&Oe.set(gt,it[at])}const ot=(0,Re.getEditorFeatures)();for(const at of ot)try{Ve.createInstance(at)}catch(gt){(0,We.onUnexpectedError)(gt)}return et.fire(),Ve}ze.initialize=Xe;function rt(it){if($e)return it();const ot=new m.DisposableStore,at=ot.add(et.event(()=>{at.dispose(),ot.add(it())}));return ot}ze.withServices=rt})(Ge||(e.StandaloneServices=Ge={}))}),define(re[861],ae([1,0,47,2,35,217,332,293,150,29,24,28,12,58,7,31,49,25,60,106,116,96,51,42,416,79,34,17,283,134,52,43,117,82]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0,e.createTextModel=K;let M=0,P=!1;function x(j){if(!j){if(P)return;P=!0}f.setARIAContainer(j||T.mainWindow.document.body)}let O=class extends I.CodeEditorWidget{constructor(U,Y,Q,Z,G,F,J,te,de,he,pe,ue,ie){const se={...Y};se.ariaLabel=se.ariaLabel||a.StandaloneCodeEditorNLS.editorViewAccessibleLabel,se.ariaLabel=se.ariaLabel+";"+a.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(U,se,{},Q,Z,G,F,de,he,pe,ue,ie),te instanceof m.StandaloneKeybindingService?this._standaloneKeybindingService=te:this._standaloneKeybindingService=null,x(se.ariaContainerElement),(0,N.setHoverDelegateFactory)((ne,W)=>Q.createInstance(A.WorkbenchHoverDelegate,ne,W,{})),(0,R.setBaseLayerHoverDelegate)(J)}addCommand(U,Y,Q){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Z="DYNAMIC_"+ ++M,G=o.ContextKeyExpr.deserialize(Q);return this._standaloneKeybindingService.addDynamicKeybinding(Z,U,Y,G),Z}createContextKey(U,Y){return this._contextKeyService.createKey(U,Y)}addAction(U){if(typeof U.id!="string"||typeof U.label!="string"||typeof U.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const Y=U.id,Q=U.label,Z=o.ContextKeyExpr.and(o.ContextKeyExpr.equals("editorId",this.getId()),o.ContextKeyExpr.deserialize(U.precondition)),G=U.keybindings,F=o.ContextKeyExpr.and(Z,o.ContextKeyExpr.deserialize(U.keybindingContext)),J=U.contextMenuGroupId||null,te=U.contextMenuOrder||0,de=(ie,...se)=>Promise.resolve(U.run(this,...se)),he=new k.DisposableStore,pe=this.getId()+":"+Y;if(he.add(v.CommandsRegistry.registerCommand(pe,de)),J){const ie={command:{id:pe,title:Q},when:Z,group:J,order:te};he.add(b.MenuRegistry.appendMenuItem(b.MenuId.EditorContext,ie))}if(Array.isArray(G))for(const ie of G)he.add(this._standaloneKeybindingService.addDynamicKeybinding(pe,ie,de,F));const ue=new y.InternalEditorAction(pe,Q,Q,void 0,Z,(...ie)=>Promise.resolve(U.run(this,...ie)),this._contextKeyService);return this._actions.set(Y,ue),he.add((0,k.toDisposable)(()=>{this._actions.delete(Y)})),he}_triggerCommand(U,Y){if(this._codeEditorService instanceof g.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(U,Y)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(U,Y)}};e.StandaloneCodeEditor=O,e.StandaloneCodeEditor=O=ke([ge(2,i.IInstantiationService),ge(3,E.ICodeEditorService),ge(4,v.ICommandService),ge(5,o.IContextKeyService),ge(6,A.IHoverService),ge(7,n.IKeybindingService),ge(8,u.IThemeService),ge(9,c.INotificationService),ge(10,r.IAccessibilityService),ge(11,S.ILanguageConfigurationService),ge(12,_.ILanguageFeaturesService)],O);let B=class extends O{constructor(U,Y,Q,Z,G,F,J,te,de,he,pe,ue,ie,se,ne,W){const q={...Y};(0,m.updateConfigurationService)(pe,q,!1);const z=de.registerEditorContainer(U);typeof q.theme=="string"&&de.setTheme(q.theme),typeof q.autoDetectHighContrast<"u"&&de.setAutoDetectHighContrast(!!q.autoDetectHighContrast);const $=q.model;delete q.model,super(U,q,Q,Z,G,F,J,te,de,he,ue,ne,W),this._configurationService=pe,this._standaloneThemeService=de,this._register(z);let X;if(typeof $>"u"){const ee=se.getLanguageIdByMimeType(q.language)||q.language||C.PLAINTEXT_LANGUAGE_ID;X=K(ie,se,q.value||"",ee,void 0),this._ownsModel=!0}else X=$,this._ownsModel=!1;if(this._attachModel(X),X){const ee={oldModelUrl:null,newModelUrl:X.uri};this._onDidChangeModel.fire(ee)}}dispose(){super.dispose()}updateOptions(U){(0,m.updateConfigurationService)(this._configurationService,U,!1),typeof U.theme=="string"&&this._standaloneThemeService.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!U.autoDetectHighContrast),super.updateOptions(U)}_postDetachModelCleanup(U){super._postDetachModelCleanup(U),U&&this._ownsModel&&(U.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=B,e.StandaloneEditor=B=ke([ge(2,i.IInstantiationService),ge(3,E.ICodeEditorService),ge(4,v.ICommandService),ge(5,o.IContextKeyService),ge(6,A.IHoverService),ge(7,n.IKeybindingService),ge(8,w.IStandaloneThemeService),ge(9,c.INotificationService),ge(10,s.IConfigurationService),ge(11,r.IAccessibilityService),ge(12,p.IModelService),ge(13,h.ILanguageService),ge(14,S.ILanguageConfigurationService),ge(15,_.ILanguageFeaturesService)],B);let H=class extends L.DiffEditorWidget{constructor(U,Y,Q,Z,G,F,J,te,de,he,pe,ue){const ie={...Y};(0,m.updateConfigurationService)(te,ie,!0);const se=F.registerEditorContainer(U);typeof ie.theme=="string"&&F.setTheme(ie.theme),typeof ie.autoDetectHighContrast<"u"&&F.setAutoDetectHighContrast(!!ie.autoDetectHighContrast),super(U,ie,{},Z,Q,G,ue,he),this._configurationService=te,this._standaloneThemeService=F,this._register(se)}dispose(){super.dispose()}updateOptions(U){(0,m.updateConfigurationService)(this._configurationService,U,!0),typeof U.theme=="string"&&this._standaloneThemeService.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!U.autoDetectHighContrast),super.updateOptions(U)}_createInnerEditor(U,Y,Q){return U.createInstance(O,Y,Q)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(U,Y,Q){return this.getModifiedEditor().addCommand(U,Y,Q)}createContextKey(U,Y){return this.getModifiedEditor().createContextKey(U,Y)}addAction(U){return this.getModifiedEditor().addAction(U)}};e.StandaloneDiffEditor2=H,e.StandaloneDiffEditor2=H=ke([ge(2,i.IInstantiationService),ge(3,o.IContextKeyService),ge(4,E.ICodeEditorService),ge(5,w.IStandaloneThemeService),ge(6,c.INotificationService),ge(7,s.IConfigurationService),ge(8,t.IContextMenuService),ge(9,d.IEditorProgressService),ge(10,l.IClipboardService),ge(11,D.IAccessibilitySignalService)],H);function K(j,U,Y,Q,Z){if(Y=Y||"",!Q){const G=Y.indexOf(`
`);let F=Y;return G!==-1&&(F=Y.substring(0,G)),V(j,Y,U.createByFilepathOrFirstLine(Z||null,F),Z)}return V(j,Y,U.createById(Q),Z)}function V(j,U,Y,Q){return j.createModel(U,Y,Q)}}),define(re[862],ae([1,0,52,2,11,22,370,15,35,699,37,165,261,197,27,42,34,79,175,41,51,249,675,861,293,150,29,24,12,31,107,62,808,331,551]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n,c,u,r,a,l,d,p,h,g,C,S,_,L,D,T,N,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDirtyDiff=M,e.create=P,e.onDidCreateEditor=x,e.onDidCreateDiffEditor=O,e.getEditors=B,e.getDiffEditors=H,e.createDiffEditor=K,e.createMultiFileDiffEditor=V,e.addCommand=j,e.addEditorAction=U,e.addKeybindingRule=Y,e.addKeybindingRules=Q,e.createModel=Z,e.setModelLanguage=G,e.setModelMarkers=F,e.removeAllMarkers=J,e.getModelMarkers=te,e.onDidChangeMarkers=de,e.getModel=he,e.getModels=pe,e.onDidCreateModel=ue,e.onWillDisposeModel=ie,e.onDidChangeModelLanguage=se,e.createWebWorker=ne,e.colorizeElement=W,e.colorize=q,e.colorizeModelLine=z,e.tokenize=X,e.defineTheme=ee,e.setTheme=oe,e.remeasureFonts=ce,e.registerCommand=fe,e.registerLinkOpener=ve,e.registerEditorOpener=_e,e.createMonacoEditorAPI=Ie;async function M(Ce,Ee,Le){const Te=he(I.URI.parse(Ce)),Ae=he(I.URI.parse(Ee));if(!Te||!Ae)return null;const Pe=Te.getLinesContent(),Re=Ae.getLinesContent();return new R.DiffComputer(Pe,Re,{shouldComputeCharChanges:!1,shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:Le,shouldMakePrettyDiff:!0,maxComputationTime:1e3}).computeDiff().changes}function P(Ce,Ee,Le){return g.StandaloneServices.initialize(Le||{}).createInstance(h.StandaloneEditor,Ce,Ee)}function x(Ce){return g.StandaloneServices.get(w.ICodeEditorService).onCodeEditorAdd(Le=>{Ce(Le)})}function O(Ce){return g.StandaloneServices.get(w.ICodeEditorService).onDiffEditorAdd(Le=>{Ce(Le)})}function B(){return g.StandaloneServices.get(w.ICodeEditorService).listCodeEditors()}function H(){return g.StandaloneServices.get(w.ICodeEditorService).listDiffEditors()}function K(Ce,Ee,Le){return g.StandaloneServices.initialize(Le||{}).createInstance(h.StandaloneDiffEditor2,Ce,Ee)}function V(Ce,Ee){const Le=g.StandaloneServices.initialize(Ee||{});return new A.MultiDiffEditorWidget(Ce,{},Le)}function j(Ce){if(typeof Ce.id!="string"||typeof Ce.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return _.CommandsRegistry.registerCommand(Ce.id,Ce.run)}function U(Ce){if(typeof Ce.id!="string"||typeof Ce.label!="string"||typeof Ce.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const Ee=L.ContextKeyExpr.deserialize(Ce.precondition),Le=(Ae,...Pe)=>m.EditorCommand.runEditorCommand(Ae,Pe,Ee,(Re,We,De)=>Promise.resolve(Ce.run(We,...De))),Te=new k.DisposableStore;if(Te.add(_.CommandsRegistry.registerCommand(Ce.id,Le)),Ce.contextMenuGroupId){const Ae={command:{id:Ce.id,title:Ce.label},when:Ee,group:Ce.contextMenuGroupId,order:Ce.contextMenuOrder||0};Te.add(S.MenuRegistry.appendMenuItem(S.MenuId.EditorContext,Ae))}if(Array.isArray(Ce.keybindings)){const Ae=g.StandaloneServices.get(D.IKeybindingService);if(!(Ae instanceof g.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Pe=L.ContextKeyExpr.and(Ee,L.ContextKeyExpr.deserialize(Ce.keybindingContext));Te.add(Ae.addDynamicKeybindings(Ce.keybindings.map(Re=>({keybinding:Re,command:Ce.id,when:Pe}))))}}return Te}function Y(Ce){return Q([Ce])}function Q(Ce){const Ee=g.StandaloneServices.get(D.IKeybindingService);return Ee instanceof g.StandaloneKeybindingService?Ee.addDynamicKeybindings(Ce.map(Le=>({keybinding:Le.keybinding,command:Le.command,commandArgs:Le.commandArgs,when:L.ContextKeyExpr.deserialize(Le.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None)}function Z(Ce,Ee,Le){const Te=g.StandaloneServices.get(n.ILanguageService),Ae=Te.getLanguageIdByMimeType(Ee)||Ee;return(0,h.createTextModel)(g.StandaloneServices.get(l.IModelService),Te,Ce,Ae,Le)}function G(Ce,Ee){const Le=g.StandaloneServices.get(n.ILanguageService),Te=Le.getLanguageIdByMimeType(Ee)||Ee||u.PLAINTEXT_LANGUAGE_ID;Ce.setLanguage(Le.createById(Te))}function F(Ce,Ee,Le){Ce&&g.StandaloneServices.get(T.IMarkerService).changeOne(Ee,Ce.uri,Le)}function J(Ce){g.StandaloneServices.get(T.IMarkerService).changeAll(Ce,[])}function te(Ce){return g.StandaloneServices.get(T.IMarkerService).read(Ce)}function de(Ce){return g.StandaloneServices.get(T.IMarkerService).onMarkerChanged(Ce)}function he(Ce){return g.StandaloneServices.get(l.IModelService).getModel(Ce)}function pe(){return g.StandaloneServices.get(l.IModelService).getModels()}function ue(Ce){return g.StandaloneServices.get(l.IModelService).onModelAdded(Ce)}function ie(Ce){return g.StandaloneServices.get(l.IModelService).onModelRemoved(Ce)}function se(Ce){return g.StandaloneServices.get(l.IModelService).onModelLanguageChanged(Le=>{Ce({model:Le.model,oldLanguage:Le.oldLanguageId})})}function ne(Ce){return(0,b.createWebWorker)(g.StandaloneServices.get(l.IModelService),g.StandaloneServices.get(c.ILanguageConfigurationService),Ce)}function W(Ce,Ee){const Le=g.StandaloneServices.get(n.ILanguageService),Te=g.StandaloneServices.get(C.IStandaloneThemeService);return p.Colorizer.colorizeElement(Te,Le,Ce,Ee).then(()=>{Te.registerEditorContainer(Ce)})}function q(Ce,Ee,Le){const Te=g.StandaloneServices.get(n.ILanguageService);return g.StandaloneServices.get(C.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),p.Colorizer.colorize(Te,Ce,Ee,Le)}function z(Ce,Ee,Le=4){return g.StandaloneServices.get(C.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),p.Colorizer.colorizeModelLine(Ce,Ee,Le)}function $(Ce){const Ee=i.TokenizationRegistry.get(Ce);return Ee||{getInitialState:()=>r.NullState,tokenize:(Le,Te,Ae)=>(0,r.nullTokenize)(Ce,Ae)}}function X(Ce,Ee){i.TokenizationRegistry.getOrCreate(Ee);const Le=$(Ee),Te=(0,E.splitLines)(Ce),Ae=[];let Pe=Le.getInitialState();for(let Re=0,We=Te.length;Re<We;Re++){const De=Te[Re],Ne=Le.tokenize(De,!0,Pe);Ae[Re]=Ne.tokens,Pe=Ne.endState}return Ae}function ee(Ce,Ee){g.StandaloneServices.get(C.IStandaloneThemeService).defineTheme(Ce,Ee)}function oe(Ce){g.StandaloneServices.get(C.IStandaloneThemeService).setTheme(Ce)}function ce(){y.FontMeasurements.clearAllFontInfos()}function fe(Ce,Ee){return _.CommandsRegistry.registerCommand({id:Ce,handler:Ee})}function ve(Ce){return g.StandaloneServices.get(N.IOpenerService).registerOpener({async open(Le){return typeof Le=="string"&&(Le=I.URI.parse(Le)),Ce.open(Le)}})}function _e(Ce){return g.StandaloneServices.get(w.ICodeEditorService).registerCodeEditorOpenHandler(async(Le,Te,Ae)=>{var Pe;if(!Te)return null;const Re=(Pe=Le.options)===null||Pe===void 0?void 0:Pe.selection;let We;return Re&&typeof Re.endLineNumber=="number"&&typeof Re.endColumn=="number"?We=Re:Re&&(We={lineNumber:Re.startLineNumber,column:Re.startColumn}),await Ce.openCodeEditor(Te,Le.resource,We)?Te:null})}function Ie(){return{computeDirtyDiff:M,create:P,getEditors:B,getDiffEditors:H,onDidCreateEditor:x,onDidCreateDiffEditor:O,createDiffEditor:K,addCommand:j,addEditorAction:U,addKeybindingRule:Y,addKeybindingRules:Q,createModel:Z,setModelLanguage:G,setModelMarkers:F,getModelMarkers:te,removeAllMarkers:J,onDidChangeMarkers:de,getModels:pe,getModel:he,onDidCreateModel:ue,onWillDisposeModel:ie,onDidChangeModelLanguage:se,createWebWorker:ne,colorizeElement:W,colorize:q,colorizeModelLine:z,tokenize:X,defineTheme:ee,setTheme:oe,remeasureFonts:ce,registerCommand:fe,registerLinkOpener:ve,registerEditorOpener:_e,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MinimapSectionHeaderStyle:d.MinimapSectionHeaderStyle,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,GlyphMarginLane:d.GlyphMarginLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,InjectedTextCursorStops:d.InjectedTextCursorStops,PositionAffinity:d.PositionAffinity,ShowLightbulbIconMode:d.ShowLightbulbIconMode,ConfigurationChangedEvent:v.ConfigurationChangedEvent,BareFontInfo:o.BareFontInfo,FontInfo:o.FontInfo,TextModelResolvedOptions:a.TextModelResolvedOptions,FindMatch:a.FindMatch,ApplyUpdateResult:v.ApplyUpdateResult,EditorZoom:s.EditorZoom,createMultiFileDiffEditor:V,EditorType:t.EditorType,EditorOptions:v.EditorOptions}}}),define(re[863],ae([1,0,33,5,27,42,34,79,17,249,293,647,383,150,28,107]),function(le,e,f,k,E,I,y,m,w,b,v,s,o,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=void 0,e.register=c,e.getLanguages=u,e.getEncodedLanguageId=r,e.onLanguage=a,e.onLanguageEncountered=l,e.setLanguageConfiguration=d,e.setColorMap=_,e.registerTokensProviderFactory=D,e.setTokensProvider=T,e.setMonarchTokensProvider=N,e.registerReferenceProvider=A,e.registerRenameProvider=R,e.registerNewSymbolNameProvider=M,e.registerSignatureHelpProvider=P,e.registerHoverProvider=x,e.registerDocumentSymbolProvider=O,e.registerDocumentHighlightProvider=B,e.registerLinkedEditingRangeProvider=H,e.registerDefinitionProvider=K,e.registerImplementationProvider=V,e.registerTypeDefinitionProvider=j,e.registerCodeLensProvider=U,e.registerCodeActionProvider=Y,e.registerDocumentFormattingEditProvider=Q,e.registerDocumentRangeFormattingEditProvider=Z,e.registerOnTypeFormattingEditProvider=G,e.registerLinkProvider=F,e.registerCompletionItemProvider=J,e.registerColorProvider=te,e.registerFoldingRangeProvider=de,e.registerDeclarationProvider=he,e.registerSelectionRangeProvider=pe,e.registerDocumentSemanticTokensProvider=ue,e.registerDocumentRangeSemanticTokensProvider=ie,e.registerInlineCompletionsProvider=se,e.registerInlineEditProvider=ne,e.registerInlayHintsProvider=W,e.createMonacoLanguagesAPI=q;function c(z){m.ModesRegistry.registerLanguage(z)}function u(){let z=[];return z=z.concat(m.ModesRegistry.getLanguages()),z}function r(z){return v.StandaloneServices.get(I.ILanguageService).languageIdCodec.encodeLanguageId(z)}function a(z,$){return v.StandaloneServices.withServices(()=>{const ee=v.StandaloneServices.get(I.ILanguageService).onDidRequestRichLanguageFeatures(oe=>{oe===z&&(ee.dispose(),$())});return ee})}function l(z,$){return v.StandaloneServices.withServices(()=>{const ee=v.StandaloneServices.get(I.ILanguageService).onDidRequestBasicLanguageFeatures(oe=>{oe===z&&(ee.dispose(),$())});return ee})}function d(z,$){if(!v.StandaloneServices.get(I.ILanguageService).isRegisteredLanguageId(z))throw new Error(`Cannot set configuration for unknown language ${z}`);return v.StandaloneServices.get(y.ILanguageConfigurationService).register(z,$,100)}class p{constructor($,X){this._languageId=$,this._actual=X}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize($,X,ee){if(typeof this._actual.tokenize=="function")return h.adaptTokenize(this._languageId,this._actual,$,ee);throw new Error("Not supported!")}tokenizeEncoded($,X,ee){const oe=this._actual.tokenizeEncoded($,ee);return new E.EncodedTokenizationResult(oe.tokens,oe.endState)}}e.EncodedTokenizationSupportAdapter=p;class h{constructor($,X,ee,oe){this._languageId=$,this._actual=X,this._languageService=ee,this._standaloneThemeService=oe}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens($,X){const ee=[];let oe=0;for(let ce=0,fe=$.length;ce<fe;ce++){const ve=$[ce];let _e=ve.startIndex;ce===0?_e=0:_e<oe&&(_e=oe),ee[ce]=new E.Token(_e,ve.scopes,X),oe=_e}return ee}static adaptTokenize($,X,ee,oe){const ce=X.tokenize(ee,oe),fe=h._toClassicTokens(ce.tokens,$);let ve;return ce.endState.equals(oe)?ve=oe:ve=ce.endState,new E.TokenizationResult(fe,ve)}tokenize($,X,ee){return h.adaptTokenize(this._languageId,this._actual,$,ee)}_toBinaryTokens($,X){const ee=$.encodeLanguageId(this._languageId),oe=this._standaloneThemeService.getColorTheme().tokenTheme,ce=[];let fe=0,ve=0;for(let Ie=0,Ce=X.length;Ie<Ce;Ie++){const Ee=X[Ie],Le=oe.match(ee,Ee.scopes)|1024;if(fe>0&&ce[fe-1]===Le)continue;let Te=Ee.startIndex;Ie===0?Te=0:Te<ve&&(Te=ve),ce[fe++]=Te,ce[fe++]=Le,ve=Te}const _e=new Uint32Array(fe);for(let Ie=0;Ie<fe;Ie++)_e[Ie]=ce[Ie];return _e}tokenizeEncoded($,X,ee){const oe=this._actual.tokenize($,ee),ce=this._toBinaryTokens(this._languageService.languageIdCodec,oe.tokens);let fe;return oe.endState.equals(ee)?fe=ee:fe=oe.endState,new E.EncodedTokenizationResult(ce,fe)}}e.TokenizationSupportAdapter=h;function g(z){return typeof z.getInitialState=="function"}function C(z){return"tokenizeEncoded"in z}function S(z){return z&&typeof z.then=="function"}function _(z){const $=v.StandaloneServices.get(t.IStandaloneThemeService);if(z){const X=[null];for(let ee=1,oe=z.length;ee<oe;ee++)X[ee]=f.Color.fromHex(z[ee]);$.setColorMapOverride(X)}else $.setColorMapOverride(null)}function L(z,$){return C($)?new p(z,$):new h(z,$,v.StandaloneServices.get(I.ILanguageService),v.StandaloneServices.get(t.IStandaloneThemeService))}function D(z,$){const X=new E.LazyTokenizationSupport(async()=>{const ee=await Promise.resolve($.create());return ee?g(ee)?L(z,ee):new o.MonarchTokenizer(v.StandaloneServices.get(I.ILanguageService),v.StandaloneServices.get(t.IStandaloneThemeService),z,(0,s.compile)(z,ee),v.StandaloneServices.get(i.IConfigurationService)):null});return E.TokenizationRegistry.registerFactory(z,X)}function T(z,$){if(!v.StandaloneServices.get(I.ILanguageService).isRegisteredLanguageId(z))throw new Error(`Cannot set tokens provider for unknown language ${z}`);return S($)?D(z,{create:()=>$}):E.TokenizationRegistry.register(z,L(z,$))}function N(z,$){const X=ee=>new o.MonarchTokenizer(v.StandaloneServices.get(I.ILanguageService),v.StandaloneServices.get(t.IStandaloneThemeService),z,(0,s.compile)(z,ee),v.StandaloneServices.get(i.IConfigurationService));return S($)?D(z,{create:()=>$}):E.TokenizationRegistry.register(z,X($))}function A(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).referenceProvider.register(z,$)}function R(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).renameProvider.register(z,$)}function M(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).newSymbolNamesProvider.register(z,$)}function P(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).signatureHelpProvider.register(z,$)}function x(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).hoverProvider.register(z,{provideHover:async(ee,oe,ce,fe)=>{const ve=ee.getWordAtPosition(oe);return Promise.resolve($.provideHover(ee,oe,ce,fe)).then(_e=>{if(_e)return!_e.range&&ve&&(_e.range=new k.Range(oe.lineNumber,ve.startColumn,oe.lineNumber,ve.endColumn)),_e.range||(_e.range=new k.Range(oe.lineNumber,oe.column,oe.lineNumber,oe.column)),_e})}})}function O(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).documentSymbolProvider.register(z,$)}function B(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).documentHighlightProvider.register(z,$)}function H(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).linkedEditingRangeProvider.register(z,$)}function K(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).definitionProvider.register(z,$)}function V(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).implementationProvider.register(z,$)}function j(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).typeDefinitionProvider.register(z,$)}function U(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).codeLensProvider.register(z,$)}function Y(z,$,X){return v.StandaloneServices.get(w.ILanguageFeaturesService).codeActionProvider.register(z,{providedCodeActionKinds:X?.providedCodeActionKinds,documentation:X?.documentation,provideCodeActions:(oe,ce,fe,ve)=>{const Ie=v.StandaloneServices.get(n.IMarkerService).read({resource:oe.uri}).filter(Ce=>k.Range.areIntersectingOrTouching(Ce,ce));return $.provideCodeActions(oe,ce,{markers:Ie,only:fe.only,trigger:fe.trigger},ve)},resolveCodeAction:$.resolveCodeAction})}function Q(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).documentFormattingEditProvider.register(z,$)}function Z(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(z,$)}function G(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).onTypeFormattingEditProvider.register(z,$)}function F(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).linkProvider.register(z,$)}function J(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).completionProvider.register(z,$)}function te(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).colorProvider.register(z,$)}function de(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).foldingRangeProvider.register(z,$)}function he(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).declarationProvider.register(z,$)}function pe(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).selectionRangeProvider.register(z,$)}function ue(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).documentSemanticTokensProvider.register(z,$)}function ie(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(z,$)}function se(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).inlineCompletionsProvider.register(z,$)}function ne(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).inlineEditProvider.register(z,$)}function W(z,$){return v.StandaloneServices.get(w.ILanguageFeaturesService).inlayHintsProvider.register(z,$)}function q(){return{register:c,getLanguages:u,onLanguage:a,onLanguageEncountered:l,getEncodedLanguageId:r,setLanguageConfiguration:d,setColorMap:_,registerTokensProviderFactory:D,setTokensProvider:T,setMonarchTokensProvider:N,registerReferenceProvider:A,registerRenameProvider:R,registerNewSymbolNameProvider:M,registerCompletionItemProvider:J,registerSignatureHelpProvider:P,registerHoverProvider:x,registerDocumentSymbolProvider:O,registerDocumentHighlightProvider:B,registerLinkedEditingRangeProvider:H,registerDefinitionProvider:K,registerImplementationProvider:V,registerTypeDefinitionProvider:j,registerCodeLensProvider:U,registerCodeActionProvider:Y,registerDocumentFormattingEditProvider:Q,registerDocumentRangeFormattingEditProvider:Z,registerOnTypeFormattingEditProvider:G,registerLinkProvider:F,registerColorProvider:te,registerFoldingRangeProvider:de,registerDeclarationProvider:he,registerSelectionRangeProvider:pe,registerDocumentSemanticTokensProvider:ue,registerDocumentRangeSemanticTokensProvider:ie,registerInlineCompletionsProvider:se,registerInlineEditProvider:ne,registerInlayHintsProvider:W,DocumentHighlightKind:b.DocumentHighlightKind,CompletionItemKind:b.CompletionItemKind,CompletionItemTag:b.CompletionItemTag,CompletionItemInsertTextRule:b.CompletionItemInsertTextRule,SymbolKind:b.SymbolKind,SymbolTag:b.SymbolTag,IndentAction:b.IndentAction,CompletionTriggerKind:b.CompletionTriggerKind,SignatureHelpTriggerKind:b.SignatureHelpTriggerKind,InlayHintKind:b.InlayHintKind,InlineCompletionTriggerKind:b.InlineCompletionTriggerKind,InlineEditTriggerKind:b.InlineEditTriggerKind,CodeActionTriggerType:b.CodeActionTriggerType,NewSymbolNameTag:b.NewSymbolNameTag,NewSymbolNameTriggerKind:b.NewSymbolNameTriggerKind,PartialAcceptTriggerKind:b.PartialAcceptTriggerKind,HoverVerbosityAction:b.HoverVerbosityAction,FoldingRangeKind:E.FoldingRangeKind,SelectedSuggestionInfo:E.SelectedSuggestionInfo}}}),define(re[864],ae([1,0,37,373,862,863,407]),function(le,e,f,k,E,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,f.EditorOptions.wrappingIndent.defaultValue=0,f.EditorOptions.glyphMargin.defaultValue=!1,f.EditorOptions.autoIndent.defaultValue=3,f.EditorOptions.overviewRulerLanes.defaultValue=2,y.FormattingConflicts.setFormatterSelector((b,v,s)=>Promise.resolve(b[0]));const m=(0,k.createMonacoBaseAPI)();m.editor=(0,E.createMonacoEditorAPI)(),m.languages=(0,I.createMonacoLanguagesAPI)(),e.CancellationTokenSource=m.CancellationTokenSource,e.Emitter=m.Emitter,e.KeyCode=m.KeyCode,e.KeyMod=m.KeyMod,e.Position=m.Position,e.Range=m.Range,e.Selection=m.Selection,e.SelectionDirection=m.SelectionDirection,e.MarkerSeverity=m.MarkerSeverity,e.MarkerTag=m.MarkerTag,e.Uri=m.Uri,e.Token=m.Token,e.editor=m.editor,e.languages=m.languages;const w=globalThis.MonacoEnvironment;(w?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=m),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Ct=this&&this.__exportStar||function(le,e){for(var f in le)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Qt(e,le,f)};define(re[866],ae([1,0,864,860,738,739,713,786,787,742,844,789]),function(le,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(f,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(596bd541599cd083b7d07625521a36aaab18e7c8)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,s)=>(typeof require<"u"?require:r)[s]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var l=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(l(e,r,"default"),s&&l(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},l(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},m={},u=class e{static getOrCreate(r){return m[r]||(m[r]=new e(r)),m[r]}constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=u.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[".csp"],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typespec/typespec"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(596bd541599cd083b7d07625521a36aaab18e7c8)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{constructor(n,r,a){this._onDidChange=new o.Emitter;this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(596bd541599cd083b7d07625521a36aaab18e7c8)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{constructor(n,t,r){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(596bd541599cd083b7d07625521a36aaab18e7c8)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var f=Object.create;var s=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var d=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var v=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),x=(e,n)=>{for(var o in n)s(e,o,{get:n[o],enumerable:!0})},i=(e,n,o,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of N(n))!O.call(e,r)&&r!==o&&s(e,r,{get:()=>n[r],enumerable:!(a=h(n,r))||a.enumerable});return e},g=(e,n,o)=>(i(e,n,"default"),o&&i(o,n,"default")),c=(e,n,o)=>(o=e!=null?f(b(e)):{},i(n||!e||!e.__esModule?s(o,"default",{value:e,enumerable:!0}):o,e)),A=e=>i(s({},"__esModule",{value:!0}),e);var S=v((R,u)=>{var T=c(d("vs/editor/editor.api"));u.exports=T});var M={};x(M,{getWorker:()=>p,jsonDefaults:()=>m});var t={};g(t,c(S()));var l=class{constructor(n,o,a){this._onDidChange=new t.Emitter;this._languageId=n,this.setDiagnosticsOptions(o),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},D={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},C={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},m=new l("json",D,C),p=()=>y().then(e=>e.getWorker());t.languages.json={jsonDefaults:m,getWorker:p};function y(){return new Promise((e,n)=>{d(["vs/language/json/jsonMode"],e,n)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{y().then(e=>e.setupMode(m))});return A(M);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(596bd541599cd083b7d07625521a36aaab18e7c8)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var N=Object.create;var m=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)m(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&m(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},v=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?m(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(m({},"__esModule",{value:!0}),n);var _=w((B,L)=>{var V=C(c("vs/editor/editor.api"));L.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>D,typescriptDefaults:()=>x,typescriptVersion:()=>I});var E="5.4.5";var l={};v(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),d=class{constructor(e,t,i,r,p){this._onDidChange=new l.Emitter;this._onDidExtraLibsChange=new l.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];p&&p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=E,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new d({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),D=new d({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:D,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(D)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map